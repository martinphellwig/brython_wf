<html>
<head>
<title>Brython</title>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<link rel="stylesheet" href="../../brython.css">
<script src="/src/brython.js"></script>
</head>
<body onload="brython()">

<a name="intro">El objetivo de Brython es reemplazar Javascript con Python como lenguaje de scripting en los navegadores.
<p>Un ejemplo simple :
<table>
<tr>
<td>
<pre style="border-style:solid;border-width:1;margin:10px;padding:5px;">&lt;html&gt;
&lt;head&gt;
<span style="color:blue">&lt;script src="/brython.js"&gt;&lt;/script&gt;</span>
&lt;/head&gt;
&lt;body <span style="color:blue">onload="brython()"</span>&gt;
&lt;script <span style="color:blue">type="text/python"</span>&gt;
def echo():
    alert(doc["zone"].value)
&lt;/script&gt;
&lt;input id="zone"&gt;&lt;button onclick="echo()"&gt;click !&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</td>
<td>
Try it!<p>
<script type="text/python">
def echo():
    alert(doc["zone"].value)
</script>

<input id="zone"><button onclick="echo()">click !</button>
</td>
</tr>
</table>

<p>Para que el script Python se pueda procesar es necesario incluir <em>brython.js</em> y ejecutar la funci&oacute;n <code>brython()</code> al cargarse la p&aacute;gina (usando el atributo <tt>onload</tt> de la etiqueta &lt;BODY&gt;). Mientras nos encontremos en la fase de desarrollo, es posible pasar un argumento a la funci&oacute;n brython() : 1 para que los mensajes de error se muestren en la consola del navegador, 2 para, adem&aacute;s, mostrar el c&oacute;digo Javascript junto con el error
<p>Si el programa Python es extenso, otra opci&oacute;n ser&iacute;a escribirlo en un fichero separado y cargarlo usando el atributo <tt>src</tt> de la etiqueta <tt>script</tt> :

<p><table><tr><td>
<pre style="border-style:solid;border-width:1;margin:10px;padding:5px;">&lt;html&gt;
&lt;head&gt;
<span style="color:blue">&lt;script src="/brython.js"&gt;&lt;/script&gt;</span>
&lt;/head&gt;
&lt;body <span style="color:blue">onload="brython()"</span>&gt;
<span style="color:blue">&lt;script type="text/python" <b>src="test.py"</b>&gt;&lt;/script&gt;</span>
&lt;input id="zone"&gt;&lt;button onclick="echo()"&gt;clic !&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

</td></tr></table>

<p>Hay que resaltar que, en este caso, el script Python ser&aacute; cargado mediante una llamada Ajax : deber&aacute;, por tanto, estar localizado en el mismo dominio que la p&aacute;gina HTML.

<p>En los dos ejemplos de c&oacute;digo anteriores, cuando pulsamos el bot&oacute;n del rat&oacute;n, el evento onclick llama y ejecuta la funci&oacute;n <code>echo()</code>, definida en el script Python. Esta funci&oacute;n obtiene el valor mediante el elemento INPUT, a trav&eacute;s de su id (<tt>zone</tt>). Esto se consigue mediante la sintaxis <code>doc["zone"]</code> : <code>doc</code> es una keyword en Brython, que se comporta como un diccionario cuyas claves son los ids de los elementos del DOM. Por tanto, en nuestro ejemplo, <code>doc["zone"]</code> es un objeto que 'mapea' el elemento INPUT ; la propiedad <tt>value</tt> contiene el valor del objeto.
<p>En Brython, el 'output' se puede obtener de varias formas, incluyendo la funci&oacute;n integrada <code>alert()</code> que muestra una ventana ('popup window') con el texto que hemos pasado como argumento.

</body>
</html>
