<!DOCTYPE html>
<html>
<head>
<title>Example getIntersectionList</title>
<meta charset="iso-8859-1">
<script src="../../src/brython.js"></script>
<script src="../../src/py_dom.js"></script>
<script src="../../src/py_utils.js"></script>
</head>
<body onLoad="brython(1)">
<script type="text/python">
def show_inter(ev):
  rpos = root.createSVGRect()
  rpos.x = ev.x
  rpos.y = ev.y
  rpos.width = rpos.height = 1
  inter = root.getIntersectionList(rpos, null)
  if inter:
      print('intersection : %s' %','.join([elt.nodeName for elt in inter]))
 
root = doc['root']
doc.onmousemove = show_inter
</script>

<script>
function getIntersectedElements(evt)
{
  var rpos = svgroot.createSVGRect();
  rpos.x = evt.clientX;
  rpos.y = evt.clientY;
  rpos.width = rpos.height = 1;
  var inter = root.getIntersectionList(rpos, null)
  for(var i=0;i<inter.length;i++){console.log(inter[i])}
}
function show(){
    root = document.getElementById('root')
    alert(root)
    rr1 = document.getElementById('reference_rect')
    alert(rr1)
    rr = root.createSVGRect()
    rr.x = 0
    rr.y = 5
    rr.width = 300
    rr.height = 200
    alert(rr1.getBBox().x)
    intlist = root.getIntersectionList(rr,null)
    alert(int_list.length)
}
function init(){
    svgroot = document.getElementById('root')
    alert(svgroot)
    document.addEventListener('mousemove',getIntersectedElements,false)
}
</script>
<svg id="root"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200" style="background-color: lightgray;">
<rect id="reference_rect" x="50" y="50" width="100" height="100" stroke="black" stroke_witdh="1" fill="none"/>
<line x1="10", y1="80", x2="80", y2="10", stroke="black", stroke_width="1"/>
<line x1="30", y1="100", x2="100", y2="30", stroke="black", stroke_width="1"/>
<line x1="65", y1="135", x2="135", y2="65", stroke="black", stroke_width="1"/>
<line x1="100", y1="170", x2="170", y2="100", stroke="black", stroke_width="1"/>
<line x1="120", y1="190", x2="190", y2="120", stroke="black", stroke_width="1"/>
</svg>
<br>
<input type="button" value="Color Intersected Lines" onclick="color_intersected_lines()"/>
<input type="button" value="Color Intersected Lines - js" onclick="init()"/>
</body>
</html>