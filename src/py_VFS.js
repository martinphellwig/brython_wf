__BRYTHON__.$py_VFS={
'/libs/svg.js':'JG1vZHVsZT0oZnVuY3Rpb24oKXskc3ZnTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjskeGxpbmtOUz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI7ZnVuY3Rpb24gJFNWR1RhZyh0YWdfbmFtZSxhcmdzKXt2YXIgJGk9bnVsbDt2YXIgJG9iaj10aGlzO2VsdD0kRE9NTm9kZShkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJHN2Z05TLHRhZ19uYW1lKSk7aWYoYXJncyE9dW5kZWZpbmVkJiZhcmdzLmxlbmd0aD4wKXskc3RhcnQ9MDskZmlyc3Q9YXJnc1swXTtpZighaXNpbnN0YW5jZSgkZmlyc3QsJEt3KSl7JHN0YXJ0PTE7aWYoaXNpbnN0YW5jZSgkZmlyc3QsW3N0cixpbnQsZmxvYXRdKSl7dHh0PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cigkZmlyc3QpKTtlbHQuYXBwZW5kQ2hpbGQodHh0KTt9ZWxzZSBpZihpc2luc3RhbmNlKCRmaXJzdCwkQWJzdHJhY3RUYWcpKWZvcigkaT0wOyRpPCRmaXJzdC5jaGlsZHJlbi5sZW5ndGg7JGkrKyllbHQuYXBwZW5kQ2hpbGQoJGZpcnN0LmNoaWxkcmVuWyRpXSk7ZWxzZSB0cnl7ZWx0LmFwcGVuZENoaWxkKCRmaXJzdCk7fWNhdGNoKGVycil7JHJhaXNlKCdWYWx1ZUVycm9yJywnd3JvbmcgZWxlbWVudCAnKyRmaXJzdCk7fX1mb3IoJGk9JHN0YXJ0OyRpPGFyZ3MubGVuZ3RoOyRpKyspeyRhcmc9YXJnc1skaV07aWYoaXNpbnN0YW5jZSgkYXJnLCRLdykpaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkuc3Vic3RyKDAsMik9PSJvbiIpZXZhbCgnZWx0LicrJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkrJz1mdW5jdGlvbigpeycrJGFyZy52YWx1ZSsnfScpO2Vsc2UgaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCk9PSJzdHlsZSIpZWx0LnNldF9zdHlsZSgkYXJnLnZhbHVlKTtlbHNlIGlmKCRhcmcubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImhyZWYiKSE9PS0xKWVsdC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsImhyZWYiLCRhcmcudmFsdWUpO2Vsc2UgaWYoJGFyZy52YWx1ZSE9PWZhbHNlKWVsdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCRhcmcubmFtZS5yZXBsYWNlKCdfJywnLScpLCRhcmcudmFsdWUpO319cmV0dXJuIGVsdDt9dmFyICRzdmdfdGFncz1bJ2EnLCdhbHRHbHlwaCcsJ2FsdEdseXBoRGVmJywnYWx0R2x5cGhJdGVtJywnYW5pbWF0ZScsJ2FuaW1hdGVDb2xvcicsJ2FuaW1hdGVNb3Rpb24nLCdhbmltYXRlVHJhbnNmb3JtJywnY2lyY2xlJywnY2xpcFBhdGgnLCdjb2xvcl9wcm9maWxlJywnY3Vyc29yJywnZGVmcycsJ2Rlc2MnLCdlbGxpcHNlJywnZmVCbGVuZCcsJ2cnLCdpbWFnZScsJ2xpbmUnLCdsaW5lYXJHcmFkaWVudCcsJ21hcmtlcicsJ21hc2snLCdwYXRoJywncGF0dGVybicsJ3BvbHlnb24nLCdwb2x5bGluZScsJ3JhZGlhbEdyYWRpZW50JywncmVjdCcsJ3N0b3AnLCdzdmcnLCd0ZXh0JywndHJlZicsJ3RzcGFuJywndXNlJ107JHN2Zz1mdW5jdGlvbigpe3JldHVybiAkU1ZHVGFnKCdYJyxhcmd1bWVudHMpO307JHN2Zys9Jyc7dmFyIG9iaj1uZXcgT2JqZWN0KCk7Zm9yKHZhciBpPTA7aTwkc3ZnX3RhZ3MubGVuZ3RoO2krKyl7dmFyIHRhZz0kc3ZnX3RhZ3NbaV07ZXZhbCgnb2JqLicrdGFnKyc9Jyskc3ZnLnJlcGxhY2UoJ1gnLHRhZykpO31vYmouX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fTtyZXR1cm4gb2JqO30pKCk7',
'/libs/json.js':'ZnVuY3Rpb24gX3B5KG9iail7aWYob2JqPT09bnVsbClyZXR1cm4gTm9uZTtpZihpc2luc3RhbmNlKG9iaixsaXN0KSl7dmFyIHJlcz1bXTtmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKXJlcy5wdXNoKF9weShvYmpbaV0pKTtyZXR1cm4gcmVzO31pZihvYmouX19jbGFzc19fIT09dW5kZWZpbmVkKXtpZihvYmouX19jbGFzc19fPT09bGlzdClmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKW9ialtpXT1fcHkob2JqW2ldKTtyZXR1cm4gb2JqO31pZih0eXBlb2Ygb2JqPT09J29iamVjdCcmJm9iai5fX2NsYXNzX189PT11bmRlZmluZWQpe3ZhciByZXM9ZGljdCgpO2Zvcih2YXIgYXR0ciBpbiBvYmopcmVzLl9fc2V0aXRlbV9fKGF0dHIsX3B5KG9ialthdHRyXSkpO3JldHVybiByZXM7fXJldHVybiBKU09iamVjdChvYmopO31mdW5jdGlvbiBfanMob2JqKXtpZihpc2luc3RhbmNlKG9iaixbaW50LHN0cl0pKXJldHVybiBvYmo7ZWxzZSBpZihvYmo9PT1Ob25lKXJldHVybiBudWxsO2Vsc2UgaWYob2JqPT09VHJ1ZSlyZXR1cm4gdHJ1ZTtlbHNlIGlmKG9iaj09PUZhbHNlKXJldHVybiBmYWxzZTtlbHNlIGlmKGlzaW5zdGFuY2Uob2JqLGZsb2F0KSlyZXR1cm4gb2JqLnZhbHVlO2Vsc2UgaWYoaXNpbnN0YW5jZShvYmosW2xpc3QsdHVwbGVdKSl7dmFyIHJlcz1bXTtmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKXJlcy5wdXNoKF9qcyhvYmpbaV0pKTtyZXR1cm4gcmVzO31lbHNlIGlmKGlzaW5zdGFuY2Uob2JqLGRpY3QpKXt2YXIgcmVzPW5ldyBPYmplY3QoKTtmb3IodmFyIGk9MDtpPG9iai4ka2V5cy5sZW5ndGg7aSsrKXJlc1tvYmouJGtleXNbaV1dPW9iai4kdmFsdWVzW2ldO3JldHVybiByZXM7fWVsc2UgdGhyb3cgVHlwZUVycm9yKHN0cihvYmopKycgaXMgbm90IEpTT04gc2VyaWFsaXphYmxlJyk7fSRtb2R1bGU9e19fZ2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO30sbG9hZHM6ZnVuY3Rpb24oanNvbl9vYmope3JldHVybiBfcHkoSlNPTi5wYXJzZShqc29uX29iaikpO30sZHVtcHM6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoX2pzKG9iaikpO319Ow==',
'/libs/time.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxjbGVhcl9pbnRlcnZhbDpmdW5jdGlvbihpbnRfaWQpe3dpbmRvdy5jbGVhckludGVydmFsKGludF9pZCk7fSxjdGltZTpmdW5jdGlvbih0aW1lc3RhbXApe2lmKHRpbWVzdGFtcD09PXVuZGVmaW5lZCl0aW1lc3RhbXA9aW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApO3ZhciBkPW5ldyBEYXRlKDApO2Quc2V0VVRDU2Vjb25kcyh0aW1lc3RhbXApO3JldHVybiBkLnRvVVRDU3RyaW5nKCk7fSxwZXJmX2NvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZmxvYXQobmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMC4wKTt9LHNldF9pbnRlcnZhbDpmdW5jdGlvbihmdW5jLGludGVydmFsKXtyZXR1cm4gaW50KHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jLGludGVydmFsKSk7fSxzZXRfdGltZW91dDpmdW5jdGlvbihmdW5jLGludGVydmFsKXt3aW5kb3cuc2V0VGltZW91dChmdW5jLGludGVydmFsKTt9LGxvY2FsdGltZTpmdW5jdGlvbihzZWNzKXt2YXIgZD1uZXcgRGF0ZSgpO2lmKHNlY3M9PT11bmRlZmluZWR8fHNlY3M9PT1Ob25lKXJldHVybiBkLmdldFRpbWUoKTt2YXIgamFuPW5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwwLDEpO3ZhciBqdWw9bmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLDYsMSk7dmFyIGRzdD1pbnQoZC5nZXRUaW1lem9uZU9mZnNldCgpPE1hdGgubWF4KGphbi5nZXRUaW1lem9uZU9mZnNldCgpLGp1bC5nZXRUaW1lem9uZU9mZnNldCgpKSk7cmV0dXJuIGxpc3QoW2QuZ2V0RnVsbFllYXIoKSxkLmdldE1vbnRoKCkrMSxkLmdldERhdGUoKSxkLmdldEhvdXJzKCksZC5nZXRNaW51dGVzKCksZC5nZXRTZWNvbmRzKCksZC5nZXREYXkoKSwwLGRzdF0pO30sdGltZTpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSgpLmdldFRpbWUoKSkvMTAwMDt9LHN0cmZ0aW1lOmZ1bmN0aW9uKGZvcm1hdCxhcmcpe2Z1bmN0aW9uIG5zKGFyZyxuYil7dmFyIHJlcz1hcmcudG9TdHJpbmcoKTt3aGlsZShyZXMubGVuZ3RoPG5iKXJlcz0nMCcrcmVzO3JldHVybiByZXM7fWlmKGFyZyl2YXIgb2JqPW5ldyBEYXRlKGFyZ1swXSxhcmdbMV0tMSxhcmdbMl0sYXJnWzNdLGFyZ1s0XSxhcmdbNV0sYXJnWzZdKTtlbHNlIHZhciBvYmo9bmV3IERhdGUoKTt2YXIgYWJiX3dlZWtkYXlzPVsnU3UnLCdNbycsJ1R1JywnV2UnLCdUaCcsJ0ZyJywnU2EnXTt2YXIgZnVsbF93ZWVrZGF5cz1bJ1N1bmRheScsJ01vbmRheScsJ1R1ZXNkYXknLCdXZWRuZXNkYXknLCdUaHVyc2RheScsJ0ZyaWRheScsJ1NhdHVyZGF5J107dmFyIGFiYl9tb250aHM9WydKYW4nLCdGZWInLCdNYXInLCdBcHInLCdNYXknLCdKdW4nLCdKdWwnLCdBdWcnLCdTZXAnLCdPY3QnLCdOb3YnLCdEZWMnXTt2YXIgZnVsbF9tb250aHM9WydKYW51YXJ5JywnRmVicnVhcnknLCdNYXJjaCcsJ0FwcmlsJywnTWF5JywnSnVuZScsJ0p1bHknLCdBdWd1c3QnLCdTZXB0ZW1iZXInLCdPY3RvYmVyJywnTm92ZW1iZXInLCdEZWNlbWJlciddO3ZhciByZXM9Zm9ybWF0O3Jlcz1yZXMucmVwbGFjZSgvJUgvLG5zKG9iai5nZXRIb3VycygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVNLyxucyhvYmouZ2V0TWludXRlcygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVTLyxucyhvYmouZ2V0U2Vjb25kcygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVZLyxucyhvYmouZ2V0RnVsbFllYXIoKSw0KSk7cmVzPXJlcy5yZXBsYWNlKC8leS8sbnMob2JqLmdldEZ1bGxZZWFyKCksNCkuc3Vic3RyKDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVtLyxucyhvYmouZ2V0TW9udGgoKSsxLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVkLyxucyhvYmouZ2V0RGF0ZSgpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVhLyxhYmJfd2Vla2RheXNbb2JqLmdldERheSgpXSk7cmVzPXJlcy5yZXBsYWNlKC8lQS8sZnVsbF93ZWVrZGF5c1tvYmouZ2V0RGF5KCldKTtyZXM9cmVzLnJlcGxhY2UoLyViLyxhYmJfbW9udGhzW29iai5nZXRNb250aCgpXSk7cmVzPXJlcy5yZXBsYWNlKC8lQi8sZnVsbF9tb250aHNbb2JqLmdldE1vbnRoKCldKTtyZXR1cm4gcmVzO30sc3RydWN0X3RpbWU6ZnVuY3Rpb24oYXJnKXtpZighaXNpbnN0YW5jZShhcmcsW3R1cGxlLGxpc3RdKSl0aHJvdyBUeXBlRXJyb3IoJ2NvbnN0cnVjdG9yIHJlcXVpcmVzIGEgc2VxdWVuY2UnKTtpZihsZW4oYXJnKSE9OSl0aHJvdyBUeXBlRXJyb3IoInRpbWUuc3RydWN0X3RpbWUoKSB0YWtlcyBhIDktc2VxdWVuY2UgKCIrbGVuKGFyZykrIi1zZXF1ZW5jZSBnaXZlbiIpO3ZhciByZXM9YXJnO2NvbnNvbGUubG9nKHJlcy5fX2dldGl0ZW1fX1swXSk7dmFyIG5hbWVzPVsndG1feWVhcicsJ3RtX21vbicsJ3RtX21kYXknLCd0bV9ob3VyJywndG1fbWluJywndG1fc2VjJywndG1fd2RheScsJ3RtX3lkYXknLCd0bV9pc2RzdCcsJ3RtX3pvbmUnLCd0bV9nbXRvZmYnXTtyZXMuX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7dmFyIGl4PW5hbWVzLmluZGV4T2YoYXR0cik7aWYoaXg+LTEpcmV0dXJuIGFyZy5fX2dldGl0ZW1fXyhpeCk7aWYodHlwZW9mIHJlc1thdHRyXT09PSdmdW5jdGlvbicpcmV0dXJuKGZ1bmN0aW9uKG9iail7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG9ialthdHRyXS5hcHBseShvYmosYXJndW1lbnRzKTt9O30pKHJlcyk7ZWxzZSBpZihyZXNbYXR0cl0hPT11bmRlZmluZWQpcmV0dXJuIHJlc1thdHRyXTtlbHNlIHRocm93IEF0dHJpYnV0ZUVycm9yKCJvYmplY3QgaGFzIG5vIGF0dHJpYnV0ZSAnIithdHRyKyInIik7fTtyZXR1cm4gcmVzO319Ow==',
'/libs/random.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxyYW5kb206ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPjApdGhyb3cgVHlwZUVycm9yKCJyYW5kb20oKSB0YWtlcyBubyBhcmd1bWVudHMgKCIrYXJndW1lbnRzLmxlbmd0aCsiIGdpdmVuKSIpO2Vsc2UgcmV0dXJuIGZsb2F0KE1hdGgucmFuZG9tKCkpO30scmFuZGludDpmdW5jdGlvbihhLGIpe3JldHVybiBpbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihiLWEpK2EpKTt9LHJhbmRyYW5nZTpmdW5jdGlvbihzdGFydCxzdG9wLHN0ZXApe2lmKHN0ZXA9PT11bmRlZmluZWQpc3RlcD0xO2Vsc2UgaWYoc3RlcD09MCl7fWlmKHN0b3A9PT11bmRlZmluZWQpe3N0b3A9c3RhcnQ7c3RhcnQ9MDt9dmFyIHdpZHRoPXN0b3Atc3RhcnQ7aWYoc3RlcD09MSYmd2lkdGg+MClyZXR1cm4gc3RhcnQraW50KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp3aWR0aCkpO2Vsc2V7fXZhciBuO2lmKHN0ZXA+MCluPU1hdGguZmxvb3IoKHdpZHRoK3N0ZXAtMSkvc3RlcCk7ZWxzZSBuPU1hdGguZmxvb3IoKHdpZHRoK3N0ZXArMSkvc3RlcCk7cmV0dXJuIHN0YXJ0K3N0ZXAqaW50KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpuKSk7fSxzaHVmZmxlOmZ1bmN0aW9uKHgscm5kKXtpZih4Lmxlbmd0aDw9MSlyZXR1cm4geDtpZihybmQ9PT11bmRlZmluZWQpcm5kPU1hdGgucmFuZG9tO2Zvcih2YXIgaixvLGk9eC5sZW5ndGg7aTtqPXBhcnNlSW50KHJuZCgpKmkpLG89eFstLWldLHhbaV09eFtqXSx4W2pdPW8pO319OyRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdyYW5kb20nPiI7fTs=',
'/libs/math.js':'dmFyIGZsb2F0X2NoZWNrPWZ1bmN0aW9uKHgpe2lmKGlzaW5zdGFuY2UoeCxmbG9hdCkpcmV0dXJuIHgudmFsdWU7cmV0dXJuIHg7fTt2YXIgaXNpbmY9ZnVuY3Rpb24oeCl7dmFyIHgxPWZsb2F0X2NoZWNrKHgpO3JldHVybiB4MT09LUluZmluaXR5fHx4MT09SW5maW5pdHl8fHgxPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fHgxPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7fTskbW9kdWxlPXtfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXt2YXIgcmVzPXRoaXNbYXR0cl07aWYocmVzPT09dW5kZWZpbmVkKSRyYWlzZSgnQXR0cmlidXRlRXJyb3InLCdtb2R1bGUgbWF0aCBoYXMgbm8gYXR0cmlidXRlICcrYXR0cik7cmV0dXJuIHJlczt9LGFjb3M6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguYWNvcyhmbG9hdF9jaGVjayh4KSkpO30sYWNvc2g6ZnVuY3Rpb24oeCl7aWYoaXNpbmYoeCkpcmV0dXJuIGZsb2F0KCdpbmYnKTt2YXIgeT1mbG9hdF9jaGVjayh4KTtyZXR1cm4gZmxvYXQoTWF0aC5sb2coeStNYXRoLnNxcnQoeSp5LTEpKSk7fSxhc2luOmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLmFzaW4oZmxvYXRfY2hlY2soeCkpKTt9LGFzaW5oOmZ1bmN0aW9uKHgpe2lmKGlzaW5mKHgpKXJldHVybiBmbG9hdCgnaW5mJyk7dmFyIHk9ZmxvYXRfY2hlY2soeCk7cmV0dXJuIGZsb2F0KE1hdGgubG9nKHkrTWF0aC5zcXJ0KHkqeSsxKSkpO30sYXRhbjpmdW5jdGlvbih4KXtpZihpc2luZih4KSlyZXR1cm4gZmxvYXQoTWF0aC5QSS8yKTtyZXR1cm4gZmxvYXQoTWF0aC5hdGFuKGZsb2F0X2NoZWNrKHgpKSk7fSxhdGFuMjpmdW5jdGlvbih5LHgpe3JldHVybiBmbG9hdChNYXRoLmF0YW4yKHkseCkpO30sYXRhbmg6ZnVuY3Rpb24oeCl7dmFyIHk9ZmxvYXRfY2hlY2soeCk7aWYoeT09MClyZXR1cm4gMDtyZXR1cm4gZmxvYXQoMC41Kk1hdGgubG9nKCgxL3krMSkvKDEveS0xKSkpO30sY2VpbDpmdW5jdGlvbih4KXt2YXIgeT1mbG9hdF9jaGVjayh4KTtpZighaXNOYU4ocGFyc2VGbG9hdCh5KSkmJmlzRmluaXRlKHkpKXJldHVybiBpbnQoTWF0aC5jZWlsKHkpKTtpZih5Ll9fY2VpbF9fIT09dW5kZWZpbmVkKXJldHVybiB5Ll9fY2VpbF9fKCk7JHJhaXNlKCdWYWx1ZUVycm9yJywnb2JqZWN0IGlzIG5vdCBhIG51bWJlciBhbmQgZG9lcyBub3QgY29udGFpbiBfX2NlaWxfXycpO30sY29weXNpZ246ZnVuY3Rpb24oeCx5KXt2YXIgeDE9TWF0aC5hYnMoZmxvYXRfY2hlY2soeCkpO3ZhciB5MT1mbG9hdF9jaGVjayh5KTt2YXIgc2lnbj15MT95MTwwPy0xOjE6MTtpZihpc2luc3RhbmNlKHgsaW50KSlyZXR1cm4geDEqc2lnbjtlbHNlIHJldHVybiBmbG9hdCh4MSpzaWduKTt9LGNvczpmdW5jdGlvbih4KXtyZXR1cm4gZmxvYXQoTWF0aC5jb3MoZmxvYXRfY2hlY2soeCkpKTt9LGRlZ3JlZXM6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KGZsb2F0X2NoZWNrKHgpKjE4MC9NYXRoLlBJKTt9LGU6ZmxvYXQoTWF0aC5FKSxlcmY6ZnVuY3Rpb24oeCl7dmFyIHk9ZmxvYXRfY2hlY2soeCk7dmFyIHQ9MS4wLygxLjArMC41Kk1hdGguYWJzKHkpKTt2YXIgYW5zPTEtdCpNYXRoLmV4cCgteSp5LTEuMjY1NTEyMjMrdCooMS4wMDAwMjM2OCt0KigwLjM3NDA5MTk2K3QqKDAuMDk2Nzg0MTgrdCooLTAuMTg2Mjg4MDYrdCooMC4yNzg4NjgwNyt0KigtMS4xMzUyMDM5OCt0KigxLjQ4ODUxNTg3K3QqKC0wLjgyMjE1MjIzK3QqMC4xNzA4NzI3NykpKSkpKSkpKTtpZih5Pj0wLjApcmV0dXJuIGFucztyZXR1cm4gLWFuczt9LGVyZmM6ZnVuY3Rpb24oeCl7dmFyIHk9ZmxvYXRfY2hlY2soeCk7dmFyIHQ9MS4wLygxLjArMC41Kk1hdGguYWJzKHkpKTt2YXIgYW5zPTEtdCpNYXRoLmV4cCgteSp5LTEuMjY1NTEyMjMrdCooMS4wMDAwMjM2OCt0KigwLjM3NDA5MTk2K3QqKDAuMDk2Nzg0MTgrdCooLTAuMTg2Mjg4MDYrdCooMC4yNzg4NjgwNyt0KigtMS4xMzUyMDM5OCt0KigxLjQ4ODUxNTg3K3QqKC0wLjgyMjE1MjIzK3QqMC4xNzA4NzI3NykpKSkpKSkpKTtpZih5Pj0wLjApcmV0dXJuIDEtYW5zO3JldHVybiAxK2Fuczt9LGV4cDpmdW5jdGlvbih4KXtyZXR1cm4gZmxvYXQoTWF0aC5leHAoZmxvYXRfY2hlY2soeCkpKTt9LGV4cG0xOmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLmV4cChmbG9hdF9jaGVjayh4KSktMSk7fSxmYWJzOmZ1bmN0aW9uKHgpe3JldHVybiB4PjA/ZmxvYXQoeCk6ZmxvYXQoLXgpO30sZmFjdG9yaWFsOmZ1bmN0aW9uKHgpe3ZhciB5PWZsb2F0X2NoZWNrKHgpO3ZhciByPTE7Zm9yKHZhciBpPTI7aTw9eTtpKyspcio9aTtyZXR1cm4gcjt9LGZsb29yOmZ1bmN0aW9uKHgpe3JldHVybiBNYXRoLmZsb29yKGZsb2F0X2NoZWNrKHgpKTt9LGZtb2Q6ZnVuY3Rpb24oeCx5KXtyZXR1cm4gZmxvYXQoZmxvYXRfY2hlY2soeCklZmxvYXRfY2hlY2soeSkpO30sZnJleHA6ZnVuY3Rpb24oeCl7dmFyIHgxPWZsb2F0X2NoZWNrKHgpO3ZhciBleD1NYXRoLmZsb29yKE1hdGgubG9nKHgxKS9NYXRoLmxvZygyKSkrMTtmcmFjPXgxL01hdGgucG93KDIsZXgpO3JldHVybiBbZnJhYyxleF07fSxnYW1tYTpmdW5jdGlvbih4KXt2YXIgeT1mbG9hdF9jaGVjayh4KTt2YXIgej15KzE7dmFyIGQxPU1hdGguc3FydCgyKk1hdGguUEkpL3o7dmFyIGQyPTEuMDAwMDAwMDAwMTkwMDE1O2QyKz03Ni4xODAwOTE3Mjk0NzE0Ni8oeisxKTtkMis9LTg2LjUwNTMyMDMyOTQxNjc3Lyh6KzIpO2QyKz0yNC4wMTQwOTgyNDA4MzA5MS8oeiszKTtkMis9LTEuMjMxNzM5NTcyNDUwMTU1Lyh6KzQpO2QyKz0xLjIwODY1MDk3Mzg2NjE3OUUtMy8oeis1KTtkMis9LTUuMzk1MjM5Mzg0OTUzRS02Lyh6KzYpO3JldHVybiBkMSpkMipNYXRoLnBvdyh6KzUuNSx6KzAuNSkqTWF0aC5leHAoLSh6KzUuNSkpO30saHlwb3Q6ZnVuY3Rpb24oeCx5KXt2YXIgeDE9ZmxvYXRfY2hlY2soeCk7dmFyIHkxPWZsb2F0X2NoZWNrKHkpO3JldHVybiBmbG9hdChNYXRoLnNxcnQoeDEqeDEreTEqeTEpKTt9LGlzZmluaXRlOmZ1bmN0aW9uKHgpe3JldHVybiBpc0Zpbml0ZShmbG9hdF9jaGVjayh4KSk7fSxpc2luZjpmdW5jdGlvbih4KXtyZXR1cm4gaXNpbmYoeCk7fSxpc25hbjpmdW5jdGlvbih4KXtyZXR1cm4gaXNOYU4oZmxvYXRfY2hlY2soeCkpO30sbGRleHA6ZnVuY3Rpb24oeCxpKXt2YXIgbXVsPU1hdGgucG93KDIsZmxvYXRfY2hlY2soaSkpO2lmKGlzaW5zdGFuY2UoeCxpbnQpKXJldHVybiB4Km11bDtlbHNlIHJldHVybiBmbG9hdCh4LnZhbHVlKm11bCk7fSxsZ2FtbWE6ZnVuY3Rpb24oeCl7dmFyIHk9ZmxvYXRfY2hlY2soeCk7dmFyIHo9eSsxO3ZhciBkMT1NYXRoLnNxcnQoMipNYXRoLlBJKS96O3ZhciBkMj0xLjAwMDAwMDAwMDE5MDAxNTtkMis9NzYuMTgwMDkxNzI5NDcxNDYvKHorMSk7ZDIrPS04Ni41MDUzMjAzMjk0MTY3Ny8oeisyKTtkMis9MjQuMDE0MDk4MjQwODMwOTEvKHorMyk7ZDIrPS0xLjIzMTczOTU3MjQ1MDE1NS8oeis0KTtkMis9MS4yMDg2NTA5NzM4NjYxNzlFLTMvKHorNSk7ZDIrPS01LjM5NTIzOTM4NDk1M0UtNi8oeis2KTtyZXR1cm4gZmxvYXQoTWF0aC5sb2coTWF0aC5hYnMoZDEqZDIqTWF0aC5wb3coeis1LjUseiswLjUpKk1hdGguZXhwKC0oeis1LjUpKSkpKTt9LGxvZzpmdW5jdGlvbih4LGJhc2Upe3ZhciB4MT1mbG9hdF9jaGVjayh4KTtpZihiYXNlPT09dW5kZWZpbmVkKXJldHVybiBmbG9hdChNYXRoLmxvZyh4MSkpO3JldHVybiBmbG9hdChNYXRoLmxvZyh4MSkvTWF0aC5sb2coZmxvYXRfY2hlY2soYmFzZSkpKTt9LGxvZzFwOmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLmxvZygxLjArZmxvYXRfY2hlY2soeCkpKTt9LGxvZzI6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGgubG9nKGZsb2F0X2NoZWNrKHgpKS9NYXRoLkxOMik7fSxsb2cxMDpmdW5jdGlvbih4KXtyZXR1cm4gZmxvYXQoTWF0aC5sb2coZmxvYXRfY2hlY2soeCkpL01hdGguTE4xMCk7fSxtb2RmOmZ1bmN0aW9uKHgpe3ZhciB4MT1mbG9hdF9jaGVjayh4KTtpZih4MT4wKXt2YXIgaT1mbG9hdCh4MS1NYXRoLmZsb29yKHgxKSk7cmV0dXJuIFtpLGZsb2F0KHgxLWkpXTt9dmFyIGk9ZmxvYXQoeDEtTWF0aC5jZWlsKHgxKSk7cmV0dXJuIFtpLGZsb2F0KE1hdGguY2VpbCh4MSkpXTt9LHBpOmZsb2F0KE1hdGguUEkpLHBvdzpmdW5jdGlvbih4LHkpe2lmKGlzaW5zdGFuY2UoeCxpbnQpKXJldHVybiBNYXRoLnBvdyh4LGZsb2F0X2NoZWNrKHkpKTtlbHNlIHJldHVybiBmbG9hdChNYXRoLnBvdyh4LnZhbHVlLGZsb2F0X2NoZWNrKHkpKSk7fSxyYWRpYW5zOmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChmbG9hdF9jaGVjayh4KSpNYXRoLlBJLzE4MCk7fSxzaW46ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguc2luKGZsb2F0X2NoZWNrKHgpKSk7fSxzcXJ0OmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLnNxcnQoZmxvYXRfY2hlY2soeCkpKTt9LHRydW5jOmZ1bmN0aW9uKHgpe2lmKHguX190cnVuY19fIT09dW5kZWZpbmVkKXJldHVybiB4Ll9fdHJ1bmNfXygpO3ZhciB4MT1mbG9hdF9jaGVjayh4KTtpZighaXNOYU4ocGFyc2VGbG9hdCh4MSkpJiZpc0Zpbml0ZSh4MSkpcmV0dXJuIGludChNYXRoLmZsb29yKHgxKSk7JHJhaXNlKCdWYWx1ZUVycm9yJywnb2JqZWN0IGlzIG5vdCBhIG51bWJlciBhbmQgZG9lcyBub3QgY29udGFpbiBfX3RydW5jX18nKTt9fTskbW9kdWxlLl9fY2xhc3NfXz0kbW9kdWxlOyRtb2R1bGUuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiAiPG1vZHVsZSAnbWF0aCc+Ijt9O2Zvcih2YXIgJGF0dHIgaW4gJG1vZHVsZSlpZih0eXBlb2YgJG1vZHVsZVskYXR0cl09PT0nZnVuY3Rpb24nKXskbW9kdWxlWyRhdHRyXS5fX3JlcHJfXz0oZnVuY3Rpb24oZnVuYyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuICc8YnVpbHQtaW4gZnVuY3Rpb24gJytmdW5jKyc+Jzt9O30pKCRhdHRyKTskbW9kdWxlWyRhdHRyXS5fX3N0cl9fPShmdW5jdGlvbihmdW5jKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gJzxidWlsdC1pbiBmdW5jdGlvbiAnK2Z1bmMrJz4nO307fSkoJGF0dHIpO30=',
'/libs/html.js':'JG1vZHVsZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiAkVGFnKHRhZ05hbWUsYXJncyl7dmFyICRpPW51bGw7dmFyIGVsdD1udWxsO3ZhciBlbHQ9JERPTU5vZGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKSk7ZWx0LnBhcmVudD10aGlzO2lmKGFyZ3MhPXVuZGVmaW5lZCYmYXJncy5sZW5ndGg+MCl7JHN0YXJ0PTA7JGZpcnN0PWFyZ3NbMF07aWYoIWlzaW5zdGFuY2UoJGZpcnN0LCRLdykpeyRzdGFydD0xO2lmKGlzaW5zdGFuY2UoJGZpcnN0LFtzdHIsaW50LGZsb2F0XSkpe3R4dD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgkZmlyc3QudG9TdHJpbmcoKSk7ZWx0LmFwcGVuZENoaWxkKHR4dCk7fWVsc2UgaWYoaXNpbnN0YW5jZSgkZmlyc3QsJFRhZ1N1bSkpZm9yKCRpPTA7JGk8JGZpcnN0LmNoaWxkcmVuLmxlbmd0aDskaSsrKWVsdC5hcHBlbmRDaGlsZCgkZmlyc3QuY2hpbGRyZW5bJGldKTtlbHNlIHRyeXtlbHQuYXBwZW5kQ2hpbGQoJGZpcnN0KTt9Y2F0Y2goZXJyKXt0aHJvdyBWYWx1ZUVycm9yKCd3cm9uZyBlbGVtZW50ICcrJGZpcnN0KTt9fWZvcigkaT0kc3RhcnQ7JGk8YXJncy5sZW5ndGg7JGkrKyl7JGFyZz1hcmdzWyRpXTtpZihpc2luc3RhbmNlKCRhcmcsJEt3KSlpZigkYXJnLm5hbWUudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwyKT09PSJvbiIpZXZhbCgnZWx0LicrJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkrJz1mdW5jdGlvbigpeycrJGFyZy52YWx1ZSsnfScpO2Vsc2UgaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCk9PSJzdHlsZSIpZWx0LnNldF9zdHlsZSgkYXJnLnZhbHVlKTtlbHNlIGlmKCRhcmcudmFsdWUhPT1mYWxzZSl0cnl7dmFyIGFyZz0kYXJnLm5hbWUudG9Mb3dlckNhc2UoKTtlbHQuc2V0QXR0cmlidXRlKGFyZywkYXJnLnZhbHVlKTtpZihhcmc9PSJjbGFzcyIpZWx0LnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwkYXJnLnZhbHVlKTt9Y2F0Y2goZXJyKXt0aHJvdyBWYWx1ZUVycm9yKCJjYW4ndCBzZXQgYXR0cmlidXRlICIrJGFyZy5uYW1lKTt9fX1yZXR1cm4gZWx0O31mdW5jdGlvbiBBKCl7cmV0dXJuICRUYWcoJ0EnLGFyZ3VtZW50cyk7fUEuX19uYW1lX189J2h0bWwuQSc7dmFyICRzcmM9QSsnJzskdGFncz1bJ0EnLCdBQkJSJywnQUNST05ZTScsJ0FERFJFU1MnLCdBUFBMRVQnLCdCJywnQkRPJywnQklHJywnQkxPQ0tRVU9URScsJ0JVVFRPTicsJ0NBUFRJT04nLCdDRU5URVInLCdDSVRFJywnQ09ERScsJ0RFTCcsJ0RGTicsJ0RJUicsJ0RJVicsJ0RMJywnRU0nLCdGSUVMRFNFVCcsJ0ZPTlQnLCdGT1JNJywnRlJBTUVTRVQnLCdIMScsJ0gyJywnSDMnLCdINCcsJ0g1JywnSDYnLCdJJywnSUZSQU1FJywnSU5TJywnS0JEJywnTEFCRUwnLCdMRUdFTkQnLCdNQVAnLCdNRU5VJywnTk9GUkFNRVMnLCdOT1NDUklQVCcsJ09CSkVDVCcsJ09MJywnT1BUR1JPVVAnLCdQUkUnLCdRJywnUycsJ1NBTVAnLCdTQ1JJUFQnLCdTRUxFQ1QnLCdTTUFMTCcsJ1NQQU4nLCdTVFJJS0UnLCdTVFJPTkcnLCdTVFlMRScsJ1NVQicsJ1NVUCcsJ1RBQkxFJywnVEVYVEFSRUEnLCdUSVRMRScsJ1RUJywnVScsJ1VMJywnVkFSJywnQk9EWScsJ0NPTEdST1VQJywnREQnLCdEVCcsJ0hFQUQnLCdIVE1MJywnTEknLCdQJywnVEJPRFknLCdPUFRJT04nLCdURCcsJ1RGT09UJywnVEgnLCdUSEVBRCcsJ1RSJywnQVJFQScsJ0JBU0UnLCdCQVNFRk9OVCcsJ0JSJywnQ09MJywnRlJBTUUnLCdIUicsJ0lNRycsJ0lOUFVUJywnSVNJTkRFWCcsJ0xJTksnLCdNRVRBJywnUEFSQU0nXTskdGFncz0kdGFncy5jb25jYXQoWydBUlRJQ0xFJywnQVNJREUnLCdBVURJTycsJ0JESScsJ0NBTlZBUycsJ0NPTU1BTkQnLCdEQVRBTElTVCcsJ0RFVEFJTFMnLCdESUFMT0cnLCdFTUJFRCcsJ0ZJR0NBUFRJT04nLCdGSUdVUkUnLCdGT09URVInLCdIRUFERVInLCdLRVlHRU4nLCdNQVJLJywnTUVURVInLCdOQVYnLCdPVVRQVVQnLCdQUk9HUkVTUycsJ1JQJywnUlQnLCdSVUJZJywnU0VDVElPTicsJ1NPVVJDRScsJ1NVTU1BUlknLCdUSU1FJywnVFJBQ0snLCdWSURFTycsJ1dCUiddKTt2YXIgb2JqPW5ldyBPYmplY3QoKTtmb3IoJGk9MDskaTwkdGFncy5sZW5ndGg7JGkrKyl7JGNvZGU9JHNyYy5yZXBsYWNlKC9BL2dtLCR0YWdzWyRpXSk7ZXZhbCgib2JqLiIrJHRhZ3NbJGldKyI9IiskY29kZSk7ZXZhbCgib2JqLiIrJHRhZ3NbJGldKycuX19uYW1lX189Imh0bWwuJyskdGFnc1skaV0rJyInKTt9b2JqLl9fZ2V0YXR0cl9fPWZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO307cmV0dXJuIG9iajt9KSgpOw==',
'/libs/hashlib.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7aWYoYXR0cj09J25ldycpcmV0dXJuICRoYXNobGliX25ldztyZXR1cm4gdGhpc1thdHRyXTt9LG1kNTpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ21kNScpO30sc2hhMTpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTEnKTt9LHNoYTIyNDpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTIyNCcpO30sc2hhMjU2OmZ1bmN0aW9uKCl7cmV0dXJuICRoYXNobGliX25ldygnc2hhMjU2Jyk7fSxzaGEzODQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGhhc2hsaWJfbmV3KCdzaGEzODQnKTt9LHNoYTUxMjpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTUxMicpO30sYWxnb3JpdGhtc19ndWFyYW50ZWVkOlsnbWQ1Jywnc2hhMScsJ3NoYTIyNCcsJ3NoYTI1NicsJ3NoYTM4NCcsJ3NoYTUxMiddLGFsZ29yaXRobXNfYXZhaWxhYmxlOlsnbWQ1Jywnc2hhMScsJ3NoYTIyNCcsJ3NoYTI1NicsJ3NoYTM4NCcsJ3NoYTUxMiddfTtmdW5jdGlvbiAkZ2V0X0NyeXB0b0pTX2xpYihhbGcpe3ZhciBpbXA9JGltcG9ydGVyKCk7dmFyICR4bWxodHRwPWltcFswXSxmYWtlX3FzPWltcFsxXSx0aW1lcj1pbXBbMl0scmVzPW51bGw7JHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoJHhtbGh0dHAucmVhZHlTdGF0ZT09NCl7d2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7aWYoJHhtbGh0dHAuc3RhdHVzPT0yMDB8fCR4bWxodHRwLnN0YXR1cz09MClyZXM9JHhtbGh0dHAucmVzcG9uc2VUZXh0O2Vsc2V7cmVzPUVycm9yKCk7cmVzLm5hbWU9J05vdEZvdW5kRXJyb3InO3Jlcy5tZXNzYWdlPSJObyBDcnlwdG9KUyBsaWIgbmFtZWQgJyIrYWxnKyInIjt9fX07JHhtbGh0dHAub3BlbignR0VUJyxfX0JSWVRIT05fXy5icnl0aG9uX3BhdGgrJ2xpYnMvY3J5cHRvX2pzL3JvbGx1cHMvJythbGcrJy5qcycrZmFrZV9xcyxmYWxzZSk7aWYoJ292ZXJyaWRlTWltZVR5cGUnIGluICR4bWxodHRwKSR4bWxodHRwLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW4iKTskeG1saHR0cC5zZW5kKCk7aWYocmVzLmNvbnN0cnVjdG9yPT09RXJyb3IpdGhyb3cgcmVzO3RyeXtldmFsKHJlcysiOyBfX0JSWVRIT05fXy5DcnlwdG9KUz1DcnlwdG9KUzsiKTt9Y2F0Y2goZXJyKXt0aHJvdyBFcnJvcigiSlMgRXZhbCBFcnJvciIsIkNhbm5vdCBldmFsIENyeXB0b0pTIGFsZ29yaXRobSAnIithbGcrIicgOiBlcnJvcjoiK2Vycik7fX1mdW5jdGlvbiAkaGFzaGxpYl9uZXcoYWxnKXtpZihhbGc9PSdtZDUnKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uTUQ1PT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdtZDUnKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5NRDUuY3JlYXRlKCk7fWVsc2UgaWYoYWxnPT0nc2hhMScpe2lmKF9fQlJZVEhPTl9fLkNyeXB0bz09PXVuZGVmaW5lZHx8X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEExPT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGExJyk7dGhpcy5oYXNoPV9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMS5jcmVhdGUoKTt9ZWxzZSBpZihhbGc9PSdzaGEyMjQnKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMjI0PT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGEyMjQnKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEEyMjQuY3JlYXRlKCk7fWVsc2UgaWYoYWxnPT0nc2hhMjU2Jyl7aWYoX19CUllUSE9OX18uQ3J5cHRvPT09dW5kZWZpbmVkfHxfX0JSWVRIT05fXy5DcnlwdG9KUy5hbGdvLlNIQTI1Nj09PXVuZGVmaW5lZCkkZ2V0X0NyeXB0b0pTX2xpYignc2hhMjU2Jyk7dGhpcy5oYXNoPV9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMjU2LmNyZWF0ZSgpO31lbHNlIGlmKGFsZz09J3NoYTM4NCcpe2lmKF9fQlJZVEhPTl9fLkNyeXB0bz09PXVuZGVmaW5lZHx8X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEEzODQ9PT11bmRlZmluZWQpJGdldF9DcnlwdG9KU19saWIoJ3NoYTM4NCcpO3RoaXMuaGFzaD1fX0JSWVRIT05fXy5DcnlwdG9KUy5hbGdvLlNIQTM4NC5jcmVhdGUoKTt9ZWxzZSBpZihhbGc9PSdzaGE1MTInKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBNTEyPT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGE1MTInKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEE1MTIuY3JlYXRlKCk7fWVsc2UgJHJhaXNlKCdBdHRyaWJ1dGVFcnJvcicsJ0ludmFsaWQgaGFzaCBhbGdvcml0aG06JythbGcpO3RoaXMuX19jbGFzc19fPSR0eXBlO3RoaXMuX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7cmV0dXJuICRnZXRhdHRyKHRoaXMsYXR0cik7fTt0aGlzLl9fc3RyX189ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZXhkaWdlc3QoKTt9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKG1zZyl7dGhpcy5oYXNoLnVwZGF0ZShtc2cpO307dGhpcy5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzaC5jbG9uZSgpO307dGhpcy5oZXhkaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdGVtcD10aGlzLmhhc2guY2xvbmUoKTt0ZW1wPXRlbXAuZmluYWxpemUoKTtyZXR1cm4gdGVtcC50b1N0cmluZygpO307cmV0dXJuIHRoaXM7fSRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdoYXNobGliJz4iO307',
'/libs/_os.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxyYW5kb206ZnVuY3Rpb24oKXtyZXR1cm4gZmxvYXQoTWF0aC5yYW5kb20oKSk7fSxyYW5kaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGItYSkrYSkpO319OyRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdfb3MnPiI7fTs=',
'/libs/crypto_js/rollups/sha1.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihlLG0pe3ZhciBwPXt9LGo9cC5saWI9e30sbD1mdW5jdGlvbigpe30sZj1qLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtsLnByb3RvdHlwZT10aGlzO3ZhciBjPW5ldyBsKCk7YSYmYy5taXhJbihhKTtjLmhhc093blByb3BlcnR5KCJpbml0Iil8fChjLmluaXQ9ZnVuY3Rpb24oKXtjLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtjLmluaXQucHJvdG90eXBlPWM7Yy4kc3VwZXI9dGhpcztyZXR1cm4gYzt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJih0aGlzW2NdPWFbY10pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0sbj1qLldvcmRBcnJheT1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWMhPW0/Yzo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fGgpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndvcmRzLHE9YS53b3JkcyxkPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihkJTQpZm9yKHZhciBiPTA7YjxhO2IrKyljW2QrYj4+PjJdfD0ocVtiPj4+Ml0+Pj4yNC04KihiJTQpJjI1NSk8PDI0LTgqKChkK2IpJTQpO2Vsc2UgaWYoNjU1MzU8cS5sZW5ndGgpZm9yKGI9MDtiPGE7Yis9NCljW2QrYj4+PjJdPXFbYj4+PjJdO2Vsc2UgYy5wdXNoLmFwcGx5KGMscSk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YVtjPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGMlNCk7YS5sZW5ndGg9ZS5jZWlsKGMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGI9MDtiPGE7Yis9NCljLnB1c2goNDI5NDk2NzI5NiplLnJhbmRvbSgpfDApO3JldHVybiBuZXcgbi5pbml0KGMsYSk7fX0pLGI9cC5lbmM9e30saD1iLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBjPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgYj1bXSxkPTA7ZDxhO2QrKyl7dmFyIGY9Y1tkPj4+Ml0+Pj4yNC04KihkJTQpJjI1NTtiLnB1c2goKGY+Pj40KS50b1N0cmluZygxNikpO2IucHVzaCgoZiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGIuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGM9YS5sZW5ndGgsYj1bXSxkPTA7ZDxjO2QrPTIpYltkPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGQsMiksMTYpPDwyNC00KihkJTgpO3JldHVybiBuZXcgbi5pbml0KGIsYy8yKTt9fSxnPWIuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGM9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBiPVtdLGQ9MDtkPGE7ZCsrKWIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNbZD4+PjJdPj4+MjQtOCooZCU0KSYyNTUpKTtyZXR1cm4gYi5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hLmxlbmd0aCxiPVtdLGQ9MDtkPGM7ZCsrKWJbZD4+PjJdfD0oYS5jaGFyQ29kZUF0KGQpJjI1NSk8PDI0LTgqKGQlNCk7cmV0dXJuIG5ldyBuLmluaXQoYixjKTt9fSxyPWIuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShnLnN0cmluZ2lmeShhKSkpO31jYXRjaChjKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZy5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSxrPWouQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1mLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBuLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9ci5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2RhdGEsYj1jLndvcmRzLGQ9Yy5zaWdCeXRlcyxmPXRoaXMuYmxvY2tTaXplLGg9ZC8oNCpmKSxoPWE/ZS5jZWlsKGgpOmUubWF4KChofDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1oKmY7ZD1lLm1pbig0KmEsZCk7aWYoYSl7Zm9yKHZhciBnPTA7ZzxhO2crPWYpdGhpcy5fZG9Qcm9jZXNzQmxvY2soYixnKTtnPWIuc3BsaWNlKDAsYSk7Yy5zaWdCeXRlcy09ZDt9cmV0dXJuIG5ldyBuLmluaXQoZyxkKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9Zi5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO2ouSGFzaGVyPWsuZXh0ZW5kKHtjZmc6Zi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe2sucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsYil7cmV0dXJuIG5ldyBhLmluaXQoYikuZmluYWxpemUoYyk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGYpe3JldHVybiBuZXcgcy5ITUFDLmluaXQoYSxmKS5maW5hbGl6ZShiKTt9O319KTt2YXIgcz1wLmFsZ289e307cmV0dXJuIHA7fShNYXRoKTsoZnVuY3Rpb24oKXt2YXIgZT1DcnlwdG9KUyxtPWUubGliLHA9bS5Xb3JkQXJyYXksaj1tLkhhc2hlcixsPVtdLG09ZS5hbGdvLlNIQTE9ai5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgcC5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGYsbil7Zm9yKHZhciBiPXRoaXMuX2hhc2gud29yZHMsaD1iWzBdLGc9YlsxXSxlPWJbMl0saz1iWzNdLGo9Yls0XSxhPTA7ODA+YTthKyspe2lmKDE2PmEpbFthXT1mW24rYV18MDtlbHNle3ZhciBjPWxbYS0zXV5sW2EtOF1ebFthLTE0XV5sW2EtMTZdO2xbYV09Yzw8MXxjPj4+MzE7fWM9KGg8PDV8aD4+PjI3KStqK2xbYV07Yz0yMD5hP2MrKChnJmV8fmcmaykrMTUxODUwMDI0OSk6NDA+YT9jKygoZ15lXmspKzE4NTk3NzUzOTMpOjYwPmE/YysoKGcmZXxnJmt8ZSZrKS0xODk0MDA3NTg4KTpjKygoZ15lXmspLTg5OTQ5NzUxNCk7aj1rO2s9ZTtlPWc8PDMwfGc+Pj4yO2c9aDtoPWM7fWJbMF09YlswXStofDA7YlsxXT1iWzFdK2d8MDtiWzJdPWJbMl0rZXwwO2JbM109YlszXStrfDA7Yls0XT1iWzRdK2p8MDt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGY9dGhpcy5fZGF0YSxlPWYud29yZHMsYj04KnRoaXMuX25EYXRhQnl0ZXMsaD04KmYuc2lnQnl0ZXM7ZVtoPj4+NV18PTEyODw8MjQtaCUzMjtlWyhoKzY0Pj4+OTw8NCkrMTRdPU1hdGguZmxvb3IoYi80Mjk0OTY3Mjk2KTtlWyhoKzY0Pj4+OTw8NCkrMTVdPWI7Zi5zaWdCeXRlcz00KmUubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpcy5faGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9ai5jbG9uZS5jYWxsKHRoaXMpO2UuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBlO319KTtlLlNIQTE9ai5fY3JlYXRlSGVscGVyKG0pO2UuSG1hY1NIQTE9ai5fY3JlYXRlSG1hY0hlbHBlcihtKTt9KSgpOw==',
'/libs/crypto_js/rollups/sha3.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbih2LHApe3ZhciBkPXt9LHU9ZC5saWI9e30scj1mdW5jdGlvbigpe30sZj11LkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtyLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyByKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scz11LldvcmRBcnJheT1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPXA/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHkpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGM9YS53b3JkcyxqPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihqJTQpZm9yKHZhciBuPTA7bjxhO24rKyliW2orbj4+PjJdfD0oY1tuPj4+Ml0+Pj4yNC04KihuJTQpJjI1NSk8PDI0LTgqKChqK24pJTQpO2Vsc2UgaWYoNjU1MzU8Yy5sZW5ndGgpZm9yKG49MDtuPGE7bis9NCliW2orbj4+PjJdPWNbbj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsYyk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7YVtiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7YS5sZW5ndGg9di5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGE7Yys9NCliLnB1c2goNDI5NDk2NzI5Nip2LnJhbmRvbSgpfDApO3JldHVybiBuZXcgcy5pbml0KGIsYSk7fX0pLHg9ZC5lbmM9e30seT14LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgYz1bXSxqPTA7ajxhO2orKyl7dmFyIG49YltqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NTtjLnB1c2goKG4+Pj40KS50b1N0cmluZygxNikpO2MucHVzaCgobiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGMuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1bXSxqPTA7ajxiO2orPTIpY1tqPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGosMiksMTYpPDwyNC00KihqJTgpO3JldHVybiBuZXcgcy5pbml0KGMsYi8yKTt9fSxlPXguTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBjPVtdLGo9MDtqPGE7aisrKWMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbaj4+PjJdPj4+MjQtOCooaiU0KSYyNTUpKTtyZXR1cm4gYy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPVtdLGo9MDtqPGI7aisrKWNbaj4+PjJdfD0oYS5jaGFyQ29kZUF0KGopJjI1NSk8PDI0LTgqKGolNCk7cmV0dXJuIG5ldyBzLmluaXQoYyxiKTt9fSxxPXguVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShlLnN0cmluZ2lmeShhKSkpO31jYXRjaChiKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSx0PXUuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1mLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBzLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9cS5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2RhdGEsYz1iLndvcmRzLGo9Yi5zaWdCeXRlcyxuPXRoaXMuYmxvY2tTaXplLGU9ai8oNCpuKSxlPWE/di5jZWlsKGUpOnYubWF4KChlfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1lKm47aj12Lm1pbig0KmEsaik7aWYoYSl7Zm9yKHZhciBmPTA7ZjxhO2YrPW4pdGhpcy5fZG9Qcm9jZXNzQmxvY2soYyxmKTtmPWMuc3BsaWNlKDAsYSk7Yi5zaWdCeXRlcy09ajt9cmV0dXJuIG5ldyBzLmluaXQoZixqKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9Zi5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO3UuSGFzaGVyPXQuZXh0ZW5kKHtjZmc6Zi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe3QucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG5ldyBhLmluaXQoYykuZmluYWxpemUoYik7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBuZXcgdy5ITUFDLmluaXQoYSxjKS5maW5hbGl6ZShiKTt9O319KTt2YXIgdz1kLmFsZ289e307cmV0dXJuIGQ7fShNYXRoKTsoZnVuY3Rpb24odil7dmFyIHA9Q3J5cHRvSlMsZD1wLmxpYix1PWQuQmFzZSxyPWQuV29yZEFycmF5LHA9cC54NjQ9e307cC5Xb3JkPXUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGYscyl7dGhpcy5oaWdoPWY7dGhpcy5sb3c9czt9fSk7cC5Xb3JkQXJyYXk9dS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZixzKXtmPXRoaXMud29yZHM9Znx8W107dGhpcy5zaWdCeXRlcz1zIT12P3M6OCpmLmxlbmd0aDt9LHRvWDMyOmZ1bmN0aW9uKCl7Zm9yKHZhciBmPXRoaXMud29yZHMscz1mLmxlbmd0aCxkPVtdLHA9MDtwPHM7cCsrKXt2YXIgZT1mW3BdO2QucHVzaChlLmhpZ2gpO2QucHVzaChlLmxvdyk7fXJldHVybiByLmNyZWF0ZShkLHRoaXMuc2lnQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIGY9dS5jbG9uZS5jYWxsKHRoaXMpLGQ9Zi53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHA9ZC5sZW5ndGgscj0wO3I8cDtyKyspZFtyXT1kW3JdLmNsb25lKCk7cmV0dXJuIGY7fX0pO30pKCk7KGZ1bmN0aW9uKHYpe2Zvcih2YXIgcD1DcnlwdG9KUyxkPXAubGliLHU9ZC5Xb3JkQXJyYXkscj1kLkhhc2hlcixmPXAueDY0LldvcmQsZD1wLmFsZ28scz1bXSx4PVtdLHk9W10sZT0xLHE9MCx0PTA7MjQ+dDt0Kyspe3NbZSs1KnFdPSh0KzEpKih0KzIpLzIlNjQ7dmFyIHc9KDIqZSszKnEpJTUsZT1xJTUscT13O31mb3IoZT0wOzU+ZTtlKyspZm9yKHE9MDs1PnE7cSsrKXhbZSs1KnFdPXErNSooKDIqZSszKnEpJTUpO2U9MTtmb3IocT0wOzI0PnE7cSsrKXtmb3IodmFyIGE9dz10PTA7Nz5hO2ErKyl7aWYoZSYxKXt2YXIgYj0oMTw8YSktMTszMj5iP3dePTE8PGI6dF49MTw8Yi0zMjt9ZT1lJjEyOD9lPDwxXjExMzplPDwxO315W3FdPWYuY3JlYXRlKHQsdyk7fWZvcih2YXIgYz1bXSxlPTA7MjU+ZTtlKyspY1tlXT1mLmNyZWF0ZSgpO2Q9ZC5TSEEzPXIuZXh0ZW5kKHtjZmc6ci5jZmcuZXh0ZW5kKHtvdXRwdXRMZW5ndGg6NTEyfSksX2RvUmVzZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fc3RhdGU9W10sYj0wOzI1PmI7YisrKWFbYl09bmV3IGYuaW5pdCgpO3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMjt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZT10aGlzLl9zdGF0ZSxmPXRoaXMuYmxvY2tTaXplLzIsaD0wO2g8ZjtoKyspe3ZhciBsPWFbYisyKmhdLG09YVtiKzIqaCsxXSxsPShsPDw4fGw+Pj4yNCkmMTY3MTE5MzV8KGw8PDI0fGw+Pj44KSY0Mjc4MjU1MzYwLG09KG08PDh8bT4+PjI0KSYxNjcxMTkzNXwobTw8MjR8bT4+PjgpJjQyNzgyNTUzNjAsZz1lW2hdO2cuaGlnaF49bTtnLmxvd149bDt9Zm9yKGY9MDsyND5mO2YrKyl7Zm9yKGg9MDs1Pmg7aCsrKXtmb3IodmFyIGQ9bD0wLGs9MDs1Pms7aysrKWc9ZVtoKzUqa10sbF49Zy5oaWdoLGRePWcubG93O2c9Y1toXTtnLmhpZ2g9bDtnLmxvdz1kO31mb3IoaD0wOzU+aDtoKyspe2c9Y1soaCs0KSU1XTtsPWNbKGgrMSklNV07bT1sLmhpZ2g7az1sLmxvdztsPWcuaGlnaF4obTw8MXxrPj4+MzEpO2Q9Zy5sb3deKGs8PDF8bT4+PjMxKTtmb3Ioaz0wOzU+aztrKyspZz1lW2grNSprXSxnLmhpZ2hePWwsZy5sb3dePWQ7fWZvcihtPTE7MjU+bTttKyspZz1lW21dLGg9Zy5oaWdoLGc9Zy5sb3csaz1zW21dLDMyPms/KGw9aDw8a3xnPj4+MzItayxkPWc8PGt8aD4+PjMyLWspOihsPWc8PGstMzJ8aD4+PjY0LWssZD1oPDxrLTMyfGc+Pj42NC1rKSxnPWNbeFttXV0sZy5oaWdoPWwsZy5sb3c9ZDtnPWNbMF07aD1lWzBdO2cuaGlnaD1oLmhpZ2g7Zy5sb3c9aC5sb3c7Zm9yKGg9MDs1Pmg7aCsrKWZvcihrPTA7NT5rO2srKyltPWgrNSprLGc9ZVttXSxsPWNbbV0sbT1jWyhoKzEpJTUrNSprXSxkPWNbKGgrMiklNSs1KmtdLGcuaGlnaD1sLmhpZ2hefm0uaGlnaCZkLmhpZ2gsZy5sb3c9bC5sb3defm0ubG93JmQubG93O2c9ZVswXTtoPXlbZl07Zy5oaWdoXj1oLmhpZ2g7Zy5sb3dePWgubG93O319LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxiPWEud29yZHMsYz04KmEuc2lnQnl0ZXMsZT0zMip0aGlzLmJsb2NrU2l6ZTtiW2M+Pj41XXw9MTw8MjQtYyUzMjtiWyh2LmNlaWwoKGMrMSkvZSkqZT4+PjUpLTFdfD0xMjg7YS5zaWdCeXRlcz00KmIubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIGE9dGhpcy5fc3RhdGUsYj10aGlzLmNmZy5vdXRwdXRMZW5ndGgvOCxjPWIvOCxlPVtdLGg9MDtoPGM7aCsrKXt2YXIgZD1hW2hdLGY9ZC5oaWdoLGQ9ZC5sb3csZj0oZjw8OHxmPj4+MjQpJjE2NzExOTM1fChmPDwyNHxmPj4+OCkmNDI3ODI1NTM2MCxkPShkPDw4fGQ+Pj4yNCkmMTY3MTE5MzV8KGQ8PDI0fGQ+Pj44KSY0Mjc4MjU1MzYwO2UucHVzaChkKTtlLnB1c2goZik7fXJldHVybiBuZXcgdS5pbml0KGUsYik7fSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1yLmNsb25lLmNhbGwodGhpcyksYj1hLl9zdGF0ZT10aGlzLl9zdGF0ZS5zbGljZSgwKSxjPTA7MjU+YztjKyspYltjXT1iW2NdLmNsb25lKCk7cmV0dXJuIGE7fX0pO3AuU0hBMz1yLl9jcmVhdGVIZWxwZXIoZCk7cC5IbWFjU0hBMz1yLl9jcmVhdGVIbWFjSGVscGVyKGQpO30pKE1hdGgpOw==',
'/libs/crypto_js/rollups/sha224.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihnLGwpe3ZhciBmPXt9LGs9Zi5saWI9e30saD1mdW5jdGlvbigpe30sbT1rLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtoLnByb3RvdHlwZT10aGlzO3ZhciBjPW5ldyBoKCk7YSYmYy5taXhJbihhKTtjLmhhc093blByb3BlcnR5KCJpbml0Iil8fChjLmluaXQ9ZnVuY3Rpb24oKXtjLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtjLmluaXQucHJvdG90eXBlPWM7Yy4kc3VwZXI9dGhpcztyZXR1cm4gYzt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJih0aGlzW2NdPWFbY10pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scT1rLldvcmRBcnJheT1tLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWMhPWw/Yzo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHMpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndvcmRzLGQ9YS53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihiJTQpZm9yKHZhciBlPTA7ZTxhO2UrKyljW2IrZT4+PjJdfD0oZFtlPj4+Ml0+Pj4yNC04KihlJTQpJjI1NSk8PDI0LTgqKChiK2UpJTQpO2Vsc2UgaWYoNjU1MzU8ZC5sZW5ndGgpZm9yKGU9MDtlPGE7ZSs9NCljW2IrZT4+PjJdPWRbZT4+PjJdO2Vsc2UgYy5wdXNoLmFwcGx5KGMsZCk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YVtjPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGMlNCk7YS5sZW5ndGg9Zy5jZWlsKGMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW0uY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGQ9MDtkPGE7ZCs9NCljLnB1c2goNDI5NDk2NzI5NipnLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcS5pbml0KGMsYSk7fX0pLHQ9Zi5lbmM9e30scz10LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBjPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZD1bXSxiPTA7YjxhO2IrKyl7dmFyIGU9Y1tiPj4+Ml0+Pj4yNC04KihiJTQpJjI1NTtkLnB1c2goKGU+Pj40KS50b1N0cmluZygxNikpO2QucHVzaCgoZSYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGQuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGM9YS5sZW5ndGgsZD1bXSxiPTA7YjxjO2IrPTIpZFtiPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGIsMiksMTYpPDwyNC00KihiJTgpO3JldHVybiBuZXcgcS5pbml0KGQsYy8yKTt9fSxuPXQuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGM9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBkPVtdLGI9MDtiPGE7YisrKWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNbYj4+PjJdPj4+MjQtOCooYiU0KSYyNTUpKTtyZXR1cm4gZC5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hLmxlbmd0aCxkPVtdLGI9MDtiPGM7YisrKWRbYj4+PjJdfD0oYS5jaGFyQ29kZUF0KGIpJjI1NSk8PDI0LTgqKGIlNCk7cmV0dXJuIG5ldyBxLmluaXQoZCxjKTt9fSxqPXQuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShuLnN0cmluZ2lmeShhKSkpO31jYXRjaChjKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gbi5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSx3PWsuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1tLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBxLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9ai5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2RhdGEsZD1jLndvcmRzLGI9Yy5zaWdCeXRlcyxlPXRoaXMuYmxvY2tTaXplLGY9Yi8oNCplKSxmPWE/Zy5jZWlsKGYpOmcubWF4KChmfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1mKmU7Yj1nLm1pbig0KmEsYik7aWYoYSl7Zm9yKHZhciB1PTA7dTxhO3UrPWUpdGhpcy5fZG9Qcm9jZXNzQmxvY2soZCx1KTt1PWQuc3BsaWNlKDAsYSk7Yy5zaWdCeXRlcy09Yjt9cmV0dXJuIG5ldyBxLmluaXQodSxiKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bS5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO2suSGFzaGVyPXcuZXh0ZW5kKHtjZmc6bS5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe3cucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIG5ldyBhLmluaXQoZCkuZmluYWxpemUoYyk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVybiBuZXcgdi5ITUFDLmluaXQoYSxkKS5maW5hbGl6ZShjKTt9O319KTt2YXIgdj1mLmFsZ289e307cmV0dXJuIGY7fShNYXRoKTsoZnVuY3Rpb24oZyl7Zm9yKHZhciBsPUNyeXB0b0pTLGY9bC5saWIsaz1mLldvcmRBcnJheSxoPWYuSGFzaGVyLGY9bC5hbGdvLG09W10scT1bXSx0PWZ1bmN0aW9uKGEpe3JldHVybiA0Mjk0OTY3Mjk2KihhLShhfDApKXwwO30scz0yLG49MDs2ND5uOyl7dmFyIGo7YTp7aj1zO2Zvcih2YXIgdz1nLnNxcnQoaiksdj0yO3Y8PXc7disrKWlmKCEoaiV2KSl7aj0hMTticmVhayBhO31qPSEwO31qJiYoOD5uJiYobVtuXT10KGcucG93KHMsMC41KSkpLHFbbl09dChnLnBvdyhzLDEvMykpLG4rKyk7cysrO312YXIgYT1bXSxmPWYuU0hBMjU2PWguZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGsuaW5pdChtLnNsaWNlKDApKTt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihjLGQpe2Zvcih2YXIgYj10aGlzLl9oYXNoLndvcmRzLGU9YlswXSxmPWJbMV0sZz1iWzJdLGs9YlszXSxoPWJbNF0sbD1iWzVdLG09Yls2XSxuPWJbN10scD0wOzY0PnA7cCsrKXtpZigxNj5wKWFbcF09Y1tkK3BdfDA7ZWxzZXt2YXIgaj1hW3AtMTVdLHI9YVtwLTJdO2FbcF09KChqPDwyNXxqPj4+NyleKGo8PDE0fGo+Pj4xOCleaj4+PjMpK2FbcC03XSsoKHI8PDE1fHI+Pj4xNyleKHI8PDEzfHI+Pj4xOSlecj4+PjEwKSthW3AtMTZdO31qPW4rKChoPDwyNnxoPj4+NileKGg8PDIxfGg+Pj4xMSleKGg8PDd8aD4+PjI1KSkrKGgmbF5+aCZtKStxW3BdK2FbcF07cj0oKGU8PDMwfGU+Pj4yKV4oZTw8MTl8ZT4+PjEzKV4oZTw8MTB8ZT4+PjIyKSkrKGUmZl5lJmdeZiZnKTtuPW07bT1sO2w9aDtoPWsranwwO2s9ZztnPWY7Zj1lO2U9aityfDA7fWJbMF09YlswXStlfDA7YlsxXT1iWzFdK2Z8MDtiWzJdPWJbMl0rZ3wwO2JbM109YlszXStrfDA7Yls0XT1iWzRdK2h8MDtiWzVdPWJbNV0rbHwwO2JbNl09Yls2XSttfDA7Yls3XT1iWzddK258MDt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxkPWEud29yZHMsYj04KnRoaXMuX25EYXRhQnl0ZXMsZT04KmEuc2lnQnl0ZXM7ZFtlPj4+NV18PTEyODw8MjQtZSUzMjtkWyhlKzY0Pj4+OTw8NCkrMTRdPWcuZmxvb3IoYi80Mjk0OTY3Mjk2KTtkWyhlKzY0Pj4+OTw8NCkrMTVdPWI7YS5zaWdCeXRlcz00KmQubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpcy5faGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9aC5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO319KTtsLlNIQTI1Nj1oLl9jcmVhdGVIZWxwZXIoZik7bC5IbWFjU0hBMjU2PWguX2NyZWF0ZUhtYWNIZWxwZXIoZik7fSkoTWF0aCk7KGZ1bmN0aW9uKCl7dmFyIGc9Q3J5cHRvSlMsbD1nLmxpYi5Xb3JkQXJyYXksZj1nLmFsZ28saz1mLlNIQTI1NixmPWYuU0hBMjI0PWsuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGwuaW5pdChbMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0pO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZj1rLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7Zi5zaWdCeXRlcy09NDtyZXR1cm4gZjt9fSk7Zy5TSEEyMjQ9ay5fY3JlYXRlSGVscGVyKGYpO2cuSG1hY1NIQTIyND1rLl9jcmVhdGVIbWFjSGVscGVyKGYpO30pKCk7',
'/libs/crypto_js/rollups/sha512.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihhLG0pe3ZhciByPXt9LGY9ci5saWI9e30sZz1mdW5jdGlvbigpe30sbD1mLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtnLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyBnKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scD1mLldvcmRBcnJheT1sLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPW0/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHEpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGQ9YS53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihjJTQpZm9yKHZhciBqPTA7ajxhO2orKyliW2Mraj4+PjJdfD0oZFtqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NSk8PDI0LTgqKChjK2opJTQpO2Vsc2UgaWYoNjU1MzU8ZC5sZW5ndGgpZm9yKGo9MDtqPGE7ais9NCliW2Mraj4+PjJdPWRbaj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsZCk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7bltiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7bi5sZW5ndGg9YS5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWwuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24obil7Zm9yKHZhciBiPVtdLGQ9MDtkPG47ZCs9NCliLnB1c2goNDI5NDk2NzI5NiphLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcC5pbml0KGIsbik7fX0pLHk9ci5lbmM9e30scT15LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZD1bXSxjPTA7YzxhO2MrKyl7dmFyIGo9YltjPj4+Ml0+Pj4yNC04KihjJTQpJjI1NTtkLnB1c2goKGo+Pj40KS50b1N0cmluZygxNikpO2QucHVzaCgoaiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGQuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsZD1bXSxjPTA7YzxiO2MrPTIpZFtjPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGMsMiksMTYpPDwyNC00KihjJTgpO3JldHVybiBuZXcgcC5pbml0KGQsYi8yKTt9fSxHPXkuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBkPVtdLGM9MDtjPGE7YysrKWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbYz4+PjJdPj4+MjQtOCooYyU0KSYyNTUpKTtyZXR1cm4gZC5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxkPVtdLGM9MDtjPGI7YysrKWRbYz4+PjJdfD0oYS5jaGFyQ29kZUF0KGMpJjI1NSk8PDI0LTgqKGMlNCk7cmV0dXJuIG5ldyBwLmluaXQoZCxiKTt9fSxmYT15LlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoRy5zdHJpbmdpZnkoYSkpKTt9Y2F0Y2goYil7dGhyb3cgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIik7fX0scGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIEcucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSk7fX0saD1mLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09bC5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgcC5pbml0KCk7dGhpcy5fbkRhdGFCeXRlcz0wO30sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWZhLnBhcnNlKGEpKTt0aGlzLl9kYXRhLmNvbmNhdChhKTt0aGlzLl9uRGF0YUJ5dGVzKz1hLnNpZ0J5dGVzO30sX3Byb2Nlc3M6ZnVuY3Rpb24obil7dmFyIGI9dGhpcy5fZGF0YSxkPWIud29yZHMsYz1iLnNpZ0J5dGVzLGo9dGhpcy5ibG9ja1NpemUsbD1jLyg0KmopLGw9bj9hLmNlaWwobCk6YS5tYXgoKGx8MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTtuPWwqajtjPWEubWluKDQqbixjKTtpZihuKXtmb3IodmFyIGg9MDtoPG47aCs9ail0aGlzLl9kb1Byb2Nlc3NCbG9jayhkLGgpO2g9ZC5zcGxpY2UoMCxuKTtiLnNpZ0J5dGVzLT1jO31yZXR1cm4gbmV3IHAuaW5pdChoLGMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1sLmNsb25lLmNhbGwodGhpcyk7YS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGE7fSxfbWluQnVmZmVyU2l6ZTowfSk7Zi5IYXNoZXI9aC5leHRlbmQoe2NmZzpsLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGEpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7aC5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCk7fSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXtyZXR1cm4gbmV3IGEuaW5pdChkKS5maW5hbGl6ZShiKTt9O30sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIG5ldyBnYS5ITUFDLmluaXQoYSxkKS5maW5hbGl6ZShiKTt9O319KTt2YXIgZ2E9ci5hbGdvPXt9O3JldHVybiByO30oTWF0aCk7KGZ1bmN0aW9uKGEpe3ZhciBtPUNyeXB0b0pTLHI9bS5saWIsZj1yLkJhc2UsZz1yLldvcmRBcnJheSxtPW0ueDY0PXt9O20uV29yZD1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLHApe3RoaXMuaGlnaD1hO3RoaXMubG93PXA7fX0pO20uV29yZEFycmF5PWYuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGwscCl7bD10aGlzLndvcmRzPWx8fFtdO3RoaXMuc2lnQnl0ZXM9cCE9YT9wOjgqbC5sZW5ndGg7fSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLndvcmRzLHA9YS5sZW5ndGgsZj1bXSxxPTA7cTxwO3ErKyl7dmFyIEc9YVtxXTtmLnB1c2goRy5oaWdoKTtmLnB1c2goRy5sb3cpO31yZXR1cm4gZy5jcmVhdGUoZix0aGlzLnNpZ0J5dGVzKTt9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKSxwPWEud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxnPXAubGVuZ3RoLHE9MDtxPGc7cSsrKXBbcV09cFtxXS5jbG9uZSgpO3JldHVybiBhO319KTt9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZy5jcmVhdGUuYXBwbHkoZyxhcmd1bWVudHMpO31mb3IodmFyIG09Q3J5cHRvSlMscj1tLmxpYi5IYXNoZXIsZj1tLng2NCxnPWYuV29yZCxsPWYuV29yZEFycmF5LGY9bS5hbGdvLHA9W2EoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxhKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxhKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSksYSgzOTIxMDA5NTczLDIxNzMyOTU1NDgpLGEoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLGEoMTUwODk3MDk5MywzMDUzODM0MjY1KSxhKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSksYSgyODcwNzYzMjIxLDM2NjQ2MDk1NjApLGEoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxhKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxhKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxhKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCksYSgxOTI1MDc4Mzg4LDQwNjgxODIzODMpLGEoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLGEoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLGEoMzI0ODIyMjU4MCwzNDc5Nzc0ODY4KSxhKDM4MzUzOTA0MDEsMjY2NjYxMzQ1OCksYSg0MDIyMjI0Nzc0LDk0NDcxMTEzOSksYSgyNjQzNDcwNzgsMjM0MTI2Mjc3MyksYSg2MDQ4MDc2MjgsMjAwNzgwMDkzMyksYSg3NzAyNTU5ODMsMTQ5NTk5MDkwMSksYSgxMjQ5MTUwMTIyLDE4NTY0MzEyMzUpLGEoMTU1NTA4MTY5MiwzMTc1MjE4MTMyKSxhKDE5OTYwNjQ5ODYsMjE5ODk1MDgzNyksYSgyNTU0MjIwODgyLDM5OTk3MTkzMzkpLGEoMjgyMTgzNDM0OSw3NjY3ODQwMTYpLGEoMjk1Mjk5NjgwOCwyNTY2NTk0ODc5KSxhKDMyMTAzMTM2NzEsMzIwMzMzNzk1NiksYSgzMzM2NTcxODkxLDEwMzQ0NTcwMjYpLGEoMzU4NDUyODcxMSwyNDY2OTQ4OTAxKSxhKDExMzkyNjk5MywzNzU4MzI2MzgzKSxhKDMzODI0MTg5NSwxNjg3MTc5MzYpLGEoNjY2MzA3MjA1LDExODgxNzk5NjQpLGEoNzczNTI5OTEyLDE1NDYwNDU3MzQpLGEoMTI5NDc1NzM3MiwxNTIyODA1NDg1KSxhKDEzOTYxODIyOTEsMjY0MzgzMzgyMyksYSgxNjk1MTgzNzAwLDIzNDM1MjczOTApLGEoMTk4NjY2MTA1MSwxMDE0NDc3NDgwKSxhKDIxNzcwMjYzNTAsMTIwNjc1OTE0MiksYSgyNDU2OTU2MDM3LDM0NDA3NzYyNyksYSgyNzMwNDg1OTIxLDEyOTA4NjM0NjApLGEoMjgyMDMwMjQxMSwzMTU4NDU0MjczKSxhKDMyNTk3MzA4MDAsMzUwNTk1MjY1NyksYSgzMzQ1NzY0NzcxLDEwNjIxNzAwOCksYSgzNTE2MDY1ODE3LDM2MDYwMDgzNDQpLGEoMzYwMDM1MjgwNCwxNDMyNzI1Nzc2KSxhKDQwOTQ1NzE5MDksMTQ2NzAzMTU5NCksYSgyNzU0MjMzNDQsODUxMTY5NzIwKSxhKDQzMDIyNzczNCwzMTAwODIzNzUyKSxhKDUwNjk0ODYxNiwxMzYzMjU4MTk1KSxhKDY1OTA2MDU1NiwzNzUwNjg1NTkzKSxhKDg4Mzk5Nzg3NywzNzg1MDUwMjgwKSxhKDk1ODEzOTU3MSwzMzE4MzA3NDI3KSxhKDEzMjI4MjIyMTgsMzgxMjcyMzQwMyksYSgxNTM3MDAyMDYzLDIwMDMwMzQ5OTUpLGEoMTc0Nzg3Mzc3OSwzNjAyMDM2ODk5KSxhKDE5NTU1NjIyMjIsMTU3NTk5MDAxMiksYSgyMDI0MTA0ODE1LDExMjU1OTI5MjgpLGEoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxhKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxhKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxhKDI3NTY3MzQxODcsMzczMzExMDI0OSksYSgzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLGEoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxhKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksYSgzNTE1MjY3MjcxLDU2NjI4MDcxMSksYSgzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLGEoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxhKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxhKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxhKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxhKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLGEoNjg1NDcxNzMzLDU4NzQ5NjgzNiksYSg4NTIxNDI5NzEsMTA4Njc5Mjg1MSksYSgxMDE3MDM2Mjk4LDM2NTU0MzEwMCksYSgxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLGEoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxhKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksYSgxNjA3MTY3OTE1LDk4NzE2NzQ2OCksYSgxODE2NDAyMzE2LDEyNDYxODk1OTEpXSx5PVtdLHE9MDs4MD5xO3ErKyl5W3FdPWEoKTtmPWYuU0hBNTEyPXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGwuaW5pdChbbmV3IGcuaW5pdCgxNzc5MDMzNzAzLDQwODkyMzU3MjApLG5ldyBnLmluaXQoMzE0NDEzNDI3NywyMjI3ODczNTk1KSxuZXcgZy5pbml0KDEwMTM5MDQyNDIsNDI3MTE3NTcyMyksbmV3IGcuaW5pdCgyNzczNDgwNzYyLDE1OTU3NTAxMjkpLG5ldyBnLmluaXQoMTM1OTg5MzExOSwyOTE3NTY1MTM3KSxuZXcgZy5pbml0KDI2MDA4MjI5MjQsNzI1NTExMTk5KSxuZXcgZy5pbml0KDUyODczNDYzNSw0MjE1Mzg5NTQ3KSxuZXcgZy5pbml0KDE1NDE0NTkyMjUsMzI3MDMzMjA5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBoPXRoaXMuX2hhc2gud29yZHMsZz1oWzBdLG49aFsxXSxiPWhbMl0sZD1oWzNdLGM9aFs0XSxqPWhbNV0sbD1oWzZdLGg9aFs3XSxxPWcuaGlnaCxtPWcubG93LHI9bi5oaWdoLE49bi5sb3csWj1iLmhpZ2gsTz1iLmxvdywkPWQuaGlnaCxQPWQubG93LGFhPWMuaGlnaCxRPWMubG93LGJhPWouaGlnaCxSPWoubG93LGNhPWwuaGlnaCxTPWwubG93LGRhPWguaGlnaCxUPWgubG93LHY9cSxzPW0sSD1yLEU9TixJPVosRj1PLFc9JCxKPVAsdz1hYSx0PVEsVT1iYSxLPVIsVj1jYSxMPVMsWD1kYSxNPVQseD0wOzgwPng7eCsrKXt2YXIgQj15W3hdO2lmKDE2PngpdmFyIHU9Qi5oaWdoPWFbZisyKnhdfDAsZT1CLmxvdz1hW2YrMip4KzFdfDA7ZWxzZXt2YXIgdT15W3gtMTVdLGU9dS5oaWdoLHo9dS5sb3csdT0oZT4+PjF8ejw8MzEpXihlPj4+OHx6PDwyNCleZT4+Pjcsej0oej4+PjF8ZTw8MzEpXih6Pj4+OHxlPDwyNCleKHo+Pj43fGU8PDI1KSxEPXlbeC0yXSxlPUQuaGlnaCxrPUQubG93LEQ9KGU+Pj4xOXxrPDwxMyleKGU8PDN8az4+PjI5KV5lPj4+NixrPShrPj4+MTl8ZTw8MTMpXihrPDwzfGU+Pj4yOSleKGs+Pj42fGU8PDI2KSxlPXlbeC03XSxZPWUuaGlnaCxDPXlbeC0xNl0sQT1DLmhpZ2gsQz1DLmxvdyxlPXorZS5sb3csdT11K1krKGU+Pj4wPHo+Pj4wPzE6MCksZT1lK2ssdT11K0QrKGU+Pj4wPGs+Pj4wPzE6MCksZT1lK0MsdT11K0ErKGU+Pj4wPEM+Pj4wPzE6MCk7Qi5oaWdoPXU7Qi5sb3c9ZTt9dmFyIFk9dyZVXn53JlYsQz10JktefnQmTCxCPXYmSF52JkleSCZJLGhhPXMmRV5zJkZeRSZGLHo9KHY+Pj4yOHxzPDw0KV4odjw8MzB8cz4+PjIpXih2PDwyNXxzPj4+NyksRD0ocz4+PjI4fHY8PDQpXihzPDwzMHx2Pj4+MileKHM8PDI1fHY+Pj43KSxrPXBbeF0saWE9ay5oaWdoLGVhPWsubG93LGs9TSsoKHQ+Pj4xNHx3PDwxOCleKHQ+Pj4xOHx3PDwxNCleKHQ8PDIzfHc+Pj45KSksQT1YKygodz4+PjE0fHQ8PDE4KV4odz4+PjE4fHQ8PDE0KV4odzw8MjN8dD4+PjkpKSsoaz4+PjA8TT4+PjA/MTowKSxrPWsrQyxBPUErWSsoaz4+PjA8Qz4+PjA/MTowKSxrPWsrZWEsQT1BK2lhKyhrPj4+MDxlYT4+PjA/MTowKSxrPWsrZSxBPUErdSsoaz4+PjA8ZT4+PjA/MTowKSxlPUQraGEsQj16K0IrKGU+Pj4wPEQ+Pj4wPzE6MCksWD1WLE09TCxWPVUsTD1LLFU9dyxLPXQsdD1KK2t8MCx3PVcrQSsodD4+PjA8Sj4+PjA/MTowKXwwLFc9SSxKPUYsST1ILEY9RSxIPXYsRT1zLHM9aytlfDAsdj1BK0IrKHM+Pj4wPGs+Pj4wPzE6MCl8MDt9bT1nLmxvdz1tK3M7Zy5oaWdoPXErdisobT4+PjA8cz4+PjA/MTowKTtOPW4ubG93PU4rRTtuLmhpZ2g9citIKyhOPj4+MDxFPj4+MD8xOjApO089Yi5sb3c9TytGO2IuaGlnaD1aK0krKE8+Pj4wPEY+Pj4wPzE6MCk7UD1kLmxvdz1QK0o7ZC5oaWdoPSQrVysoUD4+PjA8Sj4+PjA/MTowKTtRPWMubG93PVErdDtjLmhpZ2g9YWErdysoUT4+PjA8dD4+PjA/MTowKTtSPWoubG93PVIrSztqLmhpZ2g9YmErVSsoUj4+PjA8Sz4+PjA/MTowKTtTPWwubG93PVMrTDtsLmhpZ2g9Y2ErVisoUz4+PjA8TD4+PjA/MTowKTtUPWgubG93PVQrTTtoLmhpZ2g9ZGErWCsoVD4+PjA8TT4+PjA/MTowKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxmPWEud29yZHMsaD04KnRoaXMuX25EYXRhQnl0ZXMsZz04KmEuc2lnQnl0ZXM7ZltnPj4+NV18PTEyODw8MjQtZyUzMjtmWyhnKzEyOD4+PjEwPDw1KSszMF09TWF0aC5mbG9vcihoLzQyOTQ5NjcyOTYpO2ZbKGcrMTI4Pj4+MTA8PDUpKzMxXT1oO2Euc2lnQnl0ZXM9NCpmLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2gudG9YMzIoKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ci5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO30sYmxvY2tTaXplOjMyfSk7bS5TSEE1MTI9ci5fY3JlYXRlSGVscGVyKGYpO20uSG1hY1NIQTUxMj1yLl9jcmVhdGVIbWFjSGVscGVyKGYpO30pKCk7',
'/libs/crypto_js/rollups/sha384.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihhLGMpe3ZhciBkPXt9LGo9ZC5saWI9e30sZj1mdW5jdGlvbigpe30sbT1qLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtmLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyBmKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0sQj1qLldvcmRBcnJheT1tLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPWM/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHkpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGc9YS53b3JkcyxlPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihlJTQpZm9yKHZhciBrPTA7azxhO2srKyliW2Uraz4+PjJdfD0oZ1trPj4+Ml0+Pj4yNC04KihrJTQpJjI1NSk8PDI0LTgqKChlK2spJTQpO2Vsc2UgaWYoNjU1MzU8Zy5sZW5ndGgpZm9yKGs9MDtrPGE7ays9NCliW2Uraz4+PjJdPWdbaz4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsZyk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7bltiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7bi5sZW5ndGg9YS5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW0uY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24obil7Zm9yKHZhciBiPVtdLGc9MDtnPG47Zys9NCliLnB1c2goNDI5NDk2NzI5NiphLnJhbmRvbSgpfDApO3JldHVybiBuZXcgQi5pbml0KGIsbik7fX0pLHY9ZC5lbmM9e30seT12LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZz1bXSxlPTA7ZTxhO2UrKyl7dmFyIGs9YltlPj4+Ml0+Pj4yNC04KihlJTQpJjI1NTtnLnB1c2goKGs+Pj40KS50b1N0cmluZygxNikpO2cucHVzaCgoayYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGcuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsZz1bXSxlPTA7ZTxiO2UrPTIpZ1tlPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGUsMiksMTYpPDwyNC00KihlJTgpO3JldHVybiBuZXcgQi5pbml0KGcsYi8yKTt9fSxGPXYuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBnPVtdLGU9MDtlPGE7ZSsrKWcucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbZT4+PjJdPj4+MjQtOCooZSU0KSYyNTUpKTtyZXR1cm4gZy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxnPVtdLGU9MDtlPGI7ZSsrKWdbZT4+PjJdfD0oYS5jaGFyQ29kZUF0KGUpJjI1NSk8PDI0LTgqKGUlNCk7cmV0dXJuIG5ldyBCLmluaXQoZyxiKTt9fSxoYT12LlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoRi5zdHJpbmdpZnkoYSkpKTt9Y2F0Y2goYil7dGhyb3cgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIik7fX0scGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIEYucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSk7fX0sWj1qLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09bS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgQi5pbml0KCk7dGhpcy5fbkRhdGFCeXRlcz0wO30sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWhhLnBhcnNlKGEpKTt0aGlzLl9kYXRhLmNvbmNhdChhKTt0aGlzLl9uRGF0YUJ5dGVzKz1hLnNpZ0J5dGVzO30sX3Byb2Nlc3M6ZnVuY3Rpb24obil7dmFyIGI9dGhpcy5fZGF0YSxnPWIud29yZHMsZT1iLnNpZ0J5dGVzLGs9dGhpcy5ibG9ja1NpemUsbT1lLyg0KmspLG09bj9hLmNlaWwobSk6YS5tYXgoKG18MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTtuPW0qaztlPWEubWluKDQqbixlKTtpZihuKXtmb3IodmFyIGM9MDtjPG47Yys9ayl0aGlzLl9kb1Byb2Nlc3NCbG9jayhnLGMpO2M9Zy5zcGxpY2UoMCxuKTtiLnNpZ0J5dGVzLT1lO31yZXR1cm4gbmV3IEIuaW5pdChjLGUpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1tLmNsb25lLmNhbGwodGhpcyk7YS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGE7fSxfbWluQnVmZmVyU2l6ZTowfSk7ai5IYXNoZXI9Wi5leHRlbmQoe2NmZzptLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGEpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7Wi5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCk7fSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixnKXtyZXR1cm4gbmV3IGEuaW5pdChnKS5maW5hbGl6ZShiKTt9O30sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZyl7cmV0dXJuIG5ldyBpYS5ITUFDLmluaXQoYSxnKS5maW5hbGl6ZShiKTt9O319KTt2YXIgaWE9ZC5hbGdvPXt9O3JldHVybiBkO30oTWF0aCk7KGZ1bmN0aW9uKGEpe3ZhciBjPUNyeXB0b0pTLGQ9Yy5saWIsaj1kLkJhc2UsZj1kLldvcmRBcnJheSxjPWMueDY0PXt9O2MuV29yZD1qLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe3RoaXMuaGlnaD1hO3RoaXMubG93PWM7fX0pO2MuV29yZEFycmF5PWouZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGMsZCl7Yz10aGlzLndvcmRzPWN8fFtdO3RoaXMuc2lnQnl0ZXM9ZCE9YT9kOjgqYy5sZW5ndGg7fSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLndvcmRzLGM9YS5sZW5ndGgsZD1bXSxqPTA7ajxjO2orKyl7dmFyIEY9YVtqXTtkLnB1c2goRi5oaWdoKTtkLnB1c2goRi5sb3cpO31yZXR1cm4gZi5jcmVhdGUoZCx0aGlzLnNpZ0J5dGVzKTt9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWouY2xvbmUuY2FsbCh0aGlzKSxjPWEud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxkPWMubGVuZ3RoLGY9MDtmPGQ7ZisrKWNbZl09Y1tmXS5jbG9uZSgpO3JldHVybiBhO319KTt9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZi5jcmVhdGUuYXBwbHkoZixhcmd1bWVudHMpO31mb3IodmFyIGM9Q3J5cHRvSlMsZD1jLmxpYi5IYXNoZXIsaj1jLng2NCxmPWouV29yZCxtPWouV29yZEFycmF5LGo9Yy5hbGdvLEI9W2EoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxhKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxhKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSksYSgzOTIxMDA5NTczLDIxNzMyOTU1NDgpLGEoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLGEoMTUwODk3MDk5MywzMDUzODM0MjY1KSxhKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSksYSgyODcwNzYzMjIxLDM2NjQ2MDk1NjApLGEoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxhKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxhKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxhKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCksYSgxOTI1MDc4Mzg4LDQwNjgxODIzODMpLGEoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLGEoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLGEoMzI0ODIyMjU4MCwzNDc5Nzc0ODY4KSxhKDM4MzUzOTA0MDEsMjY2NjYxMzQ1OCksYSg0MDIyMjI0Nzc0LDk0NDcxMTEzOSksYSgyNjQzNDcwNzgsMjM0MTI2Mjc3MyksYSg2MDQ4MDc2MjgsMjAwNzgwMDkzMyksYSg3NzAyNTU5ODMsMTQ5NTk5MDkwMSksYSgxMjQ5MTUwMTIyLDE4NTY0MzEyMzUpLGEoMTU1NTA4MTY5MiwzMTc1MjE4MTMyKSxhKDE5OTYwNjQ5ODYsMjE5ODk1MDgzNyksYSgyNTU0MjIwODgyLDM5OTk3MTkzMzkpLGEoMjgyMTgzNDM0OSw3NjY3ODQwMTYpLGEoMjk1Mjk5NjgwOCwyNTY2NTk0ODc5KSxhKDMyMTAzMTM2NzEsMzIwMzMzNzk1NiksYSgzMzM2NTcxODkxLDEwMzQ0NTcwMjYpLGEoMzU4NDUyODcxMSwyNDY2OTQ4OTAxKSxhKDExMzkyNjk5MywzNzU4MzI2MzgzKSxhKDMzODI0MTg5NSwxNjg3MTc5MzYpLGEoNjY2MzA3MjA1LDExODgxNzk5NjQpLGEoNzczNTI5OTEyLDE1NDYwNDU3MzQpLGEoMTI5NDc1NzM3MiwxNTIyODA1NDg1KSxhKDEzOTYxODIyOTEsMjY0MzgzMzgyMyksYSgxNjk1MTgzNzAwLDIzNDM1MjczOTApLGEoMTk4NjY2MTA1MSwxMDE0NDc3NDgwKSxhKDIxNzcwMjYzNTAsMTIwNjc1OTE0MiksYSgyNDU2OTU2MDM3LDM0NDA3NzYyNyksYSgyNzMwNDg1OTIxLDEyOTA4NjM0NjApLGEoMjgyMDMwMjQxMSwzMTU4NDU0MjczKSxhKDMyNTk3MzA4MDAsMzUwNTk1MjY1NyksYSgzMzQ1NzY0NzcxLDEwNjIxNzAwOCksYSgzNTE2MDY1ODE3LDM2MDYwMDgzNDQpLGEoMzYwMDM1MjgwNCwxNDMyNzI1Nzc2KSxhKDQwOTQ1NzE5MDksMTQ2NzAzMTU5NCksYSgyNzU0MjMzNDQsODUxMTY5NzIwKSxhKDQzMDIyNzczNCwzMTAwODIzNzUyKSxhKDUwNjk0ODYxNiwxMzYzMjU4MTk1KSxhKDY1OTA2MDU1NiwzNzUwNjg1NTkzKSxhKDg4Mzk5Nzg3NywzNzg1MDUwMjgwKSxhKDk1ODEzOTU3MSwzMzE4MzA3NDI3KSxhKDEzMjI4MjIyMTgsMzgxMjcyMzQwMyksYSgxNTM3MDAyMDYzLDIwMDMwMzQ5OTUpLGEoMTc0Nzg3Mzc3OSwzNjAyMDM2ODk5KSxhKDE5NTU1NjIyMjIsMTU3NTk5MDAxMiksYSgyMDI0MTA0ODE1LDExMjU1OTI5MjgpLGEoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxhKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxhKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxhKDI3NTY3MzQxODcsMzczMzExMDI0OSksYSgzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLGEoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxhKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksYSgzNTE1MjY3MjcxLDU2NjI4MDcxMSksYSgzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLGEoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxhKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxhKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxhKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxhKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLGEoNjg1NDcxNzMzLDU4NzQ5NjgzNiksYSg4NTIxNDI5NzEsMTA4Njc5Mjg1MSksYSgxMDE3MDM2Mjk4LDM2NTU0MzEwMCksYSgxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLGEoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxhKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksYSgxNjA3MTY3OTE1LDk4NzE2NzQ2OCksYSgxODE2NDAyMzE2LDEyNDYxODk1OTEpXSx2PVtdLHk9MDs4MD55O3krKyl2W3ldPWEoKTtqPWouU0hBNTEyPWQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IG0uaW5pdChbbmV3IGYuaW5pdCgxNzc5MDMzNzAzLDQwODkyMzU3MjApLG5ldyBmLmluaXQoMzE0NDEzNDI3NywyMjI3ODczNTk1KSxuZXcgZi5pbml0KDEwMTM5MDQyNDIsNDI3MTE3NTcyMyksbmV3IGYuaW5pdCgyNzczNDgwNzYyLDE1OTU3NTAxMjkpLG5ldyBmLmluaXQoMTM1OTg5MzExOSwyOTE3NTY1MTM3KSxuZXcgZi5pbml0KDI2MDA4MjI5MjQsNzI1NTExMTk5KSxuZXcgZi5pbml0KDUyODczNDYzNSw0MjE1Mzg5NTQ3KSxuZXcgZi5pbml0KDE1NDE0NTkyMjUsMzI3MDMzMjA5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPXRoaXMuX2hhc2gud29yZHMsZj1kWzBdLGo9ZFsxXSxiPWRbMl0sZz1kWzNdLGU9ZFs0XSxrPWRbNV0sbT1kWzZdLGQ9ZFs3XSx5PWYuaGlnaCxNPWYubG93LCQ9ai5oaWdoLE49ai5sb3csYWE9Yi5oaWdoLE89Yi5sb3csYmE9Zy5oaWdoLFA9Zy5sb3csY2E9ZS5oaWdoLFE9ZS5sb3csZGE9ay5oaWdoLFI9ay5sb3csZWE9bS5oaWdoLFM9bS5sb3csZmE9ZC5oaWdoLFQ9ZC5sb3cscz15LHA9TSxHPSQsRD1OLEg9YWEsRT1PLFc9YmEsST1QLHQ9Y2EscT1RLFU9ZGEsSj1SLFY9ZWEsSz1TLFg9ZmEsTD1ULHU9MDs4MD51O3UrKyl7dmFyIHo9dlt1XTtpZigxNj51KXZhciByPXouaGlnaD1hW2MrMip1XXwwLGg9ei5sb3c9YVtjKzIqdSsxXXwwO2Vsc2V7dmFyIHI9dlt1LTE1XSxoPXIuaGlnaCx3PXIubG93LHI9KGg+Pj4xfHc8PDMxKV4oaD4+Pjh8dzw8MjQpXmg+Pj43LHc9KHc+Pj4xfGg8PDMxKV4odz4+Pjh8aDw8MjQpXih3Pj4+N3xoPDwyNSksQz12W3UtMl0saD1DLmhpZ2gsbD1DLmxvdyxDPShoPj4+MTl8bDw8MTMpXihoPDwzfGw+Pj4yOSleaD4+PjYsbD0obD4+PjE5fGg8PDEzKV4obDw8M3xoPj4+MjkpXihsPj4+NnxoPDwyNiksaD12W3UtN10sWT1oLmhpZ2gsQT12W3UtMTZdLHg9QS5oaWdoLEE9QS5sb3csaD13K2gubG93LHI9citZKyhoPj4+MDx3Pj4+MD8xOjApLGg9aCtsLHI9citDKyhoPj4+MDxsPj4+MD8xOjApLGg9aCtBLHI9cit4KyhoPj4+MDxBPj4+MD8xOjApO3ouaGlnaD1yO3oubG93PWg7fXZhciBZPXQmVV5+dCZWLEE9cSZKXn5xJkssej1zJkdecyZIXkcmSCxqYT1wJkRecCZFXkQmRSx3PShzPj4+Mjh8cDw8NCleKHM8PDMwfHA+Pj4yKV4oczw8MjV8cD4+PjcpLEM9KHA+Pj4yOHxzPDw0KV4ocDw8MzB8cz4+PjIpXihwPDwyNXxzPj4+NyksbD1CW3VdLGthPWwuaGlnaCxnYT1sLmxvdyxsPUwrKChxPj4+MTR8dDw8MTgpXihxPj4+MTh8dDw8MTQpXihxPDwyM3x0Pj4+OSkpLHg9WCsoKHQ+Pj4xNHxxPDwxOCleKHQ+Pj4xOHxxPDwxNCleKHQ8PDIzfHE+Pj45KSkrKGw+Pj4wPEw+Pj4wPzE6MCksbD1sK0EseD14K1krKGw+Pj4wPEE+Pj4wPzE6MCksbD1sK2dhLHg9eCtrYSsobD4+PjA8Z2E+Pj4wPzE6MCksbD1sK2gseD14K3IrKGw+Pj4wPGg+Pj4wPzE6MCksaD1DK2phLHo9dyt6KyhoPj4+MDxDPj4+MD8xOjApLFg9VixMPUssVj1VLEs9SixVPXQsSj1xLHE9SStsfDAsdD1XK3grKHE+Pj4wPEk+Pj4wPzE6MCl8MCxXPUgsST1FLEg9RyxFPUQsRz1zLEQ9cCxwPWwraHwwLHM9eCt6KyhwPj4+MDxsPj4+MD8xOjApfDA7fU09Zi5sb3c9TStwO2YuaGlnaD15K3MrKE0+Pj4wPHA+Pj4wPzE6MCk7Tj1qLmxvdz1OK0Q7ai5oaWdoPSQrRysoTj4+PjA8RD4+PjA/MTowKTtPPWIubG93PU8rRTtiLmhpZ2g9YWErSCsoTz4+PjA8RT4+PjA/MTowKTtQPWcubG93PVArSTtnLmhpZ2g9YmErVysoUD4+PjA8ST4+PjA/MTowKTtRPWUubG93PVErcTtlLmhpZ2g9Y2ErdCsoUT4+PjA8cT4+PjA/MTowKTtSPWsubG93PVIrSjtrLmhpZ2g9ZGErVSsoUj4+PjA8Sj4+PjA/MTowKTtTPW0ubG93PVMrSzttLmhpZ2g9ZWErVisoUz4+PjA8Sz4+PjA/MTowKTtUPWQubG93PVQrTDtkLmhpZ2g9ZmErWCsoVD4+PjA8TD4+PjA/MTowKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxjPWEud29yZHMsZD04KnRoaXMuX25EYXRhQnl0ZXMsZj04KmEuc2lnQnl0ZXM7Y1tmPj4+NV18PTEyODw8MjQtZiUzMjtjWyhmKzEyOD4+PjEwPDw1KSszMF09TWF0aC5mbG9vcihkLzQyOTQ5NjcyOTYpO2NbKGYrMTI4Pj4+MTA8PDUpKzMxXT1kO2Euc2lnQnl0ZXM9NCpjLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2gudG9YMzIoKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO30sYmxvY2tTaXplOjMyfSk7Yy5TSEE1MTI9ZC5fY3JlYXRlSGVscGVyKGopO2MuSG1hY1NIQTUxMj1kLl9jcmVhdGVIbWFjSGVscGVyKGopO30pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9Q3J5cHRvSlMsYz1hLng2NCxkPWMuV29yZCxqPWMuV29yZEFycmF5LGM9YS5hbGdvLGY9Yy5TSEE1MTIsYz1jLlNIQTM4ND1mLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBqLmluaXQoW25ldyBkLmluaXQoMzQxODA3MDM2NSwzMjM4MzcxMDMyKSxuZXcgZC5pbml0KDE2NTQyNzAyNTAsOTE0MTUwNjYzKSxuZXcgZC5pbml0KDI0Mzg1MjkzNzAsODEyNzAyOTk5KSxuZXcgZC5pbml0KDM1NTQ2MjM2MCw0MTQ0OTEyNjk3KSxuZXcgZC5pbml0KDE3MzE0MDU0MTUsNDI5MDc3NTg1NyksbmV3IGQuaW5pdCgyMzk0MTgwMjMxLDE3NTA2MDMwMjUpLG5ldyBkLmluaXQoMzY3NTAwODUyNSwxNjk0MDc2ODM5KSxuZXcgZC5pbml0KDEyMDMwNjI4MTMsMzIwNDA3NTQyOCldKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Zi5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO2Euc2lnQnl0ZXMtPTE2O3JldHVybiBhO319KTthLlNIQTM4ND1mLl9jcmVhdGVIZWxwZXIoYyk7YS5IbWFjU0hBMzg0PWYuX2NyZWF0ZUhtYWNIZWxwZXIoYyk7fSkoKTs=',
'/libs/crypto_js/rollups/md5.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihzLHApe3ZhciBtPXt9LGw9bS5saWI9e30sbj1mdW5jdGlvbigpe30scj1sLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihiKXtuLnByb3RvdHlwZT10aGlzO3ZhciBoPW5ldyBuKCk7YiYmaC5taXhJbihiKTtoLmhhc093blByb3BlcnR5KCJpbml0Iil8fChoLmluaXQ9ZnVuY3Rpb24oKXtoLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtoLmluaXQucHJvdG90eXBlPWg7aC4kc3VwZXI9dGhpcztyZXR1cm4gaDt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZXh0ZW5kKCk7Yi5pbml0LmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gYjt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGIpe2Zvcih2YXIgaCBpbiBiKWIuaGFzT3duUHJvcGVydHkoaCkmJih0aGlzW2hdPWJbaF0pO2IuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWIudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scT1sLldvcmRBcnJheT1yLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihiLGgpe2I9dGhpcy53b3Jkcz1ifHxbXTt0aGlzLnNpZ0J5dGVzPWghPXA/aDo0KmIubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYil7cmV0dXJuKGJ8fHQpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihiKXt2YXIgaD10aGlzLndvcmRzLGE9Yi53b3JkcyxqPXRoaXMuc2lnQnl0ZXM7Yj1iLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihqJTQpZm9yKHZhciBnPTA7ZzxiO2crKyloW2orZz4+PjJdfD0oYVtnPj4+Ml0+Pj4yNC04KihnJTQpJjI1NSk8PDI0LTgqKChqK2cpJTQpO2Vsc2UgaWYoNjU1MzU8YS5sZW5ndGgpZm9yKGc9MDtnPGI7Zys9NCloW2orZz4+PjJdPWFbZz4+PjJdO2Vsc2UgaC5wdXNoLmFwcGx5KGgsYSk7dGhpcy5zaWdCeXRlcys9YjtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53b3JkcyxoPXRoaXMuc2lnQnl0ZXM7YltoPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGglNCk7Yi5sZW5ndGg9cy5jZWlsKGgvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBiPXIuY2xvbmUuY2FsbCh0aGlzKTtiLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGI7fSxyYW5kb206ZnVuY3Rpb24oYil7Zm9yKHZhciBoPVtdLGE9MDthPGI7YSs9NCloLnB1c2goNDI5NDk2NzI5NipzLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcS5pbml0KGgsYik7fX0pLHY9bS5lbmM9e30sdD12LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGIpe3ZhciBhPWIud29yZHM7Yj1iLnNpZ0J5dGVzO2Zvcih2YXIgZz1bXSxqPTA7ajxiO2orKyl7dmFyIGs9YVtqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NTtnLnB1c2goKGs+Pj40KS50b1N0cmluZygxNikpO2cucHVzaCgoayYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGcuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihiKXtmb3IodmFyIGE9Yi5sZW5ndGgsZz1bXSxqPTA7ajxhO2orPTIpZ1tqPj4+M118PXBhcnNlSW50KGIuc3Vic3RyKGosMiksMTYpPDwyNC00KihqJTgpO3JldHVybiBuZXcgcS5pbml0KGcsYS8yKTt9fSxhPXYuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYil7dmFyIGE9Yi53b3JkcztiPWIuc2lnQnl0ZXM7Zm9yKHZhciBnPVtdLGo9MDtqPGI7aisrKWcucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGFbaj4+PjJdPj4+MjQtOCooaiU0KSYyNTUpKTtyZXR1cm4gZy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYT1iLmxlbmd0aCxnPVtdLGo9MDtqPGE7aisrKWdbaj4+PjJdfD0oYi5jaGFyQ29kZUF0KGopJjI1NSk8PDI0LTgqKGolNCk7cmV0dXJuIG5ldyBxLmluaXQoZyxhKTt9fSx1PXYuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhLnN0cmluZ2lmeShiKSkpO31jYXRjaChnKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYikpKTt9fSxnPWwuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1yLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBxLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGIpeyJzdHJpbmciPT10eXBlb2YgYiYmKGI9dS5wYXJzZShiKSk7dGhpcy5fZGF0YS5jb25jYXQoYik7dGhpcy5fbkRhdGFCeXRlcys9Yi5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuX2RhdGEsZz1hLndvcmRzLGo9YS5zaWdCeXRlcyxrPXRoaXMuYmxvY2tTaXplLG09ai8oNCprKSxtPWI/cy5jZWlsKG0pOnMubWF4KChtfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7Yj1tKms7aj1zLm1pbig0KmIsaik7aWYoYil7Zm9yKHZhciBsPTA7bDxiO2wrPWspdGhpcy5fZG9Qcm9jZXNzQmxvY2soZyxsKTtsPWcuc3BsaWNlKDAsYik7YS5zaWdCeXRlcy09ajt9cmV0dXJuIG5ldyBxLmluaXQobCxqKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGI9ci5jbG9uZS5jYWxsKHRoaXMpO2IuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBiO30sX21pbkJ1ZmZlclNpemU6MH0pO2wuSGFzaGVyPWcuZXh0ZW5kKHtjZmc6ci5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGIpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChiKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe2cucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYil7dGhpcy5fYXBwZW5kKGIpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGIpe2ImJnRoaXMuX2FwcGVuZChiKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGEsZyl7cmV0dXJuIG5ldyBiLmluaXQoZykuZmluYWxpemUoYSk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihhLGcpe3JldHVybiBuZXcgay5ITUFDLmluaXQoYixnKS5maW5hbGl6ZShhKTt9O319KTt2YXIgaz1tLmFsZ289e307cmV0dXJuIG07fShNYXRoKTsoZnVuY3Rpb24ocyl7ZnVuY3Rpb24gcChhLGssYixoLGwsaixtKXthPWErKGsmYnx+ayZoKStsK207cmV0dXJuKGE8PGp8YT4+PjMyLWopK2s7fWZ1bmN0aW9uIG0oYSxrLGIsaCxsLGosbSl7YT1hKyhrJmh8YiZ+aCkrbCttO3JldHVybihhPDxqfGE+Pj4zMi1qKStrO31mdW5jdGlvbiBsKGEsayxiLGgsbCxqLG0pe2E9YSsoa15iXmgpK2wrbTtyZXR1cm4oYTw8anxhPj4+MzItaikrazt9ZnVuY3Rpb24gbihhLGssYixoLGwsaixtKXthPWErKGJeKGt8fmgpKStsK207cmV0dXJuKGE8PGp8YT4+PjMyLWopK2s7fWZvcih2YXIgcj1DcnlwdG9KUyxxPXIubGliLHY9cS5Xb3JkQXJyYXksdD1xLkhhc2hlcixxPXIuYWxnbyxhPVtdLHU9MDs2ND51O3UrKylhW3VdPTQyOTQ5NjcyOTYqcy5hYnMocy5zaW4odSsxKSl8MDtxPXEuTUQ1PXQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHYuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oZyxrKXtmb3IodmFyIGI9MDsxNj5iO2IrKyl7dmFyIGg9aytiLHc9Z1toXTtnW2hdPSh3PDw4fHc+Pj4yNCkmMTY3MTE5MzV8KHc8PDI0fHc+Pj44KSY0Mjc4MjU1MzYwO312YXIgYj10aGlzLl9oYXNoLndvcmRzLGg9Z1trKzBdLHc9Z1trKzFdLGo9Z1trKzJdLHE9Z1trKzNdLHI9Z1trKzRdLHM9Z1trKzVdLHQ9Z1trKzZdLHU9Z1trKzddLHY9Z1trKzhdLHg9Z1trKzldLHk9Z1trKzEwXSx6PWdbaysxMV0sQT1nW2srMTJdLEI9Z1trKzEzXSxDPWdbaysxNF0sRD1nW2srMTVdLGM9YlswXSxkPWJbMV0sZT1iWzJdLGY9YlszXSxjPXAoYyxkLGUsZixoLDcsYVswXSksZj1wKGYsYyxkLGUsdywxMixhWzFdKSxlPXAoZSxmLGMsZCxqLDE3LGFbMl0pLGQ9cChkLGUsZixjLHEsMjIsYVszXSksYz1wKGMsZCxlLGYsciw3LGFbNF0pLGY9cChmLGMsZCxlLHMsMTIsYVs1XSksZT1wKGUsZixjLGQsdCwxNyxhWzZdKSxkPXAoZCxlLGYsYyx1LDIyLGFbN10pLGM9cChjLGQsZSxmLHYsNyxhWzhdKSxmPXAoZixjLGQsZSx4LDEyLGFbOV0pLGU9cChlLGYsYyxkLHksMTcsYVsxMF0pLGQ9cChkLGUsZixjLHosMjIsYVsxMV0pLGM9cChjLGQsZSxmLEEsNyxhWzEyXSksZj1wKGYsYyxkLGUsQiwxMixhWzEzXSksZT1wKGUsZixjLGQsQywxNyxhWzE0XSksZD1wKGQsZSxmLGMsRCwyMixhWzE1XSksYz1tKGMsZCxlLGYsdyw1LGFbMTZdKSxmPW0oZixjLGQsZSx0LDksYVsxN10pLGU9bShlLGYsYyxkLHosMTQsYVsxOF0pLGQ9bShkLGUsZixjLGgsMjAsYVsxOV0pLGM9bShjLGQsZSxmLHMsNSxhWzIwXSksZj1tKGYsYyxkLGUseSw5LGFbMjFdKSxlPW0oZSxmLGMsZCxELDE0LGFbMjJdKSxkPW0oZCxlLGYsYyxyLDIwLGFbMjNdKSxjPW0oYyxkLGUsZix4LDUsYVsyNF0pLGY9bShmLGMsZCxlLEMsOSxhWzI1XSksZT1tKGUsZixjLGQscSwxNCxhWzI2XSksZD1tKGQsZSxmLGMsdiwyMCxhWzI3XSksYz1tKGMsZCxlLGYsQiw1LGFbMjhdKSxmPW0oZixjLGQsZSxqLDksYVsyOV0pLGU9bShlLGYsYyxkLHUsMTQsYVszMF0pLGQ9bShkLGUsZixjLEEsMjAsYVszMV0pLGM9bChjLGQsZSxmLHMsNCxhWzMyXSksZj1sKGYsYyxkLGUsdiwxMSxhWzMzXSksZT1sKGUsZixjLGQseiwxNixhWzM0XSksZD1sKGQsZSxmLGMsQywyMyxhWzM1XSksYz1sKGMsZCxlLGYsdyw0LGFbMzZdKSxmPWwoZixjLGQsZSxyLDExLGFbMzddKSxlPWwoZSxmLGMsZCx1LDE2LGFbMzhdKSxkPWwoZCxlLGYsYyx5LDIzLGFbMzldKSxjPWwoYyxkLGUsZixCLDQsYVs0MF0pLGY9bChmLGMsZCxlLGgsMTEsYVs0MV0pLGU9bChlLGYsYyxkLHEsMTYsYVs0Ml0pLGQ9bChkLGUsZixjLHQsMjMsYVs0M10pLGM9bChjLGQsZSxmLHgsNCxhWzQ0XSksZj1sKGYsYyxkLGUsQSwxMSxhWzQ1XSksZT1sKGUsZixjLGQsRCwxNixhWzQ2XSksZD1sKGQsZSxmLGMsaiwyMyxhWzQ3XSksYz1uKGMsZCxlLGYsaCw2LGFbNDhdKSxmPW4oZixjLGQsZSx1LDEwLGFbNDldKSxlPW4oZSxmLGMsZCxDLDE1LGFbNTBdKSxkPW4oZCxlLGYsYyxzLDIxLGFbNTFdKSxjPW4oYyxkLGUsZixBLDYsYVs1Ml0pLGY9bihmLGMsZCxlLHEsMTAsYVs1M10pLGU9bihlLGYsYyxkLHksMTUsYVs1NF0pLGQ9bihkLGUsZixjLHcsMjEsYVs1NV0pLGM9bihjLGQsZSxmLHYsNixhWzU2XSksZj1uKGYsYyxkLGUsRCwxMCxhWzU3XSksZT1uKGUsZixjLGQsdCwxNSxhWzU4XSksZD1uKGQsZSxmLGMsQiwyMSxhWzU5XSksYz1uKGMsZCxlLGYsciw2LGFbNjBdKSxmPW4oZixjLGQsZSx6LDEwLGFbNjFdKSxlPW4oZSxmLGMsZCxqLDE1LGFbNjJdKSxkPW4oZCxlLGYsYyx4LDIxLGFbNjNdKTtiWzBdPWJbMF0rY3wwO2JbMV09YlsxXStkfDA7YlsyXT1iWzJdK2V8MDtiWzNdPWJbM10rZnwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9kYXRhLGs9YS53b3JkcyxiPTgqdGhpcy5fbkRhdGFCeXRlcyxoPTgqYS5zaWdCeXRlcztrW2g+Pj41XXw9MTI4PDwyNC1oJTMyO3ZhciBsPXMuZmxvb3IoYi80Mjk0OTY3Mjk2KTtrWyhoKzY0Pj4+OTw8NCkrMTVdPShsPDw4fGw+Pj4yNCkmMTY3MTE5MzV8KGw8PDI0fGw+Pj44KSY0Mjc4MjU1MzYwO2tbKGgrNjQ+Pj45PDw0KSsxNF09KGI8PDh8Yj4+PjI0KSYxNjcxMTkzNXwoYjw8MjR8Yj4+PjgpJjQyNzgyNTUzNjA7YS5zaWdCeXRlcz00KihrLmxlbmd0aCsxKTt0aGlzLl9wcm9jZXNzKCk7YT10aGlzLl9oYXNoO2s9YS53b3Jkcztmb3IoYj0wOzQ+YjtiKyspaD1rW2JdLGtbYl09KGg8PDh8aD4+PjI0KSYxNjcxMTkzNXwoaDw8MjR8aD4+PjgpJjQyNzgyNTUzNjA7cmV0dXJuIGE7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPXQuY2xvbmUuY2FsbCh0aGlzKTthLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gYTt9fSk7ci5NRDU9dC5fY3JlYXRlSGVscGVyKHEpO3IuSG1hY01ENT10Ll9jcmVhdGVIbWFjSGVscGVyKHEpO30pKE1hdGgpOw==',
'/Lib/calendar.py':'IiIiQ2FsZW5kYXIgcHJpbnRpbmcgZnVuY3Rpb25zCgpOb3RlIHdoZW4gY29tcGFyaW5nIHRoZXNlIGNhbGVuZGFycyB0byB0aGUgb25lcyBwcmludGVkIGJ5IGNhbCgxKTogQnkKZGVmYXVsdCwgdGhlc2UgY2FsZW5kYXJzIGhhdmUgTW9uZGF5IGFzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWssIGFuZApTdW5kYXkgYXMgdGhlIGxhc3QgKHRoZSBFdXJvcGVhbiBjb252ZW50aW9uKS4gVXNlIHNldGZpcnN0d2Vla2RheSgpIHRvCnNldCB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwPU1vbmRheSwgNj1TdW5kYXkpLiIiIgoKaW1wb3J0IHN5cwppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IGxvY2FsZSBhcyBfbG9jYWxlCgpfX2FsbF9fID0gWyJJbGxlZ2FsTW9udGhFcnJvciIsICJJbGxlZ2FsV2Vla2RheUVycm9yIiwgInNldGZpcnN0d2Vla2RheSIsCiAgICAgICAgICAgImZpcnN0d2Vla2RheSIsICJpc2xlYXAiLCAibGVhcGRheXMiLCAid2Vla2RheSIsICJtb250aHJhbmdlIiwKICAgICAgICAgICAibW9udGhjYWxlbmRhciIsICJwcm1vbnRoIiwgIm1vbnRoIiwgInByY2FsIiwgImNhbGVuZGFyIiwKICAgICAgICAgICAidGltZWdtIiwgIm1vbnRoX25hbWUiLCAibW9udGhfYWJiciIsICJkYXlfbmFtZSIsICJkYXlfYWJiciJdCgojIEV4Y2VwdGlvbiByYWlzZWQgZm9yIGJhZCBpbnB1dCAod2l0aCBzdHJpbmcgcGFyYW1ldGVyIGZvciBkZXRhaWxzKQplcnJvciA9IFZhbHVlRXJyb3IKCiMgRXhjZXB0aW9ucyByYWlzZWQgZm9yIGJhZCBpbnB1dApjbGFzcyBJbGxlZ2FsTW9udGhFcnJvcihWYWx1ZUVycm9yKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtb250aCk6CiAgICAgICAgc2VsZi5tb250aCA9IG1vbnRoCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gImJhZCBtb250aCBudW1iZXIgJXI7IG11c3QgYmUgMS0xMiIgJSBzZWxmLm1vbnRoCgoKY2xhc3MgSWxsZWdhbFdlZWtkYXlFcnJvcihWYWx1ZUVycm9yKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB3ZWVrZGF5KToKICAgICAgICBzZWxmLndlZWtkYXkgPSB3ZWVrZGF5CiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gImJhZCB3ZWVrZGF5IG51bWJlciAlcjsgbXVzdCBiZSAwIChNb25kYXkpIHRvIDYgKFN1bmRheSkiICUgc2VsZi53ZWVrZGF5CgoKIyBDb25zdGFudHMgZm9yIG1vbnRocyByZWZlcmVuY2VkIGxhdGVyCkphbnVhcnkgPSAxCkZlYnJ1YXJ5ID0gMgoKIyBOdW1iZXIgb2YgZGF5cyBwZXIgbW9udGggKGV4Y2VwdCBmb3IgRmVicnVhcnkgaW4gbGVhcCB5ZWFycykKbWRheXMgPSBbMCwgMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV0KCiMgVGhpcyBtb2R1bGUgdXNlZCB0byBoYXZlIGhhcmQtY29kZWQgbGlzdHMgb2YgZGF5IGFuZCBtb250aCBuYW1lcywgYXMKIyBFbmdsaXNoIHN0cmluZ3MuICBUaGUgY2xhc3NlcyBmb2xsb3dpbmcgZW11bGF0ZSBhIHJlYWQtb25seSB2ZXJzaW9uIG9mCiMgdGhhdCwgYnV0IHN1cHBseSBsb2NhbGl6ZWQgbmFtZXMuICBOb3RlIHRoYXQgdGhlIHZhbHVlcyBhcmUgY29tcHV0ZWQKIyBmcmVzaCBvbiBlYWNoIGNhbGwsIGluIGNhc2UgdGhlIHVzZXIgY2hhbmdlcyBsb2NhbGUgYmV0d2VlbiBjYWxscy4KCmNsYXNzIF9sb2NhbGl6ZWRfbW9udGg6CgogICAgX21vbnRocyA9IFtkYXRldGltZS5kYXRlKDIwMDEsIGkrMSwgMSkuc3RyZnRpbWUgZm9yIGkgaW4gcmFuZ2UoMTIpXQogICAgX21vbnRocy5pbnNlcnQoMCwgbGFtYmRhIHg6ICIiKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBmb3JtYXQpOgogICAgICAgIHNlbGYuZm9ybWF0ID0gZm9ybWF0CgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGkpOgogICAgICAgIGZ1bmNzID0gc2VsZi5fbW9udGhzW2ldCiAgICAgICAgaWYgaXNpbnN0YW5jZShpLCBzbGljZSk6CiAgICAgICAgICAgIHJldHVybiBbZihzZWxmLmZvcm1hdCkgZm9yIGYgaW4gZnVuY3NdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGZ1bmNzKHNlbGYuZm9ybWF0KQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiAxMwoKCmNsYXNzIF9sb2NhbGl6ZWRfZGF5OgoKICAgICMgSmFudWFyeSAxLCAyMDAxLCB3YXMgYSBNb25kYXkuCiAgICBfZGF5cyA9IFtkYXRldGltZS5kYXRlKDIwMDEsIDEsIGkrMSkuc3RyZnRpbWUgZm9yIGkgaW4gcmFuZ2UoNyldCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGZvcm1hdCk6CiAgICAgICAgc2VsZi5mb3JtYXQgPSBmb3JtYXQKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaSk6CiAgICAgICAgZnVuY3MgPSBzZWxmLl9kYXlzW2ldCiAgICAgICAgaWYgaXNpbnN0YW5jZShpLCBzbGljZSk6CiAgICAgICAgICAgIHJldHVybiBbZihzZWxmLmZvcm1hdCkgZm9yIGYgaW4gZnVuY3NdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGZ1bmNzKHNlbGYuZm9ybWF0KQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiA3CgoKIyBGdWxsIGFuZCBhYmJyZXZpYXRlZCBuYW1lcyBvZiB3ZWVrZGF5cwpkYXlfbmFtZSA9IF9sb2NhbGl6ZWRfZGF5KCclQScpCmRheV9hYmJyID0gX2xvY2FsaXplZF9kYXkoJyVhJykKCiMgRnVsbCBhbmQgYWJicmV2aWF0ZWQgbmFtZXMgb2YgbW9udGhzICgxLWJhc2VkIGFycmF5cyEhISkKbW9udGhfbmFtZSA9IF9sb2NhbGl6ZWRfbW9udGgoJyVCJykKbW9udGhfYWJiciA9IF9sb2NhbGl6ZWRfbW9udGgoJyViJykKCiMgQ29uc3RhbnRzIGZvciB3ZWVrZGF5cwooTU9OREFZLCBUVUVTREFZLCBXRURORVNEQVksIFRIVVJTREFZLCBGUklEQVksIFNBVFVSREFZLCBTVU5EQVkpID0gcmFuZ2UoNykKCgpkZWYgaXNsZWFwKHllYXIpOgogICAgIiIiUmV0dXJuIFRydWUgZm9yIGxlYXAgeWVhcnMsIEZhbHNlIGZvciBub24tbGVhcCB5ZWFycy4iIiIKICAgIHJldHVybiB5ZWFyICUgNCA9PSAwIGFuZCAoeWVhciAlIDEwMCAhPSAwIG9yIHllYXIgJSA0MDAgPT0gMCkKCgpkZWYgbGVhcGRheXMoeTEsIHkyKToKICAgICIiIlJldHVybiBudW1iZXIgb2YgbGVhcCB5ZWFycyBpbiByYW5nZSBbeTEsIHkyKS4KICAgICAgIEFzc3VtZSB5MSA8PSB5Mi4iIiIKICAgIHkxIC09IDEKICAgIHkyIC09IDEKICAgIHJldHVybiAoeTIvLzQgLSB5MS8vNCkgLSAoeTIvLzEwMCAtIHkxLy8xMDApICsgKHkyLy80MDAgLSB5MS8vNDAwKQoKCmRlZiB3ZWVrZGF5KHllYXIsIG1vbnRoLCBkYXkpOgogICAgIiIiUmV0dXJuIHdlZWtkYXkgKDAtNiB+IE1vbi1TdW4pIGZvciB5ZWFyICgxOTcwLS4uLiksIG1vbnRoICgxLTEyKSwKICAgICAgIGRheSAoMS0zMSkuIiIiCiAgICByZXR1cm4gZGF0ZXRpbWUuZGF0ZSh5ZWFyLCBtb250aCwgZGF5KS53ZWVrZGF5KCkKCgpkZWYgbW9udGhyYW5nZSh5ZWFyLCBtb250aCk6CiAgICAiIiJSZXR1cm4gd2Vla2RheSAoMC02IH4gTW9uLVN1bikgYW5kIG51bWJlciBvZiBkYXlzICgyOC0zMSkgZm9yCiAgICAgICB5ZWFyLCBtb250aC4iIiIKICAgIGlmIG5vdCAxIDw9IG1vbnRoIDw9IDEyOgogICAgICAgIHJhaXNlIElsbGVnYWxNb250aEVycm9yKG1vbnRoKQogICAgZGF5MSA9IHdlZWtkYXkoeWVhciwgbW9udGgsIDEpCiAgICBuZGF5cyA9IG1kYXlzW21vbnRoXSArIChtb250aCA9PSBGZWJydWFyeSBhbmQgaXNsZWFwKHllYXIpKQogICAgcmV0dXJuIGRheTEsIG5kYXlzCgoKY2xhc3MgQ2FsZW5kYXIob2JqZWN0KToKICAgICIiIgogICAgQmFzZSBjYWxlbmRhciBjbGFzcy4gVGhpcyBjbGFzcyBkb2Vzbid0IGRvIGFueSBmb3JtYXR0aW5nLiBJdCBzaW1wbHkKICAgIHByb3ZpZGVzIGRhdGEgdG8gc3ViY2xhc3Nlcy4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBmaXJzdHdlZWtkYXk9MCk6CiAgICAgICAgc2VsZi5maXJzdHdlZWtkYXkgPSBmaXJzdHdlZWtkYXkgIyAwID0gTW9uZGF5LCA2ID0gU3VuZGF5CgogICAgZGVmIGdldGZpcnN0d2Vla2RheShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fZmlyc3R3ZWVrZGF5ICUgNwoKICAgIGRlZiBzZXRmaXJzdHdlZWtkYXkoc2VsZiwgZmlyc3R3ZWVrZGF5KToKICAgICAgICBzZWxmLl9maXJzdHdlZWtkYXkgPSBmaXJzdHdlZWtkYXkKCiAgICBmaXJzdHdlZWtkYXkgPSBwcm9wZXJ0eShnZXRmaXJzdHdlZWtkYXksIHNldGZpcnN0d2Vla2RheSkKCiAgICBkZWYgaXRlcndlZWtkYXlzKHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIGl0ZXJhdG9yIGZvciBvbmUgd2VlayBvZiB3ZWVrZGF5IG51bWJlcnMgc3RhcnRpbmcgd2l0aCB0aGUKICAgICAgICBjb25maWd1cmVkIGZpcnN0IG9uZS4KICAgICAgICAiIiIKICAgICAgICBmb3IgaSBpbiByYW5nZShzZWxmLmZpcnN0d2Vla2RheSwgc2VsZi5maXJzdHdlZWtkYXkgKyA3KToKICAgICAgICAgICAgeWllbGQgaSU3CgogICAgZGVmIGl0ZXJtb250aGRhdGVzKHNlbGYsIHllYXIsIG1vbnRoKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gYW4gaXRlcmF0b3IgZm9yIG9uZSBtb250aC4gVGhlIGl0ZXJhdG9yIHdpbGwgeWllbGQgZGF0ZXRpbWUuZGF0ZQogICAgICAgIHZhbHVlcyBhbmQgd2lsbCBhbHdheXMgaXRlcmF0ZSB0aHJvdWdoIGNvbXBsZXRlIHdlZWtzLCBzbyBpdCB3aWxsIHlpZWxkCiAgICAgICAgZGF0ZXMgb3V0c2lkZSB0aGUgc3BlY2lmaWVkIG1vbnRoLgogICAgICAgICIiIgogICAgICAgIGRhdGUgPSBkYXRldGltZS5kYXRlKHllYXIsIG1vbnRoLCAxKQogICAgICAgICMgR28gYmFjayB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSB3ZWVrCiAgICAgICAgZGF5cyA9IChkYXRlLndlZWtkYXkoKSAtIHNlbGYuZmlyc3R3ZWVrZGF5KSAlIDcKICAgICAgICBkYXRlIC09IGRhdGV0aW1lLnRpbWVkZWx0YShkYXlzPWRheXMpCiAgICAgICAgb25lZGF5ID0gZGF0ZXRpbWUudGltZWRlbHRhKGRheXM9MSkKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICB5aWVsZCBkYXRlCiAgICAgICAgICAgIGRhdGUgKz0gb25lZGF5CiAgICAgICAgICAgIGlmIGRhdGUubW9udGggIT0gbW9udGggYW5kIGRhdGUud2Vla2RheSgpID09IHNlbGYuZmlyc3R3ZWVrZGF5OgogICAgICAgICAgICAgICAgYnJlYWsKCiAgICBkZWYgaXRlcm1vbnRoZGF5czIoc2VsZiwgeWVhciwgbW9udGgpOgogICAgICAgICIiIgogICAgICAgIExpa2UgaXRlcm1vbnRoZGF0ZXMoKSwgYnV0IHdpbGwgeWllbGQgKGRheSBudW1iZXIsIHdlZWtkYXkgbnVtYmVyKQogICAgICAgIHR1cGxlcy4gRm9yIGRheXMgb3V0c2lkZSB0aGUgc3BlY2lmaWVkIG1vbnRoIHRoZSBkYXkgbnVtYmVyIGlzIDAuCiAgICAgICAgIiIiCiAgICAgICAgZm9yIGRhdGUgaW4gc2VsZi5pdGVybW9udGhkYXRlcyh5ZWFyLCBtb250aCk6CiAgICAgICAgICAgIGlmIGRhdGUubW9udGggIT0gbW9udGg6CiAgICAgICAgICAgICAgICB5aWVsZCAoMCwgZGF0ZS53ZWVrZGF5KCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB5aWVsZCAoZGF0ZS5kYXksIGRhdGUud2Vla2RheSgpKQoKICAgIGRlZiBpdGVybW9udGhkYXlzKHNlbGYsIHllYXIsIG1vbnRoKToKICAgICAgICAiIiIKICAgICAgICBMaWtlIGl0ZXJtb250aGRhdGVzKCksIGJ1dCB3aWxsIHlpZWxkIGRheSBudW1iZXJzLiBGb3IgZGF5cyBvdXRzaWRlCiAgICAgICAgdGhlIHNwZWNpZmllZCBtb250aCB0aGUgZGF5IG51bWJlciBpcyAwLgogICAgICAgICIiIgogICAgICAgIGZvciBkYXRlIGluIHNlbGYuaXRlcm1vbnRoZGF0ZXMoeWVhciwgbW9udGgpOgogICAgICAgICAgICBpZiBkYXRlLm1vbnRoICE9IG1vbnRoOgogICAgICAgICAgICAgICAgeWllbGQgMAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgeWllbGQgZGF0ZS5kYXkKCiAgICBkZWYgbW9udGhkYXRlc2NhbGVuZGFyKHNlbGYsIHllYXIsIG1vbnRoKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gYSBtYXRyaXggKGxpc3Qgb2YgbGlzdHMpIHJlcHJlc2VudGluZyBhIG1vbnRoJ3MgY2FsZW5kYXIuCiAgICAgICAgRWFjaCByb3cgcmVwcmVzZW50cyBhIHdlZWs7IHdlZWsgZW50cmllcyBhcmUgZGF0ZXRpbWUuZGF0ZSB2YWx1ZXMuCiAgICAgICAgIiIiCiAgICAgICAgZGF0ZXMgPSBsaXN0KHNlbGYuaXRlcm1vbnRoZGF0ZXMoeWVhciwgbW9udGgpKQogICAgICAgIHJldHVybiBbIGRhdGVzW2k6aSs3XSBmb3IgaSBpbiByYW5nZSgwLCBsZW4oZGF0ZXMpLCA3KSBdCgogICAgZGVmIG1vbnRoZGF5czJjYWxlbmRhcihzZWxmLCB5ZWFyLCBtb250aCk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIGEgbWF0cml4IHJlcHJlc2VudGluZyBhIG1vbnRoJ3MgY2FsZW5kYXIuCiAgICAgICAgRWFjaCByb3cgcmVwcmVzZW50cyBhIHdlZWs7IHdlZWsgZW50cmllcyBhcmUKICAgICAgICAoZGF5IG51bWJlciwgd2Vla2RheSBudW1iZXIpIHR1cGxlcy4gRGF5IG51bWJlcnMgb3V0c2lkZSB0aGlzIG1vbnRoCiAgICAgICAgYXJlIHplcm8uCiAgICAgICAgIiIiCiAgICAgICAgZGF5cyA9IGxpc3Qoc2VsZi5pdGVybW9udGhkYXlzMih5ZWFyLCBtb250aCkpCiAgICAgICAgcmV0dXJuIFsgZGF5c1tpOmkrN10gZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKGRheXMpLCA3KSBdCgogICAgZGVmIG1vbnRoZGF5c2NhbGVuZGFyKHNlbGYsIHllYXIsIG1vbnRoKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gYSBtYXRyaXggcmVwcmVzZW50aW5nIGEgbW9udGgncyBjYWxlbmRhci4KICAgICAgICBFYWNoIHJvdyByZXByZXNlbnRzIGEgd2VlazsgZGF5cyBvdXRzaWRlIHRoaXMgbW9udGggYXJlIHplcm8uCiAgICAgICAgIiIiCiAgICAgICAgZGF5cyA9IGxpc3Qoc2VsZi5pdGVybW9udGhkYXlzKHllYXIsIG1vbnRoKSkKICAgICAgICByZXR1cm4gWyBkYXlzW2k6aSs3XSBmb3IgaSBpbiByYW5nZSgwLCBsZW4oZGF5cyksIDcpIF0KCiAgICBkZWYgeWVhcmRhdGVzY2FsZW5kYXIoc2VsZiwgeWVhciwgd2lkdGg9Myk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIHRoZSBkYXRhIGZvciB0aGUgc3BlY2lmaWVkIHllYXIgcmVhZHkgZm9yIGZvcm1hdHRpbmcuIFRoZSByZXR1cm4KICAgICAgICB2YWx1ZSBpcyBhIGxpc3Qgb2YgbW9udGggcm93cy4gRWFjaCBtb250aCByb3cgY29udGFpbnMgdXB0byB3aWR0aCBtb250aHMuCiAgICAgICAgRWFjaCBtb250aCBjb250YWlucyBiZXR3ZWVuIDQgYW5kIDYgd2Vla3MgYW5kIGVhY2ggd2VlayBjb250YWlucyAxLTcKICAgICAgICBkYXlzLiBEYXlzIGFyZSBkYXRldGltZS5kYXRlIG9iamVjdHMuCiAgICAgICAgIiIiCiAgICAgICAgbW9udGhzID0gWwogICAgICAgICAgICBzZWxmLm1vbnRoZGF0ZXNjYWxlbmRhcih5ZWFyLCBpKQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShKYW51YXJ5LCBKYW51YXJ5KzEyKQogICAgICAgIF0KICAgICAgICByZXR1cm4gW21vbnRoc1tpOmkrd2lkdGhdIGZvciBpIGluIHJhbmdlKDAsIGxlbihtb250aHMpLCB3aWR0aCkgXQoKICAgIGRlZiB5ZWFyZGF5czJjYWxlbmRhcihzZWxmLCB5ZWFyLCB3aWR0aD0zKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gdGhlIGRhdGEgZm9yIHRoZSBzcGVjaWZpZWQgeWVhciByZWFkeSBmb3IgZm9ybWF0dGluZyAoc2ltaWxhciB0bwogICAgICAgIHllYXJkYXRlc2NhbGVuZGFyKCkpLiBFbnRyaWVzIGluIHRoZSB3ZWVrIGxpc3RzIGFyZQogICAgICAgIChkYXkgbnVtYmVyLCB3ZWVrZGF5IG51bWJlcikgdHVwbGVzLiBEYXkgbnVtYmVycyBvdXRzaWRlIHRoaXMgbW9udGggYXJlCiAgICAgICAgemVyby4KICAgICAgICAiIiIKICAgICAgICBtb250aHMgPSBbCiAgICAgICAgICAgIHNlbGYubW9udGhkYXlzMmNhbGVuZGFyKHllYXIsIGkpCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKEphbnVhcnksIEphbnVhcnkrMTIpCiAgICAgICAgXQogICAgICAgIHJldHVybiBbbW9udGhzW2k6aSt3aWR0aF0gZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKG1vbnRocyksIHdpZHRoKSBdCgogICAgZGVmIHllYXJkYXlzY2FsZW5kYXIoc2VsZiwgeWVhciwgd2lkdGg9Myk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIHRoZSBkYXRhIGZvciB0aGUgc3BlY2lmaWVkIHllYXIgcmVhZHkgZm9yIGZvcm1hdHRpbmcgKHNpbWlsYXIgdG8KICAgICAgICB5ZWFyZGF0ZXNjYWxlbmRhcigpKS4gRW50cmllcyBpbiB0aGUgd2VlayBsaXN0cyBhcmUgZGF5IG51bWJlcnMuCiAgICAgICAgRGF5IG51bWJlcnMgb3V0c2lkZSB0aGlzIG1vbnRoIGFyZSB6ZXJvLgogICAgICAgICIiIgogICAgICAgIG1vbnRocyA9IFsKICAgICAgICAgICAgc2VsZi5tb250aGRheXNjYWxlbmRhcih5ZWFyLCBpKQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShKYW51YXJ5LCBKYW51YXJ5KzEyKQogICAgICAgIF0KICAgICAgICByZXR1cm4gW21vbnRoc1tpOmkrd2lkdGhdIGZvciBpIGluIHJhbmdlKDAsIGxlbihtb250aHMpLCB3aWR0aCkgXQoKCmNsYXNzIFRleHRDYWxlbmRhcihDYWxlbmRhcik6CiAgICAiIiIKICAgIFN1YmNsYXNzIG9mIENhbGVuZGFyIHRoYXQgb3V0cHV0cyBhIGNhbGVuZGFyIGFzIGEgc2ltcGxlIHBsYWluIHRleHQKICAgIHNpbWlsYXIgdG8gdGhlIFVOSVggcHJvZ3JhbSBjYWwuCiAgICAiIiIKCiAgICBkZWYgcHJ3ZWVrKHNlbGYsIHRoZXdlZWssIHdpZHRoKToKICAgICAgICAiIiIKICAgICAgICBQcmludCBhIHNpbmdsZSB3ZWVrIChubyBuZXdsaW5lKS4KICAgICAgICAiIiIKICAgICAgICBwcmludChzZWxmLmZvcm1hdHdlZWsodGhld2Vlaywgd2lkdGgpLCBlbmQ9JyAnKQoKICAgIGRlZiBmb3JtYXRkYXkoc2VsZiwgZGF5LCB3ZWVrZGF5LCB3aWR0aCk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyBhIGZvcm1hdHRlZCBkYXkuCiAgICAgICAgIiIiCiAgICAgICAgaWYgZGF5ID09IDA6CiAgICAgICAgICAgIHMgPSAnJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHMgPSAnJTJpJyAlIGRheSAgICAgICAgICAgICAjIHJpZ2h0LWFsaWduIHNpbmdsZS1kaWdpdCBkYXlzCiAgICAgICAgcmV0dXJuIHMuY2VudGVyKHdpZHRoKQoKICAgIGRlZiBmb3JtYXR3ZWVrKHNlbGYsIHRoZXdlZWssIHdpZHRoKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm5zIGEgc2luZ2xlIHdlZWsgaW4gYSBzdHJpbmcgKG5vIG5ld2xpbmUpLgogICAgICAgICIiIgogICAgICAgIHJldHVybiAnICcuam9pbihzZWxmLmZvcm1hdGRheShkLCB3ZCwgd2lkdGgpIGZvciAoZCwgd2QpIGluIHRoZXdlZWspCgogICAgZGVmIGZvcm1hdHdlZWtkYXkoc2VsZiwgZGF5LCB3aWR0aCk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyBhIGZvcm1hdHRlZCB3ZWVrIGRheSBuYW1lLgogICAgICAgICIiIgogICAgICAgIGlmIHdpZHRoID49IDk6CiAgICAgICAgICAgIG5hbWVzID0gZGF5X25hbWUKICAgICAgICBlbHNlOgogICAgICAgICAgICBuYW1lcyA9IGRheV9hYmJyCiAgICAgICAgcmV0dXJuIG5hbWVzW2RheV1bOndpZHRoXS5jZW50ZXIod2lkdGgpCgogICAgZGVmIGZvcm1hdHdlZWtoZWFkZXIoc2VsZiwgd2lkdGgpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIGhlYWRlciBmb3IgYSB3ZWVrLgogICAgICAgICIiIgogICAgICAgIHJldHVybiAnICcuam9pbihzZWxmLmZvcm1hdHdlZWtkYXkoaSwgd2lkdGgpIGZvciBpIGluIHNlbGYuaXRlcndlZWtkYXlzKCkpCgogICAgZGVmIGZvcm1hdG1vbnRobmFtZShzZWxmLCB0aGV5ZWFyLCB0aGVtb250aCwgd2lkdGgsIHdpdGh5ZWFyPVRydWUpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIGZvcm1hdHRlZCBtb250aCBuYW1lLgogICAgICAgICIiIgogICAgICAgIHMgPSBtb250aF9uYW1lW3RoZW1vbnRoXQogICAgICAgIGlmIHdpdGh5ZWFyOgogICAgICAgICAgICBzID0gIiVzICVyIiAlIChzLCB0aGV5ZWFyKQogICAgICAgIHJldHVybiBzLmNlbnRlcih3aWR0aCkKCiAgICBkZWYgcHJtb250aChzZWxmLCB0aGV5ZWFyLCB0aGVtb250aCwgdz0wLCBsPTApOgogICAgICAgICIiIgogICAgICAgIFByaW50IGEgbW9udGgncyBjYWxlbmRhci4KICAgICAgICAiIiIKICAgICAgICBwcmludChzZWxmLmZvcm1hdG1vbnRoKHRoZXllYXIsIHRoZW1vbnRoLCB3LCBsKSwgZW5kPScgJykKCiAgICBkZWYgZm9ybWF0bW9udGgoc2VsZiwgdGhleWVhciwgdGhlbW9udGgsIHc9MCwgbD0wKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gYSBtb250aCdzIGNhbGVuZGFyIHN0cmluZyAobXVsdGktbGluZSkuCiAgICAgICAgIiIiCiAgICAgICAgdyA9IG1heCgyLCB3KQogICAgICAgIGwgPSBtYXgoMSwgbCkKICAgICAgICBzID0gc2VsZi5mb3JtYXRtb250aG5hbWUodGhleWVhciwgdGhlbW9udGgsIDcgKiAodyArIDEpIC0gMSkKICAgICAgICBzID0gcy5yc3RyaXAoKQogICAgICAgIHMgKz0gJ1xuJyAqIGwKICAgICAgICBzICs9IHNlbGYuZm9ybWF0d2Vla2hlYWRlcih3KS5yc3RyaXAoKQogICAgICAgIHMgKz0gJ1xuJyAqIGwKICAgICAgICBmb3Igd2VlayBpbiBzZWxmLm1vbnRoZGF5czJjYWxlbmRhcih0aGV5ZWFyLCB0aGVtb250aCk6CiAgICAgICAgICAgIHMgKz0gc2VsZi5mb3JtYXR3ZWVrKHdlZWssIHcpLnJzdHJpcCgpCiAgICAgICAgICAgIHMgKz0gJ1xuJyAqIGwKICAgICAgICByZXR1cm4gcwoKICAgIGRlZiBmb3JtYXR5ZWFyKHNlbGYsIHRoZXllYXIsIHc9MiwgbD0xLCBjPTYsIG09Myk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyBhIHllYXIncyBjYWxlbmRhciBhcyBhIG11bHRpLWxpbmUgc3RyaW5nLgogICAgICAgICIiIgogICAgICAgIHcgPSBtYXgoMiwgdykKICAgICAgICBsID0gbWF4KDEsIGwpCiAgICAgICAgYyA9IG1heCgyLCBjKQogICAgICAgIGNvbHdpZHRoID0gKHcgKyAxKSAqIDcgLSAxCiAgICAgICAgdiA9IFtdCiAgICAgICAgYSA9IHYuYXBwZW5kCiAgICAgICAgYShyZXByKHRoZXllYXIpLmNlbnRlcihjb2x3aWR0aCptK2MqKG0tMSkpLnJzdHJpcCgpKQogICAgICAgIGEoJ1xuJypsKQogICAgICAgIGhlYWRlciA9IHNlbGYuZm9ybWF0d2Vla2hlYWRlcih3KQogICAgICAgIGZvciAoaSwgcm93KSBpbiBlbnVtZXJhdGUoc2VsZi55ZWFyZGF5czJjYWxlbmRhcih0aGV5ZWFyLCBtKSk6CiAgICAgICAgICAgICMgbW9udGhzIGluIHRoaXMgcm93CiAgICAgICAgICAgIG1vbnRocyA9IHJhbmdlKG0qaSsxLCBtaW4obSooaSsxKSsxLCAxMykpCiAgICAgICAgICAgIGEoJ1xuJypsKQogICAgICAgICAgICBuYW1lcyA9IChzZWxmLmZvcm1hdG1vbnRobmFtZSh0aGV5ZWFyLCBrLCBjb2x3aWR0aCwgRmFsc2UpCiAgICAgICAgICAgICAgICAgICAgIGZvciBrIGluIG1vbnRocykKICAgICAgICAgICAgYShmb3JtYXRzdHJpbmcobmFtZXMsIGNvbHdpZHRoLCBjKS5yc3RyaXAoKSkKICAgICAgICAgICAgYSgnXG4nKmwpCiAgICAgICAgICAgIGhlYWRlcnMgPSAoaGVhZGVyIGZvciBrIGluIG1vbnRocykKICAgICAgICAgICAgYShmb3JtYXRzdHJpbmcoaGVhZGVycywgY29sd2lkdGgsIGMpLnJzdHJpcCgpKQogICAgICAgICAgICBhKCdcbicqbCkKICAgICAgICAgICAgIyBtYXggbnVtYmVyIG9mIHdlZWtzIGZvciB0aGlzIHJvdwogICAgICAgICAgICBoZWlnaHQgPSBtYXgobGVuKGNhbCkgZm9yIGNhbCBpbiByb3cpCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGhlaWdodCk6CiAgICAgICAgICAgICAgICB3ZWVrcyA9IFtdCiAgICAgICAgICAgICAgICBmb3IgY2FsIGluIHJvdzoKICAgICAgICAgICAgICAgICAgICBpZiBqID49IGxlbihjYWwpOgogICAgICAgICAgICAgICAgICAgICAgICB3ZWVrcy5hcHBlbmQoJycpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgd2Vla3MuYXBwZW5kKHNlbGYuZm9ybWF0d2VlayhjYWxbal0sIHcpKQogICAgICAgICAgICAgICAgYShmb3JtYXRzdHJpbmcod2Vla3MsIGNvbHdpZHRoLCBjKS5yc3RyaXAoKSkKICAgICAgICAgICAgICAgIGEoJ1xuJyAqIGwpCiAgICAgICAgcmV0dXJuICcnLmpvaW4odikKCiAgICBkZWYgcHJ5ZWFyKHNlbGYsIHRoZXllYXIsIHc9MCwgbD0wLCBjPTYsIG09Myk6CiAgICAgICAgIiIiUHJpbnQgYSB5ZWFyJ3MgY2FsZW5kYXIuIiIiCiAgICAgICAgcHJpbnQoc2VsZi5mb3JtYXR5ZWFyKHRoZXllYXIsIHcsIGwsIGMsIG0pKQoKCmNsYXNzIEhUTUxDYWxlbmRhcihDYWxlbmRhcik6CiAgICAiIiIKICAgIFRoaXMgY2FsZW5kYXIgcmV0dXJucyBjb21wbGV0ZSBIVE1MIHBhZ2VzLgogICAgIiIiCgogICAgIyBDU1MgY2xhc3NlcyBmb3IgdGhlIGRheSA8dGQ+cwogICAgY3NzY2xhc3NlcyA9IFsibW9uIiwgInR1ZSIsICJ3ZWQiLCAidGh1IiwgImZyaSIsICJzYXQiLCAic3VuIl0KCiAgICBkZWYgZm9ybWF0ZGF5KHNlbGYsIGRheSwgd2Vla2RheSk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIGEgZGF5IGFzIGEgdGFibGUgY2VsbC4KICAgICAgICAiIiIKICAgICAgICBpZiBkYXkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuICc8dGQgY2xhc3M9Im5vZGF5Ij4mbmJzcDs8L3RkPicgIyBkYXkgb3V0c2lkZSBtb250aAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAnPHRkIGNsYXNzPSIlcyI+JWQ8L3RkPicgJSAoc2VsZi5jc3NjbGFzc2VzW3dlZWtkYXldLCBkYXkpCgogICAgZGVmIGZvcm1hdHdlZWsoc2VsZiwgdGhld2Vlayk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIGEgY29tcGxldGUgd2VlayBhcyBhIHRhYmxlIHJvdy4KICAgICAgICAiIiIKICAgICAgICBzID0gJycuam9pbihzZWxmLmZvcm1hdGRheShkLCB3ZCkgZm9yIChkLCB3ZCkgaW4gdGhld2VlaykKICAgICAgICByZXR1cm4gJzx0cj4lczwvdHI+JyAlIHMKCiAgICBkZWYgZm9ybWF0d2Vla2RheShzZWxmLCBkYXkpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIHdlZWtkYXkgbmFtZSBhcyBhIHRhYmxlIGhlYWRlci4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gJzx0aCBjbGFzcz0iJXMiPiVzPC90aD4nICUgKHNlbGYuY3NzY2xhc3Nlc1tkYXldLCBkYXlfYWJicltkYXldKQoKICAgIGRlZiBmb3JtYXR3ZWVraGVhZGVyKHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIGhlYWRlciBmb3IgYSB3ZWVrIGFzIGEgdGFibGUgcm93LgogICAgICAgICIiIgogICAgICAgIHMgPSAnJy5qb2luKHNlbGYuZm9ybWF0d2Vla2RheShpKSBmb3IgaSBpbiBzZWxmLml0ZXJ3ZWVrZGF5cygpKQogICAgICAgIHJldHVybiAnPHRyPiVzPC90cj4nICUgcwoKICAgIGRlZiBmb3JtYXRtb250aG5hbWUoc2VsZiwgdGhleWVhciwgdGhlbW9udGgsIHdpdGh5ZWFyPVRydWUpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiBhIG1vbnRoIG5hbWUgYXMgYSB0YWJsZSByb3cuCiAgICAgICAgIiIiCiAgICAgICAgaWYgd2l0aHllYXI6CiAgICAgICAgICAgIHMgPSAnJXMgJXMnICUgKG1vbnRoX25hbWVbdGhlbW9udGhdLCB0aGV5ZWFyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHMgPSAnJXMnICUgbW9udGhfbmFtZVt0aGVtb250aF0KICAgICAgICByZXR1cm4gJzx0cj48dGggY29sc3Bhbj0iNyIgY2xhc3M9Im1vbnRoIj4lczwvdGg+PC90cj4nICUgcwoKICAgIGRlZiBmb3JtYXRtb250aChzZWxmLCB0aGV5ZWFyLCB0aGVtb250aCwgd2l0aHllYXI9VHJ1ZSk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIGEgZm9ybWF0dGVkIG1vbnRoIGFzIGEgdGFibGUuCiAgICAgICAgIiIiCiAgICAgICAgdiA9IFtdCiAgICAgICAgYSA9IHYuYXBwZW5kCiAgICAgICAgYSgnPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBjbGFzcz0ibW9udGgiPicpCiAgICAgICAgYSgnXG4nKQogICAgICAgIGEoc2VsZi5mb3JtYXRtb250aG5hbWUodGhleWVhciwgdGhlbW9udGgsIHdpdGh5ZWFyPXdpdGh5ZWFyKSkKICAgICAgICBhKCdcbicpCiAgICAgICAgYShzZWxmLmZvcm1hdHdlZWtoZWFkZXIoKSkKICAgICAgICBhKCdcbicpCiAgICAgICAgZm9yIHdlZWsgaW4gc2VsZi5tb250aGRheXMyY2FsZW5kYXIodGhleWVhciwgdGhlbW9udGgpOgogICAgICAgICAgICBhKHNlbGYuZm9ybWF0d2Vlayh3ZWVrKSkKICAgICAgICAgICAgYSgnXG4nKQogICAgICAgIGEoJzwvdGFibGU+JykKICAgICAgICBhKCdcbicpCiAgICAgICAgcmV0dXJuICcnLmpvaW4odikKCiAgICBkZWYgZm9ybWF0eWVhcihzZWxmLCB0aGV5ZWFyLCB3aWR0aD0zKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gYSBmb3JtYXR0ZWQgeWVhciBhcyBhIHRhYmxlIG9mIHRhYmxlcy4KICAgICAgICAiIiIKICAgICAgICB2ID0gW10KICAgICAgICBhID0gdi5hcHBlbmQKICAgICAgICB3aWR0aCA9IG1heCh3aWR0aCwgMSkKICAgICAgICBhKCc8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGNsYXNzPSJ5ZWFyIj4nKQogICAgICAgIGEoJ1xuJykKICAgICAgICBhKCc8dHI+PHRoIGNvbHNwYW49IiVkIiBjbGFzcz0ieWVhciI+JXM8L3RoPjwvdHI+JyAlICh3aWR0aCwgdGhleWVhcikpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoSmFudWFyeSwgSmFudWFyeSsxMiwgd2lkdGgpOgogICAgICAgICAgICAjIG1vbnRocyBpbiB0aGlzIHJvdwogICAgICAgICAgICBtb250aHMgPSByYW5nZShpLCBtaW4oaSt3aWR0aCwgMTMpKQogICAgICAgICAgICBhKCc8dHI+JykKICAgICAgICAgICAgZm9yIG0gaW4gbW9udGhzOgogICAgICAgICAgICAgICAgYSgnPHRkPicpCiAgICAgICAgICAgICAgICBhKHNlbGYuZm9ybWF0bW9udGgodGhleWVhciwgbSwgd2l0aHllYXI9RmFsc2UpKQogICAgICAgICAgICAgICAgYSgnPC90ZD4nKQogICAgICAgICAgICBhKCc8L3RyPicpCiAgICAgICAgYSgnPC90YWJsZT4nKQogICAgICAgIHJldHVybiAnJy5qb2luKHYpCgogICAgZGVmIGZvcm1hdHllYXJwYWdlKHNlbGYsIHRoZXllYXIsIHdpZHRoPTMsIGNzcz0nY2FsZW5kYXIuY3NzJywgZW5jb2Rpbmc9Tm9uZSk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJuIGEgZm9ybWF0dGVkIHllYXIgYXMgYSBjb21wbGV0ZSBIVE1MIHBhZ2UuCiAgICAgICAgIiIiCiAgICAgICAgaWYgZW5jb2RpbmcgaXMgTm9uZToKICAgICAgICAgICAgZW5jb2RpbmcgPSBzeXMuZ2V0ZGVmYXVsdGVuY29kaW5nKCkKICAgICAgICB2ID0gW10KICAgICAgICBhID0gdi5hcHBlbmQKICAgICAgICBhKCc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSIlcyI/PlxuJyAlIGVuY29kaW5nKQogICAgICAgIGEoJzwhRE9DVFlQRSBodG1sIFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgMS4wIFN0cmljdC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvRFREL3hodG1sMS1zdHJpY3QuZHRkIj5cbicpCiAgICAgICAgYSgnPGh0bWw+XG4nKQogICAgICAgIGEoJzxoZWFkPlxuJykKICAgICAgICBhKCc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD0lcyIgLz5cbicgJSBlbmNvZGluZykKICAgICAgICBpZiBjc3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGEoJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9IiVzIiAvPlxuJyAlIGNzcykKICAgICAgICBhKCc8dGl0bGU+Q2FsZW5kYXIgZm9yICVkPC90aXRsZT5cbicgJSB0aGV5ZWFyKQogICAgICAgIGEoJzwvaGVhZD5cbicpCiAgICAgICAgYSgnPGJvZHk+XG4nKQogICAgICAgIGEoc2VsZi5mb3JtYXR5ZWFyKHRoZXllYXIsIHdpZHRoKSkKICAgICAgICBhKCc8L2JvZHk+XG4nKQogICAgICAgIGEoJzwvaHRtbD5cbicpCiAgICAgICAgcmV0dXJuICcnLmpvaW4odikuZW5jb2RlKGVuY29kaW5nLCAieG1sY2hhcnJlZnJlcGxhY2UiKQoKCmNsYXNzIGRpZmZlcmVudF9sb2NhbGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbG9jYWxlKToKICAgICAgICBzZWxmLmxvY2FsZSA9IGxvY2FsZQoKICAgIGRlZiBfX2VudGVyX18oc2VsZik6CiAgICAgICAgc2VsZi5vbGRsb2NhbGUgPSBfbG9jYWxlLmdldGxvY2FsZShfbG9jYWxlLkxDX1RJTUUpCiAgICAgICAgX2xvY2FsZS5zZXRsb2NhbGUoX2xvY2FsZS5MQ19USU1FLCBzZWxmLmxvY2FsZSkKCiAgICBkZWYgX19leGl0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9sb2NhbGUuc2V0bG9jYWxlKF9sb2NhbGUuTENfVElNRSwgc2VsZi5vbGRsb2NhbGUpCgoKY2xhc3MgTG9jYWxlVGV4dENhbGVuZGFyKFRleHRDYWxlbmRhcik6CiAgICAiIiIKICAgIFRoaXMgY2xhc3MgY2FuIGJlIHBhc3NlZCBhIGxvY2FsZSBuYW1lIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgd2lsbCByZXR1cm4KICAgIG1vbnRoIGFuZCB3ZWVrZGF5IG5hbWVzIGluIHRoZSBzcGVjaWZpZWQgbG9jYWxlLiBJZiB0aGlzIGxvY2FsZSBpbmNsdWRlcwogICAgYW4gZW5jb2RpbmcgYWxsIHN0cmluZ3MgY29udGFpbmluZyBtb250aCBhbmQgd2Vla2RheSBuYW1lcyB3aWxsIGJlIHJldHVybmVkCiAgICBhcyB1bmljb2RlLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGZpcnN0d2Vla2RheT0wLCBsb2NhbGU9Tm9uZSk6CiAgICAgICAgVGV4dENhbGVuZGFyLl9faW5pdF9fKHNlbGYsIGZpcnN0d2Vla2RheSkKICAgICAgICBpZiBsb2NhbGUgaXMgTm9uZToKICAgICAgICAgICAgbG9jYWxlID0gX2xvY2FsZS5nZXRkZWZhdWx0bG9jYWxlKCkKICAgICAgICBzZWxmLmxvY2FsZSA9IGxvY2FsZQoKICAgIGRlZiBmb3JtYXR3ZWVrZGF5KHNlbGYsIGRheSwgd2lkdGgpOgogICAgICAgIHdpdGggZGlmZmVyZW50X2xvY2FsZShzZWxmLmxvY2FsZSk6CiAgICAgICAgICAgIGlmIHdpZHRoID49IDk6CiAgICAgICAgICAgICAgICBuYW1lcyA9IGRheV9uYW1lCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBuYW1lcyA9IGRheV9hYmJyCiAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tkYXldCiAgICAgICAgICAgIHJldHVybiBuYW1lWzp3aWR0aF0uY2VudGVyKHdpZHRoKQoKICAgIGRlZiBmb3JtYXRtb250aG5hbWUoc2VsZiwgdGhleWVhciwgdGhlbW9udGgsIHdpZHRoLCB3aXRoeWVhcj1UcnVlKToKICAgICAgICB3aXRoIGRpZmZlcmVudF9sb2NhbGUoc2VsZi5sb2NhbGUpOgogICAgICAgICAgICBzID0gbW9udGhfbmFtZVt0aGVtb250aF0KICAgICAgICAgICAgaWYgd2l0aHllYXI6CiAgICAgICAgICAgICAgICBzID0gIiVzICVyIiAlIChzLCB0aGV5ZWFyKQogICAgICAgICAgICByZXR1cm4gcy5jZW50ZXIod2lkdGgpCgoKY2xhc3MgTG9jYWxlSFRNTENhbGVuZGFyKEhUTUxDYWxlbmRhcik6CiAgICAiIiIKICAgIFRoaXMgY2xhc3MgY2FuIGJlIHBhc3NlZCBhIGxvY2FsZSBuYW1lIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgd2lsbCByZXR1cm4KICAgIG1vbnRoIGFuZCB3ZWVrZGF5IG5hbWVzIGluIHRoZSBzcGVjaWZpZWQgbG9jYWxlLiBJZiB0aGlzIGxvY2FsZSBpbmNsdWRlcwogICAgYW4gZW5jb2RpbmcgYWxsIHN0cmluZ3MgY29udGFpbmluZyBtb250aCBhbmQgd2Vla2RheSBuYW1lcyB3aWxsIGJlIHJldHVybmVkCiAgICBhcyB1bmljb2RlLgogICAgIiIiCiAgICBkZWYgX19pbml0X18oc2VsZiwgZmlyc3R3ZWVrZGF5PTAsIGxvY2FsZT1Ob25lKToKICAgICAgICBIVE1MQ2FsZW5kYXIuX19pbml0X18oc2VsZiwgZmlyc3R3ZWVrZGF5KQogICAgICAgIGlmIGxvY2FsZSBpcyBOb25lOgogICAgICAgICAgICBsb2NhbGUgPSBfbG9jYWxlLmdldGRlZmF1bHRsb2NhbGUoKQogICAgICAgIHNlbGYubG9jYWxlID0gbG9jYWxlCgogICAgZGVmIGZvcm1hdHdlZWtkYXkoc2VsZiwgZGF5KToKICAgICAgICB3aXRoIGRpZmZlcmVudF9sb2NhbGUoc2VsZi5sb2NhbGUpOgogICAgICAgICAgICBzID0gZGF5X2FiYnJbZGF5XQogICAgICAgICAgICByZXR1cm4gJzx0aCBjbGFzcz0iJXMiPiVzPC90aD4nICUgKHNlbGYuY3NzY2xhc3Nlc1tkYXldLCBzKQoKICAgIGRlZiBmb3JtYXRtb250aG5hbWUoc2VsZiwgdGhleWVhciwgdGhlbW9udGgsIHdpdGh5ZWFyPVRydWUpOgogICAgICAgIHdpdGggZGlmZmVyZW50X2xvY2FsZShzZWxmLmxvY2FsZSk6CiAgICAgICAgICAgIHMgPSBtb250aF9uYW1lW3RoZW1vbnRoXQogICAgICAgICAgICBpZiB3aXRoeWVhcjoKICAgICAgICAgICAgICAgIHMgPSAnJXMgJXMnICUgKHMsIHRoZXllYXIpCiAgICAgICAgICAgIHJldHVybiAnPHRyPjx0aCBjb2xzcGFuPSI3IiBjbGFzcz0ibW9udGgiPiVzPC90aD48L3RyPicgJSBzCgoKIyBTdXBwb3J0IGZvciBvbGQgbW9kdWxlIGxldmVsIGludGVyZmFjZQpjID0gVGV4dENhbGVuZGFyKCkKCmZpcnN0d2Vla2RheSA9IGMuZ2V0Zmlyc3R3ZWVrZGF5CgpkZWYgc2V0Zmlyc3R3ZWVrZGF5KGZpcnN0d2Vla2RheSk6CiAgICBpZiBub3QgTU9OREFZIDw9IGZpcnN0d2Vla2RheSA8PSBTVU5EQVk6CiAgICAgICAgcmFpc2UgSWxsZWdhbFdlZWtkYXlFcnJvcihmaXJzdHdlZWtkYXkpCiAgICBjLmZpcnN0d2Vla2RheSA9IGZpcnN0d2Vla2RheQoKbW9udGhjYWxlbmRhciA9IGMubW9udGhkYXlzY2FsZW5kYXIKcHJ3ZWVrID0gYy5wcndlZWsKd2VlayA9IGMuZm9ybWF0d2Vlawp3ZWVraGVhZGVyID0gYy5mb3JtYXR3ZWVraGVhZGVyCnBybW9udGggPSBjLnBybW9udGgKbW9udGggPSBjLmZvcm1hdG1vbnRoCmNhbGVuZGFyID0gYy5mb3JtYXR5ZWFyCnByY2FsID0gYy5wcnllYXIKCgojIFNwYWNpbmcgb2YgbW9udGggY29sdW1ucyBmb3IgbXVsdGktY29sdW1uIHllYXIgY2FsZW5kYXIKX2NvbHdpZHRoID0gNyozIC0gMSAgICAgICAgICMgQW1vdW50IHByaW50ZWQgYnkgcHJ3ZWVrKCkKX3NwYWNpbmcgPSA2ICAgICAgICAgICAgICAgICMgTnVtYmVyIG9mIHNwYWNlcyBiZXR3ZWVuIGNvbHVtbnMKCgpkZWYgZm9ybWF0KGNvbHMsIGNvbHdpZHRoPV9jb2x3aWR0aCwgc3BhY2luZz1fc3BhY2luZyk6CiAgICAiIiJQcmludHMgbXVsdGktY29sdW1uIGZvcm1hdHRpbmcgZm9yIHllYXIgY2FsZW5kYXJzIiIiCiAgICBwcmludChmb3JtYXRzdHJpbmcoY29scywgY29sd2lkdGgsIHNwYWNpbmcpKQoKCmRlZiBmb3JtYXRzdHJpbmcoY29scywgY29sd2lkdGg9X2NvbHdpZHRoLCBzcGFjaW5nPV9zcGFjaW5nKToKICAgICIiIlJldHVybnMgYSBzdHJpbmcgZm9ybWF0dGVkIGZyb20gbiBzdHJpbmdzLCBjZW50ZXJlZCB3aXRoaW4gbiBjb2x1bW5zLiIiIgogICAgc3BhY2luZyAqPSAnICcKICAgIHJldHVybiBzcGFjaW5nLmpvaW4oYy5jZW50ZXIoY29sd2lkdGgpIGZvciBjIGluIGNvbHMpCgoKRVBPQ0ggPSAxOTcwCl9FUE9DSF9PUkQgPSBkYXRldGltZS5kYXRlKEVQT0NILCAxLCAxKS50b29yZGluYWwoKQoKCmRlZiB0aW1lZ20odHVwbGUpOgogICAgIiIiVW5yZWxhdGVkIGJ1dCBoYW5keSBmdW5jdGlvbiB0byBjYWxjdWxhdGUgVW5peCB0aW1lc3RhbXAgZnJvbSBHTVQuIiIiCiAgICB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCA9IHR1cGxlWzo2XQogICAgZGF5cyA9IGRhdGV0aW1lLmRhdGUoeWVhciwgbW9udGgsIDEpLnRvb3JkaW5hbCgpIC0gX0VQT0NIX09SRCArIGRheSAtIDEKICAgIGhvdXJzID0gZGF5cyoyNCArIGhvdXIKICAgIG1pbnV0ZXMgPSBob3Vycyo2MCArIG1pbnV0ZQogICAgc2Vjb25kcyA9IG1pbnV0ZXMqNjAgKyBzZWNvbmQKICAgIHJldHVybiBzZWNvbmRzCgoKZGVmIG1haW4oYXJncyk6CiAgICBpbXBvcnQgb3B0cGFyc2UKICAgIHBhcnNlciA9IG9wdHBhcnNlLk9wdGlvblBhcnNlcih1c2FnZT0idXNhZ2U6ICVwcm9nIFtvcHRpb25zXSBbeWVhciBbbW9udGhdXSIpCiAgICBwYXJzZXIuYWRkX29wdGlvbigKICAgICAgICAiLXciLCAiLS13aWR0aCIsCiAgICAgICAgZGVzdD0id2lkdGgiLCB0eXBlPSJpbnQiLCBkZWZhdWx0PTIsCiAgICAgICAgaGVscD0id2lkdGggb2YgZGF0ZSBjb2x1bW4gKGRlZmF1bHQgMiwgdGV4dCBvbmx5KSIKICAgICkKICAgIHBhcnNlci5hZGRfb3B0aW9uKAogICAgICAgICItbCIsICItLWxpbmVzIiwKICAgICAgICBkZXN0PSJsaW5lcyIsIHR5cGU9ImludCIsIGRlZmF1bHQ9MSwKICAgICAgICBoZWxwPSJudW1iZXIgb2YgbGluZXMgZm9yIGVhY2ggd2VlayAoZGVmYXVsdCAxLCB0ZXh0IG9ubHkpIgogICAgKQogICAgcGFyc2VyLmFkZF9vcHRpb24oCiAgICAgICAgIi1zIiwgIi0tc3BhY2luZyIsCiAgICAgICAgZGVzdD0ic3BhY2luZyIsIHR5cGU9ImludCIsIGRlZmF1bHQ9NiwKICAgICAgICBoZWxwPSJzcGFjaW5nIGJldHdlZW4gbW9udGhzIChkZWZhdWx0IDYsIHRleHQgb25seSkiCiAgICApCiAgICBwYXJzZXIuYWRkX29wdGlvbigKICAgICAgICAiLW0iLCAiLS1tb250aHMiLAogICAgICAgIGRlc3Q9Im1vbnRocyIsIHR5cGU9ImludCIsIGRlZmF1bHQ9MywKICAgICAgICBoZWxwPSJtb250aHMgcGVyIHJvdyAoZGVmYXVsdCAzLCB0ZXh0IG9ubHkpIgogICAgKQogICAgcGFyc2VyLmFkZF9vcHRpb24oCiAgICAgICAgIi1jIiwgIi0tY3NzIiwKICAgICAgICBkZXN0PSJjc3MiLCBkZWZhdWx0PSJjYWxlbmRhci5jc3MiLAogICAgICAgIGhlbHA9IkNTUyB0byB1c2UgZm9yIHBhZ2UgKGh0bWwgb25seSkiCiAgICApCiAgICBwYXJzZXIuYWRkX29wdGlvbigKICAgICAgICAiLUwiLCAiLS1sb2NhbGUiLAogICAgICAgIGRlc3Q9ImxvY2FsZSIsIGRlZmF1bHQ9Tm9uZSwKICAgICAgICBoZWxwPSJsb2NhbGUgdG8gYmUgdXNlZCBmcm9tIG1vbnRoIGFuZCB3ZWVrZGF5IG5hbWVzIgogICAgKQogICAgcGFyc2VyLmFkZF9vcHRpb24oCiAgICAgICAgIi1lIiwgIi0tZW5jb2RpbmciLAogICAgICAgIGRlc3Q9ImVuY29kaW5nIiwgZGVmYXVsdD1Ob25lLAogICAgICAgIGhlbHA9IkVuY29kaW5nIHRvIHVzZSBmb3Igb3V0cHV0LiIKICAgICkKICAgIHBhcnNlci5hZGRfb3B0aW9uKAogICAgICAgICItdCIsICItLXR5cGUiLAogICAgICAgIGRlc3Q9InR5cGUiLCBkZWZhdWx0PSJ0ZXh0IiwKICAgICAgICBjaG9pY2VzPSgidGV4dCIsICJodG1sIiksCiAgICAgICAgaGVscD0ib3V0cHV0IHR5cGUgKHRleHQgb3IgaHRtbCkiCiAgICApCgogICAgKG9wdGlvbnMsIGFyZ3MpID0gcGFyc2VyLnBhcnNlX2FyZ3MoYXJncykKCiAgICBpZiBvcHRpb25zLmxvY2FsZSBhbmQgbm90IG9wdGlvbnMuZW5jb2Rpbmc6CiAgICAgICAgcGFyc2VyLmVycm9yKCJpZiAtLWxvY2FsZSBpcyBzcGVjaWZpZWQgLS1lbmNvZGluZyBpcyByZXF1aXJlZCIpCiAgICAgICAgc3lzLmV4aXQoMSkKCiAgICBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZSwgb3B0aW9ucy5lbmNvZGluZwoKICAgIGlmIG9wdGlvbnMudHlwZSA9PSAiaHRtbCI6CiAgICAgICAgaWYgb3B0aW9ucy5sb2NhbGU6CiAgICAgICAgICAgIGNhbCA9IExvY2FsZUhUTUxDYWxlbmRhcihsb2NhbGU9bG9jYWxlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhbCA9IEhUTUxDYWxlbmRhcigpCiAgICAgICAgZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nCiAgICAgICAgaWYgZW5jb2RpbmcgaXMgTm9uZToKICAgICAgICAgICAgZW5jb2RpbmcgPSBzeXMuZ2V0ZGVmYXVsdGVuY29kaW5nKCkKICAgICAgICBvcHRkaWN0ID0gZGljdChlbmNvZGluZz1lbmNvZGluZywgY3NzPW9wdGlvbnMuY3NzKQogICAgICAgIHdyaXRlID0gc3lzLnN0ZG91dC5idWZmZXIud3JpdGUKICAgICAgICBpZiBsZW4oYXJncykgPT0gMToKICAgICAgICAgICAgd3JpdGUoY2FsLmZvcm1hdHllYXJwYWdlKGRhdGV0aW1lLmRhdGUudG9kYXkoKS55ZWFyLCAqKm9wdGRpY3QpKQogICAgICAgIGVsaWYgbGVuKGFyZ3MpID09IDI6CiAgICAgICAgICAgIHdyaXRlKGNhbC5mb3JtYXR5ZWFycGFnZShpbnQoYXJnc1sxXSksICoqb3B0ZGljdCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFyc2VyLmVycm9yKCJpbmNvcnJlY3QgbnVtYmVyIG9mIGFyZ3VtZW50cyIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICBlbHNlOgogICAgICAgIGlmIG9wdGlvbnMubG9jYWxlOgogICAgICAgICAgICBjYWwgPSBMb2NhbGVUZXh0Q2FsZW5kYXIobG9jYWxlPWxvY2FsZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjYWwgPSBUZXh0Q2FsZW5kYXIoKQogICAgICAgIG9wdGRpY3QgPSBkaWN0KHc9b3B0aW9ucy53aWR0aCwgbD1vcHRpb25zLmxpbmVzKQogICAgICAgIGlmIGxlbihhcmdzKSAhPSAzOgogICAgICAgICAgICBvcHRkaWN0WyJjIl0gPSBvcHRpb25zLnNwYWNpbmcKICAgICAgICAgICAgb3B0ZGljdFsibSJdID0gb3B0aW9ucy5tb250aHMKICAgICAgICBpZiBsZW4oYXJncykgPT0gMToKICAgICAgICAgICAgcmVzdWx0ID0gY2FsLmZvcm1hdHllYXIoZGF0ZXRpbWUuZGF0ZS50b2RheSgpLnllYXIsICoqb3B0ZGljdCkKICAgICAgICBlbGlmIGxlbihhcmdzKSA9PSAyOgogICAgICAgICAgICByZXN1bHQgPSBjYWwuZm9ybWF0eWVhcihpbnQoYXJnc1sxXSksICoqb3B0ZGljdCkKICAgICAgICBlbGlmIGxlbihhcmdzKSA9PSAzOgogICAgICAgICAgICByZXN1bHQgPSBjYWwuZm9ybWF0bW9udGgoaW50KGFyZ3NbMV0pLCBpbnQoYXJnc1syXSksICoqb3B0ZGljdCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwYXJzZXIuZXJyb3IoImluY29ycmVjdCBudW1iZXIgb2YgYXJndW1lbnRzIikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgICAgICB3cml0ZSA9IHN5cy5zdGRvdXQud3JpdGUKICAgICAgICBpZiBvcHRpb25zLmVuY29kaW5nOgogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuZW5jb2RlKG9wdGlvbnMuZW5jb2RpbmcpCiAgICAgICAgICAgIHdyaXRlID0gc3lzLnN0ZG91dC5idWZmZXIud3JpdGUKICAgICAgICB3cml0ZShyZXN1bHQpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oc3lzLmFyZ3YpCg==',
'/Lib/markdown.py':'aW1wb3J0IGh0bWwKaW1wb3J0IHJlCgpjbGFzcyBVUkw6CiAgICBkZWYgX19pbml0X18oc2VsZixzcmMpOgogICAgICAgIGVsdHMgPSBzcmMuc3BsaXQobWF4c3BsaXQ9MSkKICAgICAgICBzZWxmLmhyZWYgPSBlbHRzWzBdCiAgICAgICAgc2VsZi5hbHQgPSAnJwogICAgICAgIGlmIGxlbihlbHRzKT09MjoKICAgICAgICAgICAgYWx0ID0gZWx0c1sxXQogICAgICAgICAgICBpZiBhbHRbMF09PSciJyBhbmQgYWx0Wy0xXT09JyInOnNlbGYuYWx0PWFsdFsxOi0xXQogICAgICAgICAgICBlbGlmIGFsdFswXT09IiciIGFuZCBhbHRbLTFdPT0iJyI6c2VsZi5hbHQ9YWx0WzE6LTFdCiAgICAgICAgICAgIGVsaWYgYWx0WzBdPT0iKCIgYW5kIGFsdFstMV09PSIpIjpzZWxmLmFsdD1hbHRbMTotMV0KICAgICAgICAKY2xhc3MgQ29kZUJsb2NrOgogICAgZGVmIF9faW5pdF9fKHNlbGYsbGluZSk6CiAgICAgICAgc2VsZi5saW5lcyA9IFtsaW5lXQogICAgCiAgICBkZWYgdG9faHRtbChzZWxmKToKICAgICAgICByZXMgPSBlc2NhcGUoJ1xuJy5qb2luKHNlbGYubGluZXMpKQogICAgICAgIHJlcyA9IHVubWFyayhyZXMpCiAgICAgICAgcmVzID0gJzxwcmUgY2xhc3M9Im1hcmtlZCI+JXM8L3ByZT5cbicgJXJlcwogICAgICAgIHJldHVybiByZXMsW10KCmNsYXNzIE1hcmtlZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmxpbmVzID0gW10KICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KCiAgICBkZWYgdG9faHRtbChzZWxmKToKICAgICAgICByZXR1cm4gYXBwbHlfbWFya2Rvd24oJ1xuJy5qb2luKHNlbGYubGluZXMpKQogICAgICAgIAojIGdldCByZWZlcmVuY2VzCnJlZnMgPSB7fQpyZWZfcGF0dGVybiA9IHIiXlxbKC4qKVxdOlxzKyguKikiCgpkZWYgbWFyayhzcmMpOgoKICAgIGdsb2JhbCByZWZzCiAgICByZWZzID0ge30KICAgICMgc3BsaXQgc291cmNlIGluIHNlY3Rpb25zCiAgICAjIHNlY3Rpb25zIGNhbiBiZSA6CiAgICAjIC0gYSBibG9jay1sZXZlbCBIVE1MIGVsZW1lbnQgKG1hcmtkb3duIHN5bnRheCB3aWxsIG5vdCBiZSBwcm9jZXNzZWQpCiAgICAjIC0gYSBzY3JpcHQKICAgICMgLSBhIHNwYW4tbGV2ZWwgSFRNTCB0YWcgKG1hcmtkb3duIHN5bnRheCB3aWxsIGJlIHByb2Nlc3NlZCkKICAgICMgLSBhIGNvZGUgYmxvY2sKICAgIAogICAgbGluZXMgPSBzcmMuc3BsaXQoJ1xuJykKICAgIAogICAgc2VjdGlvbnMgPSBbXQogICAgc2NyaXB0cyA9IFtdCiAgICBzZWN0aW9uID0gTWFya2VkKCkKCiAgICBpID0gMAogICAgd2hpbGUgaTxsZW4obGluZXMpOgogICAgICAgIGxpbmUgPSBsaW5lc1tpXQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VjdGlvbixNYXJrZWQpOgogICAgICAgICAgICBpZiBsaW5lLmxvd2VyKCkuc3RhcnRzd2l0aCgnPHNjcmlwdCcpOgogICAgICAgICAgICAgICAgaiA9IGkrMQogICAgICAgICAgICAgICAgd2hpbGUgajxsZW4obGluZXMpOgogICAgICAgICAgICAgICAgICAgIGlmIGxpbmVzW2pdLmxvd2VyKCkuc3RhcnRzd2l0aCgnPC9zY3JpcHQ+Jyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdHMuYXBwZW5kKCdcbicuam9pbihsaW5lc1tpKzE6al0pKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgayBpbiByYW5nZShpLGorMSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1trXSA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICBpID0gaisxCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBsaW5lLnN0cmlwKCkgYW5kIGxpbmUuc3RhcnRzd2l0aCgnICAgICcpOgogICAgICAgICAgICAgICAgaWYgc2VjdGlvbi5saW5lczoKICAgICAgICAgICAgICAgICAgICBzZWN0aW9ucy5hcHBlbmQoc2VjdGlvbikKICAgICAgICAgICAgICAgIHNlY3Rpb24gPSBDb2RlQmxvY2sobGluZVs0Ol0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBtbyA9IHJlLnNlYXJjaChyZWZfcGF0dGVybixsaW5lKQogICAgICAgICAgICAgICAgaWYgbW8gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAga2V5ID0gbW8uZ3JvdXBzKClbMF0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFVSTChtby5ncm91cHMoKVsxXSkKICAgICAgICAgICAgICAgICAgICByZWZzW2tleS5sb3dlcigpXSA9IHZhbHVlCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ubGluZXMuYXBwZW5kKGxpbmUpCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKHNlY3Rpb24sQ29kZUJsb2NrKToKICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKCcgICAgJykgb3Igbm90IGxpbmUuc3RyaXAoKToKICAgICAgICAgICAgICAgIHNlY3Rpb24ubGluZXMuYXBwZW5kKGxpbmVbNDpdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VjdGlvbnMuYXBwZW5kKHNlY3Rpb24pCiAgICAgICAgICAgICAgICBzZWN0aW9uID0gTWFya2VkKCkgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZWN0aW9uLmxpbmVzLmFwcGVuZChsaW5lKQogICAgICAgIGkgKz0gMQogICAgaWYgc2VjdGlvbi5saW5lczoKICAgICAgICBzZWN0aW9ucy5hcHBlbmQoc2VjdGlvbikKCiAgICByZXMgPSAnJwogICAgZm9yIHNlY3Rpb24gaW4gc2VjdGlvbnM6CiAgICAgICAgbWssX3NjcmlwdHMgPSBzZWN0aW9uLnRvX2h0bWwoKQogICAgICAgIHJlcyArPSBtawogICAgICAgIHNjcmlwdHMgKz0gX3NjcmlwdHMKICAgIHJldHVybiByZXMsc2NyaXB0cwoKZGVmIGVzY2FwZShjem9uZSk6CiAgICBjem9uZSA9IGN6b25lLnJlcGxhY2UoJyYnLCcmYW1wOycpCiAgICBjem9uZSA9IGN6b25lLnJlcGxhY2UoJzwnLCcmbHQ7JykKICAgIGN6b25lID0gY3pvbmUucmVwbGFjZSgnPicsJyZndDsnKQogICAgcmV0dXJuIGN6b25lCgpkZWYgc19lc2NhcGUobW8pOgogICAgIyB1c2VkIGluIHJlLnN1YgogICAgY3pvbmUgPSBtby5zdHJpbmdbbW8uc3RhcnQoKTptby5lbmQoKV0KICAgIHJldHVybiBlc2NhcGUoY3pvbmUpCgpkZWYgdW5tYXJrKGNvZGVfem9uZSk6CiAgICAjIGNvbnZlcnQgXyB0byAmIzk1OyBpbnNpZGUgaW5saW5lIGNvZGUKICAgIGNvZGVfem9uZSA9IGNvZGVfem9uZS5yZXBsYWNlKCdfJywnJiM5NTsnKQogICAgcmV0dXJuIGNvZGVfem9uZQoKZGVmIHNfdW5tYXJrKG1vKToKICAgICMgY29udmVydCBfIHRvICYjOTU7IGluc2lkZSBpbmxpbmUgY29kZQogICAgY29kZV96b25lID0gbW8uc3RyaW5nW21vLnN0YXJ0KCk6bW8uZW5kKCldCiAgICBjb2RlX3pvbmUgPSBjb2RlX3pvbmUucmVwbGFjZSgnXycsJyYjOTU7JykKICAgIHJldHVybiBjb2RlX3pvbmUKCmRlZiBhcHBseV9tYXJrZG93bihzcmMpOgoKICAgIHNjcmlwdHMgPSBbXQoKICAgICMgYmxvY2txdW90ZXMKICAgIGxpbmVzID0gc3JjLnNwbGl0KCdcbicpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG5iID0gMAogICAgICAgIGkgPSAwCiAgICAgICAgd2hpbGUgaTxsZW4obGluZXMpOgogICAgICAgICAgICBpZiBsaW5lc1tpXS5zdGFydHN3aXRoKCc+Jyk6CiAgICAgICAgICAgICAgICBoZWFkID0gJ1xuJy5qb2luKGxpbmVzWzppXSkKICAgICAgICAgICAgICAgIGJxbGluZXMgPSBbXQogICAgICAgICAgICAgICAgbmIgKz0gMQogICAgICAgICAgICAgICAgcmVzdCA9IGxpbmVzW2ldWzE6XQogICAgICAgICAgICAgICAgaWYgcmVzdC5sc3RyaXAoKS5zdGFydHN3aXRoKCc+Jyk6CiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHJlc3QubHN0cmlwKCkKICAgICAgICAgICAgICAgIGJxbGluZXMuYXBwZW5kKHJlc3QpCiAgICAgICAgICAgICAgICBqID0gaSsxCiAgICAgICAgICAgICAgICB3aGlsZSBqPGxlbihsaW5lcyk6CiAgICAgICAgICAgICAgICAgICAgaWYgbGluZXNbal0uc3RhcnRzd2l0aCgnPicpOgogICAgICAgICAgICAgICAgICAgICAgICByZXN0ID0gbGluZXNbal1bMTpdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3QubHN0cmlwKCkuc3RhcnRzd2l0aCgnPicpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHJlc3QubHN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgYnFsaW5lcy5hcHBlbmQocmVzdCkKICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxpZiBsaW5lc1tqXS5zdHJpcCgpIGFuZCBsaW5lc1tqXVswXSE9JyAnOgogICAgICAgICAgICAgICAgICAgICAgICBicWxpbmVzLmFwcGVuZChsaW5lc1tqXSkKICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICMgYnFsaW5lcyBob2xkcyB0aGUgbGluZXMgaW4gdGhlIGJsb2NrcXVvdGUsIHN0cmlwcGVkIG9mCiAgICAgICAgICAgICAgICAjIHRoZSBsZWFkaW5nID4KICAgICAgICAgICAgICAgICMgd2UgYXBwbHkgdGhlIHdob2xlIG1hcmtkb3duIHByb2Nlc3MgdG8gdGhlc2UgbGluZXMKICAgICAgICAgICAgICAgIG1rLF9zY3JpcHRzID0gbWFyaygnXG4nLmpvaW4oYnFsaW5lcykpCiAgICAgICAgICAgICAgICBzY3JpcHRzICs9IF9zY3JpcHRzCiAgICAgICAgICAgICAgICBzcmMgPSBoZWFkCiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xuPGJsb2NrcXVvdGU+JyArIG1rICsgJzwvYmxvY2txdW90ZT4nCiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xuJy5qb2luKGxpbmVzW2o6XSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGkgKz0gMQogICAgICAgIGlmIG5iPT0wOmJyZWFrCiAgICAgICAgbGluZXMgPSBzcmMuc3BsaXRsaW5lcygpCgogICAgIyByZXBsYWNlIFxgIGJ5ICYjOTY7CiAgICBzcmMgPSByZS5zdWIocidcXFxgJywnJiM5NjsnLHNyYykKCiAgICAjIGVzY2FwZSA8ID4gJiBpbiBpbmxpbmUgY29kZQogICAgY29kZV9wYXR0ZXJuID0gcidcYChcUy4qP1xTKVxgJwogICAgc3JjID0gcmUuc3ViKGNvZGVfcGF0dGVybixzX2VzY2FwZSxzcmMpCiAgICAjIGFsc28gY29udmVydCBfCiAgICBzcmMgPSByZS5zdWIoY29kZV9wYXR0ZXJuLHNfdW5tYXJrLHNyYykKICAgIAogICAgIyBpbmxpbmUgbGlua3MKICAgIGxpbmtfcGF0dGVybjEgPSByJ1xbKC4rPylcXVxzP1woKC4rPylcKScKICAgIGRlZiByZXBsKG1vKToKICAgICAgICBnMSxnMiA9IG1vLmdyb3VwcygpCiAgICAgICAgZzIgPSByZS5zdWIoJ18nLCcmIzk1OycsZzIpCiAgICAgICAgcmV0dXJuICc8YSBocmVmPSIlcyI+JXM8L2E+JyAlKGcyLGcxKQogICAgc3JjID0gcmUuc3ViKGxpbmtfcGF0dGVybjEscmVwbCxzcmMpCgogICAgIyByZWZlcmVuY2UgbGlua3MKICAgIGxpbmtfcGF0dGVybjIgPSByJ1xbKC4rPylcXVxzP1xbKC4qPylcXScKICAgIHdoaWxlIFRydWU6CiAgICAgICAgbW8gPSByZS5zZWFyY2gobGlua19wYXR0ZXJuMixzcmMpCiAgICAgICAgaWYgbW8gaXMgTm9uZTpicmVhawogICAgICAgIHRleHQsa2V5ID0gbW8uZ3JvdXBzKCkKICAgICAgICBwcmludCh0ZXh0LGtleSkKICAgICAgICBpZiBub3Qga2V5OmtleT10ZXh0ICMgaW1wbGljaXQgbGluayBuYW1lCiAgICAgICAgaWYga2V5Lmxvd2VyKCkgbm90IGluIHJlZnM6CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yKCd1bmtub3cgcmVmZXJlbmNlICVzJyAla2V5KQogICAgICAgIHVybCA9IHJlZnNba2V5Lmxvd2VyKCldCiAgICAgICAgcmVwbCA9ICc8YSBocmVmPSInK3VybC5ocmVmKyciJwogICAgICAgIGlmIHVybC5hbHQ6CiAgICAgICAgICAgIHJlcGwgKz0gJyB0aXRsZT0iJyt1cmwuYWx0KyciJwogICAgICAgIHJlcGwgKz0gJz4lczwvYT4nICV0ZXh0CiAgICAgICAgc3JjID0gcmUuc3ViKGxpbmtfcGF0dGVybjIscmVwbCxzcmMsY291bnQ9MSkKCiAgICAjIGVtcGhhc2lzCgogICAgIyByZXBsYWNlIFwqIGJ5ICYjNDI7CiAgICBzcmMgPSByZS5zdWIocidcXFwqJywnJiM0MjsnLHNyYykKICAgICMgcmVwbGFjZSBcXyBieSAmIzk1OwogICAgc3JjID0gcmUuc3ViKHInXFxcXycsJyYjOTU7JyxzcmMpCiAgICAjIF8gYW5kICogc3Vycm91bmRlZCBieSBzcGFjZXMgYXJlIG5vdCBtYXJrdXAKICAgIHNyYyA9IHJlLnN1YihyJyBfICcsJyAmIzk1OyAnLHNyYykKICAgIHNyYyA9IHJlLnN1YihyJyBcKiAnLCcgJiM0MjsgJyxzcmMpCgogICAgc3Ryb25nX3BhdHRlcm5zID0gWygnU1RST05HJyxyJ1wqXCooLio/KVwqXConKSwoJ0InLHInX18oLio/KV9fJyldCiAgICBmb3IgdGFnLHN0cm9uZ19wYXR0ZXJuIGluIHN0cm9uZ19wYXR0ZXJuczoKICAgICAgICBzcmMgPSByZS5zdWIoc3Ryb25nX3BhdHRlcm4scic8JXM+XDE8LyVzPicgJSh0YWcsdGFnKSxzcmMpCgogICAgZW1fcGF0dGVybnMgPSBbKCdFTScscidcKiguKj8pXConKSwoJ0knLHInXF8oLio/KVxfJyldCiAgICBmb3IgdGFnLGVtX3BhdHRlcm4gaW4gZW1fcGF0dGVybnM6CiAgICAgICAgc3JjID0gcmUuc3ViKGVtX3BhdHRlcm4scic8JXM+XDE8LyVzPicgJSh0YWcsdGFnKSxzcmMpCgogICAgIyBpbmxpbmUgY29kZQogICAgIyByZXBsYWNlIFxgIGJ5ICYjOTY7CiAgICBzcmMgPSByZS5zdWIocidcXFxgJywnJiM5NjsnLHNyYykKCiAgICBjb2RlX3BhdHRlcm4gPSByJ1xgKC4qPylcYCcKICAgIHNyYyA9IHJlLnN1Yihjb2RlX3BhdHRlcm4scic8Y29kZT5cMTwvY29kZT4nLHNyYykKCiAgICAjIHVub3JkZXJlZCBsaXN0cwogICAgbGluZXMgPSBzcmMuc3BsaXQoJ1xuJykKICAgIHdoaWxlIFRydWU6CiAgICAgICAgbmIgPSAwCiAgICAgICAgaSA9IDAKICAgICAgICB3aGlsZSBpPGxlbihsaW5lcyk6CiAgICAgICAgICAgIG1vID0gcmUuc2VhcmNoKHInXiggKlsrKi1dKScsbGluZXNbaV0pCiAgICAgICAgICAgIGlmIG1vOgogICAgICAgICAgICAgICAgc3RhcnRlciA9IG1vLmdyb3VwcygpWzBdCiAgICAgICAgICAgICAgICBpZiBub3QgbGluZXNbaV0uc3RyaXAoc3RhcnRlcik6CiAgICAgICAgICAgICAgICAgICAgaSArPSAxCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIG5iICs9IDEKICAgICAgICAgICAgICAgIGxpbmVzW2ldID0gJzx1bD5cbjxsaT4nK2xpbmVzW2ldW2xlbihzdGFydGVyKTpdCiAgICAgICAgICAgICAgICBqID0gaSsxCiAgICAgICAgICAgICAgICB3aGlsZSBqPGxlbihsaW5lcyk6CiAgICAgICAgICAgICAgICAgICAgaWYgbGluZXNbal0uc3RhcnRzd2l0aChzdGFydGVyKToKICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbal0gPSAnPGxpPicrbGluZXNbal1bbGVuKHN0YXJ0ZXIpOl0KICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxpZiBsaW5lc1tqXS5zdGFydHN3aXRoKCcgJykgYW5kIGxpbmVzW2pdLmxzdHJpcCgpLnN0YXJ0c3dpdGgoc3RhcnRlcik6CiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMQogICAgICAgICAgICAgICAgICAgIGVsaWYgbm90IGxpbmVzW2pdLnN0cmlwKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGorPTEKICAgICAgICAgICAgICAgICAgICBlbGlmIGxpbmVzW2pdLnN0YXJ0c3dpdGgoJyAnKmxlbihzdGFydGVyKSk6CiAgICAgICAgICAgICAgICAgICAgICAgIGorPTEKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgbGluZXNbai0xXSArPSAnXG48L3VsPicKICAgICAgICAgICAgaSArPSAxCiAgICAgICAgc3JjID0gJ1xuJy5qb2luKGxpbmVzKQogICAgICAgIGlmIG5iPT0wOmJyZWFrCiAgICAgICAgbGluZXMgPSBzcmMuc3BsaXRsaW5lcygpCgogICAgIyBvcmRlcmVkIGxpc3RzCiAgICBsaW5lcyA9IHNyYy5zcGxpdCgnXG4nKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBuYiA9IDAKICAgICAgICBpID0gMAogICAgICAgIHdoaWxlIGk8bGVuKGxpbmVzKToKICAgICAgICAgICAgaWYgcmUuc2VhcmNoKHInXlxkK1wuJyxsaW5lc1tpXSk6CiAgICAgICAgICAgICAgICBuYiArPSAxCiAgICAgICAgICAgICAgICBsaW5lc1tpXSA9ICc8b2w+XG48bGk+JytsaW5lc1tpXVtsaW5lc1tpXS5maW5kKCcuJykrMTpdCiAgICAgICAgICAgICAgICBqID0gaSsxCiAgICAgICAgICAgICAgICB3aGlsZSBqPGxlbihsaW5lcyk6CiAgICAgICAgICAgICAgICAgICAgaWYgcmUuc2VhcmNoKHInXlxkK1wuJyxsaW5lc1tqXSk6CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2pdID0gJzxsaT4nK2xpbmVzW2pdW2xpbmVzW2pdLmZpbmQoJy4nKSsxOl0KICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGxpbmVzW2otMV0gKz0gJ1xuPC9vbD4nCiAgICAgICAgICAgIGkgKz0gMQogICAgICAgIHNyYyA9ICdcbicuam9pbihsaW5lcykKICAgICAgICBpZiBuYj09MDpicmVhawogICAgICAgIGxpbmVzID0gc3JjLnNwbGl0bGluZXMoKQoKICAgICMgaGVhZGVycwogICAgaSA9IDEKICAgIHdoaWxlIGk8bGVuKGxpbmVzKToKICAgICAgICBsaW5lID0gbGluZXNbaV0KICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoJz0nKSBhbmQgbm90IGxpbmUuc3RyaXAoJz0nKS5zdHJpcCgpOgogICAgICAgICAgICBsaW5lc1tpLTFdID0gJzxIMT4lczwvSDE+JyAlbGluZXNbaS0xXQogICAgICAgICAgICBkZWwgbGluZXNbaV0KICAgICAgICBlbGlmIGxpbmUuc3RhcnRzd2l0aCgnLScpIGFuZCBub3QgbGluZS5zdHJpcCgnLScpLnN0cmlwKCk6CiAgICAgICAgICAgIGxpbmVzW2ktMV0gPSAnPEgyPiVzPC9IMj4nICVsaW5lc1tpLTFdCiAgICAgICAgICAgIGRlbCBsaW5lc1tpXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgIAogICAgYXR4X2hlYWRlcl9wYXR0ZXJuID0gJ14oIyspKC4qKSgjKiknCiAgICBmb3IgaSxsaW5lIGluIGVudW1lcmF0ZShsaW5lcyk6CiAgICAgICAgbW8gPSByZS5zZWFyY2goYXR4X2hlYWRlcl9wYXR0ZXJuLGxpbmUpCiAgICAgICAgaWYgbm90IG1vOmNvbnRpbnVlCiAgICAgICAgbGV2ZWwgPSBsZW4obW8uZ3JvdXBzKClbMF0pCiAgICAgICAgbGluZXNbaV0gPSByZS5zdWIoYXR4X2hlYWRlcl9wYXR0ZXJuLAogICAgICAgICAgICAnPEglcz4lczwvSCVzPlxuJyAlKGxldmVsLG1vLmdyb3VwcygpWzFdLGxldmVsKSwKICAgICAgICAgICAgbGluZSxjb3VudD0xKQoKICAgIHNyYyA9ICdcbicuam9pbihsaW5lcykgICAgICAKICAgIHNyYyA9IHJlLnN1YignXG5cbisnLCdcbjxwPicsc3JjKSsnXG4nCgogICAgcmV0dXJuIHNyYyxzY3JpcHRzCg==',
'/Lib/sre_parse.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyBjb252ZXJ0IHJlLXN0eWxlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBzcmUgcGF0dGVybgojCiMgQ29weXJpZ2h0IChjKSAxOTk4LTIwMDEgYnkgU2VjcmV0IExhYnMgQUIuICBBbGwgcmlnaHRzIHJlc2VydmVkLgojCiMgU2VlIHRoZSBzcmUucHkgZmlsZSBmb3IgaW5mb3JtYXRpb24gb24gdXNhZ2UgYW5kIHJlZGlzdHJpYnV0aW9uLgojCgoiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgojIFhYWDogc2hvdyBzdHJpbmcgb2Zmc2V0IGFuZCBvZmZlbmRpbmcgY2hhcmFjdGVyIGZvciBhbGwgZXJyb3JzCgppbXBvcnQgc3lzCmZyb20gc3JlX2NvbnN0YW50cyBpbXBvcnQgKgoKCgpTUEVDSUFMX0NIQVJTID0gIi5cXFt7KCkqKz9eJHwiClJFUEVBVF9DSEFSUyA9ICIqKz97IgoKRElHSVRTID0gc2V0KCIwMTIzNDU2Nzg5IikKCk9DVERJR0lUUyA9IHNldCgiMDEyMzQ1NjciKQpIRVhESUdJVFMgPSBzZXQoIjAxMjM0NTY3ODlhYmNkZWZBQkNERUYiKQoKV0hJVEVTUEFDRSA9IHNldCgiIFx0XG5cclx2XGYiKQoKRVNDQVBFUyA9IHsKICAgIHIiXGEiOiAoTElURVJBTCwgb3JkKCJcYSIpKSwKICAgIHIiXGIiOiAoTElURVJBTCwgb3JkKCJcYiIpKSwKICAgIHIiXGYiOiAoTElURVJBTCwgb3JkKCJcZiIpKSwKICAgIHIiXG4iOiAoTElURVJBTCwgb3JkKCJcbiIpKSwKICAgIHIiXHIiOiAoTElURVJBTCwgb3JkKCJcciIpKSwKICAgIHIiXHQiOiAoTElURVJBTCwgb3JkKCJcdCIpKSwKICAgIHIiXHYiOiAoTElURVJBTCwgb3JkKCJcdiIpKSwKICAgIHIiXFwiOiAoTElURVJBTCwgb3JkKCJcXCIpKQp9CgpDQVRFR09SSUVTID0gewogICAgciJcQSI6IChBVCwgQVRfQkVHSU5OSU5HX1NUUklORyksICMgc3RhcnQgb2Ygc3RyaW5nCiAgICByIlxiIjogKEFULCBBVF9CT1VOREFSWSksCiAgICByIlxCIjogKEFULCBBVF9OT05fQk9VTkRBUlkpLAogICAgciJcZCI6IChJTiwgWyhDQVRFR09SWSwgQ0FURUdPUllfRElHSVQpXSksCiAgICByIlxEIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9OT1RfRElHSVQpXSksCiAgICByIlxzIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9TUEFDRSldKSwKICAgIHIiXFMiOiAoSU4sIFsoQ0FURUdPUlksIENBVEVHT1JZX05PVF9TUEFDRSldKSwKICAgIHIiXHciOiAoSU4sIFsoQ0FURUdPUlksIENBVEVHT1JZX1dPUkQpXSksCiAgICByIlxXIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9OT1RfV09SRCldKSwKICAgICNmaXhtZSBicnl0aG9uCiAgICAjciJcWiI6IChBVCwgQVRfRU5EX1NUUklORyksICMgZW5kIG9mIHN0cmluZwogICAgciJcWiI6IChBVCwgQVRfRU5EX1NUUklORykgIyBlbmQgb2Ygc3RyaW5nCn0KCkZMQUdTID0gewogICAgIyBzdGFuZGFyZCBmbGFncwogICAgImkiOiBTUkVfRkxBR19JR05PUkVDQVNFLAogICAgIkwiOiBTUkVfRkxBR19MT0NBTEUsCiAgICAibSI6IFNSRV9GTEFHX01VTFRJTElORSwKICAgICJzIjogU1JFX0ZMQUdfRE9UQUxMLAogICAgIngiOiBTUkVfRkxBR19WRVJCT1NFLAogICAgIyBleHRlbnNpb25zCiAgICAiYSI6IFNSRV9GTEFHX0FTQ0lJLAogICAgInQiOiBTUkVfRkxBR19URU1QTEFURSwKICAgICNmaXhtZSBicnl0aG9uCiAgICAjInUiOiBTUkVfRkxBR19VTklDT0RFLAogICAgInUiOiBTUkVfRkxBR19VTklDT0RFCn0KCmNsYXNzIFBhdHRlcm46CiAgICAjIG1hc3RlciBwYXR0ZXJuIG9iamVjdC4gIGtlZXBzIHRyYWNrIG9mIGdsb2JhbCBhdHRyaWJ1dGVzCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5mbGFncyA9IDAKICAgICAgICBzZWxmLm9wZW4gPSBbXQogICAgICAgIHNlbGYuZ3JvdXBzID0gMQogICAgICAgIHNlbGYuZ3JvdXBkaWN0ID0ge30KICAgIGRlZiBvcGVuZ3JvdXAoc2VsZiwgbmFtZT1Ob25lKToKICAgICAgICBnaWQgPSBzZWxmLmdyb3VwcwogICAgICAgIHNlbGYuZ3JvdXBzID0gZ2lkICsgMQogICAgICAgIGlmIG5hbWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG9naWQgPSBzZWxmLmdyb3VwZGljdC5nZXQobmFtZSwgTm9uZSkKICAgICAgICAgICAgaWYgb2dpZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJyZWRlZmluaXRpb24gb2YgZ3JvdXAgbmFtZSAlcyBhcyBncm91cCAlZDsgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndhcyBncm91cCAlZCIgJSAocmVwcihuYW1lKSwgZ2lkLCAgb2dpZCkpCiAgICAgICAgICAgIHNlbGYuZ3JvdXBkaWN0W25hbWVdID0gZ2lkCiAgICAgICAgc2VsZi5vcGVuLmFwcGVuZChnaWQpCiAgICAgICAgcmV0dXJuIGdpZAogICAgZGVmIGNsb3NlZ3JvdXAoc2VsZiwgZ2lkKToKICAgICAgICBzZWxmLm9wZW4ucmVtb3ZlKGdpZCkKICAgIGRlZiBjaGVja2dyb3VwKHNlbGYsIGdpZCk6CiAgICAgICAgcmV0dXJuIGdpZCA8IHNlbGYuZ3JvdXBzIGFuZCBnaWQgbm90IGluIHNlbGYub3BlbgoKY2xhc3MgU3ViUGF0dGVybjoKICAgICMgYSBzdWJwYXR0ZXJuLCBpbiBpbnRlcm1lZGlhdGUgZm9ybQogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdHRlcm4sIGRhdGE9Tm9uZSk6CiAgICAgICAgc2VsZi5wYXR0ZXJuID0gcGF0dGVybgogICAgICAgIGlmIGRhdGEgaXMgTm9uZToKICAgICAgICAgICAgZGF0YSA9IFtdCiAgICAgICAgc2VsZi5kYXRhID0gZGF0YQogICAgICAgIHNlbGYud2lkdGggPSBOb25lCiAgICBkZWYgZHVtcChzZWxmLCBsZXZlbD0wKToKICAgICAgICBubCA9IDEKICAgICAgICBzZXF0eXBlcyA9ICh0dXBsZSwgbGlzdCkKICAgICAgICBmb3Igb3AsIGF2IGluIHNlbGYuZGF0YToKICAgICAgICAgICAgcHJpbnQobGV2ZWwqIiAgIiArIG9wLCBlbmQ9JyAnKTsgbmwgPSAwCiAgICAgICAgICAgIGlmIG9wID09ICJpbiI6CiAgICAgICAgICAgICAgICAjIG1lbWJlciBzdWJsYW5ndWFnZQogICAgICAgICAgICAgICAgcHJpbnQoKTsgbmwgPSAxCiAgICAgICAgICAgICAgICBmb3Igb3AsIGEgaW4gYXY6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoKGxldmVsKzEpKiIgICIgKyBvcCwgYSkKICAgICAgICAgICAgZWxpZiBvcCA9PSAiYnJhbmNoIjoKICAgICAgICAgICAgICAgIHByaW50KCk7IG5sID0gMQogICAgICAgICAgICAgICAgaSA9IDAKICAgICAgICAgICAgICAgIGZvciBhIGluIGF2WzFdOgogICAgICAgICAgICAgICAgICAgIGlmIGkgPiAwOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChsZXZlbCoiICAiICsgIm9yIikKICAgICAgICAgICAgICAgICAgICBhLmR1bXAobGV2ZWwrMSk7IG5sID0gMQogICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMQogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoYXYsIHNlcXR5cGVzKToKICAgICAgICAgICAgICAgIGZvciBhIGluIGF2OgogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYSwgU3ViUGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBubDogcHJpbnQoKQogICAgICAgICAgICAgICAgICAgICAgICBhLmR1bXAobGV2ZWwrMSk7IG5sID0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGEsIGVuZD0nICcpIDsgbmwgPSAwCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChhdiwgZW5kPScgJykgOyBubCA9IDAKICAgICAgICAgICAgaWYgbm90IG5sOiBwcmludCgpCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHJlcHIoc2VsZi5kYXRhKQogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGRlbCBzZWxmLmRhdGFbaW5kZXhdCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoaW5kZXgsIHNsaWNlKToKICAgICAgICAgICAgcmV0dXJuIFN1YlBhdHRlcm4oc2VsZi5wYXR0ZXJuLCBzZWxmLmRhdGFbaW5kZXhdKQogICAgICAgIHJldHVybiBzZWxmLmRhdGFbaW5kZXhdCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgaW5kZXgsIGNvZGUpOgogICAgICAgIHNlbGYuZGF0YVtpbmRleF0gPSBjb2RlCiAgICBkZWYgaW5zZXJ0KHNlbGYsIGluZGV4LCBjb2RlKToKICAgICAgICBzZWxmLmRhdGEuaW5zZXJ0KGluZGV4LCBjb2RlKQogICAgZGVmIGFwcGVuZChzZWxmLCBjb2RlKToKICAgICAgICBzZWxmLmRhdGEuYXBwZW5kKGNvZGUpCiAgICBkZWYgZ2V0d2lkdGgoc2VsZik6CiAgICAgICAgIyBkZXRlcm1pbmUgdGhlIHdpZHRoIChtaW4sIG1heCkgZm9yIHRoaXMgc3VicGF0dGVybgogICAgICAgIGlmIHNlbGYud2lkdGg6CiAgICAgICAgICAgIHJldHVybiBzZWxmLndpZHRoCiAgICAgICAgbG8gPSBoaSA9IDAKICAgICAgICBVTklUQ09ERVMgPSAoQU5ZLCBSQU5HRSwgSU4sIExJVEVSQUwsIE5PVF9MSVRFUkFMLCBDQVRFR09SWSkKICAgICAgICBSRVBFQVRDT0RFUyA9IChNSU5fUkVQRUFULCBNQVhfUkVQRUFUKQogICAgICAgIGZvciBvcCwgYXYgaW4gc2VsZi5kYXRhOgogICAgICAgICAgICBpZiBvcCBpcyBCUkFOQ0g6CiAgICAgICAgICAgICAgICBpID0gc3lzLm1heHNpemUKICAgICAgICAgICAgICAgIGogPSAwCiAgICAgICAgICAgICAgICBmb3IgYXYgaW4gYXZbMV06CiAgICAgICAgICAgICAgICAgICAgbCwgaCA9IGF2LmdldHdpZHRoKCkKICAgICAgICAgICAgICAgICAgICBpID0gbWluKGksIGwpCiAgICAgICAgICAgICAgICAgICAgaiA9IG1heChqLCBoKQogICAgICAgICAgICAgICAgbG8gPSBsbyArIGkKICAgICAgICAgICAgICAgIGhpID0gaGkgKyBqCiAgICAgICAgICAgIGVsaWYgb3AgaXMgQ0FMTDoKICAgICAgICAgICAgICAgIGksIGogPSBhdi5nZXR3aWR0aCgpCiAgICAgICAgICAgICAgICBsbyA9IGxvICsgaQogICAgICAgICAgICAgICAgaGkgPSBoaSArIGoKICAgICAgICAgICAgZWxpZiBvcCBpcyBTVUJQQVRURVJOOgogICAgICAgICAgICAgICAgaSwgaiA9IGF2WzFdLmdldHdpZHRoKCkKICAgICAgICAgICAgICAgIGxvID0gbG8gKyBpCiAgICAgICAgICAgICAgICBoaSA9IGhpICsgagogICAgICAgICAgICBlbGlmIG9wIGluIFJFUEVBVENPREVTOgogICAgICAgICAgICAgICAgaSwgaiA9IGF2WzJdLmdldHdpZHRoKCkKICAgICAgICAgICAgICAgIGxvID0gbG8gKyBpbnQoaSkgKiBhdlswXQogICAgICAgICAgICAgICAgaGkgPSBoaSArIGludChqKSAqIGF2WzFdCiAgICAgICAgICAgIGVsaWYgb3AgaW4gVU5JVENPREVTOgogICAgICAgICAgICAgICAgbG8gPSBsbyArIDEKICAgICAgICAgICAgICAgIGhpID0gaGkgKyAxCiAgICAgICAgICAgIGVsaWYgb3AgPT0gU1VDQ0VTUzoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgc2VsZi53aWR0aCA9IGludChtaW4obG8sIHN5cy5tYXhzaXplKSksIGludChtaW4oaGksIHN5cy5tYXhzaXplKSkKICAgICAgICByZXR1cm4gc2VsZi53aWR0aAoKY2xhc3MgVG9rZW5pemVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0cmluZyk6CiAgICAgICAgc2VsZi5zdHJpbmcgPSBzdHJpbmcKICAgICAgICBzZWxmLmluZGV4ID0gMAogICAgICAgIHNlbGYuX19uZXh0KCkKICAgIGRlZiBfX25leHQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5pbmRleCA+PSBsZW4oc2VsZi5zdHJpbmcpOgogICAgICAgICAgICBzZWxmLm5leHQgPSBOb25lCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGNoYXIgPSBzZWxmLnN0cmluZ1tzZWxmLmluZGV4OnNlbGYuaW5kZXgrMV0KICAgICAgICAjIFNwZWNpYWwgY2FzZSBmb3IgdGhlIHN0cjgsIHNpbmNlIGluZGV4aW5nIHJldHVybnMgYSBpbnRlZ2VyCiAgICAgICAgIyBYWFggVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgdGVzdF9idWdfOTI2MDc1IGluIHRlc3RfcmUucHkKICAgICAgICBpZiBjaGFyIGFuZCBpc2luc3RhbmNlKGNoYXIsIGJ5dGVzKToKICAgICAgICAgICAgY2hhciA9IGNocihjaGFyWzBdKQogICAgICAgIGlmIGNoYXIgPT0gIlxcIjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYyA9IHNlbGYuc3RyaW5nW3NlbGYuaW5kZXggKyAxXQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGUgKGVuZCBvZiBsaW5lKSIpCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5zdHJpbmcsIGJ5dGVzKToKICAgICAgICAgICAgICAgIGMgPSBjaHIoYykKICAgICAgICAgICAgY2hhciA9IGNoYXIgKyBjCiAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuaW5kZXggKyBsZW4oY2hhcikKICAgICAgICBzZWxmLm5leHQgPSBjaGFyCiAgICBkZWYgbWF0Y2goc2VsZiwgY2hhciwgc2tpcD0xKToKICAgICAgICBpZiBjaGFyID09IHNlbGYubmV4dDoKICAgICAgICAgICAgaWYgc2tpcDoKICAgICAgICAgICAgICAgIHNlbGYuX19uZXh0KCkKICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICByZXR1cm4gMAogICAgZGVmIGdldChzZWxmKToKICAgICAgICB0aGlzID0gc2VsZi5uZXh0CiAgICAgICAgc2VsZi5fX25leHQoKQogICAgICAgIHJldHVybiB0aGlzCiAgICBkZWYgdGVsbChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pbmRleCwgc2VsZi5uZXh0CiAgICBkZWYgc2VlayhzZWxmLCBpbmRleCk6CiAgICAgICAgc2VsZi5pbmRleCwgc2VsZi5uZXh0ID0gaW5kZXgKCiAgICAjZml4bWUgYnJ5dGhvbgogICAgI2RlZiBfX2luX18oc2VsZiwgb3RoZXIpOgogICAgIyAgICByZXR1cm4gc2VsZi5zdHJpbmcuX19jb250YWluc19fKG90aGVyKQoKICAgICNmaXhtZSBicnl0aG9uCiAgICAjZGVmIF9fY29udGFpbnNfXyhzZWxmLCBvdGhlcik6CiAgICAjICAgIHJldHVybiBzZWxmLnN0cmluZy5fX2NvbnRhaW5zX18ob3RoZXIpCgpkZWYgaXNpZGVudChjaGFyKToKICAgIHJldHVybiAiYSIgPD0gY2hhciA8PSAieiIgb3IgIkEiIDw9IGNoYXIgPD0gIloiIG9yIGNoYXIgPT0gIl8iCgpkZWYgaXNkaWdpdChjaGFyKToKICAgIHJldHVybiAiMCIgPD0gY2hhciA8PSAiOSIKCmRlZiBpc25hbWUobmFtZSk6CiAgICAjIGNoZWNrIHRoYXQgZ3JvdXAgbmFtZSBpcyBhIHZhbGlkIHN0cmluZwogICAgaWYgbm90IGlzaWRlbnQobmFtZVswXSk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBmb3IgY2hhciBpbiBuYW1lWzE6XToKICAgICAgICBpZiBub3QgaXNpZGVudChjaGFyKSBhbmQgbm90IGlzZGlnaXQoY2hhcik6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCmRlZiBfY2xhc3NfZXNjYXBlKHNvdXJjZSwgZXNjYXBlKToKICAgICMgaGFuZGxlIGVzY2FwZSBjb2RlIGluc2lkZSBjaGFyYWN0ZXIgY2xhc3MKICAgIGNvZGUgPSBFU0NBUEVTLmdldChlc2NhcGUpCiAgICBpZiBjb2RlOgogICAgICAgIHJldHVybiBjb2RlCiAgICBjb2RlID0gQ0FURUdPUklFUy5nZXQoZXNjYXBlKQogICAgaWYgY29kZToKICAgICAgICByZXR1cm4gY29kZQogICAgdHJ5OgogICAgICAgIGMgPSBlc2NhcGVbMToyXQogICAgICAgIGlmIGMgPT0gIngiOgogICAgICAgICAgICAjIGhleGFkZWNpbWFsIGVzY2FwZSAoZXhhY3RseSB0d28gZGlnaXRzKQogICAgICAgICAgICB3aGlsZSBzb3VyY2UubmV4dCBpbiBIRVhESUdJVFMgYW5kIGxlbihlc2NhcGUpIDwgNDoKICAgICAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZSArIHNvdXJjZS5nZXQoKQogICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGVbMjpdCiAgICAgICAgICAgIGlmIGxlbihlc2NhcGUpICE9IDI6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYm9ndXMgZXNjYXBlOiAlcyIgJSByZXByKCJcXCIgKyBlc2NhcGUpKQogICAgICAgICAgICByZXR1cm4gTElURVJBTCwgaW50KGVzY2FwZSwgMTYpICYgMHhmZgogICAgICAgIGVsaWYgYyBpbiBPQ1RESUdJVFM6CiAgICAgICAgICAgICMgb2N0YWwgZXNjYXBlICh1cCB0byB0aHJlZSBkaWdpdHMpCiAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIE9DVERJR0lUUyBhbmQgbGVuKGVzY2FwZSkgPCA0OgogICAgICAgICAgICAgICAgZXNjYXBlID0gZXNjYXBlICsgc291cmNlLmdldCgpCiAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZVsxOl0KICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGUsIDgpICYgMHhmZgogICAgICAgIGVsaWYgYyBpbiBESUdJVFM6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGU6ICVzIiAlIHJlcHIoZXNjYXBlKSkKICAgICAgICBpZiBsZW4oZXNjYXBlKSA9PSAyOgogICAgICAgICAgICByZXR1cm4gTElURVJBTCwgb3JkKGVzY2FwZVsxXSkKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIHBhc3MKICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGU6ICVzIiAlIHJlcHIoZXNjYXBlKSkKCmRlZiBfZXNjYXBlKHNvdXJjZSwgZXNjYXBlLCBzdGF0ZSk6CiAgICAjIGhhbmRsZSBlc2NhcGUgY29kZSBpbiBleHByZXNzaW9uCiAgICBjb2RlID0gQ0FURUdPUklFUy5nZXQoZXNjYXBlKQogICAgaWYgY29kZToKICAgICAgICByZXR1cm4gY29kZQogICAgY29kZSA9IEVTQ0FQRVMuZ2V0KGVzY2FwZSkKICAgIGlmIGNvZGU6CiAgICAgICAgcmV0dXJuIGNvZGUKICAgIHRyeToKICAgICAgICBjID0gZXNjYXBlWzE6Ml0KICAgICAgICBpZiBjID09ICJ4IjoKICAgICAgICAgICAgIyBoZXhhZGVjaW1hbCBlc2NhcGUKICAgICAgICAgICAgd2hpbGUgc291cmNlLm5leHQgaW4gSEVYRElHSVRTIGFuZCBsZW4oZXNjYXBlKSA8IDQ6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgaWYgbGVuKGVzY2FwZSkgIT0gNDoKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGVbMjpdLCAxNikgJiAweGZmCiAgICAgICAgZWxpZiBjID09ICIwIjoKICAgICAgICAgICAgIyBvY3RhbCBlc2NhcGUKICAgICAgICAgICAgd2hpbGUgc291cmNlLm5leHQgaW4gT0NURElHSVRTIGFuZCBsZW4oZXNjYXBlKSA8IDQ6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGVbMTpdLCA4KSAmIDB4ZmYKICAgICAgICBlbGlmIGMgaW4gRElHSVRTOgogICAgICAgICAgICAjIG9jdGFsIGVzY2FwZSAqb3IqIGRlY2ltYWwgZ3JvdXAgcmVmZXJlbmNlIChzaWdoKQogICAgICAgICAgICBpZiBzb3VyY2UubmV4dCBpbiBESUdJVFM6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIChlc2NhcGVbMV0gaW4gT0NURElHSVRTIGFuZCBlc2NhcGVbMl0gaW4gT0NURElHSVRTIGFuZAogICAgICAgICAgICAgICAgICAgIHNvdXJjZS5uZXh0IGluIE9DVERJR0lUUyk6CiAgICAgICAgICAgICAgICAgICAgIyBnb3QgdGhyZWUgb2N0YWwgZGlnaXRzOyB0aGlzIGlzIGFuIG9jdGFsIGVzY2FwZQogICAgICAgICAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZSArIHNvdXJjZS5nZXQoKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVRFUkFMLCBpbnQoZXNjYXBlWzE6XSwgOCkgJiAweGZmCiAgICAgICAgICAgICMgbm90IGFuIG9jdGFsIGVzY2FwZSwgc28gdGhpcyBpcyBhIGdyb3VwIHJlZmVyZW5jZQogICAgICAgICAgICBncm91cCA9IGludChlc2NhcGVbMTpdKQogICAgICAgICAgICBpZiBncm91cCA8IHN0YXRlLmdyb3VwczoKICAgICAgICAgICAgICAgIGlmIG5vdCBzdGF0ZS5jaGVja2dyb3VwKGdyb3VwKToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiY2Fubm90IHJlZmVyIHRvIG9wZW4gZ3JvdXAiKQogICAgICAgICAgICAgICAgcmV0dXJuIEdST1VQUkVGLCBncm91cAogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yCiAgICAgICAgaWYgbGVuKGVzY2FwZSkgPT0gMjoKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIG9yZChlc2NhcGVbMV0pCiAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICBwYXNzCiAgICByYWlzZSBlcnJvcigiYm9ndXMgZXNjYXBlOiAlcyIgJSByZXByKGVzY2FwZSkpCgpkZWYgX3BhcnNlX3N1Yihzb3VyY2UsIHN0YXRlLCBuZXN0ZWQ9MSk6CiAgICAjIHBhcnNlIGFuIGFsdGVybmF0aW9uOiBhfGJ8YwoKICAgIGl0ZW1zID0gW10KICAgIGl0ZW1zYXBwZW5kID0gaXRlbXMuYXBwZW5kCiAgICBzb3VyY2VtYXRjaCA9IHNvdXJjZS5tYXRjaAogICAgd2hpbGUgMToKICAgICAgICBpdGVtc2FwcGVuZChfcGFyc2Uoc291cmNlLCBzdGF0ZSkpCiAgICAgICAgaWYgc291cmNlbWF0Y2goInwiKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBpZiBub3QgbmVzdGVkOgogICAgICAgICAgICBicmVhawogICAgICAgIGlmIG5vdCBzb3VyY2UubmV4dCBvciBzb3VyY2VtYXRjaCgiKSIsIDApOgogICAgICAgICAgICBicmVhawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJwYXR0ZXJuIG5vdCBwcm9wZXJseSBjbG9zZWQiKQoKICAgIGlmIGxlbihpdGVtcykgPT0gMToKICAgICAgICByZXR1cm4gaXRlbXNbMF0KCiAgICBzdWJwYXR0ZXJuID0gU3ViUGF0dGVybihzdGF0ZSkKICAgIHN1YnBhdHRlcm5hcHBlbmQgPSBzdWJwYXR0ZXJuLmFwcGVuZAoKICAgICMgY2hlY2sgaWYgYWxsIGl0ZW1zIHNoYXJlIGEgY29tbW9uIHByZWZpeAogICAgd2hpbGUgMToKICAgICAgICBwcmVmaXggPSBOb25lCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICBfZmxhZz1UcnVlCiAgICAgICAgZm9yIGl0ZW0gaW4gaXRlbXM6CiAgICAgICAgICAgIGlmIG5vdCBpdGVtOgogICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIHByZWZpeCBpcyBOb25lOgogICAgICAgICAgICAgICAgcHJlZml4ID0gaXRlbVswXQogICAgICAgICAgICBlbGlmIGl0ZW1bMF0gIT0gcHJlZml4OgogICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAjZWxzZToKICAgICAgICBpZiBfZmxhZzoKICAgICAgICAgICAgIyBhbGwgc3ViaXRlbXMgc3RhcnQgd2l0aCBhIGNvbW1vbiAicHJlZml4Ii4KICAgICAgICAgICAgIyBtb3ZlIGl0IG91dCBvZiB0aGUgYnJhbmNoCiAgICAgICAgICAgIGZvciBpdGVtIGluIGl0ZW1zOgogICAgICAgICAgICAgICAgZGVsIGl0ZW1bMF0KICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZChwcmVmaXgpCiAgICAgICAgICAgIGNvbnRpbnVlICMgY2hlY2sgbmV4dCBvbmUKICAgICAgICBicmVhawoKICAgICMgY2hlY2sgaWYgdGhlIGJyYW5jaCBjYW4gYmUgcmVwbGFjZWQgYnkgYSBjaGFyYWN0ZXIgc2V0CiAgICBfZmxhZz1UcnVlCiAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICBpZiBsZW4oaXRlbSkgIT0gMSBvciBpdGVtWzBdWzBdICE9IExJVEVSQUw6CiAgICAgICAgICAgIF9mbGFnPUZhbHNlCiAgICAgICAgICAgIGJyZWFrCiAgICAjZml4bWUgYnJ5dGhvbgogICAgI2Vsc2U6CiAgICBpZiBfZmxhZzoKICAgICAgICAjIHdlIGNhbiBzdG9yZSB0aGlzIGFzIGEgY2hhcmFjdGVyIHNldCBpbnN0ZWFkIG9mIGEKICAgICAgICAjIGJyYW5jaCAodGhlIGNvbXBpbGVyIG1heSBvcHRpbWl6ZSB0aGlzIGV2ZW4gbW9yZSkKICAgICAgICBzZXQgPSBbXQogICAgICAgIHNldGFwcGVuZCA9IHNldC5hcHBlbmQKICAgICAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICAgICAgc2V0YXBwZW5kKGl0ZW1bMF0pCiAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoSU4sIHNldCkpCiAgICAgICAgcmV0dXJuIHN1YnBhdHRlcm4KCiAgICBzdWJwYXR0ZXJuLmFwcGVuZCgoQlJBTkNILCAoTm9uZSwgaXRlbXMpKSkKICAgIHJldHVybiBzdWJwYXR0ZXJuCgpkZWYgX3BhcnNlX3N1Yl9jb25kKHNvdXJjZSwgc3RhdGUsIGNvbmRncm91cCk6CiAgICBpdGVtX3llcyA9IF9wYXJzZShzb3VyY2UsIHN0YXRlKQogICAgaWYgc291cmNlLm1hdGNoKCJ8Iik6CiAgICAgICAgaXRlbV9ubyA9IF9wYXJzZShzb3VyY2UsIHN0YXRlKQogICAgICAgIGlmIHNvdXJjZS5tYXRjaCgifCIpOgogICAgICAgICAgICByYWlzZSBlcnJvcigiY29uZGl0aW9uYWwgYmFja3JlZiB3aXRoIG1vcmUgdGhhbiB0d28gYnJhbmNoZXMiKQogICAgZWxzZToKICAgICAgICBpdGVtX25vID0gTm9uZQogICAgaWYgc291cmNlLm5leHQgYW5kIG5vdCBzb3VyY2UubWF0Y2goIikiLCAwKToKICAgICAgICByYWlzZSBlcnJvcigicGF0dGVybiBub3QgcHJvcGVybHkgY2xvc2VkIikKICAgIHN1YnBhdHRlcm4gPSBTdWJQYXR0ZXJuKHN0YXRlKQogICAgc3VicGF0dGVybi5hcHBlbmQoKEdST1VQUkVGX0VYSVNUUywgKGNvbmRncm91cCwgaXRlbV95ZXMsIGl0ZW1fbm8pKSkKICAgIHJldHVybiBzdWJwYXR0ZXJuCgpfUEFUVEVSTkVOREVSUyA9IHNldCgifCkiKQpfQVNTRVJUQ0hBUlMgPSBzZXQoIj0hPCIpCl9MT09LQkVISU5EQVNTRVJUQ0hBUlMgPSBzZXQoIj0hIikKX1JFUEVBVENPREVTID0gc2V0KFtNSU5fUkVQRUFULCBNQVhfUkVQRUFUXSkKCmRlZiBfcGFyc2Uoc291cmNlLCBzdGF0ZSk6CiAgICAjIHBhcnNlIGEgc2ltcGxlIHBhdHRlcm4KICAgIHN1YnBhdHRlcm4gPSBTdWJQYXR0ZXJuKHN0YXRlKQoKICAgICMgcHJlY29tcHV0ZSBjb25zdGFudHMgaW50byBsb2NhbCB2YXJpYWJsZXMKICAgIHN1YnBhdHRlcm5hcHBlbmQgPSBzdWJwYXR0ZXJuLmFwcGVuZAogICAgc291cmNlZ2V0ID0gc291cmNlLmdldAogICAgc291cmNlbWF0Y2ggPSBzb3VyY2UubWF0Y2gKICAgIF9sZW4gPSBsZW4KICAgIFBBVFRFUk5FTkRFUlMgPSBfUEFUVEVSTkVOREVSUwogICAgQVNTRVJUQ0hBUlMgPSBfQVNTRVJUQ0hBUlMKICAgIExPT0tCRUhJTkRBU1NFUlRDSEFSUyA9IF9MT09LQkVISU5EQVNTRVJUQ0hBUlMKICAgIFJFUEVBVENPREVTID0gX1JFUEVBVENPREVTCgogICAgd2hpbGUgMToKICAgICAgICBpZiBzb3VyY2UubmV4dCBpbiBQQVRURVJORU5ERVJTOgogICAgICAgICAgICBicmVhayAjIGVuZCBvZiBzdWJwYXR0ZXJuCiAgICAgICAgdGhpcyA9IHNvdXJjZWdldCgpCiAgICAgICAgaWYgdGhpcyBpcyBOb25lOgogICAgICAgICAgICBicmVhayAjIGVuZCBvZiBwYXR0ZXJuCgogICAgICAgIGlmIHN0YXRlLmZsYWdzICYgU1JFX0ZMQUdfVkVSQk9TRToKICAgICAgICAgICAgIyBza2lwIHdoaXRlc3BhY2UgYW5kIGNvbW1lbnRzCiAgICAgICAgICAgIGlmIHRoaXMgaW4gV0hJVEVTUEFDRToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGlmIHRoaXMgPT0gIiMiOgogICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICB0aGlzID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiB0aGlzIGluIChOb25lLCAiXG4iKToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGlmIHRoaXMgYW5kIHRoaXNbMF0gbm90IGluIFNQRUNJQUxfQ0hBUlM6CiAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKExJVEVSQUwsIG9yZCh0aGlzKSkpCgogICAgICAgIGVsaWYgdGhpcyA9PSAiWyI6CiAgICAgICAgICAgICMgY2hhcmFjdGVyIHNldAogICAgICAgICAgICBzZXQgPSBbXQogICAgICAgICAgICBzZXRhcHBlbmQgPSBzZXQuYXBwZW5kCiMjICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCI6Iik6CiMjICAgICAgICAgICAgICBwYXNzICMgaGFuZGxlIGNoYXJhY3RlciBjbGFzc2VzCiAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCJeIik6CiAgICAgICAgICAgICAgICBzZXRhcHBlbmQoKE5FR0FURSwgTm9uZSkpCiAgICAgICAgICAgICMgY2hlY2sgcmVtYWluaW5nIGNoYXJhY3RlcnMKICAgICAgICAgICAgc3RhcnQgPSBzZXRbOl0KICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgIHRoaXMgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgaWYgdGhpcyA9PSAiXSIgYW5kIHNldCAhPSBzdGFydDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiB0aGlzIGFuZCB0aGlzWzBdID09ICJcXCI6CiAgICAgICAgICAgICAgICAgICAgY29kZTEgPSBfY2xhc3NfZXNjYXBlKHNvdXJjZSwgdGhpcykKICAgICAgICAgICAgICAgIGVsaWYgdGhpczoKICAgICAgICAgICAgICAgICAgICBjb2RlMSA9IExJVEVSQUwsIG9yZCh0aGlzKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5leHBlY3RlZCBlbmQgb2YgcmVndWxhciBleHByZXNzaW9uIikKICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCItIik6CiAgICAgICAgICAgICAgICAgICAgIyBwb3RlbnRpYWwgcmFuZ2UKICAgICAgICAgICAgICAgICAgICB0aGlzID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiB0aGlzID09ICJdIjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29kZTFbMF0gaXMgSU46CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlMSA9IGNvZGUxWzFdWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIHNldGFwcGVuZChjb2RlMSkKICAgICAgICAgICAgICAgICAgICAgICAgc2V0YXBwZW5kKChMSVRFUkFMLCBvcmQoIi0iKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZWxpZiB0aGlzOgogICAgICAgICAgICAgICAgICAgICAgICBpZiB0aGlzWzBdID09ICJcXCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlMiA9IF9jbGFzc19lc2NhcGUoc291cmNlLCB0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTIgPSBMSVRFUkFMLCBvcmQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29kZTFbMF0gIT0gTElURVJBTCBvciBjb2RlMlswXSAhPSBMSVRFUkFMOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgcmFuZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICBsbyA9IGNvZGUxWzFdCiAgICAgICAgICAgICAgICAgICAgICAgIGhpID0gY29kZTJbMV0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaGkgPCBsbzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgY2hhcmFjdGVyIHJhbmdlIikKICAgICAgICAgICAgICAgICAgICAgICAgc2V0YXBwZW5kKChSQU5HRSwgKGxvLCBoaSkpKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiByZWd1bGFyIGV4cHJlc3Npb24iKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiBjb2RlMVswXSBpcyBJTjoKICAgICAgICAgICAgICAgICAgICAgICAgY29kZTEgPSBjb2RlMVsxXVswXQogICAgICAgICAgICAgICAgICAgIHNldGFwcGVuZChjb2RlMSkKCiAgICAgICAgICAgICMgWFhYOiA8Zmw+IHNob3VsZCBtb3ZlIHNldCBvcHRpbWl6YXRpb24gdG8gY29tcGlsZXIhCiAgICAgICAgICAgIGlmIF9sZW4oc2V0KT09MSBhbmQgc2V0WzBdWzBdIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKHNldFswXSkgIyBvcHRpbWl6YXRpb24KICAgICAgICAgICAgZWxpZiBfbGVuKHNldCk9PTIgYW5kIHNldFswXVswXSBpcyBORUdBVEUgYW5kIHNldFsxXVswXSBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoTk9UX0xJVEVSQUwsIHNldFsxXVsxXSkpICMgb3B0aW1pemF0aW9uCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIFhYWDogPGZsPiBzaG91bGQgYWRkIGNoYXJtYXAgb3B0aW1pemF0aW9uIGhlcmUKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKElOLCBzZXQpKQoKICAgICAgICBlbGlmIHRoaXMgYW5kIHRoaXNbMF0gaW4gUkVQRUFUX0NIQVJTOgogICAgICAgICAgICAjIHJlcGVhdCBwcmV2aW91cyBpdGVtCiAgICAgICAgICAgIGlmIHRoaXMgPT0gIj8iOgogICAgICAgICAgICAgICAgbWluLCBtYXggPSAwLCAxCiAgICAgICAgICAgIGVsaWYgdGhpcyA9PSAiKiI6CiAgICAgICAgICAgICAgICBtaW4sIG1heCA9IDAsIE1BWFJFUEVBVAoKICAgICAgICAgICAgZWxpZiB0aGlzID09ICIrIjoKICAgICAgICAgICAgICAgIG1pbiwgbWF4ID0gMSwgTUFYUkVQRUFUCiAgICAgICAgICAgIGVsaWYgdGhpcyA9PSAieyI6CiAgICAgICAgICAgICAgICBpZiBzb3VyY2UubmV4dCA9PSAifSI6CiAgICAgICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoTElURVJBTCwgb3JkKHRoaXMpKSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgaGVyZSA9IHNvdXJjZS50ZWxsKCkKICAgICAgICAgICAgICAgIG1pbiwgbWF4ID0gMCwgTUFYUkVQRUFUCiAgICAgICAgICAgICAgICBsbyA9IGhpID0gIiIKICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIERJR0lUUzoKICAgICAgICAgICAgICAgICAgICBsbyA9IGxvICsgc291cmNlLmdldCgpCiAgICAgICAgICAgICAgICBpZiBzb3VyY2VtYXRjaCgiLCIpOgogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIERJR0lUUzoKICAgICAgICAgICAgICAgICAgICAgICAgaGkgPSBoaSArIHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGhpID0gbG8KICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2VtYXRjaCgifSIpOgogICAgICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKExJVEVSQUwsIG9yZCh0aGlzKSkpCiAgICAgICAgICAgICAgICAgICAgc291cmNlLnNlZWsoaGVyZSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgaWYgbG86CiAgICAgICAgICAgICAgICAgICAgbWluID0gaW50KGxvKQogICAgICAgICAgICAgICAgaWYgaGk6CiAgICAgICAgICAgICAgICAgICAgbWF4ID0gaW50KGhpKQogICAgICAgICAgICAgICAgaWYgbWF4IDwgbWluOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgcmVwZWF0IGludGVydmFsIikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJub3Qgc3VwcG9ydGVkIikKICAgICAgICAgICAgIyBmaWd1cmUgb3V0IHdoaWNoIGl0ZW0gdG8gcmVwZWF0CiAgICAgICAgICAgIGlmIHN1YnBhdHRlcm46CiAgICAgICAgICAgICAgICBpdGVtID0gc3VicGF0dGVyblstMTpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpdGVtID0gTm9uZQogICAgICAgICAgICBpZiBub3QgaXRlbSBvciAoX2xlbihpdGVtKSA9PSAxIGFuZCBpdGVtWzBdWzBdID09IEFUKToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJub3RoaW5nIHRvIHJlcGVhdCIpCiAgICAgICAgICAgIGlmIGl0ZW1bMF1bMF0gaW4gUkVQRUFUQ09ERVM6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigibXVsdGlwbGUgcmVwZWF0IikKICAgICAgICAgICAgaWYgc291cmNlbWF0Y2goIj8iKToKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5bLTFdID0gKE1JTl9SRVBFQVQsIChtaW4sIG1heCwgaXRlbSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuWy0xXSA9IChNQVhfUkVQRUFULCAobWluLCBtYXgsIGl0ZW0pKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIi4iOgogICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBTlksIE5vbmUpKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIigiOgogICAgICAgICAgICBncm91cCA9IDEKICAgICAgICAgICAgbmFtZSA9IE5vbmUKICAgICAgICAgICAgY29uZGdyb3VwID0gTm9uZQogICAgICAgICAgICBpZiBzb3VyY2VtYXRjaCgiPyIpOgogICAgICAgICAgICAgICAgZ3JvdXAgPSAwCiAgICAgICAgICAgICAgICAjIG9wdGlvbnMKICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCJQIik6CiAgICAgICAgICAgICAgICAgICAgIyBweXRob24gZXh0ZW5zaW9ucwogICAgICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCI8Iik6CiAgICAgICAgICAgICAgICAgICAgICAgICMgbmFtZWQgZ3JvdXA6IHNraXAgZm9yd2FyZCB0byBlbmQgb2YgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hhciBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICI+IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgKyBjaGFyCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwID0gMQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNuYW1lKG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgaW4gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgZWxpZiBzb3VyY2VtYXRjaCgiPSIpOgogICAgICAgICAgICAgICAgICAgICAgICAjIG5hbWVkIGJhY2tyZWZlcmVuY2UKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW50ZXJtaW5hdGVkIG5hbWUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hhciA9PSAiKSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lICsgY2hhcgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNuYW1lKG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgaW4gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGdpZCA9IHN0YXRlLmdyb3VwZGljdC5nZXQobmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5rbm93biBncm91cCBuYW1lIikKICAgICAgICAgICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoR1JPVVBSRUYsIGdpZCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBwYXR0ZXJuIikKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVua25vd24gc3BlY2lmaWVyOiA/UCVzIiAlIGNoYXIpCiAgICAgICAgICAgICAgICBlbGlmIHNvdXJjZW1hdGNoKCI6Iik6CiAgICAgICAgICAgICAgICAgICAgIyBub24tY2FwdHVyaW5nIGdyb3VwCiAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSAyCiAgICAgICAgICAgICAgICBlbGlmIHNvdXJjZW1hdGNoKCIjIik6CiAgICAgICAgICAgICAgICAgICAgIyBjb21tZW50CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc291cmNlLm5leHQgaXMgTm9uZSBvciBzb3VyY2UubmV4dCA9PSAiKSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2VtYXRjaCgiKSIpOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5iYWxhbmNlZCBwYXJlbnRoZXNpcyIpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsaWYgc291cmNlLm5leHQgaW4gQVNTRVJUQ0hBUlM6CiAgICAgICAgICAgICAgICAgICAgIyBsb29rYWhlYWQgYXNzZXJ0aW9ucwogICAgICAgICAgICAgICAgICAgIGNoYXIgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgIGRpciA9IDEKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICI8IjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc291cmNlLm5leHQgbm90IGluIExPT0tCRUhJTkRBU1NFUlRDSEFSUzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJzeW50YXggZXJyb3IiKQogICAgICAgICAgICAgICAgICAgICAgICBkaXIgPSAtMSAjIGxvb2tiZWhpbmQKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgcCA9IF9wYXJzZV9zdWIoc291cmNlLCBzdGF0ZSkKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc291cmNlbWF0Y2goIikiKToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIj0iOgogICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBU1NFUlQsIChkaXIsIHApKSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBU1NFUlRfTk9ULCAoZGlyLCBwKSkpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsaWYgc291cmNlbWF0Y2goIigiKToKICAgICAgICAgICAgICAgICAgICAjIGNvbmRpdGlvbmFsIGJhY2tyZWZlcmVuY2UgZ3JvdXAKICAgICAgICAgICAgICAgICAgICBjb25kbmFtZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIikiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgY29uZG5hbWUgPSBjb25kbmFtZSArIGNoYXIKICAgICAgICAgICAgICAgICAgICBncm91cCA9IDIKICAgICAgICAgICAgICAgICAgICBpZiBpc25hbWUoY29uZG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICBjb25kZ3JvdXAgPSBzdGF0ZS5ncm91cGRpY3QuZ2V0KGNvbmRuYW1lKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBjb25kZ3JvdXAgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmtub3duIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRncm91cCA9IGludChjb25kbmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYmFkIGNoYXJhY3RlciBpbiBncm91cCBuYW1lIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgIyBmbGFncwogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2UubmV4dCBpbiBGTEFHUzoKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuZXhwZWN0ZWQgZW5kIG9mIHBhdHRlcm4iKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIEZMQUdTOgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5mbGFncyA9IHN0YXRlLmZsYWdzIHwgRkxBR1Nbc291cmNlZ2V0KCldCiAgICAgICAgICAgIGlmIGdyb3VwOgogICAgICAgICAgICAgICAgIyBwYXJzZSBncm91cCBjb250ZW50cwogICAgICAgICAgICAgICAgaWYgZ3JvdXAgPT0gMjoKICAgICAgICAgICAgICAgICAgICAjIGFub255bW91cyBncm91cAogICAgICAgICAgICAgICAgICAgIGdyb3VwID0gTm9uZQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBncm91cCA9IHN0YXRlLm9wZW5ncm91cChuYW1lKQogICAgICAgICAgICAgICAgaWYgY29uZGdyb3VwOgogICAgICAgICAgICAgICAgICAgIHAgPSBfcGFyc2Vfc3ViX2NvbmQoc291cmNlLCBzdGF0ZSwgY29uZGdyb3VwKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwID0gX3BhcnNlX3N1Yihzb3VyY2UsIHN0YXRlKQogICAgICAgICAgICAgICAgaWYgbm90IHNvdXJjZW1hdGNoKCIpIik6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgICAgICAgICAgICAgaWYgZ3JvdXAgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2xvc2Vncm91cChncm91cCkKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKFNVQlBBVFRFUk4sIChncm91cCwgcCkpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICBjaGFyID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBwYXR0ZXJuIikKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICIpIjoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5rbm93biBleHRlbnNpb24iKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIl4iOgogICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBVCwgQVRfQkVHSU5OSU5HKSkKCiAgICAgICAgZWxpZiB0aGlzID09ICIkIjoKICAgICAgICAgICAgc3VicGF0dGVybi5hcHBlbmQoKEFULCBBVF9FTkQpKQoKICAgICAgICBlbGlmIHRoaXMgYW5kIHRoaXNbMF0gPT0gIlxcIjoKICAgICAgICAgICAgY29kZSA9IF9lc2NhcGUoc291cmNlLCB0aGlzLCBzdGF0ZSkKICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZChjb2RlKQoKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBlcnJvcigicGFyc2VyIGVycm9yIikKCiAgICByZXR1cm4gc3VicGF0dGVybgoKZGVmIGZpeF9mbGFncyhzcmMsIGZsYWdzKToKICAgICMgQ2hlY2sgYW5kIGZpeCBmbGFncyBhY2NvcmRpbmcgdG8gdGhlIHR5cGUgb2YgcGF0dGVybiAoc3RyIG9yIGJ5dGVzKQogICAgaWYgaXNpbnN0YW5jZShzcmMsIHN0cik6CiAgICAgICAgaWYgbm90IGZsYWdzICYgU1JFX0ZMQUdfQVNDSUk6CiAgICAgICAgICAgIGZsYWdzIHw9IFNSRV9GTEFHX1VOSUNPREUKICAgICAgICBlbGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiQVNDSUkgYW5kIFVOSUNPREUgZmxhZ3MgYXJlIGluY29tcGF0aWJsZSIpCiAgICBlbHNlOgogICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiY2FuJ3QgdXNlIFVOSUNPREUgZmxhZyB3aXRoIGEgYnl0ZXMgcGF0dGVybiIpCiAgICByZXR1cm4gZmxhZ3MKCmRlZiBwYXJzZShzdHIsIGZsYWdzPTAsIHBhdHRlcm49Tm9uZSk6CiAgICAjIHBhcnNlICdyZScgcGF0dGVybiBpbnRvIGxpc3Qgb2YgKG9wY29kZSwgYXJndW1lbnQpIHR1cGxlcwoKICAgIHNvdXJjZSA9IFRva2VuaXplcihzdHIpCgogICAgaWYgcGF0dGVybiBpcyBOb25lOgogICAgICAgIHBhdHRlcm4gPSBQYXR0ZXJuKCkKICAgIHBhdHRlcm4uZmxhZ3MgPSBmbGFncwogICAgcGF0dGVybi5zdHIgPSBzdHIKCiAgICBwID0gX3BhcnNlX3N1Yihzb3VyY2UsIHBhdHRlcm4sIDApCiAgICBwLnBhdHRlcm4uZmxhZ3MgPSBmaXhfZmxhZ3Moc3RyLCBwLnBhdHRlcm4uZmxhZ3MpCgogICAgdGFpbCA9IHNvdXJjZS5nZXQoKQogICAgaWYgdGFpbCA9PSAiKSI6CiAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgZWxpZiB0YWlsOgogICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBjaGFyYWN0ZXJzIGF0IGVuZCBvZiByZWd1bGFyIGV4cHJlc3Npb24iKQoKICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfREVCVUc6CiAgICAgICAgcC5kdW1wKCkKCiAgICBpZiBub3QgKGZsYWdzICYgU1JFX0ZMQUdfVkVSQk9TRSkgYW5kIHAucGF0dGVybi5mbGFncyAmIFNSRV9GTEFHX1ZFUkJPU0U6CiAgICAgICAgIyB0aGUgVkVSQk9TRSBmbGFnIHdhcyBzd2l0Y2hlZCBvbiBpbnNpZGUgdGhlIHBhdHRlcm4uICB0byBiZQogICAgICAgICMgb24gdGhlIHNhZmUgc2lkZSwgd2UnbGwgcGFyc2UgdGhlIHdob2xlIHRoaW5nIGFnYWluLi4uCiAgICAgICAgcmV0dXJuIHBhcnNlKHN0ciwgcC5wYXR0ZXJuLmZsYWdzKQoKICAgIHJldHVybiBwCgpkZWYgcGFyc2VfdGVtcGxhdGUoc291cmNlLCBwYXR0ZXJuKToKICAgICMgcGFyc2UgJ3JlJyByZXBsYWNlbWVudCBzdHJpbmcgaW50byBsaXN0IG9mIGxpdGVyYWxzIGFuZAogICAgIyBncm91cCByZWZlcmVuY2VzCiAgICBzID0gVG9rZW5pemVyKHNvdXJjZSkKICAgIHNnZXQgPSBzLmdldAogICAgcCA9IFtdCiAgICBhID0gcC5hcHBlbmQKICAgIGRlZiBsaXRlcmFsKGxpdGVyYWwsIHA9cCwgcGFwcGVuZD1hKToKICAgICAgICBpZiBwIGFuZCBwWy0xXVswXSBpcyBMSVRFUkFMOgogICAgICAgICAgICBwWy0xXSA9IExJVEVSQUwsIHBbLTFdWzFdICsgbGl0ZXJhbAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcHBlbmQoKExJVEVSQUwsIGxpdGVyYWwpKQogICAgc2VwID0gc291cmNlWzowXQogICAgaWYgaXNpbnN0YW5jZShzZXAsIHN0cik6CiAgICAgICAgbWFrZWNoYXIgPSBjaHIKICAgIGVsc2U6CiAgICAgICAgbWFrZWNoYXIgPSBjaHIKICAgIHdoaWxlIDE6CiAgICAgICAgdGhpcyA9IHNnZXQoKQogICAgICAgIGlmIHRoaXMgaXMgTm9uZToKICAgICAgICAgICAgYnJlYWsgIyBlbmQgb2YgcmVwbGFjZW1lbnQgc3RyaW5nCiAgICAgICAgaWYgdGhpcyBhbmQgdGhpc1swXSA9PSAiXFwiOgogICAgICAgICAgICAjIGdyb3VwCiAgICAgICAgICAgIGMgPSB0aGlzWzE6Ml0KICAgICAgICAgICAgaWYgYyA9PSAiZyI6CiAgICAgICAgICAgICAgICBuYW1lID0gIiIKICAgICAgICAgICAgICAgIGlmIHMubWF0Y2goIjwiKToKICAgICAgICAgICAgICAgICAgICB3aGlsZSAxOgogICAgICAgICAgICAgICAgICAgICAgICBjaGFyID0gc2dldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIj4iOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgKyBjaGFyCiAgICAgICAgICAgICAgICBpZiBub3QgbmFtZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYmFkIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaW50KG5hbWUpCiAgICAgICAgICAgICAgICAgICAgaWYgaW5kZXggPCAwOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigibmVnYXRpdmUgZ3JvdXAgbnVtYmVyIikKICAgICAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBpc25hbWUobmFtZSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgY2hhcmFjdGVyIGluIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwYXR0ZXJuLmdyb3VwaW5kZXhbbmFtZV0KICAgICAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoInVua25vd24gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICBhKChNQVJLLCBpbmRleCkpCiAgICAgICAgICAgIGVsaWYgYyA9PSAiMCI6CiAgICAgICAgICAgICAgICBpZiBzLm5leHQgaW4gT0NURElHSVRTOgogICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgaWYgcy5uZXh0IGluIE9DVERJR0lUUzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyA9IHRoaXMgKyBzZ2V0KCkKICAgICAgICAgICAgICAgIGxpdGVyYWwobWFrZWNoYXIoaW50KHRoaXNbMTpdLCA4KSAmIDB4ZmYpKQogICAgICAgICAgICBlbGlmIGMgaW4gRElHSVRTOgogICAgICAgICAgICAgICAgaXNvY3RhbCA9IEZhbHNlCiAgICAgICAgICAgICAgICBpZiBzLm5leHQgaW4gRElHSVRTOgogICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgaWYgKGMgaW4gT0NURElHSVRTIGFuZCB0aGlzWzJdIGluIE9DVERJR0lUUyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgcy5uZXh0IGluIE9DVERJR0lUUyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlzb2N0YWwgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWwobWFrZWNoYXIoaW50KHRoaXNbMTpdLCA4KSAmIDB4ZmYpKQogICAgICAgICAgICAgICAgaWYgbm90IGlzb2N0YWw6CiAgICAgICAgICAgICAgICAgICAgYSgoTUFSSywgaW50KHRoaXNbMTpdKSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgdGhpcyA9IG1ha2VjaGFyKEVTQ0FQRVNbdGhpc11bMV0pCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgbGl0ZXJhbCh0aGlzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxpdGVyYWwodGhpcykKICAgICMgY29udmVydCB0ZW1wbGF0ZSB0byBncm91cHMgYW5kIGxpdGVyYWxzIGxpc3RzCiAgICBpID0gMAogICAgZ3JvdXBzID0gW10KICAgIGdyb3Vwc2FwcGVuZCA9IGdyb3Vwcy5hcHBlbmQKICAgIGxpdGVyYWxzID0gW05vbmVdICogbGVuKHApCiAgICBpZiBpc2luc3RhbmNlKHNvdXJjZSwgc3RyKToKICAgICAgICBlbmNvZGUgPSBsYW1iZGEgeDogeAogICAgZWxzZToKICAgICAgICAjIFRoZSB0b2tlbml6ZXIgaW1wbGljaXRseSBkZWNvZGVzIGJ5dGVzIG9iamVjdHMgYXMgbGF0aW4tMSwgd2UgbXVzdAogICAgICAgICMgdGhlcmVmb3JlIHJlLWVuY29kZSB0aGUgZmluYWwgcmVwcmVzZW50YXRpb24uCiAgICAgICAgZW5jb2RlID0gbGFtYmRhIHg6IHguZW5jb2RlKCdsYXRpbjEnKQogICAgZm9yIGMsIHMgaW4gcDoKICAgICAgICBpZiBjIGlzIE1BUks6CiAgICAgICAgICAgIGdyb3Vwc2FwcGVuZCgoaSwgcykpCiAgICAgICAgICAgICMgbGl0ZXJhbFtpXSBpcyBhbHJlYWR5IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBsaXRlcmFsc1tpXSA9IGVuY29kZShzKQogICAgICAgIGkgPSBpICsgMQogICAgcmV0dXJuIGdyb3VwcywgbGl0ZXJhbHMKCmRlZiBleHBhbmRfdGVtcGxhdGUodGVtcGxhdGUsIG1hdGNoKToKICAgIGcgPSBtYXRjaC5ncm91cAogICAgc2VwID0gbWF0Y2guc3RyaW5nWzowXQogICAgZ3JvdXBzLCBsaXRlcmFscyA9IHRlbXBsYXRlCiAgICBsaXRlcmFscyA9IGxpdGVyYWxzWzpdCiAgICB0cnk6CiAgICAgICAgZm9yIGluZGV4LCBncm91cCBpbiBncm91cHM6CiAgICAgICAgICAgIGxpdGVyYWxzW2luZGV4XSA9IHMgPSBnKGdyb3VwKQogICAgICAgICAgICBpZiBzIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5tYXRjaGVkIGdyb3VwIikKICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgIHJhaXNlIGVycm9yKCJpbnZhbGlkIGdyb3VwIHJlZmVyZW5jZSIpCiAgICByZXR1cm4gc2VwLmpvaW4obGl0ZXJhbHMpCgo=',
'/Lib/os.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbIm9zLnB5Il0uX19kaWN0X187JG1vZHM9JGltcG9ydF9saXN0KFtbIl9vcyIsIl9vcyJdXSk7X29zPSRtb2RzWzBdOztOb25lO3ZhciBuYW1lPSRnbG9iYWxzLm5hbWU9ImJyeXRob24iO3ZhciBkZXZudWxsPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZGV2bnVsbCIsYXJndW1lbnRzLFtdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5sZ2M4eXg2Ny5fX2RpY3RfXz0kbnM7T1NFcnJvci5fX2NhbGxfXygnRnVuY3Rpb24gZGV2bnVsbCBub3Qgc3VwcG9ydGVkJyk7fWNhdGNoKGVycjIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyKTt9fTt9KSgpO2Rldm51bGwuX19uYW1lX189ImRldm51bGwiOyRnbG9iYWxzLmRldm51bGw9ZGV2bnVsbDt2YXIgZ2V0bG9hZGF2Zz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdldGxvYWRhdmciLGFyZ3VtZW50cyxbXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubXMza2JxbHAuX19kaWN0X189JG5zO09TRXJyb3IuX19jYWxsX18oJ0Z1bmN0aW9uIGdldGxvYWRhdmcgbm90IHN1cHBvcnRlZCcpO31jYXRjaChlcnIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMik7fX07fSkoKTtnZXRsb2FkYXZnLl9fbmFtZV9fPSJnZXRsb2FkYXZnIjskZ2xvYmFscy5nZXRsb2FkYXZnPWdldGxvYWRhdmc7dmFyIHVyYW5kb209KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ1cmFuZG9tIixhcmd1bWVudHMsWyJsZW5ndGgiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudjNxd3U3eHguX19kaWN0X189JG5zO3ZhciBfYz0kbG9jYWxzLl9jPWxpc3QoW10pO3ZhciAkaXRlcjI9cmFuZ2UuX19jYWxsX18obGVuZ3RoKTtmb3IodmFyICRpMj0wOyRpMjwkaXRlcjIuX19sZW5fXygpOyRpMisrKXt2YXIgX2k9JGxvY2Fscy5faT0kaXRlcjIuX19pdGVtX18oJGkyKTtfYy5fX2dldGF0dHJfXygiYXBwZW5kIikuX19jYWxsX18oY2hyLl9fY2FsbF9fKF9vcy5fX2dldGF0dHJfXygicmFuZGludCIpLl9fY2FsbF9fKE51bWJlcigwKSxOdW1iZXIoMjU1KSkpKTt9cmV0dXJuICcnLl9fZ2V0YXR0cl9fKCJqb2luIikuX19jYWxsX18oX2MpO31jYXRjaChlcnIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMik7fX07fSkoKTt1cmFuZG9tLl9fbmFtZV9fPSJ1cmFuZG9tIjskZ2xvYmFscy51cmFuZG9tPXVyYW5kb207dmFyIFNFRUtfU0VUPSRnbG9iYWxzLlNFRUtfU0VUPU51bWJlcigwKTt2YXIgU0VFS19DVVI9JGdsb2JhbHMuU0VFS19DVVI9TnVtYmVyKDEpO3ZhciBTRUVLX0VORD0kZ2xvYmFscy5TRUVLX0VORD1OdW1iZXIoMik7dmFyIHdhbGs9KGZ1bmN0aW9uKFRydWUsTm9uZSxGYWxzZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ3YWxrIixhcmd1bWVudHMsWyJ0b3AiXSx7InRvcGRvd24iOlRydWUsIm9uZXJyb3IiOk5vbmUsImZvbGxvd2xpbmtzIjpGYWxzZX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmkzZ3dsajhhLl9fZGljdF9fPSRucztPU0Vycm9yLl9fY2FsbF9fKCdGdW5jdGlvbiBvcy53YWxrIG5vdCBzdXBwb3J0ZWQgeWV0Jyk7cmV0dXJuOyJEaXJlY3RvcnkgdHJlZSBnZW5lcmF0b3IuXG5cbiAgICBGb3IgZWFjaCBkaXJlY3RvcnkgaW4gdGhlIGRpcmVjdG9yeSB0cmVlIHJvb3RlZCBhdCB0b3AgKGluY2x1ZGluZyB0b3BcbiAgICBpdHNlbGYsIGJ1dCBleGNsdWRpbmcgJy4nIGFuZCAnLi4nKSwgeWllbGRzIGEgMy10dXBsZVxuXG4gICAgICAgIGRpcnBhdGgsIGRpcm5hbWVzLCBmaWxlbmFtZXNcblxuICAgIGRpcnBhdGggaXMgYSBzdHJpbmcsIHRoZSBwYXRoIHRvIHRoZSBkaXJlY3RvcnkuICBkaXJuYW1lcyBpcyBhIGxpc3Qgb2ZcbiAgICB0aGUgbmFtZXMgb2YgdGhlIHN1YmRpcmVjdG9yaWVzIGluIGRpcnBhdGggKGV4Y2x1ZGluZyAnLicgYW5kICcuLicpLlxuICAgIGZpbGVuYW1lcyBpcyBhIGxpc3Qgb2YgdGhlIG5hbWVzIG9mIHRoZSBub24tZGlyZWN0b3J5IGZpbGVzIGluIGRpcnBhdGguXG4gICAgTm90ZSB0aGF0IHRoZSBuYW1lcyBpbiB0aGUgbGlzdHMgYXJlIGp1c3QgbmFtZXMsIHdpdGggbm8gcGF0aCBjb21wb25lbnRzLlxuICAgIFRvIGdldCBhIGZ1bGwgcGF0aCAod2hpY2ggYmVnaW5zIHdpdGggdG9wKSB0byBhIGZpbGUgb3IgZGlyZWN0b3J5IGluXG4gICAgZGlycGF0aCwgZG8gb3MucGF0aC5qb2luKGRpcnBhdGgsIG5hbWUpLlxuXG4gICAgSWYgb3B0aW9uYWwgYXJnICd0b3Bkb3duJyBpcyB0cnVlIG9yIG5vdCBzcGVjaWZpZWQsIHRoZSB0cmlwbGUgZm9yIGFcbiAgICBkaXJlY3RvcnkgaXMgZ2VuZXJhdGVkIGJlZm9yZSB0aGUgdHJpcGxlcyBmb3IgYW55IG9mIGl0cyBzdWJkaXJlY3Rvcmllc1xuICAgIChkaXJlY3RvcmllcyBhcmUgZ2VuZXJhdGVkIHRvcCBkb3duKS4gIElmIHRvcGRvd24gaXMgZmFsc2UsIHRoZSB0cmlwbGVcbiAgICBmb3IgYSBkaXJlY3RvcnkgaXMgZ2VuZXJhdGVkIGFmdGVyIHRoZSB0cmlwbGVzIGZvciBhbGwgb2YgaXRzXG4gICAgc3ViZGlyZWN0b3JpZXMgKGRpcmVjdG9yaWVzIGFyZSBnZW5lcmF0ZWQgYm90dG9tIHVwKS5cblxuICAgIFdoZW4gdG9wZG93biBpcyB0cnVlLCB0aGUgY2FsbGVyIGNhbiBtb2RpZnkgdGhlIGRpcm5hbWVzIGxpc3QgaW4tcGxhY2VcbiAgICAoZS5nLiwgdmlhIGRlbCBvciBzbGljZSBhc3NpZ25tZW50KSwgYW5kIHdhbGsgd2lsbCBvbmx5IHJlY3Vyc2UgaW50byB0aGVcbiAgICBzdWJkaXJlY3RvcmllcyB3aG9zZSBuYW1lcyByZW1haW4gaW4gZGlybmFtZXM7IHRoaXMgY2FuIGJlIHVzZWQgdG8gcHJ1bmVcbiAgICB0aGUgc2VhcmNoLCBvciB0byBpbXBvc2UgYSBzcGVjaWZpYyBvcmRlciBvZiB2aXNpdGluZy4gIE1vZGlmeWluZ1xuICAgIGRpcm5hbWVzIHdoZW4gdG9wZG93biBpcyBmYWxzZSBpcyBpbmVmZmVjdGl2ZSwgc2luY2UgdGhlIGRpcmVjdG9yaWVzIGluXG4gICAgZGlybmFtZXMgaGF2ZSBhbHJlYWR5IGJlZW4gZ2VuZXJhdGVkIGJ5IHRoZSB0aW1lIGRpcm5hbWVzIGl0c2VsZiBpc1xuICAgIGdlbmVyYXRlZC5cblxuICAgIEJ5IGRlZmF1bHQgZXJyb3JzIGZyb20gdGhlIG9zLmxpc3RkaXIoKSBjYWxsIGFyZSBpZ25vcmVkLiAgSWZcbiAgICBvcHRpb25hbCBhcmcgJ29uZXJyb3InIGlzIHNwZWNpZmllZCwgaXQgc2hvdWxkIGJlIGEgZnVuY3Rpb247IGl0XG4gICAgd2lsbCBiZSBjYWxsZWQgd2l0aCBvbmUgYXJndW1lbnQsIGFuIG9zLmVycm9yIGluc3RhbmNlLiAgSXQgY2FuXG4gICAgcmVwb3J0IHRoZSBlcnJvciB0byBjb250aW51ZSB3aXRoIHRoZSB3YWxrLCBvciByYWlzZSB0aGUgZXhjZXB0aW9uXG4gICAgdG8gYWJvcnQgdGhlIHdhbGsuICBOb3RlIHRoYXQgdGhlIGZpbGVuYW1lIGlzIGF2YWlsYWJsZSBhcyB0aGVcbiAgICBmaWxlbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGV4Y2VwdGlvbiBvYmplY3QuXG5cbiAgICBCeSBkZWZhdWx0LCBvcy53YWxrIGRvZXMgbm90IGZvbGxvdyBzeW1ib2xpYyBsaW5rcyB0byBzdWJkaXJlY3RvcmllcyBvblxuICAgIHN5c3RlbXMgdGhhdCBzdXBwb3J0IHRoZW0uICBJbiBvcmRlciB0byBnZXQgdGhpcyBmdW5jdGlvbmFsaXR5LCBzZXQgdGhlXG4gICAgb3B0aW9uYWwgYXJndW1lbnQgJ2ZvbGxvd2xpbmtzJyB0byB0cnVlLlxuXG4gICAgQ2F1dGlvbjogIGlmIHlvdSBwYXNzIGEgcmVsYXRpdmUgcGF0aG5hbWUgZm9yIHRvcCwgZG9uJ3QgY2hhbmdlIHRoZVxuICAgIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkgYmV0d2VlbiByZXN1bXB0aW9ucyBvZiB3YWxrLiAgd2FsayBuZXZlclxuICAgIGNoYW5nZXMgdGhlIGN1cnJlbnQgZGlyZWN0b3J5LCBhbmQgYXNzdW1lcyB0aGF0IHRoZSBjbGllbnQgZG9lc24ndFxuICAgIGVpdGhlci5cblxuICAgIEV4YW1wbGU6XG5cbiAgICBpbXBvcnQgb3NcbiAgICBmcm9tIG9zLnBhdGggaW1wb3J0IGpvaW4sIGdldHNpemVcbiAgICBmb3Igcm9vdCwgZGlycywgZmlsZXMgaW4gb3Mud2FsaygncHl0aG9uL0xpYi9lbWFpbCcpOlxuICAgICAgICBwcmludChyb290LCBcImNvbnN1bWVzXCIsIGVuZD1cIlwiKVxuICAgICAgICBwcmludChzdW0oW2dldHNpemUoam9pbihyb290LCBuYW1lKSkgZm9yIG5hbWUgaW4gZmlsZXNdKSwgZW5kPVwiXCIpXG4gICAgICAgIHByaW50KFwiYnl0ZXMgaW5cIiwgbGVuKGZpbGVzKSwgXCJub24tZGlyZWN0b3J5IGZpbGVzXCIpXG4gICAgICAgIGlmICdDVlMnIGluIGRpcnM6XG4gICAgICAgICAgICBkaXJzLnJlbW92ZSgnQ1ZTJykgICMgZG9uJ3QgdmlzaXQgQ1ZTIGRpcmVjdG9yaWVzXG4gICAgIjsiXG4gICAgXG4gICAgaXNsaW5rLCBqb2luLCBpc2RpciA9IHBhdGguaXNsaW5rLCBwYXRoLmpvaW4sIHBhdGguaXNkaXJcblxuICAgICMgV2UgbWF5IG5vdCBoYXZlIHJlYWQgcGVybWlzc2lvbiBmb3IgdG9wLCBpbiB3aGljaCBjYXNlIHdlIGNhbid0XG4gICAgIyBnZXQgYSBsaXN0IG9mIHRoZSBmaWxlcyB0aGUgZGlyZWN0b3J5IGNvbnRhaW5zLiAgb3Mud2Fsa1xuICAgICMgYWx3YXlzIHN1cHByZXNzZWQgdGhlIGV4Y2VwdGlvbiB0aGVuLCByYXRoZXIgdGhhbiBibG93IHVwIGZvciBhXG4gICAgIyBtaW5vciByZWFzb24gd2hlbiAoc2F5KSBhIHRob3VzYW5kIHJlYWRhYmxlIGRpcmVjdG9yaWVzIGFyZSBzdGlsbFxuICAgICMgbGVmdCB0byB2aXNpdC4gIFRoYXQgbG9naWMgaXMgY29waWVkIGhlcmUuXG4gICAgdHJ5OlxuICAgICAgICAjIE5vdGUgdGhhdCBsaXN0ZGlyIGFuZCBlcnJvciBhcmUgZ2xvYmFscyBpbiB0aGlzIG1vZHVsZSBkdWVcbiAgICAgICAgIyB0byBlYXJsaWVyIGltcG9ydC0qLlxuICAgICAgICBuYW1lcyA9IGxpc3RkaXIodG9wKVxuICAgIGV4Y2VwdCBlcnJvciBhcyBlcnI6XG4gICAgICAgIGlmIG9uZXJyb3IgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICBvbmVycm9yKGVycilcbiAgICAgICAgcmV0dXJuXG4gICAgXG4gICAgZGlycywgbm9uZGlycyA9IFtdLCBbXVxuICAgIGZvciBuYW1lIGluIG5hbWVzOlxuICAgICAgICBpZiBpc2Rpcihqb2luKHRvcCwgbmFtZSkpOlxuICAgICAgICAgICAgZGlycy5hcHBlbmQobmFtZSlcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIG5vbmRpcnMuYXBwZW5kKG5hbWUpXG4gICAgXG4gICAgaWYgdG9wZG93bjpcbiAgICAgICAgeWllbGQgdG9wLCBkaXJzLCBub25kaXJzXG4gICAgXG4gICAgZm9yIG5hbWUgaW4gZGlyczpcbiAgICAgICAgbmV3X3BhdGggPSBqb2luKHRvcCwgbmFtZSlcbiAgICAgICAgaWYgZm9sbG93bGlua3Mgb3Igbm90IGlzbGluayhuZXdfcGF0aCk6XG4gICAgICAgICAgICBmb3IgeCBpbiB3YWxrKG5ld19wYXRoLCB0b3Bkb3duLCBvbmVycm9yLCBmb2xsb3dsaW5rcyk6XG4gICAgICAgICAgICAgICAgeWllbGQgeFxuICAgIGlmIG5vdCB0b3Bkb3duOlxuICAgICAgICB5aWVsZCB0b3AsIGRpcnMsIG5vbmRpcnNcbiAgICAiO31jYXRjaChlcnIzKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMyk7fX07fSkoVHJ1ZSxOb25lLEZhbHNlKTt3YWxrLl9fbmFtZV9fPSJ3YWxrIjskZ2xvYmFscy53YWxrPXdhbGs7cmV0dXJue25hbWU6bmFtZSxkZXZudWxsOmRldm51bGwsZ2V0bG9hZGF2ZzpnZXRsb2FkYXZnLHVyYW5kb206dXJhbmRvbSxTRUVLX1NFVDpTRUVLX1NFVCxTRUVLX0NVUjpTRUVLX0NVUixTRUVLX0VORDpTRUVLX0VORCx3YWxrOndhbGssX19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxfX3NldGF0dHJfXzpmdW5jdGlvbihhdHRyLHZhbHVlKXt0aGlzW2F0dHJdPXZhbHVlO319O30pKCk7',
'/Lib/datetime1.py':'IiIiQ29uY3JldGUgZGF0ZS90aW1lIGFuZCByZWxhdGVkIHR5cGVzIC0tIHByb3RvdHlwZSBpbXBsZW1lbnRlZCBpbiBQeXRob24uCgpTZWUgaHR0cDovL3d3dy56b3BlLm9yZy9NZW1iZXJzL2ZkcmFrZS9EYXRlVGltZVdpa2kvRnJvbnRQYWdlCgpTZWUgYWxzbyBodHRwOi8vZGlyLnlhaG9vLmNvbS9SZWZlcmVuY2UvY2FsZW5kYXJzLwoKRm9yIGEgcHJpbWVyIG9uIERTVCwgaW5jbHVkaW5nIG1hbnkgY3VycmVudCBEU1QgcnVsZXMsIHNlZQpodHRwOi8vd2ViZXhoaWJpdHMub3JnL2RheWxpZ2h0c2F2aW5nLwoKRm9yIG1vcmUgYWJvdXQgRFNUIHRoYW4geW91IGV2ZXIgd2FudGVkIHRvIGtub3csIHNlZQpmdHA6Ly9lbHNpZS5uY2kubmloLmdvdi9wdWIvCgpTb3VyY2VzIGZvciB0aW1lIHpvbmUgYW5kIERTVCBkYXRhOiBodHRwOi8vd3d3LnR3aW5zdW4uY29tL3R6L3R6LWxpbmsuaHRtCgpUaGlzIHdhcyBvcmlnaW5hbGx5IGNvcGllZCBmcm9tIHRoZSBzYW5kYm94IG9mIHRoZSBDUHl0aG9uIENWUyByZXBvc2l0b3J5LgpUaGFua3MgdG8gVGltIFBldGVycyBmb3Igc3VnZ2VzdGluZyB1c2luZyBpdC4KIiIiCgppbXBvcnQgdGltZSBhcyBfdGltZQppbXBvcnQgbWF0aCBhcyBfbWF0aAoKZGVmIF9zdGF0ZV9jbXAoeCwgeSk6CiAgICByZXR1cm4gMCBpZiB4ID09IHkgZWxzZSAxIGlmIHggPiB5IGVsc2UgLTEKCmRlZiBfdHVwbGVfY21wKHgsIHkpOgogICAgcmV0dXJuIDAgaWYgeCA9PSB5IGVsc2UgMSBpZiB4ID4geSBlbHNlIC0xCgpNSU5ZRUFSID0gMQpNQVhZRUFSID0gOTk5OQpfTUFYT1JESU5BTCA9IDM2NTIwNTkgIyBkYXRlLm1heC50b29yZGluYWwoKQoKIyBVdGlsaXR5IGZ1bmN0aW9ucywgYWRhcHRlZCBmcm9tIFB5dGhvbidzIERlbW8vY2xhc3Nlcy9EYXRlcy5weSwgd2hpY2gKIyBhbHNvIGFzc3VtZXMgdGhlIGN1cnJlbnQgR3JlZ29yaWFuIGNhbGVuZGFyIGluZGVmaW5pdGVseSBleHRlbmRlZCBpbgojIGJvdGggZGlyZWN0aW9ucy4gIERpZmZlcmVuY2U6ICBEYXRlcy5weSBjYWxscyBKYW51YXJ5IDEgb2YgeWVhciAwIGRheQojIG51bWJlciAxLiAgVGhlIGNvZGUgaGVyZSBjYWxscyBKYW51YXJ5IDEgb2YgeWVhciAxIGRheSBudW1iZXIgMS4gIFRoaXMgaXMKIyB0byBtYXRjaCB0aGUgZGVmaW5pdGlvbiBvZiB0aGUgInByb2xlcHRpYyBHcmVnb3JpYW4iIGNhbGVuZGFyIGluIERlcnNob3dpdHoKIyBhbmQgUmVpbmdvbGQncyAiQ2FsZW5kcmljYWwgQ2FsY3VsYXRpb25zIiwgd2hlcmUgaXQncyB0aGUgYmFzZSBjYWxlbmRhcgojIGZvciBhbGwgY29tcHV0YXRpb25zLiAgU2VlIHRoZSBib29rIGZvciBhbGdvcml0aG1zIGZvciBjb252ZXJ0aW5nIGJldHdlZW4KIyBwcm9sZXB0aWMgR3JlZ29yaWFuIG9yZGluYWxzIGFuZCBtYW55IG90aGVyIGNhbGVuZGFyIHN5c3RlbXMuCgpfREFZU19JTl9NT05USCA9IFtOb25lLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXQoKX0RBWVNfQkVGT1JFX01PTlRIID0gW05vbmVdCmRibSA9IDAKZm9yIGRpbSBpbiBfREFZU19JTl9NT05USFsxOl06CiAgICBfREFZU19CRUZPUkVfTU9OVEguYXBwZW5kKGRibSkKICAgIGRibSArPSBkaW0KI2RlbCBkYm0sIGRpbQoKZGVmIF9pc19sZWFwKHllYXIpOgogICAgInllYXIgLT4gMSBpZiBsZWFwIHllYXIsIGVsc2UgMC4iCiAgICByZXR1cm4geWVhciAlIDQgPT0gMCBhbmQgKHllYXIgJSAxMDAgIT0gMCBvciB5ZWFyICUgNDAwID09IDApCgpkZWYgX2RheXNfYmVmb3JlX3llYXIoeWVhcik6CiAgICAieWVhciAtPiBudW1iZXIgb2YgZGF5cyBiZWZvcmUgSmFudWFyeSAxc3Qgb2YgeWVhci4iCiAgICB5ID0geWVhciAtIDEKICAgIHJldHVybiB5KjM2NSArIHkvLzQgLSB5Ly8xMDAgKyB5Ly80MDAKCmRlZiBfZGF5c19pbl9tb250aCh5ZWFyLCBtb250aCk6CiAgICAieWVhciwgbW9udGggLT4gbnVtYmVyIG9mIGRheXMgaW4gdGhhdCBtb250aCBpbiB0aGF0IHllYXIuIgogICAgYXNzZXJ0IDEgPD0gbW9udGggPD0gMTIsIG1vbnRoCiAgICBpZiBtb250aCA9PSAyIGFuZCBfaXNfbGVhcCh5ZWFyKToKICAgICAgICByZXR1cm4gMjkKICAgIHJldHVybiBfREFZU19JTl9NT05USFttb250aF0KCmRlZiBfZGF5c19iZWZvcmVfbW9udGgoeWVhciwgbW9udGgpOgogICAgInllYXIsIG1vbnRoIC0+IG51bWJlciBvZiBkYXlzIGluIHllYXIgcHJlY2VlZGluZyBmaXJzdCBkYXkgb2YgbW9udGguIgogICAgYXNzZXJ0IDEgPD0gbW9udGggPD0gMTIsICdtb250aCBtdXN0IGJlIGluIDEuLjEyJwogICAgcmV0dXJuIF9EQVlTX0JFRk9SRV9NT05USFttb250aF0gKyAobW9udGggPiAyIGFuZCBfaXNfbGVhcCh5ZWFyKSkKCmRlZiBfeW1kMm9yZCh5ZWFyLCBtb250aCwgZGF5KToKICAgICJ5ZWFyLCBtb250aCwgZGF5IC0+IG9yZGluYWwsIGNvbnNpZGVyaW5nIDAxLUphbi0wMDAxIGFzIGRheSAxLiIKICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCAnbW9udGggbXVzdCBiZSBpbiAxLi4xMicKICAgIGRpbSA9IF9kYXlzX2luX21vbnRoKHllYXIsIG1vbnRoKQogICAgYXNzZXJ0IDEgPD0gZGF5IDw9IGRpbSwgKCdkYXkgbXVzdCBiZSBpbiAxLi4lZCcgJSBkaW0pCiAgICByZXR1cm4gKF9kYXlzX2JlZm9yZV95ZWFyKHllYXIpICsKICAgICAgICAgICAgX2RheXNfYmVmb3JlX21vbnRoKHllYXIsIG1vbnRoKSArCiAgICAgICAgICAgIGRheSkKCl9ESTQwMFkgPSBfZGF5c19iZWZvcmVfeWVhcig0MDEpICAgICMgbnVtYmVyIG9mIGRheXMgaW4gNDAwIHllYXJzCl9ESTEwMFkgPSBfZGF5c19iZWZvcmVfeWVhcigxMDEpICAgICMgICAgIiAgICAiICAgIiAgICIgMTAwICAgIgpfREk0WSAgID0gX2RheXNfYmVmb3JlX3llYXIoNSkgICAgICAjICAgICIgICAgIiAgICIgICAiICAgNCAgICIKCiMgQSA0LXllYXIgY3ljbGUgaGFzIGFuIGV4dHJhIGxlYXAgZGF5IG92ZXIgd2hhdCB3ZSdkIGdldCBmcm9tIHBhc3RpbmcKIyB0b2dldGhlciA0IHNpbmdsZSB5ZWFycy4KYXNzZXJ0IF9ESTRZID09IDQgKiAzNjUgKyAxCgojIFNpbWlsYXJseSwgYSA0MDAteWVhciBjeWNsZSBoYXMgYW4gZXh0cmEgbGVhcCBkYXkgb3ZlciB3aGF0IHdlJ2QgZ2V0IGZyb20KIyBwYXN0aW5nIHRvZ2V0aGVyIDQgMTAwLXllYXIgY3ljbGVzLgphc3NlcnQgX0RJNDAwWSA9PSA0ICogX0RJMTAwWSArIDEKCiMgT1RPSCwgYSAxMDAteWVhciBjeWNsZSBoYXMgb25lIGZld2VyIGxlYXAgZGF5IHRoYW4gd2UnZCBnZXQgZnJvbQojIHBhc3RpbmcgdG9nZXRoZXIgMjUgNC15ZWFyIGN5Y2xlcy4KYXNzZXJ0IF9ESTEwMFkgPT0gMjUgKiBfREk0WSAtIDEKCmRlZiBfb3JkMnltZChuKToKICAgICJvcmRpbmFsIC0+ICh5ZWFyLCBtb250aCwgZGF5KSwgY29uc2lkZXJpbmcgMDEtSmFuLTAwMDEgYXMgZGF5IDEuIgoKICAgICMgbiBpcyBhIDEtYmFzZWQgaW5kZXgsIHN0YXJ0aW5nIGF0IDEtSmFuLTEuICBUaGUgcGF0dGVybiBvZiBsZWFwIHllYXJzCiAgICAjIHJlcGVhdHMgZXhhY3RseSBldmVyeSA0MDAgeWVhcnMuICBUaGUgYmFzaWMgc3RyYXRlZ3kgaXMgdG8gZmluZCB0aGUKICAgICMgY2xvc2VzdCA0MDAteWVhciBib3VuZGFyeSBhdCBvciBiZWZvcmUgbiwgdGhlbiB3b3JrIHdpdGggdGhlIG9mZnNldAogICAgIyBmcm9tIHRoYXQgYm91bmRhcnkgdG8gbi4gIExpZmUgaXMgbXVjaCBjbGVhcmVyIGlmIHdlIHN1YnRyYWN0IDEgZnJvbQogICAgIyBuIGZpcnN0IC0tIHRoZW4gdGhlIHZhbHVlcyBvZiBuIGF0IDQwMC15ZWFyIGJvdW5kYXJpZXMgYXJlIGV4YWN0bHkKICAgICMgdGhvc2UgZGl2aXNpYmxlIGJ5IF9ESTQwMFk6CiAgICAjCiAgICAjICAgICBEICBNICAgWSAgICAgICAgICAgIG4gICAgICAgICAgICAgIG4tMQogICAgIyAgICAgLS0gLS0tIC0tLS0gICAgICAgIC0tLS0tLS0tLS0gICAgIC0tLS0tLS0tLS0tLS0tLS0KICAgICMgICAgIDMxIERlYyAtNDAwICAgICAgICAtX0RJNDAwWSAgICAgICAtX0RJNDAwWSAtMQogICAgIyAgICAgIDEgSmFuIC0zOTkgICAgICAgICAtX0RJNDAwWSArMSAgIC1fREk0MDBZICAgICAgNDAwLXllYXIgYm91bmRhcnkKICAgICMgICAgIC4uLgogICAgIyAgICAgMzAgRGVjICAwMDAgICAgICAgIC0xICAgICAgICAgICAgIC0yCiAgICAjICAgICAzMSBEZWMgIDAwMCAgICAgICAgIDAgICAgICAgICAgICAgLTEKICAgICMgICAgICAxIEphbiAgMDAxICAgICAgICAgMSAgICAgICAgICAgICAgMCAgICAgICAgICAgIDQwMC15ZWFyIGJvdW5kYXJ5CiAgICAjICAgICAgMiBKYW4gIDAwMSAgICAgICAgIDIgICAgICAgICAgICAgIDEKICAgICMgICAgICAzIEphbiAgMDAxICAgICAgICAgMyAgICAgICAgICAgICAgMgogICAgIyAgICAgLi4uCiAgICAjICAgICAzMSBEZWMgIDQwMCAgICAgICAgIF9ESTQwMFkgICAgICAgIF9ESTQwMFkgLTEKICAgICMgICAgICAxIEphbiAgNDAxICAgICAgICAgX0RJNDAwWSArMSAgICAgX0RJNDAwWSAgICAgIDQwMC15ZWFyIGJvdW5kYXJ5CiAgICBuIC09IDEKICAgIG40MDAsIG4gPSBkaXZtb2QobiwgX0RJNDAwWSkKICAgIHllYXIgPSBuNDAwICogNDAwICsgMSAgICMgLi4uLCAtMzk5LCAxLCA0MDEsIC4uLgoKICAgICMgTm93IG4gaXMgdGhlIChub24tbmVnYXRpdmUpIG9mZnNldCwgaW4gZGF5cywgZnJvbSBKYW51YXJ5IDEgb2YgeWVhciwgdG8KICAgICMgdGhlIGRlc2lyZWQgZGF0ZS4gIE5vdyBjb21wdXRlIGhvdyBtYW55IDEwMC15ZWFyIGN5Y2xlcyBwcmVjZWRlIG4uCiAgICAjIE5vdGUgdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBuMTAwIHRvIGVxdWFsIDQhICBJbiB0aGF0IGNhc2UgNCBmdWxsCiAgICAjIDEwMC15ZWFyIGN5Y2xlcyBwcmVjZWRlIHRoZSBkZXNpcmVkIGRheSwgd2hpY2ggaW1wbGllcyB0aGUgZGVzaXJlZAogICAgIyBkYXkgaXMgRGVjZW1iZXIgMzEgYXQgdGhlIGVuZCBvZiBhIDQwMC15ZWFyIGN5Y2xlLgogICAgbjEwMCwgbiA9IGRpdm1vZChuLCBfREkxMDBZKQoKICAgICMgTm93IGNvbXB1dGUgaG93IG1hbnkgNC15ZWFyIGN5Y2xlcyBwcmVjZWRlIGl0LgogICAgbjQsIG4gPSBkaXZtb2QobiwgX0RJNFkpCgogICAgIyBBbmQgbm93IGhvdyBtYW55IHNpbmdsZSB5ZWFycy4gIEFnYWluIG4xIGNhbiBiZSA0LCBhbmQgYWdhaW4gbWVhbmluZwogICAgIyB0aGF0IHRoZSBkZXNpcmVkIGRheSBpcyBEZWNlbWJlciAzMSBhdCB0aGUgZW5kIG9mIHRoZSA0LXllYXIgY3ljbGUuCiAgICBuMSwgbiA9IGRpdm1vZChuLCAzNjUpCgogICAgeWVhciArPSBuMTAwICogMTAwICsgbjQgKiA0ICsgbjEKICAgIGlmIG4xID09IDQgb3IgbjEwMCA9PSA0OgogICAgICAgIGFzc2VydCBuID09IDAKICAgICAgICByZXR1cm4geWVhci0xLCAxMiwgMzEKCiAgICAjIE5vdyB0aGUgeWVhciBpcyBjb3JyZWN0LCBhbmQgbiBpcyB0aGUgb2Zmc2V0IGZyb20gSmFudWFyeSAxLiAgV2UgZmluZAogICAgIyB0aGUgbW9udGggdmlhIGFuIGVzdGltYXRlIHRoYXQncyBlaXRoZXIgZXhhY3Qgb3Igb25lIHRvbyBsYXJnZS4KICAgIGxlYXB5ZWFyID0gbjEgPT0gMyBhbmQgKG40ICE9IDI0IG9yIG4xMDAgPT0gMykKICAgIGFzc2VydCBsZWFweWVhciA9PSBfaXNfbGVhcCh5ZWFyKQogICAgbW9udGggPSAobiArIDUwKSA+PiA1CiAgICBwcmVjZWRpbmcgPSBfREFZU19CRUZPUkVfTU9OVEhbbW9udGhdICsgKG1vbnRoID4gMiBhbmQgbGVhcHllYXIpCiAgICBpZiBwcmVjZWRpbmcgPiBuOiAgIyBlc3RpbWF0ZSBpcyB0b28gbGFyZ2UKICAgICAgICBtb250aCAtPSAxCiAgICAgICAgcHJlY2VkaW5nIC09IF9EQVlTX0lOX01PTlRIW21vbnRoXSArIChtb250aCA9PSAyIGFuZCBsZWFweWVhcikKICAgIG4gLT0gcHJlY2VkaW5nCiAgICBhc3NlcnQgMCA8PSBuIDwgX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpCgogICAgIyBOb3cgdGhlIHllYXIgYW5kIG1vbnRoIGFyZSBjb3JyZWN0LCBhbmQgbiBpcyB0aGUgb2Zmc2V0IGZyb20gdGhlCiAgICAjIHN0YXJ0IG9mIHRoYXQgbW9udGg6ICB3ZSdyZSBkb25lIQogICAgcmV0dXJuIHllYXIsIG1vbnRoLCBuKzEKCiMgTW9udGggYW5kIGRheSBuYW1lcy4gIEZvciBsb2NhbGl6ZWQgdmVyc2lvbnMsIHNlZSB0aGUgY2FsZW5kYXIgbW9kdWxlLgpfTU9OVEhOQU1FUyA9IFtOb25lLCAiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLAogICAgICAgICAgICAgICAgICAgICAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXQpfREFZTkFNRVMgPSBbTm9uZSwgIk1vbiIsICJUdWUiLCAiV2VkIiwgIlRodSIsICJGcmkiLCAiU2F0IiwgIlN1biJdCgoKZGVmIF9idWlsZF9zdHJ1Y3RfdGltZSh5LCBtLCBkLCBoaCwgbW0sIHNzLCBkc3RmbGFnKToKICAgIHdkYXkgPSAoX3ltZDJvcmQoeSwgbSwgZCkgKyA2KSAlIDcKICAgIGRudW0gPSBfZGF5c19iZWZvcmVfbW9udGgoeSwgbSkgKyBkCiAgICByZXR1cm4gX3RpbWUuc3RydWN0X3RpbWUoKHksIG0sIGQsIGhoLCBtbSwgc3MsIHdkYXksIGRudW0sIGRzdGZsYWcpKQoKZGVmIF9mb3JtYXRfdGltZShoaCwgbW0sIHNzLCB1cyk6CiAgICAjIFNraXAgdHJhaWxpbmcgbWljcm9zZWNvbmRzIHdoZW4gdXM9PTAuCiAgICByZXN1bHQgPSAiJTAyZDolMDJkOiUwMmQiICUgKGhoLCBtbSwgc3MpCiAgICBpZiB1czoKICAgICAgICByZXN1bHQgKz0gIi4lMDZkIiAlIHVzCiAgICByZXR1cm4gcmVzdWx0CgojIENvcnJlY3RseSBzdWJzdGl0dXRlIGZvciAleiBhbmQgJVogZXNjYXBlcyBpbiBzdHJmdGltZSBmb3JtYXRzLgpkZWYgX3dyYXBfc3RyZnRpbWUob2JqZWN0LCBmb3JtYXQsIHRpbWV0dXBsZSk6CiAgICB5ZWFyID0gdGltZXR1cGxlWzBdCiAgICBpZiB5ZWFyIDwgMTAwMDoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJ5ZWFyPSVkIGlzIGJlZm9yZSAxMDAwOyB0aGUgZGF0ZXRpbWUgc3RyZnRpbWUoKSAiCiAgICAgICAgICAgICAgICAgICAgICAgICAibWV0aG9kcyByZXF1aXJlIHllYXIgPj0gMTAwMCIgJSB5ZWFyKQogICAgIyBEb24ndCBjYWxsIHV0Y29mZnNldCgpIG9yIHR6bmFtZSgpIHVubGVzcyBhY3R1YWxseSBuZWVkZWQuCiAgICBmcmVwbGFjZSA9IE5vbmUgIyB0aGUgc3RyaW5nIHRvIHVzZSBmb3IgJWYKICAgIHpyZXBsYWNlID0gTm9uZSAjIHRoZSBzdHJpbmcgdG8gdXNlIGZvciAlegogICAgWnJlcGxhY2UgPSBOb25lICMgdGhlIHN0cmluZyB0byB1c2UgZm9yICVaCgogICAgIyBTY2FuIGZvcm1hdCBmb3IgJXogYW5kICVaIGVzY2FwZXMsIHJlcGxhY2luZyBhcyBuZWVkZWQuCiAgICBuZXdmb3JtYXQgPSBbXQogICAgcHVzaCA9IG5ld2Zvcm1hdC5hcHBlbmQKICAgIGksIG4gPSAwLCBsZW4oZm9ybWF0KQogICAgd2hpbGUgaSA8IG46CiAgICAgICAgY2ggPSBmb3JtYXRbaV0KICAgICAgICBpICs9IDEKICAgICAgICBpZiBjaCA9PSAnJSc6CiAgICAgICAgICAgIGlmIGkgPCBuOgogICAgICAgICAgICAgICAgY2ggPSBmb3JtYXRbaV0KICAgICAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgICAgICAgaWYgY2ggPT0gJ2YnOgogICAgICAgICAgICAgICAgICAgIGlmIGZyZXBsYWNlIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIGZyZXBsYWNlID0gJyUwNmQnICUgZ2V0YXR0cihvYmplY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWljcm9zZWNvbmQnLCAwKQogICAgICAgICAgICAgICAgICAgIG5ld2Zvcm1hdC5hcHBlbmQoZnJlcGxhY2UpCiAgICAgICAgICAgICAgICBlbGlmIGNoID09ICd6JzoKICAgICAgICAgICAgICAgICAgICBpZiB6cmVwbGFjZSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICB6cmVwbGFjZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIob2JqZWN0LCAidXRjb2Zmc2V0Iik6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBvYmplY3QudXRjb2Zmc2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9mZnNldCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gJysnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2Zmc2V0LmRheXMgPCAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gPSAnLScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLCBtID0gZGl2bW9kKG9mZnNldCwgdGltZWRlbHRhKGhvdXJzPTEpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCBub3QgbSAlIHRpbWVkZWx0YShtaW51dGVzPTEpLCAid2hvbGUgbWludXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgenJlcGxhY2UgPSAnJWMlMDJkJTAyZCcgJSAoc2lnbiwgaCwgbSkKICAgICAgICAgICAgICAgICAgICBhc3NlcnQgJyUnIG5vdCBpbiB6cmVwbGFjZQogICAgICAgICAgICAgICAgICAgIG5ld2Zvcm1hdC5hcHBlbmQoenJlcGxhY2UpCiAgICAgICAgICAgICAgICBlbGlmIGNoID09ICdaJzoKICAgICAgICAgICAgICAgICAgICBpZiBacmVwbGFjZSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBacmVwbGFjZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIob2JqZWN0LCAidHpuYW1lIik6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gb2JqZWN0LnR6bmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgc3RyZnRpbWUgaXMgZ29pbmcgdG8gaGF2ZSBhdCB0aGlzOiBlc2NhcGUgJQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFpyZXBsYWNlID0gcy5yZXBsYWNlKCclJywgJyUlJykKICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKFpyZXBsYWNlKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwdXNoKCclJykKICAgICAgICAgICAgICAgICAgICBwdXNoKGNoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHVzaCgnJScpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHVzaChjaCkKICAgIG5ld2Zvcm1hdCA9ICIiLmpvaW4obmV3Zm9ybWF0KQogICAgcmV0dXJuIF90aW1lLnN0cmZ0aW1lKG5ld2Zvcm1hdCwgdGltZXR1cGxlKQoKZGVmIF9jYWxsX3R6aW5mb19tZXRob2QodHppbmZvLCBtZXRobmFtZSwgdHppbmZvYXJnKToKICAgIGlmIHR6aW5mbyBpcyBOb25lOgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gZ2V0YXR0cih0emluZm8sIG1ldGhuYW1lKSh0emluZm9hcmcpCgojIEp1c3QgcmFpc2UgVHlwZUVycm9yIGlmIHRoZSBhcmcgaXNuJ3QgTm9uZSBvciBhIHN0cmluZy4KZGVmIF9jaGVja190em5hbWUobmFtZSk6CiAgICBpZiBuYW1lIGlzIG5vdCBOb25lIGFuZCBub3QgaXNpbnN0YW5jZShuYW1lLCBzdHIpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigidHppbmZvLnR6bmFtZSgpIG11c3QgcmV0dXJuIE5vbmUgb3Igc3RyaW5nLCAiCiAgICAgICAgICAgICAgICAgICAgICAgICJub3QgJyVzJyIgJSB0eXBlKG5hbWUpKQoKIyBuYW1lIGlzIHRoZSBvZmZzZXQtcHJvZHVjaW5nIG1ldGhvZCwgInV0Y29mZnNldCIgb3IgImRzdCIuCiMgb2Zmc2V0IGlzIHdoYXQgaXQgcmV0dXJuZWQuCiMgSWYgb2Zmc2V0IGlzbid0IE5vbmUgb3IgdGltZWRlbHRhLCByYWlzZXMgVHlwZUVycm9yLgojIElmIG9mZnNldCBpcyBOb25lLCByZXR1cm5zIE5vbmUuCiMgRWxzZSBvZmZzZXQgaXMgY2hlY2tlZCBmb3IgYmVpbmcgaW4gcmFuZ2UsIGFuZCBhIHdob2xlICMgb2YgbWludXRlcy4KIyBJZiBpdCBpcywgaXRzIGludGVnZXIgdmFsdWUgaXMgcmV0dXJuZWQuICBFbHNlIFZhbHVlRXJyb3IgaXMgcmFpc2VkLgpkZWYgX2NoZWNrX3V0Y19vZmZzZXQobmFtZSwgb2Zmc2V0KToKICAgIGFzc2VydCBuYW1lIGluICgidXRjb2Zmc2V0IiwgImRzdCIpCiAgICBpZiBvZmZzZXQgaXMgTm9uZToKICAgICAgICByZXR1cm4KICAgIGlmIG5vdCBpc2luc3RhbmNlKG9mZnNldCwgdGltZWRlbHRhKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoInR6aW5mby4lcygpIG11c3QgcmV0dXJuIE5vbmUgIgogICAgICAgICAgICAgICAgICAgICAgICAib3IgdGltZWRlbHRhLCBub3QgJyVzJyIgJSAobmFtZSwgdHlwZShvZmZzZXQpKSkKICAgIGlmIG9mZnNldCAlIHRpbWVkZWx0YShtaW51dGVzPTEpIG9yIG9mZnNldC5taWNyb3NlY29uZHM6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigidHppbmZvLiVzKCkgbXVzdCByZXR1cm4gYSB3aG9sZSBudW1iZXIgIgogICAgICAgICAgICAgICAgICAgICAgICAgIm9mIG1pbnV0ZXMsIGdvdCAlcyIgJSAobmFtZSwgb2Zmc2V0KSkKICAgIGlmIG5vdCAtdGltZWRlbHRhKDEpIDwgb2Zmc2V0IDwgdGltZWRlbHRhKDEpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIiVzKCk9JXMsIG11c3QgYmUgbXVzdCBiZSBzdHJpY3RseSBiZXR3ZWVuIgogICAgICAgICAgICAgICAgICAgICAgICAgIiAtdGltZWRlbHRhKGhvdXJzPTI0KSBhbmQgdGltZWRlbHRhKGhvdXJzPTI0KSIKICAgICAgICAgICAgICAgICAgICAgICAgICUgKG5hbWUsIG9mZnNldCkpCgpkZWYgX2NoZWNrX2RhdGVfZmllbGRzKHllYXIsIG1vbnRoLCBkYXkpOgogICAgaWYgbm90IGlzaW5zdGFuY2UoeWVhciwgaW50KToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2ludCBleHBlY3RlZCcpCiAgICBpZiBub3QgTUlOWUVBUiA8PSB5ZWFyIDw9IE1BWFlFQVI6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigneWVhciBtdXN0IGJlIGluICVkLi4lZCcgJSAoTUlOWUVBUiwgTUFYWUVBUiksIHllYXIpCiAgICBpZiBub3QgMSA8PSBtb250aCA8PSAxMjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdtb250aCBtdXN0IGJlIGluIDEuLjEyJywgbW9udGgpCiAgICBkaW0gPSBfZGF5c19pbl9tb250aCh5ZWFyLCBtb250aCkKICAgIGlmIG5vdCAxIDw9IGRheSA8PSBkaW06CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignZGF5IG11c3QgYmUgaW4gMS4uJWQnICUgZGltLCBkYXkpCgpkZWYgX2NoZWNrX3RpbWVfZmllbGRzKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCk6CiAgICBpZiBub3QgaXNpbnN0YW5jZShob3VyLCBpbnQpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcignaW50IGV4cGVjdGVkJykKICAgIGlmIG5vdCAwIDw9IGhvdXIgPD0gMjM6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignaG91ciBtdXN0IGJlIGluIDAuLjIzJywgaG91cikKICAgIGlmIG5vdCAwIDw9IG1pbnV0ZSA8PSA1OToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdtaW51dGUgbXVzdCBiZSBpbiAwLi41OScsIG1pbnV0ZSkKICAgIGlmIG5vdCAwIDw9IHNlY29uZCA8PSA1OToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdzZWNvbmQgbXVzdCBiZSBpbiAwLi41OScsIHNlY29uZCkKICAgIGlmIG5vdCAwIDw9IG1pY3Jvc2Vjb25kIDw9IDk5OTk5OToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdtaWNyb3NlY29uZCBtdXN0IGJlIGluIDAuLjk5OTk5OScsIG1pY3Jvc2Vjb25kKQoKZGVmIF9jaGVja190emluZm9fYXJnKHR6KToKICAgIGlmIHR6IGlzIG5vdCBOb25lIGFuZCBub3QgaXNpbnN0YW5jZSh0eiwgdHppbmZvKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoInR6aW5mbyBhcmd1bWVudCBtdXN0IGJlIE5vbmUgb3Igb2YgYSB0emluZm8gc3ViY2xhc3MiKQoKZGVmIF9jbXBlcnJvcih4LCB5KToKICAgIHJhaXNlIFR5cGVFcnJvcigiY2FuJ3QgY29tcGFyZSAnJXMnIHRvICclcyciICUgKAogICAgICAgICAgICAgICAgICAgIHR5cGUoeCkuX19uYW1lX18sIHR5cGUoeSkuX19uYW1lX18pKQoKY2xhc3MgdGltZWRlbHRhOgogICAgIiIiUmVwcmVzZW50IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIGRhdGV0aW1lIG9iamVjdHMuCgogICAgU3VwcG9ydGVkIG9wZXJhdG9yczoKCiAgICAtIGFkZCwgc3VidHJhY3QgdGltZWRlbHRhCiAgICAtIHVuYXJ5IHBsdXMsIG1pbnVzLCBhYnMKICAgIC0gY29tcGFyZSB0byB0aW1lZGVsdGEKICAgIC0gbXVsdGlwbHksIGRpdmlkZSBieSBpbnQvbG9uZwoKICAgIEluIGFkZGl0aW9uLCBkYXRldGltZSBzdXBwb3J0cyBzdWJ0cmFjdGlvbiBvZiB0d28gZGF0ZXRpbWUgb2JqZWN0cwogICAgcmV0dXJuaW5nIGEgdGltZWRlbHRhLCBhbmQgYWRkaXRpb24gb3Igc3VidHJhY3Rpb24gb2YgYSBkYXRldGltZQogICAgYW5kIGEgdGltZWRlbHRhIGdpdmluZyBhIGRhdGV0aW1lLgoKICAgIFJlcHJlc2VudGF0aW9uOiAoZGF5cywgc2Vjb25kcywgbWljcm9zZWNvbmRzKS4gIFdoeT8gIEJlY2F1c2UgSQogICAgZmVsdCBsaWtlIGl0LgogICAgIiIiCiAgICBfX3Nsb3RzX18gPSAnX2RheXMnLCAnX3NlY29uZHMnLCAnX21pY3Jvc2Vjb25kcycKCiAgICBkZWYgX19uZXdfXyhjbHMsIGRheXM9MCwgc2Vjb25kcz0wLCBtaWNyb3NlY29uZHM9MCwKICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kcz0wLCBtaW51dGVzPTAsIGhvdXJzPTAsIHdlZWtzPTApOgogICAgICAgICMgRG9pbmcgdGhpcyBlZmZpY2llbnRseSBhbmQgYWNjdXJhdGVseSBpbiBDIGlzIGdvaW5nIHRvIGJlIGRpZmZpY3VsdAogICAgICAgICMgYW5kIGVycm9yLXByb25lLCBkdWUgdG8gdWJpcXVpdG91cyBvdmVyZmxvdyBwb3NzaWJpbGl0aWVzLCBhbmQgdGhhdAogICAgICAgICMgQyBkb3VibGUgZG9lc24ndCBoYXZlIGVub3VnaCBiaXRzIG9mIHByZWNpc2lvbiB0byByZXByZXNlbnQKICAgICAgICAjIG1pY3Jvc2Vjb25kcyBvdmVyIDEwSyB5ZWFycyBmYWl0aGZ1bGx5LiAgVGhlIGNvZGUgaGVyZSB0cmllcyB0byBtYWtlCiAgICAgICAgIyBleHBsaWNpdCB3aGVyZSBnby1mYXN0IGFzc3VtcHRpb25zIGNhbiBiZSByZWxpZWQgb24sIGluIG9yZGVyIHRvCiAgICAgICAgIyBndWlkZSB0aGUgQyBpbXBsZW1lbnRhdGlvbjsgaXQncyB3YXkgbW9yZSBjb252b2x1dGVkIHRoYW4gc3BlZWQtCiAgICAgICAgIyBpZ25vcmluZyBhdXRvLW92ZXJmbG93LXRvLWxvbmcgaWRpb21hdGljIFB5dGhvbiBjb3VsZCBiZS4KCiAgICAgICAgIyBYWFggQ2hlY2sgdGhhdCBhbGwgaW5wdXRzIGFyZSBpbnRzIG9yIGZsb2F0cy4KCiAgICAgICAgIyBGaW5hbCB2YWx1ZXMsIGFsbCBpbnRlZ2VyLgogICAgICAgICMgcyBhbmQgdXMgZml0IGluIDMyLWJpdCBzaWduZWQgaW50czsgZCBpc24ndCBib3VuZGVkLgogICAgICAgIGQgPSBzID0gdXMgPSAwCgogICAgICAgICMgTm9ybWFsaXplIGV2ZXJ5dGhpbmcgdG8gZGF5cywgc2Vjb25kcywgbWljcm9zZWNvbmRzLgogICAgICAgIGRheXMgKz0gd2Vla3MqNwogICAgICAgIHNlY29uZHMgKz0gbWludXRlcyo2MCArIGhvdXJzKjM2MDAKICAgICAgICBtaWNyb3NlY29uZHMgKz0gbWlsbGlzZWNvbmRzKjEwMDAKCiAgICAgICAgIyBHZXQgcmlkIG9mIGFsbCBmcmFjdGlvbnMsIGFuZCBub3JtYWxpemUgcyBhbmQgdXMuCiAgICAgICAgIyBUYWtlIGEgZGVlcCBicmVhdGggPHdpbms+LgogICAgICAgIGlmIGlzaW5zdGFuY2UoZGF5cywgZmxvYXQpOgogICAgICAgICAgICBkYXlmcmFjLCBkYXlzID0gX21hdGgubW9kZihkYXlzKQogICAgICAgICAgICBkYXlzZWNvbmRzZnJhYywgZGF5c2Vjb25kc3dob2xlID0gX21hdGgubW9kZihkYXlmcmFjICogKDI0LiozNjAwLikpCiAgICAgICAgICAgIGFzc2VydCBkYXlzZWNvbmRzd2hvbGUgPT0gaW50KGRheXNlY29uZHN3aG9sZSkgICMgY2FuJ3Qgb3ZlcmZsb3cKICAgICAgICAgICAgcyA9IGludChkYXlzZWNvbmRzd2hvbGUpCiAgICAgICAgICAgIGFzc2VydCBkYXlzID09IGludChkYXlzKQogICAgICAgICAgICBkID0gaW50KGRheXMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGF5c2Vjb25kc2ZyYWMgPSAwLjAKICAgICAgICAgICAgZCA9IGRheXMKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShkYXlzZWNvbmRzZnJhYywgZmxvYXQpCiAgICAgICAgYXNzZXJ0IGFicyhkYXlzZWNvbmRzZnJhYykgPD0gMS4wCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoZCwgaW50KQogICAgICAgIGFzc2VydCBhYnMocykgPD0gMjQgKiAzNjAwCiAgICAgICAgIyBkYXlzIGlzbid0IHJlZmVyZW5jZWQgYWdhaW4gYmVmb3JlIHJlZGVmaW5pdGlvbgoKICAgICAgICBpZiBpc2luc3RhbmNlKHNlY29uZHMsIGZsb2F0KToKICAgICAgICAgICAgc2Vjb25kc2ZyYWMsIHNlY29uZHMgPSBfbWF0aC5tb2RmKHNlY29uZHMpCiAgICAgICAgICAgIGFzc2VydCBzZWNvbmRzID09IGludChzZWNvbmRzKQogICAgICAgICAgICBzZWNvbmRzID0gaW50KHNlY29uZHMpCiAgICAgICAgICAgIHNlY29uZHNmcmFjICs9IGRheXNlY29uZHNmcmFjCiAgICAgICAgICAgIGFzc2VydCBhYnMoc2Vjb25kc2ZyYWMpIDw9IDIuMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlY29uZHNmcmFjID0gZGF5c2Vjb25kc2ZyYWMKICAgICAgICAjIGRheXNlY29uZHNmcmFjIGlzbid0IHJlZmVyZW5jZWQgYWdhaW4KICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzZWNvbmRzZnJhYywgZmxvYXQpCiAgICAgICAgYXNzZXJ0IGFicyhzZWNvbmRzZnJhYykgPD0gMi4wCgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHNlY29uZHMsIGludCkKICAgICAgICBkYXlzLCBzZWNvbmRzID0gZGl2bW9kKHNlY29uZHMsIDI0KjM2MDApCiAgICAgICAgZCArPSBkYXlzCiAgICAgICAgcyArPSBpbnQoc2Vjb25kcykgICAgIyBjYW4ndCBvdmVyZmxvdwogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHMsIGludCkKICAgICAgICBhc3NlcnQgYWJzKHMpIDw9IDIgKiAyNCAqIDM2MDAKICAgICAgICAjIHNlY29uZHMgaXNuJ3QgcmVmZXJlbmNlZCBhZ2FpbiBiZWZvcmUgcmVkZWZpbml0aW9uCgogICAgICAgIHVzZG91YmxlID0gc2Vjb25kc2ZyYWMgKiAxZTYKICAgICAgICBhc3NlcnQgYWJzKHVzZG91YmxlKSA8IDIuMWU2ICAgICMgZXhhY3QgdmFsdWUgbm90IGNyaXRpY2FsCiAgICAgICAgIyBzZWNvbmRzZnJhYyBpc24ndCByZWZlcmVuY2VkIGFnYWluCgogICAgICAgIGlmIGlzaW5zdGFuY2UobWljcm9zZWNvbmRzLCBmbG9hdCk6CiAgICAgICAgICAgIG1pY3Jvc2Vjb25kcyArPSB1c2RvdWJsZQogICAgICAgICAgICBtaWNyb3NlY29uZHMgPSByb3VuZChtaWNyb3NlY29uZHMsIDApCiAgICAgICAgICAgIHNlY29uZHMsIG1pY3Jvc2Vjb25kcyA9IGRpdm1vZChtaWNyb3NlY29uZHMsIDFlNikKICAgICAgICAgICAgYXNzZXJ0IG1pY3Jvc2Vjb25kcyA9PSBpbnQobWljcm9zZWNvbmRzKQogICAgICAgICAgICBhc3NlcnQgc2Vjb25kcyA9PSBpbnQoc2Vjb25kcykKICAgICAgICAgICAgZGF5cywgc2Vjb25kcyA9IGRpdm1vZChzZWNvbmRzLCAyNC4qMzYwMC4pCiAgICAgICAgICAgIGFzc2VydCBkYXlzID09IGludChkYXlzKQogICAgICAgICAgICBhc3NlcnQgc2Vjb25kcyA9PSBpbnQoc2Vjb25kcykKICAgICAgICAgICAgZCArPSBpbnQoZGF5cykKICAgICAgICAgICAgcyArPSBpbnQoc2Vjb25kcykgICAjIGNhbid0IG92ZXJmbG93CiAgICAgICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHMsIGludCkKICAgICAgICAgICAgYXNzZXJ0IGFicyhzKSA8PSAzICogMjQgKiAzNjAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2Vjb25kcywgbWljcm9zZWNvbmRzID0gZGl2bW9kKG1pY3Jvc2Vjb25kcywgMTAwMDAwMCkKICAgICAgICAgICAgZGF5cywgc2Vjb25kcyA9IGRpdm1vZChzZWNvbmRzLCAyNCozNjAwKQogICAgICAgICAgICBkICs9IGRheXMKICAgICAgICAgICAgcyArPSBpbnQoc2Vjb25kcykgICAgIyBjYW4ndCBvdmVyZmxvdwogICAgICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzLCBpbnQpCiAgICAgICAgICAgIGFzc2VydCBhYnMocykgPD0gMyAqIDI0ICogMzYwMAogICAgICAgICAgICBtaWNyb3NlY29uZHMgPSBmbG9hdChtaWNyb3NlY29uZHMpCiAgICAgICAgICAgIG1pY3Jvc2Vjb25kcyArPSB1c2RvdWJsZQogICAgICAgICAgICBtaWNyb3NlY29uZHMgPSByb3VuZChtaWNyb3NlY29uZHMsIDApCiAgICAgICAgYXNzZXJ0IGFicyhzKSA8PSAzICogMjQgKiAzNjAwCiAgICAgICAgYXNzZXJ0IGFicyhtaWNyb3NlY29uZHMpIDwgMy4xZTYKCiAgICAgICAgIyBKdXN0IGEgbGl0dGxlIGJpdCBvZiBjYXJyeWluZyBwb3NzaWJsZSBmb3IgbWljcm9zZWNvbmRzIGFuZCBzZWNvbmRzLgogICAgICAgICNpcyB0aGUgYmVsb3cgdHdvIHN0YXRlbWVudHMgZXZlbiBwb3NzaWJsZT8KICAgICAgICAjYXNzZXJ0IGlzaW5zdGFuY2UobWljcm9zZWNvbmRzLCBmbG9hdCkKICAgICAgICAjYXNzZXJ0IGludChtaWNyb3NlY29uZHMpID09IG1pY3Jvc2Vjb25kcwogICAgICAgIHVzID0gaW50KG1pY3Jvc2Vjb25kcykKICAgICAgICBzZWNvbmRzLCB1cyA9IGRpdm1vZCh1cywgMTAwMDAwMCkKICAgICAgICBzICs9IHNlY29uZHMgICAgIyBjYW50J3Qgb3ZlcmZsb3cKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzLCBpbnQpCiAgICAgICAgZGF5cywgcyA9IGRpdm1vZChzLCAyNCozNjAwKQogICAgICAgIGQgKz0gZGF5cwoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShkLCBpbnQpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UocywgaW50KSBhbmQgMCA8PSBzIDwgMjQqMzYwMAogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHVzLCBpbnQpIGFuZCAwIDw9IHVzIDwgMTAwMDAwMAoKICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKQoKICAgICAgICBzZWxmLl9kYXlzID0gZAogICAgICAgIHNlbGYuX3NlY29uZHMgPSBzCiAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzID0gdXMKCiAgICAgICAgaWYgYWJzKGQpID4gOTk5OTk5OTk5OgogICAgICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJ0aW1lZGVsdGEgIyBvZiBkYXlzIGlzIHRvbyBsYXJnZTogJWQiICUgZCkKCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmRzOgogICAgICAgICAgICByZXR1cm4gIiVzKCVkLCAlZCwgJWQpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMpCiAgICAgICAgaWYgc2VsZi5fc2Vjb25kczoKICAgICAgICAgICAgcmV0dXJuICIlcyglZCwgJWQpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RheXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcykKICAgICAgICByZXR1cm4gIiVzKCVkKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywgc2VsZi5fZGF5cykKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICBtbSwgc3MgPSBkaXZtb2Qoc2VsZi5fc2Vjb25kcywgNjApCiAgICAgICAgaGgsIG1tID0gZGl2bW9kKG1tLCA2MCkKICAgICAgICBzID0gIiVkOiUwMmQ6JTAyZCIgJSAoaGgsIG1tLCBzcykKICAgICAgICBpZiBzZWxmLl9kYXlzOgogICAgICAgICAgICBkZWYgcGx1cmFsKG4pOgogICAgICAgICAgICAgICAgcmV0dXJuIG4sIGFicyhuKSAhPSAxIGFuZCAicyIgb3IgIiIKICAgICAgICAgICAgcyA9ICgiJWQgZGF5JXMsICIgJSBwbHVyYWwoc2VsZi5fZGF5cykpICsgcwogICAgICAgIGlmIHNlbGYuX21pY3Jvc2Vjb25kczoKICAgICAgICAgICAgcyA9IHMgKyAiLiUwNmQiICUgc2VsZi5fbWljcm9zZWNvbmRzCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgdG90YWxfc2Vjb25kcyhzZWxmKToKICAgICAgICAiIiJUb3RhbCBzZWNvbmRzIGluIHRoZSBkdXJhdGlvbi4iIiIKICAgICAgICByZXR1cm4gKChzZWxmLmRheXMgKiA4NjQwMCArIHNlbGYuc2Vjb25kcykqMTAqKjYgKwogICAgICAgICAgICAgICAgc2VsZi5taWNyb3NlY29uZHMpIC8gMTAqKjYKCiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnMKICAgIEBwcm9wZXJ0eQogICAgZGVmIGRheXMoc2VsZik6CiAgICAgICAgIiIiZGF5cyIiIgogICAgICAgIHJldHVybiBzZWxmLl9kYXlzCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2Vjb25kcyhzZWxmKToKICAgICAgICAiIiJzZWNvbmRzIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3NlY29uZHMKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaWNyb3NlY29uZHMoc2VsZik6CiAgICAgICAgIiIibWljcm9zZWNvbmRzIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kcwoKICAgIGRlZiBfX2FkZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAjIGZvciBDUHl0aG9uIGNvbXBhdGliaWxpdHksIHdlIGNhbm5vdCB1c2UKICAgICAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YShzZWxmLl9kYXlzICsgb3RoZXIuX2RheXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyArIG90aGVyLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyArIG90aGVyLl9taWNyb3NlY29uZHMpCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgX19yYWRkX18gPSBfX2FkZF9fCgogICAgZGVmIF9fc3ViX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZQogICAgICAgICAgICAjIG91ciBfX2NsYXNzX18gaGVyZSwgYnV0IG5lZWQgYSByZWFsIHRpbWVkZWx0YQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKHNlbGYuX2RheXMgLSBvdGhlci5fZGF5cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzIC0gb3RoZXIuX3NlY29uZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzIC0gb3RoZXIuX21pY3Jvc2Vjb25kcykKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19yc3ViX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiAtc2VsZiArIG90aGVyCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbmVnX18oc2VsZik6CiAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlCiAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICByZXR1cm4gdGltZWRlbHRhKC1zZWxmLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgLXNlbGYuX3NlY29uZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAtc2VsZi5fbWljcm9zZWNvbmRzKQoKICAgIGRlZiBfX3Bvc19fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fYWJzX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fZGF5cyA8IDA6CiAgICAgICAgICAgIHJldHVybiAtc2VsZgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbXVsX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGludCk6CiAgICAgICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZQogICAgICAgICAgICAjIG91ciBfX2NsYXNzX18gaGVyZSwgYnV0IG5lZWQgYSByZWFsIHRpbWVkZWx0YQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKHNlbGYuX2RheXMgKiBvdGhlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICogb3RoZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzICogb3RoZXIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZmxvYXQpOgogICAgICAgICAgICBhLCBiID0gb3RoZXIuYXNfaW50ZWdlcl9yYXRpbygpCiAgICAgICAgICAgIHJldHVybiBzZWxmICogYSAvIGIKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBfX3JtdWxfXyA9IF9fbXVsX18KCiAgICBkZWYgX3RvX21pY3Jvc2Vjb25kcyhzZWxmKToKICAgICAgICByZXR1cm4gKChzZWxmLl9kYXlzICogKDI0KjM2MDApICsgc2VsZi5fc2Vjb25kcykgKiAxMDAwMDAwICsKICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcykKCiAgICBkZWYgX19mbG9vcmRpdl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgKGludCwgdGltZWRlbHRhKSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHVzZWMgPSBzZWxmLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiB1c2VjIC8vIG90aGVyLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGludCk6CiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgdXNlYyAvLyBvdGhlcikKCiAgICBkZWYgX190cnVlZGl2X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCAoaW50LCBmbG9hdCwgdGltZWRlbHRhKSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHVzZWMgPSBzZWxmLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiB1c2VjIC8gb3RoZXIuX3RvX21pY3Jvc2Vjb25kcygpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgaW50KToKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YSgwLCAwLCB1c2VjIC8gb3RoZXIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZmxvYXQpOgogICAgICAgICAgICBhLCBiID0gb3RoZXIuYXNfaW50ZWdlcl9yYXRpbygpCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgYiAqIHVzZWMgLyBhKQoKICAgIGRlZiBfX21vZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByID0gc2VsZi5fdG9fbWljcm9zZWNvbmRzKCkgJSBvdGhlci5fdG9fbWljcm9zZWNvbmRzKCkKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YSgwLCAwLCByKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2Rpdm1vZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICBxLCByID0gZGl2bW9kKHNlbGYuX3RvX21pY3Jvc2Vjb25kcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl90b19taWNyb3NlY29uZHMoKSkKICAgICAgICAgICAgcmV0dXJuIHEsIHRpbWVkZWx0YSgwLCAwLCByKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgICMgQ29tcGFyaXNvbnMgb2YgdGltZWRlbHRhIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPD0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPj0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAjcmV0dXJuIF9jbXAoc2VsZi5fZ2V0c3RhdGUoKSwgb3RoZXIuX2dldHN0YXRlKCkpCiAgICAgICAgcmV0dXJuIF9zdGF0ZV9jbXAoc2VsZi5fZ2V0c3RhdGUoKSwgb3RoZXIuX2dldHN0YXRlKCkpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX2dldHN0YXRlKCkpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiAoc2VsZi5fZGF5cyAhPSAwIG9yCiAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICE9IDAgb3IKICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyAhPSAwKQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICByZXR1cm4gKHNlbGYuX2RheXMsIHNlbGYuX3NlY29uZHMsIHNlbGYuX21pY3Jvc2Vjb25kcykKCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICByZXR1cm4gKHNlbGYuX19jbGFzc19fLCBzZWxmLl9nZXRzdGF0ZSgpKQoKdGltZWRlbHRhLm1pbiA9IHRpbWVkZWx0YSgtOTk5OTk5OTk5KQp0aW1lZGVsdGEubWF4ID0gdGltZWRlbHRhKGRheXM9OTk5OTk5OTk5LCBob3Vycz0yMywgbWludXRlcz01OSwgc2Vjb25kcz01OSwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZHM9OTk5OTk5KQp0aW1lZGVsdGEucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSkKCmNsYXNzIGRhdGU6CiAgICAiIiJDb25jcmV0ZSBkYXRlIHR5cGUuCgogICAgQ29uc3RydWN0b3JzOgoKICAgIF9fbmV3X18oKQogICAgZnJvbXRpbWVzdGFtcCgpCiAgICB0b2RheSgpCiAgICBmcm9tb3JkaW5hbCgpCgogICAgT3BlcmF0b3JzOgoKICAgIF9fcmVwcl9fLCBfX3N0cl9fCiAgICBfX2NtcF9fLCBfX2hhc2hfXwogICAgX19hZGRfXywgX19yYWRkX18sIF9fc3ViX18gKGFkZC9yYWRkIG9ubHkgd2l0aCB0aW1lZGVsdGEgYXJnKQoKICAgIE1ldGhvZHM6CgogICAgdGltZXR1cGxlKCkKICAgIHRvb3JkaW5hbCgpCiAgICB3ZWVrZGF5KCkKICAgIGlzb3dlZWtkYXkoKSwgaXNvY2FsZW5kYXIoKSwgaXNvZm9ybWF0KCkKICAgIGN0aW1lKCkKICAgIHN0cmZ0aW1lKCkKCiAgICBQcm9wZXJ0aWVzIChyZWFkb25seSk6CiAgICB5ZWFyLCBtb250aCwgZGF5CiAgICAiIiIKICAgIF9fc2xvdHNfXyA9ICdfeWVhcicsICdfbW9udGgnLCAnX2RheScKCiAgICBkZWYgX19uZXdfXyhjbHMsIHllYXIsIG1vbnRoPU5vbmUsIGRheT1Ob25lKToKICAgICAgICAiIiJDb25zdHJ1Y3Rvci4KCiAgICAgICAgQXJndW1lbnRzOgoKICAgICAgICB5ZWFyLCBtb250aCwgZGF5IChyZXF1aXJlZCwgYmFzZSAxKQogICAgICAgICIiIgogICAgICAgIGlmIChpc2luc3RhbmNlKHllYXIsIGJ5dGVzKSBhbmQgbGVuKHllYXIpID09IDQgYW5kCiAgICAgICAgICAgIDEgPD0geWVhclsyXSA8PSAxMiBhbmQgbW9udGggaXMgTm9uZSk6ICAjIE1vbnRoIGlzIHNhbmUKICAgICAgICAgICAgIyBQaWNrbGUgc3VwcG9ydAogICAgICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKQogICAgICAgICAgICBzZWxmLl9fc2V0c3RhdGUoeWVhcikKICAgICAgICAgICAgcmV0dXJuIHNlbGYKICAgICAgICBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSkKICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKQogICAgICAgIHNlbGYuX3llYXIgPSB5ZWFyCiAgICAgICAgc2VsZi5fbW9udGggPSBtb250aAogICAgICAgIHNlbGYuX2RheSA9IGRheQogICAgICAgIHJldHVybiBzZWxmCgogICAgIyBBZGRpdGlvbmFsIGNvbnN0cnVjdG9ycwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb210aW1lc3RhbXAoY2xzLCB0KToKICAgICAgICAiQ29uc3RydWN0IGEgZGF0ZSBmcm9tIGEgUE9TSVggdGltZXN0YW1wIChsaWtlIHRpbWUudGltZSgpKS4iCiAgICAgICAgeSwgbSwgZCwgaGgsIG1tLCBzcywgd2Vla2RheSwgamRheSwgZHN0ID0gX3RpbWUubG9jYWx0aW1lKHQpCiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIHRvZGF5KGNscyk6CiAgICAgICAgIkNvbnN0cnVjdCBhIGRhdGUgZnJvbSB0aW1lLnRpbWUoKS4iCiAgICAgICAgdCA9IF90aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBjbHMuZnJvbXRpbWVzdGFtcCh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21vcmRpbmFsKGNscywgbik6CiAgICAgICAgIiIiQ29udHJ1Y3QgYSBkYXRlIGZyb20gYSBwcm9sZXB0aWMgR3JlZ29yaWFuIG9yZGluYWwuCgogICAgICAgIEphbnVhcnkgMSBvZiB5ZWFyIDEgaXMgZGF5IDEuICBPbmx5IHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IGFyZQogICAgICAgIG5vbi16ZXJvIGluIHRoZSByZXN1bHQuCiAgICAgICAgIiIiCiAgICAgICAgeSwgbSwgZCA9IF9vcmQyeW1kKG4pCiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkKQoKICAgICMgQ29udmVyc2lvbnMgdG8gc3RyaW5nCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4KCiAgICAgICAgPj4+IGR0ID0gZGF0ZXRpbWUoMjAxMCwgMSwgMSkKICAgICAgICA+Pj4gcmVwcihkdCkKICAgICAgICAnZGF0ZXRpbWUuZGF0ZXRpbWUoMjAxMCwgMSwgMSwgMCwgMCknCgogICAgICAgID4+PiBkdCA9IGRhdGV0aW1lKDIwMTAsIDEsIDEsIHR6aW5mbz10aW1lem9uZS51dGMpCiAgICAgICAgPj4+IHJlcHIoZHQpCiAgICAgICAgJ2RhdGV0aW1lLmRhdGV0aW1lKDIwMTAsIDEsIDEsIDAsIDAsIHR6aW5mbz1kYXRldGltZS50aW1lem9uZS51dGMpJwogICAgICAgICIiIgogICAgICAgIHJldHVybiAiJXMoJWQsICVkLCAlZCkiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5feWVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9tb250aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXkpCiAgICAjIFhYWCBUaGVzZSBzaG91bGRuJ3QgZGVwZW5kIG9uIHRpbWUubG9jYWx0aW1lKCksIGJlY2F1c2UgdGhhdAogICAgIyBjbGlwcyB0aGUgdXNhYmxlIGRhdGVzIHRvIFsxOTcwIC4uIDIwMzgpLiAgQXQgbGVhc3QgY3RpbWUoKSBpcwogICAgIyBlYXNpbHkgZG9uZSB3aXRob3V0IHVzaW5nIHN0cmZ0aW1lKCkgLS0gdGhhdCdzIGJldHRlciB0b28gYmVjYXVzZQogICAgIyBzdHJmdGltZSgiJWMiLCAuLi4pIGlzIGxvY2FsZSBzcGVjaWZpYy4KCgogICAgZGVmIGN0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIgogICAgICAgIHdlZWtkYXkgPSBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CiAgICAgICAgcmV0dXJuICIlcyAlcyAlMmQgMDA6MDA6MDAgJTA0ZCIgJSAoCiAgICAgICAgICAgIF9EQVlOQU1FU1t3ZWVrZGF5XSwKICAgICAgICAgICAgX01PTlRITkFNRVNbc2VsZi5fbW9udGhdLAogICAgICAgICAgICBzZWxmLl9kYXksIHNlbGYuX3llYXIpCgogICAgZGVmIHN0cmZ0aW1lKHNlbGYsIGZtdCk6CiAgICAgICAgIkZvcm1hdCB1c2luZyBzdHJmdGltZSgpLiIKICAgICAgICByZXR1cm4gX3dyYXBfc3RyZnRpbWUoc2VsZiwgZm10LCBzZWxmLnRpbWV0dXBsZSgpKQoKICAgIGRlZiBfX2Zvcm1hdF9fKHNlbGYsIGZtdCk6CiAgICAgICAgaWYgbGVuKGZtdCkgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyZnRpbWUoZm10KQogICAgICAgIHJldHVybiBzdHIoc2VsZikKCiAgICBkZWYgaXNvZm9ybWF0KHNlbGYpOgogICAgICAgICIiIlJldHVybiB0aGUgZGF0ZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy4KCiAgICAgICAgVGhpcyBpcyAnWVlZWS1NTS1ERCcuCgogICAgICAgIFJlZmVyZW5jZXM6CiAgICAgICAgLSBodHRwOi8vd3d3LnczLm9yZy9UUi9OT1RFLWRhdGV0aW1lCiAgICAgICAgLSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvaXNvLXRpbWUuaHRtbAogICAgICAgICIiIgogICAgICAgIHJldHVybiAiJTA0ZC0lMDJkLSUwMmQiICUgKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCgogICAgX19zdHJfXyA9IGlzb2Zvcm1hdAoKICAgICMgUmVhZC1vbmx5IGZpZWxkIGFjY2Vzc29ycwogICAgQHByb3BlcnR5CiAgICBkZWYgeWVhcihzZWxmKToKICAgICAgICAiIiJ5ZWFyICgxLTk5OTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3llYXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtb250aChzZWxmKToKICAgICAgICAiIiJtb250aCAoMS0xMikiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbW9udGgKCiAgICBAcHJvcGVydHkKICAgIGRlZiBkYXkoc2VsZik6CiAgICAgICAgIiIiZGF5ICgxLTMxKSIiIgogICAgICAgIHJldHVybiBzZWxmLl9kYXkKCiAgICAjIFN0YW5kYXJkIGNvbnZlcnNpb25zLCBfX2NtcF9fLCBfX2hhc2hfXyAoYW5kIGhlbHBlcnMpCgogICAgZGVmIHRpbWV0dXBsZShzZWxmKToKICAgICAgICAiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIgogICAgICAgIHJldHVybiBfYnVpbGRfc3RydWN0X3RpbWUoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIC0xKQoKICAgIGRlZiB0b29yZGluYWwoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHByb2xlcHRpYyBHcmVnb3JpYW4gb3JkaW5hbCBmb3IgdGhlIHllYXIsIG1vbnRoIGFuZCBkYXkuCgogICAgICAgIEphbnVhcnkgMSBvZiB5ZWFyIDEgaXMgZGF5IDEuICBPbmx5IHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IHZhbHVlcwogICAgICAgIGNvbnRyaWJ1dGUgdG8gdGhlIHJlc3VsdC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gX3ltZDJvcmQoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSkKCiAgICBkZWYgcmVwbGFjZShzZWxmLCB5ZWFyPU5vbmUsIG1vbnRoPU5vbmUsIGRheT1Ob25lKToKICAgICAgICAiIiJSZXR1cm4gYSBuZXcgZGF0ZSB3aXRoIG5ldyB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGRzLiIiIgogICAgICAgIGlmIHllYXIgaXMgTm9uZToKICAgICAgICAgICAgeWVhciA9IHNlbGYuX3llYXIKICAgICAgICBpZiBtb250aCBpcyBOb25lOgogICAgICAgICAgICBtb250aCA9IHNlbGYuX21vbnRoCiAgICAgICAgaWYgZGF5IGlzIE5vbmU6CiAgICAgICAgICAgIGRheSA9IHNlbGYuX2RheQogICAgICAgIF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KQogICAgICAgIHJldHVybiBkYXRlKHllYXIsIG1vbnRoLCBkYXkpCgogICAgIyBDb21wYXJpc29ucyBvZiBkYXRlIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPT0gMAogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSAhPSAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDw9IDAKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPCAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDAKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPiAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKQogICAgICAgIHksIG0sIGQgPSBzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5CiAgICAgICAgeTIsIG0yLCBkMiA9IG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXkKICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICNyZXR1cm4gX2NtcCgoeSwgbSwgZCksICh5MiwgbTIsIGQyKSkKICAgICAgICByZXR1cm4gX3N0YXRlX2NtcCgoeSwgbSwgZCksICh5MiwgbTIsIGQyKSkKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgIkhhc2guIgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX2dldHN0YXRlKCkpCgogICAgIyBDb21wdXRhdGlvbnMKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIkFkZCBhIGRhdGUgdG8gYSB0aW1lZGVsdGEuIgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIG8gPSBzZWxmLnRvb3JkaW5hbCgpICsgb3RoZXIuZGF5cwogICAgICAgICAgICBpZiAwIDwgbyA8PSBfTUFYT1JESU5BTDoKICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmZyb21vcmRpbmFsKG8pCiAgICAgICAgICAgIHJhaXNlIE92ZXJmbG93RXJyb3IoInJlc3VsdCBvdXQgb2YgcmFuZ2UiKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIF9fcmFkZF9fID0gX19hZGRfXwoKICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICAiIiJTdWJ0cmFjdCB0d28gZGF0ZXMsIG9yIGEgZGF0ZSBhbmQgYSB0aW1lZGVsdGEuIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYgKyB0aW1lZGVsdGEoLW90aGVyLmRheXMpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIGRheXMxID0gc2VsZi50b29yZGluYWwoKQogICAgICAgICAgICBkYXlzMiA9IG90aGVyLnRvb3JkaW5hbCgpCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoZGF5czEgLSBkYXlzMikKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgd2Vla2RheShzZWxmKToKICAgICAgICAiUmV0dXJuIGRheSBvZiB0aGUgd2Vlaywgd2hlcmUgTW9uZGF5ID09IDAgLi4uIFN1bmRheSA9PSA2LiIKICAgICAgICByZXR1cm4gKHNlbGYudG9vcmRpbmFsKCkgKyA2KSAlIDcKCiAgICAjIERheS1vZi10aGUtd2VlayBhbmQgd2Vlay1vZi10aGUteWVhciwgYWNjb3JkaW5nIHRvIElTTwoKICAgIGRlZiBpc293ZWVrZGF5KHNlbGYpOgogICAgICAgICJSZXR1cm4gZGF5IG9mIHRoZSB3ZWVrLCB3aGVyZSBNb25kYXkgPT0gMSAuLi4gU3VuZGF5ID09IDcuIgogICAgICAgICMgMS1KYW4tMDAwMSBpcyBhIE1vbmRheQogICAgICAgIHJldHVybiBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CgogICAgZGVmIGlzb2NhbGVuZGFyKHNlbGYpOgogICAgICAgICIiIlJldHVybiBhIDMtdHVwbGUgY29udGFpbmluZyBJU08geWVhciwgd2VlayBudW1iZXIsIGFuZCB3ZWVrZGF5LgoKICAgICAgICBUaGUgZmlyc3QgSVNPIHdlZWsgb2YgdGhlIHllYXIgaXMgdGhlIChNb24tU3VuKSB3ZWVrCiAgICAgICAgY29udGFpbmluZyB0aGUgeWVhcidzIGZpcnN0IFRodXJzZGF5OyBldmVyeXRoaW5nIGVsc2UgZGVyaXZlcwogICAgICAgIGZyb20gdGhhdC4KCiAgICAgICAgVGhlIGZpcnN0IHdlZWsgaXMgMTsgTW9uZGF5IGlzIDEgLi4uIFN1bmRheSBpcyA3LgoKICAgICAgICBJU08gY2FsZW5kYXIgYWxnb3JpdGhtIHRha2VuIGZyb20KICAgICAgICBodHRwOi8vd3d3LnBoeXMudXUubmwvfnZnZW50L2NhbGVuZGFyL2lzb2NhbGVuZGFyLmh0bQogICAgICAgICIiIgogICAgICAgIHllYXIgPSBzZWxmLl95ZWFyCiAgICAgICAgd2VlazFtb25kYXkgPSBfaXNvd2VlazFtb25kYXkoeWVhcikKICAgICAgICB0b2RheSA9IF95bWQyb3JkKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCiAgICAgICAgIyBJbnRlcm5hbGx5LCB3ZWVrIGFuZCBkYXkgaGF2ZSBvcmlnaW4gMAogICAgICAgIHdlZWssIGRheSA9IGRpdm1vZCh0b2RheSAtIHdlZWsxbW9uZGF5LCA3KQogICAgICAgIGlmIHdlZWsgPCAwOgogICAgICAgICAgICB5ZWFyIC09IDEKICAgICAgICAgICAgd2VlazFtb25kYXkgPSBfaXNvd2VlazFtb25kYXkoeWVhcikKICAgICAgICAgICAgd2VlaywgZGF5ID0gZGl2bW9kKHRvZGF5IC0gd2VlazFtb25kYXksIDcpCiAgICAgICAgZWxpZiB3ZWVrID49IDUyOgogICAgICAgICAgICBpZiB0b2RheSA+PSBfaXNvd2VlazFtb25kYXkoeWVhcisxKToKICAgICAgICAgICAgICAgIHllYXIgKz0gMQogICAgICAgICAgICAgICAgd2VlayA9IDAKICAgICAgICByZXR1cm4geWVhciwgd2VlaysxLCBkYXkrMQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB5aGksIHlsbyA9IGRpdm1vZChzZWxmLl95ZWFyLCAyNTYpCiAgICAgICAgcmV0dXJuIGJ5dGVzKFt5aGksIHlsbywgc2VsZi5fbW9udGgsIHNlbGYuX2RheV0pLAoKICAgIGRlZiBfX3NldHN0YXRlKHNlbGYsIHN0cmluZyk6CiAgICAgICAgaWYgbGVuKHN0cmluZykgIT0gNCBvciBub3QgKDEgPD0gc3RyaW5nWzJdIDw9IDEyKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJub3QgZW5vdWdoIGFyZ3VtZW50cyIpCiAgICAgICAgeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkgPSBzdHJpbmcKICAgICAgICBzZWxmLl95ZWFyID0geWhpICogMjU2ICsgeWxvCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCl9kYXRlX2NsYXNzID0gZGF0ZSAgIyBzbyBmdW5jdGlvbnMgdy8gYXJncyBuYW1lZCAiZGF0ZSIgY2FuIGdldCBhdCB0aGUgY2xhc3MKCmRhdGUubWluID0gZGF0ZSgxLCAxLCAxKQpkYXRlLm1heCA9IGRhdGUoOTk5OSwgMTIsIDMxKQpkYXRlLnJlc29sdXRpb24gPSB0aW1lZGVsdGEoZGF5cz0xKQoKY2xhc3MgdHppbmZvOgogICAgIiIiQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgdGltZSB6b25lIGluZm8gY2xhc3Nlcy4KCiAgICBTdWJjbGFzc2VzIG11c3Qgb3ZlcnJpZGUgdGhlIG5hbWUoKSwgdXRjb2Zmc2V0KCkgYW5kIGRzdCgpIG1ldGhvZHMuCiAgICAiIiIKICAgIF9fc2xvdHNfXyA9ICgpCiAgICBkZWYgdHpuYW1lKHNlbGYsIGR0KToKICAgICAgICAiZGF0ZXRpbWUgLT4gc3RyaW5nIG5hbWUgb2YgdGltZSB6b25lLiIKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSB0em5hbWUoKSIpCgogICAgZGVmIHV0Y29mZnNldChzZWxmLCBkdCk6CiAgICAgICAgImRhdGV0aW1lIC0+IG1pbnV0ZXMgZWFzdCBvZiBVVEMgKG5lZ2F0aXZlIGZvciB3ZXN0IG9mIFVUQykiCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgdXRjb2Zmc2V0KCkiKQoKICAgIGRlZiBkc3Qoc2VsZiwgZHQpOgogICAgICAgICIiImRhdGV0aW1lIC0+IERTVCBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQy4KCiAgICAgICAgUmV0dXJuIDAgaWYgRFNUIG5vdCBpbiBlZmZlY3QuICB1dGNvZmZzZXQoKSBtdXN0IGluY2x1ZGUgdGhlIERTVAogICAgICAgIG9mZnNldC4KICAgICAgICAiIiIKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSBkc3QoKSIpCgogICAgZGVmIGZyb211dGMoc2VsZiwgZHQpOgogICAgICAgICJkYXRldGltZSBpbiBVVEMgLT4gZGF0ZXRpbWUgaW4gbG9jYWwgdGltZS4iCgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGR0LCBkYXRldGltZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZnJvbXV0YygpIHJlcXVpcmVzIGEgZGF0ZXRpbWUgYXJndW1lbnQiKQogICAgICAgIGlmIGR0LnR6aW5mbyBpcyBub3Qgc2VsZjoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZHQudHppbmZvIGlzIG5vdCBzZWxmIikKCiAgICAgICAgZHRvZmYgPSBkdC51dGNvZmZzZXQoKQogICAgICAgIGlmIGR0b2ZmIGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImZyb211dGMoKSByZXF1aXJlcyBhIG5vbi1Ob25lIHV0Y29mZnNldCgpICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVzdWx0IikKCiAgICAgICAgIyBTZWUgdGhlIGxvbmcgY29tbWVudCBibG9jayBhdCB0aGUgZW5kIG9mIHRoaXMgZmlsZSBmb3IgYW4KICAgICAgICAjIGV4cGxhbmF0aW9uIG9mIHRoaXMgYWxnb3JpdGhtLgogICAgICAgIGR0ZHN0ID0gZHQuZHN0KCkKICAgICAgICBpZiBkdGRzdCBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBub24tTm9uZSBkc3QoKSByZXN1bHQiKQogICAgICAgIGRlbHRhID0gZHRvZmYgLSBkdGRzdAogICAgICAgIGlmIGRlbHRhOgogICAgICAgICAgICBkdCArPSBkZWx0YQogICAgICAgICAgICBkdGRzdCA9IGR0LmRzdCgpCiAgICAgICAgICAgIGlmIGR0ZHN0IGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCk6IGR0LmRzdCBnYXZlIGluY29uc2lzdGVudCAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZXN1bHRzOyBjYW5ub3QgY29udmVydCIpCiAgICAgICAgcmV0dXJuIGR0ICsgZHRkc3QKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfX3JlZHVjZV9fKHNlbGYpOgogICAgICAgIGdldGluaXRhcmdzID0gZ2V0YXR0cihzZWxmLCAiX19nZXRpbml0YXJnc19fIiwgTm9uZSkKICAgICAgICBpZiBnZXRpbml0YXJnczoKICAgICAgICAgICAgYXJncyA9IGdldGluaXRhcmdzKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBhcmdzID0gKCkKICAgICAgICBnZXRzdGF0ZSA9IGdldGF0dHIoc2VsZiwgIl9fZ2V0c3RhdGVfXyIsIE5vbmUpCiAgICAgICAgaWYgZ2V0c3RhdGU6CiAgICAgICAgICAgIHN0YXRlID0gZ2V0c3RhdGUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXRlID0gZ2V0YXR0cihzZWxmLCAiX19kaWN0X18iLCBOb25lKSBvciBOb25lCiAgICAgICAgaWYgc3RhdGUgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgYXJncykKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gKHNlbGYuX19jbGFzc19fLCBhcmdzLCBzdGF0ZSkKCl90emluZm9fY2xhc3MgPSB0emluZm8KCmNsYXNzIHRpbWU6CiAgICAiIiJUaW1lIHdpdGggdGltZSB6b25lLgoKICAgIENvbnN0cnVjdG9yczoKCiAgICBfX25ld19fKCkKCiAgICBPcGVyYXRvcnM6CgogICAgX19yZXByX18sIF9fc3RyX18KICAgIF9fY21wX18sIF9faGFzaF9fCgogICAgTWV0aG9kczoKCiAgICBzdHJmdGltZSgpCiAgICBpc29mb3JtYXQoKQogICAgdXRjb2Zmc2V0KCkKICAgIHR6bmFtZSgpCiAgICBkc3QoKQoKICAgIFByb3BlcnRpZXMgKHJlYWRvbmx5KToKICAgIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCwgdHppbmZvCiAgICAiIiIKCiAgICBkZWYgX19uZXdfXyhjbHMsIGhvdXI9MCwgbWludXRlPTAsIHNlY29uZD0wLCBtaWNyb3NlY29uZD0wLCB0emluZm89Tm9uZSk6CiAgICAgICAgIiIiQ29uc3RydWN0b3IuCgogICAgICAgIEFyZ3VtZW50czoKCiAgICAgICAgaG91ciwgbWludXRlIChyZXF1aXJlZCkKICAgICAgICBzZWNvbmQsIG1pY3Jvc2Vjb25kIChkZWZhdWx0IHRvIHplcm8pCiAgICAgICAgdHppbmZvIChkZWZhdWx0IHRvIE5vbmUpCiAgICAgICAgIiIiCiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscykKICAgICAgICBpZiBpc2luc3RhbmNlKGhvdXIsIGJ5dGVzKSBhbmQgbGVuKGhvdXIpID09IDY6CiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZi5fX3NldHN0YXRlKGhvdXIsIG1pbnV0ZSBvciBOb25lKQogICAgICAgICAgICByZXR1cm4gc2VsZgogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIHNlbGYuX2hvdXIgPSBob3VyCiAgICAgICAgc2VsZi5fbWludXRlID0gbWludXRlCiAgICAgICAgc2VsZi5fc2Vjb25kID0gc2Vjb25kCiAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgPSBtaWNyb3NlY29uZAogICAgICAgIHNlbGYuX3R6aW5mbyA9IHR6aW5mbwogICAgICAgIHJldHVybiBzZWxmCgogICAgIyBSZWFkLW9ubHkgZmllbGQgYWNjZXNzb3JzCiAgICBAcHJvcGVydHkKICAgIGRlZiBob3VyKHNlbGYpOgogICAgICAgICIiImhvdXIgKDAtMjMpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX2hvdXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaW51dGUoc2VsZik6CiAgICAgICAgIiIibWludXRlICgwLTU5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9taW51dGUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzZWNvbmQoc2VsZik6CiAgICAgICAgIiIic2Vjb25kICgwLTU5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9zZWNvbmQKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaWNyb3NlY29uZChzZWxmKToKICAgICAgICAiIiJtaWNyb3NlY29uZCAoMC05OTk5OTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kCgogICAgQHByb3BlcnR5CiAgICBkZWYgdHppbmZvKHNlbGYpOgogICAgICAgICIiInRpbWV6b25lIGluZm8gb2JqZWN0IiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3R6aW5mbwoKICAgICMgU3RhbmRhcmQgY29udmVyc2lvbnMsIF9faGFzaF9fIChhbmQgaGVscGVycykKCiAgICAjIENvbXBhcmlzb25zIG9mIHRpbWUgb2JqZWN0cyB3aXRoIG90aGVyLgoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX2NtcChzZWxmLCBvdGhlcik6CiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpCiAgICAgICAgbXl0eiA9IHNlbGYuX3R6aW5mbwogICAgICAgIG90dHogPSBvdGhlci5fdHppbmZvCiAgICAgICAgbXlvZmYgPSBvdG9mZiA9IE5vbmUKCiAgICAgICAgaWYgbXl0eiBpcyBvdHR6OgogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgICAgIG90b2ZmID0gb3RoZXIudXRjb2Zmc2V0KCkKICAgICAgICAgICAgYmFzZV9jb21wYXJlID0gbXlvZmYgPT0gb3RvZmYKCiAgICAgICAgaWYgYmFzZV9jb21wYXJlOgogICAgICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICAgICAjcmV0dXJuIF9jbXAoKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAjICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKSwKICAgICAgICAgICAgIyAgICAgICAgICAgKG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLAogICAgICAgICAgICAjICAgICAgICAgICAgb3RoZXIuX21pY3Jvc2Vjb25kKSkKICAgICAgICAgICAgcmV0dXJuIF90dXBsZV9jbXAoKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQpLAogICAgICAgICAgICAgICAgICAgICAgIChvdGhlci5faG91ciwgb3RoZXIuX21pbnV0ZSwgb3RoZXIuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXIuX21pY3Jvc2Vjb25kKSkKICAgICAgICBpZiBteW9mZiBpcyBOb25lIG9yIG90b2ZmIGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2Fubm90IGNvbXBhcmUgbmFpdmUgYW5kIGF3YXJlIHRpbWVzIikKICAgICAgICBteWhobW0gPSBzZWxmLl9ob3VyICogNjAgKyBzZWxmLl9taW51dGUgLSBteW9mZi8vdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICBvdGhobW0gPSBvdGhlci5faG91ciAqIDYwICsgb3RoZXIuX21pbnV0ZSAtIG90b2ZmLy90aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgICNmaXhtZSBicnl0aG9uCiAgICAgICAgI3JldHVybiBfY21wKChteWhobW0sIHNlbGYuX3NlY29uZCwgc2VsZi5fbWljcm9zZWNvbmQpLAogICAgICAgICMgICAgICAgICAgICAob3RoaG1tLCBvdGhlci5fc2Vjb25kLCBvdGhlci5fbWljcm9zZWNvbmQpKQogICAgICAgIHJldHVybiBfdHVwbGVfY21wKChteWhobW0sIHNlbGYuX3NlY29uZCwgc2VsZi5fbWljcm9zZWNvbmQpLAogICAgICAgICAgICAgICAgICAgIChvdGhobW0sIG90aGVyLl9zZWNvbmQsIG90aGVyLl9taWNyb3NlY29uZCkpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgICIiIkhhc2guIiIiCiAgICAgICAgdHpvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgbm90IHR6b2ZmOiAjIHplcm8gb3IgTm9uZQogICAgICAgICAgICByZXR1cm4gaGFzaChzZWxmLl9nZXRzdGF0ZSgpWzBdKQogICAgICAgIGgsIG0gPSBkaXZtb2QodGltZWRlbHRhKGhvdXJzPXNlbGYuaG91ciwgbWludXRlcz1zZWxmLm1pbnV0ZSkgLSB0em9mZiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICBhc3NlcnQgbm90IG0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICBtIC8vPSB0aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIGlmIDAgPD0gaCA8IDI0OgogICAgICAgICAgICByZXR1cm4gaGFzaCh0aW1lKGgsIG0sIHNlbGYuc2Vjb25kLCBzZWxmLm1pY3Jvc2Vjb25kKSkKICAgICAgICByZXR1cm4gaGFzaCgoaCwgbSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQpKQoKICAgICMgQ29udmVyc2lvbiB0byBzdHJpbmcKCiAgICBkZWYgX3R6c3RyKHNlbGYsIHNlcD0iOiIpOgogICAgICAgICIiIlJldHVybiBmb3JtYXR0ZWQgdGltZXpvbmUgb2Zmc2V0ICgreHg6eHgpIG9yIE5vbmUuIiIiCiAgICAgICAgb2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgIGlmIG9mZiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgb2ZmLmRheXMgPCAwOgogICAgICAgICAgICAgICAgc2lnbiA9ICItIgogICAgICAgICAgICAgICAgb2ZmID0gLW9mZgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2lnbiA9ICIrIgogICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCB0aW1lZGVsdGEoaG91cnM9MSkpCiAgICAgICAgICAgIGFzc2VydCBub3QgbW0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgbW0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgICAgIGFzc2VydCAwIDw9IGhoIDwgMjQKICAgICAgICAgICAgb2ZmID0gIiVzJTAyZCVzJTAyZCIgJSAoc2lnbiwgaGgsIHNlcCwgbW0pCiAgICAgICAgcmV0dXJuIG9mZgoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICAiIiJDb252ZXJ0IHRvIGZvcm1hbCBzdHJpbmcsIGZvciByZXByKCkuIiIiCiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmQgIT0gMDoKICAgICAgICAgICAgcyA9ICIsICVkLCAlZCIgJSAoc2VsZi5fc2Vjb25kLCBzZWxmLl9taWNyb3NlY29uZCkKICAgICAgICBlbGlmIHNlbGYuX3NlY29uZCAhPSAwOgogICAgICAgICAgICBzID0gIiwgJWQiICUgc2VsZi5fc2Vjb25kCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9ICIiCiAgICAgICAgcz0gIiVzKCVkLCAlZCVzKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHMpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgc1stMTpdID09ICIpIgogICAgICAgICAgICBzID0gc1s6LTFdICsgIiwgdHppbmZvPSVyIiAlIHNlbGYuX3R6aW5mbyArICIpIgogICAgICAgIHJldHVybiBzCgogICAgZGVmIGlzb2Zvcm1hdChzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWUgZm9ybWF0dGVkIGFjY29yZGluZyB0byBJU08uCgogICAgICAgIFRoaXMgaXMgJ0hIOk1NOlNTLm1tbW1tbSt6ejp6eicsIG9yICdISDpNTTpTUyt6ejp6eicgaWYKICAgICAgICBzZWxmLm1pY3Jvc2Vjb25kID09IDAuCiAgICAgICAgIiIiCiAgICAgICAgcyA9IF9mb3JtYXRfdGltZShzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKQogICAgICAgIHR6ID0gc2VsZi5fdHpzdHIoKQogICAgICAgIGlmIHR6OgogICAgICAgICAgICBzICs9IHR6CiAgICAgICAgcmV0dXJuIHMKCiAgICBfX3N0cl9fID0gaXNvZm9ybWF0CgogICAgZGVmIHN0cmZ0aW1lKHNlbGYsIGZtdCk6CiAgICAgICAgIiIiRm9ybWF0IHVzaW5nIHN0cmZ0aW1lKCkuICBUaGUgZGF0ZSBwYXJ0IG9mIHRoZSB0aW1lc3RhbXAgcGFzc2VkCiAgICAgICAgdG8gdW5kZXJseWluZyBzdHJmdGltZSBzaG91bGQgbm90IGJlIHVzZWQuCiAgICAgICAgIiIiCiAgICAgICAgIyBUaGUgeWVhciBtdXN0IGJlID49IDEwMDAgZWxzZSBQeXRob24ncyBzdHJmdGltZSBpbXBsZW1lbnRhdGlvbgogICAgICAgICMgY2FuIHJhaXNlIGEgYm9ndXMgZXhjZXB0aW9uLgogICAgICAgIHRpbWV0dXBsZSA9ICgxOTAwLCAxLCAxLAogICAgICAgICAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgMCwgMSwgLTEpCiAgICAgICAgcmV0dXJuIF93cmFwX3N0cmZ0aW1lKHNlbGYsIGZtdCwgdGltZXR1cGxlKQoKICAgIGRlZiBfX2Zvcm1hdF9fKHNlbGYsIGZtdCk6CiAgICAgICAgaWYgbGVuKGZtdCkgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyZnRpbWUoZm10KQogICAgICAgIHJldHVybiBzdHIoc2VsZikKCiAgICAjIFRpbWV6b25lIGZ1bmN0aW9ucwoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZgogICAgICAgIFVUQykuIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgb2Zmc2V0ID0gc2VsZi5fdHppbmZvLnV0Y29mZnNldChOb25lKQogICAgICAgIF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpCiAgICAgICAgcmV0dXJuIG9mZnNldAoKICAgIGRlZiB0em5hbWUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLgoKICAgICAgICBOb3RlIHRoYXQgdGhlIG5hbWUgaXMgMTAwJSBpbmZvcm1hdGlvbmFsIC0tIHRoZXJlJ3Mgbm8gcmVxdWlyZW1lbnQgdGhhdAogICAgICAgIGl0IG1lYW4gYW55dGhpbmcgaW4gcGFydGljdWxhci4gRm9yIGV4YW1wbGUsICJHTVQiLCAiVVRDIiwgIi01MDAiLAogICAgICAgICItNTowMCIsICJFRFQiLCAiVVMvRWFzdGVybiIsICJBbWVyaWNhL05ldyBZb3JrIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgbmFtZSA9IHNlbGYuX3R6aW5mby50em5hbWUoTm9uZSkKICAgICAgICBfY2hlY2tfdHpuYW1lKG5hbWUpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgZHN0KHNlbGYpOgogICAgICAgICIiIlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlcwogICAgICAgIGVhc3R3YXJkKSBpZiBEU1QgaXMgaW4gZWZmZWN0LgoKICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvCiAgICAgICAgdGhlIFVUQyBvZmZzZXQgcmV0dXJuZWQgYnkgdXRjb2Zmc2V0KCkgaWYgYXBwbGljYWJsZSwgc28gdGhlcmUncyBubwogICAgICAgIG5lZWQgdG8gY29uc3VsdCBkc3QoKSB1bmxlc3MgeW91J3JlIGludGVyZXN0ZWQgaW4gZGlzcGxheWluZyB0aGUgRFNUCiAgICAgICAgaW5mby4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KE5vbmUpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgZGVmIHJlcGxhY2Uoc2VsZiwgaG91cj1Ob25lLCBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsCiAgICAgICAgICAgICAgICB0emluZm89VHJ1ZSk6CiAgICAgICAgIiIiUmV0dXJuIGEgbmV3IHRpbWUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiIKICAgICAgICBpZiBob3VyIGlzIE5vbmU6CiAgICAgICAgICAgIGhvdXIgPSBzZWxmLmhvdXIKICAgICAgICBpZiBtaW51dGUgaXMgTm9uZToKICAgICAgICAgICAgbWludXRlID0gc2VsZi5taW51dGUKICAgICAgICBpZiBzZWNvbmQgaXMgTm9uZToKICAgICAgICAgICAgc2Vjb25kID0gc2VsZi5zZWNvbmQKICAgICAgICBpZiBtaWNyb3NlY29uZCBpcyBOb25lOgogICAgICAgICAgICBtaWNyb3NlY29uZCA9IHNlbGYubWljcm9zZWNvbmQKICAgICAgICBpZiB0emluZm8gaXMgVHJ1ZToKICAgICAgICAgICAgdHppbmZvID0gc2VsZi50emluZm8KICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICByZXR1cm4gdGltZShob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQsIHR6aW5mbykKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5zZWNvbmQgb3Igc2VsZi5taWNyb3NlY29uZDoKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBvZmZzZXQgPSBzZWxmLnV0Y29mZnNldCgpIG9yIHRpbWVkZWx0YSgwKQogICAgICAgIHJldHVybiB0aW1lZGVsdGEoaG91cnM9c2VsZi5ob3VyLCBtaW51dGVzPXNlbGYubWludXRlKSAhPSBvZmZzZXQKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgdXMyLCB1czMgPSBkaXZtb2Qoc2VsZi5fbWljcm9zZWNvbmQsIDI1NikKICAgICAgICB1czEsIHVzMiA9IGRpdm1vZCh1czIsIDI1NikKICAgICAgICBiYXNlc3RhdGUgPSBieXRlcyhbc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzMSwgdXMyLCB1czNdKQogICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gKGJhc2VzdGF0ZSwpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIChiYXNlc3RhdGUsIHNlbGYuX3R6aW5mbykKCiAgICBkZWYgX19zZXRzdGF0ZShzZWxmLCBzdHJpbmcsIHR6aW5mbyk6CiAgICAgICAgaWYgbGVuKHN0cmluZykgIT0gNiBvciBzdHJpbmdbMF0gPj0gMjQ6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiYW4gaW50ZWdlciBpcyByZXF1aXJlZCIpCiAgICAgICAgKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICB1czEsIHVzMiwgdXMzKSA9IHN0cmluZwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gKCgodXMxIDw8IDgpIHwgdXMyKSA8PCA4KSB8IHVzMwogICAgICAgIGlmIHR6aW5mbyBpcyBOb25lIG9yIGlzaW5zdGFuY2UodHppbmZvLCBfdHppbmZvX2NsYXNzKToKICAgICAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJiYWQgdHppbmZvIHN0YXRlIGFyZyAlciIgJSB0emluZm8pCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuICh0aW1lLCBzZWxmLl9nZXRzdGF0ZSgpKQoKX3RpbWVfY2xhc3MgPSB0aW1lICAjIHNvIGZ1bmN0aW9ucyB3LyBhcmdzIG5hbWVkICJ0aW1lIiBjYW4gZ2V0IGF0IHRoZSBjbGFzcwoKdGltZS5taW4gPSB0aW1lKDAsIDAsIDApCnRpbWUubWF4ID0gdGltZSgyMywgNTksIDU5LCA5OTk5OTkpCnRpbWUucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSkKCnByaW50KCdhJXMnICUgZGlyKGRhdGUpKQpjbGFzcyBkYXRldGltZShkYXRlKToKICAgICIiImRhdGV0aW1lKHllYXIsIG1vbnRoLCBkYXlbLCBob3VyWywgbWludXRlWywgc2Vjb25kWywgbWljcm9zZWNvbmRbLHR6aW5mb11dXV1dKQoKICAgIFRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IGFyZ3VtZW50cyBhcmUgcmVxdWlyZWQuIHR6aW5mbyBtYXkgYmUgTm9uZSwgb3IgYW4KICAgIGluc3RhbmNlIG9mIGEgdHppbmZvIHN1YmNsYXNzLiBUaGUgcmVtYWluaW5nIGFyZ3VtZW50cyBtYXkgYmUgaW50cyBvciBsb25ncy4KICAgICIiIgoKICAgICNmaXhtZSBicnl0aG9uCiAgICAjX19zbG90c19fID0gZGF0ZS5fX3Nsb3RzX18gKyAoCiAgICBfX3Nsb3RzX18gPSAoJ195ZWFyJywgJ19tb250aCcsICdfZGF5JywgCiAgICAgICAgICAgICAgICAgJ19ob3VyJywnX21pbnV0ZScsJ19zZWNvbmQnLCdfbWljcm9zZWNvbmQnLCdfdHppbmZvJykKICAgIGRlZiBfX25ld19fKGNscywgeWVhciwgbW9udGg9Tm9uZSwgZGF5PU5vbmUsIGhvdXI9MCwgbWludXRlPTAsIHNlY29uZD0wLAogICAgICAgICAgICAgICAgbWljcm9zZWNvbmQ9MCwgdHppbmZvPU5vbmUpOgogICAgICAgIHByaW50KCdfX25ld19fICVzJyAlIGRpcihkYXRlKSkKICAgICAgICBwcmludChkYXRlKQogICAgICAgIGlmIGlzaW5zdGFuY2UoeWVhciwgYnl0ZXMpIGFuZCBsZW4oeWVhcikgPT0gMTA6CiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZiA9IGRhdGUuX19uZXdfXyhjbHMsIHllYXJbOjRdKQogICAgICAgICAgICBzZWxmLl9fc2V0c3RhdGUoeWVhciwgbW9udGgpCiAgICAgICAgICAgIHJldHVybiBzZWxmCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKQogICAgICAgIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpCiAgICAgICAgI3ByaW50KGRpcihkYXRlKSkKICAgICAgICBzZWxmID0gZGF0ZS5fX25ld19fKGNscywgeWVhciwgbW9udGgsIGRheSkKICAgICAgICBzZWxmLl9ob3VyID0gaG91cgogICAgICAgIHNlbGYuX21pbnV0ZSA9IG1pbnV0ZQogICAgICAgIHNlbGYuX3NlY29uZCA9IHNlY29uZAogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gbWljcm9zZWNvbmQKICAgICAgICBzZWxmLl90emluZm8gPSB0emluZm8KICAgICAgICByZXR1cm4gc2VsZgoKICAgICMgUmVhZC1vbmx5IGZpZWxkIGFjY2Vzc29ycwogICAgQHByb3BlcnR5CiAgICBkZWYgaG91cihzZWxmKToKICAgICAgICAiIiJob3VyICgwLTIzKSIiIgogICAgICAgIHJldHVybiBzZWxmLl9ob3VyCgogICAgQHByb3BlcnR5CiAgICBkZWYgbWludXRlKHNlbGYpOgogICAgICAgICIiIm1pbnV0ZSAoMC01OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbWludXRlCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2Vjb25kKHNlbGYpOgogICAgICAgICIiInNlY29uZCAoMC01OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fc2Vjb25kCgogICAgQHByb3BlcnR5CiAgICBkZWYgbWljcm9zZWNvbmQoc2VsZik6CiAgICAgICAgIiIibWljcm9zZWNvbmQgKDAtOTk5OTk5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9taWNyb3NlY29uZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHR6aW5mbyhzZWxmKToKICAgICAgICAiIiJ0aW1lem9uZSBpbmZvIG9iamVjdCIiIgogICAgICAgIHJldHVybiBzZWxmLl90emluZm8KCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tdGltZXN0YW1wKGNscywgdCwgdHo9Tm9uZSk6CiAgICAgICAgIiIiQ29uc3RydWN0IGEgZGF0ZXRpbWUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuCgogICAgICAgIEEgdGltZXpvbmUgaW5mbyBvYmplY3QgbWF5IGJlIHBhc3NlZCBpbiBhcyB3ZWxsLgogICAgICAgICIiIgoKICAgICAgICBfY2hlY2tfdHppbmZvX2FyZyh0eikKCiAgICAgICAgY29udmVydGVyID0gX3RpbWUubG9jYWx0aW1lIGlmIHR6IGlzIE5vbmUgZWxzZSBfdGltZS5nbXRpbWUKCiAgICAgICAgdCwgZnJhYyA9IGRpdm1vZCh0LCAxLjApCiAgICAgICAgdXMgPSByb3VuZChmcmFjICogMWU2KQoKICAgICAgICAjIElmIHRpbWVzdGFtcCBpcyBsZXNzIHRoYW4gb25lIG1pY3Jvc2Vjb25kIHNtYWxsZXIgdGhhbiBhCiAgICAgICAgIyBmdWxsIHNlY29uZCwgdXMgY2FuIGJlIHJvdW5kZWQgdXAgdG8gMTAwMDAwMC4gIEluIHRoaXMgY2FzZSwKICAgICAgICAjIHJvbGwgb3ZlciB0byBzZWNvbmRzLCBvdGhlcndpc2UsIFZhbHVlRXJyb3IgaXMgcmFpc2VkCiAgICAgICAgIyBieSB0aGUgY29uc3RydWN0b3IuCiAgICAgICAgaWYgdXMgPT0gMTAwMDAwMDoKICAgICAgICAgICAgdCArPSAxCiAgICAgICAgICAgIHVzID0gMAogICAgICAgIHksIG0sIGQsIGhoLCBtbSwgc3MsIHdlZWtkYXksIGpkYXksIGRzdCA9IGNvbnZlcnRlcih0KQogICAgICAgIHNzID0gbWluKHNzLCA1OSkgICAgIyBjbGFtcCBvdXQgbGVhcCBzZWNvbmRzIGlmIHRoZSBwbGF0Zm9ybSBoYXMgdGhlbQogICAgICAgIHJlc3VsdCA9IGNscyh5LCBtLCBkLCBoaCwgbW0sIHNzLCB1cywgdHopCiAgICAgICAgaWYgdHogaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJlc3VsdCA9IHR6LmZyb211dGMocmVzdWx0KQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiB1dGNmcm9tdGltZXN0YW1wKGNscywgdCk6CiAgICAgICAgIkNvbnN0cnVjdCBhIFVUQyBkYXRldGltZSBmcm9tIGEgUE9TSVggdGltZXN0YW1wIChsaWtlIHRpbWUudGltZSgpKS4iCiAgICAgICAgdCwgZnJhYyA9IGRpdm1vZCh0LCAxLjApCiAgICAgICAgdXMgPSByb3VuZChmcmFjICogMWU2KQoKICAgICAgICAjIElmIHRpbWVzdGFtcCBpcyBsZXNzIHRoYW4gb25lIG1pY3Jvc2Vjb25kIHNtYWxsZXIgdGhhbiBhCiAgICAgICAgIyBmdWxsIHNlY29uZCwgdXMgY2FuIGJlIHJvdW5kZWQgdXAgdG8gMTAwMDAwMC4gIEluIHRoaXMgY2FzZSwKICAgICAgICAjIHJvbGwgb3ZlciB0byBzZWNvbmRzLCBvdGhlcndpc2UsIFZhbHVlRXJyb3IgaXMgcmFpc2VkCiAgICAgICAgIyBieSB0aGUgY29uc3RydWN0b3IuCiAgICAgICAgaWYgdXMgPT0gMTAwMDAwMDoKICAgICAgICAgICAgdCArPSAxCiAgICAgICAgICAgIHVzID0gMAogICAgICAgIHksIG0sIGQsIGhoLCBtbSwgc3MsIHdlZWtkYXksIGpkYXksIGRzdCA9IF90aW1lLmdtdGltZSh0KQogICAgICAgIHNzID0gbWluKHNzLCA1OSkgICAgIyBjbGFtcCBvdXQgbGVhcCBzZWNvbmRzIGlmIHRoZSBwbGF0Zm9ybSBoYXMgdGhlbQogICAgICAgIHJldHVybiBjbHMoeSwgbSwgZCwgaGgsIG1tLCBzcywgdXMpCgogICAgIyBYWFggVGhpcyBpcyBzdXBwb3NlZCB0byBkbyBiZXR0ZXIgdGhhbiB3ZSAqY2FuKiBkbyBieSB1c2luZyB0aW1lLnRpbWUoKSwKICAgICMgWFhYIGlmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBhIG1vcmUgYWNjdXJhdGUgd2F5LiAgVGhlIEMgaW1wbGVtZW50YXRpb24KICAgICMgWFhYIHVzZXMgZ2V0dGltZW9mZGF5IG9uIHBsYXRmb3JtcyB0aGF0IGhhdmUgaXQsIGJ1dCB0aGF0IGlzbid0CiAgICAjIFhYWCBhdmFpbGFibGUgZnJvbSBQeXRob24uICBTbyBub3coKSBtYXkgcmV0dXJuIGRpZmZlcmVudCByZXN1bHRzCiAgICAjIFhYWCBhY3Jvc3MgdGhlIGltcGxlbWVudGF0aW9ucy4KICAgIEBjbGFzc21ldGhvZAogICAgZGVmIG5vdyhjbHMsIHR6PU5vbmUpOgogICAgICAgICJDb25zdHJ1Y3QgYSBkYXRldGltZSBmcm9tIHRpbWUudGltZSgpIGFuZCBvcHRpb25hbCB0aW1lIHpvbmUgaW5mby4iCiAgICAgICAgdCA9IF90aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBjbHMuZnJvbXRpbWVzdGFtcCh0LCB0eikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiB1dGNub3coY2xzKToKICAgICAgICAiQ29uc3RydWN0IGEgVVRDIGRhdGV0aW1lIGZyb20gdGltZS50aW1lKCkuIgogICAgICAgIHQgPSBfdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gY2xzLnV0Y2Zyb210aW1lc3RhbXAodCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBjb21iaW5lKGNscywgZGF0ZSwgdGltZSk6CiAgICAgICAgIkNvbnN0cnVjdCBhIGRhdGV0aW1lIGZyb20gYSBnaXZlbiBkYXRlIGFuZCBhIGdpdmVuIHRpbWUuIgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGRhdGUsIF9kYXRlX2NsYXNzKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJkYXRlIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRlIGluc3RhbmNlIikKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZSh0aW1lLCBfdGltZV9jbGFzcyk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidGltZSBhcmd1bWVudCBtdXN0IGJlIGEgdGltZSBpbnN0YW5jZSIpCiAgICAgICAgcmV0dXJuIGNscyhkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF5LAogICAgICAgICAgICAgICAgICAgdGltZS5ob3VyLCB0aW1lLm1pbnV0ZSwgdGltZS5zZWNvbmQsIHRpbWUubWljcm9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICB0aW1lLnR6aW5mbykKCiAgICBkZWYgdGltZXR1cGxlKHNlbGYpOgogICAgICAgICJSZXR1cm4gbG9jYWwgdGltZSB0dXBsZSBjb21wYXRpYmxlIHdpdGggdGltZS5sb2NhbHRpbWUoKS4iCiAgICAgICAgZHN0ID0gc2VsZi5kc3QoKQogICAgICAgIGlmIGRzdCBpcyBOb25lOgogICAgICAgICAgICBkc3QgPSAtMQogICAgICAgIGVsaWYgZHN0OgogICAgICAgICAgICBkc3QgPSAxCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZHN0ID0gMAogICAgICAgIHJldHVybiBfYnVpbGRfc3RydWN0X3RpbWUoc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaG91ciwgc2VsZi5taW51dGUsIHNlbGYuc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0KQoKICAgIGRlZiB1dGN0aW1ldHVwbGUoc2VsZik6CiAgICAgICAgIlJldHVybiBVVEMgdGltZSB0dXBsZSBjb21wYXRpYmxlIHdpdGggdGltZS5nbXRpbWUoKS4iCiAgICAgICAgb2Zmc2V0ID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgIGlmIG9mZnNldDoKICAgICAgICAgICAgc2VsZiAtPSBvZmZzZXQKICAgICAgICB5LCBtLCBkID0gc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheQogICAgICAgIGhoLCBtbSwgc3MgPSBzZWxmLmhvdXIsIHNlbGYubWludXRlLCBzZWxmLnNlY29uZAogICAgICAgIHJldHVybiBfYnVpbGRfc3RydWN0X3RpbWUoeSwgbSwgZCwgaGgsIG1tLCBzcywgMCkKCiAgICBkZWYgZGF0ZShzZWxmKToKICAgICAgICAiUmV0dXJuIHRoZSBkYXRlIHBhcnQuIgogICAgICAgIHJldHVybiBkYXRlKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCgogICAgZGVmIHRpbWUoc2VsZik6CiAgICAgICAgIlJldHVybiB0aGUgdGltZSBwYXJ0LCB3aXRoIHR6aW5mbyBOb25lLiIKICAgICAgICByZXR1cm4gdGltZShzZWxmLmhvdXIsIHNlbGYubWludXRlLCBzZWxmLnNlY29uZCwgc2VsZi5taWNyb3NlY29uZCkKCiAgICBkZWYgdGltZXR6KHNlbGYpOgogICAgICAgICJSZXR1cm4gdGhlIHRpbWUgcGFydCwgd2l0aCBzYW1lIHR6aW5mby4iCiAgICAgICAgcmV0dXJuIHRpbWUoc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHppbmZvKQoKICAgIGRlZiByZXBsYWNlKHNlbGYsIHllYXI9Tm9uZSwgbW9udGg9Tm9uZSwgZGF5PU5vbmUsIGhvdXI9Tm9uZSwKICAgICAgICAgICAgICAgIG1pbnV0ZT1Ob25lLCBzZWNvbmQ9Tm9uZSwgbWljcm9zZWNvbmQ9Tm9uZSwgdHppbmZvPVRydWUpOgogICAgICAgICIiIlJldHVybiBhIG5ldyBkYXRldGltZSB3aXRoIG5ldyB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGRzLiIiIgogICAgICAgIGlmIHllYXIgaXMgTm9uZToKICAgICAgICAgICAgeWVhciA9IHNlbGYueWVhcgogICAgICAgIGlmIG1vbnRoIGlzIE5vbmU6CiAgICAgICAgICAgIG1vbnRoID0gc2VsZi5tb250aAogICAgICAgIGlmIGRheSBpcyBOb25lOgogICAgICAgICAgICBkYXkgPSBzZWxmLmRheQogICAgICAgIGlmIGhvdXIgaXMgTm9uZToKICAgICAgICAgICAgaG91ciA9IHNlbGYuaG91cgogICAgICAgIGlmIG1pbnV0ZSBpcyBOb25lOgogICAgICAgICAgICBtaW51dGUgPSBzZWxmLm1pbnV0ZQogICAgICAgIGlmIHNlY29uZCBpcyBOb25lOgogICAgICAgICAgICBzZWNvbmQgPSBzZWxmLnNlY29uZAogICAgICAgIGlmIG1pY3Jvc2Vjb25kIGlzIE5vbmU6CiAgICAgICAgICAgIG1pY3Jvc2Vjb25kID0gc2VsZi5taWNyb3NlY29uZAogICAgICAgIGlmIHR6aW5mbyBpcyBUcnVlOgogICAgICAgICAgICB0emluZm8gPSBzZWxmLnR6aW5mbwogICAgICAgIF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KQogICAgICAgIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKQogICAgICAgIHJldHVybiBkYXRldGltZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZCwgdHppbmZvKQoKICAgIGRlZiBhc3RpbWV6b25lKHNlbGYsIHR6KToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZSh0eiwgdHppbmZvKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0eiBhcmd1bWVudCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHR6aW5mbyIpCgogICAgICAgIG15dHogPSBzZWxmLnR6aW5mbwogICAgICAgIGlmIG15dHogaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYXN0aW1lem9uZSgpIHJlcXVpcmVzIGFuIGF3YXJlIGRhdGV0aW1lIikKCiAgICAgICAgaWYgdHogaXMgbXl0ejoKICAgICAgICAgICAgcmV0dXJuIHNlbGYKCiAgICAgICAgIyBDb252ZXJ0IHNlbGYgdG8gVVRDLCBhbmQgYXR0YWNoIHRoZSBuZXcgdGltZSB6b25lIG9iamVjdC4KICAgICAgICBteW9mZnNldCA9IHNlbGYudXRjb2Zmc2V0KCkKICAgICAgICBpZiBteW9mZnNldCBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJhc3RpbWV6b25lKCkgcmVxdWlyZXMgYW4gYXdhcmUgZGF0ZXRpbWUiKQogICAgICAgIHV0YyA9IChzZWxmIC0gbXlvZmZzZXQpLnJlcGxhY2UodHppbmZvPXR6KQoKICAgICAgICAjIENvbnZlcnQgZnJvbSBVVEMgdG8gdHoncyBsb2NhbCB0aW1lLgogICAgICAgIHJldHVybiB0ei5mcm9tdXRjKHV0YykKCiAgICAjIFdheXMgdG8gcHJvZHVjZSBhIHN0cmluZy4KCiAgICBkZWYgY3RpbWUoc2VsZik6CiAgICAgICAgIlJldHVybiBjdGltZSgpIHN0eWxlIHN0cmluZy4iCiAgICAgICAgd2Vla2RheSA9IHNlbGYudG9vcmRpbmFsKCkgJSA3IG9yIDcKICAgICAgICByZXR1cm4gIiVzICVzICUyZCAlMDJkOiUwMmQ6JTAyZCAlMDRkIiAlICgKICAgICAgICAgICAgX0RBWU5BTUVTW3dlZWtkYXldLAogICAgICAgICAgICBfTU9OVEhOQU1FU1tzZWxmLl9tb250aF0sCiAgICAgICAgICAgIHNlbGYuX2RheSwKICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgIHNlbGYuX3llYXIpCgogICAgZGVmIGlzb2Zvcm1hdChzZWxmLCBzZXA9J1QnKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWUgZm9ybWF0dGVkIGFjY29yZGluZyB0byBJU08uCgogICAgICAgIFRoaXMgaXMgJ1lZWVktTU0tREQgSEg6TU06U1MubW1tbW1tJywgb3IgJ1lZWVktTU0tREQgSEg6TU06U1MnIGlmCiAgICAgICAgc2VsZi5taWNyb3NlY29uZCA9PSAwLgoKICAgICAgICBJZiBzZWxmLnR6aW5mbyBpcyBub3QgTm9uZSwgdGhlIFVUQyBvZmZzZXQgaXMgYWxzbyBhdHRhY2hlZCwgZ2l2aW5nCiAgICAgICAgJ1lZWVktTU0tREQgSEg6TU06U1MubW1tbW1tK0hIOk1NJyBvciAnWVlZWS1NTS1ERCBISDpNTTpTUytISDpNTScuCgogICAgICAgIE9wdGlvbmFsIGFyZ3VtZW50IHNlcCBzcGVjaWZpZXMgdGhlIHNlcGFyYXRvciBiZXR3ZWVuIGRhdGUgYW5kCiAgICAgICAgdGltZSwgZGVmYXVsdCAnVCcuCiAgICAgICAgIiIiCiAgICAgICAgcyA9ICgiJTA0ZC0lMDJkLSUwMmQlYyIgJSAoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcCkgKwogICAgICAgICAgICAgICAgX2Zvcm1hdF90aW1lKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKSkKICAgICAgICBvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgb2ZmIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBvZmYuZGF5cyA8IDA6CiAgICAgICAgICAgICAgICBzaWduID0gIi0iCiAgICAgICAgICAgICAgICBvZmYgPSAtb2ZmCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzaWduID0gIisiCiAgICAgICAgICAgIGhoLCBtbSA9IGRpdm1vZChvZmYsIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICAgICAgYXNzZXJ0IG5vdCBtbSAlIHRpbWVkZWx0YShtaW51dGVzPTEpLCAid2hvbGUgbWludXRlIgogICAgICAgICAgICBtbSAvLz0gdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICAgICAgcyArPSAiJXMlMDJkOiUwMmQiICUgKHNpZ24sIGhoLCBtbSkKICAgICAgICByZXR1cm4gcwoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICAiIiJDb252ZXJ0IHRvIGZvcm1hbCBzdHJpbmcsIGZvciByZXByKCkuIiIiCiAgICAgICAgTCA9IFtzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LCAjIFRoZXNlIGFyZSBuZXZlciB6ZXJvCiAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwgc2VsZi5fbWljcm9zZWNvbmRdCiAgICAgICAgaWYgTFstMV0gPT0gMDoKICAgICAgICAgICAgZGVsIExbLTFdCiAgICAgICAgaWYgTFstMV0gPT0gMDoKICAgICAgICAgICAgZGVsIExbLTFdCiAgICAgICAgcyA9ICIsICIuam9pbihtYXAoc3RyLCBMKSkKICAgICAgICBzID0gIiVzKCVzKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywgcykKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGFzc2VydCBzWy0xOl0gPT0gIikiCiAgICAgICAgICAgIHMgPSBzWzotMV0gKyAiLCB0emluZm89JXIiICUgc2VsZi5fdHppbmZvICsgIikiCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICAiQ29udmVydCB0byBzdHJpbmcsIGZvciBzdHIoKS4iCiAgICAgICAgcmV0dXJuIHNlbGYuaXNvZm9ybWF0KHNlcD0nICcpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgc3RycHRpbWUoY2xzLCBkYXRlX3N0cmluZywgZm9ybWF0KToKICAgICAgICAnc3RyaW5nLCBmb3JtYXQgLT4gbmV3IGRhdGV0aW1lIHBhcnNlZCBmcm9tIGEgc3RyaW5nIChsaWtlIHRpbWUuc3RycHRpbWUoKSkuJwogICAgICAgIGltcG9ydCBfc3RycHRpbWUKICAgICAgICByZXR1cm4gX3N0cnB0aW1lLl9zdHJwdGltZV9kYXRldGltZShjbHMsIGRhdGVfc3RyaW5nLCBmb3JtYXQpCgogICAgZGVmIHV0Y29mZnNldChzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaW51dGVzIGVhc3Qgb2YgVVRDIChuZWdhdGl2ZSB3ZXN0IG9mCiAgICAgICAgVVRDKS4iIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8udXRjb2Zmc2V0KHNlbGYpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoInV0Y29mZnNldCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgZGVmIHR6bmFtZShzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWV6b25lIG5hbWUuCgogICAgICAgIE5vdGUgdGhhdCB0aGUgbmFtZSBpcyAxMDAlIGluZm9ybWF0aW9uYWwgLS0gdGhlcmUncyBubyByZXF1aXJlbWVudCB0aGF0CiAgICAgICAgaXQgbWVhbiBhbnl0aGluZyBpbiBwYXJ0aWN1bGFyLiBGb3IgZXhhbXBsZSwgIkdNVCIsICJVVEMiLCAiLTUwMCIsCiAgICAgICAgIi01OjAwIiwgIkVEVCIsICJVUy9FYXN0ZXJuIiwgIkFtZXJpY2EvTmV3IFlvcmsiIGFyZSBhbGwgdmFsaWQgcmVwbGllcy4KICAgICAgICAiIiIKICAgICAgICBuYW1lID0gX2NhbGxfdHppbmZvX21ldGhvZChzZWxmLl90emluZm8sICJ0em5hbWUiLCBzZWxmKQogICAgICAgIF9jaGVja190em5hbWUobmFtZSkKICAgICAgICByZXR1cm4gbmFtZQoKICAgIGRlZiBkc3Qoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIDAgaWYgRFNUIGlzIG5vdCBpbiBlZmZlY3QsIG9yIHRoZSBEU1Qgb2Zmc2V0IChpbiBtaW51dGVzCiAgICAgICAgZWFzdHdhcmQpIGlmIERTVCBpcyBpbiBlZmZlY3QuCgogICAgICAgIFRoaXMgaXMgcHVyZWx5IGluZm9ybWF0aW9uYWw7IHRoZSBEU1Qgb2Zmc2V0IGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8KICAgICAgICB0aGUgVVRDIG9mZnNldCByZXR1cm5lZCBieSB1dGNvZmZzZXQoKSBpZiBhcHBsaWNhYmxlLCBzbyB0aGVyZSdzIG5vCiAgICAgICAgbmVlZCB0byBjb25zdWx0IGRzdCgpIHVubGVzcyB5b3UncmUgaW50ZXJlc3RlZCBpbiBkaXNwbGF5aW5nIHRoZSBEU1QKICAgICAgICBpbmZvLgogICAgICAgICIiIgogICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby5kc3Qoc2VsZikKICAgICAgICBfY2hlY2tfdXRjX29mZnNldCgiZHN0Iiwgb2Zmc2V0KQogICAgICAgIHJldHVybiBvZmZzZXQKCiAgICAjIENvbXBhcmlzb25zIG9mIGRhdGV0aW1lIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRldGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID09IDAKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSAhPSAwCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRldGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDwgMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+PSAwCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRldGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCBkYXRldGltZSkKICAgICAgICBteXR6ID0gc2VsZi5fdHppbmZvCiAgICAgICAgb3R0eiA9IG90aGVyLl90emluZm8KICAgICAgICBteW9mZiA9IG90b2ZmID0gTm9uZQoKICAgICAgICBpZiBteXR6IGlzIG90dHo6CiAgICAgICAgICAgIGJhc2VfY29tcGFyZSA9IFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBteXR6IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgICAgIGlmIG90dHogaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBvdG9mZiA9IG90aGVyLnV0Y29mZnNldCgpCiAgICAgICAgICAgIGJhc2VfY29tcGFyZSA9IG15b2ZmID09IG90b2ZmCgogICAgICAgIGlmIGJhc2VfY29tcGFyZToKICAgICAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAgICAgI3JldHVybiBfY21wKChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LAogICAgICAgICAgICAjICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAjICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKSwKICAgICAgICAgICAgIyAgICAgICAgICAgKG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXksCiAgICAgICAgICAgICMgICAgICAgICAgICBvdGhlci5faG91ciwgb3RoZXIuX21pbnV0ZSwgb3RoZXIuX3NlY29uZCwKICAgICAgICAgICAgIyAgICAgICAgICAgIG90aGVyLl9taWNyb3NlY29uZCkpCiAgICAgICAgICAgIHJldHVybiBfdHVwbGVfY21wKChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5fbWljcm9zZWNvbmQpKQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29tcGFyZSBuYWl2ZSBhbmQgYXdhcmUgZGF0ZXRpbWVzIikKICAgICAgICAjIFhYWCBXaGF0IGZvbGxvd3MgY291bGQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5Li4uCiAgICAgICAgZGlmZiA9IHNlbGYgLSBvdGhlciAgICAgIyB0aGlzIHdpbGwgdGFrZSBvZmZzZXRzIGludG8gYWNjb3VudAogICAgICAgIGlmIGRpZmYuZGF5cyA8IDA6CiAgICAgICAgICAgIHJldHVybiAtMQogICAgICAgIHJldHVybiBkaWZmIGFuZCAxIG9yIDAKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIkFkZCBhIGRhdGV0aW1lIGFuZCBhIHRpbWVkZWx0YS4iCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGRlbHRhID0gdGltZWRlbHRhKHNlbGYudG9vcmRpbmFsKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cnM9c2VsZi5faG91ciwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzPXNlbGYuX21pbnV0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzPXNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZHM9c2VsZi5fbWljcm9zZWNvbmQpCiAgICAgICAgZGVsdGEgKz0gb3RoZXIKICAgICAgICBob3VyLCByZW0gPSBkaXZtb2QoZGVsdGEuc2Vjb25kcywgMzYwMCkKICAgICAgICBtaW51dGUsIHNlY29uZCA9IGRpdm1vZChyZW0sIDYwKQogICAgICAgIGlmIDAgPCBkZWx0YS5kYXlzIDw9IF9NQVhPUkRJTkFMOgogICAgICAgICAgICByZXR1cm4gZGF0ZXRpbWUuY29tYmluZShkYXRlLmZyb21vcmRpbmFsKGRlbHRhLmRheXMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhLm1pY3Jvc2Vjb25kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0emluZm89c2VsZi5fdHppbmZvKSkKICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJyZXN1bHQgb3V0IG9mIHJhbmdlIikKCiAgICBfX3JhZGRfXyA9IF9fYWRkX18KCiAgICBkZWYgX19zdWJfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIlN1YnRyYWN0IHR3byBkYXRldGltZXMsIG9yIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYgKyAtb3RoZXIKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgICAgIGRheXMxID0gc2VsZi50b29yZGluYWwoKQogICAgICAgIGRheXMyID0gb3RoZXIudG9vcmRpbmFsKCkKICAgICAgICBzZWNzMSA9IHNlbGYuX3NlY29uZCArIHNlbGYuX21pbnV0ZSAqIDYwICsgc2VsZi5faG91ciAqIDM2MDAKICAgICAgICBzZWNzMiA9IG90aGVyLl9zZWNvbmQgKyBvdGhlci5fbWludXRlICogNjAgKyBvdGhlci5faG91ciAqIDM2MDAKICAgICAgICBiYXNlID0gdGltZWRlbHRhKGRheXMxIC0gZGF5czIsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzMSAtIHNlY3MyLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgLSBvdGhlci5fbWljcm9zZWNvbmQpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG90aGVyLl90emluZm86CiAgICAgICAgICAgIHJldHVybiBiYXNlCiAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgb3RvZmYgPSBvdGhlci51dGNvZmZzZXQoKQogICAgICAgIGlmIG15b2ZmID09IG90b2ZmOgogICAgICAgICAgICByZXR1cm4gYmFzZQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgbWl4IG5haXZlIGFuZCB0aW1lem9uZS1hd2FyZSB0aW1lIikKICAgICAgICByZXR1cm4gYmFzZSArIG90b2ZmIC0gbXlvZmYKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgdHpvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgdHpvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIGhhc2goc2VsZi5fZ2V0c3RhdGUoKVswXSkKICAgICAgICBkYXlzID0gX3ltZDJvcmQoc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheSkKICAgICAgICBzZWNvbmRzID0gc2VsZi5ob3VyICogMzYwMCArIHNlbGYubWludXRlICogNjAgKyBzZWxmLnNlY29uZAogICAgICAgIHJldHVybiBoYXNoKHRpbWVkZWx0YShkYXlzLCBzZWNvbmRzLCBzZWxmLm1pY3Jvc2Vjb25kKSAtIHR6b2ZmKQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB5aGksIHlsbyA9IGRpdm1vZChzZWxmLl95ZWFyLCAyNTYpCiAgICAgICAgdXMyLCB1czMgPSBkaXZtb2Qoc2VsZi5fbWljcm9zZWNvbmQsIDI1NikKICAgICAgICB1czEsIHVzMiA9IGRpdm1vZCh1czIsIDI1NikKICAgICAgICBiYXNlc3RhdGUgPSBieXRlcyhbeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1czEsIHVzMiwgdXMzXSkKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChiYXNlc3RhdGUsKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAoYmFzZXN0YXRlLCBzZWxmLl90emluZm8pCgogICAgZGVmIF9fc2V0c3RhdGUoc2VsZiwgc3RyaW5nLCB0emluZm8pOgogICAgICAgICh5aGksIHlsbywgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwgc2VsZi5faG91ciwKICAgICAgICAgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsIHVzMSwgdXMyLCB1czMpID0gc3RyaW5nCiAgICAgICAgc2VsZi5feWVhciA9IHloaSAqIDI1NiArIHlsbwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gKCgodXMxIDw8IDgpIHwgdXMyKSA8PCA4KSB8IHVzMwogICAgICAgIGlmIHR6aW5mbyBpcyBOb25lIG9yIGlzaW5zdGFuY2UodHppbmZvLCBfdHppbmZvX2NsYXNzKToKICAgICAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJiYWQgdHppbmZvIHN0YXRlIGFyZyAlciIgJSB0emluZm8pCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCiNmaXhtZSBicnl0aG9uCiNkYXRldGltZS5taW4gPSBkYXRldGltZSgxLCAxLCAxKQojZGF0ZXRpbWUubWF4ID0gZGF0ZXRpbWUoOTk5OSwgMTIsIDMxLCAyMywgNTksIDU5LCA5OTk5OTkpCiNkYXRldGltZS5yZXNvbHV0aW9uID0gdGltZWRlbHRhKG1pY3Jvc2Vjb25kcz0xKQoKCmRlZiBfaXNvd2VlazFtb25kYXkoeWVhcik6CiAgICAjIEhlbHBlciB0byBjYWxjdWxhdGUgdGhlIGRheSBudW1iZXIgb2YgdGhlIE1vbmRheSBzdGFydGluZyB3ZWVrIDEKICAgICMgWFhYIFRoaXMgY291bGQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5CiAgICBUSFVSU0RBWSA9IDMKICAgIGZpcnN0ZGF5ID0gX3ltZDJvcmQoeWVhciwgMSwgMSkKICAgIGZpcnN0d2Vla2RheSA9IChmaXJzdGRheSArIDYpICUgNyAjIFNlZSB3ZWVrZGF5KCkgYWJvdmUKICAgIHdlZWsxbW9uZGF5ID0gZmlyc3RkYXkgLSBmaXJzdHdlZWtkYXkKICAgIGlmIGZpcnN0d2Vla2RheSA+IFRIVVJTREFZOgogICAgICAgIHdlZWsxbW9uZGF5ICs9IDcKICAgIHJldHVybiB3ZWVrMW1vbmRheQoKCmNsYXNzIHRpbWV6b25lKHR6aW5mbyk6CiAgICAjX19zbG90c19fID0gJ19vZmZzZXQnLCAnX25hbWUnCgogICAgIyBTZW50aW5lbCB2YWx1ZSB0byBkaXNhbGxvdyBOb25lCiAgICBfT21pdHRlZCA9IG9iamVjdCgpCiAgICAjZGVmIF9fbmV3X18oY2xzLCBvZmZzZXQsIG5hbWU9X09taXR0ZWQpOgogICAgZGVmIF9fbmV3X18oY2xzLCBvZmZzZXQsIG5hbWU9Tm9uZSk6CiAgICAgICAgaWYgbmFtZSBpcyBOb25lOgogICAgICAgICAgIG5hbWU9X09taXR0ZWQKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvZmZzZXQsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigib2Zmc2V0IG11c3QgYmUgYSB0aW1lZGVsdGEiKQogICAgICAgIGlmIG5hbWUgaXMgY2xzLl9PbWl0dGVkOgogICAgICAgICAgICBpZiBub3Qgb2Zmc2V0OgogICAgICAgICAgICAgICAgcmV0dXJuIGNscy51dGMKICAgICAgICAgICAgbmFtZSA9IE5vbmUKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG5hbWUsIHN0cik6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigibmFtZSBtdXN0IGJlIGEgc3RyaW5nIikKICAgICAgICAjaWYgbm90IGNscy5fbWlub2Zmc2V0IDw9IG9mZnNldCA8PSBjbHMuX21heG9mZnNldDoKICAgICAgICAjICAgIHJhaXNlIFZhbHVlRXJyb3IoIm9mZnNldCBtdXN0IGJlIGEgdGltZWRlbHRhIiArIFwKICAgICAgICAjICAgICAgICAgICAgICAgICAgICAgIiBzdHJpY3RseSBiZXR3ZWVuIC10aW1lZGVsdGEoaG91cnM9MjQpIGFuZCIgKyBcCiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgICIgdGltZWRlbHRhKGhvdXJzPTI0KS4iKQogICAgICAgICNpZiAob2Zmc2V0Lm1pY3Jvc2Vjb25kcyAhPSAwIG9yIG9mZnNldC5zZWNvbmRzICUgNjAgIT0gMCk6CiAgICAgICAgIyAgICByYWlzZSBWYWx1ZUVycm9yKCJvZmZzZXQgbXVzdCBiZSBhIHRpbWVkZWx0YSIgKyBcCiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgICIgcmVwcmVzZW50aW5nIGEgd2hvbGUgbnVtYmVyIG9mIG1pbnV0ZXMiKQogICAgICAgICNyZXR1cm4gY2xzLl9jcmVhdGUob2Zmc2V0LCBuYW1lKQoKICAgICNAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlKGNscywgb2Zmc2V0LCBuYW1lPU5vbmUpOgogICAgICAgIHNlbGYgPSB0emluZm8uX19uZXdfXyhjbHMpCiAgICAgICAgc2VsZi5fb2Zmc2V0ID0gb2Zmc2V0CiAgICAgICAgc2VsZi5fbmFtZSA9IG5hbWUKICAgICAgICByZXR1cm4gc2VsZgoKCiAgICBkZWYgX19nZXRpbml0YXJnc19fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX25hbWUgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChzZWxmLl9vZmZzZXQsKQogICAgICAgIHJldHVybiAoc2VsZi5fb2Zmc2V0LCBzZWxmLl9uYW1lKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIHR5cGUob3RoZXIpICE9IHRpbWV6b25lOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gc2VsZi5fb2Zmc2V0ID09IG90aGVyLl9vZmZzZXQKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGhhc2goc2VsZi5fb2Zmc2V0KQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICBpZiBzZWxmIGlzIHNlbGYudXRjOgogICAgICAgICAgICByZXR1cm4gJ2RhdGV0aW1lLnRpbWV6b25lLnV0YycKICAgICAgICAjaWYgc2VsZi5fbmFtZSBpcyBOb25lOgogICAgICAgICMgICAgcmV0dXJuICIlcyglcikiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHNlbGYuX29mZnNldCkKICAgICAgICAjcmV0dXJuICIlcyglciwgJXIpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBzZWxmLl9vZmZzZXQsIHNlbGYuX25hbWUpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYudHpuYW1lKE5vbmUpCgogICAgZGVmIHV0Y29mZnNldChzZWxmLCBkdCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpIG9yIGR0IGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9vZmZzZXQKICAgICAgICAjcmFpc2UgVHlwZUVycm9yKCJ1dGNvZmZzZXQoKSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZXRpbWUgaW5zdGFuY2UiICsgXAogICAgICAgICMgICAgICAgICAgICAgICAgIiBvciBOb25lIikKCiAgICBkZWYgdHpuYW1lKHNlbGYsIGR0KToKICAgICAgICBpZiBpc2luc3RhbmNlKGR0LCBkYXRldGltZSkgb3IgZHQgaXMgTm9uZToKICAgICAgICAgICAgaWYgc2VsZi5fbmFtZSBpcyBOb25lOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX25hbWVfZnJvbV9vZmZzZXQoc2VsZi5fb2Zmc2V0KQogICAgICAgICAgICByZXR1cm4gc2VsZi5fbmFtZQogICAgICAgICNyYWlzZSBUeXBlRXJyb3IoInR6bmFtZSgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIgKyBcCiAgICAgICAgIyAgICAgICAgICAgICAgICAiIG9yIE5vbmUiKQoKICAgIGRlZiBkc3Qoc2VsZiwgZHQpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoZHQsIGRhdGV0aW1lKSBvciBkdCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgICNyYWlzZSBUeXBlRXJyb3IoImRzdCgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIgKyBcCiAgICAgICAgIyAgICAgICAgICAgICAgICAiIG9yIE5vbmUiKQoKICAgIGRlZiBmcm9tdXRjKHNlbGYsIGR0KToKICAgICAgICBpZiBpc2luc3RhbmNlKGR0LCBkYXRldGltZSk6CiAgICAgICAgICAgICNpZiBkdC50emluZm8gaXMgbm90IHNlbGY6CiAgICAgICAgICAgICMgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YzogZHQudHppbmZvICIgKyBcCiAgICAgICAgICAgICMgICAgICAgICAgICAgICAgICAgICAiaXMgbm90IHNlbGYiKQogICAgICAgICAgICByZXR1cm4gZHQgKyBzZWxmLl9vZmZzZXQKICAgICAgICAjcmFpc2UgVHlwZUVycm9yKCJmcm9tdXRjKCkgYXJndW1lbnQgbXVzdCBiZSBhIGRhdGV0aW1lIGluc3RhbmNlIiArIFwKICAgICAgICAjICAgICAgICAgICAgICAgICIgb3IgTm9uZSIpCgojICAgIF9tYXhvZmZzZXQgPSB0aW1lZGVsdGEoaG91cnM9MjMsIG1pbnV0ZXM9NTkpCiMgICAgX21pbm9mZnNldCA9IC1fbWF4b2Zmc2V0CgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9uYW1lX2Zyb21fb2Zmc2V0KGRlbHRhKToKICAgICAgICBpZiBkZWx0YSA8IHRpbWVkZWx0YSgwKToKICAgICAgICAgICAgc2lnbiA9ICctJwogICAgICAgICAgICBkZWx0YSA9IC1kZWx0YQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNpZ24gPSAnKycKICAgICAgICBob3VycywgcmVzdCA9IGRpdm1vZChkZWx0YSwgdGltZWRlbHRhKGhvdXJzPTEpKQogICAgICAgIG1pbnV0ZXMgPSByZXN0IC8gdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICAjcmV0dXJuICdVVEN7fXs6MDJkfTp7OjAyZH0nLmZvcm1hdChzaWduLCBob3VycywgbWludXRlcykKCiNmaXhtZSBicnl0aG9uCiN0aW1lem9uZS51dGMgPSB0aW1lem9uZS5fY3JlYXRlKHRpbWVkZWx0YSgwKSkKI3RpbWV6b25lLm1pbiA9IHRpbWV6b25lLl9jcmVhdGUodGltZXpvbmUuX21pbm9mZnNldCkKI3RpbWV6b25lLm1heCA9IHRpbWV6b25lLl9jcmVhdGUodGltZXpvbmUuX21heG9mZnNldCkKCgo=',
'/Lib/itertools.py':'aW1wb3J0IG9wZXJhdG9yCgpjbGFzcyBhY2N1bXVsYXRlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGl0ZXJhYmxlLCBmdW5jID0gb3BlcmF0b3IuYWRkKToKICAgICAgICBzZWxmLml0ID0gaXRlcihpdGVyYWJsZSkKICAgICAgICBzZWxmLl90b3RhbCA9IE5vbmUKICAgICAgICBzZWxmLmZ1bmMgPSBmdW5jCiAgICAgICAgCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgaWYgbm90IHNlbGYuX3RvdGFsOgogICAgICAgICAgICBzZWxmLl90b3RhbCA9IG5leHQoc2VsZi5pdCkKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3RvdGFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZWxlbWVudCA9IG5leHQoc2VsZi5pdCkKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5fdG90YWwgPSBzZWxmLmZ1bmMoc2VsZi5fdG90YWwsIGVsZW1lbnQpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidW5zdXBwb3J0ZWQgb3BlcmFuZCB0eXBlIikKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3RvdGFsCiAgICAgICAgICAgICAgICAKIyMgQWRhcHRlZCBmcm9tOgojIyBodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTM0CmNsYXNzIGNoYWluOgogICAgZGVmIF9faW5pdF9fKHNlbGYsICppdGVyYWJsZXMpOgogICAgICAgIHNlbGYuX2l0ZXJhYmxlc19pdGVyID0gaXRlcihtYXAoaXRlciwgaXRlcmFibGVzKSkKICAgICAgICAjIGxpdHRsZSB0cmljayBmb3IgdGhlIGZpcnN0IGNoYWluLl9fbmV4dF9fKCkgY2FsbAogICAgICAgIHNlbGYuX2N1cl9pdGVyYWJsZV9pdGVyID0gaXRlcihbXSkKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKICAgIAogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KHNlbGYuX2N1cl9pdGVyYWJsZV9pdGVyKQogICAgICAgICAgICBleGNlcHQgU3RvcEl0ZXJhdGlvbjoKICAgICAgICAgICAgICAgIHNlbGYuX2N1cl9pdGVyYWJsZV9pdGVyID0gbmV4dChzZWxmLl9pdGVyYWJsZXNfaXRlcikKICAgIAogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9pdGVyYWJsZShjbHMsIGl0ZXJhYmxlKToKICAgICAgICBmb3IgaXQgaW4gaXRlcmFibGU6CiAgICAgICAgICAgIGZvciBlbGVtZW50IGluIGl0OgogICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudAogICAgICAgICAgICAgICAgCmNsYXNzIGNvbWJpbmF0aW9uczoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpdGVyYWJsZSwgcik6CiAgICAgICAgc2VsZi5wb29sID0gdHVwbGUoaXRlcmFibGUpCiAgICAgICAgc2VsZi5uID0gbGVuKHNlbGYucG9vbCkKICAgICAgICBzZWxmLnIgPSByCiAgICAgICAgc2VsZi5pbmRpY2VzID0gbGlzdChyYW5nZShzZWxmLnIpKQogICAgICAgIHNlbGYuemVybyA9IEZhbHNlCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuciA+IHNlbGYubjoKICAgICAgICAgICAgcmFpc2UgU3RvcEl0ZXJhdGlvbgogICAgICAgIGlmIG5vdCBzZWxmLnplcm86CiAgICAgICAgICAgIHNlbGYuemVybyA9IFRydWUKICAgICAgICAgICAgcmV0dXJuIHR1cGxlKHNlbGYucG9vbFtpXSBmb3IgaSBpbiBzZWxmLmluZGljZXMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmV2ZXJzZWQocmFuZ2Uoc2VsZi5yKSk6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5pbmRpY2VzW2ldICE9IGkgKyBzZWxmLm4gLSBzZWxmLnI6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBzZWxmLmluZGljZXNbaV0gKz0gMQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoaSsxLCBzZWxmLnIpOgogICAgICAgICAgICAgICAgICAgIHNlbGYuaW5kaWNlc1tqXSA9IHNlbGYuaW5kaWNlc1tqLTFdICsgMQogICAgICAgICAgICAgICAgcmV0dXJuIHR1cGxlKHNlbGYucG9vbFtpXSBmb3IgaSBpbiBzZWxmLmluZGljZXMpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24KICAgICAgICAgICAgICAgIApjbGFzcyBjb21iaW5hdGlvbnNfd2l0aF9yZXBsYWNlbWVudDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpdGVyYWJsZSwgcik6CiAgICAgICAgc2VsZi5wb29sID0gdHVwbGUoaXRlcmFibGUpCiAgICAgICAgc2VsZi5uID0gbGVuKHNlbGYucG9vbCkKICAgICAgICBzZWxmLnIgPSByCiAgICAgICAgc2VsZi5pbmRpY2VzID0gWzBdICogc2VsZi5yCiAgICAgICAgc2VsZi56ZXJvID0gRmFsc2UKICAgICAgICAKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgogICAgCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgaWYgbm90IHNlbGYubiBhbmQgc2VsZi5yOgogICAgICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCiAgICAgICAgaWYgbm90IHNlbGYuemVybzoKICAgICAgICAgICAgc2VsZi56ZXJvID0gVHJ1ZQogICAgICAgICAgICByZXR1cm4gdHVwbGUoc2VsZi5wb29sW2ldIGZvciBpIGluIHNlbGYuaW5kaWNlcykKICAgICAgICBlbHNlOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgaSBpbiByZXZlcnNlZChyYW5nZShzZWxmLnIpKToKICAgICAgICAgICAgICAgICAgICBpZiBzZWxmLmluZGljZXNbaV0gIT0gc2VsZi5uIC0gMToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHNlbGYuaW5kaWNlc1tpOl0gPSBbc2VsZi5pbmRpY2VzW2ldICsgMV0gKiAoc2VsZi5yIC0gaSkKICAgICAgICAgICAgICAgIHJldHVybiB0dXBsZShzZWxmLnBvb2xbaV0gZm9yIGkgaW4gc2VsZi5pbmRpY2VzKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCiAgICAgICAgICAgICAgICAKIyMgTGl0ZXJhbGx5IGNvcGllZCBmcm9tCiMjaHR0cHM6Ly9iaXRidWNrZXQub3JnL3B5cHkvcHlweS9zcmMvYzFhYTc0YzA2ZTg2L2xpYl9weXB5L2l0ZXJ0b29scy5weSNjbC02MyAKY2xhc3MgY29tcHJlc3M6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZGF0YSwgc2VsZWN0b3JzKToKICAgICAgICBzZWxmLmRhdGEgPSBpdGVyKGRhdGEpCiAgICAgICAgc2VsZi5zZWxlY3RvcnMgPSBpdGVyKHNlbGVjdG9ycykKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgbmV4dF9pdGVtID0gbmV4dChzZWxmLmRhdGEpCiAgICAgICAgICAgIG5leHRfc2VsZWN0b3IgPSBuZXh0KHNlbGYuc2VsZWN0b3JzKQogICAgICAgICAgICBpZiBib29sKG5leHRfc2VsZWN0b3IpOgogICAgICAgICAgICAgICAgcmV0dXJuIG5leHRfaXRlbQogICAgICAgICAgICAgICAgCiMjIEFkYXB0ZWQgZnJvbQojI2h0dHBzOi8vYml0YnVja2V0Lm9yZy9weXB5L3B5cHkvc3JjL2MxYWE3NGMwNmU4Ni9saWJfcHlweS9pdGVydG9vbHMucHkjY2wtNzkKIyMgSSBtaW1pY2tlZCB0aGUgPiBweXRob24zLjEgYmVoYXZpb3IKY2xhc3MgY291bnQ6CiAgICAiIiIKICAgIElucHV0IGlzIGFuIGludCBvciBhIGZsb2F0LiBUaGUgb3JpZ2luYWwgUHl0aG9uIDMgaW1wbGVtZW50YXRpb24KICAgIGluY2x1ZGVzIGFsc28gY29tcGxleCBudW1iZXJzLi4uIGJ1dCBpdCBzdGlsbCBpcyBub3QgaW1wbGVtZW50ZWQgCiAgICBpbiBCcnl0aG9uIGFzIGNvbXBsZXggdHlwZSBpcyBOb3RJbXBsZW1lbnRlZAogICAgIiIiCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhcnQgPSAwLCBzdGVwID0gMSk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc3RhcnQsIChpbnQsIGZsb2F0KSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcignYSBudW1iZXIgaXMgcmVxdWlyZWQnKQogICAgICAgIHNlbGYudGltZXMgPSBzdGFydCAtIHN0ZXAKICAgICAgICBzZWxmLnN0ZXAgPSBzdGVwCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIHNlbGYudGltZXMgKz0gc2VsZi5zdGVwCiAgICAgICAgcmV0dXJuIHNlbGYudGltZXMKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICdjb3VudCglZCknICUgKHNlbGYudGltZXMgKyBzZWxmLnN0ZXApCgojIyBMaXRlcmFsbHkgY29waWVkIGZyb20KIyNodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTExMiAgICAgICAgCmNsYXNzIGN5Y2xlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGl0ZXJhYmxlKToKICAgICAgICBzZWxmLl9jdXJfaXRlciA9IGl0ZXIoaXRlcmFibGUpCiAgICAgICAgc2VsZi5fc2F2ZWQgPSBbXQogICAgICAgIHNlbGYuX211c3Rfc2F2ZSA9IFRydWUKICAgICAgICAKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX25leHRfXyhzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG5leHRfZWx0ID0gbmV4dChzZWxmLl9jdXJfaXRlcikKICAgICAgICAgICAgaWYgc2VsZi5fbXVzdF9zYXZlOgogICAgICAgICAgICAgICAgc2VsZi5fc2F2ZWQuYXBwZW5kKG5leHRfZWx0KQogICAgICAgIGV4Y2VwdCBTdG9wSXRlcmF0aW9uOgogICAgICAgICAgICBzZWxmLl9jdXJfaXRlciA9IGl0ZXIoc2VsZi5fc2F2ZWQpCiAgICAgICAgICAgIG5leHRfZWx0ID0gbmV4dChzZWxmLl9jdXJfaXRlcikKICAgICAgICAgICAgc2VsZi5fbXVzdF9zYXZlID0gRmFsc2UKICAgICAgICByZXR1cm4gbmV4dF9lbHQKICAgICAgICAKIyMgTGl0ZXJhbGx5IGNvcGllZCBmcm9tCiMjaHR0cHM6Ly9iaXRidWNrZXQub3JnL3B5cHkvcHlweS9zcmMvYzFhYTc0YzA2ZTg2L2xpYl9weXB5L2l0ZXJ0b29scy5weSNjbC0xNDkKY2xhc3MgZHJvcHdoaWxlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHByZWRpY2F0ZSwgaXRlcmFibGUpOgogICAgICAgIHNlbGYuX3ByZWRpY2F0ZSA9IHByZWRpY2F0ZQogICAgICAgIHNlbGYuX2l0ZXIgPSBpdGVyKGl0ZXJhYmxlKQogICAgICAgIHNlbGYuX2Ryb3BwZWQgPSBGYWxzZQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX25leHRfXyhzZWxmKToKICAgICAgICB2YWx1ZSA9IG5leHQoc2VsZi5faXRlcikKICAgICAgICBpZiBzZWxmLl9kcm9wcGVkOgogICAgICAgICAgICByZXR1cm4gdmFsdWUKICAgICAgICB3aGlsZSBzZWxmLl9wcmVkaWNhdGUodmFsdWUpOgogICAgICAgICAgICB2YWx1ZSA9IG5leHQoc2VsZi5faXRlcikKICAgICAgICBzZWxmLl9kcm9wcGVkID0gVHJ1ZQogICAgICAgIHJldHVybiB2YWx1ZQogICAgICAgIAojIyBBZGFwdGVkIGZyb20KIyNodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTI2MQpjbGFzcyBmaWx0ZXJmYWxzZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwcmVkaWNhdGUsIGl0ZXJhYmxlKToKICAgICAgICAjIE1ha2Ugc3VyZSBpdGVyYWJsZSAqSVMqIGl0ZXJhYmxlCiAgICAgICAgc2VsZi5faXRlciA9IGl0ZXIoaXRlcmFibGUpCiAgICAgICAgaWYgcHJlZGljYXRlIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuX3ByZWRpY2F0ZSA9IGJvb2wKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl9wcmVkaWNhdGUgPSBwcmVkaWNhdGUKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKICAgIGRlZiBfX25leHRfXyhzZWxmKToKICAgICAgICBuZXh0X2VsdCA9IG5leHQoc2VsZi5faXRlcikKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5fcHJlZGljYXRlKG5leHRfZWx0KToKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0X2VsdAogICAgICAgICAgICBuZXh0X2VsdCA9IG5leHQoc2VsZi5faXRlcikKCmNsYXNzIGdyb3VwYnk6CiAgICAjIyBUTy1ETwogICAgcGFzcwogICAgICAgICAgCiMjIGFkYXB0ZWQgZnJvbQojI2h0dHBzOi8vYml0YnVja2V0Lm9yZy9weXB5L3B5cHkvc3JjL2MxYWE3NGMwNmU4Ni9saWJfcHlweS9pdGVydG9vbHMucHkjY2wtMzIzCmNsYXNzIGlzbGljZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpdGVyYWJsZSwgKmFyZ3MpOgogICAgICAgIHMgPSBzbGljZSgqYXJncykKICAgICAgICBzZWxmLnN0YXJ0LCBzZWxmLnN0b3AsIHNlbGYuc3RlcCA9IHMuc3RhcnQgb3IgMCwgcy5zdG9wLCBzLnN0ZXAKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShzZWxmLnN0YXJ0LCBpbnQpOgogICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIlN0YXJ0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW50ZWdlciIpCiAgICAgICAgaWYgc2VsZi5zdG9wICE9IE5vbmUgYW5kIG5vdCBpc2luc3RhbmNlKHNlbGYuc3RvcCwgaW50KToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiU3RvcCBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIgb3IgTm9uZSIpCiAgICAgICAgaWYgc2VsZi5zdGVwIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuc3RlcCA9IDEKICAgICAgICBpZiBzZWxmLnN0YXJ0PDAgb3IgKHNlbGYuc3RvcCAhPSBOb25lIGFuZCBzZWxmLnN0b3A8MAogICAgICAgICAgICkgb3Igc2VsZi5zdGVwPD0wOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJpbmRpY2VzIGZvciBpc2xpY2UoKSBtdXN0IGJlIHBvc2l0aXZlIikKICAgICAgICBzZWxmLml0ID0gaXRlcihpdGVyYWJsZSkKICAgICAgICBzZWxmLmRvbmV4dCA9IE5vbmUKICAgICAgICBzZWxmLmNudCA9IDAKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgbmV4dGluZGV4ID0gc2VsZi5zdGFydAogICAgICAgIGlmIHNlbGYuc3RvcCAhPSBOb25lIGFuZCBuZXh0aW5kZXggPj0gc2VsZi5zdG9wOgogICAgICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCiAgICAgICAgd2hpbGUgc2VsZi5jbnQgPD0gbmV4dGluZGV4OgogICAgICAgICAgICBuZXh0aXRlbSA9IG5leHQoc2VsZi5pdCkKICAgICAgICAgICAgc2VsZi5jbnQgKz0gMQogICAgICAgIHNlbGYuc3RhcnQgKz0gc2VsZi5zdGVwIAogICAgICAgIHJldHVybiBuZXh0aXRlbQogICAgICAgIApjbGFzcyBwZXJtdXRhdGlvbnM6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaXRlcmFibGUsIHIgPSBOb25lKToKICAgICAgICBzZWxmLnBvb2wgPSB0dXBsZShpdGVyYWJsZSkKICAgICAgICBzZWxmLm4gPSBsZW4oc2VsZi5wb29sKQogICAgICAgIHNlbGYuciA9IHNlbGYubiBpZiByIGlzIE5vbmUgZWxzZSByCiAgICAgICAgc2VsZi5pbmRpY2VzID0gbGlzdChyYW5nZShzZWxmLm4pKQogICAgICAgIHNlbGYuY3ljbGVzID0gbGlzdChyYW5nZShzZWxmLm4sIHNlbGYubiAtIHIsIC0xKSkKICAgICAgICBzZWxmLnplcm8gPSBGYWxzZQogICAgICAgIHNlbGYuc3RvcCA9IEZhbHNlCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIGluZGljZXMgPSBzZWxmLmluZGljZXMKICAgICAgICBpZiBzZWxmLnIgPiBzZWxmLm46CiAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24KICAgICAgICBpZiBub3Qgc2VsZi56ZXJvOgogICAgICAgICAgICBzZWxmLnplcm8gPSBUcnVlCiAgICAgICAgICAgIHJldHVybiB0dXBsZShzZWxmLnBvb2xbaV0gZm9yIGkgaW4gaW5kaWNlc1s6c2VsZi5yXSkKICAgICAgICAKICAgICAgICBpID0gc2VsZi5yIC0gMQogICAgICAgIHdoaWxlIGkgPj0gMDoKICAgICAgICAgICAgaiA9IHNlbGYuY3ljbGVzW2ldIC0gMQogICAgICAgICAgICBpZiBqID4gMDoKICAgICAgICAgICAgICAgIHNlbGYuY3ljbGVzW2ldID0gagogICAgICAgICAgICAgICAgaW5kaWNlc1tpXSwgaW5kaWNlc1stal0gPSBpbmRpY2VzWy1qXSwgaW5kaWNlc1tpXQogICAgICAgICAgICAgICAgcmV0dXJuIHR1cGxlKHNlbGYucG9vbFtpXSBmb3IgaSBpbiBpbmRpY2VzWzpzZWxmLnJdKQogICAgICAgICAgICBzZWxmLmN5Y2xlc1tpXSA9IGxlbihpbmRpY2VzKSAtIGkKICAgICAgICAgICAgbjEgPSBsZW4oaW5kaWNlcykgLSAxCiAgICAgICAgICAgIGFzc2VydCBuMSA+PSAwCiAgICAgICAgICAgIG51bSA9IGluZGljZXNbaV0KICAgICAgICAgICAgZm9yIGsgaW4gcmFuZ2UoaSwgbjEpOgogICAgICAgICAgICAgICAgaW5kaWNlc1trXSA9IGluZGljZXNbaysxXQogICAgICAgICAgICBpbmRpY2VzW24xXSA9IG51bQogICAgICAgICAgICBpIC09IDEKICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCgojIyBhZGFwdGVkIGZyb20KIyNodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTM5MiAgICAgICAgCmNsYXNzIHByb2R1Y3Q6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3cpOgogICAgICAgIGlmIGxlbihrdykgPiAxOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInByb2R1Y3QoKSB0YWtlcyBhdCBtb3N0IDEgYXJndW1lbnQgKCVkIGdpdmVuKSIgJQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbihrdykpCiAgICAgICAgc2VsZi5yZXBlYXQgPSBrdy5nZXQoJ3JlcGVhdCcsIDEpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5yZXBlYXQsIGludCk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiaW50ZWdlciBhcmd1bWVudCBleHBlY3RlZCwgZ290ICVzIiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZShzZWxmLnJlcGVhdCkpCiAgICAgICAgc2VsZi5nZWFycyA9IFt4IGZvciB4IGluIGFyZ3NdICogc2VsZi5yZXBlYXQKICAgICAgICBzZWxmLm51bV9nZWFycyA9IGxlbihzZWxmLmdlYXJzKQogICAgICAgICMgaW5pdGlhbGl6YXRpb24gb2YgaW5kaWNpZXMgdG8gbG9vcCBvdmVyCiAgICAgICAgc2VsZi5pbmRpY2llcyA9IFsoMCwgbGVuKHNlbGYuZ2VhcnNbeF0pKQogICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gcmFuZ2UoMCwgc2VsZi5udW1fZ2VhcnMpXQogICAgICAgIHNlbGYuY29udCA9IFRydWUKICAgICAgICBzZWxmLnplcm8gPSBGYWxzZQoKICAgIGRlZiByb2xsX2dlYXJzKHNlbGYpOgogICAgICAgICMgU3RhcnRpbmcgZnJvbSB0aGUgZW5kIG9mIHRoZSBnZWFyIGluZGljaWVzIHdvcmsgdG8gdGhlIGZyb250CiAgICAgICAgIyBpbmNyZW1lbnRpbmcgdGhlIGdlYXIgdW50aWwgdGhlIGxpbWl0IGlzIHJlYWNoZWQuIFdoZW4gdGhlIGxpbWl0CiAgICAgICAgIyBpcyByZWFjaGVkIGNhcnJ5IG9wZXJhdGlvbiB0byB0aGUgbmV4dCBnZWFyCiAgICAgICAgc2hvdWxkX2NhcnJ5ID0gVHJ1ZQogICAgICAgIGZvciBuIGluIHJhbmdlKDAsIHNlbGYubnVtX2dlYXJzKToKICAgICAgICAgICAgbnRoX2dlYXIgPSBzZWxmLm51bV9nZWFycyAtIG4gLSAxCiAgICAgICAgICAgIGlmIHNob3VsZF9jYXJyeToKICAgICAgICAgICAgICAgIGNvdW50LCBsaW0gPSBzZWxmLmluZGljaWVzW250aF9nZWFyXQogICAgICAgICAgICAgICAgY291bnQgKz0gMQogICAgICAgICAgICAgICAgaWYgY291bnQgPT0gbGltIGFuZCBudGhfZ2VhciA9PSAwOgogICAgICAgICAgICAgICAgICAgIHNlbGYuY29udCA9IEZhbHNlCiAgICAgICAgICAgICAgICBpZiBjb3VudCA9PSBsaW06CiAgICAgICAgICAgICAgICAgICAgc2hvdWxkX2NhcnJ5ID0gVHJ1ZQogICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzaG91bGRfY2FycnkgPSBGYWxzZQogICAgICAgICAgICAgICAgc2VsZi5pbmRpY2llc1tudGhfZ2Vhcl0gPSAoY291bnQsIGxpbSkgIAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYnJlYWsKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgaWYgc2VsZi56ZXJvOgogICAgICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCiAgICAgICAgaWYgc2VsZi5yZXBlYXQgPiAwOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5jb250OgogICAgICAgICAgICAgICAgcmFpc2UgU3RvcEl0ZXJhdGlvbgogICAgICAgICAgICBsID0gW10KICAgICAgICAgICAgZm9yIHggaW4gcmFuZ2UoMCwgc2VsZi5udW1fZ2VhcnMpOgogICAgICAgICAgICAgICAgaW5kZXgsIGxpbWl0ID0gc2VsZi5pbmRpY2llc1t4XQogICAgICAgICAgICAgICAgbC5hcHBlbmQoc2VsZi5nZWFyc1t4XVtpbmRleF0pCiAgICAgICAgICAgIHNlbGYucm9sbF9nZWFycygpCiAgICAgICAgICAgIHJldHVybiB0dXBsZShsKQogICAgICAgIGVsaWYgc2VsZi5yZXBlYXQgPT0gMDoKICAgICAgICAgICAgc2VsZi56ZXJvID0gVHJ1ZQogICAgICAgICAgICByZXR1cm4gKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJyZXBlYXQgYXJndW1lbnQgY2Fubm90IGJlIG5lZ2F0aXZlIikKICAgICAgICAgICAgCiMjIExpdGVyYWxseSBjb3BpZWQgZnJvbQojI2h0dHBzOi8vYml0YnVja2V0Lm9yZy9weXB5L3B5cHkvc3JjL2MxYWE3NGMwNmU4Ni9saWJfcHlweS9pdGVydG9vbHMucHkjY2wtNDQxCmNsYXNzIHJlcGVhdDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBvYmosIHRpbWVzPU5vbmUpOgogICAgICAgIHNlbGYuX29iaiA9IG9iagogICAgICAgIGlmIHRpbWVzIGlzIG5vdCBOb25lOgogICAgICAgICAgICByYW5nZSh0aW1lcykgIyBSYWlzZSBhIFR5cGVFcnJvcgogICAgICAgICAgICBpZiB0aW1lcyA8IDA6CiAgICAgICAgICAgICAgICB0aW1lcyA9IDAKICAgICAgICBzZWxmLl90aW1lcyA9IHRpbWVzCiAgICAgICAgCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgIyBfX25leHRfXygpICpuZWVkKiB0byBkZWNyZW1lbnQgc2VsZi5fdGltZXMgd2hlbiBjb25zdW1lZAogICAgICAgIGlmIHNlbGYuX3RpbWVzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBzZWxmLl90aW1lcyA8PSAwOiAKICAgICAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24oKQogICAgICAgICAgICBzZWxmLl90aW1lcyAtPSAxCiAgICAgICAgcmV0dXJuIHNlbGYuX29iagoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICBpZiBzZWxmLl90aW1lcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmV0dXJuICdyZXBlYXQoJXIsICVyKScgJSAoc2VsZi5fb2JqLCBzZWxmLl90aW1lcykKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gJ3JlcGVhdCglciknICUgKHNlbGYuX29iaiwpCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fdGltZXMgPT0gLTEgb3Igc2VsZi5fdGltZXMgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJsZW4oKSBvZiB1bmlzemVkIG9iamVjdCIpCiAgICAgICAgcmV0dXJuIHNlbGYuX3RpbWVzCgojIyBBZGFwdGVkIGZyb20KIyNodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTQ4OQpjbGFzcyBzdGFybWFwKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZnVuY3Rpb24sIGl0ZXJhYmxlKToKICAgICAgICBzZWxmLl9mdW5jID0gZnVuY3Rpb24KICAgICAgICBzZWxmLl9pdGVyID0gaXRlcihpdGVyYWJsZSkKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgdCA9IG5leHQoc2VsZi5faXRlcikKICAgICAgICByZXR1cm4gc2VsZi5fZnVuYygqdCkKICAgICAgICAKIyMgTGl0ZXJhbGx5IGNvcGllZCBmcm9tCiMjaHR0cHM6Ly9iaXRidWNrZXQub3JnL3B5cHkvcHlweS9zcmMvYzFhYTc0YzA2ZTg2L2xpYl9weXB5L2l0ZXJ0b29scy5weSNjbC01MjAKY2xhc3MgdGFrZXdoaWxlKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcHJlZGljYXRlLCBpdGVyYWJsZSk6CiAgICAgICAgc2VsZi5fcHJlZGljYXRlID0gcHJlZGljYXRlCiAgICAgICAgc2VsZi5faXRlciA9IGl0ZXIoaXRlcmFibGUpCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIHZhbHVlID0gbmV4dChzZWxmLl9pdGVyKQogICAgICAgIGlmIG5vdCBzZWxmLl9wcmVkaWNhdGUodmFsdWUpOgogICAgICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uKCkKICAgICAgICByZXR1cm4gdmFsdWUKCiMjIEFsbW9zdCBsaXRlcmFsIGZyb20KIyNodHRwczovL2JpdGJ1Y2tldC5vcmcvcHlweS9weXB5L3NyYy9jMWFhNzRjMDZlODYvbGliX3B5cHkvaXRlcnRvb2xzLnB5I2NsLTU0NwpjbGFzcyBUZWVEYXRhKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaXRlcmF0b3IpOgogICAgICAgIHNlbGYuZGF0YSA9IFtdCiAgICAgICAgc2VsZi5faXRlciA9IGl0ZXJhdG9yCgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGkpOgogICAgICAgICMgaXRlcmF0ZXMgdW50aWwgJ2knIGlmIG5vdCBkb25lIHlldAogICAgICAgIHdoaWxlIGk+PSBsZW4oc2VsZi5kYXRhKToKICAgICAgICAgICAgc2VsZi5kYXRhLmFwcGVuZChuZXh0KHNlbGYuX2l0ZXIpKQogICAgICAgIHJldHVybiBzZWxmLmRhdGFbaV0KCgpjbGFzcyBUZWVPYmplY3Qob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpdGVyYWJsZT1Ob25lLCB0ZWVfZGF0YT1Ob25lKToKICAgICAgICBpZiB0ZWVfZGF0YToKICAgICAgICAgICAgc2VsZi50ZWVfZGF0YSA9IHRlZV9kYXRhCiAgICAgICAgICAgIHNlbGYucG9zID0gMAogICAgICAgICMgPD0+IENvcHkgY29uc3RydWN0b3IKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaXRlcmFibGUsIFRlZU9iamVjdCk6CiAgICAgICAgICAgIHNlbGYudGVlX2RhdGEgPSBpdGVyYWJsZS50ZWVfZGF0YQogICAgICAgICAgICBzZWxmLnBvcyA9IGl0ZXJhYmxlLnBvcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudGVlX2RhdGEgPSBUZWVEYXRhKGl0ZXIoaXRlcmFibGUpKQogICAgICAgICAgICBzZWxmLnBvcyA9IDAKICAgICAgICAgICAgCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgZGF0YSA9IHNlbGYudGVlX2RhdGFbc2VsZi5wb3NdCiAgICAgICAgc2VsZi5wb3MgKz0gMQogICAgICAgIHJldHVybiBkYXRhCiAgICAKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKCmRlZiB0ZWUoaXRlcmFibGUsIG49Mik6CiAgICBpZiBpc2luc3RhbmNlKGl0ZXJhYmxlLCBUZWVPYmplY3QpOgogICAgICAgIHJldHVybiB0dXBsZShbaXRlcmFibGVdICsKICAgICAgICBbVGVlT2JqZWN0KHRlZV9kYXRhPWl0ZXJhYmxlLnRlZV9kYXRhKSBmb3IgaSBpbiByYW5nZShuIC0gMSldKQogICAgdGVlX2RhdGEgPSBUZWVEYXRhKGl0ZXIoaXRlcmFibGUpKQogICAgcmV0dXJuIHR1cGxlKFtUZWVPYmplY3QodGVlX2RhdGE9dGVlX2RhdGEpIGZvciBpIGluIHJhbmdlKG4pXSkKCmNsYXNzIHppcF9sb25nZXN0OgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCBmaWxsdmFsdWUgPSBOb25lKToKICAgICAgICBzZWxmLmFyZ3MgPSBhcmdzCiAgICAgICAgc2VsZi5maWxsdmFsdWUgPSBmaWxsdmFsdWUKICAgICAgICBzZWxmLm1heF9sZW5ndGggPSBtYXgoW2xlbihhcmcpIGZvciBhcmcgaW4gc2VsZi5hcmdzXSkKICAgICAgICBzZWxmLnVuaXRzID0gbGVuKGFyZ3MpCiAgICAgICAgc2VsZi5jb3VudGVyID0gMAogICAgCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKICAgIAogICAgZGVmIF9fbmV4dF9fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuY291bnRlciA9PSBzZWxmLm1heF9sZW5ndGg6CiAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24KICAgICAgICBlbHNlOgogICAgICAgICAgICB0ZW1wID0gW10KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi51bml0cyk6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgdGVtcC5hcHBlbmQoc2VsZi5hcmdzW2ldW3NlbGYuY291bnRlcl0pCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgdGVtcC5hcHBlbmQoc2VsZi5maWxsdmFsdWUpCiAgICAgICAgICAgIHNlbGYuY291bnRlciA9IHNlbGYuY291bnRlciArIDEKICAgICAgICAgICAgcmV0dXJuIHR1cGxlKHRlbXAp',
'/Lib/_sre.py':'IyBOT1RfUlBZVEhPTgoiIiIKQSBwdXJlIFB5dGhvbiByZWltcGxlbWVudGF0aW9uIG9mIHRoZSBfc3JlIG1vZHVsZSBmcm9tIENQeXRob24gMi40CkNvcHlyaWdodCAyMDA1IE5payBIYWxkaW1hbm4sIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQoKVGhpcyBjb2RlIGlzIGJhc2VkIG9uIG1hdGVyaWFsIGxpY2Vuc2VkIHVuZGVyIENOUkkncyBQeXRob24gMS42IGxpY2Vuc2UgYW5kCmNvcHlyaWdodGVkIGJ5OiBDb3B5cmlnaHQgKGMpIDE5OTctMjAwMSBieSBTZWNyZXQgTGFicyBBQgoiIiIKCiNpbXBvcnQgYXJyYXkKaW1wb3J0IG9wZXJhdG9yICMsIHN5cwpmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IEFUQ09ERVMsIE9QQ09ERVMsIENIQ09ERVMsIE1BWFJFUEVBVApmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IFNSRV9JTkZPX1BSRUZJWCwgU1JFX0lORk9fTElURVJBTApmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IFNSRV9GTEFHX1VOSUNPREUsIFNSRV9GTEFHX0xPQ0FMRQoKc3lzX21heGludD0yKiozMi0xCiNpbXBvcnQgc3lzCgojIElkZW50aWZ5aW5nIGFzIF9zcmUgZnJvbSBQeXRob24gMi4zIG9yIDIuNAojaWYgc3lzLnZlcnNpb25faW5mb1s6Ml0gPj0gKDIsIDQpOgpNQUdJQyA9IDIwMDMxMDE3CiNlbHNlOgojICAgIE1BR0lDID0gMjAwMzA0MTkKCiMgSW4gX3NyZS5jIHRoaXMgaXMgYnl0ZXNpemUgb2YgdGhlIGNvZGUgd29yZCB0eXBlIG9mIHRoZSBDIGltcGxlbWVudGF0aW9uLgojIFRoZXJlIGl0J3MgMiBmb3Igbm9ybWFsIFB5dGhvbiBidWlsZHMgYW5kIG1vcmUgZm9yIHdpZGUgdW5pY29kZSBidWlsZHMgKGxhcmdlIAojIGVub3VnaCB0byBob2xkIGEgMzItYml0IFVDUy00IGVuY29kZWQgY2hhcmFjdGVyKS4gU2luY2UgaGVyZSBpbiBwdXJlIFB5dGhvbgojIHdlIG9ubHkgc2VlIHJlIGJ5dGVjb2RlcyBhcyBQeXRob24gbG9uZ3MsIHdlIHNob3VsZG4ndCBoYXZlIHRvIGNhcmUgYWJvdXQgdGhlCiMgY29kZXNpemUuIEJ1dCBzcmVfY29tcGlsZSB3aWxsIGNvbXBpbGUgc29tZSBzdHVmZiBkaWZmZXJlbnRseSBkZXBlbmRpbmcgb24gdGhlCiMgY29kZXNpemUgKGUuZy4sIGNoYXJzZXRzKS4KIyBzdGFydGluZyB3aXRoIHB5dGhvbiAzLjMgIENPREVTSVpFIGlzIDQKI2lmIHN5cy5tYXh1bmljb2RlID09IDY1NTM1OgojICAgIENPREVTSVpFID0gMgojZWxzZToKQ09ERVNJWkUgPSA0Cgpjb3B5cmlnaHQgPSAiX3NyZS5weSAyLjRjIENvcHlyaWdodCAyMDA1IGJ5IE5payBIYWxkaW1hbm4iCgoKZGVmIGdldGNvZGVzaXplKCk6CiAgICByZXR1cm4gQ09ERVNJWkUKCmRlZiBjb21waWxlKHBhdHRlcm4sIGZsYWdzLCBjb2RlLCBncm91cHM9MCwgZ3JvdXBpbmRleD17fSwgaW5kZXhncm91cD1bTm9uZV0pOgogICAgIiIiQ29tcGlsZXMgKG9yIHJhdGhlciBqdXN0IGNvbnZlcnRzKSBhIHBhdHRlcm4gZGVzY3JpcHRvciB0byBhIFNSRV9QYXR0ZXJuCiAgICBvYmplY3QuIEFjdHVhbCBjb21waWxhdGlvbiB0byBvcGNvZGVzIGhhcHBlbnMgaW4gc3JlX2NvbXBpbGUuIiIiCiAgICByZXR1cm4gU1JFX1BhdHRlcm4ocGF0dGVybiwgZmxhZ3MsIGNvZGUsIGdyb3VwcywgZ3JvdXBpbmRleCwgaW5kZXhncm91cCkKICAgIApkZWYgZ2V0bG93ZXIoY2hhcl9vcmQsIGZsYWdzKToKICAgIGlmIChjaGFyX29yZCA8IDEyOCkgb3IgKGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERSkgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciAoZmxhZ3MgJiBTUkVfRkxBR19MT0NBTEUgYW5kIGNoYXJfb3JkIDwgMjU2KToKICAgICAgICByZXR1cm4gb3JkKHVuaWNocihjaGFyX29yZCkubG93ZXIoKSkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIGNoYXJfb3JkCgoKY2xhc3MgU1JFX1BhdHRlcm4ob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGF0dGVybiwgZmxhZ3MsIGNvZGUsIGdyb3Vwcz0wLCBncm91cGluZGV4PXt9LCBpbmRleGdyb3VwPVtOb25lXSk6CiAgICAgICAgc2VsZi5wYXR0ZXJuID0gcGF0dGVybgogICAgICAgIHNlbGYuZmxhZ3MgPSBmbGFncwogICAgICAgIHNlbGYuZ3JvdXBzID0gZ3JvdXBzCiAgICAgICAgc2VsZi5ncm91cGluZGV4ID0gZ3JvdXBpbmRleCAjIE1hcHMgZ3JvdXAgbmFtZXMgdG8gZ3JvdXAgaW5kaWNlcwogICAgICAgIHNlbGYuX2luZGV4Z3JvdXAgPSBpbmRleGdyb3VwICMgTWFwcyBpbmRpY2VzIHRvIGdyb3VwIG5hbWVzCiAgICAgICAgc2VsZi5fY29kZSA9IGNvZGUKICAgIAogICAgI2RlZiBtYXRjaChzZWxmLCBzdHJpbmcsIHBvcz0wLCBlbmRwb3M9c3lzLm1heGludCk6CiAgICBkZWYgbWF0Y2goc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5c19tYXhpbnQpOgogICAgICAgICIiIklmIHplcm8gb3IgbW9yZSBjaGFyYWN0ZXJzIGF0IHRoZSBiZWdpbm5pbmcgb2Ygc3RyaW5nIG1hdGNoIHRoaXMKICAgICAgICByZWd1bGFyIGV4cHJlc3Npb24sIHJldHVybiBhIGNvcnJlc3BvbmRpbmcgTWF0Y2hPYmplY3QgaW5zdGFuY2UuIFJldHVybgogICAgICAgIE5vbmUgaWYgdGhlIHN0cmluZyBkb2VzIG5vdCBtYXRjaCB0aGUgcGF0dGVybi4iIiIKICAgICAgICBzdGF0ZSA9IF9TdGF0ZShzdHJpbmcsIHBvcywgZW5kcG9zLCBzZWxmLmZsYWdzKQogICAgICAgIGlmIHN0YXRlLm1hdGNoKHNlbGYuX2NvZGUpOgogICAgICAgICAgICByZXR1cm4gU1JFX01hdGNoKHNlbGYsIHN0YXRlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgI2RlZiBzZWFyY2goc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5cy5tYXhpbnQpOgogICAgZGVmIHNlYXJjaChzZWxmLCBzdHJpbmcsIHBvcz0wLCBlbmRwb3M9c3lzX21heGludCk6CiAgICAgICAgIiIiU2NhbiB0aHJvdWdoIHN0cmluZyBsb29raW5nIGZvciBhIGxvY2F0aW9uIHdoZXJlIHRoaXMgcmVndWxhcgogICAgICAgIGV4cHJlc3Npb24gcHJvZHVjZXMgYSBtYXRjaCwgYW5kIHJldHVybiBhIGNvcnJlc3BvbmRpbmcgTWF0Y2hPYmplY3QKICAgICAgICBpbnN0YW5jZS4gUmV0dXJuIE5vbmUgaWYgbm8gcG9zaXRpb24gaW4gdGhlIHN0cmluZyBtYXRjaGVzIHRoZQogICAgICAgIHBhdHRlcm4uIiIiCiAgICAgICAgc3RhdGUgPSBfU3RhdGUoc3RyaW5nLCBwb3MsIGVuZHBvcywgc2VsZi5mbGFncykKICAgICAgICBpZiBzdGF0ZS5zZWFyY2goc2VsZi5fY29kZSk6CiAgICAgICAgICAgIHJldHVybiBTUkVfTWF0Y2goc2VsZiwgc3RhdGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAjZGVmIGZpbmRhbGwoc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5cy5tYXhpbnQpOgogICAgZGVmIGZpbmRhbGwoc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5c19tYXhpbnQpOgogICAgICAgICIiIlJldHVybiBhIGxpc3Qgb2YgYWxsIG5vbi1vdmVybGFwcGluZyBtYXRjaGVzIG9mIHBhdHRlcm4gaW4gc3RyaW5nLiIiIgogICAgICAgIG1hdGNobGlzdCA9IFtdCiAgICAgICAgc3RhdGUgPSBfU3RhdGUoc3RyaW5nLCBwb3MsIGVuZHBvcywgc2VsZi5mbGFncykKICAgICAgICB3aGlsZSBzdGF0ZS5zdGFydCA8PSBzdGF0ZS5lbmQ6CiAgICAgICAgICAgIHN0YXRlLnJlc2V0KCkKICAgICAgICAgICAgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gc3RhdGUuc3RhcnQKICAgICAgICAgICAgaWYgbm90IHN0YXRlLnNlYXJjaChzZWxmLl9jb2RlKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIG1hdGNoID0gU1JFX01hdGNoKHNlbGYsIHN0YXRlKQogICAgICAgICAgICBpZiBzZWxmLmdyb3VwcyA9PSAwIG9yIHNlbGYuZ3JvdXBzID09IDE6CiAgICAgICAgICAgICAgICBpdGVtID0gbWF0Y2guZ3JvdXAoc2VsZi5ncm91cHMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpdGVtID0gbWF0Y2guZ3JvdXBzKCIiKQogICAgICAgICAgICBtYXRjaGxpc3QuYXBwZW5kKGl0ZW0pCiAgICAgICAgICAgIGlmIHN0YXRlLnN0cmluZ19wb3NpdGlvbiA9PSBzdGF0ZS5zdGFydDoKICAgICAgICAgICAgICAgIHN0YXRlLnN0YXJ0ICs9IDEKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXRlLnN0YXJ0ID0gc3RhdGUuc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgcmV0dXJuIG1hdGNobGlzdCAgICAgICAgCiAgICAgICAgCiAgICBkZWYgX3N1Yngoc2VsZiwgdGVtcGxhdGUsIHN0cmluZywgY291bnQ9MCwgc3Vibj1GYWxzZSk6CiAgICAgICAgZmlsdGVyID0gdGVtcGxhdGUKICAgICAgICBpZiBub3QgY2FsbGFibGUodGVtcGxhdGUpIGFuZCAiXFwiIGluIHRlbXBsYXRlOgogICAgICAgICAgICAjIGhhbmRsZSBub24tbGl0ZXJhbCBzdHJpbmdzIDsgaGFuZCBpdCBvdmVyIHRvIHRoZSB0ZW1wbGF0ZSBjb21waWxlcgogICAgICAgICAgICBpbXBvcnQgc3JlCiAgICAgICAgICAgIGZpbHRlciA9IHNyZS5fc3VieChzZWxmLCB0ZW1wbGF0ZSkKICAgICAgICAjc3RhdGUgPSBfU3RhdGUoc3RyaW5nLCAwLCBzeXMubWF4aW50LCBzZWxmLmZsYWdzKQogICAgICAgIHN0YXRlID0gX1N0YXRlKHN0cmluZywgMCwgc3lzX21heGludCwgc2VsZi5mbGFncykKICAgICAgICBzdWJsaXN0ID0gW10KICAgICAgICAKICAgICAgICBuID0gbGFzdF9wb3MgPSAwCiAgICAgICAgd2hpbGUgbm90IGNvdW50IG9yIG4gPCBjb3VudDoKICAgICAgICAgICAgc3RhdGUucmVzZXQoKQogICAgICAgICAgICBzdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBzdGF0ZS5zdGFydAogICAgICAgICAgICBpZiBub3Qgc3RhdGUuc2VhcmNoKHNlbGYuX2NvZGUpOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaWYgbGFzdF9wb3MgPCBzdGF0ZS5zdGFydDoKICAgICAgICAgICAgICAgIHN1Ymxpc3QuYXBwZW5kKHN0cmluZ1tsYXN0X3BvczpzdGF0ZS5zdGFydF0pCiAgICAgICAgICAgIGlmIG5vdCAobGFzdF9wb3MgPT0gc3RhdGUuc3RhcnQgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9wb3MgPT0gc3RhdGUuc3RyaW5nX3Bvc2l0aW9uIGFuZCBuID4gMCk6CiAgICAgICAgICAgICAgICAjIHRoZSBhYm92ZSBpZ25vcmVzIGVtcHR5IG1hdGNoZXMgb24gbGF0ZXN0IHBvc2l0aW9uCiAgICAgICAgICAgICAgICBpZiBjYWxsYWJsZShmaWx0ZXIpOgogICAgICAgICAgICAgICAgICAgIHN1Ymxpc3QuYXBwZW5kKGZpbHRlcihTUkVfTWF0Y2goc2VsZiwgc3RhdGUpKSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc3VibGlzdC5hcHBlbmQoZmlsdGVyKQogICAgICAgICAgICAgICAgbGFzdF9wb3MgPSBzdGF0ZS5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgICAgIG4gKz0gMQogICAgICAgICAgICBpZiBzdGF0ZS5zdHJpbmdfcG9zaXRpb24gPT0gc3RhdGUuc3RhcnQ6CiAgICAgICAgICAgICAgICBzdGF0ZS5zdGFydCArPSAxCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzdGF0ZS5zdGFydCA9IHN0YXRlLnN0cmluZ19wb3NpdGlvbgoKICAgICAgICBpZiBsYXN0X3BvcyA8IHN0YXRlLmVuZDoKICAgICAgICAgICAgc3VibGlzdC5hcHBlbmQoc3RyaW5nW2xhc3RfcG9zOnN0YXRlLmVuZF0pCiAgICAgICAgaXRlbSA9ICIiLmpvaW4oc3VibGlzdCkKICAgICAgICBpZiBzdWJuOgogICAgICAgICAgICByZXR1cm4gaXRlbSwgbgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBpdGVtCgogICAgZGVmIHN1YihzZWxmLCByZXBsLCBzdHJpbmcsIGNvdW50PTApOgogICAgICAgICIiIlJldHVybiB0aGUgc3RyaW5nIG9idGFpbmVkIGJ5IHJlcGxhY2luZyB0aGUgbGVmdG1vc3Qgbm9uLW92ZXJsYXBwaW5nCiAgICAgICAgb2NjdXJyZW5jZXMgb2YgcGF0dGVybiBpbiBzdHJpbmcgYnkgdGhlIHJlcGxhY2VtZW50IHJlcGwuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N1YngocmVwbCwgc3RyaW5nLCBjb3VudCwgRmFsc2UpCgogICAgZGVmIHN1Ym4oc2VsZiwgcmVwbCwgc3RyaW5nLCBjb3VudD0wKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHR1cGxlIChuZXdfc3RyaW5nLCBudW1iZXJfb2Zfc3Vic19tYWRlKSBmb3VuZCBieSByZXBsYWNpbmcKICAgICAgICB0aGUgbGVmdG1vc3Qgbm9uLW92ZXJsYXBwaW5nIG9jY3VycmVuY2VzIG9mIHBhdHRlcm4gd2l0aCB0aGUgcmVwbGFjZW1lbnQKICAgICAgICByZXBsLiIiIgogICAgICAgIHJldHVybiBzZWxmLl9zdWJ4KHJlcGwsIHN0cmluZywgY291bnQsIFRydWUpCiAgICAgICAgCiAgICBkZWYgc3BsaXQoc2VsZiwgc3RyaW5nLCBtYXhzcGxpdD0wKToKICAgICAgICAiIiJTcGxpdCBzdHJpbmcgYnkgdGhlIG9jY3VycmVuY2VzIG9mIHBhdHRlcm4uIiIiCiAgICAgICAgc3BsaXRsaXN0ID0gW10KICAgICAgICAjc3RhdGUgPSBfU3RhdGUoc3RyaW5nLCAwLCBzeXMubWF4aW50LCBzZWxmLmZsYWdzKQogICAgICAgIHN0YXRlID0gX1N0YXRlKHN0cmluZywgMCwgc3lzX21heGludCwgc2VsZi5mbGFncykKICAgICAgICBuID0gMAogICAgICAgIGxhc3QgPSBzdGF0ZS5zdGFydAogICAgICAgIHdoaWxlIG5vdCBtYXhzcGxpdCBvciBuIDwgbWF4c3BsaXQ6CiAgICAgICAgICAgIHN0YXRlLnJlc2V0KCkKICAgICAgICAgICAgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gc3RhdGUuc3RhcnQKICAgICAgICAgICAgaWYgbm90IHN0YXRlLnNlYXJjaChzZWxmLl9jb2RlKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIHN0YXRlLnN0YXJ0ID09IHN0YXRlLnN0cmluZ19wb3NpdGlvbjogIyB6ZXJvLXdpZHRoIG1hdGNoCiAgICAgICAgICAgICAgICBpZiBsYXN0ID09IHN0YXRlLmVuZDogICAgICAgICAgICAgICAgIyBvciBlbmQgb2Ygc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHN0YXRlLnN0YXJ0ICs9IDEKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHNwbGl0bGlzdC5hcHBlbmQoc3RyaW5nW2xhc3Q6c3RhdGUuc3RhcnRdKQogICAgICAgICAgICAjIGFkZCBncm91cHMgKGlmIGFueSkKICAgICAgICAgICAgaWYgc2VsZi5ncm91cHM6CiAgICAgICAgICAgICAgICBtYXRjaCA9IFNSRV9NYXRjaChzZWxmLCBzdGF0ZSkKICAgICAgICAgICAgICAgIHNwbGl0bGlzdC5leHRlbmQobGlzdChtYXRjaC5ncm91cHMoTm9uZSkpKQogICAgICAgICAgICBuICs9IDEKICAgICAgICAgICAgbGFzdCA9IHN0YXRlLnN0YXJ0ID0gc3RhdGUuc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgc3BsaXRsaXN0LmFwcGVuZChzdHJpbmdbbGFzdDpzdGF0ZS5lbmRdKQogICAgICAgIHJldHVybiBzcGxpdGxpc3QKCiAgICAjZGVmIGZpbmRpdGVyKHNlbGYsIHN0cmluZywgcG9zPTAsIGVuZHBvcz1zeXMubWF4aW50KToKICAgIGRlZiBmaW5kaXRlcihzZWxmLCBzdHJpbmcsIHBvcz0wLCBlbmRwb3M9c3lzX21heGludCk6CiAgICAgICAgIiIiUmV0dXJuIGEgbGlzdCBvZiBhbGwgbm9uLW92ZXJsYXBwaW5nIG1hdGNoZXMgb2YgcGF0dGVybiBpbiBzdHJpbmcuIiIiCiAgICAgICAgc2Nhbm5lciA9IHNlbGYuc2Nhbm5lcihzdHJpbmcsIHBvcywgZW5kcG9zKQogICAgICAgIHJldHVybiBpdGVyKHNjYW5uZXIuc2VhcmNoLCBOb25lKQoKICAgICNkZWYgc2Nhbm5lcihzZWxmLCBzdHJpbmcsIHN0YXJ0PTAsIGVuZD1zeXMubWF4aW50KToKICAgIGRlZiBzY2FubmVyKHNlbGYsIHN0cmluZywgc3RhcnQ9MCwgZW5kPXN5c19tYXhpbnQpOgogICAgICAgIHJldHVybiBTUkVfU2Nhbm5lcihzZWxmLCBzdHJpbmcsIHN0YXJ0LCBlbmQpCiAgICAKICAgIGRlZiBfX2NvcHlfXyhzZWxmKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImNhbm5vdCBjb3B5IHRoaXMgcGF0dGVybiBvYmplY3QiKQoKICAgIGRlZiBfX2RlZXBjb3B5X18oc2VsZik6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29weSB0aGlzIHBhdHRlcm4gb2JqZWN0IikKCgpjbGFzcyBTUkVfU2Nhbm5lcihvYmplY3QpOgogICAgIiIiVW5kb2N1bWVudGVkIHNjYW5uZXIgaW50ZXJmYWNlIG9mIHNyZS4iIiIKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdHRlcm4sIHN0cmluZywgc3RhcnQsIGVuZCk6CiAgICAgICAgc2VsZi5wYXR0ZXJuID0gcGF0dGVybgogICAgICAgIHNlbGYuX3N0YXRlID0gX1N0YXRlKHN0cmluZywgc3RhcnQsIGVuZCwgc2VsZi5wYXR0ZXJuLmZsYWdzKQoKICAgIGRlZiBfbWF0Y2hfc2VhcmNoKHNlbGYsIG1hdGNoZXIpOgogICAgICAgIHN0YXRlID0gc2VsZi5fc3RhdGUKICAgICAgICBzdGF0ZS5yZXNldCgpCiAgICAgICAgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gc3RhdGUuc3RhcnQKICAgICAgICBtYXRjaCA9IE5vbmUKICAgICAgICBpZiBtYXRjaGVyKHNlbGYucGF0dGVybi5fY29kZSk6CiAgICAgICAgICAgIG1hdGNoID0gU1JFX01hdGNoKHNlbGYucGF0dGVybiwgc3RhdGUpCiAgICAgICAgaWYgbWF0Y2ggaXMgTm9uZSBvciBzdGF0ZS5zdHJpbmdfcG9zaXRpb24gPT0gc3RhdGUuc3RhcnQ6CiAgICAgICAgICAgIHN0YXRlLnN0YXJ0ICs9IDEKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdGF0ZS5zdGFydCA9IHN0YXRlLnN0cmluZ19wb3NpdGlvbgogICAgICAgIHJldHVybiBtYXRjaAoKICAgIGRlZiBtYXRjaChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fbWF0Y2hfc2VhcmNoKHNlbGYuX3N0YXRlLm1hdGNoKQoKICAgIGRlZiBzZWFyY2goc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX21hdGNoX3NlYXJjaChzZWxmLl9zdGF0ZS5zZWFyY2gpCgoKY2xhc3MgU1JFX01hdGNoKG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdHRlcm4sIHN0YXRlKToKICAgICAgICBzZWxmLnJlID0gcGF0dGVybgogICAgICAgIHNlbGYuc3RyaW5nID0gc3RhdGUuc3RyaW5nCiAgICAgICAgc2VsZi5wb3MgPSBzdGF0ZS5wb3MKICAgICAgICBzZWxmLmVuZHBvcyA9IHN0YXRlLmVuZAogICAgICAgIHNlbGYubGFzdGluZGV4ID0gc3RhdGUubGFzdGluZGV4CgogICAgICAgIHNlbGYucmVncyA9IHNlbGYuX2NyZWF0ZV9yZWdzKHN0YXRlKQogICAgICAgIGlmIHNlbGYubGFzdGluZGV4IDwgMDoKICAgICAgICAgICAgc2VsZi5sYXN0aW5kZXggPSBOb25lCiAgICAgICAgICAgIHNlbGYubGFzdGdyb3VwID0gTm9uZQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaWYgcGF0dGVybi5faW5kZXhncm91cCBhbmQgMCA8PSBzZWxmLmxhc3RpbmRleCA8IGxlbihwYXR0ZXJuLl9pbmRleGdyb3VwKToKICAgICAgICAgICAgIyBUaGUgYWJvdmUgdXBwZXItYm91bmQgY2hlY2sgc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnksIGFzIHRoZSByZQogICAgICAgICAgICAjIGNvbXBpbGVyIGlzIHN1cHBvc2VkIHRvIGFsd2F5cyBwcm92aWRlIGFuIF9pbmRleGdyb3VwIGxpc3QgbG9uZwogICAgICAgICAgICAjIGVub3VnaC4gQnV0IHRoZSByZS5TY2FubmVyIGNsYXNzIHNlZW1zIHRvIHNjcmV3IHVwIHNvbWV0aGluZwogICAgICAgICAgICAjIHRoZXJlLCB0ZXN0X3NjYW5uZXIgaW4gdGVzdF9yZSB3b24ndCB3b3JrIHdpdGhvdXQgdXBwZXItYm91bmQKICAgICAgICAgICAgIyBjaGVja2luZy4gWFhYIGludmVzdGlnYXRlIHRoaXMgYW5kIHJlcG9ydCBidWcgdG8gQ1B5dGhvbi4KICAgICAgICAgICAgc2VsZi5sYXN0Z3JvdXAgPSBwYXR0ZXJuLl9pbmRleGdyb3VwW3NlbGYubGFzdGluZGV4XQogICAgICAgICNlbHNlOgogICAgICAgICMgICAgc2VsZi5sYXN0Z3JvdXAgPSBOb25lCgogICAgZGVmIF9jcmVhdGVfcmVncyhzZWxmLCBzdGF0ZSk6CiAgICAgICAgIiIiQ3JlYXRlcyBhIHR1cGxlIG9mIGluZGV4IHBhaXJzIHJlcHJlc2VudGluZyBtYXRjaGVkIGdyb3Vwcy4iIiIKICAgICAgICByZWdzID0gWyhzdGF0ZS5zdGFydCwgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uKV0KICAgICAgICBmb3IgZ3JvdXAgaW4gcmFuZ2Uoc2VsZi5yZS5ncm91cHMpOgogICAgICAgICAgICBtYXJrX2luZGV4ID0gMiAqIGdyb3VwCiAgICAgICAgICAgIGlmIG1hcmtfaW5kZXggKyAxIDwgbGVuKHN0YXRlLm1hcmtzKSBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBzdGF0ZS5tYXJrc1ttYXJrX2luZGV4XSBpcyBub3QgTm9uZSBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBzdGF0ZS5tYXJrc1ttYXJrX2luZGV4ICsgMV0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZWdzLmFwcGVuZCgoc3RhdGUubWFya3NbbWFya19pbmRleF0sIHN0YXRlLm1hcmtzW21hcmtfaW5kZXggKyAxXSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZWdzLmFwcGVuZCgoLTEsIC0xKSkKICAgICAgICByZXR1cm4gdHVwbGUocmVncykKCiAgICBkZWYgX2dldF9pbmRleChzZWxmLCBncm91cCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShncm91cCwgaW50KToKICAgICAgICAgICAgaWYgZ3JvdXAgPj0gMCBhbmQgZ3JvdXAgPD0gc2VsZi5yZS5ncm91cHM6CiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXAKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBzZWxmLnJlLmdyb3VwaW5kZXguaGFzX2tleShncm91cCk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5yZS5ncm91cGluZGV4W2dyb3VwXQogICAgICAgIHJhaXNlIEluZGV4RXJyb3IoIm5vIHN1Y2ggZ3JvdXAiKQoKICAgIGRlZiBfZ2V0X3NsaWNlKHNlbGYsIGdyb3VwLCBkZWZhdWx0KToKICAgICAgICBncm91cF9pbmRpY2VzID0gc2VsZi5yZWdzW2dyb3VwXQogICAgICAgIGlmIGdyb3VwX2luZGljZXNbMF0gPj0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyaW5nW2dyb3VwX2luZGljZXNbMF06Z3JvdXBfaW5kaWNlc1sxXV0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gZGVmYXVsdAoKICAgIGRlZiBzdGFydChzZWxmLCBncm91cD0wKToKICAgICAgICAiIiJSZXR1cm5zIHRoZSBpbmRpY2VzIG9mIHRoZSBzdGFydCBvZiB0aGUgc3Vic3RyaW5nIG1hdGNoZWQgYnkgZ3JvdXA7CiAgICAgICAgZ3JvdXAgZGVmYXVsdHMgdG8gemVybyAobWVhbmluZyB0aGUgd2hvbGUgbWF0Y2hlZCBzdWJzdHJpbmcpLiBSZXR1cm5zIC0xCiAgICAgICAgaWYgZ3JvdXAgZXhpc3RzIGJ1dCBkaWQgbm90IGNvbnRyaWJ1dGUgdG8gdGhlIG1hdGNoLiIiIgogICAgICAgIHJldHVybiBzZWxmLnJlZ3Nbc2VsZi5fZ2V0X2luZGV4KGdyb3VwKV1bMF0KCiAgICBkZWYgZW5kKHNlbGYsIGdyb3VwPTApOgogICAgICAgICIiIlJldHVybnMgdGhlIGluZGljZXMgb2YgdGhlIGVuZCBvZiB0aGUgc3Vic3RyaW5nIG1hdGNoZWQgYnkgZ3JvdXA7CiAgICAgICAgZ3JvdXAgZGVmYXVsdHMgdG8gemVybyAobWVhbmluZyB0aGUgd2hvbGUgbWF0Y2hlZCBzdWJzdHJpbmcpLiBSZXR1cm5zIC0xCiAgICAgICAgaWYgZ3JvdXAgZXhpc3RzIGJ1dCBkaWQgbm90IGNvbnRyaWJ1dGUgdG8gdGhlIG1hdGNoLiIiIgogICAgICAgIHJldHVybiBzZWxmLnJlZ3Nbc2VsZi5fZ2V0X2luZGV4KGdyb3VwKV1bMV0KCiAgICBkZWYgc3BhbihzZWxmLCBncm91cD0wKToKICAgICAgICAiIiJSZXR1cm5zIHRoZSAyLXR1cGxlIChtLnN0YXJ0KGdyb3VwKSwgbS5lbmQoZ3JvdXApKS4iIiIKICAgICAgICByZXR1cm4gc2VsZi5zdGFydChncm91cCksIHNlbGYuZW5kKGdyb3VwKQogICAgICAgIAogICAgZGVmIGV4cGFuZChzZWxmLCB0ZW1wbGF0ZSk6CiAgICAgICAgIiIiUmV0dXJuIHRoZSBzdHJpbmcgb2J0YWluZWQgYnkgZG9pbmcgYmFja3NsYXNoIHN1YnN0aXR1dGlvbiBhbmQKICAgICAgICByZXNvbHZpbmcgZ3JvdXAgcmVmZXJlbmNlcyBvbiB0ZW1wbGF0ZS4iIiIKICAgICAgICBpbXBvcnQgc3JlCiAgICAgICAgcmV0dXJuIHNyZS5fZXhwYW5kKHNlbGYucmUsIHNlbGYsIHRlbXBsYXRlKQogICAgICAgIAogICAgZGVmIGdyb3VwcyhzZWxmLCBkZWZhdWx0PU5vbmUpOgogICAgICAgICIiIlJldHVybnMgYSB0dXBsZSBjb250YWluaW5nIGFsbCB0aGUgc3ViZ3JvdXBzIG9mIHRoZSBtYXRjaC4gVGhlCiAgICAgICAgZGVmYXVsdCBhcmd1bWVudCBpcyB1c2VkIGZvciBncm91cHMgdGhhdCBkaWQgbm90IHBhcnRpY2lwYXRlIGluIHRoZQogICAgICAgIG1hdGNoIChkZWZhdWx0cyB0byBOb25lKS4iIiIKICAgICAgICBncm91cHMgPSBbXQogICAgICAgIGZvciBpbmRpY2VzIGluIHNlbGYucmVnc1sxOl06CiAgICAgICAgICAgIGlmIGluZGljZXNbMF0gPj0gMDoKICAgICAgICAgICAgICAgIGdyb3Vwcy5hcHBlbmQoc2VsZi5zdHJpbmdbaW5kaWNlc1swXTppbmRpY2VzWzFdXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGdyb3Vwcy5hcHBlbmQoZGVmYXVsdCkKICAgICAgICByZXR1cm4gdHVwbGUoZ3JvdXBzKQogICAgICAgIAogICAgZGVmIGdyb3VwZGljdChzZWxmLCBkZWZhdWx0PU5vbmUpOgogICAgICAgICIiIlJldHVybiBhIGRpY3Rpb25hcnkgY29udGFpbmluZyBhbGwgdGhlIG5hbWVkIHN1Ymdyb3VwcyBvZiB0aGUgbWF0Y2guCiAgICAgICAgVGhlIGRlZmF1bHQgYXJndW1lbnQgaXMgdXNlZCBmb3IgZ3JvdXBzIHRoYXQgZGlkIG5vdCBwYXJ0aWNpcGF0ZSBpbiB0aGUKICAgICAgICBtYXRjaCAoZGVmYXVsdHMgdG8gTm9uZSkuIiIiCiAgICAgICAgZ3JvdXBkaWN0ID0ge30KICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLnJlLmdyb3VwaW5kZXguaXRlbXMoKToKICAgICAgICAgICAgZ3JvdXBkaWN0W2tleV0gPSBzZWxmLl9nZXRfc2xpY2UodmFsdWUsIGRlZmF1bHQpCiAgICAgICAgcmV0dXJuIGdyb3VwZGljdAoKICAgIGRlZiBncm91cChzZWxmLCAqYXJncyk6CiAgICAgICAgIiIiUmV0dXJucyBvbmUgb3IgbW9yZSBzdWJncm91cHMgb2YgdGhlIG1hdGNoLiBFYWNoIGFyZ3VtZW50IGlzIGVpdGhlciBhCiAgICAgICAgZ3JvdXAgaW5kZXggb3IgYSBncm91cCBuYW1lLiIiIgogICAgICAgIGlmIGxlbihhcmdzKSA9PSAwOgogICAgICAgICAgICBhcmdzID0gKDAsKQogICAgICAgIGdyb3VwbGlzdCA9IFtdCiAgICAgICAgZm9yIGdyb3VwIGluIGFyZ3M6CiAgICAgICAgICAgIGdyb3VwbGlzdC5hcHBlbmQoc2VsZi5fZ2V0X3NsaWNlKHNlbGYuX2dldF9pbmRleChncm91cCksIE5vbmUpKQogICAgICAgIGlmIGxlbihncm91cGxpc3QpID09IDE6CiAgICAgICAgICAgIHJldHVybiBncm91cGxpc3RbMF0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gdHVwbGUoZ3JvdXBsaXN0KQoKICAgIGRlZiBfX2NvcHlfXygpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2Fubm90IGNvcHkgdGhpcyBwYXR0ZXJuIG9iamVjdCIpCgogICAgZGVmIF9fZGVlcGNvcHlfXygpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2Fubm90IGNvcHkgdGhpcyBwYXR0ZXJuIG9iamVjdCIpCgoKY2xhc3MgX1N0YXRlKG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0cmluZywgc3RhcnQsIGVuZCwgZmxhZ3MpOgogICAgICAgIHNlbGYuc3RyaW5nID0gc3RyaW5nCiAgICAgICAgaWYgc3RhcnQgPCAwOgogICAgICAgICAgICBzdGFydCA9IDAKICAgICAgICBpZiBlbmQgPiBsZW4oc3RyaW5nKToKICAgICAgICAgICAgZW5kID0gbGVuKHN0cmluZykKICAgICAgICBzZWxmLnN0YXJ0ID0gc3RhcnQKICAgICAgICBzZWxmLnN0cmluZ19wb3NpdGlvbiA9IHNlbGYuc3RhcnQKICAgICAgICBzZWxmLmVuZCA9IGVuZAogICAgICAgIHNlbGYucG9zID0gc3RhcnQKICAgICAgICBzZWxmLmZsYWdzID0gZmxhZ3MKICAgICAgICBzZWxmLnJlc2V0KCkKCiAgICBkZWYgcmVzZXQoc2VsZik6CiAgICAgICAgc2VsZi5tYXJrcyA9IFtdCiAgICAgICAgc2VsZi5sYXN0aW5kZXggPSAtMQogICAgICAgIHNlbGYubWFya3Nfc3RhY2sgPSBbXQogICAgICAgIHNlbGYuY29udGV4dF9zdGFjayA9IFtdCiAgICAgICAgc2VsZi5yZXBlYXQgPSBOb25lCgogICAgZGVmIG1hdGNoKHNlbGYsIHBhdHRlcm5fY29kZXMpOgogICAgICAgICMgT3B0aW1pemF0aW9uOiBDaGVjayBzdHJpbmcgbGVuZ3RoLiBwYXR0ZXJuX2NvZGVzWzNdIGNvbnRhaW5zIHRoZQogICAgICAgICMgbWluaW11bSBsZW5ndGggZm9yIGEgc3RyaW5nIHRvIHBvc3NpYmx5IG1hdGNoLgogICAgICAgIGlmIHBhdHRlcm5fY29kZXNbMF0gPT0gT1BDT0RFU1siaW5mbyJdIGFuZCBwYXR0ZXJuX2NvZGVzWzNdOgogICAgICAgICAgICBpZiBzZWxmLmVuZCAtIHNlbGYuc3RyaW5nX3Bvc2l0aW9uIDwgcGF0dGVybl9jb2Rlc1szXToKICAgICAgICAgICAgICAgICNfbG9nKCJyZWplY3QgKGdvdCAlZCBjaGFycywgbmVlZCAlZCkiCiAgICAgICAgICAgICAgICAjICAgICAgICAgJSAoc2VsZi5lbmQgLSBzZWxmLnN0cmluZ19wb3NpdGlvbiwgcGF0dGVybl9jb2Rlc1szXSkpCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAKICAgICAgICBkaXNwYXRjaGVyID0gX09wY29kZURpc3BhdGNoZXIoKQogICAgICAgIHNlbGYuY29udGV4dF9zdGFjay5hcHBlbmQoX01hdGNoQ29udGV4dChzZWxmLCBwYXR0ZXJuX2NvZGVzKSkKICAgICAgICBoYXNfbWF0Y2hlZCA9IE5vbmUKICAgICAgICB3aGlsZSBsZW4oc2VsZi5jb250ZXh0X3N0YWNrKSA+IDA6CiAgICAgICAgICAgIGNvbnRleHQgPSBzZWxmLmNvbnRleHRfc3RhY2tbLTFdCiAgICAgICAgICAgIGhhc19tYXRjaGVkID0gZGlzcGF0Y2hlci5tYXRjaChjb250ZXh0KQogICAgICAgICAgICBpZiBoYXNfbWF0Y2hlZCBpcyBub3QgTm9uZTogIyBkb24ndCBwb3AgaWYgY29udGV4dCBpc24ndCBkb25lCiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHRfc3RhY2sucG9wKCkKICAgICAgICByZXR1cm4gaGFzX21hdGNoZWQKCiAgICBkZWYgc2VhcmNoKHNlbGYsIHBhdHRlcm5fY29kZXMpOgogICAgICAgIGZsYWdzID0gMAogICAgICAgIGlmIHBhdHRlcm5fY29kZXNbMF0gPT0gT1BDT0RFU1siaW5mbyJdOgogICAgICAgICAgICAjIG9wdGltaXphdGlvbiBpbmZvIGJsb2NrCiAgICAgICAgICAgICMgPElORk8+IDwxPXNraXA+IDwyPWZsYWdzPiA8Mz1taW4+IDw0PW1heD4gPDU9cHJlZml4IGluZm8+CiAgICAgICAgICAgIGlmIHBhdHRlcm5fY29kZXNbMl0gJiBTUkVfSU5GT19QUkVGSVggYW5kIHBhdHRlcm5fY29kZXNbNV0gPiAxOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZmFzdF9zZWFyY2gocGF0dGVybl9jb2RlcykKICAgICAgICAgICAgZmxhZ3MgPSBwYXR0ZXJuX2NvZGVzWzJdCiAgICAgICAgICAgIHBhdHRlcm5fY29kZXMgPSBwYXR0ZXJuX2NvZGVzW3BhdHRlcm5fY29kZXNbMV0gKyAxOl0KCiAgICAgICAgc3RyaW5nX3Bvc2l0aW9uID0gc2VsZi5zdGFydAogICAgICAgIGlmIHBhdHRlcm5fY29kZXNbMF0gPT0gT1BDT0RFU1sibGl0ZXJhbCJdOgogICAgICAgICAgICAjIFNwZWNpYWwgY2FzZTogUGF0dGVybiBzdGFydHMgd2l0aCBhIGxpdGVyYWwgY2hhcmFjdGVyLiBUaGlzIGlzCiAgICAgICAgICAgICMgdXNlZCBmb3Igc2hvcnQgcHJlZml4ZXMKICAgICAgICAgICAgY2hhcmFjdGVyID0gcGF0dGVybl9jb2Rlc1sxXQogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgd2hpbGUgc3RyaW5nX3Bvc2l0aW9uIDwgc2VsZi5lbmQgXAogICAgICAgICAgICAgICAgICAgICAgICBhbmQgb3JkKHNlbGYuc3RyaW5nW3N0cmluZ19wb3NpdGlvbl0pICE9IGNoYXJhY3RlcjoKICAgICAgICAgICAgICAgICAgICBzdHJpbmdfcG9zaXRpb24gKz0gMQogICAgICAgICAgICAgICAgaWYgc3RyaW5nX3Bvc2l0aW9uID49IHNlbGYuZW5kOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICAgICAgICAgc2VsZi5zdGFydCA9IHN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICAgICAgc3RyaW5nX3Bvc2l0aW9uICs9IDEKICAgICAgICAgICAgICAgIHNlbGYuc3RyaW5nX3Bvc2l0aW9uID0gc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9JTkZPX0xJVEVSQUw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgICAgIGlmIHNlbGYubWF0Y2gocGF0dGVybl9jb2Rlc1syOl0pOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICAjIEdlbmVyYWwgY2FzZQogICAgICAgIHdoaWxlIHN0cmluZ19wb3NpdGlvbiA8PSBzZWxmLmVuZDoKICAgICAgICAgICAgc2VsZi5yZXNldCgpCiAgICAgICAgICAgIHNlbGYuc3RhcnQgPSBzZWxmLnN0cmluZ19wb3NpdGlvbiA9IHN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICBpZiBzZWxmLm1hdGNoKHBhdHRlcm5fY29kZXMpOgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgc3RyaW5nX3Bvc2l0aW9uICs9IDEKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgZmFzdF9zZWFyY2goc2VsZiwgcGF0dGVybl9jb2Rlcyk6CiAgICAgICAgIiIiU2tpcHMgZm9yd2FyZCBpbiBhIHN0cmluZyBhcyBmYXN0IGFzIHBvc3NpYmxlIHVzaW5nIGluZm9ybWF0aW9uIGZyb20KICAgICAgICBhbiBvcHRpbWl6YXRpb24gaW5mbyBibG9jay4iIiIKICAgICAgICAjIHBhdHRlcm4gc3RhcnRzIHdpdGggYSBrbm93biBwcmVmaXgKICAgICAgICAjIDw1PWxlbmd0aD4gPDY9c2tpcD4gPDc9cHJlZml4IGRhdGE+IDxvdmVybGFwIGRhdGE+CiAgICAgICAgZmxhZ3MgPSBwYXR0ZXJuX2NvZGVzWzJdCiAgICAgICAgcHJlZml4X2xlbiA9IHBhdHRlcm5fY29kZXNbNV0KICAgICAgICBwcmVmaXhfc2tpcCA9IHBhdHRlcm5fY29kZXNbNl0gIyBkb24ndCByZWFsbHkga25vdyB3aGF0IHRoaXMgaXMgZ29vZCBmb3IKICAgICAgICBwcmVmaXggPSBwYXR0ZXJuX2NvZGVzWzc6NyArIHByZWZpeF9sZW5dCiAgICAgICAgb3ZlcmxhcCA9IHBhdHRlcm5fY29kZXNbNyArIHByZWZpeF9sZW4gLSAxOnBhdHRlcm5fY29kZXNbMV0gKyAxXQogICAgICAgIHBhdHRlcm5fY29kZXMgPSBwYXR0ZXJuX2NvZGVzW3BhdHRlcm5fY29kZXNbMV0gKyAxOl0KICAgICAgICBpID0gMAogICAgICAgIHN0cmluZ19wb3NpdGlvbiA9IHNlbGYuc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgd2hpbGUgc3RyaW5nX3Bvc2l0aW9uIDwgc2VsZi5lbmQ6CiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICBpZiBvcmQoc2VsZi5zdHJpbmdbc3RyaW5nX3Bvc2l0aW9uXSkgIT0gcHJlZml4W2ldOgogICAgICAgICAgICAgICAgICAgIGlmIGkgPT0gMDoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBpID0gb3ZlcmxhcFtpXQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpICs9IDEKICAgICAgICAgICAgICAgICAgICBpZiBpID09IHByZWZpeF9sZW46CiAgICAgICAgICAgICAgICAgICAgICAgICMgZm91bmQgYSBwb3RlbnRpYWwgbWF0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydCA9IHN0cmluZ19wb3NpdGlvbiArIDEgLSBwcmVmaXhfbGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RyaW5nX3Bvc2l0aW9uID0gc3RyaW5nX3Bvc2l0aW9uICsgMSBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmVmaXhfbGVuICsgcHJlZml4X3NraXAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZmxhZ3MgJiBTUkVfSU5GT19MSVRFUkFMOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUgIyBtYXRjaGVkIGFsbCBvZiBwdXJlIGxpdGVyYWwgcGF0dGVybgogICAgICAgICAgICAgICAgICAgICAgICBpZiBzZWxmLm1hdGNoKHBhdHRlcm5fY29kZXNbMiAqIHByZWZpeF9za2lwOl0pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG92ZXJsYXBbaV0KICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBzdHJpbmdfcG9zaXRpb24gKz0gMQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBzZXRfbWFyayhzZWxmLCBtYXJrX25yLCBwb3NpdGlvbik6CiAgICAgICAgaWYgbWFya19uciAmIDE6CiAgICAgICAgICAgICMgVGhpcyBpZCBtYXJrcyB0aGUgZW5kIG9mIGEgZ3JvdXAuCiAgICAgICAgICAgIHNlbGYubGFzdGluZGV4ID0gbWFya19uciAvIDIgKyAxCiAgICAgICAgaWYgbWFya19uciA+PSBsZW4oc2VsZi5tYXJrcyk6CiAgICAgICAgICAgIHNlbGYubWFya3MuZXh0ZW5kKFtOb25lXSAqIChtYXJrX25yIC0gbGVuKHNlbGYubWFya3MpICsgMSkpCiAgICAgICAgc2VsZi5tYXJrc1ttYXJrX25yXSA9IHBvc2l0aW9uCgogICAgZGVmIGdldF9tYXJrcyhzZWxmLCBncm91cF9pbmRleCk6CiAgICAgICAgbWFya3NfaW5kZXggPSAyICogZ3JvdXBfaW5kZXgKICAgICAgICBpZiBsZW4oc2VsZi5tYXJrcykgPiBtYXJrc19pbmRleCArIDE6CiAgICAgICAgICAgIHJldHVybiBzZWxmLm1hcmtzW21hcmtzX2luZGV4XSwgc2VsZi5tYXJrc1ttYXJrc19pbmRleCArIDFdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUsIE5vbmUKCiAgICBkZWYgbWFya3NfcHVzaChzZWxmKToKICAgICAgICBzZWxmLm1hcmtzX3N0YWNrLmFwcGVuZCgoc2VsZi5tYXJrc1s6XSwgc2VsZi5sYXN0aW5kZXgpKQoKICAgIGRlZiBtYXJrc19wb3Aoc2VsZik6CiAgICAgICAgc2VsZi5tYXJrcywgc2VsZi5sYXN0aW5kZXggPSBzZWxmLm1hcmtzX3N0YWNrLnBvcCgpCgogICAgZGVmIG1hcmtzX3BvcF9rZWVwKHNlbGYpOgogICAgICAgIHNlbGYubWFya3MsIHNlbGYubGFzdGluZGV4ID0gc2VsZi5tYXJrc19zdGFja1stMV0KCiAgICBkZWYgbWFya3NfcG9wX2Rpc2NhcmQoc2VsZik6CiAgICAgICAgc2VsZi5tYXJrc19zdGFjay5wb3AoKQoKICAgIGRlZiBsb3dlcihzZWxmLCBjaGFyX29yZCk6CiAgICAgICAgcmV0dXJuIGdldGxvd2VyKGNoYXJfb3JkLCBzZWxmLmZsYWdzKQoKCmNsYXNzIF9NYXRjaENvbnRleHQob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhdGUsIHBhdHRlcm5fY29kZXMpOgogICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZQogICAgICAgIHNlbGYucGF0dGVybl9jb2RlcyA9IHBhdHRlcm5fY29kZXMKICAgICAgICBzZWxmLnN0cmluZ19wb3NpdGlvbiA9IHN0YXRlLnN0cmluZ19wb3NpdGlvbgogICAgICAgIHNlbGYuY29kZV9wb3NpdGlvbiA9IDAKICAgICAgICBzZWxmLmhhc19tYXRjaGVkID0gTm9uZQoKICAgIGRlZiBwdXNoX25ld19jb250ZXh0KHNlbGYsIHBhdHRlcm5fb2Zmc2V0KToKICAgICAgICAiIiJDcmVhdGVzIGEgbmV3IGNoaWxkIGNvbnRleHQgb2YgdGhpcyBjb250ZXh0IGFuZCBwdXNoZXMgaXQgb24gdGhlCiAgICAgICAgc3RhY2suIHBhdHRlcm5fb2Zmc2V0IGlzIHRoZSBvZmZzZXQgb2ZmIHRoZSBjdXJyZW50IGNvZGUgcG9zaXRpb24gdG8KICAgICAgICBzdGFydCBpbnRlcnByZXRpbmcgZnJvbS4iIiIKICAgICAgICBjaGlsZF9jb250ZXh0ID0gX01hdGNoQ29udGV4dChzZWxmLnN0YXRlLAogICAgICAgICAgICBzZWxmLnBhdHRlcm5fY29kZXNbc2VsZi5jb2RlX3Bvc2l0aW9uICsgcGF0dGVybl9vZmZzZXQ6XSkKICAgICAgICBzZWxmLnN0YXRlLmNvbnRleHRfc3RhY2suYXBwZW5kKGNoaWxkX2NvbnRleHQpCiAgICAgICAgcmV0dXJuIGNoaWxkX2NvbnRleHQKCiAgICBkZWYgcGVla19jaGFyKHNlbGYsIHBlZWs9MCk6CiAgICAgICAgcmV0dXJuIHNlbGYuc3RhdGUuc3RyaW5nW3NlbGYuc3RyaW5nX3Bvc2l0aW9uICsgcGVla10KCiAgICBkZWYgc2tpcF9jaGFyKHNlbGYsIHNraXBfY291bnQpOgogICAgICAgIHNlbGYuc3RyaW5nX3Bvc2l0aW9uICs9IHNraXBfY291bnQKCiAgICBkZWYgcmVtYWluaW5nX2NoYXJzKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnN0YXRlLmVuZCAtIHNlbGYuc3RyaW5nX3Bvc2l0aW9uCgogICAgZGVmIHBlZWtfY29kZShzZWxmLCBwZWVrPTApOgogICAgICAgIHJldHVybiBzZWxmLnBhdHRlcm5fY29kZXNbc2VsZi5jb2RlX3Bvc2l0aW9uICsgcGVla10KCiAgICBkZWYgc2tpcF9jb2RlKHNlbGYsIHNraXBfY291bnQpOgogICAgICAgIHNlbGYuY29kZV9wb3NpdGlvbiArPSBza2lwX2NvdW50CgogICAgZGVmIHJlbWFpbmluZ19jb2RlcyhzZWxmKToKICAgICAgICByZXR1cm4gbGVuKHNlbGYucGF0dGVybl9jb2RlcykgLSBzZWxmLmNvZGVfcG9zaXRpb24KCiAgICBkZWYgYXRfYmVnaW5uaW5nKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnN0cmluZ19wb3NpdGlvbiA9PSAwCgogICAgZGVmIGF0X2VuZChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zdHJpbmdfcG9zaXRpb24gPT0gc2VsZi5zdGF0ZS5lbmQKCiAgICBkZWYgYXRfbGluZWJyZWFrKHNlbGYpOgogICAgICAgIHJldHVybiBub3Qgc2VsZi5hdF9lbmQoKSBhbmQgX2lzX2xpbmVicmVhayhzZWxmLnBlZWtfY2hhcigpKQoKICAgIGRlZiBhdF9ib3VuZGFyeShzZWxmLCB3b3JkX2NoZWNrZXIpOgogICAgICAgIGlmIHNlbGYuYXRfYmVnaW5uaW5nKCkgYW5kIHNlbGYuYXRfZW5kKCk6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHRoYXQgPSBub3Qgc2VsZi5hdF9iZWdpbm5pbmcoKSBhbmQgd29yZF9jaGVja2VyKHNlbGYucGVla19jaGFyKC0xKSkKICAgICAgICB0aGlzID0gbm90IHNlbGYuYXRfZW5kKCkgYW5kIHdvcmRfY2hlY2tlcihzZWxmLnBlZWtfY2hhcigpKQogICAgICAgIHJldHVybiB0aGlzICE9IHRoYXQKCgpjbGFzcyBfUmVwZWF0Q29udGV4dChfTWF0Y2hDb250ZXh0KToKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIGNvbnRleHQpOgogICAgICAgIF9NYXRjaENvbnRleHQuX19pbml0X18oc2VsZiwgY29udGV4dC5zdGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucGF0dGVybl9jb2Rlc1tjb250ZXh0LmNvZGVfcG9zaXRpb246XSkKICAgICAgICBzZWxmLmNvdW50ID0gLTEKICAgICAgICBzZWxmLnByZXZpb3VzID0gY29udGV4dC5zdGF0ZS5yZXBlYXQKICAgICAgICBzZWxmLmxhc3RfcG9zaXRpb24gPSBOb25lCgoKY2xhc3MgX0Rpc3BhdGNoZXIob2JqZWN0KToKCiAgICBESVNQQVRDSF9UQUJMRSA9IE5vbmUKCiAgICBkZWYgZGlzcGF0Y2goc2VsZiwgY29kZSwgY29udGV4dCk6CiAgICAgICAgbWV0aG9kID0gc2VsZi5ESVNQQVRDSF9UQUJMRS5nZXQoY29kZSwgc2VsZi5fX2NsYXNzX18udW5rbm93bikKICAgICAgICByZXR1cm4gbWV0aG9kKHNlbGYsIGNvbnRleHQpCgogICAgZGVmIHVua25vd24oc2VsZiwgY29kZSwgY3R4KToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgYnVpbGRfZGlzcGF0Y2hfdGFibGUoY2xzLCBjb2RlX2RpY3QsIG1ldGhvZF9wcmVmaXgpOgogICAgICAgIGlmIGNscy5ESVNQQVRDSF9UQUJMRSBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgdGFibGUgPSB7fQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGNvZGVfZGljdC5pdGVtcygpOgogICAgICAgICAgICBpZiBoYXNhdHRyKGNscywgIiVzJXMiICUgKG1ldGhvZF9wcmVmaXgsIGtleSkpOgogICAgICAgICAgICAgICAgdGFibGVbdmFsdWVdID0gZ2V0YXR0cihjbHMsICIlcyVzIiAlIChtZXRob2RfcHJlZml4LCBrZXkpKQogICAgICAgIGNscy5ESVNQQVRDSF9UQUJMRSA9IHRhYmxlCgogICAgYnVpbGRfZGlzcGF0Y2hfdGFibGUgPSBjbGFzc21ldGhvZChidWlsZF9kaXNwYXRjaF90YWJsZSkKCgpjbGFzcyBfT3Bjb2RlRGlzcGF0Y2hlcihfRGlzcGF0Y2hlcik6CiAgICAKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmV4ZWN1dGluZ19jb250ZXh0cyA9IHt9CiAgICAgICAgc2VsZi5hdF9kaXNwYXRjaGVyID0gX0F0Y29kZURpc3BhdGNoZXIoKQogICAgICAgIHNlbGYuY2hfZGlzcGF0Y2hlciA9IF9DaGNvZGVEaXNwYXRjaGVyKCkKICAgICAgICBzZWxmLnNldF9kaXNwYXRjaGVyID0gX0NoYXJzZXREaXNwYXRjaGVyKCkKICAgICAgICAKICAgIGRlZiBtYXRjaChzZWxmLCBjb250ZXh0KToKICAgICAgICAiIiJSZXR1cm5zIFRydWUgaWYgdGhlIGN1cnJlbnQgY29udGV4dCBtYXRjaGVzLCBGYWxzZSBpZiBpdCBkb2Vzbid0IGFuZAogICAgICAgIE5vbmUgaWYgbWF0Y2hpbmcgaXMgbm90IGZpbmlzaGVkLCBpZSBtdXN0IGJlIHJlc3VtZWQgYWZ0ZXIgY2hpbGQKICAgICAgICBjb250ZXh0cyBoYXZlIGJlZW4gbWF0Y2hlZC4iIiIKICAgICAgICB3aGlsZSBjb250ZXh0LnJlbWFpbmluZ19jb2RlcygpID4gMCBhbmQgY29udGV4dC5oYXNfbWF0Y2hlZCBpcyBOb25lOgogICAgICAgICAgICBvcGNvZGUgPSBjb250ZXh0LnBlZWtfY29kZSgpCiAgICAgICAgICAgIGlmIG5vdCBzZWxmLmRpc3BhdGNoKG9wY29kZSwgY29udGV4dCk6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGlmIGNvbnRleHQuaGFzX21hdGNoZWQgaXMgTm9uZToKICAgICAgICAgICAgY29udGV4dC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgcmV0dXJuIGNvbnRleHQuaGFzX21hdGNoZWQKCiAgICBkZWYgZGlzcGF0Y2goc2VsZiwgb3Bjb2RlLCBjb250ZXh0KToKICAgICAgICAiIiJEaXNwYXRjaGVzIGEgY29udGV4dCBvbiBhIGdpdmVuIG9wY29kZS4gUmV0dXJucyBUcnVlIGlmIHRoZSBjb250ZXh0CiAgICAgICAgaXMgZG9uZSBtYXRjaGluZywgRmFsc2UgaWYgaXQgbXVzdCBiZSByZXN1bWVkIHdoZW4gbmV4dCBlbmNvdW50ZXJlZC4iIiIKICAgICAgICAjaWYgc2VsZi5leGVjdXRpbmdfY29udGV4dHMuaGFzX2tleShpZChjb250ZXh0KSk6CiAgICAgICAgcHJpbnQoY29udGV4dCkKICAgICAgICBwcmludChpZChjb250ZXh0KSkKICAgICAgICBpZiBpZChjb250ZXh0KSBpbiBzZWxmLmV4ZWN1dGluZ19jb250ZXh0czoKICAgICAgICAgICAgZ2VuZXJhdG9yID0gc2VsZi5leGVjdXRpbmdfY29udGV4dHNbaWQoY29udGV4dCldCiAgICAgICAgICAgIGRlbCBzZWxmLmV4ZWN1dGluZ19jb250ZXh0c1tpZChjb250ZXh0KV0KICAgICAgICAgICAgaGFzX2ZpbmlzaGVkID0gZ2VuZXJhdG9yLm5leHQoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KHNlbGYuRElTUEFUQ0hfVEFCTEUpCiAgICAgICAgICAgIG1ldGhvZCA9IHNlbGYuRElTUEFUQ0hfVEFCTEUuZ2V0KG9wY29kZSwgX09wY29kZURpc3BhdGNoZXIudW5rbm93bikKICAgICAgICAgICAgcHJpbnQobWV0aG9kKQogICAgICAgICAgICBoYXNfZmluaXNoZWQgPSBtZXRob2Qoc2VsZiwgY29udGV4dCkKICAgICAgICAgICAgaWYgaGFzYXR0cihoYXNfZmluaXNoZWQsICJuZXh0Iik6ICMgYXZvaWQgdXNpbmcgdGhlIHR5cGVzIG1vZHVsZQogICAgICAgICAgICAgICAgZ2VuZXJhdG9yID0gaGFzX2ZpbmlzaGVkCiAgICAgICAgICAgICAgICBoYXNfZmluaXNoZWQgPSBnZW5lcmF0b3IubmV4dCgpCiAgICAgICAgaWYgbm90IGhhc19maW5pc2hlZDoKICAgICAgICAgICAgc2VsZi5leGVjdXRpbmdfY29udGV4dHNbaWQoY29udGV4dCldID0gZ2VuZXJhdG9yCiAgICAgICAgcmV0dXJuIGhhc19maW5pc2hlZAoKICAgIGRlZiBvcF9zdWNjZXNzKHNlbGYsIGN0eCk6CiAgICAgICAgIyBlbmQgb2YgcGF0dGVybgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiU1VDQ0VTUyIpCiAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3BfZmFpbHVyZShzZWxmLCBjdHgpOgogICAgICAgICMgaW1tZWRpYXRlIGZhaWx1cmUKICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkZBSUxVUkUiKQogICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgZ2VuZXJhbF9vcF9saXRlcmFsKHNlbGYsIGN0eCwgY29tcGFyZSwgZGVjb3JhdGU9bGFtYmRhIHg6IHgpOgogICAgICAgIGlmIGN0eC5hdF9lbmQoKSBvciBub3QgY29tcGFyZShkZWNvcmF0ZShvcmQoY3R4LnBlZWtfY2hhcigpKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGUoY3R4LnBlZWtfY29kZSgxKSkpOgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgICAgICBjdHguc2tpcF9jaGFyKDEpCgogICAgZGVmIG9wX2xpdGVyYWwoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGxpdGVyYWwgc3RyaW5nCiAgICAgICAgIyA8TElURVJBTD4gPGNvZGU+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJMSVRFUkFMIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfbGl0ZXJhbChjdHgsIG9wZXJhdG9yLmVxKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX25vdF9saXRlcmFsKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZ2l2ZW4gbGl0ZXJhbCBjaGFyYWN0ZXIKICAgICAgICAjIDxOT1RfTElURVJBTD4gPGNvZGU+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJOT1RfTElURVJBTCIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgc2VsZi5nZW5lcmFsX29wX2xpdGVyYWwoY3R4LCBvcGVyYXRvci5uZSkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9saXRlcmFsX2lnbm9yZShzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggbGl0ZXJhbCByZWdhcmRsZXNzIG9mIGNhc2UKICAgICAgICAjIDxMSVRFUkFMX0lHTk9SRT4gPGNvZGU+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJMSVRFUkFMX0lHTk9SRSIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgc2VsZi5nZW5lcmFsX29wX2xpdGVyYWwoY3R4LCBvcGVyYXRvci5lcSwgY3R4LnN0YXRlLmxvd2VyKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX25vdF9saXRlcmFsX2lnbm9yZShzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggbGl0ZXJhbCByZWdhcmRsZXNzIG9mIGNhc2UKICAgICAgICAjIDxMSVRFUkFMX0lHTk9SRT4gPGNvZGU+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJMSVRFUkFMX0lHTk9SRSIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgc2VsZi5nZW5lcmFsX29wX2xpdGVyYWwoY3R4LCBvcGVyYXRvci5uZSwgY3R4LnN0YXRlLmxvd2VyKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX2F0KHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBhdCBnaXZlbiBwb3NpdGlvbgogICAgICAgICMgPEFUPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkFUIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBpZiBub3Qgc2VsZi5hdF9kaXNwYXRjaGVyLmRpc3BhdGNoKGN0eC5wZWVrX2NvZGUoMSksIGN0eCk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgY3R4LnNraXBfY29kZSgyKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX2NhdGVnb3J5KHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBhdCBnaXZlbiBjYXRlZ29yeQogICAgICAgICMgPENBVEVHT1JZPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkNBVEVHT1JZIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBpZiBjdHguYXRfZW5kKCkgb3Igbm90IHNlbGYuY2hfZGlzcGF0Y2hlci5kaXNwYXRjaChjdHgucGVla19jb2RlKDEpLCBjdHgpOgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgICAgICBjdHguc2tpcF9jaGFyKDEpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3BfYW55KHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBhbnl0aGluZyAoZXhjZXB0IGEgbmV3bGluZSkKICAgICAgICAjIDxBTlk+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJBTlkiKQogICAgICAgIGlmIGN0eC5hdF9lbmQoKSBvciBjdHguYXRfbGluZWJyZWFrKCk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgY3R4LnNraXBfY29kZSgxKQogICAgICAgIGN0eC5za2lwX2NoYXIoMSkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9hbnlfYWxsKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBhbnl0aGluZwogICAgICAgICMgPEFOWV9BTEw+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJBTllfQUxMIikKICAgICAgICBpZiBjdHguYXRfZW5kKCk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgY3R4LnNraXBfY29kZSgxKQogICAgICAgIGN0eC5za2lwX2NoYXIoMSkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBnZW5lcmFsX29wX2luKHNlbGYsIGN0eCwgZGVjb3JhdGU9bGFtYmRhIHg6IHgpOgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiT1BfSU4iKQogICAgICAgIGlmIGN0eC5hdF9lbmQoKToKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgc2tpcCA9IGN0eC5wZWVrX2NvZGUoMSkKICAgICAgICBjdHguc2tpcF9jb2RlKDIpICMgc2V0IG9wIHBvaW50ZXIgdG8gdGhlIHNldCBjb2RlCiAgICAgICAgaWYgbm90IHNlbGYuY2hlY2tfY2hhcnNldChjdHgsIGRlY29yYXRlKG9yZChjdHgucGVla19jaGFyKCkpKSk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGN0eC5za2lwX2NvZGUoc2tpcCAtIDEpCiAgICAgICAgY3R4LnNraXBfY2hhcigxKQoKICAgIGRlZiBvcF9pbihzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggc2V0IG1lbWJlciAob3Igbm9uX21lbWJlcikKICAgICAgICAjIDxJTj4gPHNraXA+IDxzZXQ+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJPUF9JTiIpCiAgICAgICAgc2VsZi5nZW5lcmFsX29wX2luKGN0eCkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9pbl9pZ25vcmUoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIHNldCBtZW1iZXIgKG9yIG5vbl9tZW1iZXIpLCBkaXNyZWdhcmRpbmcgY2FzZSBvZiBjdXJyZW50IGNoYXIKICAgICAgICAjIDxJTl9JR05PUkU+IDxza2lwPiA8c2V0PgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiT1BfSU5fSUdOT1JFIikKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfaW4oY3R4LCBjdHguc3RhdGUubG93ZXIpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3BfanVtcChzZWxmLCBjdHgpOgogICAgICAgICMganVtcCBmb3J3YXJkCiAgICAgICAgIyA8SlVNUD4gPG9mZnNldD4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkpVTVAiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIGN0eC5za2lwX2NvZGUoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICAjIHNraXAgaW5mbwogICAgIyA8SU5GTz4gPHNraXA+CiAgICBvcF9pbmZvID0gb3BfanVtcAoKICAgIGRlZiBvcF9tYXJrKHNlbGYsIGN0eCk6CiAgICAgICAgIyBzZXQgbWFyawogICAgICAgICMgPE1BUks+IDxnaWQ+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJPUF9NQVJLIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBjdHguc3RhdGUuc2V0X21hcmsoY3R4LnBlZWtfY29kZSgxKSwgY3R4LnN0cmluZ19wb3NpdGlvbikKICAgICAgICBjdHguc2tpcF9jb2RlKDIpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICAjZnVuY3Rpb24gYmVsb3cgY2F1c2VzIFR5cGVFcnJvcjogc2NvcGUuY29udGV4dC50cmVlWzBdLmFkZF9nZW5lcmF0b3JfZGVjbGFyYXRpb24gaXMgbm90IGEgZnVuY3Rpb24KICAgIGRlZiBvcF9icmFuY2goc2VsZiwgY3R4KToKICAgICAgICAjIGFsdGVybmF0aW9uCiAgICAgICAgIyA8QlJBTkNIPiA8MD1za2lwPiBjb2RlIDxKVU1QPiAuLi4gPE5VTEw+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJCUkFOQ0giKQogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wdXNoKCkKICAgICAgICBjdHguc2tpcF9jb2RlKDEpCiAgICAgICAgY3VycmVudF9icmFuY2hfbGVuZ3RoID0gY3R4LnBlZWtfY29kZSgwKQogICAgICAgIHdoaWxlIGN1cnJlbnRfYnJhbmNoX2xlbmd0aDoKICAgICAgICAgICAgIyBUaGUgZm9sbG93aW5nIHRyaWVzIHRvIHNob3J0Y3V0IGJyYW5jaGVzIHN0YXJ0aW5nIHdpdGggYQogICAgICAgICAgICAjICh1bm1hdGNoZWQpIGxpdGVyYWwuIF9zcmUuYyBhbHNvIHNob3J0Y3V0cyBjaGFyc2V0cyBoZXJlLgogICAgICAgICAgICBpZiBub3QgKGN0eC5wZWVrX2NvZGUoMSkgPT0gT1BDT0RFU1sibGl0ZXJhbCJdIGFuZCBcCiAgICAgICAgICAgICAgICAgICAgKGN0eC5hdF9lbmQoKSBvciBjdHgucGVla19jb2RlKDIpICE9IG9yZChjdHgucGVla19jaGFyKCkpKSk6CiAgICAgICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICAgICAgY2hpbGRfY29udGV4dCA9IGN0eC5wdXNoX25ld19jb250ZXh0KDEpCiAgICAgICAgICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgICAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9rZWVwKCkKICAgICAgICAgICAgY3R4LnNraXBfY29kZShjdXJyZW50X2JyYW5jaF9sZW5ndGgpCiAgICAgICAgICAgIGN1cnJlbnRfYnJhbmNoX2xlbmd0aCA9IGN0eC5wZWVrX2NvZGUoMCkKICAgICAgICBjdHguc3RhdGUubWFya3NfcG9wX2Rpc2NhcmQoKQogICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgeWllbGQgVHJ1ZQogICAgCgogICAgI2Z1bmN0aW9uIGJlbG93IGNhdXNlcyBUeXBlRXJyb3I6IHNjb3BlLmNvbnRleHQudHJlZVswXS5hZGRfZ2VuZXJhdG9yX2RlY2xhcmF0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uCiAgICBkZWYgb3BfcmVwZWF0X29uZShzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggcmVwZWF0ZWQgc2VxdWVuY2UgKG1heGltaXppbmcpLgogICAgICAgICMgdGhpcyBvcGVyYXRvciBvbmx5IHdvcmtzIGlmIHRoZSByZXBlYXRlZCBpdGVtIGlzIGV4YWN0bHkgb25lIGNoYXJhY3RlcgogICAgICAgICMgd2lkZSwgYW5kIHdlJ3JlIG5vdCBhbHJlYWR5IGNvbGxlY3RpbmcgYmFja3RyYWNraW5nIHBvaW50cy4KICAgICAgICAjIDxSRVBFQVRfT05FPiA8c2tpcD4gPDE9bWluPiA8Mj1tYXg+IGl0ZW0gPFNVQ0NFU1M+IHRhaWwKICAgICAgICBtaW5jb3VudCA9IGN0eC5wZWVrX2NvZGUoMikKICAgICAgICBtYXhjb3VudCA9IGN0eC5wZWVrX2NvZGUoMykKICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIlJFUEVBVF9PTkUiLCBtaW5jb3VudCwgbWF4Y291bnQpCgogICAgICAgIGlmIGN0eC5yZW1haW5pbmdfY2hhcnMoKSA8IG1pbmNvdW50OgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBjb3VudCA9IHNlbGYuY291bnRfcmVwZXRpdGlvbnMoY3R4LCBtYXhjb3VudCkKICAgICAgICBjdHguc2tpcF9jaGFyKGNvdW50KQogICAgICAgIGlmIGNvdW50IDwgbWluY291bnQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICBpZiBjdHgucGVla19jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAxKSA9PSBPUENPREVTWyJzdWNjZXNzIl06CiAgICAgICAgICAgICMgdGFpbCBpcyBlbXB0eS4gIHdlJ3JlIGZpbmlzaGVkCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICBjdHguc3RhdGUubWFya3NfcHVzaCgpCiAgICAgICAgaWYgY3R4LnBlZWtfY29kZShjdHgucGVla19jb2RlKDEpICsgMSkgPT0gT1BDT0RFU1sibGl0ZXJhbCJdOgogICAgICAgICAgICAjIFNwZWNpYWwgY2FzZTogVGFpbCBzdGFydHMgd2l0aCBhIGxpdGVyYWwuIFNraXAgcG9zaXRpb25zIHdoZXJlCiAgICAgICAgICAgICMgdGhlIHJlc3Qgb2YgdGhlIHBhdHRlcm4gY2Fubm90IHBvc3NpYmx5IG1hdGNoLgogICAgICAgICAgICBjaGFyID0gY3R4LnBlZWtfY29kZShjdHgucGVla19jb2RlKDEpICsgMikKICAgICAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgICAgIHdoaWxlIGNvdW50ID49IG1pbmNvdW50IGFuZCBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN0eC5hdF9lbmQoKSBvciBvcmQoY3R4LnBlZWtfY2hhcigpKSAhPSBjaGFyKToKICAgICAgICAgICAgICAgICAgICBjdHguc2tpcF9jaGFyKC0xKQogICAgICAgICAgICAgICAgICAgIGNvdW50IC09IDEKICAgICAgICAgICAgICAgIGlmIGNvdW50IDwgbWluY291bnQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgICAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgICAgICAgICAgY3R4LnNraXBfY2hhcigtMSkKICAgICAgICAgICAgICAgIGNvdW50IC09IDEKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3Bfa2VlcCgpCiAgICAgICAgCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBHZW5lcmFsIGNhc2U6IGJhY2t0cmFja2luZwogICAgICAgICAgICB3aGlsZSBjb3VudCA+PSBtaW5jb3VudDoKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgICAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgICAgICAgICAgY3R4LnNraXBfY2hhcigtMSkKICAgICAgICAgICAgICAgIGNvdW50IC09IDEKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3Bfa2VlcCgpCgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3BfZGlzY2FyZCgpCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICB5aWVsZCBUcnVlCiAgICAKICAgICNmdW5jdGlvbiBiZWxvdyBjYXVzZXMgVHlwZUVycm9yOiBzY29wZS5jb250ZXh0LnRyZWVbMF0uYWRkX2dlbmVyYXRvcl9kZWNsYXJhdGlvbiBpcyBub3QgYSBmdW5jdGlvbgogICAgZGVmIG9wX21pbl9yZXBlYXRfb25lKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCByZXBlYXRlZCBzZXF1ZW5jZSAobWluaW1pemluZykKICAgICAgICAjIDxNSU5fUkVQRUFUX09ORT4gPHNraXA+IDwxPW1pbj4gPDI9bWF4PiBpdGVtIDxTVUNDRVNTPiB0YWlsCiAgICAgICAgbWluY291bnQgPSBjdHgucGVla19jb2RlKDIpCiAgICAgICAgbWF4Y291bnQgPSBjdHgucGVla19jb2RlKDMpCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJNSU5fUkVQRUFUX09ORSIsIG1pbmNvdW50LCBtYXhjb3VudCkKCiAgICAgICAgaWYgY3R4LnJlbWFpbmluZ19jaGFycygpIDwgbWluY291bnQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGlmIG1pbmNvdW50ID09IDA6CiAgICAgICAgICAgIGNvdW50ID0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvdW50ID0gc2VsZi5jb3VudF9yZXBldGl0aW9ucyhjdHgsIG1pbmNvdW50KQogICAgICAgICAgICBpZiBjb3VudCA8IG1pbmNvdW50OgogICAgICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICAgICAgY3R4LnNraXBfY2hhcihjb3VudCkKICAgICAgICBpZiBjdHgucGVla19jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAxKSA9PSBPUENPREVTWyJzdWNjZXNzIl06CiAgICAgICAgICAgICMgdGFpbCBpcyBlbXB0eS4gIHdlJ3JlIGZpbmlzaGVkCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICBjdHguc3RhdGUubWFya3NfcHVzaCgpCiAgICAgICAgd2hpbGUgbWF4Y291bnQgPT0gTUFYUkVQRUFUIG9yIGNvdW50IDw9IG1heGNvdW50OgogICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGlmIHNlbGYuY291bnRfcmVwZXRpdGlvbnMoY3R4LCAxKSA9PSAwOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgY3R4LnNraXBfY2hhcigxKQogICAgICAgICAgICBjb3VudCArPSAxCiAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3Bfa2VlcCgpCgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3BfZGlzY2FyZCgpCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICB5aWVsZCBUcnVlCiAgICAKICAgICNmdW5jdGlvbiBiZWxvdyBjYXVzZXMgVHlwZUVycm9yOiBzY29wZS5jb250ZXh0LnRyZWVbMF0uYWRkX2dlbmVyYXRvcl9kZWNsYXJhdGlvbiBpcyBub3QgYSBmdW5jdGlvbgogICAgZGVmIG9wX3JlcGVhdChzZWxmLCBjdHgpOgogICAgICAgICMgY3JlYXRlIHJlcGVhdCBjb250ZXh0LiAgYWxsIHRoZSBoYXJkIHdvcmsgaXMgZG9uZSBieSB0aGUgVU5USUwKICAgICAgICAjIG9wZXJhdG9yIChNQVhfVU5USUwsIE1JTl9VTlRJTCkKICAgICAgICAjIDxSRVBFQVQ+IDxza2lwPiA8MT1taW4+IDwyPW1heD4gaXRlbSA8VU5USUw+IHRhaWwKICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIlJFUEVBVCIsIGN0eC5wZWVrX2NvZGUoMiksIGN0eC5wZWVrX2NvZGUoMykpCiAgICAgICAgcmVwZWF0ID0gX1JlcGVhdENvbnRleHQoY3R4KQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGNoaWxkX2NvbnRleHQgPSBjdHgucHVzaF9uZXdfY29udGV4dChjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQucHJldmlvdXMKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkCiAgICAgICAgeWllbGQgVHJ1ZQoKICAgIAogICAgI2Z1bmN0aW9uIGJlbG93IGNhdXNlcyBUeXBlRXJyb3I6IHNjb3BlLmNvbnRleHQudHJlZVswXS5hZGRfZ2VuZXJhdG9yX2RlY2xhcmF0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uCiAgICBkZWYgb3BfbWF4X3VudGlsKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXhpbWl6aW5nIHJlcGVhdAogICAgICAgICMgPFJFUEVBVD4gPHNraXA+IDwxPW1pbj4gPDI9bWF4PiBpdGVtIDxNQVhfVU5USUw+IHRhaWwKICAgICAgICByZXBlYXQgPSBjdHguc3RhdGUucmVwZWF0CiAgICAgICAgaWYgcmVwZWF0IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiSW50ZXJuYWwgcmUgZXJyb3I6IE1BWF9VTlRJTCB3aXRob3V0IFJFUEVBVC4iKQogICAgICAgIG1pbmNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgyKQogICAgICAgIG1heGNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgzKQogICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgY291bnQgPSByZXBlYXQuY291bnQgKyAxCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJNQVhfVU5USUwiLCBjb3VudCkKCiAgICAgICAgaWYgY291bnQgPCBtaW5jb3VudDoKICAgICAgICAgICAgIyBub3QgZW5vdWdoIG1hdGNoZXMKICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQKICAgICAgICAgICAgY2hpbGRfY29udGV4dCA9IHJlcGVhdC5wdXNoX25ld19jb250ZXh0KDQpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQKICAgICAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50IC0gMQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICBpZiAoY291bnQgPCBtYXhjb3VudCBvciBtYXhjb3VudCA9PSBNQVhSRVBFQVQpIFwKICAgICAgICAgICAgICAgICAgICAgIGFuZCBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uICE9IHJlcGVhdC5sYXN0X3Bvc2l0aW9uOgogICAgICAgICAgICAjIHdlIG1heSBoYXZlIGVub3VnaCBtYXRjaGVzLCBpZiB3ZSBjYW4gbWF0Y2ggYW5vdGhlciBpdGVtLCBkbyBzbwogICAgICAgICAgICByZXBlYXQuY291bnQgPSBjb3VudAogICAgICAgICAgICBjdHguc3RhdGUubWFya3NfcHVzaCgpCiAgICAgICAgICAgIHNhdmVfbGFzdF9wb3NpdGlvbiA9IHJlcGVhdC5sYXN0X3Bvc2l0aW9uICMgemVyby13aWR0aCBtYXRjaCBwcm90ZWN0aW9uCiAgICAgICAgICAgIHJlcGVhdC5sYXN0X3Bvc2l0aW9uID0gY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gcmVwZWF0LnB1c2hfbmV3X2NvbnRleHQoNCkKICAgICAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICAgICAgcmVwZWF0Lmxhc3RfcG9zaXRpb24gPSBzYXZlX2xhc3RfcG9zaXRpb24KICAgICAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3BfZGlzY2FyZCgpCiAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3AoKQogICAgICAgICAgICByZXBlYXQuY291bnQgPSBjb3VudCAtIDEKICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KCiAgICAgICAgIyBjYW5ub3QgbWF0Y2ggbW9yZSByZXBlYXRlZCBpdGVtcyBoZXJlLiAgbWFrZSBzdXJlIHRoZSB0YWlsIG1hdGNoZXMKICAgICAgICBjdHguc3RhdGUucmVwZWF0ID0gcmVwZWF0LnByZXZpb3VzCiAgICAgICAgY2hpbGRfY29udGV4dCA9IGN0eC5wdXNoX25ld19jb250ZXh0KDEpCiAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkCiAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgY3R4LnN0YXRlLnJlcGVhdCA9IHJlcGVhdAogICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIHlpZWxkIFRydWUKICAgIAogICAgI2Z1bmN0aW9uIGJlbG93IGNhdXNlcyBUeXBlRXJyb3I6IHNjb3BlLmNvbnRleHQudHJlZVswXS5hZGRfZ2VuZXJhdG9yX2RlY2xhcmF0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uCiAgICBkZWYgb3BfbWluX3VudGlsKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtaW5pbWl6aW5nIHJlcGVhdAogICAgICAgICMgPFJFUEVBVD4gPHNraXA+IDwxPW1pbj4gPDI9bWF4PiBpdGVtIDxNSU5fVU5USUw+IHRhaWwKICAgICAgICByZXBlYXQgPSBjdHguc3RhdGUucmVwZWF0CiAgICAgICAgaWYgcmVwZWF0IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiSW50ZXJuYWwgcmUgZXJyb3I6IE1JTl9VTlRJTCB3aXRob3V0IFJFUEVBVC4iKQogICAgICAgIG1pbmNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgyKQogICAgICAgIG1heGNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgzKQogICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgY291bnQgPSByZXBlYXQuY291bnQgKyAxCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJNSU5fVU5USUwiLCBjb3VudCkKCiAgICAgICAgaWYgY291bnQgPCBtaW5jb3VudDoKICAgICAgICAgICAgIyBub3QgZW5vdWdoIG1hdGNoZXMKICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQKICAgICAgICAgICAgY2hpbGRfY29udGV4dCA9IHJlcGVhdC5wdXNoX25ld19jb250ZXh0KDQpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQKICAgICAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50IC0gMQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICAjIHNlZSBpZiB0aGUgdGFpbCBtYXRjaGVzCiAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3B1c2goKQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQucHJldmlvdXMKICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoMSkKICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3AoKQoKICAgICAgICAjIG1hdGNoIG1vcmUgdW50aWwgdGFpbCBtYXRjaGVzCiAgICAgICAgaWYgY291bnQgPj0gbWF4Y291bnQgYW5kIG1heGNvdW50ICE9IE1BWFJFUEVBVDoKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50CiAgICAgICAgY2hpbGRfY29udGV4dCA9IHJlcGVhdC5wdXNoX25ld19jb250ZXh0KDQpCiAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkCiAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQgLSAxCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgeWllbGQgVHJ1ZQoKCiAgICBkZWYgZ2VuZXJhbF9vcF9ncm91cHJlZihzZWxmLCBjdHgsIGRlY29yYXRlPWxhbWJkYSB4OiB4KToKICAgICAgICBncm91cF9zdGFydCwgZ3JvdXBfZW5kID0gY3R4LnN0YXRlLmdldF9tYXJrcyhjdHgucGVla19jb2RlKDEpKQogICAgICAgIGlmIGdyb3VwX3N0YXJ0IGlzIE5vbmUgb3IgZ3JvdXBfZW5kIGlzIE5vbmUgb3IgZ3JvdXBfZW5kIDwgZ3JvdXBfc3RhcnQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgd2hpbGUgZ3JvdXBfc3RhcnQgPCBncm91cF9lbmQ6CiAgICAgICAgICAgIGlmIGN0eC5hdF9lbmQoKSBvciBkZWNvcmF0ZShvcmQoY3R4LnBlZWtfY2hhcigpKSkgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICE9IGRlY29yYXRlKG9yZChjdHguc3RhdGUuc3RyaW5nW2dyb3VwX3N0YXJ0XSkpOgogICAgICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIGdyb3VwX3N0YXJ0ICs9IDEKICAgICAgICAgICAgY3R4LnNraXBfY2hhcigxKQogICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgICAgICByZXR1cm4gVHJ1ZQogICAgCiAgICBkZWYgb3BfZ3JvdXByZWYoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGJhY2tyZWZlcmVuY2UKICAgICAgICAjIDxHUk9VUFJFRj4gPHplcm8tYmFzZWQgZ3JvdXAgaW5kZXg+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJHUk9VUFJFRiIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgcmV0dXJuIHNlbGYuZ2VuZXJhbF9vcF9ncm91cHJlZihjdHgpCgogICAgZGVmIG9wX2dyb3VwcmVmX2lnbm9yZShzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggYmFja3JlZmVyZW5jZSBjYXNlLWluc2Vuc2l0aXZlCiAgICAgICAgIyA8R1JPVVBSRUZfSUdOT1JFPiA8emVyby1iYXNlZCBncm91cCBpbmRleD4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkdST1VQUkVGX0lHTk9SRSIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgcmV0dXJuIHNlbGYuZ2VuZXJhbF9vcF9ncm91cHJlZihjdHgsIGN0eC5zdGF0ZS5sb3dlcikKCiAgICBkZWYgb3BfZ3JvdXByZWZfZXhpc3RzKHNlbGYsIGN0eCk6CiAgICAgICAgIyA8R1JPVVBSRUZfRVhJU1RTPiA8Z3JvdXA+IDxza2lwPiBjb2RleWVzIDxKVU1QPiBjb2Rlbm8gLi4uCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJHUk9VUFJFRl9FWElTVFMiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIGdyb3VwX3N0YXJ0LCBncm91cF9lbmQgPSBjdHguc3RhdGUuZ2V0X21hcmtzKGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgaWYgZ3JvdXBfc3RhcnQgaXMgTm9uZSBvciBncm91cF9lbmQgaXMgTm9uZSBvciBncm91cF9lbmQgPCBncm91cF9zdGFydDoKICAgICAgICAgICAgY3R4LnNraXBfY29kZShjdHgucGVla19jb2RlKDIpICsgMSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjdHguc2tpcF9jb2RlKDMpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICAjZnVuY3Rpb24gYmVsb3cgY2F1c2VzIFR5cGVFcnJvcjogc2NvcGUuY29udGV4dC50cmVlWzBdLmFkZF9nZW5lcmF0b3JfZGVjbGFyYXRpb24gaXMgbm90IGEgZnVuY3Rpb24KICAgIAogICAgZGVmIG9wX2Fzc2VydChzZWxmLCBjdHgpOgogICAgICAgICMgYXNzZXJ0IHN1YnBhdHRlcm4KICAgICAgICAjIDxBU1NFUlQ+IDxza2lwPiA8YmFjaz4gPHBhdHRlcm4+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJBU1NFUlQiLCBjdHgucGVla19jb2RlKDIpKQogICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uIC0gY3R4LnBlZWtfY29kZSgyKQogICAgICAgIGlmIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPCAwOgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgY2hpbGRfY29udGV4dCA9IGN0eC5wdXNoX25ld19jb250ZXh0KDMpCiAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICBpZiBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkOgogICAgICAgICAgICBjdHguc2tpcF9jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAxKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgeWllbGQgVHJ1ZQogICAgCgogICAgI2Z1bmN0aW9uIGJlbG93IGNhdXNlcyBUeXBlRXJyb3I6IHNjb3BlLmNvbnRleHQudHJlZVswXS5hZGRfZ2VuZXJhdG9yX2RlY2xhcmF0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uCiAgICAKICAgIGRlZiBvcF9hc3NlcnRfbm90KHNlbGYsIGN0eCk6CiAgICAgICAgIyBhc3NlcnQgbm90IHN1YnBhdHRlcm4KICAgICAgICAjIDxBU1NFUlRfTk9UPiA8c2tpcD4gPGJhY2s+IDxwYXR0ZXJuPgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiQVNTRVJUX05PVCIsIGN0eC5wZWVrX2NvZGUoMikpCiAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24gLSBjdHgucGVla19jb2RlKDIpCiAgICAgICAgaWYgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA+PSAwOgogICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoMykKICAgICAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgY3R4LnNraXBfY29kZShjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICB5aWVsZCBUcnVlCiAgICAKICAgIGRlZiB1bmtub3duKHNlbGYsIGN0eCk6CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJVTktOT1dOIiwgY3R4LnBlZWtfY29kZSgpKQogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiSW50ZXJuYWwgcmUgZXJyb3IuIFVua25vd24gb3Bjb2RlOiAlcyIgJSBjdHgucGVla19jb2RlKCkpCiAgICAgICAgICAgICAgICAKICAgIGRlZiBjaGVja19jaGFyc2V0KHNlbGYsIGN0eCwgY2hhcik6CiAgICAgICAgIiIiQ2hlY2tzIHdoZXRoZXIgYSBjaGFyYWN0ZXIgbWF0Y2hlcyBzZXQgb2YgYXJiaXRyYXJ5IGxlbmd0aC4gQXNzdW1lcwogICAgICAgIHRoZSBjb2RlIHBvaW50ZXIgaXMgYXQgdGhlIGZpcnN0IG1lbWJlciBvZiB0aGUgc2V0LiIiIgogICAgICAgIHNlbGYuc2V0X2Rpc3BhdGNoZXIucmVzZXQoY2hhcikKICAgICAgICBzYXZlX3Bvc2l0aW9uID0gY3R4LmNvZGVfcG9zaXRpb24KICAgICAgICByZXN1bHQgPSBOb25lCiAgICAgICAgd2hpbGUgcmVzdWx0IGlzIE5vbmU6CiAgICAgICAgICAgIHJlc3VsdCA9IHNlbGYuc2V0X2Rpc3BhdGNoZXIuZGlzcGF0Y2goY3R4LnBlZWtfY29kZSgpLCBjdHgpCiAgICAgICAgY3R4LmNvZGVfcG9zaXRpb24gPSBzYXZlX3Bvc2l0aW9uCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBjb3VudF9yZXBldGl0aW9ucyhzZWxmLCBjdHgsIG1heGNvdW50KToKICAgICAgICAiIiJSZXR1cm5zIHRoZSBudW1iZXIgb2YgcmVwZXRpdGlvbnMgb2YgYSBzaW5nbGUgaXRlbSwgc3RhcnRpbmcgZnJvbSB0aGUKICAgICAgICBjdXJyZW50IHN0cmluZyBwb3NpdGlvbi4gVGhlIGNvZGUgcG9pbnRlciBpcyBleHBlY3RlZCB0byBwb2ludCB0byBhCiAgICAgICAgUkVQRUFUX09ORSBvcGVyYXRpb24gKHdpdGggdGhlIHJlcGVhdGVkIDQgYWhlYWQpLiIiIgogICAgICAgIGNvdW50ID0gMAogICAgICAgIHJlYWxfbWF4Y291bnQgPSBjdHguc3RhdGUuZW5kIC0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGlmIG1heGNvdW50IDwgcmVhbF9tYXhjb3VudCBhbmQgbWF4Y291bnQgIT0gTUFYUkVQRUFUOgogICAgICAgICAgICByZWFsX21heGNvdW50ID0gbWF4Y291bnQKICAgICAgICAjIFhYWCBjb3VsZCBzcGVjaWFsIGNhc2UgZXZlcnkgc2luZ2xlIGNoYXJhY3RlciBwYXR0ZXJuIGhlcmUsIGFzIGluIEMuCiAgICAgICAgIyBUaGlzIGlzIGEgZ2VuZXJhbCBzb2x1dGlvbiwgYSBiaXQgaGFja2lzY2gsIGJ1dCB3b3JrcyBhbmQgc2hvdWxkIGJlCiAgICAgICAgIyBlZmZpY2llbnQuCiAgICAgICAgY29kZV9wb3NpdGlvbiA9IGN0eC5jb2RlX3Bvc2l0aW9uCiAgICAgICAgc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGN0eC5za2lwX2NvZGUoNCkKICAgICAgICByZXNldF9wb3NpdGlvbiA9IGN0eC5jb2RlX3Bvc2l0aW9uCiAgICAgICAgd2hpbGUgY291bnQgPCByZWFsX21heGNvdW50OgogICAgICAgICAgICAjIHRoaXMgd29ya3MgYmVjYXVzZSB0aGUgc2luZ2xlIGNoYXJhY3RlciBwYXR0ZXJuIGlzIGZvbGxvd2VkIGJ5CiAgICAgICAgICAgICMgYSBzdWNjZXNzIG9wY29kZQogICAgICAgICAgICBjdHguY29kZV9wb3NpdGlvbiA9IHJlc2V0X3Bvc2l0aW9uCiAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2goY3R4LnBlZWtfY29kZSgpLCBjdHgpCiAgICAgICAgICAgIGlmIGN0eC5oYXNfbWF0Y2hlZCBpcyBGYWxzZTogIyBjb3VsZCBiZSBOb25lIGFzIHdlbGwKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGNvdW50ICs9IDEKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBOb25lCiAgICAgICAgY3R4LmNvZGVfcG9zaXRpb24gPSBjb2RlX3Bvc2l0aW9uCiAgICAgICAgY3R4LnN0cmluZ19wb3NpdGlvbiA9IHN0cmluZ19wb3NpdGlvbgogICAgICAgIHJldHVybiBjb3VudAoKICAgIGRlZiBfbG9nKHNlbGYsIGNvbnRleHQsIG9wbmFtZSwgKmFyZ3MpOgogICAgICAgIGFyZ19zdHJpbmcgPSAoIiVzICIgKiBsZW4oYXJncykpICUgYXJncwogICAgICAgIF9sb2coInwlc3wlc3wlcyAlcyIgJSAoY29udGV4dC5wYXR0ZXJuX2NvZGVzLAogICAgICAgICAgICBjb250ZXh0LnN0cmluZ19wb3NpdGlvbiwgb3BuYW1lLCBhcmdfc3RyaW5nKSkKCl9PcGNvZGVEaXNwYXRjaGVyLmJ1aWxkX2Rpc3BhdGNoX3RhYmxlKE9QQ09ERVMsICJvcF8iKQoKCmNsYXNzIF9DaGFyc2V0RGlzcGF0Y2hlcihfRGlzcGF0Y2hlcik6CgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuY2hfZGlzcGF0Y2hlciA9IF9DaGNvZGVEaXNwYXRjaGVyKCkKCiAgICBkZWYgcmVzZXQoc2VsZiwgY2hhcik6CiAgICAgICAgc2VsZi5jaGFyID0gY2hhcgogICAgICAgIHNlbGYub2sgPSBUcnVlCgogICAgZGVmIHNldF9mYWlsdXJlKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBzZWxmLm9rCiAgICBkZWYgc2V0X2xpdGVyYWwoc2VsZiwgY3R4KToKICAgICAgICAjIDxMSVRFUkFMPiA8Y29kZT4KICAgICAgICBpZiBjdHgucGVla19jb2RlKDEpID09IHNlbGYuY2hhcjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYub2sKICAgICAgICBlbHNlOgogICAgICAgICAgICBjdHguc2tpcF9jb2RlKDIpCiAgICBkZWYgc2V0X2NhdGVnb3J5KHNlbGYsIGN0eCk6CiAgICAgICAgIyA8Q0FURUdPUlk+IDxjb2RlPgogICAgICAgIGlmIHNlbGYuY2hfZGlzcGF0Y2hlci5kaXNwYXRjaChjdHgucGVla19jb2RlKDEpLCBjdHgpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5vawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgIGRlZiBzZXRfY2hhcnNldChzZWxmLCBjdHgpOgogICAgICAgICMgPENIQVJTRVQ+IDxiaXRtYXA+ICgxNiBiaXRzIHBlciBjb2RlIHdvcmQpCiAgICAgICAgY2hhcl9jb2RlID0gc2VsZi5jaGFyCiAgICAgICAgY3R4LnNraXBfY29kZSgxKSAjIHBvaW50IHRvIGJlZ2lubmluZyBvZiBiaXRtYXAKICAgICAgICBpZiBDT0RFU0laRSA9PSAyOgogICAgICAgICAgICBpZiBjaGFyX2NvZGUgPCAyNTYgYW5kIGN0eC5wZWVrX2NvZGUoY2hhcl9jb2RlID4+IDQpIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmICgxIDw8IChjaGFyX2NvZGUgJiAxNSkpOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYub2sKICAgICAgICAgICAgY3R4LnNraXBfY29kZSgxNikgIyBza2lwIGJpdG1hcAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGNoYXJfY29kZSA8IDI1NiBhbmQgY3R4LnBlZWtfY29kZShjaGFyX2NvZGUgPj4gNSkgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYgKDEgPDwgKGNoYXJfY29kZSAmIDMxKSk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vawogICAgICAgICAgICBjdHguc2tpcF9jb2RlKDgpICMgc2tpcCBiaXRtYXAKICAgIGRlZiBzZXRfcmFuZ2Uoc2VsZiwgY3R4KToKICAgICAgICAjIDxSQU5HRT4gPGxvd2VyPiA8dXBwZXI+CiAgICAgICAgaWYgY3R4LnBlZWtfY29kZSgxKSA8PSBzZWxmLmNoYXIgPD0gY3R4LnBlZWtfY29kZSgyKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYub2sKICAgICAgICBjdHguc2tpcF9jb2RlKDMpCiAgICBkZWYgc2V0X25lZ2F0ZShzZWxmLCBjdHgpOgogICAgICAgIHNlbGYub2sgPSBub3Qgc2VsZi5vawogICAgICAgIGN0eC5za2lwX2NvZGUoMSkKICAgICIiIgogICAgI2ZpeG1lIGJyeXRob24uICAgYXJyYXkgbW9kdWxlIGRvZXNuJ3QgZXhpc3QKICAgIGRlZiBzZXRfYmlnY2hhcnNldChzZWxmLCBjdHgpOgogICAgICAgICMgPEJJR0NIQVJTRVQ+IDxibG9ja2NvdW50PiA8MjU2IGJsb2NraW5kaWNlcz4gPGJsb2Nrcz4KICAgICAgICBjaGFyX2NvZGUgPSBzZWxmLmNoYXIKICAgICAgICBjb3VudCA9IGN0eC5wZWVrX2NvZGUoMSkKICAgICAgICBjdHguc2tpcF9jb2RlKDIpCiAgICAgICAgaWYgY2hhcl9jb2RlIDwgNjU1MzY6CiAgICAgICAgICAgIGJsb2NrX2luZGV4ID0gY2hhcl9jb2RlID4+IDgKICAgICAgICAgICAgIyBOQjogdGhlcmUgYXJlIENPREVTSVpFIGJsb2NrIGluZGljZXMgcGVyIGJ5dGVjb2RlCiAgICAgICAgICAgIGEgPSBhcnJheS5hcnJheSgiQiIpCiAgICAgICAgICAgIGEuZnJvbXN0cmluZyhhcnJheS5hcnJheShDT0RFU0laRSA9PSAyIGFuZCAiSCIgb3IgIkkiLAogICAgICAgICAgICAgICAgICAgIFtjdHgucGVla19jb2RlKGJsb2NrX2luZGV4IC8gQ09ERVNJWkUpXSkudG9zdHJpbmcoKSkKICAgICAgICAgICAgYmxvY2sgPSBhW2Jsb2NrX2luZGV4ICUgQ09ERVNJWkVdCiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoMjU2IC8gQ09ERVNJWkUpICMgc2tpcCBibG9jayBpbmRpY2VzCiAgICAgICAgICAgIGJsb2NrX3ZhbHVlID0gY3R4LnBlZWtfY29kZShibG9jayAqICgzMiAvIENPREVTSVpFKQogICAgICAgICAgICAgICAgICAgICsgKChjaGFyX2NvZGUgJiAyNTUpID4+IChDT0RFU0laRSA9PSAyIGFuZCA0IG9yIDUpKSkKICAgICAgICAgICAgaWYgYmxvY2tfdmFsdWUgJiAoMSA8PCAoY2hhcl9jb2RlICYgKCg4ICogQ09ERVNJWkUpIC0gMSkpKToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLm9rCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3R4LnNraXBfY29kZSgyNTYgLyBDT0RFU0laRSkgIyBza2lwIGJsb2NrIGluZGljZXMKICAgICAgICBjdHguc2tpcF9jb2RlKGNvdW50ICogKDMyIC8gQ09ERVNJWkUpKSAjIHNraXAgYmxvY2tzCiAgICAiIiIKICAgIGRlZiB1bmtub3duKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiNmaXhtZSBicnl0aG9uCiNfQ2hhcnNldERpc3BhdGNoZXIuYnVpbGRfZGlzcGF0Y2hfdGFibGUoT1BDT0RFUywgInNldF8iKQoKCmNsYXNzIF9BdGNvZGVEaXNwYXRjaGVyKF9EaXNwYXRjaGVyKToKCiAgICBkZWYgYXRfYmVnaW5uaW5nKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIGN0eC5hdF9iZWdpbm5pbmcoKQogICAgYXRfYmVnaW5uaW5nX3N0cmluZyA9IGF0X2JlZ2lubmluZwogICAgZGVmIGF0X2JlZ2lubmluZ19saW5lKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIGN0eC5hdF9iZWdpbm5pbmcoKSBvciBfaXNfbGluZWJyZWFrKGN0eC5wZWVrX2NoYXIoLTEpKQogICAgZGVmIGF0X2VuZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiAoY3R4LnJlbWFpbmluZ19jaGFycygpID09IDEgYW5kIGN0eC5hdF9saW5lYnJlYWsoKSkgb3IgY3R4LmF0X2VuZCgpCiAgICBkZWYgYXRfZW5kX2xpbmUoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2xpbmVicmVhaygpIG9yIGN0eC5hdF9lbmQoKQogICAgZGVmIGF0X2VuZF9zdHJpbmcoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2VuZCgpCiAgICBkZWYgYXRfYm91bmRhcnkoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2JvdW5kYXJ5KF9pc193b3JkKQogICAgZGVmIGF0X25vbl9ib3VuZGFyeShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgY3R4LmF0X2JvdW5kYXJ5KF9pc193b3JkKQogICAgZGVmIGF0X2xvY19ib3VuZGFyeShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHguYXRfYm91bmRhcnkoX2lzX2xvY193b3JkKQogICAgZGVmIGF0X2xvY19ub25fYm91bmRhcnkoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gbm90IGN0eC5hdF9ib3VuZGFyeShfaXNfbG9jX3dvcmQpCiAgICBkZWYgYXRfdW5pX2JvdW5kYXJ5KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIGN0eC5hdF9ib3VuZGFyeShfaXNfdW5pX3dvcmQpCiAgICBkZWYgYXRfdW5pX25vbl9ib3VuZGFyeShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgY3R4LmF0X2JvdW5kYXJ5KF9pc191bmlfd29yZCkKICAgIGRlZiB1bmtub3duKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCgojZml4bWUgYnJ5dGhvbgojX0F0Y29kZURpc3BhdGNoZXIuYnVpbGRfZGlzcGF0Y2hfdGFibGUoQVRDT0RFUywgIiIpCgoKY2xhc3MgX0NoY29kZURpc3BhdGNoZXIoX0Rpc3BhdGNoZXIpOgoKICAgIGRlZiBjYXRlZ29yeV9kaWdpdChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBfaXNfZGlnaXQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X25vdF9kaWdpdChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgX2lzX2RpZ2l0KGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV9zcGFjZShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBfaXNfc3BhY2UoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X25vdF9zcGFjZShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgX2lzX3NwYWNlKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV93b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc193b3JkKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV9ub3Rfd29yZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgX2lzX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X2xpbmVicmVhayhzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBfaXNfbGluZWJyZWFrKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV9ub3RfbGluZWJyZWFrKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfbGluZWJyZWFrKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV9sb2Nfd29yZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBfaXNfbG9jX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X2xvY19ub3Rfd29yZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgX2lzX2xvY193b3JkKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV91bmlfZGlnaXQoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LnBlZWtfY2hhcigpLmlzZGlnaXQoKQogICAgZGVmIGNhdGVnb3J5X3VuaV9ub3RfZGlnaXQoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gbm90IGN0eC5wZWVrX2NoYXIoKS5pc2RpZ2l0KCkKICAgIGRlZiBjYXRlZ29yeV91bmlfc3BhY2Uoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LnBlZWtfY2hhcigpLmlzc3BhY2UoKQogICAgZGVmIGNhdGVnb3J5X3VuaV9ub3Rfc3BhY2Uoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gbm90IGN0eC5wZWVrX2NoYXIoKS5pc3NwYWNlKCkKICAgIGRlZiBjYXRlZ29yeV91bmlfd29yZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBfaXNfdW5pX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X3VuaV9ub3Rfd29yZChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgX2lzX3VuaV93b3JkKGN0eC5wZWVrX2NoYXIoKSkKICAgIGRlZiBjYXRlZ29yeV91bmlfbGluZWJyZWFrKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG9yZChjdHgucGVla19jaGFyKCkpIGluIF91bmlfbGluZWJyZWFrcwogICAgZGVmIGNhdGVnb3J5X3VuaV9ub3RfbGluZWJyZWFrKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG9yZChjdHgucGVla19jaGFyKCkpIG5vdCBpbiBfdW5pX2xpbmVicmVha3MKICAgIGRlZiB1bmtub3duKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCgojZml4bWUgYnJ5dGhvbgojX0NoY29kZURpc3BhdGNoZXIuYnVpbGRfZGlzcGF0Y2hfdGFibGUoQ0hDT0RFUywgIiIpCgoKX2FzY2lpX2NoYXJfaW5mbyA9IFsgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMiwgNiwgMiwKMiwgMiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMiwgMCwgMCwKMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMjUsIDI1LCAyNSwgMjUsIDI1LCAyNSwgMjUsIDI1LAoyNSwgMjUsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LAoyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMCwgMCwKMCwgMCwgMTYsIDAsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwKMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMCwgMCwgMCwgMCwgMCBdCgpkZWYgX2lzX2RpZ2l0KGNoYXIpOgogICAgY29kZSA9IG9yZChjaGFyKQogICAgcmV0dXJuIGNvZGUgPCAxMjggYW5kIF9hc2NpaV9jaGFyX2luZm9bY29kZV0gJiAxCgpkZWYgX2lzX3NwYWNlKGNoYXIpOgogICAgY29kZSA9IG9yZChjaGFyKQogICAgcmV0dXJuIGNvZGUgPCAxMjggYW5kIF9hc2NpaV9jaGFyX2luZm9bY29kZV0gJiAyCgpkZWYgX2lzX3dvcmQoY2hhcik6CiAgICAjIE5COiBub24tQVNDSUkgY2hhcnMgYXJlbid0IHdvcmRzIGFjY29yZGluZyB0byBfc3JlLmMKICAgIGNvZGUgPSBvcmQoY2hhcikKICAgIHJldHVybiBjb2RlIDwgMTI4IGFuZCBfYXNjaWlfY2hhcl9pbmZvW2NvZGVdICYgMTYKCmRlZiBfaXNfbG9jX3dvcmQoY2hhcik6CiAgICByZXR1cm4gKG5vdCAob3JkKGNoYXIpICYgfjI1NSkgYW5kIGNoYXIuaXNhbG51bSgpKSBvciBjaGFyID09ICdfJwoKZGVmIF9pc191bmlfd29yZChjaGFyKToKICAgIHJldHVybiB1bmljaHIob3JkKGNoYXIpKS5pc2FsbnVtKCkgb3IgY2hhciA9PSAnXycKCmRlZiBfaXNfbGluZWJyZWFrKGNoYXIpOgogICAgcmV0dXJuIGNoYXIgPT0gIlxuIgoKIyBTdGF0aWMgbGlzdCBvZiBhbGwgdW5pY29kZSBjb2RlcG9pbnRzIHJlcG9ydGVkIGJ5IFB5X1VOSUNPREVfSVNMSU5FQlJFQUsuCl91bmlfbGluZWJyZWFrcyA9IFsxMCwgMTMsIDI4LCAyOSwgMzAsIDEzMywgODIzMiwgODIzM10KCmRlZiBfbG9nKG1lc3NhZ2UpOgogICAgaWYgMDoKICAgICAgICBwcmludChtZXNzYWdlKQo=',
'/Lib/datetime.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImRhdGV0aW1lLnB5Il0uX19kaWN0X187IkNvbmNyZXRlIGRhdGUvdGltZSBhbmQgcmVsYXRlZCB0eXBlcyAtLSBwcm90b3R5cGUgaW1wbGVtZW50ZWQgaW4gUHl0aG9uLlxuXG5TZWUgaHR0cDovL3d3dy56b3BlLm9yZy9NZW1iZXJzL2ZkcmFrZS9EYXRlVGltZVdpa2kvRnJvbnRQYWdlXG5cblNlZSBhbHNvIGh0dHA6Ly9kaXIueWFob28uY29tL1JlZmVyZW5jZS9jYWxlbmRhcnMvXG5cbkZvciBhIHByaW1lciBvbiBEU1QsIGluY2x1ZGluZyBtYW55IGN1cnJlbnQgRFNUIHJ1bGVzLCBzZWVcbmh0dHA6Ly93ZWJleGhpYml0cy5vcmcvZGF5bGlnaHRzYXZpbmcvXG5cbkZvciBtb3JlIGFib3V0IERTVCB0aGFuIHlvdSBldmVyIHdhbnRlZCB0byBrbm93LCBzZWVcbmZ0cDovL2Vsc2llLm5jaS5uaWguZ292L3B1Yi9cblxuU291cmNlcyBmb3IgdGltZSB6b25lIGFuZCBEU1QgZGF0YTogaHR0cDovL3d3dy50d2luc3VuLmNvbS90ei90ei1saW5rLmh0bVxuXG5UaGlzIHdhcyBvcmlnaW5hbGx5IGNvcGllZCBmcm9tIHRoZSBzYW5kYm94IG9mIHRoZSBDUHl0aG9uIENWUyByZXBvc2l0b3J5LlxuVGhhbmtzIHRvIFRpbSBQZXRlcnMgZm9yIHN1Z2dlc3RpbmcgdXNpbmcgaXQuXG4iOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJ0aW1lIiwiX3RpbWUiXV0pO190aW1lPSRtb2RzWzBdOztOb25lOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJtYXRoIiwiX21hdGgiXV0pO19tYXRoPSRtb2RzWzBdOztOb25lO3ZhciBfc3RhdGVfY21wPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX3N0YXRlX2NtcCIsYXJndW1lbnRzLFsieCIsInkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUub3BzdDFwd24uX19kaWN0X189JG5zO3JldHVybiAkdGVybmFyeSh7IngiOngsInkiOnl9LCJ4Ll9fZXFfXyh5KSIsIk51bWJlcigwKSIsIiR0ZXJuYXJ5KHtcInhcIjp4LFwieVwiOnl9LFwieC5fX2d0X18oeSlcIixcIk51bWJlcigxKVwiLFwiTnVtYmVyKC0xKVwiKSIpO31jYXRjaChlcnIzKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMyk7fX07fSkoKTtfc3RhdGVfY21wLl9fbmFtZV9fPSJfc3RhdGVfY21wIjskZ2xvYmFscy5fc3RhdGVfY21wPV9zdGF0ZV9jbXA7dmFyIF90dXBsZV9jbXA9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfdHVwbGVfY21wIixhcmd1bWVudHMsWyJ4IiwieSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5tZWtub2ZmeS5fX2RpY3RfXz0kbnM7cmV0dXJuICR0ZXJuYXJ5KHsieCI6eCwieSI6eX0sInguX19lcV9fKHkpIiwiTnVtYmVyKDApIiwiJHRlcm5hcnkoe1wieFwiOngsXCJ5XCI6eX0sXCJ4Ll9fZ3RfXyh5KVwiLFwiTnVtYmVyKDEpXCIsXCJOdW1iZXIoLTEpXCIpIik7fWNhdGNoKGVycjMpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzKTt9fTt9KSgpO190dXBsZV9jbXAuX19uYW1lX189Il90dXBsZV9jbXAiOyRnbG9iYWxzLl90dXBsZV9jbXA9X3R1cGxlX2NtcDt2YXIgTUlOWUVBUj0kZ2xvYmFscy5NSU5ZRUFSPU51bWJlcigxKTt2YXIgTUFYWUVBUj0kZ2xvYmFscy5NQVhZRUFSPU51bWJlcig5OTk5KTt2YXIgX01BWE9SRElOQUw9JGdsb2JhbHMuX01BWE9SRElOQUw9TnVtYmVyKDM2NTIwNTkpO3ZhciBfREFZU19JTl9NT05USD0kZ2xvYmFscy5fREFZU19JTl9NT05USD1saXN0KFtOb25lLE51bWJlcigzMSksTnVtYmVyKDI4KSxOdW1iZXIoMzEpLE51bWJlcigzMCksTnVtYmVyKDMxKSxOdW1iZXIoMzApLE51bWJlcigzMSksTnVtYmVyKDMxKSxOdW1iZXIoMzApLE51bWJlcigzMSksTnVtYmVyKDMwKSxOdW1iZXIoMzEpXSk7dmFyIF9EQVlTX0JFRk9SRV9NT05USD0kZ2xvYmFscy5fREFZU19CRUZPUkVfTU9OVEg9bGlzdChbTm9uZV0pO3ZhciBkYm09JGdsb2JhbHMuZGJtPU51bWJlcigwKTt2YXIgJGl0ZXIzPV9EQVlTX0lOX01PTlRILl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKHNsaWNlKE51bWJlcigxKSxudWxsKSk7Zm9yKHZhciAkaTM9MDskaTM8JGl0ZXIzLl9fbGVuX18oKTskaTMrKyl7dmFyIGRpbT0kZ2xvYmFscy5kaW09JGl0ZXIzLl9faXRlbV9fKCRpMyk7X0RBWVNfQkVGT1JFX01PTlRILl9fZ2V0YXR0cl9fKCJhcHBlbmQiKS5fX2NhbGxfXyhkYm0pO3ZhciAkdGVtcD1kaW07aWYoIWhhc2F0dHIoZGJtLCJfX2lhZGRfXyIpKXZhciBkYm09JGdsb2JhbHMuZGJtPWRibS5fX2FkZF9fKCR0ZW1wKTtlbHNlIGRibT1kYm0uX19pYWRkX18oJHRlbXApO312YXIgX2lzX2xlYXA9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfaXNfbGVhcCIsYXJndW1lbnRzLFsieWVhciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5pc3Z6dmVxci5fX2RpY3RfXz0kbnM7InllYXIgLT4gMSBpZiBsZWFwIHllYXIsIGVsc2UgMC4iO3JldHVybiAkdGVzdF9leHByKCR0ZXN0X2l0ZW0oeWVhci5fX21vZF9fKE51bWJlcig0KSkuX19lcV9fKE51bWJlcigwKSkpJiYkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbSh5ZWFyLl9fbW9kX18oTnVtYmVyKDEwMCkpLl9fbmVfXyhOdW1iZXIoMCkpKXx8JHRlc3RfaXRlbSh5ZWFyLl9fbW9kX18oTnVtYmVyKDQwMCkpLl9fZXFfXyhOdW1iZXIoMCkpKSkpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7X2lzX2xlYXAuX19uYW1lX189Il9pc19sZWFwIjskZ2xvYmFscy5faXNfbGVhcD1faXNfbGVhcDt2YXIgX2RheXNfYmVmb3JlX3llYXI9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfZGF5c19iZWZvcmVfeWVhciIsYXJndW1lbnRzLFsieWVhciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5rNHZhODJ4dS5fX2RpY3RfXz0kbnM7InllYXIgLT4gbnVtYmVyIG9mIGRheXMgYmVmb3JlIEphbnVhcnkgMXN0IG9mIHllYXIuIjt2YXIgeT0kbG9jYWxzLnk9eWVhci5fX3N1Yl9fKE51bWJlcigxKSk7cmV0dXJuIHkuX19tdWxfXyhOdW1iZXIoMzY1KSkuX19hZGRfXyh5Ll9fZmxvb3JkaXZfXyhOdW1iZXIoNCkpLl9fc3ViX18oeS5fX2Zsb29yZGl2X18oTnVtYmVyKDEwMCkpKSkuX19hZGRfXyh5Ll9fZmxvb3JkaXZfXyhOdW1iZXIoNDAwKSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfZGF5c19iZWZvcmVfeWVhci5fX25hbWVfXz0iX2RheXNfYmVmb3JlX3llYXIiOyRnbG9iYWxzLl9kYXlzX2JlZm9yZV95ZWFyPV9kYXlzX2JlZm9yZV95ZWFyO3ZhciBfZGF5c19pbl9tb250aD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9kYXlzX2luX21vbnRoIixhcmd1bWVudHMsWyJ5ZWFyIiwibW9udGgiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZGpwand1b2EuX19kaWN0X189JG5zOyJ5ZWFyLCBtb250aCAtPiBudW1iZXIgb2YgZGF5cyBpbiB0aGF0IG1vbnRoIGluIHRoYXQgeWVhci4iO2lmKGJvb2woIWJvb2wodHVwbGUoWyR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMSkuX19sZV9fKG1vbnRoKSkmJiR0ZXN0X2l0ZW0obW9udGguX19sZV9fKE51bWJlcigxMikpKSksbW9udGhdKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShtb250aC5fX2VxX18oTnVtYmVyKDIpKSkmJiR0ZXN0X2l0ZW0oX2lzX2xlYXAuX19jYWxsX18oeWVhcikpKSkpcmV0dXJuIE51bWJlcigyOSk7cmV0dXJuIF9EQVlTX0lOX01PTlRILl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKG1vbnRoKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7X2RheXNfaW5fbW9udGguX19uYW1lX189Il9kYXlzX2luX21vbnRoIjskZ2xvYmFscy5fZGF5c19pbl9tb250aD1fZGF5c19pbl9tb250aDt2YXIgX2RheXNfYmVmb3JlX21vbnRoPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2RheXNfYmVmb3JlX21vbnRoIixhcmd1bWVudHMsWyJ5ZWFyIiwibW9udGgiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuazlkbjlya3YuX19kaWN0X189JG5zOyJ5ZWFyLCBtb250aCAtPiBudW1iZXIgb2YgZGF5cyBpbiB5ZWFyIHByZWNlZWRpbmcgZmlyc3QgZGF5IG9mIG1vbnRoLiI7aWYoYm9vbCghYm9vbCh0dXBsZShbJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigxKS5fX2xlX18obW9udGgpKSYmJHRlc3RfaXRlbShtb250aC5fX2xlX18oTnVtYmVyKDEyKSkpKSwnbW9udGggbXVzdCBiZSBpbiAxLi4xMiddKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtyZXR1cm4gX0RBWVNfQkVGT1JFX01PTlRILl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKG1vbnRoKS5fX2FkZF9fKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShtb250aC5fX2d0X18oTnVtYmVyKDIpKSkmJiR0ZXN0X2l0ZW0oX2lzX2xlYXAuX19jYWxsX18oeWVhcikpKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO19kYXlzX2JlZm9yZV9tb250aC5fX25hbWVfXz0iX2RheXNfYmVmb3JlX21vbnRoIjskZ2xvYmFscy5fZGF5c19iZWZvcmVfbW9udGg9X2RheXNfYmVmb3JlX21vbnRoO3ZhciBfeW1kMm9yZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl95bWQyb3JkIixhcmd1bWVudHMsWyJ5ZWFyIiwibW9udGgiLCJkYXkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuY2xjMm1kaHEuX19kaWN0X189JG5zOyJ5ZWFyLCBtb250aCwgZGF5IC0+IG9yZGluYWwsIGNvbnNpZGVyaW5nIDAxLUphbi0wMDAxIGFzIGRheSAxLiI7aWYoYm9vbCghYm9vbCh0dXBsZShbJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigxKS5fX2xlX18obW9udGgpKSYmJHRlc3RfaXRlbShtb250aC5fX2xlX18oTnVtYmVyKDEyKSkpKSwnbW9udGggbXVzdCBiZSBpbiAxLi4xMiddKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgZGltPSRsb2NhbHMuZGltPV9kYXlzX2luX21vbnRoLl9fY2FsbF9fKHllYXIsbW9udGgpO2lmKGJvb2woIWJvb2wodHVwbGUoWyR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMSkuX19sZV9fKGRheSkpJiYkdGVzdF9pdGVtKGRheS5fX2xlX18oZGltKSkpLCdkYXkgbXVzdCBiZSBpbiAxLi4lZCcuX19tb2RfXyhkaW0pXSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7cmV0dXJuIF9kYXlzX2JlZm9yZV95ZWFyLl9fY2FsbF9fKHllYXIpLl9fYWRkX18oX2RheXNfYmVmb3JlX21vbnRoLl9fY2FsbF9fKHllYXIsbW9udGgpKS5fX2FkZF9fKGRheSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO195bWQyb3JkLl9fbmFtZV9fPSJfeW1kMm9yZCI7JGdsb2JhbHMuX3ltZDJvcmQ9X3ltZDJvcmQ7dmFyIF9ESTQwMFk9JGdsb2JhbHMuX0RJNDAwWT1fZGF5c19iZWZvcmVfeWVhci5fX2NhbGxfXyhOdW1iZXIoNDAxKSk7dmFyIF9ESTEwMFk9JGdsb2JhbHMuX0RJMTAwWT1fZGF5c19iZWZvcmVfeWVhci5fX2NhbGxfXyhOdW1iZXIoMTAxKSk7dmFyIF9ESTRZPSRnbG9iYWxzLl9ESTRZPV9kYXlzX2JlZm9yZV95ZWFyLl9fY2FsbF9fKE51bWJlcig1KSk7aWYoYm9vbCghYm9vbChfREk0WS5fX2VxX18oTnVtYmVyKDQpLl9fbXVsX18oTnVtYmVyKDM2NSkpLl9fYWRkX18oTnVtYmVyKDEpKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbCghYm9vbChfREk0MDBZLl9fZXFfXyhOdW1iZXIoNCkuX19tdWxfXyhfREkxMDBZKS5fX2FkZF9fKE51bWJlcigxKSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO2lmKGJvb2woIWJvb2woX0RJMTAwWS5fX2VxX18oTnVtYmVyKDI1KS5fX211bF9fKF9ESTRZKS5fX3N1Yl9fKE51bWJlcigxKSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciBfb3JkMnltZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9vcmQyeW1kIixhcmd1bWVudHMsWyJuIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI2ZGMza2pzYSJdLl9fZGljdF9fPSRuczsib3JkaW5hbCAtPiAoeWVhciwgbW9udGgsIGRheSksIGNvbnNpZGVyaW5nIDAxLUphbi0wMDAxIGFzIGRheSAxLiI7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9TnVtYmVyKDEpO2lmKCFoYXNhdHRyKG4sIl9faXN1Yl9fIikpdmFyIG49JGxvY2Fscy5uPW4uX19zdWJfXygkdGVtcCk7ZWxzZSBuPW4uX19pc3ViX18oJHRlbXApOyRyaWdodD1kaXZtb2QuX19jYWxsX18obixfREk0MDBZKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIG40MDA9JGxvY2Fscy5uNDAwPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgbj0kbG9jYWxzLm49JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciB5ZWFyPSRsb2NhbHMueWVhcj1uNDAwLl9fbXVsX18oTnVtYmVyKDQwMCkpLl9fYWRkX18oTnVtYmVyKDEpKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG4sX0RJMTAwWSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBuMTAwPSRsb2NhbHMubjEwMD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG49JGxvY2Fscy5uPSRyaWdodC5fX2l0ZW1fXygxKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG4sX0RJNFkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgbjQ9JGxvY2Fscy5uND0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG49JGxvY2Fscy5uPSRyaWdodC5fX2l0ZW1fXygxKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG4sTnVtYmVyKDM2NSkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgbjE9JGxvY2Fscy5uMT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG49JGxvY2Fscy5uPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1uMTAwLl9fbXVsX18oTnVtYmVyKDEwMCkpLl9fYWRkX18objQuX19tdWxfXyhOdW1iZXIoNCkpKS5fX2FkZF9fKG4xKTtpZighaGFzYXR0cih5ZWFyLCJfX2lhZGRfXyIpKXZhciB5ZWFyPSRsb2NhbHMueWVhcj15ZWFyLl9fYWRkX18oJHRlbXApO2Vsc2UgeWVhcj15ZWFyLl9faWFkZF9fKCR0ZW1wKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShuMS5fX2VxX18oTnVtYmVyKDQpKSl8fCR0ZXN0X2l0ZW0objEwMC5fX2VxX18oTnVtYmVyKDQpKSkpKSl7aWYoYm9vbCghYm9vbChuLl9fZXFfXyhOdW1iZXIoMCkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3JldHVybiB0dXBsZShbeWVhci5fX3N1Yl9fKE51bWJlcigxKSksTnVtYmVyKDEyKSxOdW1iZXIoMzEpXSk7fXZhciBsZWFweWVhcj0kbG9jYWxzLmxlYXB5ZWFyPSR0ZXN0X2V4cHIoJHRlc3RfaXRlbShuMS5fX2VxX18oTnVtYmVyKDMpKSkmJiR0ZXN0X2l0ZW0oJHRlc3RfZXhwcigkdGVzdF9pdGVtKG40Ll9fbmVfXyhOdW1iZXIoMjQpKSl8fCR0ZXN0X2l0ZW0objEwMC5fX2VxX18oTnVtYmVyKDMpKSkpKSk7aWYoYm9vbCghYm9vbChsZWFweWVhci5fX2VxX18oX2lzX2xlYXAuX19jYWxsX18oeWVhcikpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciBtb250aD0kbG9jYWxzLm1vbnRoPW4uX19hZGRfXyhOdW1iZXIoNTApKS5fX3JzaGlmdF9fKE51bWJlcig1KSk7dmFyIHByZWNlZGluZz0kbG9jYWxzLnByZWNlZGluZz1fREFZU19CRUZPUkVfTU9OVEguX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikobW9udGgpLl9fYWRkX18oJHRlc3RfZXhwcigkdGVzdF9pdGVtKG1vbnRoLl9fZ3RfXyhOdW1iZXIoMikpKSYmJHRlc3RfaXRlbShsZWFweWVhcikpKTtpZihib29sKHByZWNlZGluZy5fX2d0X18obikpKXt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1OdW1iZXIoMSk7aWYoIWhhc2F0dHIobW9udGgsIl9faXN1Yl9fIikpdmFyIG1vbnRoPSRsb2NhbHMubW9udGg9bW9udGguX19zdWJfXygkdGVtcCk7ZWxzZSBtb250aD1tb250aC5fX2lzdWJfXygkdGVtcCk7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9X0RBWVNfSU5fTU9OVEguX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikobW9udGgpLl9fYWRkX18oJHRlc3RfZXhwcigkdGVzdF9pdGVtKG1vbnRoLl9fZXFfXyhOdW1iZXIoMikpKSYmJHRlc3RfaXRlbShsZWFweWVhcikpKTtpZighaGFzYXR0cihwcmVjZWRpbmcsIl9faXN1Yl9fIikpdmFyIHByZWNlZGluZz0kbG9jYWxzLnByZWNlZGluZz1wcmVjZWRpbmcuX19zdWJfXygkdGVtcCk7ZWxzZSBwcmVjZWRpbmc9cHJlY2VkaW5nLl9faXN1Yl9fKCR0ZW1wKTt9dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9cHJlY2VkaW5nO2lmKCFoYXNhdHRyKG4sIl9faXN1Yl9fIikpdmFyIG49JGxvY2Fscy5uPW4uX19zdWJfXygkdGVtcCk7ZWxzZSBuPW4uX19pc3ViX18oJHRlbXApO2lmKGJvb2woIWJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigwKS5fX2xlX18obikpJiYkdGVzdF9pdGVtKG4uX19sdF9fKF9kYXlzX2luX21vbnRoLl9fY2FsbF9fKHllYXIsbW9udGgpKSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3JldHVybiB0dXBsZShbeWVhcixtb250aCxuLl9fYWRkX18oTnVtYmVyKDEpKV0pO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfb3JkMnltZC5fX25hbWVfXz0iX29yZDJ5bWQiOyRnbG9iYWxzLl9vcmQyeW1kPV9vcmQyeW1kO3ZhciBfTU9OVEhOQU1FUz0kZ2xvYmFscy5fTU9OVEhOQU1FUz1saXN0KFtOb25lLCJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSk7dmFyIF9EQVlOQU1FUz0kZ2xvYmFscy5fREFZTkFNRVM9bGlzdChbTm9uZSwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0IiwiU3VuIl0pO3ZhciBfYnVpbGRfc3RydWN0X3RpbWU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfYnVpbGRfc3RydWN0X3RpbWUiLGFyZ3VtZW50cyxbInkiLCJtIiwiZCIsImhoIiwibW0iLCJzcyIsImRzdGZsYWciXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuanFieDVtdTIuX19kaWN0X189JG5zO3ZhciB3ZGF5PSRsb2NhbHMud2RheT1feW1kMm9yZC5fX2NhbGxfXyh5LG0sZCkuX19hZGRfXyhOdW1iZXIoNikpLl9fbW9kX18oTnVtYmVyKDcpKTt2YXIgZG51bT0kbG9jYWxzLmRudW09X2RheXNfYmVmb3JlX21vbnRoLl9fY2FsbF9fKHksbSkuX19hZGRfXyhkKTtyZXR1cm4gX3RpbWUuX19nZXRhdHRyX18oInN0cnVjdF90aW1lIikuX19jYWxsX18odHVwbGUoW3ksbSxkLGhoLG1tLHNzLHdkYXksZG51bSxkc3RmbGFnXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfYnVpbGRfc3RydWN0X3RpbWUuX19uYW1lX189Il9idWlsZF9zdHJ1Y3RfdGltZSI7JGdsb2JhbHMuX2J1aWxkX3N0cnVjdF90aW1lPV9idWlsZF9zdHJ1Y3RfdGltZTt2YXIgX2Zvcm1hdF90aW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2Zvcm1hdF90aW1lIixhcmd1bWVudHMsWyJoaCIsIm1tIiwic3MiLCJ1cyJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5zYnJhdDh5NS5fX2RpY3RfXz0kbnM7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD0iJTAyZDolMDJkOiUwMmQiLl9fbW9kX18odHVwbGUoW2hoLG1tLHNzXSkpO2lmKGJvb2wodXMpKXt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD0iLiUwNmQiLl9fbW9kX18odXMpO2lmKCFoYXNhdHRyKHJlc3VsdCwiX19pYWRkX18iKSl2YXIgcmVzdWx0PSRsb2NhbHMucmVzdWx0PXJlc3VsdC5fX2FkZF9fKCR0ZW1wKTtlbHNlIHJlc3VsdD1yZXN1bHQuX19pYWRkX18oJHRlbXApO31yZXR1cm4gcmVzdWx0O31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfZm9ybWF0X3RpbWUuX19uYW1lX189Il9mb3JtYXRfdGltZSI7JGdsb2JhbHMuX2Zvcm1hdF90aW1lPV9mb3JtYXRfdGltZTt2YXIgX3dyYXBfc3RyZnRpbWU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfd3JhcF9zdHJmdGltZSIsYXJndW1lbnRzLFsib2JqZWN0IiwiZm9ybWF0IiwidGltZXR1cGxlIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnlkZTRsdzlzLl9fZGljdF9fPSRuczt2YXIgeWVhcj0kbG9jYWxzLnllYXI9dGltZXR1cGxlLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSk7aWYoYm9vbCh5ZWFyLl9fbHRfXyhOdW1iZXIoMTAwMCkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJ5ZWFyPSVkIGlzIGJlZm9yZSAxMDAwOyB0aGUgZGF0ZXRpbWUgc3RyZnRpbWUoKSAiKyJtZXRob2RzIHJlcXVpcmUgeWVhciA+PSAxMDAwIi5fX21vZF9fKHllYXIpKTt2YXIgZnJlcGxhY2U9JGxvY2Fscy5mcmVwbGFjZT1Ob25lO3ZhciB6cmVwbGFjZT0kbG9jYWxzLnpyZXBsYWNlPU5vbmU7dmFyIFpyZXBsYWNlPSRsb2NhbHMuWnJlcGxhY2U9Tm9uZTt2YXIgbmV3Zm9ybWF0PSRsb2NhbHMubmV3Zm9ybWF0PWxpc3QoW10pO3ZhciBwdXNoPSRsb2NhbHMucHVzaD1uZXdmb3JtYXQuX19nZXRhdHRyX18oImFwcGVuZCIpOyRyaWdodD10dXBsZShbTnVtYmVyKDApLGxlbi5fX2NhbGxfXyhmb3JtYXQpXSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBpPSRsb2NhbHMuaT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG49JGxvY2Fscy5uPSRyaWdodC5fX2l0ZW1fXygxKTt3aGlsZShib29sKGkuX19sdF9fKG4pKSl7dmFyIGNoPSRsb2NhbHMuY2g9Zm9ybWF0Ll9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGkpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPU51bWJlcigxKTtpZighaGFzYXR0cihpLCJfX2lhZGRfXyIpKXZhciBpPSRsb2NhbHMuaT1pLl9fYWRkX18oJHRlbXApO2Vsc2UgaT1pLl9faWFkZF9fKCR0ZW1wKTtpZihib29sKGNoLl9fZXFfXygnJScpKSl7aWYoYm9vbChpLl9fbHRfXyhuKSkpe3ZhciBjaD0kbG9jYWxzLmNoPWZvcm1hdC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShpKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1OdW1iZXIoMSk7aWYoIWhhc2F0dHIoaSwiX19pYWRkX18iKSl2YXIgaT0kbG9jYWxzLmk9aS5fX2FkZF9fKCR0ZW1wKTtlbHNlIGk9aS5fX2lhZGRfXygkdGVtcCk7aWYoYm9vbChjaC5fX2VxX18oJ2YnKSkpe2lmKGJvb2woZnJlcGxhY2U9PT1Ob25lKSl2YXIgZnJlcGxhY2U9JGxvY2Fscy5mcmVwbGFjZT0nJTA2ZCcuX19tb2RfXyhnZXRhdHRyLl9fY2FsbF9fKG9iamVjdCwnbWljcm9zZWNvbmQnLE51bWJlcigwKSkpO25ld2Zvcm1hdC5fX2dldGF0dHJfXygiYXBwZW5kIikuX19jYWxsX18oZnJlcGxhY2UpO31lbHNlIGlmKGJvb2woY2guX19lcV9fKCd6JykpKXtpZihib29sKHpyZXBsYWNlPT09Tm9uZSkpe3ZhciB6cmVwbGFjZT0kbG9jYWxzLnpyZXBsYWNlPSIiO2lmKGJvb2woaGFzYXR0ci5fX2NhbGxfXyhvYmplY3QsInV0Y29mZnNldCIpKSl7dmFyIG9mZnNldD0kbG9jYWxzLm9mZnNldD1vYmplY3QuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKCk7aWYoYm9vbChvZmZzZXQhPT1Ob25lKSl7dmFyIHNpZ249JGxvY2Fscy5zaWduPScrJztpZihib29sKG9mZnNldC5fX2dldGF0dHJfXygiZGF5cyIpLl9fbHRfXyhOdW1iZXIoMCkpKSl7dmFyIG9mZnNldD0kbG9jYWxzLm9mZnNldD1vZmZzZXQuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpO3ZhciBzaWduPSRsb2NhbHMuc2lnbj0nLSc7fSRyaWdodD1kaXZtb2QuX19jYWxsX18ob2Zmc2V0LHRpbWVkZWx0YS5fX2NhbGxfXygkS3coImhvdXJzIixOdW1iZXIoMSkpKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBoPSRsb2NhbHMuaD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG09JGxvY2Fscy5tPSRyaWdodC5fX2l0ZW1fXygxKTtpZihib29sKCFib29sKHR1cGxlKFshYm9vbChtLl9fbW9kX18odGltZWRlbHRhLl9fY2FsbF9fKCRLdygibWludXRlcyIsTnVtYmVyKDEpKSkpKSwid2hvbGUgbWludXRlIl0pKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpO2lmKCFoYXNhdHRyKG0sIl9faWZsb29yZGl2X18iKSl2YXIgbT0kbG9jYWxzLm09bS5fX2Zsb29yZGl2X18oJHRlbXApO2Vsc2UgbT1tLl9faWZsb29yZGl2X18oJHRlbXApO3ZhciB6cmVwbGFjZT0kbG9jYWxzLnpyZXBsYWNlPSclYyUwMmQlMDJkJy5fX21vZF9fKHR1cGxlKFtzaWduLGgsbV0pKTt9fX1pZihib29sKCFib29sKCclJy5fX25vdF9pbl9fKHpyZXBsYWNlKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtuZXdmb3JtYXQuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKHpyZXBsYWNlKTt9ZWxzZSBpZihib29sKGNoLl9fZXFfXygnWicpKSl7aWYoYm9vbChacmVwbGFjZT09PU5vbmUpKXt2YXIgWnJlcGxhY2U9JGxvY2Fscy5acmVwbGFjZT0iIjtpZihib29sKGhhc2F0dHIuX19jYWxsX18ob2JqZWN0LCJ0em5hbWUiKSkpe3ZhciBzPSRsb2NhbHMucz1vYmplY3QuX19nZXRhdHRyX18oInR6bmFtZSIpLl9fY2FsbF9fKCk7aWYoYm9vbChzIT09Tm9uZSkpdmFyIFpyZXBsYWNlPSRsb2NhbHMuWnJlcGxhY2U9cy5fX2dldGF0dHJfXygicmVwbGFjZSIpLl9fY2FsbF9fKCclJywnJSUnKTt9fW5ld2Zvcm1hdC5fX2dldGF0dHJfXygiYXBwZW5kIikuX19jYWxsX18oWnJlcGxhY2UpO31lbHNle3B1c2guX19jYWxsX18oJyUnKTtwdXNoLl9fY2FsbF9fKGNoKTt9fWVsc2UgcHVzaC5fX2NhbGxfXygnJScpO31lbHNlIHB1c2guX19jYWxsX18oY2gpO312YXIgbmV3Zm9ybWF0PSRsb2NhbHMubmV3Zm9ybWF0PSIiLl9fZ2V0YXR0cl9fKCJqb2luIikuX19jYWxsX18obmV3Zm9ybWF0KTtyZXR1cm4gX3RpbWUuX19nZXRhdHRyX18oInN0cmZ0aW1lIikuX19jYWxsX18obmV3Zm9ybWF0LHRpbWV0dXBsZSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO193cmFwX3N0cmZ0aW1lLl9fbmFtZV9fPSJfd3JhcF9zdHJmdGltZSI7JGdsb2JhbHMuX3dyYXBfc3RyZnRpbWU9X3dyYXBfc3RyZnRpbWU7dmFyIF9jYWxsX3R6aW5mb19tZXRob2Q9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfY2FsbF90emluZm9fbWV0aG9kIixhcmd1bWVudHMsWyJ0emluZm8iLCJtZXRobmFtZSIsInR6aW5mb2FyZyJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5tODE0OTRqbi5fX2RpY3RfXz0kbnM7aWYoYm9vbCh0emluZm89PT1Ob25lKSlyZXR1cm4gTm9uZTtyZXR1cm4gZ2V0YXR0ci5fX2NhbGxfXyh0emluZm8sbWV0aG5hbWUpLl9fY2FsbF9fKHR6aW5mb2FyZyk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO19jYWxsX3R6aW5mb19tZXRob2QuX19uYW1lX189Il9jYWxsX3R6aW5mb19tZXRob2QiOyRnbG9iYWxzLl9jYWxsX3R6aW5mb19tZXRob2Q9X2NhbGxfdHppbmZvX21ldGhvZDt2YXIgX2NoZWNrX3R6bmFtZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jaGVja190em5hbWUiLGFyZ3VtZW50cyxbIm5hbWUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuamZieHM2bWouX19kaWN0X189JG5zO2lmKGJvb2wobmFtZSE9PSR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOb25lKSYmJHRlc3RfaXRlbSghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG5hbWUsc3RyKSkpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJ0emluZm8udHpuYW1lKCkgbXVzdCByZXR1cm4gTm9uZSBvciBzdHJpbmcsICIrIm5vdCAnJXMnIi5fX21vZF9fKHR5cGUuX19jYWxsX18obmFtZSkpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7X2NoZWNrX3R6bmFtZS5fX25hbWVfXz0iX2NoZWNrX3R6bmFtZSI7JGdsb2JhbHMuX2NoZWNrX3R6bmFtZT1fY2hlY2tfdHpuYW1lO3ZhciBfY2hlY2tfdXRjX29mZnNldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jaGVja191dGNfb2Zmc2V0Iixhcmd1bWVudHMsWyJuYW1lIiwib2Zmc2V0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI1dWZldGJsbSJdLl9fZGljdF9fPSRucztpZihib29sKCFib29sKG5hbWUuX19pbl9fKHR1cGxlKFsidXRjb2Zmc2V0IiwiZHN0Il0pKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKG9mZnNldD09PU5vbmUpKXJldHVybjtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob2Zmc2V0LHRpbWVkZWx0YSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oInR6aW5mby4lcygpIG11c3QgcmV0dXJuIE5vbmUgIisib3IgdGltZWRlbHRhLCBub3QgJyVzJyIuX19tb2RfXyh0dXBsZShbbmFtZSx0eXBlLl9fY2FsbF9fKG9mZnNldCldKSkpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKG9mZnNldC5fX21vZF9fKHRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpKSl8fCR0ZXN0X2l0ZW0ob2Zmc2V0Ll9fZ2V0YXR0cl9fKCJtaWNyb3NlY29uZHMiKSkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJ0emluZm8uJXMoKSBtdXN0IHJldHVybiBhIHdob2xlIG51bWJlciAiKyJvZiBtaW51dGVzLCBnb3QgJXMiLl9fbW9kX18odHVwbGUoW25hbWUsb2Zmc2V0XSkpKTtpZihib29sKCFib29sKCkuX191bmRlZmluZWRfXygkdGVzdF9leHByKCR0ZXN0X2l0ZW0odGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigxKSkuX19sdF9fKG9mZnNldCkpJiYkdGVzdF9pdGVtKG9mZnNldC5fX2x0X18odGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigxKSkpKSkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCIlcygpPSVzLCBtdXN0IGJlIG11c3QgYmUgc3RyaWN0bHkgYmV0d2VlbiIrIiAtdGltZWRlbHRhKGhvdXJzPTI0KSBhbmQgdGltZWRlbHRhKGhvdXJzPTI0KSIuX19tb2RfXyh0dXBsZShbbmFtZSxvZmZzZXRdKSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfY2hlY2tfdXRjX29mZnNldC5fX25hbWVfXz0iX2NoZWNrX3V0Y19vZmZzZXQiOyRnbG9iYWxzLl9jaGVja191dGNfb2Zmc2V0PV9jaGVja191dGNfb2Zmc2V0O3ZhciBfY2hlY2tfZGF0ZV9maWVsZHM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfY2hlY2tfZGF0ZV9maWVsZHMiLGFyZ3VtZW50cyxbInllYXIiLCJtb250aCIsImRheSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5wMzNjamZ0NC5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHllYXIsaW50KSkpKXRocm93IFR5cGVFcnJvci5fX2NhbGxfXygnaW50IGV4cGVjdGVkJyk7aWYoYm9vbCghYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oTUlOWUVBUi5fX2xlX18oeWVhcikpJiYkdGVzdF9pdGVtKHllYXIuX19sZV9fKE1BWFlFQVIpKSkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCd5ZWFyIG11c3QgYmUgaW4gJWQuLiVkJy5fX21vZF9fKHR1cGxlKFtNSU5ZRUFSLE1BWFlFQVJdKSkseWVhcik7aWYoYm9vbCghYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oTnVtYmVyKDEpLl9fbGVfXyhtb250aCkpJiYkdGVzdF9pdGVtKG1vbnRoLl9fbGVfXyhOdW1iZXIoMTIpKSkpKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygnbW9udGggbXVzdCBiZSBpbiAxLi4xMicsbW9udGgpO3ZhciBkaW09JGxvY2Fscy5kaW09X2RheXNfaW5fbW9udGguX19jYWxsX18oeWVhcixtb250aCk7aWYoYm9vbCghYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oTnVtYmVyKDEpLl9fbGVfXyhkYXkpKSYmJHRlc3RfaXRlbShkYXkuX19sZV9fKGRpbSkpKSkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oJ2RheSBtdXN0IGJlIGluIDEuLiVkJy5fX21vZF9fKGRpbSksZGF5KTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7X2NoZWNrX2RhdGVfZmllbGRzLl9fbmFtZV9fPSJfY2hlY2tfZGF0ZV9maWVsZHMiOyRnbG9iYWxzLl9jaGVja19kYXRlX2ZpZWxkcz1fY2hlY2tfZGF0ZV9maWVsZHM7dmFyIF9jaGVja190aW1lX2ZpZWxkcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jaGVja190aW1lX2ZpZWxkcyIsYXJndW1lbnRzLFsiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pY3Jvc2Vjb25kIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmxlMWxxcHFvLl9fZGljdF9fPSRucztpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18oaG91cixpbnQpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCdpbnQgZXhwZWN0ZWQnKTtpZihib29sKCFib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sZV9fKGhvdXIpKSYmJHRlc3RfaXRlbShob3VyLl9fbGVfXyhOdW1iZXIoMjMpKSkpKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygnaG91ciBtdXN0IGJlIGluIDAuLjIzJyxob3VyKTtpZihib29sKCFib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sZV9fKG1pbnV0ZSkpJiYkdGVzdF9pdGVtKG1pbnV0ZS5fX2xlX18oTnVtYmVyKDU5KSkpKSkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oJ21pbnV0ZSBtdXN0IGJlIGluIDAuLjU5JyxtaW51dGUpO2lmKGJvb2woIWJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigwKS5fX2xlX18oc2Vjb25kKSkmJiR0ZXN0X2l0ZW0oc2Vjb25kLl9fbGVfXyhOdW1iZXIoNTkpKSkpKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygnc2Vjb25kIG11c3QgYmUgaW4gMC4uNTknLHNlY29uZCk7aWYoYm9vbCghYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oTnVtYmVyKDApLl9fbGVfXyhtaWNyb3NlY29uZCkpJiYkdGVzdF9pdGVtKG1pY3Jvc2Vjb25kLl9fbGVfXyhOdW1iZXIoOTk5OTk5KSkpKSkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oJ21pY3Jvc2Vjb25kIG11c3QgYmUgaW4gMC4uOTk5OTk5JyxtaWNyb3NlY29uZCk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO19jaGVja190aW1lX2ZpZWxkcy5fX25hbWVfXz0iX2NoZWNrX3RpbWVfZmllbGRzIjskZ2xvYmFscy5fY2hlY2tfdGltZV9maWVsZHM9X2NoZWNrX3RpbWVfZmllbGRzO3ZhciBfY2hlY2tfdHppbmZvX2FyZz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jaGVja190emluZm9fYXJnIixhcmd1bWVudHMsWyJ0eiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOWI4cjk4ZGEiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCh0eiE9PSR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOb25lKSYmJHRlc3RfaXRlbSghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHR6LHR6aW5mbykpKSkpKXRocm93IFR5cGVFcnJvci5fX2NhbGxfXygidHppbmZvIGFyZ3VtZW50IG11c3QgYmUgTm9uZSBvciBvZiBhIHR6aW5mbyBzdWJjbGFzcyIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfY2hlY2tfdHppbmZvX2FyZy5fX25hbWVfXz0iX2NoZWNrX3R6aW5mb19hcmciOyRnbG9iYWxzLl9jaGVja190emluZm9fYXJnPV9jaGVja190emluZm9fYXJnO3ZhciBfY21wZXJyb3I9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfY21wZXJyb3IiLGFyZ3VtZW50cyxbIngiLCJ5Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnU5ZGVzcDdlLl9fZGljdF9fPSRuczt0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oImNhbid0IGNvbXBhcmUgJyVzJyB0byAnJXMnIi5fX21vZF9fKHR1cGxlKFt0eXBlLl9fY2FsbF9fKHgpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpLHR5cGUuX19jYWxsX18oeSkuX19nZXRhdHRyX18oIl9fbmFtZV9fIildKSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfY21wZXJyb3IuX19uYW1lX189Il9jbXBlcnJvciI7JGdsb2JhbHMuX2NtcGVycm9yPV9jbXBlcnJvcjt2YXIgJHRpbWVkZWx0YT0oZnVuY3Rpb24oKXt2YXIgJGNsYXNzPW5ldyBPYmplY3QoKTsiUmVwcmVzZW50IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIGRhdGV0aW1lIG9iamVjdHMuXG5cbiAgICBTdXBwb3J0ZWQgb3BlcmF0b3JzOlxuXG4gICAgLSBhZGQsIHN1YnRyYWN0IHRpbWVkZWx0YVxuICAgIC0gdW5hcnkgcGx1cywgbWludXMsIGFic1xuICAgIC0gY29tcGFyZSB0byB0aW1lZGVsdGFcbiAgICAtIG11bHRpcGx5LCBkaXZpZGUgYnkgaW50L2xvbmdcblxuICAgIEluIGFkZGl0aW9uLCBkYXRldGltZSBzdXBwb3J0cyBzdWJ0cmFjdGlvbiBvZiB0d28gZGF0ZXRpbWUgb2JqZWN0c1xuICAgIHJldHVybmluZyBhIHRpbWVkZWx0YSwgYW5kIGFkZGl0aW9uIG9yIHN1YnRyYWN0aW9uIG9mIGEgZGF0ZXRpbWVcbiAgICBhbmQgYSB0aW1lZGVsdGEgZ2l2aW5nIGEgZGF0ZXRpbWUuXG5cbiAgICBSZXByZXNlbnRhdGlvbjogKGRheXMsIHNlY29uZHMsIG1pY3Jvc2Vjb25kcykuICBXaHk/ICBCZWNhdXNlIElcbiAgICBmZWx0IGxpa2UgaXQuXG4gICAgIjskY2xhc3MuX19zbG90c19fPXR1cGxlKFsnX2RheXMnLCdfc2Vjb25kcycsJ19taWNyb3NlY29uZHMnXSk7JGNsYXNzLl9fbmV3X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX25ld19fIixhcmd1bWVudHMsWyJjbHMiXSx7ImRheXMiOk51bWJlcigwKSwic2Vjb25kcyI6TnVtYmVyKDApLCJtaWNyb3NlY29uZHMiOk51bWJlcigwKSwibWlsbGlzZWNvbmRzIjpOdW1iZXIoMCksIm1pbnV0ZXMiOk51bWJlcigwKSwiaG91cnMiOk51bWJlcigwKSwid2Vla3MiOk51bWJlcigwKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm0yYnZlaXNoLl9fZGljdF9fPSRuczt2YXIgdXM9JGxvY2Fscy51cz1OdW1iZXIoMCk7dmFyIHM9JGxvY2Fscy5zPXVzO3ZhciBkPSRsb2NhbHMuZD1zO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXdlZWtzLl9fbXVsX18oTnVtYmVyKDcpKTtpZighaGFzYXR0cihkYXlzLCJfX2lhZGRfXyIpKXZhciBkYXlzPSRsb2NhbHMuZGF5cz1kYXlzLl9fYWRkX18oJHRlbXApO2Vsc2UgZGF5cz1kYXlzLl9faWFkZF9fKCR0ZW1wKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1taW51dGVzLl9fbXVsX18oTnVtYmVyKDYwKSkuX19hZGRfXyhob3Vycy5fX211bF9fKE51bWJlcigzNjAwKSkpO2lmKCFoYXNhdHRyKHNlY29uZHMsIl9faWFkZF9fIikpdmFyIHNlY29uZHM9JGxvY2Fscy5zZWNvbmRzPXNlY29uZHMuX19hZGRfXygkdGVtcCk7ZWxzZSBzZWNvbmRzPXNlY29uZHMuX19pYWRkX18oJHRlbXApO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPW1pbGxpc2Vjb25kcy5fX211bF9fKE51bWJlcigxMDAwKSk7aWYoIWhhc2F0dHIobWljcm9zZWNvbmRzLCJfX2lhZGRfXyIpKXZhciBtaWNyb3NlY29uZHM9JGxvY2Fscy5taWNyb3NlY29uZHM9bWljcm9zZWNvbmRzLl9fYWRkX18oJHRlbXApO2Vsc2UgbWljcm9zZWNvbmRzPW1pY3Jvc2Vjb25kcy5fX2lhZGRfXygkdGVtcCk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKGRheXMsZmxvYXQpKSl7JHJpZ2h0PV9tYXRoLl9fZ2V0YXR0cl9fKCJtb2RmIikuX19jYWxsX18oZGF5cyk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBkYXlmcmFjPSRsb2NhbHMuZGF5ZnJhYz0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGRheXM9JGxvY2Fscy5kYXlzPSRyaWdodC5fX2l0ZW1fXygxKTskcmlnaHQ9X21hdGguX19nZXRhdHRyX18oIm1vZGYiKS5fX2NhbGxfXyhkYXlmcmFjLl9fbXVsX18oZmxvYXQoMjQpLl9fbXVsX18oZmxvYXQoMzYwMCkpKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBkYXlzZWNvbmRzZnJhYz0kbG9jYWxzLmRheXNlY29uZHNmcmFjPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgZGF5c2Vjb25kc3dob2xlPSRsb2NhbHMuZGF5c2Vjb25kc3dob2xlPSRyaWdodC5fX2l0ZW1fXygxKTtpZihib29sKCFib29sKGRheXNlY29uZHN3aG9sZS5fX2VxX18oaW50Ll9fY2FsbF9fKGRheXNlY29uZHN3aG9sZSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciBzPSRsb2NhbHMucz1pbnQuX19jYWxsX18oZGF5c2Vjb25kc3dob2xlKTtpZihib29sKCFib29sKGRheXMuX19lcV9fKGludC5fX2NhbGxfXyhkYXlzKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7dmFyIGQ9JGxvY2Fscy5kPWludC5fX2NhbGxfXyhkYXlzKTt9ZWxzZXt2YXIgZGF5c2Vjb25kc2ZyYWM9JGxvY2Fscy5kYXlzZWNvbmRzZnJhYz1mbG9hdCgwKTt2YXIgZD0kbG9jYWxzLmQ9ZGF5czt9aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKGRheXNlY29uZHNmcmFjLGZsb2F0KSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKGFicy5fX2NhbGxfXyhkYXlzZWNvbmRzZnJhYykuX19sZV9fKGZsb2F0KDEpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18oZCxpbnQpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO2lmKGJvb2woIWJvb2woYWJzLl9fY2FsbF9fKHMpLl9fbGVfXyhOdW1iZXIoMjQpLl9fbXVsX18oTnVtYmVyKDM2MDApKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHNlY29uZHMsZmxvYXQpKSl7JHJpZ2h0PV9tYXRoLl9fZ2V0YXR0cl9fKCJtb2RmIikuX19jYWxsX18oc2Vjb25kcyk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBzZWNvbmRzZnJhYz0kbG9jYWxzLnNlY29uZHNmcmFjPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgc2Vjb25kcz0kbG9jYWxzLnNlY29uZHM9JHJpZ2h0Ll9faXRlbV9fKDEpO2lmKGJvb2woIWJvb2woc2Vjb25kcy5fX2VxX18oaW50Ll9fY2FsbF9fKHNlY29uZHMpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgc2Vjb25kcz0kbG9jYWxzLnNlY29uZHM9aW50Ll9fY2FsbF9fKHNlY29uZHMpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPWRheXNlY29uZHNmcmFjO2lmKCFoYXNhdHRyKHNlY29uZHNmcmFjLCJfX2lhZGRfXyIpKXZhciBzZWNvbmRzZnJhYz0kbG9jYWxzLnNlY29uZHNmcmFjPXNlY29uZHNmcmFjLl9fYWRkX18oJHRlbXApO2Vsc2Ugc2Vjb25kc2ZyYWM9c2Vjb25kc2ZyYWMuX19pYWRkX18oJHRlbXApO2lmKGJvb2woIWJvb2woYWJzLl9fY2FsbF9fKHNlY29uZHNmcmFjKS5fX2xlX18oZmxvYXQoMikpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO31lbHNlIHZhciBzZWNvbmRzZnJhYz0kbG9jYWxzLnNlY29uZHNmcmFjPWRheXNlY29uZHNmcmFjO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhzZWNvbmRzZnJhYyxmbG9hdCkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbCghYm9vbChhYnMuX19jYWxsX18oc2Vjb25kc2ZyYWMpLl9fbGVfXyhmbG9hdCgyKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHNlY29uZHMsaW50KSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHNlY29uZHMsTnVtYmVyKDI0KS5fX211bF9fKE51bWJlcigzNjAwKSkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgZGF5cz0kbG9jYWxzLmRheXM9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBzZWNvbmRzPSRsb2NhbHMuc2Vjb25kcz0kcmlnaHQuX19pdGVtX18oMSk7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9ZGF5cztpZighaGFzYXR0cihkLCJfX2lhZGRfXyIpKXZhciBkPSRsb2NhbHMuZD1kLl9fYWRkX18oJHRlbXApO2Vsc2UgZD1kLl9faWFkZF9fKCR0ZW1wKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1pbnQuX19jYWxsX18oc2Vjb25kcyk7aWYoIWhhc2F0dHIocywiX19pYWRkX18iKSl2YXIgcz0kbG9jYWxzLnM9cy5fX2FkZF9fKCR0ZW1wKTtlbHNlIHM9cy5fX2lhZGRfXygkdGVtcCk7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHMsaW50KSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKGFicy5fX2NhbGxfXyhzKS5fX2xlX18oTnVtYmVyKDIpLl9fbXVsX18oTnVtYmVyKDI0KSkuX19tdWxfXyhOdW1iZXIoMzYwMCkpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgdXNkb3VibGU9JGxvY2Fscy51c2RvdWJsZT1zZWNvbmRzZnJhYy5fX211bF9fKGZsb2F0KDFlNikpO2lmKGJvb2woIWJvb2woYWJzLl9fY2FsbF9fKHVzZG91YmxlKS5fX2x0X18oZmxvYXQoMi4xZTYpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18obWljcm9zZWNvbmRzLGZsb2F0KSkpe3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXVzZG91YmxlO2lmKCFoYXNhdHRyKG1pY3Jvc2Vjb25kcywiX19pYWRkX18iKSl2YXIgbWljcm9zZWNvbmRzPSRsb2NhbHMubWljcm9zZWNvbmRzPW1pY3Jvc2Vjb25kcy5fX2FkZF9fKCR0ZW1wKTtlbHNlIG1pY3Jvc2Vjb25kcz1taWNyb3NlY29uZHMuX19pYWRkX18oJHRlbXApO3ZhciBtaWNyb3NlY29uZHM9JGxvY2Fscy5taWNyb3NlY29uZHM9cm91bmQuX19jYWxsX18obWljcm9zZWNvbmRzLE51bWJlcigwKSk7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyhtaWNyb3NlY29uZHMsZmxvYXQoMWU2KSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBzZWNvbmRzPSRsb2NhbHMuc2Vjb25kcz0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG1pY3Jvc2Vjb25kcz0kbG9jYWxzLm1pY3Jvc2Vjb25kcz0kcmlnaHQuX19pdGVtX18oMSk7aWYoYm9vbCghYm9vbChtaWNyb3NlY29uZHMuX19lcV9fKGludC5fX2NhbGxfXyhtaWNyb3NlY29uZHMpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKHNlY29uZHMuX19lcV9fKGludC5fX2NhbGxfXyhzZWNvbmRzKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyhzZWNvbmRzLGZsb2F0KDI0KS5fX211bF9fKGZsb2F0KDM2MDApKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBkYXlzPSRsb2NhbHMuZGF5cz0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHNlY29uZHM9JGxvY2Fscy5zZWNvbmRzPSRyaWdodC5fX2l0ZW1fXygxKTtpZihib29sKCFib29sKGRheXMuX19lcV9fKGludC5fX2NhbGxfXyhkYXlzKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbCghYm9vbChzZWNvbmRzLl9fZXFfXyhpbnQuX19jYWxsX18oc2Vjb25kcykpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPWludC5fX2NhbGxfXyhkYXlzKTtpZighaGFzYXR0cihkLCJfX2lhZGRfXyIpKXZhciBkPSRsb2NhbHMuZD1kLl9fYWRkX18oJHRlbXApO2Vsc2UgZD1kLl9faWFkZF9fKCR0ZW1wKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1pbnQuX19jYWxsX18oc2Vjb25kcyk7aWYoIWhhc2F0dHIocywiX19pYWRkX18iKSl2YXIgcz0kbG9jYWxzLnM9cy5fX2FkZF9fKCR0ZW1wKTtlbHNlIHM9cy5fX2lhZGRfXygkdGVtcCk7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHMsaW50KSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKGFicy5fX2NhbGxfXyhzKS5fX2xlX18oTnVtYmVyKDMpLl9fbXVsX18oTnVtYmVyKDI0KSkuX19tdWxfXyhOdW1iZXIoMzYwMCkpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt9ZWxzZXskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG1pY3Jvc2Vjb25kcyxOdW1iZXIoMTAwMDAwMCkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgc2Vjb25kcz0kbG9jYWxzLnNlY29uZHM9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtaWNyb3NlY29uZHM9JGxvY2Fscy5taWNyb3NlY29uZHM9JHJpZ2h0Ll9faXRlbV9fKDEpOyRyaWdodD1kaXZtb2QuX19jYWxsX18oc2Vjb25kcyxOdW1iZXIoMjQpLl9fbXVsX18oTnVtYmVyKDM2MDApKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBkYXlzPSRsb2NhbHMuZGF5cz0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHNlY29uZHM9JGxvY2Fscy5zZWNvbmRzPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1kYXlzO2lmKCFoYXNhdHRyKGQsIl9faWFkZF9fIikpdmFyIGQ9JGxvY2Fscy5kPWQuX19hZGRfXygkdGVtcCk7ZWxzZSBkPWQuX19pYWRkX18oJHRlbXApO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPWludC5fX2NhbGxfXyhzZWNvbmRzKTtpZighaGFzYXR0cihzLCJfX2lhZGRfXyIpKXZhciBzPSRsb2NhbHMucz1zLl9fYWRkX18oJHRlbXApO2Vsc2Ugcz1zLl9faWFkZF9fKCR0ZW1wKTtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18ocyxpbnQpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO2lmKGJvb2woIWJvb2woYWJzLl9fY2FsbF9fKHMpLl9fbGVfXyhOdW1iZXIoMykuX19tdWxfXyhOdW1iZXIoMjQpKS5fX211bF9fKE51bWJlcigzNjAwKSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciBtaWNyb3NlY29uZHM9JGxvY2Fscy5taWNyb3NlY29uZHM9ZmxvYXQuX19jYWxsX18obWljcm9zZWNvbmRzKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD11c2RvdWJsZTtpZighaGFzYXR0cihtaWNyb3NlY29uZHMsIl9faWFkZF9fIikpdmFyIG1pY3Jvc2Vjb25kcz0kbG9jYWxzLm1pY3Jvc2Vjb25kcz1taWNyb3NlY29uZHMuX19hZGRfXygkdGVtcCk7ZWxzZSBtaWNyb3NlY29uZHM9bWljcm9zZWNvbmRzLl9faWFkZF9fKCR0ZW1wKTt2YXIgbWljcm9zZWNvbmRzPSRsb2NhbHMubWljcm9zZWNvbmRzPXJvdW5kLl9fY2FsbF9fKG1pY3Jvc2Vjb25kcyxOdW1iZXIoMCkpO31pZihib29sKCFib29sKGFicy5fX2NhbGxfXyhzKS5fX2xlX18oTnVtYmVyKDMpLl9fbXVsX18oTnVtYmVyKDI0KSkuX19tdWxfXyhOdW1iZXIoMzYwMCkpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTtpZihib29sKCFib29sKGFicy5fX2NhbGxfXyhtaWNyb3NlY29uZHMpLl9fbHRfXyhmbG9hdCgzLjFlNikpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciB1cz0kbG9jYWxzLnVzPWludC5fX2NhbGxfXyhtaWNyb3NlY29uZHMpOyRyaWdodD1kaXZtb2QuX19jYWxsX18odXMsTnVtYmVyKDEwMDAwMDApKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHNlY29uZHM9JGxvY2Fscy5zZWNvbmRzPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgdXM9JGxvY2Fscy51cz0kcmlnaHQuX19pdGVtX18oMSk7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9c2Vjb25kcztpZighaGFzYXR0cihzLCJfX2lhZGRfXyIpKXZhciBzPSRsb2NhbHMucz1zLl9fYWRkX18oJHRlbXApO2Vsc2Ugcz1zLl9faWFkZF9fKCR0ZW1wKTtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18ocyxpbnQpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpOyRyaWdodD1kaXZtb2QuX19jYWxsX18ocyxOdW1iZXIoMjQpLl9fbXVsX18oTnVtYmVyKDM2MDApKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBkYXlzPSRsb2NhbHMuZGF5cz0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHM9JGxvY2Fscy5zPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1kYXlzO2lmKCFoYXNhdHRyKGQsIl9faWFkZF9fIikpdmFyIGQ9JGxvY2Fscy5kPWQuX19hZGRfXygkdGVtcCk7ZWxzZSBkPWQuX19pYWRkX18oJHRlbXApO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhkLGludCkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7aWYoYm9vbCghYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oaXNpbnN0YW5jZS5fX2NhbGxfXyhzLGludCkpJiYkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sZV9fKHMpKSYmJHRlc3RfaXRlbShzLl9fbHRfXyhOdW1iZXIoMjQpLl9fbXVsX18oTnVtYmVyKDM2MDApKSkpKSkpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO2lmKGJvb2woIWJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGlzaW5zdGFuY2UuX19jYWxsX18odXMsaW50KSkmJiR0ZXN0X2l0ZW0oJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigwKS5fX2xlX18odXMpKSYmJHRlc3RfaXRlbSh1cy5fX2x0X18oTnVtYmVyKDEwMDAwMDApKSkpKSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7dmFyIHNlbGY9JGxvY2Fscy5zZWxmPW9iamVjdC5fX2dldGF0dHJfXygiX19uZXdfXyIpLl9fY2FsbF9fKGNscyk7c2VsZi5fX3NldGF0dHJfXygiX2RheXMiLGQpO3NlbGYuX19zZXRhdHRyX18oIl9zZWNvbmRzIixzKTtzZWxmLl9fc2V0YXR0cl9fKCJfbWljcm9zZWNvbmRzIix1cyk7aWYoYm9vbChhYnMuX19jYWxsX18oZCkuX19ndF9fKE51bWJlcig5OTk5OTk5OTkpKSkpdGhyb3cgT3ZlcmZsb3dFcnJvci5fX2NhbGxfXygidGltZWRlbHRhICMgb2YgZGF5cyBpcyB0b28gbGFyZ2U6ICVkIi5fX21vZF9fKGQpKTtyZXR1cm4gc2VsZjt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbmV3X18uX19uYW1lX189Il9fbmV3X18iOyRjbGFzcy5fX3JlcHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVwcl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI3Zm1td3VkOCJdLl9fZGljdF9fPSRucztpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKSkpcmV0dXJuICIlcyglZCwgJWQsICVkKSIuX19tb2RfXyh0dXBsZShbJ2RhdGV0aW1lLicuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2NsYXNzX18iKS5fX2dldGF0dHJfXygiX19uYW1lX18iKSksc2VsZi5fX2dldGF0dHJfXygiX2RheXMiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kcyIpLHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKV0pKTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmRzIikpKXJldHVybiAiJXMoJWQsICVkKSIuX19tb2RfXyh0dXBsZShbJ2RhdGV0aW1lLicuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2NsYXNzX18iKS5fX2dldGF0dHJfXygiX19uYW1lX18iKSksc2VsZi5fX2dldGF0dHJfXygiX2RheXMiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kcyIpXSkpO3JldHVybiAiJXMoJWQpIi5fX21vZF9fKHR1cGxlKFsnZGF0ZXRpbWUuJy5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yZXByX18uX19uYW1lX189Il9fcmVwcl9fIjskY2xhc3MuX19zdHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc3RyX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubm9hcmE2NWcuX19kaWN0X189JG5zOyRyaWdodD1kaXZtb2QuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKSxOdW1iZXIoNjApKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIG1tPSRsb2NhbHMubW09JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBzcz0kbG9jYWxzLnNzPSRyaWdodC5fX2l0ZW1fXygxKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG1tLE51bWJlcig2MCkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgaGg9JGxvY2Fscy5oaD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG1tPSRsb2NhbHMubW09JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBzPSRsb2NhbHMucz0iJWQ6JTAyZDolMDJkIi5fX21vZF9fKHR1cGxlKFtoaCxtbSxzc10pKTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9kYXlzIikpKXt2YXIgcGx1cmFsPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicGx1cmFsIixhcmd1bWVudHMsWyJuIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLncxNDV3OHl3Ll9fZGljdF9fPSRucztyZXR1cm4gdHVwbGUoW24sJHRlc3RfZXhwcigkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShhYnMuX19jYWxsX18obikuX19uZV9fKE51bWJlcigxKSkpJiYkdGVzdF9pdGVtKCJzIikpKXx8JHRlc3RfaXRlbSgiIikpXSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO3BsdXJhbC5fX25hbWVfXz0icGx1cmFsIjskbG9jYWxzLnBsdXJhbD1wbHVyYWw7dmFyIHM9JGxvY2Fscy5zPSIlZCBkYXklcywgIi5fX21vZF9fKHBsdXJhbC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpKSkuX19hZGRfXyhzKTt9aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmRzIikpKXZhciBzPSRsb2NhbHMucz1zLl9fYWRkX18oIi4lMDZkIi5fX21vZF9fKHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKSkpO3JldHVybiBzO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19zdHJfXy5fX25hbWVfXz0iX19zdHJfXyI7JGNsYXNzLnRvdGFsX3NlY29uZHM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0b3RhbF9zZWNvbmRzIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI4ZjhhYWJnaCJdLl9fZGljdF9fPSRuczsiVG90YWwgc2Vjb25kcyBpbiB0aGUgZHVyYXRpb24uIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiZGF5cyIpLl9fbXVsX18oTnVtYmVyKDg2NDAwKSkuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJzZWNvbmRzIikpLl9fbXVsX18oTnVtYmVyKDEwKS5fX3Bvd19fKE51bWJlcig2KSkpLl9fYWRkX18oc2VsZi5fX2dldGF0dHJfXygibWljcm9zZWNvbmRzIikpLl9fdHJ1ZWRpdl9fKE51bWJlcigxMCkuX19wb3dfXyhOdW1iZXIoNikpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnRvdGFsX3NlY29uZHMuX19uYW1lX189InRvdGFsX3NlY29uZHMiOyRjbGFzcy5kYXlzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZGF5cyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNmJhdTVwM2siXS5fX2RpY3RfXz0kbnM7ImRheXMiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuZGF5cy5fX25hbWVfXz0iZGF5cyI7JGNsYXNzLmRheXM9KCRjbGFzcy5wcm9wZXJ0eSE9PXVuZGVmaW5lZD8kY2xhc3MucHJvcGVydHk6cHJvcGVydHkpKCRjbGFzcy5kYXlzKTskY2xhc3Muc2Vjb25kcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNlY29uZHMiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuc29zb2hpbHcuX19kaWN0X189JG5zOyJzZWNvbmRzIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnNlY29uZHMuX19uYW1lX189InNlY29uZHMiOyRjbGFzcy5zZWNvbmRzPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3Muc2Vjb25kcyk7JGNsYXNzLm1pY3Jvc2Vjb25kcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm1pY3Jvc2Vjb25kcyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5zejcxbDFiay5fX2RpY3RfXz0kbnM7Im1pY3Jvc2Vjb25kcyI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLm1pY3Jvc2Vjb25kcy5fX25hbWVfXz0ibWljcm9zZWNvbmRzIjskY2xhc3MubWljcm9zZWNvbmRzPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MubWljcm9zZWNvbmRzKTskY2xhc3MuX19hZGRfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fYWRkX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMnk1cGl4Zm8iXS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKXJldHVybiB0aW1lZGVsdGEuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2RheXMiKS5fX2FkZF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfZGF5cyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kcyIpLl9fYWRkX18ob3RoZXIuX19nZXRhdHRyX18oIl9zZWNvbmRzIikpLHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKS5fX2FkZF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmRzIikpKTtyZXR1cm4gTm90SW1wbGVtZW50ZWQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2FkZF9fLl9fbmFtZV9fPSJfX2FkZF9fIjskY2xhc3MuX19yYWRkX189KCRjbGFzcy5fX2FkZF9fIT09dW5kZWZpbmVkPyRjbGFzcy5fX2FkZF9fOl9fYWRkX18pOyRjbGFzcy5fX3N1Yl9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19zdWJfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI5NHptMjFjNSJdLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpcmV0dXJuIHRpbWVkZWx0YS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpLl9fc3ViX18ob3RoZXIuX19nZXRhdHRyX18oIl9kYXlzIikpLHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmRzIikuX19zdWJfXyhvdGhlci5fX2dldGF0dHJfXygiX3NlY29uZHMiKSksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kcyIpLl9fc3ViX18ob3RoZXIuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKSkpO3JldHVybiBOb3RJbXBsZW1lbnRlZDt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fc3ViX18uX19uYW1lX189Il9fc3ViX18iOyRjbGFzcy5fX3JzdWJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcnN1Yl9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaXBpcTkxcWcuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCkuX19hZGRfXyhvdGhlcik7cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yc3ViX18uX19uYW1lX189Il9fcnN1Yl9fIjskY2xhc3MuX19uZWdfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbmVnX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuamxsOXh5MmguX19kaWN0X189JG5zO3JldHVybiB0aW1lZGVsdGEuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2RheXMiKS5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCksc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKS5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kcyIpLl9fZ2V0YXR0cl9fKCJfX25lZ19fIikuX19jYWxsX18oKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX25lZ19fLl9fbmFtZV9fPSJfX25lZ19fIjskY2xhc3MuX19wb3NfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcG9zX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubnRtcHJpZWQuX19kaWN0X189JG5zO3JldHVybiBzZWxmO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19wb3NfXy5fX25hbWVfXz0iX19wb3NfXyI7JGNsYXNzLl9fYWJzX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2Fic19fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI0a2xiMXphZSJdLl9fZGljdF9fPSRucztpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9kYXlzIikuX19sdF9fKE51bWJlcigwKSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfX25lZ19fIikuX19jYWxsX18oKTtlbHNlIHJldHVybiBzZWxmO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19hYnNfXy5fX25hbWVfXz0iX19hYnNfXyI7JGNsYXNzLl9fbXVsX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX211bF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZjBxOGVrMjEuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixpbnQpKSlyZXR1cm4gdGltZWRlbHRhLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9kYXlzIikuX19tdWxfXyhvdGhlciksc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKS5fX211bF9fKG90aGVyKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmRzIikuX19tdWxfXyhvdGhlcikpO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixmbG9hdCkpKXskcmlnaHQ9b3RoZXIuX19nZXRhdHRyX18oImFzX2ludGVnZXJfcmF0aW8iKS5fX2NhbGxfXygpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgYT0kbG9jYWxzLmE9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBiPSRsb2NhbHMuYj0kcmlnaHQuX19pdGVtX18oMSk7cmV0dXJuIHNlbGYuX19tdWxfXyhhKS5fX3RydWVkaXZfXyhiKTt9cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19tdWxfXy5fX25hbWVfXz0iX19tdWxfXyI7JGNsYXNzLl9fcm11bF9fPSgkY2xhc3MuX19tdWxfXyE9PXVuZGVmaW5lZD8kY2xhc3MuX19tdWxfXzpfX211bF9fKTskY2xhc3MuX3RvX21pY3Jvc2Vjb25kcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl90b19taWNyb3NlY29uZHMiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjN3aGN3Z3RnIl0uX19kaWN0X189JG5zO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpLl9fbXVsX18oTnVtYmVyKDI0KS5fX211bF9fKE51bWJlcigzNjAwKSkpLl9fYWRkX18oc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKSkuX19tdWxfXyhOdW1iZXIoMTAwMDAwMCkpLl9fYWRkX18oc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kcyIpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl90b19taWNyb3NlY29uZHMuX19uYW1lX189Il90b19taWNyb3NlY29uZHMiOyRjbGFzcy5fX2Zsb29yZGl2X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2Zsb29yZGl2X18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMWxxMTN2dGQiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHR1cGxlKFtpbnQsdGltZWRlbHRhXSkpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO3ZhciB1c2VjPSRsb2NhbHMudXNlYz1zZWxmLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKTtpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpcmV0dXJuIHVzZWMuX19mbG9vcmRpdl9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKSk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGludCkpKXJldHVybiB0aW1lZGVsdGEuX19jYWxsX18oTnVtYmVyKDApLE51bWJlcigwKSx1c2VjLl9fZmxvb3JkaXZfXyhvdGhlcikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19mbG9vcmRpdl9fLl9fbmFtZV9fPSJfX2Zsb29yZGl2X18iOyRjbGFzcy5fX3RydWVkaXZfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fdHJ1ZWRpdl9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjVldDdvdzlvIl0uX19kaWN0X189JG5zO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0dXBsZShbaW50LGZsb2F0LHRpbWVkZWx0YV0pKSkpKXJldHVybiBOb3RJbXBsZW1lbnRlZDt2YXIgdXNlYz0kbG9jYWxzLnVzZWM9c2VsZi5fX2dldGF0dHJfXygiX3RvX21pY3Jvc2Vjb25kcyIpLl9fY2FsbF9fKCk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKXJldHVybiB1c2VjLl9fdHJ1ZWRpdl9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKSk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGludCkpKXJldHVybiB0aW1lZGVsdGEuX19jYWxsX18oTnVtYmVyKDApLE51bWJlcigwKSx1c2VjLl9fdHJ1ZWRpdl9fKG90aGVyKSk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGZsb2F0KSkpeyRyaWdodD1vdGhlci5fX2dldGF0dHJfXygiYXNfaW50ZWdlcl9yYXRpbyIpLl9fY2FsbF9fKCk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBhPSRsb2NhbHMuYT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGI9JGxvY2Fscy5iPSRyaWdodC5fX2l0ZW1fXygxKTtyZXR1cm4gdGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigwKSxOdW1iZXIoMCksYi5fX211bF9fKHVzZWMpLl9fdHJ1ZWRpdl9fKGEpKTt9fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX3RydWVkaXZfXy5fX25hbWVfXz0iX190cnVlZGl2X18iOyRjbGFzcy5fX21vZF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19tb2RfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnh0aGR6NnZsLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpe3ZhciByPSRsb2NhbHMucj1zZWxmLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKS5fX21vZF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKSk7cmV0dXJuIHRpbWVkZWx0YS5fX2NhbGxfXyhOdW1iZXIoMCksTnVtYmVyKDApLHIpO31yZXR1cm4gTm90SW1wbGVtZW50ZWQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX21vZF9fLl9fbmFtZV9fPSJfX21vZF9fIjskY2xhc3MuX19kaXZtb2RfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZGl2bW9kX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNWg1YXloeTQiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKXskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl90b19taWNyb3NlY29uZHMiKS5fX2NhbGxfXygpLG90aGVyLl9fZ2V0YXR0cl9fKCJfdG9fbWljcm9zZWNvbmRzIikuX19jYWxsX18oKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBxPSRsb2NhbHMucT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHI9JGxvY2Fscy5yPSRyaWdodC5fX2l0ZW1fXygxKTtyZXR1cm4gdHVwbGUoW3EsdGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigwKSxOdW1iZXIoMCkscildKTt9cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19kaXZtb2RfXy5fX25hbWVfXz0iX19kaXZtb2RfXyI7JGNsYXNzLl9fZXFfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZXFfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIzOHV2ZzlxdyJdLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19lcV9fKE51bWJlcigwKSk7ZWxzZSByZXR1cm4gRmFsc2U7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2VxX18uX19uYW1lX189Il9fZXFfXyI7JGNsYXNzLl9fbmVfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbmVfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmMwaWlicGh5Ll9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19uZV9fKE51bWJlcigwKSk7ZWxzZSByZXR1cm4gVHJ1ZTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbmVfXy5fX25hbWVfXz0iX19uZV9fIjskY2xhc3MuX19sZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19sZV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUueGplNzhtdDAuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2xlX18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbGVfXy5fX25hbWVfXz0iX19sZV9fIjskY2xhc3MuX19sdF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19sdF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubmtjMnExNTIuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2x0X18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbHRfXy5fX25hbWVfXz0iX19sdF9fIjskY2xhc3MuX19nZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19nZV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuejhjMHFrcDkuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2dlX18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZ2VfXy5fX25hbWVfXz0iX19nZV9fIjskY2xhc3MuX19ndF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19ndF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaXJ0ODhibWIuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2d0X18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZ3RfXy5fX25hbWVfXz0iX19ndF9fIjskY2xhc3MuX2NtcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jbXAiLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNXI1MWZkdGQiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7cmV0dXJuIF9zdGF0ZV9jbXAuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKSxvdGhlci5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fY21wLl9fbmFtZV9fPSJfY21wIjskY2xhc3MuX19oYXNoX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2hhc2hfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5zMmd5ZGExcy5fX2RpY3RfXz0kbnM7cmV0dXJuIGhhc2guX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2hhc2hfXy5fX25hbWVfXz0iX19oYXNoX18iOyRjbGFzcy5fX2Jvb2xfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fYm9vbF9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIwYXliYzF3dCJdLl9fZGljdF9fPSRucztyZXR1cm4gJHRlc3RfZXhwcigkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5cyIpLl9fbmVfXyhOdW1iZXIoMCkpKXx8JHRlc3RfaXRlbShzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kcyIpLl9fbmVfXyhOdW1iZXIoMCkpKSkpfHwkdGVzdF9pdGVtKHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZHMiKS5fX25lX18oTnVtYmVyKDApKSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19ib29sX18uX19uYW1lX189Il9fYm9vbF9fIjskY2xhc3MuX2dldHN0YXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2dldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnMyZ2VreWU4Ll9fZGljdF9fPSRucztyZXR1cm4gdHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9kYXlzIiksc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZHMiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmRzIildKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9nZXRzdGF0ZS5fX25hbWVfXz0iX2dldHN0YXRlIjskY2xhc3MuX19yZWR1Y2VfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVkdWNlX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYzc3ZXJuYzMuX19kaWN0X189JG5zO3JldHVybiB0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIiksc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKV0pO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yZWR1Y2VfXy5fX25hbWVfXz0iX19yZWR1Y2VfXyI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciB0aW1lZGVsdGE9JGNsYXNzX2NvbnN0cnVjdG9yKCJ0aW1lZGVsdGEiLCR0aW1lZGVsdGEpO19fQlJZVEhPTl9fLnNjb3BlWyJkYXRldGltZS5weSJdLl9fZGljdF9fLnRpbWVkZWx0YT10aW1lZGVsdGE7dGltZWRlbHRhLl9fc2V0YXR0cl9fKCJtaW4iLHRpbWVkZWx0YS5fX2NhbGxfXyhOdW1iZXIoLTk5OTk5OTk5OSkpKTt0aW1lZGVsdGEuX19zZXRhdHRyX18oIm1heCIsdGltZWRlbHRhLl9fY2FsbF9fKCRLdygiZGF5cyIsTnVtYmVyKDk5OTk5OTk5OSkpLCRLdygiaG91cnMiLE51bWJlcigyMykpLCRLdygibWludXRlcyIsTnVtYmVyKDU5KSksJEt3KCJzZWNvbmRzIixOdW1iZXIoNTkpKSwkS3coIm1pY3Jvc2Vjb25kcyIsTnVtYmVyKDk5OTk5OSkpKSk7dGltZWRlbHRhLl9fc2V0YXR0cl9fKCJyZXNvbHV0aW9uIix0aW1lZGVsdGEuX19jYWxsX18oJEt3KCJtaWNyb3NlY29uZHMiLE51bWJlcigxKSkpKTt2YXIgJGRhdGU9KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7IkNvbmNyZXRlIGRhdGUgdHlwZS5cblxuICAgIENvbnN0cnVjdG9yczpcblxuICAgIF9fbmV3X18oKVxuICAgIGZyb210aW1lc3RhbXAoKVxuICAgIHRvZGF5KClcbiAgICBmcm9tb3JkaW5hbCgpXG5cbiAgICBPcGVyYXRvcnM6XG5cbiAgICBfX3JlcHJfXywgX19zdHJfX1xuICAgIF9fY21wX18sIF9faGFzaF9fXG4gICAgX19hZGRfXywgX19yYWRkX18sIF9fc3ViX18gKGFkZC9yYWRkIG9ubHkgd2l0aCB0aW1lZGVsdGEgYXJnKVxuXG4gICAgTWV0aG9kczpcblxuICAgIHRpbWV0dXBsZSgpXG4gICAgdG9vcmRpbmFsKClcbiAgICB3ZWVrZGF5KClcbiAgICBpc293ZWVrZGF5KCksIGlzb2NhbGVuZGFyKCksIGlzb2Zvcm1hdCgpXG4gICAgY3RpbWUoKVxuICAgIHN0cmZ0aW1lKClcblxuICAgIFByb3BlcnRpZXMgKHJlYWRvbmx5KTpcbiAgICB5ZWFyLCBtb250aCwgZGF5XG4gICAgIjskY2xhc3MuX19zbG90c19fPXR1cGxlKFsnX3llYXInLCdfbW9udGgnLCdfZGF5J10pOyRjbGFzcy5fX25ld19fPShmdW5jdGlvbihOb25lLE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19uZXdfXyIsYXJndW1lbnRzLFsiY2xzIiwieWVhciJdLHsibW9udGgiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwiZGF5IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5vM2ZndDkyYy5fX2RpY3RfXz0kbnM7IkNvbnN0cnVjdG9yLlxuXG4gICAgICAgIEFyZ3VtZW50czpcblxuICAgICAgICB5ZWFyLCBtb250aCwgZGF5IChyZXF1aXJlZCwgYmFzZSAxKVxuICAgICAgICAiO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbSgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oaXNpbnN0YW5jZS5fX2NhbGxfXyh5ZWFyLGJ5dGVzKSkmJiR0ZXN0X2l0ZW0obGVuLl9fY2FsbF9fKHllYXIpLl9fZXFfXyhOdW1iZXIoNCkpKSkpJiYkdGVzdF9pdGVtKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMSkuX19sZV9fKHllYXIuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDIpKSkpJiYkdGVzdF9pdGVtKHllYXIuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDIpKS5fX2xlX18oTnVtYmVyKDEyKSkpKSkpKSYmJHRlc3RfaXRlbShtb250aD09PU5vbmUpKSkpe3ZhciBzZWxmPSRsb2NhbHMuc2VsZj1vYmplY3QuX19nZXRhdHRyX18oIl9fbmV3X18iKS5fX2NhbGxfXyhjbHMpO3NlbGYuX19nZXRhdHRyX18oIl9fc2V0c3RhdGUiKS5fX2NhbGxfXyh5ZWFyKTtyZXR1cm4gc2VsZjt9X2NoZWNrX2RhdGVfZmllbGRzLl9fY2FsbF9fKHllYXIsbW9udGgsZGF5KTt2YXIgc2VsZj0kbG9jYWxzLnNlbGY9b2JqZWN0Ll9fZ2V0YXR0cl9fKCJfX25ld19fIikuX19jYWxsX18oY2xzKTtzZWxmLl9fc2V0YXR0cl9fKCJfeWVhciIseWVhcik7c2VsZi5fX3NldGF0dHJfXygiX21vbnRoIixtb250aCk7c2VsZi5fX3NldGF0dHJfXygiX2RheSIsZGF5KTtyZXR1cm4gc2VsZjt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKE5vbmUsTm9uZSk7JGNsYXNzLl9fbmV3X18uX19uYW1lX189Il9fbmV3X18iOyRjbGFzcy5mcm9tdGltZXN0YW1wPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZnJvbXRpbWVzdGFtcCIsYXJndW1lbnRzLFsiY2xzIiwidCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS52bWUwM2pkby5fX2RpY3RfXz0kbnM7IkNvbnN0cnVjdCBhIGRhdGUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIjskcmlnaHQ9X3RpbWUuX19nZXRhdHRyX18oImxvY2FsdGltZSIpLl9fY2FsbF9fKHQpO2lmKCRyaWdodC5fX2xlbl9fKCk+OSl0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCA5KSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTw5KXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgeT0kbG9jYWxzLnk9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtPSRsb2NhbHMubT0kcmlnaHQuX19pdGVtX18oMSk7dmFyIGQ9JGxvY2Fscy5kPSRyaWdodC5fX2l0ZW1fXygyKTt2YXIgaGg9JGxvY2Fscy5oaD0kcmlnaHQuX19pdGVtX18oMyk7dmFyIG1tPSRsb2NhbHMubW09JHJpZ2h0Ll9faXRlbV9fKDQpO3ZhciBzcz0kbG9jYWxzLnNzPSRyaWdodC5fX2l0ZW1fXyg1KTt2YXIgd2Vla2RheT0kbG9jYWxzLndlZWtkYXk9JHJpZ2h0Ll9faXRlbV9fKDYpO3ZhciBqZGF5PSRsb2NhbHMuamRheT0kcmlnaHQuX19pdGVtX18oNyk7dmFyIGRzdD0kbG9jYWxzLmRzdD0kcmlnaHQuX19pdGVtX18oOCk7cmV0dXJuIGNscy5fX2NhbGxfXyh5LG0sZCk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5mcm9tdGltZXN0YW1wLl9fbmFtZV9fPSJmcm9tdGltZXN0YW1wIjskY2xhc3MuZnJvbXRpbWVzdGFtcD0oJGNsYXNzLmNsYXNzbWV0aG9kIT09dW5kZWZpbmVkPyRjbGFzcy5jbGFzc21ldGhvZDpjbGFzc21ldGhvZCkoJGNsYXNzLCRjbGFzcy5mcm9tdGltZXN0YW1wKTskY2xhc3MudG9kYXk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0b2RheSIsYXJndW1lbnRzLFsiY2xzIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmloZ3A4ZmczLl9fZGljdF9fPSRuczsiQ29uc3RydWN0IGEgZGF0ZSBmcm9tIHRpbWUudGltZSgpLiI7dmFyIHQ9JGxvY2Fscy50PV90aW1lLl9fZ2V0YXR0cl9fKCJ0aW1lIikuX19jYWxsX18oKTtyZXR1cm4gY2xzLl9fZ2V0YXR0cl9fKCJmcm9tdGltZXN0YW1wIikuX19jYWxsX18odCk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50b2RheS5fX25hbWVfXz0idG9kYXkiOyRjbGFzcy50b2RheT0oJGNsYXNzLmNsYXNzbWV0aG9kIT09dW5kZWZpbmVkPyRjbGFzcy5jbGFzc21ldGhvZDpjbGFzc21ldGhvZCkoJGNsYXNzLCRjbGFzcy50b2RheSk7JGNsYXNzLmZyb21vcmRpbmFsPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZnJvbW9yZGluYWwiLGFyZ3VtZW50cyxbImNscyIsIm4iXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubHlma2t2dTEuX19kaWN0X189JG5zOyJDb250cnVjdCBhIGRhdGUgZnJvbSBhIHByb2xlcHRpYyBHcmVnb3JpYW4gb3JkaW5hbC5cblxuICAgICAgICBKYW51YXJ5IDEgb2YgeWVhciAxIGlzIGRheSAxLiAgT25seSB0aGUgeWVhciwgbW9udGggYW5kIGRheSBhcmVcbiAgICAgICAgbm9uLXplcm8gaW4gdGhlIHJlc3VsdC5cbiAgICAgICAgIjskcmlnaHQ9X29yZDJ5bWQuX19jYWxsX18obik7aWYoJHJpZ2h0Ll9fbGVuX18oKT4zKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDMpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDMpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB5PSRsb2NhbHMueT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG09JGxvY2Fscy5tPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgZD0kbG9jYWxzLmQ9JHJpZ2h0Ll9faXRlbV9fKDIpO3JldHVybiBjbHMuX19jYWxsX18oeSxtLGQpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuZnJvbW9yZGluYWwuX19uYW1lX189ImZyb21vcmRpbmFsIjskY2xhc3MuZnJvbW9yZGluYWw9KCRjbGFzcy5jbGFzc21ldGhvZCE9PXVuZGVmaW5lZD8kY2xhc3MuY2xhc3NtZXRob2Q6Y2xhc3NtZXRob2QpKCRjbGFzcywkY2xhc3MuZnJvbW9yZGluYWwpOyRjbGFzcy5fX3JlcHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVwcl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI1djNhcmdybiJdLl9fZGljdF9fPSRuczsiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLlxuXG4gICAgICAgID4+PiBkdCA9IGRhdGV0aW1lKDIwMTAsIDEsIDEpXG4gICAgICAgID4+PiByZXByKGR0KVxuICAgICAgICAnZGF0ZXRpbWUuZGF0ZXRpbWUoMjAxMCwgMSwgMSwgMCwgMCknXG5cbiAgICAgICAgPj4+IGR0ID0gZGF0ZXRpbWUoMjAxMCwgMSwgMSwgdHppbmZvPXRpbWV6b25lLnV0YylcbiAgICAgICAgPj4+IHJlcHIoZHQpXG4gICAgICAgICdkYXRldGltZS5kYXRldGltZSgyMDEwLCAxLCAxLCAwLCAwLCB0emluZm89ZGF0ZXRpbWUudGltZXpvbmUudXRjKSdcbiAgICAgICAgIjtyZXR1cm4gIiVzKCVkLCAlZCwgJWQpIi5fX21vZF9fKHR1cGxlKFsnZGF0ZXRpbWUuJy5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfeWVhciIpLHNlbGYuX19nZXRhdHRyX18oIl9tb250aCIpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKV0pKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fcmVwcl9fLl9fbmFtZV9fPSJfX3JlcHJfXyI7JGNsYXNzLmN0aW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY3RpbWUiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUua2hrMnppNTIuX19kaWN0X189JG5zOyJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIjt2YXIgd2Vla2RheT0kbG9jYWxzLndlZWtkYXk9JHRlc3RfZXhwcigkdGVzdF9pdGVtKHNlbGYuX19nZXRhdHRyX18oInRvb3JkaW5hbCIpLl9fY2FsbF9fKCkuX19tb2RfXyhOdW1iZXIoNykpKXx8JHRlc3RfaXRlbShOdW1iZXIoNykpKTtyZXR1cm4gIiVzICVzICUyZCAwMDowMDowMCAlMDRkIi5fX21vZF9fKHR1cGxlKFtfREFZTkFNRVMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikod2Vla2RheSksX01PTlRITkFNRVMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIikpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfeWVhciIpXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuY3RpbWUuX19uYW1lX189ImN0aW1lIjskY2xhc3Muc3RyZnRpbWU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzdHJmdGltZSIsYXJndW1lbnRzLFsic2VsZiIsImZtdCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5objhucDUwNy5fX2RpY3RfXz0kbnM7IkZvcm1hdCB1c2luZyBzdHJmdGltZSgpLiI7cmV0dXJuIF93cmFwX3N0cmZ0aW1lLl9fY2FsbF9fKHNlbGYsZm10LHNlbGYuX19nZXRhdHRyX18oInRpbWV0dXBsZSIpLl9fY2FsbF9fKCkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3Muc3RyZnRpbWUuX19uYW1lX189InN0cmZ0aW1lIjskY2xhc3MuX19mb3JtYXRfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZm9ybWF0X18iLGFyZ3VtZW50cyxbInNlbGYiLCJmbXQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZHJob2wxenUuX19kaWN0X189JG5zO2lmKGJvb2wobGVuLl9fY2FsbF9fKGZtdCkuX19uZV9fKE51bWJlcigwKSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJzdHJmdGltZSIpLl9fY2FsbF9fKGZtdCk7cmV0dXJuIHN0ci5fX2NhbGxfXyhzZWxmKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZm9ybWF0X18uX19uYW1lX189Il9fZm9ybWF0X18iOyRjbGFzcy5pc29mb3JtYXQ9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJpc29mb3JtYXQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYnc2cnRzMTAuX19kaWN0X189JG5zOyJSZXR1cm4gdGhlIGRhdGUgZm9ybWF0dGVkIGFjY29yZGluZyB0byBJU08uXG5cbiAgICAgICAgVGhpcyBpcyAnWVlZWS1NTS1ERCcuXG5cbiAgICAgICAgUmVmZXJlbmNlczpcbiAgICAgICAgLSBodHRwOi8vd3d3LnczLm9yZy9UUi9OT1RFLWRhdGV0aW1lXG4gICAgICAgIC0gaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L2lzby10aW1lLmh0bWxcbiAgICAgICAgIjtyZXR1cm4gIiUwNGQtJTAyZC0lMDJkIi5fX21vZF9fKHR1cGxlKFtzZWxmLl9fZ2V0YXR0cl9fKCJfeWVhciIpLHNlbGYuX19nZXRhdHRyX18oIl9tb250aCIpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKV0pKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmlzb2Zvcm1hdC5fX25hbWVfXz0iaXNvZm9ybWF0IjskY2xhc3MuX19zdHJfXz0oJGNsYXNzLmlzb2Zvcm1hdCE9PXVuZGVmaW5lZD8kY2xhc3MuaXNvZm9ybWF0Omlzb2Zvcm1hdCk7JGNsYXNzLnllYXI9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ5ZWFyIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnozYm44ZWtnLl9fZGljdF9fPSRuczsieWVhciAoMS05OTk5KSI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl95ZWFyIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy55ZWFyLl9fbmFtZV9fPSJ5ZWFyIjskY2xhc3MueWVhcj0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLnllYXIpOyRjbGFzcy5tb250aD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm1vbnRoIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIzaXBvcDE1YSJdLl9fZGljdF9fPSRuczsibW9udGggKDEtMTIpIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5tb250aC5fX25hbWVfXz0ibW9udGgiOyRjbGFzcy5tb250aD0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLm1vbnRoKTskY2xhc3MuZGF5PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZGF5Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI0emw5dXdsbyJdLl9fZGljdF9fPSRuczsiZGF5ICgxLTMxKSI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmRheS5fX25hbWVfXz0iZGF5IjskY2xhc3MuZGF5PSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MuZGF5KTskY2xhc3MudGltZXR1cGxlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidGltZXR1cGxlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnlnN3MzdmV6Ll9fZGljdF9fPSRuczsiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIjtyZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpLE51bWJlcigwKSxOdW1iZXIoMCksTnVtYmVyKDApLE51bWJlcigtMSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MudGltZXR1cGxlLl9fbmFtZV9fPSJ0aW1ldHVwbGUiOyRjbGFzcy50b29yZGluYWw9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0b29yZGluYWwiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubm5hbzBpNGcuX19kaWN0X189JG5zOyJSZXR1cm4gcHJvbGVwdGljIEdyZWdvcmlhbiBvcmRpbmFsIGZvciB0aGUgeWVhciwgbW9udGggYW5kIGRheS5cblxuICAgICAgICBKYW51YXJ5IDEgb2YgeWVhciAxIGlzIGRheSAxLiAgT25seSB0aGUgeWVhciwgbW9udGggYW5kIGRheSB2YWx1ZXNcbiAgICAgICAgY29udHJpYnV0ZSB0byB0aGUgcmVzdWx0LlxuICAgICAgICAiO3JldHVybiBfeW1kMm9yZC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfeWVhciIpLHNlbGYuX19nZXRhdHRyX18oIl9tb250aCIpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50b29yZGluYWwuX19uYW1lX189InRvb3JkaW5hbCI7JGNsYXNzLnJlcGxhY2U9KGZ1bmN0aW9uKE5vbmUsTm9uZSxOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInJlcGxhY2UiLGFyZ3VtZW50cyxbInNlbGYiXSx7InllYXIiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwibW9udGgiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwiZGF5IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS55NWhwMnBtMS5fX2RpY3RfXz0kbnM7IlJldHVybiBhIG5ldyBkYXRlIHdpdGggbmV3IHZhbHVlcyBmb3IgdGhlIHNwZWNpZmllZCBmaWVsZHMuIjtpZihib29sKHllYXI9PT1Ob25lKSl2YXIgeWVhcj0kbG9jYWxzLnllYXI9c2VsZi5fX2dldGF0dHJfXygiX3llYXIiKTtpZihib29sKG1vbnRoPT09Tm9uZSkpdmFyIG1vbnRoPSRsb2NhbHMubW9udGg9c2VsZi5fX2dldGF0dHJfXygiX21vbnRoIik7aWYoYm9vbChkYXk9PT1Ob25lKSl2YXIgZGF5PSRsb2NhbHMuZGF5PXNlbGYuX19nZXRhdHRyX18oIl9kYXkiKTtfY2hlY2tfZGF0ZV9maWVsZHMuX19jYWxsX18oeWVhcixtb250aCxkYXkpO3JldHVybiBkYXRlLl9fY2FsbF9fKHllYXIsbW9udGgsZGF5KTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKE5vbmUsTm9uZSxOb25lKTskY2xhc3MucmVwbGFjZS5fX25hbWVfXz0icmVwbGFjZSI7JGNsYXNzLl9fZXFfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZXFfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmJ3M3J6N3FzLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fZXFfXyhOdW1iZXIoMCkpO3JldHVybiBOb3RJbXBsZW1lbnRlZDt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZXFfXy5fX25hbWVfXz0iX19lcV9fIjskY2xhc3MuX19uZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19uZV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjVuODF2M2FuIl0uX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19uZV9fKE51bWJlcigwKSk7cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19uZV9fLl9fbmFtZV9fPSJfX25lX18iOyRjbGFzcy5fX2xlX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2xlX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiN3NkbWtnOXIiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2xlX18oTnVtYmVyKDApKTtyZXR1cm4gTm90SW1wbGVtZW50ZWQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2xlX18uX19uYW1lX189Il9fbGVfXyI7JGNsYXNzLl9fbHRfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbHRfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmRkd2s0cTgzLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fbHRfXyhOdW1iZXIoMCkpO3JldHVybiBOb3RJbXBsZW1lbnRlZDt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbHRfXy5fX25hbWVfXz0iX19sdF9fIjskY2xhc3MuX19nZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19nZV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjZ1OHdqdG1jIl0uX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19nZV9fKE51bWJlcigwKSk7cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19nZV9fLl9fbmFtZV9fPSJfX2dlX18iOyRjbGFzcy5fX2d0X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2d0X18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS53aWJ6dWh5Ni5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2d0X18oTnVtYmVyKDApKTtyZXR1cm4gTm90SW1wbGVtZW50ZWQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2d0X18uX19uYW1lX189Il9fZ3RfXyI7JGNsYXNzLl9jbXA9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfY21wIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubHpmY2x3YWQuX19kaWN0X189JG5zO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTskcmlnaHQ9dHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpXSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4zKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDMpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDMpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB5PSRsb2NhbHMueT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG09JGxvY2Fscy5tPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgZD0kbG9jYWxzLmQ9JHJpZ2h0Ll9faXRlbV9fKDIpOyRyaWdodD10dXBsZShbb3RoZXIuX19nZXRhdHRyX18oIl95ZWFyIiksb3RoZXIuX19nZXRhdHRyX18oIl9tb250aCIpLG90aGVyLl9fZ2V0YXR0cl9fKCJfZGF5IildKTtpZigkcmlnaHQuX19sZW5fXygpPjMpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMykiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Myl0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHkyPSRsb2NhbHMueTI9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtMj0kbG9jYWxzLm0yPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgZDI9JGxvY2Fscy5kMj0kcmlnaHQuX19pdGVtX18oMik7cmV0dXJuIF9zdGF0ZV9jbXAuX19jYWxsX18odHVwbGUoW3ksbSxkXSksdHVwbGUoW3kyLG0yLGQyXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX2NtcC5fX25hbWVfXz0iX2NtcCI7JGNsYXNzLl9faGFzaF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19oYXNoX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjhpdW15MHA2Il0uX19kaWN0X189JG5zOyJIYXNoLiI7cmV0dXJuIGhhc2guX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2hhc2hfXy5fX25hbWVfXz0iX19oYXNoX18iOyRjbGFzcy5fX2FkZF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19hZGRfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmVmeHQ4NXRuLl9fZGljdF9fPSRuczsiQWRkIGEgZGF0ZSB0byBhIHRpbWVkZWx0YS4iO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lZGVsdGEpKSl7dmFyIG89JGxvY2Fscy5vPXNlbGYuX19nZXRhdHRyX18oInRvb3JkaW5hbCIpLl9fY2FsbF9fKCkuX19hZGRfXyhvdGhlci5fX2dldGF0dHJfXygiZGF5cyIpKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sdF9fKG8pKSYmJHRlc3RfaXRlbShvLl9fbGVfXyhfTUFYT1JESU5BTCkpKSkpcmV0dXJuIGRhdGUuX19nZXRhdHRyX18oImZyb21vcmRpbmFsIikuX19jYWxsX18obyk7dGhyb3cgT3ZlcmZsb3dFcnJvci5fX2NhbGxfXygicmVzdWx0IG91dCBvZiByYW5nZSIpO31yZXR1cm4gTm90SW1wbGVtZW50ZWQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2FkZF9fLl9fbmFtZV9fPSJfX2FkZF9fIjskY2xhc3MuX19yYWRkX189KCRjbGFzcy5fX2FkZF9fIT09dW5kZWZpbmVkPyRjbGFzcy5fX2FkZF9fOl9fYWRkX18pOyRjbGFzcy5fX3N1Yl9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19zdWJfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnllbGlyeXFzLl9fZGljdF9fPSRuczsiU3VidHJhY3QgdHdvIGRhdGVzLCBvciBhIGRhdGUgYW5kIGEgdGltZWRlbHRhLiI7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKXJldHVybiBzZWxmLl9fYWRkX18odGltZWRlbHRhLl9fY2FsbF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJkYXlzIikuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpKSk7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGUpKSl7dmFyIGRheXMxPSRsb2NhbHMuZGF5czE9c2VsZi5fX2dldGF0dHJfXygidG9vcmRpbmFsIikuX19jYWxsX18oKTt2YXIgZGF5czI9JGxvY2Fscy5kYXlzMj1vdGhlci5fX2dldGF0dHJfXygidG9vcmRpbmFsIikuX19jYWxsX18oKTtyZXR1cm4gdGltZWRlbHRhLl9fY2FsbF9fKGRheXMxLl9fc3ViX18oZGF5czIpKTt9cmV0dXJuIE5vdEltcGxlbWVudGVkO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19zdWJfXy5fX25hbWVfXz0iX19zdWJfXyI7JGNsYXNzLndlZWtkYXk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ3ZWVrZGF5Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmluYjQwczR2Ll9fZGljdF9fPSRuczsiUmV0dXJuIGRheSBvZiB0aGUgd2Vlaywgd2hlcmUgTW9uZGF5ID09IDAgLi4uIFN1bmRheSA9PSA2LiI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oInRvb3JkaW5hbCIpLl9fY2FsbF9fKCkuX19hZGRfXyhOdW1iZXIoNikpLl9fbW9kX18oTnVtYmVyKDcpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLndlZWtkYXkuX19uYW1lX189IndlZWtkYXkiOyRjbGFzcy5pc293ZWVrZGF5PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaXNvd2Vla2RheSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kZXFxYXZqai5fX2RpY3RfXz0kbnM7IlJldHVybiBkYXkgb2YgdGhlIHdlZWssIHdoZXJlIE1vbmRheSA9PSAxIC4uLiBTdW5kYXkgPT0gNy4iO3JldHVybiAkdGVzdF9leHByKCR0ZXN0X2l0ZW0oc2VsZi5fX2dldGF0dHJfXygidG9vcmRpbmFsIikuX19jYWxsX18oKS5fX21vZF9fKE51bWJlcig3KSkpfHwkdGVzdF9pdGVtKE51bWJlcig3KSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuaXNvd2Vla2RheS5fX25hbWVfXz0iaXNvd2Vla2RheSI7JGNsYXNzLmlzb2NhbGVuZGFyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaXNvY2FsZW5kYXIiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYWNxdmU2aTYuX19kaWN0X189JG5zOyJSZXR1cm4gYSAzLXR1cGxlIGNvbnRhaW5pbmcgSVNPIHllYXIsIHdlZWsgbnVtYmVyLCBhbmQgd2Vla2RheS5cblxuICAgICAgICBUaGUgZmlyc3QgSVNPIHdlZWsgb2YgdGhlIHllYXIgaXMgdGhlIChNb24tU3VuKSB3ZWVrXG4gICAgICAgIGNvbnRhaW5pbmcgdGhlIHllYXIncyBmaXJzdCBUaHVyc2RheTsgZXZlcnl0aGluZyBlbHNlIGRlcml2ZXNcbiAgICAgICAgZnJvbSB0aGF0LlxuXG4gICAgICAgIFRoZSBmaXJzdCB3ZWVrIGlzIDE7IE1vbmRheSBpcyAxIC4uLiBTdW5kYXkgaXMgNy5cblxuICAgICAgICBJU08gY2FsZW5kYXIgYWxnb3JpdGhtIHRha2VuIGZyb21cbiAgICAgICAgaHR0cDovL3d3dy5waHlzLnV1Lm5sL352Z2VudC9jYWxlbmRhci9pc29jYWxlbmRhci5odG1cbiAgICAgICAgIjt2YXIgeWVhcj0kbG9jYWxzLnllYXI9c2VsZi5fX2dldGF0dHJfXygiX3llYXIiKTt2YXIgd2VlazFtb25kYXk9JGxvY2Fscy53ZWVrMW1vbmRheT1faXNvd2VlazFtb25kYXkuX19jYWxsX18oeWVhcik7dmFyIHRvZGF5PSRsb2NhbHMudG9kYXk9X3ltZDJvcmQuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX3llYXIiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbW9udGgiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5IikpOyRyaWdodD1kaXZtb2QuX19jYWxsX18odG9kYXkuX19zdWJfXyh3ZWVrMW1vbmRheSksTnVtYmVyKDcpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHdlZWs9JGxvY2Fscy53ZWVrPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgZGF5PSRsb2NhbHMuZGF5PSRyaWdodC5fX2l0ZW1fXygxKTtpZihib29sKHdlZWsuX19sdF9fKE51bWJlcigwKSkpKXt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1OdW1iZXIoMSk7aWYoIWhhc2F0dHIoeWVhciwiX19pc3ViX18iKSl2YXIgeWVhcj0kbG9jYWxzLnllYXI9eWVhci5fX3N1Yl9fKCR0ZW1wKTtlbHNlIHllYXI9eWVhci5fX2lzdWJfXygkdGVtcCk7dmFyIHdlZWsxbW9uZGF5PSRsb2NhbHMud2VlazFtb25kYXk9X2lzb3dlZWsxbW9uZGF5Ll9fY2FsbF9fKHllYXIpOyRyaWdodD1kaXZtb2QuX19jYWxsX18odG9kYXkuX19zdWJfXyh3ZWVrMW1vbmRheSksTnVtYmVyKDcpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHdlZWs9JGxvY2Fscy53ZWVrPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgZGF5PSRsb2NhbHMuZGF5PSRyaWdodC5fX2l0ZW1fXygxKTt9ZWxzZSBpZihib29sKHdlZWsuX19nZV9fKE51bWJlcig1MikpKSlpZihib29sKHRvZGF5Ll9fZ2VfXyhfaXNvd2VlazFtb25kYXkuX19jYWxsX18oeWVhci5fX2FkZF9fKE51bWJlcigxKSkpKSkpe3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPU51bWJlcigxKTtpZighaGFzYXR0cih5ZWFyLCJfX2lhZGRfXyIpKXZhciB5ZWFyPSRsb2NhbHMueWVhcj15ZWFyLl9fYWRkX18oJHRlbXApO2Vsc2UgeWVhcj15ZWFyLl9faWFkZF9fKCR0ZW1wKTt2YXIgd2Vlaz0kbG9jYWxzLndlZWs9TnVtYmVyKDApO31yZXR1cm4gdHVwbGUoW3llYXIsd2Vlay5fX2FkZF9fKE51bWJlcigxKSksZGF5Ll9fYWRkX18oTnVtYmVyKDEpKV0pO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuaXNvY2FsZW5kYXIuX19uYW1lX189Imlzb2NhbGVuZGFyIjskY2xhc3MuX2dldHN0YXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2dldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI0ajJwMWVxZCJdLl9fZGljdF9fPSRuczskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksTnVtYmVyKDI1NikpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgeWhpPSRsb2NhbHMueWhpPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgeWxvPSRsb2NhbHMueWxvPSRyaWdodC5fX2l0ZW1fXygxKTtyZXR1cm4gdHVwbGUoW2J5dGVzLl9fY2FsbF9fKGxpc3QoW3loaSx5bG8sc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpXSkpXSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fZ2V0c3RhdGUuX19uYW1lX189Il9nZXRzdGF0ZSI7JGNsYXNzLl9fc2V0c3RhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3NldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIiwic3RyaW5nIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIxdzcxNG5jZCJdLl9fZGljdF9fPSRucztpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShsZW4uX19jYWxsX18oc3RyaW5nKS5fX25lX18oTnVtYmVyKDQpKSl8fCR0ZXN0X2l0ZW0oIWJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigxKS5fX2xlX18oc3RyaW5nLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigyKSkpKSYmJHRlc3RfaXRlbShzdHJpbmcuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDIpKS5fX2xlX18oTnVtYmVyKDEyKSkpKSkpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJub3QgZW5vdWdoIGFyZ3VtZW50cyIpOyRyaWdodD1zdHJpbmc7aWYoJHJpZ2h0Ll9fbGVuX18oKT40KXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDQpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDQpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB5aGk9JGxvY2Fscy55aGk9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciB5bG89JGxvY2Fscy55bG89JHJpZ2h0Ll9faXRlbV9fKDEpO3NlbGYuX19zZXRhdHRyX18oIl9tb250aCIsJHJpZ2h0Ll9faXRlbV9fKDIpKTtzZWxmLl9fc2V0YXR0cl9fKCJfZGF5IiwkcmlnaHQuX19pdGVtX18oMykpO3NlbGYuX19zZXRhdHRyX18oIl95ZWFyIix5aGkuX19tdWxfXyhOdW1iZXIoMjU2KSkuX19hZGRfXyh5bG8pKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fc2V0c3RhdGUuX19uYW1lX189Il9fc2V0c3RhdGUiOyRjbGFzcy5fX3JlZHVjZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19yZWR1Y2VfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5memEzaDkwaS5fX2RpY3RfXz0kbnM7cmV0dXJuIHR1cGxlKFtzZWxmLl9fZ2V0YXR0cl9fKCJfX2NsYXNzX18iKSxzZWxmLl9fZ2V0YXR0cl9fKCJfZ2V0c3RhdGUiKS5fX2NhbGxfXygpXSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX3JlZHVjZV9fLl9fbmFtZV9fPSJfX3JlZHVjZV9fIjtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIGRhdGU9JGNsYXNzX2NvbnN0cnVjdG9yKCJkYXRlIiwkZGF0ZSk7X19CUllUSE9OX18uc2NvcGVbImRhdGV0aW1lLnB5Il0uX19kaWN0X18uZGF0ZT1kYXRlO3ZhciBfZGF0ZV9jbGFzcz0kZ2xvYmFscy5fZGF0ZV9jbGFzcz1kYXRlO2RhdGUuX19zZXRhdHRyX18oIm1pbiIsZGF0ZS5fX2NhbGxfXyhOdW1iZXIoMSksTnVtYmVyKDEpLE51bWJlcigxKSkpO2RhdGUuX19zZXRhdHRyX18oIm1heCIsZGF0ZS5fX2NhbGxfXyhOdW1iZXIoOTk5OSksTnVtYmVyKDEyKSxOdW1iZXIoMzEpKSk7ZGF0ZS5fX3NldGF0dHJfXygicmVzb2x1dGlvbiIsdGltZWRlbHRhLl9fY2FsbF9fKCRLdygiZGF5cyIsTnVtYmVyKDEpKSkpO3ZhciAkdHppbmZvPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyJBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciB0aW1lIHpvbmUgaW5mbyBjbGFzc2VzLlxuXG4gICAgU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoZSBuYW1lKCksIHV0Y29mZnNldCgpIGFuZCBkc3QoKSBtZXRob2RzLlxuICAgICI7JGNsYXNzLl9fc2xvdHNfXz10dXBsZShbXSk7JGNsYXNzLnR6bmFtZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInR6bmFtZSIsYXJndW1lbnRzLFsic2VsZiIsImR0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIxeGF5Mm55YyJdLl9fZGljdF9fPSRuczsiZGF0ZXRpbWUgLT4gc3RyaW5nIG5hbWUgb2YgdGltZSB6b25lLiI7dGhyb3cgTm90SW1wbGVtZW50ZWRFcnJvci5fX2NhbGxfXygidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgdHpuYW1lKCkiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnR6bmFtZS5fX25hbWVfXz0idHpuYW1lIjskY2xhc3MudXRjb2Zmc2V0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidXRjb2Zmc2V0Iixhcmd1bWVudHMsWyJzZWxmIiwiZHQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuemU2OXU1NXYuX19kaWN0X189JG5zOyJkYXRldGltZSAtPiBtaW51dGVzIGVhc3Qgb2YgVVRDIChuZWdhdGl2ZSBmb3Igd2VzdCBvZiBVVEMpIjt0aHJvdyBOb3RJbXBsZW1lbnRlZEVycm9yLl9fY2FsbF9fKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSB1dGNvZmZzZXQoKSIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MudXRjb2Zmc2V0Ll9fbmFtZV9fPSJ1dGNvZmZzZXQiOyRjbGFzcy5kc3Q9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJkc3QiLGFyZ3VtZW50cyxbInNlbGYiLCJkdCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS50ZGx5MHB3bi5fX2RpY3RfXz0kbnM7ImRhdGV0aW1lIC0+IERTVCBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQy5cblxuICAgICAgICBSZXR1cm4gMCBpZiBEU1Qgbm90IGluIGVmZmVjdC4gIHV0Y29mZnNldCgpIG11c3QgaW5jbHVkZSB0aGUgRFNUXG4gICAgICAgIG9mZnNldC5cbiAgICAgICAgIjt0aHJvdyBOb3RJbXBsZW1lbnRlZEVycm9yLl9fY2FsbF9fKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSBkc3QoKSIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuZHN0Ll9fbmFtZV9fPSJkc3QiOyRjbGFzcy5mcm9tdXRjPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZnJvbXV0YyIsYXJndW1lbnRzLFsic2VsZiIsImR0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmU5cjJ6Y2x4Ll9fZGljdF9fPSRuczsiZGF0ZXRpbWUgaW4gVVRDIC0+IGRhdGV0aW1lIGluIGxvY2FsIHRpbWUuIjtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18oZHQsZGF0ZXRpbWUpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBkYXRldGltZSBhcmd1bWVudCIpO2lmKGJvb2woZHQuX19nZXRhdHRyX18oInR6aW5mbyIpIT09c2VsZikpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygiZHQudHppbmZvIGlzIG5vdCBzZWxmIik7dmFyIGR0b2ZmPSRsb2NhbHMuZHRvZmY9ZHQuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKCk7aWYoYm9vbChkdG9mZj09PU5vbmUpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oImZyb211dGMoKSByZXF1aXJlcyBhIG5vbi1Ob25lIHV0Y29mZnNldCgpICIrInJlc3VsdCIpO3ZhciBkdGRzdD0kbG9jYWxzLmR0ZHN0PWR0Ll9fZ2V0YXR0cl9fKCJkc3QiKS5fX2NhbGxfXygpO2lmKGJvb2woZHRkc3Q9PT1Ob25lKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBub24tTm9uZSBkc3QoKSByZXN1bHQiKTt2YXIgZGVsdGE9JGxvY2Fscy5kZWx0YT1kdG9mZi5fX3N1Yl9fKGR0ZHN0KTtpZihib29sKGRlbHRhKSl7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9ZGVsdGE7aWYoIWhhc2F0dHIoZHQsIl9faWFkZF9fIikpdmFyIGR0PSRsb2NhbHMuZHQ9ZHQuX19hZGRfXygkdGVtcCk7ZWxzZSBkdD1kdC5fX2lhZGRfXygkdGVtcCk7dmFyIGR0ZHN0PSRsb2NhbHMuZHRkc3Q9ZHQuX19nZXRhdHRyX18oImRzdCIpLl9fY2FsbF9fKCk7aWYoYm9vbChkdGRzdD09PU5vbmUpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oImZyb211dGMoKTogZHQuZHN0IGdhdmUgaW5jb25zaXN0ZW50ICIrInJlc3VsdHM7IGNhbm5vdCBjb252ZXJ0Iik7fXJldHVybiBkdC5fX2FkZF9fKGR0ZHN0KTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmZyb211dGMuX19uYW1lX189ImZyb211dGMiOyRjbGFzcy5fX3JlZHVjZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19yZWR1Y2VfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNGd3aTlhMnciXS5fX2RpY3RfXz0kbnM7dmFyIGdldGluaXRhcmdzPSRsb2NhbHMuZ2V0aW5pdGFyZ3M9Z2V0YXR0ci5fX2NhbGxfXyhzZWxmLCJfX2dldGluaXRhcmdzX18iLE5vbmUpO2lmKGJvb2woZ2V0aW5pdGFyZ3MpKXZhciBhcmdzPSRsb2NhbHMuYXJncz1nZXRpbml0YXJncy5fX2NhbGxfXygpO2Vsc2UgdmFyIGFyZ3M9JGxvY2Fscy5hcmdzPXR1cGxlKFtdKTt2YXIgZ2V0c3RhdGU9JGxvY2Fscy5nZXRzdGF0ZT1nZXRhdHRyLl9fY2FsbF9fKHNlbGYsIl9fZ2V0c3RhdGVfXyIsTm9uZSk7aWYoYm9vbChnZXRzdGF0ZSkpdmFyIHN0YXRlPSRsb2NhbHMuc3RhdGU9Z2V0c3RhdGUuX19jYWxsX18oKTtlbHNlIHZhciBzdGF0ZT0kbG9jYWxzLnN0YXRlPSR0ZXN0X2V4cHIoJHRlc3RfaXRlbShnZXRhdHRyLl9fY2FsbF9fKHNlbGYsIl9fZGljdF9fIixOb25lKSl8fCR0ZXN0X2l0ZW0oTm9uZSkpO2lmKGJvb2woc3RhdGU9PT1Ob25lKSlyZXR1cm4gdHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLGFyZ3NdKTtlbHNlIHJldHVybiB0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIiksYXJncyxzdGF0ZV0pO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yZWR1Y2VfXy5fX25hbWVfXz0iX19yZWR1Y2VfXyI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciB0emluZm89JGNsYXNzX2NvbnN0cnVjdG9yKCJ0emluZm8iLCR0emluZm8pO19fQlJZVEhPTl9fLnNjb3BlWyJkYXRldGltZS5weSJdLl9fZGljdF9fLnR6aW5mbz10emluZm87dmFyIF90emluZm9fY2xhc3M9JGdsb2JhbHMuX3R6aW5mb19jbGFzcz10emluZm87dmFyICR0aW1lPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyJUaW1lIHdpdGggdGltZSB6b25lLlxuXG4gICAgQ29uc3RydWN0b3JzOlxuXG4gICAgX19uZXdfXygpXG5cbiAgICBPcGVyYXRvcnM6XG5cbiAgICBfX3JlcHJfXywgX19zdHJfX1xuICAgIF9fY21wX18sIF9faGFzaF9fXG5cbiAgICBNZXRob2RzOlxuXG4gICAgc3RyZnRpbWUoKVxuICAgIGlzb2Zvcm1hdCgpXG4gICAgdXRjb2Zmc2V0KClcbiAgICB0em5hbWUoKVxuICAgIGRzdCgpXG5cbiAgICBQcm9wZXJ0aWVzIChyZWFkb25seSk6XG4gICAgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kLCB0emluZm9cbiAgICAiOyRjbGFzcy5fX25ld19fPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbmV3X18iLGFyZ3VtZW50cyxbImNscyJdLHsiaG91ciI6TnVtYmVyKDApLCJtaW51dGUiOk51bWJlcigwKSwic2Vjb25kIjpOdW1iZXIoMCksIm1pY3Jvc2Vjb25kIjpOdW1iZXIoMCksInR6aW5mbyI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUub3ZwdXk3cjMuX19kaWN0X189JG5zOyJDb25zdHJ1Y3Rvci5cblxuICAgICAgICBBcmd1bWVudHM6XG5cbiAgICAgICAgaG91ciwgbWludXRlIChyZXF1aXJlZClcbiAgICAgICAgc2Vjb25kLCBtaWNyb3NlY29uZCAoZGVmYXVsdCB0byB6ZXJvKVxuICAgICAgICB0emluZm8gKGRlZmF1bHQgdG8gTm9uZSlcbiAgICAgICAgIjt2YXIgc2VsZj0kbG9jYWxzLnNlbGY9b2JqZWN0Ll9fZ2V0YXR0cl9fKCJfX25ld19fIikuX19jYWxsX18oY2xzKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShpc2luc3RhbmNlLl9fY2FsbF9fKGhvdXIsYnl0ZXMpKSYmJHRlc3RfaXRlbShsZW4uX19jYWxsX18oaG91cikuX19lcV9fKE51bWJlcig2KSkpKSkpe3NlbGYuX19nZXRhdHRyX18oIl9fc2V0c3RhdGUiKS5fX2NhbGxfXyhob3VyLCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShtaW51dGUpfHwkdGVzdF9pdGVtKE5vbmUpKSk7cmV0dXJuIHNlbGY7fV9jaGVja190emluZm9fYXJnLl9fY2FsbF9fKHR6aW5mbyk7X2NoZWNrX3RpbWVfZmllbGRzLl9fY2FsbF9fKGhvdXIsbWludXRlLHNlY29uZCxtaWNyb3NlY29uZCk7c2VsZi5fX3NldGF0dHJfXygiX2hvdXIiLGhvdXIpO3NlbGYuX19zZXRhdHRyX18oIl9taW51dGUiLG1pbnV0ZSk7c2VsZi5fX3NldGF0dHJfXygiX3NlY29uZCIsc2Vjb25kKTtzZWxmLl9fc2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiLG1pY3Jvc2Vjb25kKTtzZWxmLl9fc2V0YXR0cl9fKCJfdHppbmZvIix0emluZm8pO3JldHVybiBzZWxmO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoTm9uZSk7JGNsYXNzLl9fbmV3X18uX19uYW1lX189Il9fbmV3X18iOyRjbGFzcy5ob3VyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaG91ciIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS52djZ5MnJmMy5fX2RpY3RfXz0kbnM7ImhvdXIgKDAtMjMpIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2hvdXIiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmhvdXIuX19uYW1lX189ImhvdXIiOyRjbGFzcy5ob3VyPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MuaG91cik7JGNsYXNzLm1pbnV0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm1pbnV0ZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5iZmJhenIxNS5fX2RpY3RfXz0kbnM7Im1pbnV0ZSAoMC01OSkiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbWludXRlIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5taW51dGUuX19uYW1lX189Im1pbnV0ZSI7JGNsYXNzLm1pbnV0ZT0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLm1pbnV0ZSk7JGNsYXNzLnNlY29uZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNlY29uZCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNHp3ZnMwazgiXS5fX2RpY3RfXz0kbnM7InNlY29uZCAoMC01OSkiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5zZWNvbmQuX19uYW1lX189InNlY29uZCI7JGNsYXNzLnNlY29uZD0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLnNlY29uZCk7JGNsYXNzLm1pY3Jvc2Vjb25kPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibWljcm9zZWNvbmQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaDk4eDM4bnAuX19kaWN0X189JG5zOyJtaWNyb3NlY29uZCAoMC05OTk5OTkpIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5taWNyb3NlY29uZC5fX25hbWVfXz0ibWljcm9zZWNvbmQiOyRjbGFzcy5taWNyb3NlY29uZD0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLm1pY3Jvc2Vjb25kKTskY2xhc3MudHppbmZvPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidHppbmZvIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIxZncxdTl2NCJdLl9fZGljdF9fPSRuczsidGltZXpvbmUgaW5mbyBvYmplY3QiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50emluZm8uX19uYW1lX189InR6aW5mbyI7JGNsYXNzLnR6aW5mbz0oJGNsYXNzLnByb3BlcnR5IT09dW5kZWZpbmVkPyRjbGFzcy5wcm9wZXJ0eTpwcm9wZXJ0eSkoJGNsYXNzLnR6aW5mbyk7JGNsYXNzLl9fZXFfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZXFfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmhsOW56YnczLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fZXFfXyhOdW1iZXIoMCkpO2Vsc2UgcmV0dXJuIEZhbHNlO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19lcV9fLl9fbmFtZV9fPSJfX2VxX18iOyRjbGFzcy5fX25lX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX25lX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5idGhxMGdqZS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX25lX18oTnVtYmVyKDApKTtlbHNlIHJldHVybiBUcnVlO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19uZV9fLl9fbmFtZV9fPSJfX25lX18iOyRjbGFzcy5fX2xlX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2xlX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5ha2ZoeDh4ay5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2xlX18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbGVfXy5fX25hbWVfXz0iX19sZV9fIjskY2xhc3MuX19sdF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19sdF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubGxxbnVoY3EuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcix0aW1lKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19sdF9fKE51bWJlcigwKSk7ZWxzZSBfY21wZXJyb3IuX19jYWxsX18oc2VsZixvdGhlcik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2x0X18uX19uYW1lX189Il9fbHRfXyI7JGNsYXNzLl9fZ2VfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZ2VfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIzaDdjZWs4YiJdLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fZ2VfXyhOdW1iZXIoMCkpO2Vsc2UgX2NtcGVycm9yLl9fY2FsbF9fKHNlbGYsb3RoZXIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19nZV9fLl9fbmFtZV9fPSJfX2dlX18iOyRjbGFzcy5fX2d0X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2d0X18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNGVrYzBxbDAiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2d0X18oTnVtYmVyKDApKTtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZ3RfXy5fX25hbWVfXz0iX19ndF9fIjskY2xhc3MuX2NtcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jbXAiLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54dG94cW1lby5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWUpKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciBteXR6PSRsb2NhbHMubXl0ej1zZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIik7dmFyIG90dHo9JGxvY2Fscy5vdHR6PW90aGVyLl9fZ2V0YXR0cl9fKCJfdHppbmZvIik7dmFyIG90b2ZmPSRsb2NhbHMub3RvZmY9Tm9uZTt2YXIgbXlvZmY9JGxvY2Fscy5teW9mZj1vdG9mZjtpZihib29sKG15dHo9PT1vdHR6KSl2YXIgYmFzZV9jb21wYXJlPSRsb2NhbHMuYmFzZV9jb21wYXJlPVRydWU7ZWxzZXt2YXIgbXlvZmY9JGxvY2Fscy5teW9mZj1zZWxmLl9fZ2V0YXR0cl9fKCJ1dGNvZmZzZXQiKS5fX2NhbGxfXygpO3ZhciBvdG9mZj0kbG9jYWxzLm90b2ZmPW90aGVyLl9fZ2V0YXR0cl9fKCJ1dGNvZmZzZXQiKS5fX2NhbGxfXygpO3ZhciBiYXNlX2NvbXBhcmU9JGxvY2Fscy5iYXNlX2NvbXBhcmU9bXlvZmYuX19lcV9fKG90b2ZmKTt9aWYoYm9vbChiYXNlX2NvbXBhcmUpKXJldHVybiBfdHVwbGVfY21wLl9fY2FsbF9fKHR1cGxlKFtzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIildKSx0dXBsZShbb3RoZXIuX19nZXRhdHRyX18oIl9ob3VyIiksb3RoZXIuX19nZXRhdHRyX18oIl9taW51dGUiKSxvdGhlci5fX2dldGF0dHJfXygiX3NlY29uZCIpLG90aGVyLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiKV0pKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShteW9mZj09PU5vbmUpfHwkdGVzdF9pdGVtKG90b2ZmPT09Tm9uZSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oImNhbm5vdCBjb21wYXJlIG5haXZlIGFuZCBhd2FyZSB0aW1lcyIpO3ZhciBteWhobW09JGxvY2Fscy5teWhobW09c2VsZi5fX2dldGF0dHJfXygiX2hvdXIiKS5fX211bF9fKE51bWJlcig2MCkpLl9fYWRkX18oc2VsZi5fX2dldGF0dHJfXygiX21pbnV0ZSIpLl9fc3ViX18obXlvZmYuX19mbG9vcmRpdl9fKHRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpKSkpO3ZhciBvdGhobW09JGxvY2Fscy5vdGhobW09b3RoZXIuX19nZXRhdHRyX18oIl9ob3VyIikuX19tdWxfXyhOdW1iZXIoNjApKS5fX2FkZF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfbWludXRlIikuX19zdWJfXyhvdG9mZi5fX2Zsb29yZGl2X18odGltZWRlbHRhLl9fY2FsbF9fKCRLdygibWludXRlcyIsTnVtYmVyKDEpKSkpKSk7cmV0dXJuIF90dXBsZV9jbXAuX19jYWxsX18odHVwbGUoW215aGhtbSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIildKSx0dXBsZShbb3RoaG1tLG90aGVyLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksb3RoZXIuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZCIpXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX2NtcC5fX25hbWVfXz0iX2NtcCI7JGNsYXNzLl9faGFzaF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19oYXNoX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjV5dzBod2ZyIl0uX19kaWN0X189JG5zOyJIYXNoLiI7dmFyIHR6b2ZmPSRsb2NhbHMudHpvZmY9c2VsZi5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oKTtpZihib29sKCFib29sKHR6b2ZmKSkpcmV0dXJuIGhhc2guX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHRpbWVkZWx0YS5fX2NhbGxfXygkS3coImhvdXJzIixzZWxmLl9fZ2V0YXR0cl9fKCJob3VyIikpLCRLdygibWludXRlcyIsc2VsZi5fX2dldGF0dHJfXygibWludXRlIikpKS5fX3N1Yl9fKHR6b2ZmKSx0aW1lZGVsdGEuX19jYWxsX18oJEt3KCJob3VycyIsTnVtYmVyKDEpKSkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgaD0kbG9jYWxzLmg9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtPSRsb2NhbHMubT0kcmlnaHQuX19pdGVtX18oMSk7aWYoYm9vbCghYm9vbCh0dXBsZShbIWJvb2wobS5fX21vZF9fKHRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpKSksIndob2xlIG1pbnV0ZSJdKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD10aW1lZGVsdGEuX19jYWxsX18oJEt3KCJtaW51dGVzIixOdW1iZXIoMSkpKTtpZighaGFzYXR0cihtLCJfX2lmbG9vcmRpdl9fIikpdmFyIG09JGxvY2Fscy5tPW0uX19mbG9vcmRpdl9fKCR0ZW1wKTtlbHNlIG09bS5fX2lmbG9vcmRpdl9fKCR0ZW1wKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sZV9fKGgpKSYmJHRlc3RfaXRlbShoLl9fbHRfXyhOdW1iZXIoMjQpKSkpKSlyZXR1cm4gaGFzaC5fX2NhbGxfXyh0aW1lLl9fY2FsbF9fKGgsbSxzZWxmLl9fZ2V0YXR0cl9fKCJzZWNvbmQiKSxzZWxmLl9fZ2V0YXR0cl9fKCJtaWNyb3NlY29uZCIpKSk7cmV0dXJuIGhhc2guX19jYWxsX18odHVwbGUoW2gsbSxzZWxmLl9fZ2V0YXR0cl9fKCJzZWNvbmQiKSxzZWxmLl9fZ2V0YXR0cl9fKCJtaWNyb3NlY29uZCIpXSkpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19oYXNoX18uX19uYW1lX189Il9faGFzaF9fIjskY2xhc3MuX3R6c3RyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX3R6c3RyIixhcmd1bWVudHMsWyJzZWxmIl0seyJzZXAiOiI6In0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnpoeHdhNmhvLl9fZGljdF9fPSRuczsiUmV0dXJuIGZvcm1hdHRlZCB0aW1lem9uZSBvZmZzZXQgKCt4eDp4eCkgb3IgTm9uZS4iO3ZhciBvZmY9JGxvY2Fscy5vZmY9c2VsZi5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oKTtpZihib29sKG9mZiE9PU5vbmUpKXtpZihib29sKG9mZi5fX2dldGF0dHJfXygiZGF5cyIpLl9fbHRfXyhOdW1iZXIoMCkpKSl7dmFyIHNpZ249JGxvY2Fscy5zaWduPSItIjt2YXIgb2ZmPSRsb2NhbHMub2ZmPW9mZi5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCk7fWVsc2UgdmFyIHNpZ249JGxvY2Fscy5zaWduPSIrIjskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKG9mZix0aW1lZGVsdGEuX19jYWxsX18oJEt3KCJob3VycyIsTnVtYmVyKDEpKSkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgaGg9JGxvY2Fscy5oaD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG1tPSRsb2NhbHMubW09JHJpZ2h0Ll9faXRlbV9fKDEpO2lmKGJvb2woIWJvb2wodHVwbGUoWyFib29sKG1tLl9fbW9kX18odGltZWRlbHRhLl9fY2FsbF9fKCRLdygibWludXRlcyIsTnVtYmVyKDEpKSkpKSwid2hvbGUgbWludXRlIl0pKSkpdGhyb3cgQXNzZXJ0aW9uRXJyb3IoIiIpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpO2lmKCFoYXNhdHRyKG1tLCJfX2lmbG9vcmRpdl9fIikpdmFyIG1tPSRsb2NhbHMubW09bW0uX19mbG9vcmRpdl9fKCR0ZW1wKTtlbHNlIG1tPW1tLl9faWZsb29yZGl2X18oJHRlbXApO2lmKGJvb2woIWJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKE51bWJlcigwKS5fX2xlX18oaGgpKSYmJHRlc3RfaXRlbShoaC5fX2x0X18oTnVtYmVyKDI0KSkpKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgb2ZmPSRsb2NhbHMub2ZmPSIlcyUwMmQlcyUwMmQiLl9fbW9kX18odHVwbGUoW3NpZ24saGgsc2VwLG1tXSkpO31yZXR1cm4gb2ZmO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX3R6c3RyLl9fbmFtZV9fPSJfdHpzdHIiOyRjbGFzcy5fX3JlcHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVwcl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmlyNXU4ZTJsLl9fZGljdF9fPSRuczsiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLiI7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiKS5fX25lX18oTnVtYmVyKDApKSkpdmFyIHM9JGxvY2Fscy5zPSIsICVkLCAlZCIuX19tb2RfXyh0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZCIpLHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZCIpXSkpO2Vsc2UgaWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIikuX19uZV9fKE51bWJlcigwKSkpKXZhciBzPSRsb2NhbHMucz0iLCAlZCIuX19tb2RfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIikpO2Vsc2UgdmFyIHM9JGxvY2Fscy5zPSIiO3ZhciBzPSRsb2NhbHMucz0iJXMoJWQsICVkJXMpIi5fX21vZF9fKHR1cGxlKFsnZGF0ZXRpbWUuJy5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKSxzXSkpO2lmKGJvb2woc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpIT09Tm9uZSkpe2lmKGJvb2woIWJvb2wocy5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShzbGljZShOdW1iZXIoLTEpLG51bGwpKS5fX2VxX18oIikiKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgcz0kbG9jYWxzLnM9cy5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShzbGljZShudWxsLE51bWJlcigtMSkpKS5fX2FkZF9fKCIsIHR6aW5mbz0lciIuX19tb2RfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIikpKS5fX2FkZF9fKCIpIik7fXJldHVybiBzO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yZXByX18uX19uYW1lX189Il9fcmVwcl9fIjskY2xhc3MuaXNvZm9ybWF0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaXNvZm9ybWF0Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmMwMWV6YjRqLl9fZGljdF9fPSRuczsiUmV0dXJuIHRoZSB0aW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gSVNPLlxuXG4gICAgICAgIFRoaXMgaXMgJ0hIOk1NOlNTLm1tbW1tbSt6ejp6eicsIG9yICdISDpNTTpTUyt6ejp6eicgaWZcbiAgICAgICAgc2VsZi5taWNyb3NlY29uZCA9PSAwLlxuICAgICAgICAiO3ZhciBzPSRsb2NhbHMucz1fZm9ybWF0X3RpbWUuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2hvdXIiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbWludXRlIiksc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZCIpLHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZCIpKTt2YXIgdHo9JGxvY2Fscy50ej1zZWxmLl9fZ2V0YXR0cl9fKCJfdHpzdHIiKS5fX2NhbGxfXygpO2lmKGJvb2wodHopKXt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD10ejtpZighaGFzYXR0cihzLCJfX2lhZGRfXyIpKXZhciBzPSRsb2NhbHMucz1zLl9fYWRkX18oJHRlbXApO2Vsc2Ugcz1zLl9faWFkZF9fKCR0ZW1wKTt9cmV0dXJuIHM7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5pc29mb3JtYXQuX19uYW1lX189Imlzb2Zvcm1hdCI7JGNsYXNzLl9fc3RyX189KCRjbGFzcy5pc29mb3JtYXQhPT11bmRlZmluZWQ/JGNsYXNzLmlzb2Zvcm1hdDppc29mb3JtYXQpOyRjbGFzcy5zdHJmdGltZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInN0cmZ0aW1lIixhcmd1bWVudHMsWyJzZWxmIiwiZm10Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLml1Zm1kbHQ5Ll9fZGljdF9fPSRuczsiRm9ybWF0IHVzaW5nIHN0cmZ0aW1lKCkuICBUaGUgZGF0ZSBwYXJ0IG9mIHRoZSB0aW1lc3RhbXAgcGFzc2VkXG4gICAgICAgIHRvIHVuZGVybHlpbmcgc3RyZnRpbWUgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAiO3ZhciB0aW1ldHVwbGU9JGxvY2Fscy50aW1ldHVwbGU9dHVwbGUoW051bWJlcigxOTAwKSxOdW1iZXIoMSksTnVtYmVyKDEpLHNlbGYuX19nZXRhdHRyX18oIl9ob3VyIiksc2VsZi5fX2dldGF0dHJfXygiX21pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmQiKSxOdW1iZXIoMCksTnVtYmVyKDEpLE51bWJlcigtMSldKTtyZXR1cm4gX3dyYXBfc3RyZnRpbWUuX19jYWxsX18oc2VsZixmbXQsdGltZXR1cGxlKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnN0cmZ0aW1lLl9fbmFtZV9fPSJzdHJmdGltZSI7JGNsYXNzLl9fZm9ybWF0X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2Zvcm1hdF9fIixhcmd1bWVudHMsWyJzZWxmIiwiZm10Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIyYTg2cGxjdCJdLl9fZGljdF9fPSRucztpZihib29sKGxlbi5fX2NhbGxfXyhmbXQpLl9fbmVfXyhOdW1iZXIoMCkpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygic3RyZnRpbWUiKS5fX2NhbGxfXyhmbXQpO3JldHVybiBzdHIuX19jYWxsX18oc2VsZik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2Zvcm1hdF9fLl9fbmFtZV9fPSJfX2Zvcm1hdF9fIjskY2xhc3MudXRjb2Zmc2V0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidXRjb2Zmc2V0Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI1YWs5YzY2ciJdLl9fZGljdF9fPSRuczsiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZlxuICAgICAgICBVVEMpLiI7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIik9PT1Ob25lKSlyZXR1cm4gTm9uZTt2YXIgb2Zmc2V0PSRsb2NhbHMub2Zmc2V0PXNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKS5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oTm9uZSk7X2NoZWNrX3V0Y19vZmZzZXQuX19jYWxsX18oInV0Y29mZnNldCIsb2Zmc2V0KTtyZXR1cm4gb2Zmc2V0O31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MudXRjb2Zmc2V0Ll9fbmFtZV9fPSJ1dGNvZmZzZXQiOyRjbGFzcy50em5hbWU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0em5hbWUiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjl5ODB2YnZwIl0uX19kaWN0X189JG5zOyJSZXR1cm4gdGhlIHRpbWV6b25lIG5hbWUuXG5cbiAgICAgICAgTm90ZSB0aGF0IHRoZSBuYW1lIGlzIDEwMCUgaW5mb3JtYXRpb25hbCAtLSB0aGVyZSdzIG5vIHJlcXVpcmVtZW50IHRoYXRcbiAgICAgICAgaXQgbWVhbiBhbnl0aGluZyBpbiBwYXJ0aWN1bGFyLiBGb3IgZXhhbXBsZSwgXCJHTVRcIiwgXCJVVENcIiwgXCItNTAwXCIsXG4gICAgICAgIFwiLTU6MDBcIiwgXCJFRFRcIiwgXCJVUy9FYXN0ZXJuXCIsIFwiQW1lcmljYS9OZXcgWW9ya1wiIGFyZSBhbGwgdmFsaWQgcmVwbGllcy5cbiAgICAgICAgIjtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKT09PU5vbmUpKXJldHVybiBOb25lO3ZhciBuYW1lPSRsb2NhbHMubmFtZT1zZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIikuX19nZXRhdHRyX18oInR6bmFtZSIpLl9fY2FsbF9fKE5vbmUpO19jaGVja190em5hbWUuX19jYWxsX18obmFtZSk7cmV0dXJuIG5hbWU7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50em5hbWUuX19uYW1lX189InR6bmFtZSI7JGNsYXNzLmRzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImRzdCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNzNoeHU4emEiXS5fX2RpY3RfXz0kbnM7IlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlc1xuICAgICAgICBlYXN0d2FyZCkgaWYgRFNUIGlzIGluIGVmZmVjdC5cblxuICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvXG4gICAgICAgIHRoZSBVVEMgb2Zmc2V0IHJldHVybmVkIGJ5IHV0Y29mZnNldCgpIGlmIGFwcGxpY2FibGUsIHNvIHRoZXJlJ3Mgbm9cbiAgICAgICAgbmVlZCB0byBjb25zdWx0IGRzdCgpIHVubGVzcyB5b3UncmUgaW50ZXJlc3RlZCBpbiBkaXNwbGF5aW5nIHRoZSBEU1RcbiAgICAgICAgaW5mby5cbiAgICAgICAgIjtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKT09PU5vbmUpKXJldHVybiBOb25lO3ZhciBvZmZzZXQ9JGxvY2Fscy5vZmZzZXQ9c2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpLl9fZ2V0YXR0cl9fKCJkc3QiKS5fX2NhbGxfXyhOb25lKTtfY2hlY2tfdXRjX29mZnNldC5fX2NhbGxfXygiZHN0IixvZmZzZXQpO3JldHVybiBvZmZzZXQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5kc3QuX19uYW1lX189ImRzdCI7JGNsYXNzLnJlcGxhY2U9KGZ1bmN0aW9uKE5vbmUsTm9uZSxOb25lLE5vbmUsVHJ1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyZXBsYWNlIixhcmd1bWVudHMsWyJzZWxmIl0seyJob3VyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksIm1pbnV0ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpLCJzZWNvbmQiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwibWljcm9zZWNvbmQiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwidHppbmZvIjooJGNsYXNzLlRydWUhPT11bmRlZmluZWQ/JGNsYXNzLlRydWU6VHJ1ZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOXNvYzFtc3ciXS5fX2RpY3RfXz0kbnM7IlJldHVybiBhIG5ldyB0aW1lIHdpdGggbmV3IHZhbHVlcyBmb3IgdGhlIHNwZWNpZmllZCBmaWVsZHMuIjtpZihib29sKGhvdXI9PT1Ob25lKSl2YXIgaG91cj0kbG9jYWxzLmhvdXI9c2VsZi5fX2dldGF0dHJfXygiaG91ciIpO2lmKGJvb2wobWludXRlPT09Tm9uZSkpdmFyIG1pbnV0ZT0kbG9jYWxzLm1pbnV0ZT1zZWxmLl9fZ2V0YXR0cl9fKCJtaW51dGUiKTtpZihib29sKHNlY29uZD09PU5vbmUpKXZhciBzZWNvbmQ9JGxvY2Fscy5zZWNvbmQ9c2VsZi5fX2dldGF0dHJfXygic2Vjb25kIik7aWYoYm9vbChtaWNyb3NlY29uZD09PU5vbmUpKXZhciBtaWNyb3NlY29uZD0kbG9jYWxzLm1pY3Jvc2Vjb25kPXNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIik7aWYoYm9vbCh0emluZm89PT1UcnVlKSl2YXIgdHppbmZvPSRsb2NhbHMudHppbmZvPXNlbGYuX19nZXRhdHRyX18oInR6aW5mbyIpO19jaGVja190aW1lX2ZpZWxkcy5fX2NhbGxfXyhob3VyLG1pbnV0ZSxzZWNvbmQsbWljcm9zZWNvbmQpO19jaGVja190emluZm9fYXJnLl9fY2FsbF9fKHR6aW5mbyk7cmV0dXJuIHRpbWUuX19jYWxsX18oaG91cixtaW51dGUsc2Vjb25kLG1pY3Jvc2Vjb25kLHR6aW5mbyk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KShOb25lLE5vbmUsTm9uZSxOb25lLFRydWUpOyRjbGFzcy5yZXBsYWNlLl9fbmFtZV9fPSJyZXBsYWNlIjskY2xhc3MuX19ib29sX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2Jvb2xfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiN2tlampteDIiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oc2VsZi5fX2dldGF0dHJfXygic2Vjb25kIikpfHwkdGVzdF9pdGVtKHNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIikpKSkpcmV0dXJuIFRydWU7dmFyIG9mZnNldD0kbG9jYWxzLm9mZnNldD0kdGVzdF9leHByKCR0ZXN0X2l0ZW0oc2VsZi5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oKSl8fCR0ZXN0X2l0ZW0odGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigwKSkpKTtyZXR1cm4gdGltZWRlbHRhLl9fY2FsbF9fKCRLdygiaG91cnMiLHNlbGYuX19nZXRhdHRyX18oImhvdXIiKSksJEt3KCJtaW51dGVzIixzZWxmLl9fZ2V0YXR0cl9fKCJtaW51dGUiKSkpLl9fbmVfXyhvZmZzZXQpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19ib29sX18uX19uYW1lX189Il9fYm9vbF9fIjskY2xhc3MuX2dldHN0YXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2dldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLndjanR6amZwLl9fZGljdF9fPSRuczskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZCIpLE51bWJlcigyNTYpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHVzMj0kbG9jYWxzLnVzMj0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHVzMz0kbG9jYWxzLnVzMz0kcmlnaHQuX19pdGVtX18oMSk7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyh1czIsTnVtYmVyKDI1NikpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgdXMxPSRsb2NhbHMudXMxPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgdXMyPSRsb2NhbHMudXMyPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgYmFzZXN0YXRlPSRsb2NhbHMuYmFzZXN0YXRlPWJ5dGVzLl9fY2FsbF9fKGxpc3QoW3NlbGYuX19nZXRhdHRyX18oIl9ob3VyIiksc2VsZi5fX2dldGF0dHJfXygiX21pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmQiKSx1czEsdXMyLHVzM10pKTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKT09PU5vbmUpKXJldHVybiB0dXBsZShbYmFzZXN0YXRlXSk7ZWxzZSByZXR1cm4gdHVwbGUoW2Jhc2VzdGF0ZSxzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIildKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9nZXRzdGF0ZS5fX25hbWVfXz0iX2dldHN0YXRlIjskY2xhc3MuX19zZXRzdGF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc2V0c3RhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJzdHJpbmciLCJ0emluZm8iXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubTh2OGZsNG0uX19kaWN0X189JG5zO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGxlbi5fX2NhbGxfXyhzdHJpbmcpLl9fbmVfXyhOdW1iZXIoNikpKXx8JHRlc3RfaXRlbShzdHJpbmcuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2dlX18oTnVtYmVyKDI0KSkpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJhbiBpbnRlZ2VyIGlzIHJlcXVpcmVkIik7JHJpZ2h0PXN0cmluZztpZigkcmlnaHQuX19sZW5fXygpPjYpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgNikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Nil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7c2VsZi5fX3NldGF0dHJfXygiX2hvdXIiLCRyaWdodC5fX2l0ZW1fXygwKSk7c2VsZi5fX3NldGF0dHJfXygiX21pbnV0ZSIsJHJpZ2h0Ll9faXRlbV9fKDEpKTtzZWxmLl9fc2V0YXR0cl9fKCJfc2Vjb25kIiwkcmlnaHQuX19pdGVtX18oMikpO3ZhciB1czE9JGxvY2Fscy51czE9JHJpZ2h0Ll9faXRlbV9fKDMpO3ZhciB1czI9JGxvY2Fscy51czI9JHJpZ2h0Ll9faXRlbV9fKDQpO3ZhciB1czM9JGxvY2Fscy51czM9JHJpZ2h0Ll9faXRlbV9fKDUpO3NlbGYuX19zZXRhdHRyX18oIl9taWNyb3NlY29uZCIsdXMxLl9fbHNoaWZ0X18oTnVtYmVyKDgpKS5fX29yX18odXMyKS5fX2xzaGlmdF9fKE51bWJlcig4KSkuX19vcl9fKHVzMykpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHR6aW5mbz09PU5vbmUpfHwkdGVzdF9pdGVtKGlzaW5zdGFuY2UuX19jYWxsX18odHppbmZvLF90emluZm9fY2xhc3MpKSkpKXNlbGYuX19zZXRhdHRyX18oIl90emluZm8iLHR6aW5mbyk7ZWxzZSB0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oImJhZCB0emluZm8gc3RhdGUgYXJnICVyIi5fX21vZF9fKHR6aW5mbykpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19zZXRzdGF0ZS5fX25hbWVfXz0iX19zZXRzdGF0ZSI7JGNsYXNzLl9fcmVkdWNlX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3JlZHVjZV9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm5pMGh1eHpiLl9fZGljdF9fPSRucztyZXR1cm4gdHVwbGUoW3RpbWUsc2VsZi5fX2dldGF0dHJfXygiX2dldHN0YXRlIikuX19jYWxsX18oKV0pO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19yZWR1Y2VfXy5fX25hbWVfXz0iX19yZWR1Y2VfXyI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciB0aW1lPSRjbGFzc19jb25zdHJ1Y3RvcigidGltZSIsJHRpbWUpO19fQlJZVEhPTl9fLnNjb3BlWyJkYXRldGltZS5weSJdLl9fZGljdF9fLnRpbWU9dGltZTt2YXIgX3RpbWVfY2xhc3M9JGdsb2JhbHMuX3RpbWVfY2xhc3M9dGltZTt0aW1lLl9fc2V0YXR0cl9fKCJtaW4iLHRpbWUuX19jYWxsX18oTnVtYmVyKDApLE51bWJlcigwKSxOdW1iZXIoMCkpKTt0aW1lLl9fc2V0YXR0cl9fKCJtYXgiLHRpbWUuX19jYWxsX18oTnVtYmVyKDIzKSxOdW1iZXIoNTkpLE51bWJlcig1OSksTnVtYmVyKDk5OTk5OSkpKTt0aW1lLl9fc2V0YXR0cl9fKCJyZXNvbHV0aW9uIix0aW1lZGVsdGEuX19jYWxsX18oJEt3KCJtaWNyb3NlY29uZHMiLE51bWJlcigxKSkpKTt2YXIgJGRhdGV0aW1lPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyJkYXRldGltZSh5ZWFyLCBtb250aCwgZGF5WywgaG91clssIG1pbnV0ZVssIHNlY29uZFssIG1pY3Jvc2Vjb25kWyx0emluZm9dXV1dXSlcblxuICAgIFRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IGFyZ3VtZW50cyBhcmUgcmVxdWlyZWQuIHR6aW5mbyBtYXkgYmUgTm9uZSwgb3IgYW5cbiAgICBpbnN0YW5jZSBvZiBhIHR6aW5mbyBzdWJjbGFzcy4gVGhlIHJlbWFpbmluZyBhcmd1bWVudHMgbWF5IGJlIGludHMgb3IgbG9uZ3MuXG4gICAgIjskY2xhc3MuX19zbG90c19fPXR1cGxlKFsnX3llYXInLCdfbW9udGgnLCdfZGF5JywnX2hvdXInLCdfbWludXRlJywnX3NlY29uZCcsJ19taWNyb3NlY29uZCcsJ190emluZm8nXSk7JGNsYXNzLl9fbmV3X189KGZ1bmN0aW9uKE5vbmUsTm9uZSxOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbmV3X18iLGFyZ3VtZW50cyxbImNscyIsInllYXIiXSx7Im1vbnRoIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksImRheSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpLCJob3VyIjpOdW1iZXIoMCksIm1pbnV0ZSI6TnVtYmVyKDApLCJzZWNvbmQiOk51bWJlcigwKSwibWljcm9zZWNvbmQiOk51bWJlcigwKSwidHppbmZvIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMjVkY2ozbzkiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oaXNpbnN0YW5jZS5fX2NhbGxfXyh5ZWFyLGJ5dGVzKSkmJiR0ZXN0X2l0ZW0obGVuLl9fY2FsbF9fKHllYXIpLl9fZXFfXyhOdW1iZXIoMTApKSkpKSl7dmFyIHNlbGY9JGxvY2Fscy5zZWxmPWRhdGUuX19nZXRhdHRyX18oIl9fbmV3X18iKS5fX2NhbGxfXyhjbHMseWVhci5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShzbGljZShudWxsLE51bWJlcig0KSkpKTtzZWxmLl9fZ2V0YXR0cl9fKCJfX3NldHN0YXRlIikuX19jYWxsX18oeWVhcixtb250aCk7cmV0dXJuIHNlbGY7fV9jaGVja190emluZm9fYXJnLl9fY2FsbF9fKHR6aW5mbyk7X2NoZWNrX3RpbWVfZmllbGRzLl9fY2FsbF9fKGhvdXIsbWludXRlLHNlY29uZCxtaWNyb3NlY29uZCk7dmFyIHNlbGY9JGxvY2Fscy5zZWxmPWRhdGUuX19nZXRhdHRyX18oIl9fbmV3X18iKS5fX2NhbGxfXyhjbHMseWVhcixtb250aCxkYXkpO3NlbGYuX19zZXRhdHRyX18oIl9ob3VyIixob3VyKTtzZWxmLl9fc2V0YXR0cl9fKCJfbWludXRlIixtaW51dGUpO3NlbGYuX19zZXRhdHRyX18oIl9zZWNvbmQiLHNlY29uZCk7c2VsZi5fX3NldGF0dHJfXygiX21pY3Jvc2Vjb25kIixtaWNyb3NlY29uZCk7c2VsZi5fX3NldGF0dHJfXygiX3R6aW5mbyIsdHppbmZvKTtyZXR1cm4gc2VsZjt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKE5vbmUsTm9uZSxOb25lKTskY2xhc3MuX19uZXdfXy5fX25hbWVfXz0iX19uZXdfXyI7JGNsYXNzLmhvdXI9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJob3VyIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnRxMWEybndyLl9fZGljdF9fPSRuczsiaG91ciAoMC0yMykiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuaG91ci5fX25hbWVfXz0iaG91ciI7JGNsYXNzLmhvdXI9KCRjbGFzcy5wcm9wZXJ0eSE9PXVuZGVmaW5lZD8kY2xhc3MucHJvcGVydHk6cHJvcGVydHkpKCRjbGFzcy5ob3VyKTskY2xhc3MubWludXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibWludXRlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnE3dDM4cHdoLl9fZGljdF9fPSRuczsibWludXRlICgwLTU5KSI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLm1pbnV0ZS5fX25hbWVfXz0ibWludXRlIjskY2xhc3MubWludXRlPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MubWludXRlKTskY2xhc3Muc2Vjb25kPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2Vjb25kIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmdqMnZybWZnLl9fZGljdF9fPSRuczsic2Vjb25kICgwLTU5KSI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmQiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnNlY29uZC5fX25hbWVfXz0ic2Vjb25kIjskY2xhc3Muc2Vjb25kPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3Muc2Vjb25kKTskY2xhc3MubWljcm9zZWNvbmQ9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJtaWNyb3NlY29uZCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS50eXdiYjg5My5fX2RpY3RfXz0kbnM7Im1pY3Jvc2Vjb25kICgwLTk5OTk5OSkiO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLm1pY3Jvc2Vjb25kLl9fbmFtZV9fPSJtaWNyb3NlY29uZCI7JGNsYXNzLm1pY3Jvc2Vjb25kPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MubWljcm9zZWNvbmQpOyRjbGFzcy50emluZm89KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0emluZm8iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjNuOXRia2M5Il0uX19kaWN0X189JG5zOyJ0aW1lem9uZSBpbmZvIG9iamVjdCI7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnR6aW5mby5fX25hbWVfXz0idHppbmZvIjskY2xhc3MudHppbmZvPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MudHppbmZvKTskY2xhc3MuZnJvbXRpbWVzdGFtcD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJmcm9tdGltZXN0YW1wIixhcmd1bWVudHMsWyJjbHMiLCJ0Il0seyJ0eiI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUueTZubGUzcGQuX19kaWN0X189JG5zOyJDb25zdHJ1Y3QgYSBkYXRldGltZSBmcm9tIGEgUE9TSVggdGltZXN0YW1wIChsaWtlIHRpbWUudGltZSgpKS5cblxuICAgICAgICBBIHRpbWV6b25lIGluZm8gb2JqZWN0IG1heSBiZSBwYXNzZWQgaW4gYXMgd2VsbC5cbiAgICAgICAgIjtfY2hlY2tfdHppbmZvX2FyZy5fX2NhbGxfXyh0eik7dmFyIGNvbnZlcnRlcj0kbG9jYWxzLmNvbnZlcnRlcj0kdGVybmFyeSh7Il90aW1lIjpfdGltZSwidHoiOnR6LCJOb25lIjpOb25lfSwidHo9PT1Ob25lIiwiX3RpbWUuX19nZXRhdHRyX18oXCJsb2NhbHRpbWVcIikiLCJfdGltZS5fX2dldGF0dHJfXyhcImdtdGltZVwiKSIpOyRyaWdodD1kaXZtb2QuX19jYWxsX18odCxmbG9hdCgxKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB0PSRsb2NhbHMudD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGZyYWM9JGxvY2Fscy5mcmFjPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgdXM9JGxvY2Fscy51cz1yb3VuZC5fX2NhbGxfXyhmcmFjLl9fbXVsX18oZmxvYXQoMWU2KSkpO2lmKGJvb2wodXMuX19lcV9fKE51bWJlcigxMDAwMDAwKSkpKXt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1OdW1iZXIoMSk7aWYoIWhhc2F0dHIodCwiX19pYWRkX18iKSl2YXIgdD0kbG9jYWxzLnQ9dC5fX2FkZF9fKCR0ZW1wKTtlbHNlIHQ9dC5fX2lhZGRfXygkdGVtcCk7dmFyIHVzPSRsb2NhbHMudXM9TnVtYmVyKDApO30kcmlnaHQ9Y29udmVydGVyLl9fY2FsbF9fKHQpO2lmKCRyaWdodC5fX2xlbl9fKCk+OSl0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCA5KSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTw5KXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgeT0kbG9jYWxzLnk9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtPSRsb2NhbHMubT0kcmlnaHQuX19pdGVtX18oMSk7dmFyIGQ9JGxvY2Fscy5kPSRyaWdodC5fX2l0ZW1fXygyKTt2YXIgaGg9JGxvY2Fscy5oaD0kcmlnaHQuX19pdGVtX18oMyk7dmFyIG1tPSRsb2NhbHMubW09JHJpZ2h0Ll9faXRlbV9fKDQpO3ZhciBzcz0kbG9jYWxzLnNzPSRyaWdodC5fX2l0ZW1fXyg1KTt2YXIgd2Vla2RheT0kbG9jYWxzLndlZWtkYXk9JHJpZ2h0Ll9faXRlbV9fKDYpO3ZhciBqZGF5PSRsb2NhbHMuamRheT0kcmlnaHQuX19pdGVtX18oNyk7dmFyIGRzdD0kbG9jYWxzLmRzdD0kcmlnaHQuX19pdGVtX18oOCk7dmFyIHNzPSRsb2NhbHMuc3M9bWluLl9fY2FsbF9fKHNzLE51bWJlcig1OSkpO3ZhciByZXN1bHQ9JGxvY2Fscy5yZXN1bHQ9Y2xzLl9fY2FsbF9fKHksbSxkLGhoLG1tLHNzLHVzLHR6KTtpZihib29sKHR6IT09Tm9uZSkpdmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD10ei5fX2dldGF0dHJfXygiZnJvbXV0YyIpLl9fY2FsbF9fKHJlc3VsdCk7cmV0dXJuIHJlc3VsdDt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKE5vbmUpOyRjbGFzcy5mcm9tdGltZXN0YW1wLl9fbmFtZV9fPSJmcm9tdGltZXN0YW1wIjskY2xhc3MuZnJvbXRpbWVzdGFtcD0oJGNsYXNzLmNsYXNzbWV0aG9kIT09dW5kZWZpbmVkPyRjbGFzcy5jbGFzc21ldGhvZDpjbGFzc21ldGhvZCkoJGNsYXNzLCRjbGFzcy5mcm9tdGltZXN0YW1wKTskY2xhc3MudXRjZnJvbXRpbWVzdGFtcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInV0Y2Zyb210aW1lc3RhbXAiLGFyZ3VtZW50cyxbImNscyIsInQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZjBiYzUwbWIuX19kaWN0X189JG5zOyJDb25zdHJ1Y3QgYSBVVEMgZGF0ZXRpbWUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIjskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHQsZmxvYXQoMSkpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgdD0kbG9jYWxzLnQ9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBmcmFjPSRsb2NhbHMuZnJhYz0kcmlnaHQuX19pdGVtX18oMSk7dmFyIHVzPSRsb2NhbHMudXM9cm91bmQuX19jYWxsX18oZnJhYy5fX211bF9fKGZsb2F0KDFlNikpKTtpZihib29sKHVzLl9fZXFfXyhOdW1iZXIoMTAwMDAwMCkpKSl7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9TnVtYmVyKDEpO2lmKCFoYXNhdHRyKHQsIl9faWFkZF9fIikpdmFyIHQ9JGxvY2Fscy50PXQuX19hZGRfXygkdGVtcCk7ZWxzZSB0PXQuX19pYWRkX18oJHRlbXApO3ZhciB1cz0kbG9jYWxzLnVzPU51bWJlcigwKTt9JHJpZ2h0PV90aW1lLl9fZ2V0YXR0cl9fKCJnbXRpbWUiKS5fX2NhbGxfXyh0KTtpZigkcmlnaHQuX19sZW5fXygpPjkpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgOSkiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8OSl0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHk9JGxvY2Fscy55PSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgbT0kbG9jYWxzLm09JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBkPSRsb2NhbHMuZD0kcmlnaHQuX19pdGVtX18oMik7dmFyIGhoPSRsb2NhbHMuaGg9JHJpZ2h0Ll9faXRlbV9fKDMpO3ZhciBtbT0kbG9jYWxzLm1tPSRyaWdodC5fX2l0ZW1fXyg0KTt2YXIgc3M9JGxvY2Fscy5zcz0kcmlnaHQuX19pdGVtX18oNSk7dmFyIHdlZWtkYXk9JGxvY2Fscy53ZWVrZGF5PSRyaWdodC5fX2l0ZW1fXyg2KTt2YXIgamRheT0kbG9jYWxzLmpkYXk9JHJpZ2h0Ll9faXRlbV9fKDcpO3ZhciBkc3Q9JGxvY2Fscy5kc3Q9JHJpZ2h0Ll9faXRlbV9fKDgpO3ZhciBzcz0kbG9jYWxzLnNzPW1pbi5fX2NhbGxfXyhzcyxOdW1iZXIoNTkpKTtyZXR1cm4gY2xzLl9fY2FsbF9fKHksbSxkLGhoLG1tLHNzLHVzKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnV0Y2Zyb210aW1lc3RhbXAuX19uYW1lX189InV0Y2Zyb210aW1lc3RhbXAiOyRjbGFzcy51dGNmcm9tdGltZXN0YW1wPSgkY2xhc3MuY2xhc3NtZXRob2QhPT11bmRlZmluZWQ/JGNsYXNzLmNsYXNzbWV0aG9kOmNsYXNzbWV0aG9kKSgkY2xhc3MsJGNsYXNzLnV0Y2Zyb210aW1lc3RhbXApOyRjbGFzcy5ub3c9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibm93Iixhcmd1bWVudHMsWyJjbHMiXSx7InR6IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNHRreXJ6ODkiXS5fX2RpY3RfXz0kbnM7IkNvbnN0cnVjdCBhIGRhdGV0aW1lIGZyb20gdGltZS50aW1lKCkgYW5kIG9wdGlvbmFsIHRpbWUgem9uZSBpbmZvLiI7dmFyIHQ9JGxvY2Fscy50PV90aW1lLl9fZ2V0YXR0cl9fKCJ0aW1lIikuX19jYWxsX18oKTtyZXR1cm4gY2xzLl9fZ2V0YXR0cl9fKCJmcm9tdGltZXN0YW1wIikuX19jYWxsX18odCx0eik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KShOb25lKTskY2xhc3Mubm93Ll9fbmFtZV9fPSJub3ciOyRjbGFzcy5ub3c9KCRjbGFzcy5jbGFzc21ldGhvZCE9PXVuZGVmaW5lZD8kY2xhc3MuY2xhc3NtZXRob2Q6Y2xhc3NtZXRob2QpKCRjbGFzcywkY2xhc3Mubm93KTskY2xhc3MudXRjbm93PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidXRjbm93Iixhcmd1bWVudHMsWyJjbHMiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZGwxZ2htNTYuX19kaWN0X189JG5zOyJDb25zdHJ1Y3QgYSBVVEMgZGF0ZXRpbWUgZnJvbSB0aW1lLnRpbWUoKS4iO3ZhciB0PSRsb2NhbHMudD1fdGltZS5fX2dldGF0dHJfXygidGltZSIpLl9fY2FsbF9fKCk7cmV0dXJuIGNscy5fX2dldGF0dHJfXygidXRjZnJvbXRpbWVzdGFtcCIpLl9fY2FsbF9fKHQpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MudXRjbm93Ll9fbmFtZV9fPSJ1dGNub3ciOyRjbGFzcy51dGNub3c9KCRjbGFzcy5jbGFzc21ldGhvZCE9PXVuZGVmaW5lZD8kY2xhc3MuY2xhc3NtZXRob2Q6Y2xhc3NtZXRob2QpKCRjbGFzcywkY2xhc3MudXRjbm93KTskY2xhc3MuY29tYmluZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImNvbWJpbmUiLGFyZ3VtZW50cyxbImNscyIsImRhdGUiLCJ0aW1lIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI3MHJ6MzNlYyJdLl9fZGljdF9fPSRuczsiQ29uc3RydWN0IGEgZGF0ZXRpbWUgZnJvbSBhIGdpdmVuIGRhdGUgYW5kIGEgZ2l2ZW4gdGltZS4iO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhkYXRlLF9kYXRlX2NsYXNzKSkpKXRocm93IFR5cGVFcnJvci5fX2NhbGxfXygiZGF0ZSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSBpbnN0YW5jZSIpO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyh0aW1lLF90aW1lX2NsYXNzKSkpKXRocm93IFR5cGVFcnJvci5fX2NhbGxfXygidGltZSBhcmd1bWVudCBtdXN0IGJlIGEgdGltZSBpbnN0YW5jZSIpO3JldHVybiBjbHMuX19jYWxsX18oZGF0ZS5fX2dldGF0dHJfXygieWVhciIpLGRhdGUuX19nZXRhdHRyX18oIm1vbnRoIiksZGF0ZS5fX2dldGF0dHJfXygiZGF5IiksdGltZS5fX2dldGF0dHJfXygiaG91ciIpLHRpbWUuX19nZXRhdHRyX18oIm1pbnV0ZSIpLHRpbWUuX19nZXRhdHRyX18oInNlY29uZCIpLHRpbWUuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIiksdGltZS5fX2dldGF0dHJfXygidHppbmZvIikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuY29tYmluZS5fX25hbWVfXz0iY29tYmluZSI7JGNsYXNzLmNvbWJpbmU9KCRjbGFzcy5jbGFzc21ldGhvZCE9PXVuZGVmaW5lZD8kY2xhc3MuY2xhc3NtZXRob2Q6Y2xhc3NtZXRob2QpKCRjbGFzcywkY2xhc3MuY29tYmluZSk7JGNsYXNzLnRpbWV0dXBsZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRpbWV0dXBsZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5vbGYyaHFodS5fX2RpY3RfXz0kbnM7IlJldHVybiBsb2NhbCB0aW1lIHR1cGxlIGNvbXBhdGlibGUgd2l0aCB0aW1lLmxvY2FsdGltZSgpLiI7dmFyIGRzdD0kbG9jYWxzLmRzdD1zZWxmLl9fZ2V0YXR0cl9fKCJkc3QiKS5fX2NhbGxfXygpO2lmKGJvb2woZHN0PT09Tm9uZSkpdmFyIGRzdD0kbG9jYWxzLmRzdD1OdW1iZXIoLTEpO2Vsc2UgaWYoYm9vbChkc3QpKXZhciBkc3Q9JGxvY2Fscy5kc3Q9TnVtYmVyKDEpO2Vsc2UgdmFyIGRzdD0kbG9jYWxzLmRzdD1OdW1iZXIoMCk7cmV0dXJuIF9idWlsZF9zdHJ1Y3RfdGltZS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJ5ZWFyIiksc2VsZi5fX2dldGF0dHJfXygibW9udGgiKSxzZWxmLl9fZ2V0YXR0cl9fKCJkYXkiKSxzZWxmLl9fZ2V0YXR0cl9fKCJob3VyIiksc2VsZi5fX2dldGF0dHJfXygibWludXRlIiksc2VsZi5fX2dldGF0dHJfXygic2Vjb25kIiksZHN0KTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnRpbWV0dXBsZS5fX25hbWVfXz0idGltZXR1cGxlIjskY2xhc3MudXRjdGltZXR1cGxlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidXRjdGltZXR1cGxlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnJ6NGh6OWc4Ll9fZGljdF9fPSRuczsiUmV0dXJuIFVUQyB0aW1lIHR1cGxlIGNvbXBhdGlibGUgd2l0aCB0aW1lLmdtdGltZSgpLiI7dmFyIG9mZnNldD0kbG9jYWxzLm9mZnNldD1zZWxmLl9fZ2V0YXR0cl9fKCJ1dGNvZmZzZXQiKS5fX2NhbGxfXygpO2lmKGJvb2wob2Zmc2V0KSl7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9b2Zmc2V0O2lmKCFoYXNhdHRyKHNlbGYsIl9faXN1Yl9fIikpdmFyIHNlbGY9JGxvY2Fscy5zZWxmPXNlbGYuX19zdWJfXygkdGVtcCk7ZWxzZSBzZWxmPXNlbGYuX19pc3ViX18oJHRlbXApO30kcmlnaHQ9dHVwbGUoW3NlbGYuX19nZXRhdHRyX18oInllYXIiKSxzZWxmLl9fZ2V0YXR0cl9fKCJtb250aCIpLHNlbGYuX19nZXRhdHRyX18oImRheSIpXSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4zKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDMpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDMpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB5PSRsb2NhbHMueT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIG09JGxvY2Fscy5tPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgZD0kbG9jYWxzLmQ9JHJpZ2h0Ll9faXRlbV9fKDIpOyRyaWdodD10dXBsZShbc2VsZi5fX2dldGF0dHJfXygiaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIm1pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oInNlY29uZCIpXSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4zKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDMpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDMpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBoaD0kbG9jYWxzLmhoPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgbW09JGxvY2Fscy5tbT0kcmlnaHQuX19pdGVtX18oMSk7dmFyIHNzPSRsb2NhbHMuc3M9JHJpZ2h0Ll9faXRlbV9fKDIpO3JldHVybiBfYnVpbGRfc3RydWN0X3RpbWUuX19jYWxsX18oeSxtLGQsaGgsbW0sc3MsTnVtYmVyKDApKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnV0Y3RpbWV0dXBsZS5fX25hbWVfXz0idXRjdGltZXR1cGxlIjskY2xhc3MuZGF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImRhdGUiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudG54bG01YmUuX19kaWN0X189JG5zOyJSZXR1cm4gdGhlIGRhdGUgcGFydC4iO3JldHVybiBkYXRlLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmRhdGUuX19uYW1lX189ImRhdGUiOyRjbGFzcy50aW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidGltZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiM2UxbTI5dWEiXS5fX2RpY3RfXz0kbnM7IlJldHVybiB0aGUgdGltZSBwYXJ0LCB3aXRoIHR6aW5mbyBOb25lLiI7cmV0dXJuIHRpbWUuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIm1pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oInNlY29uZCIpLHNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MudGltZS5fX25hbWVfXz0idGltZSI7JGNsYXNzLnRpbWV0ej0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRpbWV0eiIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS50MHRqbWhmMS5fX2RpY3RfXz0kbnM7IlJldHVybiB0aGUgdGltZSBwYXJ0LCB3aXRoIHNhbWUgdHppbmZvLiI7cmV0dXJuIHRpbWUuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIm1pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oInNlY29uZCIpLHNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIiksc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnRpbWV0ei5fX25hbWVfXz0idGltZXR6IjskY2xhc3MucmVwbGFjZT0oZnVuY3Rpb24oTm9uZSxOb25lLE5vbmUsTm9uZSxOb25lLE5vbmUsTm9uZSxUcnVlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInJlcGxhY2UiLGFyZ3VtZW50cyxbInNlbGYiXSx7InllYXIiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwibW9udGgiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwiZGF5IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksImhvdXIiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwibWludXRlIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksInNlY29uZCI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpLCJtaWNyb3NlY29uZCI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpLCJ0emluZm8iOigkY2xhc3MuVHJ1ZSE9PXVuZGVmaW5lZD8kY2xhc3MuVHJ1ZTpUcnVlKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIzajF5ZWluciJdLl9fZGljdF9fPSRuczsiUmV0dXJuIGEgbmV3IGRhdGV0aW1lIHdpdGggbmV3IHZhbHVlcyBmb3IgdGhlIHNwZWNpZmllZCBmaWVsZHMuIjtpZihib29sKHllYXI9PT1Ob25lKSl2YXIgeWVhcj0kbG9jYWxzLnllYXI9c2VsZi5fX2dldGF0dHJfXygieWVhciIpO2lmKGJvb2wobW9udGg9PT1Ob25lKSl2YXIgbW9udGg9JGxvY2Fscy5tb250aD1zZWxmLl9fZ2V0YXR0cl9fKCJtb250aCIpO2lmKGJvb2woZGF5PT09Tm9uZSkpdmFyIGRheT0kbG9jYWxzLmRheT1zZWxmLl9fZ2V0YXR0cl9fKCJkYXkiKTtpZihib29sKGhvdXI9PT1Ob25lKSl2YXIgaG91cj0kbG9jYWxzLmhvdXI9c2VsZi5fX2dldGF0dHJfXygiaG91ciIpO2lmKGJvb2wobWludXRlPT09Tm9uZSkpdmFyIG1pbnV0ZT0kbG9jYWxzLm1pbnV0ZT1zZWxmLl9fZ2V0YXR0cl9fKCJtaW51dGUiKTtpZihib29sKHNlY29uZD09PU5vbmUpKXZhciBzZWNvbmQ9JGxvY2Fscy5zZWNvbmQ9c2VsZi5fX2dldGF0dHJfXygic2Vjb25kIik7aWYoYm9vbChtaWNyb3NlY29uZD09PU5vbmUpKXZhciBtaWNyb3NlY29uZD0kbG9jYWxzLm1pY3Jvc2Vjb25kPXNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIik7aWYoYm9vbCh0emluZm89PT1UcnVlKSl2YXIgdHppbmZvPSRsb2NhbHMudHppbmZvPXNlbGYuX19nZXRhdHRyX18oInR6aW5mbyIpO19jaGVja19kYXRlX2ZpZWxkcy5fX2NhbGxfXyh5ZWFyLG1vbnRoLGRheSk7X2NoZWNrX3RpbWVfZmllbGRzLl9fY2FsbF9fKGhvdXIsbWludXRlLHNlY29uZCxtaWNyb3NlY29uZCk7X2NoZWNrX3R6aW5mb19hcmcuX19jYWxsX18odHppbmZvKTtyZXR1cm4gZGF0ZXRpbWUuX19jYWxsX18oeWVhcixtb250aCxkYXksaG91cixtaW51dGUsc2Vjb25kLG1pY3Jvc2Vjb25kLHR6aW5mbyk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KShOb25lLE5vbmUsTm9uZSxOb25lLE5vbmUsTm9uZSxOb25lLFRydWUpOyRjbGFzcy5yZXBsYWNlLl9fbmFtZV9fPSJyZXBsYWNlIjskY2xhc3MuYXN0aW1lem9uZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImFzdGltZXpvbmUiLGFyZ3VtZW50cyxbInNlbGYiLCJ0eiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiM3ozaHV3cGEiXS5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKHR6LHR6aW5mbykpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oInR6IGFyZ3VtZW50IG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgdHppbmZvIik7dmFyIG15dHo9JGxvY2Fscy5teXR6PXNlbGYuX19nZXRhdHRyX18oInR6aW5mbyIpO2lmKGJvb2wobXl0ej09PU5vbmUpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oImFzdGltZXpvbmUoKSByZXF1aXJlcyBhbiBhd2FyZSBkYXRldGltZSIpO2lmKGJvb2wodHo9PT1teXR6KSlyZXR1cm4gc2VsZjt2YXIgbXlvZmZzZXQ9JGxvY2Fscy5teW9mZnNldD1zZWxmLl9fZ2V0YXR0cl9fKCJ1dGNvZmZzZXQiKS5fX2NhbGxfXygpO2lmKGJvb2wobXlvZmZzZXQ9PT1Ob25lKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJhc3RpbWV6b25lKCkgcmVxdWlyZXMgYW4gYXdhcmUgZGF0ZXRpbWUiKTt2YXIgdXRjPSRsb2NhbHMudXRjPXNlbGYuX19zdWJfXyhteW9mZnNldCkuX19nZXRhdHRyX18oInJlcGxhY2UiKS5fX2NhbGxfXygkS3coInR6aW5mbyIsdHopKTtyZXR1cm4gdHouX19nZXRhdHRyX18oImZyb211dGMiKS5fX2NhbGxfXyh1dGMpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuYXN0aW1lem9uZS5fX25hbWVfXz0iYXN0aW1lem9uZSI7JGNsYXNzLmN0aW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY3RpbWUiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUueXdkcHRqMXMuX19kaWN0X189JG5zOyJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIjt2YXIgd2Vla2RheT0kbG9jYWxzLndlZWtkYXk9JHRlc3RfZXhwcigkdGVzdF9pdGVtKHNlbGYuX19nZXRhdHRyX18oInRvb3JkaW5hbCIpLl9fY2FsbF9fKCkuX19tb2RfXyhOdW1iZXIoNykpKXx8JHRlc3RfaXRlbShOdW1iZXIoNykpKTtyZXR1cm4gIiVzICVzICUyZCAlMDJkOiUwMmQ6JTAyZCAlMDRkIi5fX21vZF9fKHR1cGxlKFtfREFZTkFNRVMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikod2Vla2RheSksX01PTlRITkFNRVMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIikpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksc2VsZi5fX2dldGF0dHJfXygiX3llYXIiKV0pKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmN0aW1lLl9fbmFtZV9fPSJjdGltZSI7JGNsYXNzLmlzb2Zvcm1hdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImlzb2Zvcm1hdCIsYXJndW1lbnRzLFsic2VsZiJdLHsic2VwIjonVCd9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5tMG9zcjNvYS5fX2RpY3RfXz0kbnM7IlJldHVybiB0aGUgdGltZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy5cblxuICAgICAgICBUaGlzIGlzICdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbScsIG9yICdZWVlZLU1NLUREIEhIOk1NOlNTJyBpZlxuICAgICAgICBzZWxmLm1pY3Jvc2Vjb25kID09IDAuXG5cbiAgICAgICAgSWYgc2VsZi50emluZm8gaXMgbm90IE5vbmUsIHRoZSBVVEMgb2Zmc2V0IGlzIGFsc28gYXR0YWNoZWQsIGdpdmluZ1xuICAgICAgICAnWVlZWS1NTS1ERCBISDpNTTpTUy5tbW1tbW0rSEg6TU0nIG9yICdZWVlZLU1NLUREIEhIOk1NOlNTK0hIOk1NJy5cblxuICAgICAgICBPcHRpb25hbCBhcmd1bWVudCBzZXAgc3BlY2lmaWVzIHRoZSBzZXBhcmF0b3IgYmV0d2VlbiBkYXRlIGFuZFxuICAgICAgICB0aW1lLCBkZWZhdWx0ICdUJy5cbiAgICAgICAgIjt2YXIgcz0kbG9jYWxzLnM9IiUwNGQtJTAyZC0lMDJkJWMiLl9fbW9kX18odHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpLHNlcF0pKS5fX2FkZF9fKF9mb3JtYXRfdGltZS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIikpKTt2YXIgb2ZmPSRsb2NhbHMub2ZmPXNlbGYuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKCk7aWYoYm9vbChvZmYhPT1Ob25lKSl7aWYoYm9vbChvZmYuX19nZXRhdHRyX18oImRheXMiKS5fX2x0X18oTnVtYmVyKDApKSkpe3ZhciBzaWduPSRsb2NhbHMuc2lnbj0iLSI7dmFyIG9mZj0kbG9jYWxzLm9mZj1vZmYuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpO31lbHNlIHZhciBzaWduPSRsb2NhbHMuc2lnbj0iKyI7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyhvZmYsdGltZWRlbHRhLl9fY2FsbF9fKCRLdygiaG91cnMiLE51bWJlcigxKSkpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIGhoPSRsb2NhbHMuaGg9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBtbT0kbG9jYWxzLm1tPSRyaWdodC5fX2l0ZW1fXygxKTtpZihib29sKCFib29sKHR1cGxlKFshYm9vbChtbS5fX21vZF9fKHRpbWVkZWx0YS5fX2NhbGxfXygkS3coIm1pbnV0ZXMiLE51bWJlcigxKSkpKSksIndob2xlIG1pbnV0ZSJdKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD10aW1lZGVsdGEuX19jYWxsX18oJEt3KCJtaW51dGVzIixOdW1iZXIoMSkpKTtpZighaGFzYXR0cihtbSwiX19pZmxvb3JkaXZfXyIpKXZhciBtbT0kbG9jYWxzLm1tPW1tLl9fZmxvb3JkaXZfXygkdGVtcCk7ZWxzZSBtbT1tbS5fX2lmbG9vcmRpdl9fKCR0ZW1wKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD0iJXMlMDJkOiUwMmQiLl9fbW9kX18odHVwbGUoW3NpZ24saGgsbW1dKSk7aWYoIWhhc2F0dHIocywiX19pYWRkX18iKSl2YXIgcz0kbG9jYWxzLnM9cy5fX2FkZF9fKCR0ZW1wKTtlbHNlIHM9cy5fX2lhZGRfXygkdGVtcCk7fXJldHVybiBzO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuaXNvZm9ybWF0Ll9fbmFtZV9fPSJpc29mb3JtYXQiOyRjbGFzcy5fX3JlcHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVwcl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI4bWJrZGpnayJdLl9fZGljdF9fPSRuczsiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLiI7dmFyIEw9JGxvY2Fscy5MPWxpc3QoW3NlbGYuX19nZXRhdHRyX18oIl95ZWFyIiksc2VsZi5fX2dldGF0dHJfXygiX21vbnRoIiksc2VsZi5fX2dldGF0dHJfXygiX2RheSIpLHNlbGYuX19nZXRhdHRyX18oIl9ob3VyIiksc2VsZi5fX2dldGF0dHJfXygiX21pbnV0ZSIpLHNlbGYuX19nZXRhdHRyX18oIl9zZWNvbmQiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiKV0pO2lmKGJvb2woTC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoLTEpKS5fX2VxX18oTnVtYmVyKDApKSkpTC5fX2dldGF0dHJfXygiX19kZWxpdGVtX18iKShOdW1iZXIoLTEpKTtpZihib29sKEwuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKC0xKSkuX19lcV9fKE51bWJlcigwKSkpKUwuX19nZXRhdHRyX18oIl9fZGVsaXRlbV9fIikoTnVtYmVyKC0xKSk7dmFyIHM9JGxvY2Fscy5zPSIsICIuX19nZXRhdHRyX18oImpvaW4iKS5fX2NhbGxfXyhtYXAuX19jYWxsX18oc3RyLEwpKTt2YXIgcz0kbG9jYWxzLnM9IiVzKCVzKSIuX19tb2RfXyh0dXBsZShbJ2RhdGV0aW1lLicuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2NsYXNzX18iKS5fX2dldGF0dHJfXygiX19uYW1lX18iKSksc10pKTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKSE9PU5vbmUpKXtpZihib29sKCFib29sKHMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UoTnVtYmVyKC0xKSxudWxsKSkuX19lcV9fKCIpIikpKSl0aHJvdyBBc3NlcnRpb25FcnJvcigiIik7dmFyIHM9JGxvY2Fscy5zPXMuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UobnVsbCxOdW1iZXIoLTEpKSkuX19hZGRfXygiLCB0emluZm89JXIiLl9fbW9kX18oc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpKSkuX19hZGRfXygiKSIpO31yZXR1cm4gczt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fcmVwcl9fLl9fbmFtZV9fPSJfX3JlcHJfXyI7JGNsYXNzLl9fc3RyX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3N0cl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnJ6aDRlMzJjLl9fZGljdF9fPSRuczsiQ29udmVydCB0byBzdHJpbmcsIGZvciBzdHIoKS4iO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJpc29mb3JtYXQiKS5fX2NhbGxfXygkS3coInNlcCIsJyAnKSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX3N0cl9fLl9fbmFtZV9fPSJfX3N0cl9fIjskY2xhc3Muc3RycHRpbWU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzdHJwdGltZSIsYXJndW1lbnRzLFsiY2xzIiwiZGF0ZV9zdHJpbmciLCJmb3JtYXQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuenhiaTZuZGEuX19kaWN0X189JG5zOydzdHJpbmcsIGZvcm1hdCAtPiBuZXcgZGF0ZXRpbWUgcGFyc2VkIGZyb20gYSBzdHJpbmcgKGxpa2UgdGltZS5zdHJwdGltZSgpKS4nOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJfc3RycHRpbWUiLCJfc3RycHRpbWUiXV0pO3ZhciBfc3RycHRpbWU9JGxvY2Fscy5fc3RycHRpbWU9JG1vZHNbMF07O05vbmU7cmV0dXJuIF9zdHJwdGltZS5fX2dldGF0dHJfXygiX3N0cnB0aW1lX2RhdGV0aW1lIikuX19jYWxsX18oY2xzLGRhdGVfc3RyaW5nLGZvcm1hdCk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5zdHJwdGltZS5fX25hbWVfXz0ic3RycHRpbWUiOyRjbGFzcy5zdHJwdGltZT0oJGNsYXNzLmNsYXNzbWV0aG9kIT09dW5kZWZpbmVkPyRjbGFzcy5jbGFzc21ldGhvZDpjbGFzc21ldGhvZCkoJGNsYXNzLCRjbGFzcy5zdHJwdGltZSk7JGNsYXNzLnV0Y29mZnNldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInV0Y29mZnNldCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOW43eHB1cmUiXS5fX2RpY3RfXz0kbnM7IlJldHVybiB0aGUgdGltZXpvbmUgb2Zmc2V0IGluIG1pbnV0ZXMgZWFzdCBvZiBVVEMgKG5lZ2F0aXZlIHdlc3Qgb2ZcbiAgICAgICAgVVRDKS4iO2lmKGJvb2woc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpPT09Tm9uZSkpcmV0dXJuIE5vbmU7dmFyIG9mZnNldD0kbG9jYWxzLm9mZnNldD1zZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIikuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKHNlbGYpO19jaGVja191dGNfb2Zmc2V0Ll9fY2FsbF9fKCJ1dGNvZmZzZXQiLG9mZnNldCk7cmV0dXJuIG9mZnNldDt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLnV0Y29mZnNldC5fX25hbWVfXz0idXRjb2Zmc2V0IjskY2xhc3MudHpuYW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidHpuYW1lIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnBsdGZyOHhsLl9fZGljdF9fPSRuczsiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLlxuXG4gICAgICAgIE5vdGUgdGhhdCB0aGUgbmFtZSBpcyAxMDAlIGluZm9ybWF0aW9uYWwgLS0gdGhlcmUncyBubyByZXF1aXJlbWVudCB0aGF0XG4gICAgICAgIGl0IG1lYW4gYW55dGhpbmcgaW4gcGFydGljdWxhci4gRm9yIGV4YW1wbGUsIFwiR01UXCIsIFwiVVRDXCIsIFwiLTUwMFwiLFxuICAgICAgICBcIi01OjAwXCIsIFwiRURUXCIsIFwiVVMvRWFzdGVyblwiLCBcIkFtZXJpY2EvTmV3IFlvcmtcIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuXG4gICAgICAgICI7dmFyIG5hbWU9JGxvY2Fscy5uYW1lPV9jYWxsX3R6aW5mb19tZXRob2QuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpLCJ0em5hbWUiLHNlbGYpO19jaGVja190em5hbWUuX19jYWxsX18obmFtZSk7cmV0dXJuIG5hbWU7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50em5hbWUuX19uYW1lX189InR6bmFtZSI7JGNsYXNzLmRzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImRzdCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5qM2NmaG52Ni5fX2RpY3RfXz0kbnM7IlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlc1xuICAgICAgICBlYXN0d2FyZCkgaWYgRFNUIGlzIGluIGVmZmVjdC5cblxuICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvXG4gICAgICAgIHRoZSBVVEMgb2Zmc2V0IHJldHVybmVkIGJ5IHV0Y29mZnNldCgpIGlmIGFwcGxpY2FibGUsIHNvIHRoZXJlJ3Mgbm9cbiAgICAgICAgbmVlZCB0byBjb25zdWx0IGRzdCgpIHVubGVzcyB5b3UncmUgaW50ZXJlc3RlZCBpbiBkaXNwbGF5aW5nIHRoZSBEU1RcbiAgICAgICAgaW5mby5cbiAgICAgICAgIjtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKT09PU5vbmUpKXJldHVybiBOb25lO3ZhciBvZmZzZXQ9JGxvY2Fscy5vZmZzZXQ9c2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpLl9fZ2V0YXR0cl9fKCJkc3QiKS5fX2NhbGxfXyhzZWxmKTtfY2hlY2tfdXRjX29mZnNldC5fX2NhbGxfXygiZHN0IixvZmZzZXQpO3JldHVybiBvZmZzZXQ7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5kc3QuX19uYW1lX189ImRzdCI7JGNsYXNzLl9fZXFfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZXFfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmZod2UxaXk2Ll9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZXRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2VxX18oTnVtYmVyKDApKTtlbHNlIGlmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpKXJldHVybiBOb3RJbXBsZW1lbnRlZDtlbHNlIHJldHVybiBGYWxzZTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZXFfXy5fX25hbWVfXz0iX19lcV9fIjskY2xhc3MuX19uZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19uZV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjEzenUwa2x4Il0uX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRldGltZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fbmVfXyhOdW1iZXIoMCkpO2Vsc2UgaWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGUpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO2Vsc2UgcmV0dXJuIFRydWU7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX25lX18uX19uYW1lX189Il9fbmVfXyI7JGNsYXNzLl9fbGVfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbGVfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnp1Z2kwM2lxLl9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZXRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2xlX18oTnVtYmVyKDApKTtlbHNlIGlmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpKXJldHVybiBOb3RJbXBsZW1lbnRlZDtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fbGVfXy5fX25hbWVfXz0iX19sZV9fIjskY2xhc3MuX19sdF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19sdF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjJtNHk3NzRnIl0uX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRldGltZSkpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfY21wIikuX19jYWxsX18ob3RoZXIpLl9fbHRfXyhOdW1iZXIoMCkpO2Vsc2UgaWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGUpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO2Vsc2UgX2NtcGVycm9yLl9fY2FsbF9fKHNlbGYsb3RoZXIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19sdF9fLl9fbmFtZV9fPSJfX2x0X18iOyRjbGFzcy5fX2dlX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2dlX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54NmFkMmlnOS5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGV0aW1lKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9jbXAiKS5fX2NhbGxfXyhvdGhlcikuX19nZV9fKE51bWJlcigwKSk7ZWxzZSBpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZSkpKSlyZXR1cm4gTm90SW1wbGVtZW50ZWQ7ZWxzZSBfY21wZXJyb3IuX19jYWxsX18oc2VsZixvdGhlcik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX2dlX18uX19uYW1lX189Il9fZ2VfXyI7JGNsYXNzLl9fZ3RfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZ3RfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnhpNWdkc2o3Ll9fZGljdF9fPSRucztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsZGF0ZXRpbWUpKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX2NtcCIpLl9fY2FsbF9fKG90aGVyKS5fX2d0X18oTnVtYmVyKDApKTtlbHNlIGlmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixkYXRlKSkpKXJldHVybiBOb3RJbXBsZW1lbnRlZDtlbHNlIF9jbXBlcnJvci5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZ3RfXy5fX25hbWVfXz0iX19ndF9fIjskY2xhc3MuX2NtcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9jbXAiLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS53am1wODd4Zi5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGV0aW1lKSkpKXRocm93IEFzc2VydGlvbkVycm9yKCIiKTt2YXIgbXl0ej0kbG9jYWxzLm15dHo9c2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpO3ZhciBvdHR6PSRsb2NhbHMub3R0ej1vdGhlci5fX2dldGF0dHJfXygiX3R6aW5mbyIpO3ZhciBvdG9mZj0kbG9jYWxzLm90b2ZmPU5vbmU7dmFyIG15b2ZmPSRsb2NhbHMubXlvZmY9b3RvZmY7aWYoYm9vbChteXR6PT09b3R0eikpdmFyIGJhc2VfY29tcGFyZT0kbG9jYWxzLmJhc2VfY29tcGFyZT1UcnVlO2Vsc2V7aWYoYm9vbChteXR6IT09Tm9uZSkpdmFyIG15b2ZmPSRsb2NhbHMubXlvZmY9c2VsZi5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oKTtpZihib29sKG90dHohPT1Ob25lKSl2YXIgb3RvZmY9JGxvY2Fscy5vdG9mZj1vdGhlci5fX2dldGF0dHJfXygidXRjb2Zmc2V0IikuX19jYWxsX18oKTt2YXIgYmFzZV9jb21wYXJlPSRsb2NhbHMuYmFzZV9jb21wYXJlPW15b2ZmLl9fZXFfXyhvdG9mZik7fWlmKGJvb2woYmFzZV9jb21wYXJlKSlyZXR1cm4gX3R1cGxlX2NtcC5fX2NhbGxfXyh0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX3llYXIiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbW9udGgiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfZGF5Iiksc2VsZi5fX2dldGF0dHJfXygiX2hvdXIiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfbWludXRlIiksc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZCIpLHNlbGYuX19nZXRhdHRyX18oIl9taWNyb3NlY29uZCIpXSksdHVwbGUoW290aGVyLl9fZ2V0YXR0cl9fKCJfeWVhciIpLG90aGVyLl9fZ2V0YXR0cl9fKCJfbW9udGgiKSxvdGhlci5fX2dldGF0dHJfXygiX2RheSIpLG90aGVyLl9fZ2V0YXR0cl9fKCJfaG91ciIpLG90aGVyLl9fZ2V0YXR0cl9fKCJfbWludXRlIiksb3RoZXIuX19nZXRhdHRyX18oIl9zZWNvbmQiKSxvdGhlci5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIildKSk7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0obXlvZmY9PT1Ob25lKXx8JHRlc3RfaXRlbShvdG9mZj09PU5vbmUpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJjYW5ub3QgY29tcGFyZSBuYWl2ZSBhbmQgYXdhcmUgZGF0ZXRpbWVzIik7dmFyIGRpZmY9JGxvY2Fscy5kaWZmPXNlbGYuX19zdWJfXyhvdGhlcik7aWYoYm9vbChkaWZmLl9fZ2V0YXR0cl9fKCJkYXlzIikuX19sdF9fKE51bWJlcigwKSkpKXJldHVybiBOdW1iZXIoLTEpO3JldHVybiAkdGVzdF9leHByKCR0ZXN0X2l0ZW0oJHRlc3RfZXhwcigkdGVzdF9pdGVtKGRpZmYpJiYkdGVzdF9pdGVtKE51bWJlcigxKSkpKXx8JHRlc3RfaXRlbShOdW1iZXIoMCkpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9jbXAuX19uYW1lX189Il9jbXAiOyRjbGFzcy5fX2FkZF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19hZGRfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIwZGhlbXB3eCJdLl9fZGljdF9fPSRuczsiQWRkIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiI7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLHRpbWVkZWx0YSkpKSlyZXR1cm4gTm90SW1wbGVtZW50ZWQ7dmFyIGRlbHRhPSRsb2NhbHMuZGVsdGE9dGltZWRlbHRhLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oInRvb3JkaW5hbCIpLl9fY2FsbF9fKCksJEt3KCJob3VycyIsc2VsZi5fX2dldGF0dHJfXygiX2hvdXIiKSksJEt3KCJtaW51dGVzIixzZWxmLl9fZ2V0YXR0cl9fKCJfbWludXRlIikpLCRLdygic2Vjb25kcyIsc2VsZi5fX2dldGF0dHJfXygiX3NlY29uZCIpKSwkS3coIm1pY3Jvc2Vjb25kcyIsc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIikpKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1vdGhlcjtpZighaGFzYXR0cihkZWx0YSwiX19pYWRkX18iKSl2YXIgZGVsdGE9JGxvY2Fscy5kZWx0YT1kZWx0YS5fX2FkZF9fKCR0ZW1wKTtlbHNlIGRlbHRhPWRlbHRhLl9faWFkZF9fKCR0ZW1wKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKGRlbHRhLl9fZ2V0YXR0cl9fKCJzZWNvbmRzIiksTnVtYmVyKDM2MDApKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIGhvdXI9JGxvY2Fscy5ob3VyPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgcmVtPSRsb2NhbHMucmVtPSRyaWdodC5fX2l0ZW1fXygxKTskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKHJlbSxOdW1iZXIoNjApKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIG1pbnV0ZT0kbG9jYWxzLm1pbnV0ZT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHNlY29uZD0kbG9jYWxzLnNlY29uZD0kcmlnaHQuX19pdGVtX18oMSk7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oTnVtYmVyKDApLl9fbHRfXyhkZWx0YS5fX2dldGF0dHJfXygiZGF5cyIpKSkmJiR0ZXN0X2l0ZW0oZGVsdGEuX19nZXRhdHRyX18oImRheXMiKS5fX2xlX18oX01BWE9SRElOQUwpKSkpKXJldHVybiBkYXRldGltZS5fX2dldGF0dHJfXygiY29tYmluZSIpLl9fY2FsbF9fKGRhdGUuX19nZXRhdHRyX18oImZyb21vcmRpbmFsIikuX19jYWxsX18oZGVsdGEuX19nZXRhdHRyX18oImRheXMiKSksdGltZS5fX2NhbGxfXyhob3VyLG1pbnV0ZSxzZWNvbmQsZGVsdGEuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kcyIpLCRLdygidHppbmZvIixzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIikpKSk7dGhyb3cgT3ZlcmZsb3dFcnJvci5fX2NhbGxfXygicmVzdWx0IG91dCBvZiByYW5nZSIpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19hZGRfXy5fX25hbWVfXz0iX19hZGRfXyI7JGNsYXNzLl9fcmFkZF9fPSgkY2xhc3MuX19hZGRfXyE9PXVuZGVmaW5lZD8kY2xhc3MuX19hZGRfXzpfX2FkZF9fKTskY2xhc3MuX19zdWJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc3ViX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54NnljZ3pjei5fX2RpY3RfXz0kbnM7IlN1YnRyYWN0IHR3byBkYXRldGltZXMsIG9yIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiI7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLGRhdGV0aW1lKSkpKXtpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsdGltZWRlbHRhKSkpcmV0dXJuIHNlbGYuX19hZGRfXyhvdGhlci5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCkpO3JldHVybiBOb3RJbXBsZW1lbnRlZDt9dmFyIGRheXMxPSRsb2NhbHMuZGF5czE9c2VsZi5fX2dldGF0dHJfXygidG9vcmRpbmFsIikuX19jYWxsX18oKTt2YXIgZGF5czI9JGxvY2Fscy5kYXlzMj1vdGhlci5fX2dldGF0dHJfXygidG9vcmRpbmFsIikuX19jYWxsX18oKTt2YXIgc2VjczE9JGxvY2Fscy5zZWNzMT1zZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIikuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfbWludXRlIikuX19tdWxfXyhOdW1iZXIoNjApKSkuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLl9fbXVsX18oTnVtYmVyKDM2MDApKSk7dmFyIHNlY3MyPSRsb2NhbHMuc2VjczI9b3RoZXIuX19nZXRhdHRyX18oIl9zZWNvbmQiKS5fX2FkZF9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfbWludXRlIikuX19tdWxfXyhOdW1iZXIoNjApKSkuX19hZGRfXyhvdGhlci5fX2dldGF0dHJfXygiX2hvdXIiKS5fX211bF9fKE51bWJlcigzNjAwKSkpO3ZhciBiYXNlPSRsb2NhbHMuYmFzZT10aW1lZGVsdGEuX19jYWxsX18oZGF5czEuX19zdWJfXyhkYXlzMiksc2VjczEuX19zdWJfXyhzZWNzMiksc2VsZi5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIikuX19zdWJfXyhvdGhlci5fX2dldGF0dHJfXygiX21pY3Jvc2Vjb25kIikpKTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl90emluZm8iKT09PW90aGVyLl9fZ2V0YXR0cl9fKCJfdHppbmZvIikpKXJldHVybiBiYXNlO3ZhciBteW9mZj0kbG9jYWxzLm15b2ZmPXNlbGYuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKCk7dmFyIG90b2ZmPSRsb2NhbHMub3RvZmY9b3RoZXIuX19nZXRhdHRyX18oInV0Y29mZnNldCIpLl9fY2FsbF9fKCk7aWYoYm9vbChteW9mZi5fX2VxX18ob3RvZmYpKSlyZXR1cm4gYmFzZTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShteW9mZj09PU5vbmUpfHwkdGVzdF9pdGVtKG90b2ZmPT09Tm9uZSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oImNhbm5vdCBtaXggbmFpdmUgYW5kIHRpbWV6b25lLWF3YXJlIHRpbWUiKTtyZXR1cm4gYmFzZS5fX2FkZF9fKG90b2ZmLl9fc3ViX18obXlvZmYpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fc3ViX18uX19uYW1lX189Il9fc3ViX18iOyRjbGFzcy5fX2hhc2hfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faGFzaF9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm1rMmUyNHBwLl9fZGljdF9fPSRuczt2YXIgdHpvZmY9JGxvY2Fscy50em9mZj1zZWxmLl9fZ2V0YXR0cl9fKCJ1dGNvZmZzZXQiKS5fX2NhbGxfXygpO2lmKGJvb2wodHpvZmY9PT1Ob25lKSlyZXR1cm4gaGFzaC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfZ2V0c3RhdGUiKS5fX2NhbGxfXygpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSkpO3ZhciBkYXlzPSRsb2NhbHMuZGF5cz1feW1kMm9yZC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJ5ZWFyIiksc2VsZi5fX2dldGF0dHJfXygibW9udGgiKSxzZWxmLl9fZ2V0YXR0cl9fKCJkYXkiKSk7dmFyIHNlY29uZHM9JGxvY2Fscy5zZWNvbmRzPXNlbGYuX19nZXRhdHRyX18oImhvdXIiKS5fX211bF9fKE51bWJlcigzNjAwKSkuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJtaW51dGUiKS5fX211bF9fKE51bWJlcig2MCkpKS5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oInNlY29uZCIpKTtyZXR1cm4gaGFzaC5fX2NhbGxfXyh0aW1lZGVsdGEuX19jYWxsX18oZGF5cyxzZWNvbmRzLHNlbGYuX19nZXRhdHRyX18oIm1pY3Jvc2Vjb25kIikpLl9fc3ViX18odHpvZmYpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9faGFzaF9fLl9fbmFtZV9fPSJfX2hhc2hfXyI7JGNsYXNzLl9nZXRzdGF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9nZXRzdGF0ZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOWlycjN4ZDMiXS5fX2RpY3RfXz0kbnM7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfeWVhciIpLE51bWJlcigyNTYpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHloaT0kbG9jYWxzLnloaT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHlsbz0kbG9jYWxzLnlsbz0kcmlnaHQuX19pdGVtX18oMSk7JHJpZ2h0PWRpdm1vZC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfbWljcm9zZWNvbmQiKSxOdW1iZXIoMjU2KSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciB1czI9JGxvY2Fscy51czI9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciB1czM9JGxvY2Fscy51czM9JHJpZ2h0Ll9faXRlbV9fKDEpOyRyaWdodD1kaXZtb2QuX19jYWxsX18odXMyLE51bWJlcigyNTYpKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHVzMT0kbG9jYWxzLnVzMT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIHVzMj0kbG9jYWxzLnVzMj0kcmlnaHQuX19pdGVtX18oMSk7dmFyIGJhc2VzdGF0ZT0kbG9jYWxzLmJhc2VzdGF0ZT1ieXRlcy5fX2NhbGxfXyhsaXN0KFt5aGkseWxvLHNlbGYuX19nZXRhdHRyX18oIl9tb250aCIpLHNlbGYuX19nZXRhdHRyX18oIl9kYXkiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfaG91ciIpLHNlbGYuX19nZXRhdHRyX18oIl9taW51dGUiKSxzZWxmLl9fZ2V0YXR0cl9fKCJfc2Vjb25kIiksdXMxLHVzMix1czNdKSk7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfdHppbmZvIik9PT1Ob25lKSlyZXR1cm4gdHVwbGUoW2Jhc2VzdGF0ZV0pO2Vsc2UgcmV0dXJuIHR1cGxlKFtiYXNlc3RhdGUsc2VsZi5fX2dldGF0dHJfXygiX3R6aW5mbyIpXSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fZ2V0c3RhdGUuX19uYW1lX189Il9nZXRzdGF0ZSI7JGNsYXNzLl9fc2V0c3RhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3NldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIiwic3RyaW5nIiwidHppbmZvIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI1ZnpqaGZ0cyJdLl9fZGljdF9fPSRuczskcmlnaHQ9c3RyaW5nO2lmKCRyaWdodC5fX2xlbl9fKCk+MTApdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMTApIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDEwKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgeWhpPSRsb2NhbHMueWhpPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgeWxvPSRsb2NhbHMueWxvPSRyaWdodC5fX2l0ZW1fXygxKTtzZWxmLl9fc2V0YXR0cl9fKCJfbW9udGgiLCRyaWdodC5fX2l0ZW1fXygyKSk7c2VsZi5fX3NldGF0dHJfXygiX2RheSIsJHJpZ2h0Ll9faXRlbV9fKDMpKTtzZWxmLl9fc2V0YXR0cl9fKCJfaG91ciIsJHJpZ2h0Ll9faXRlbV9fKDQpKTtzZWxmLl9fc2V0YXR0cl9fKCJfbWludXRlIiwkcmlnaHQuX19pdGVtX18oNSkpO3NlbGYuX19zZXRhdHRyX18oIl9zZWNvbmQiLCRyaWdodC5fX2l0ZW1fXyg2KSk7dmFyIHVzMT0kbG9jYWxzLnVzMT0kcmlnaHQuX19pdGVtX18oNyk7dmFyIHVzMj0kbG9jYWxzLnVzMj0kcmlnaHQuX19pdGVtX18oOCk7dmFyIHVzMz0kbG9jYWxzLnVzMz0kcmlnaHQuX19pdGVtX18oOSk7c2VsZi5fX3NldGF0dHJfXygiX3llYXIiLHloaS5fX211bF9fKE51bWJlcigyNTYpKS5fX2FkZF9fKHlsbykpO3NlbGYuX19zZXRhdHRyX18oIl9taWNyb3NlY29uZCIsdXMxLl9fbHNoaWZ0X18oTnVtYmVyKDgpKS5fX29yX18odXMyKS5fX2xzaGlmdF9fKE51bWJlcig4KSkuX19vcl9fKHVzMykpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHR6aW5mbz09PU5vbmUpfHwkdGVzdF9pdGVtKGlzaW5zdGFuY2UuX19jYWxsX18odHppbmZvLF90emluZm9fY2xhc3MpKSkpKXNlbGYuX19zZXRhdHRyX18oIl90emluZm8iLHR6aW5mbyk7ZWxzZSB0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oImJhZCB0emluZm8gc3RhdGUgYXJnICVyIi5fX21vZF9fKHR6aW5mbykpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19zZXRzdGF0ZS5fX25hbWVfXz0iX19zZXRzdGF0ZSI7JGNsYXNzLl9fcmVkdWNlX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3JlZHVjZV9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmc5MHcwM2dzLl9fZGljdF9fPSRucztyZXR1cm4gdHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLHNlbGYuX19nZXRhdHRyX18oIl9nZXRzdGF0ZSIpLl9fY2FsbF9fKCldKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fcmVkdWNlX18uX19uYW1lX189Il9fcmVkdWNlX18iO3JldHVybiAkY2xhc3M7fSkoKTt2YXIgZGF0ZXRpbWU9JGNsYXNzX2NvbnN0cnVjdG9yKCJkYXRldGltZSIsJGRhdGV0aW1lLGRhdGUpO19fQlJZVEhPTl9fLnNjb3BlWyJkYXRldGltZS5weSJdLl9fZGljdF9fLmRhdGV0aW1lPWRhdGV0aW1lO3ZhciBfaXNvd2VlazFtb25kYXk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfaXNvd2VlazFtb25kYXkiLGFyZ3VtZW50cyxbInllYXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjlmeXpqaXFtIl0uX19kaWN0X189JG5zO3ZhciBUSFVSU0RBWT0kbG9jYWxzLlRIVVJTREFZPU51bWJlcigzKTt2YXIgZmlyc3RkYXk9JGxvY2Fscy5maXJzdGRheT1feW1kMm9yZC5fX2NhbGxfXyh5ZWFyLE51bWJlcigxKSxOdW1iZXIoMSkpO3ZhciBmaXJzdHdlZWtkYXk9JGxvY2Fscy5maXJzdHdlZWtkYXk9Zmlyc3RkYXkuX19hZGRfXyhOdW1iZXIoNikpLl9fbW9kX18oTnVtYmVyKDcpKTt2YXIgd2VlazFtb25kYXk9JGxvY2Fscy53ZWVrMW1vbmRheT1maXJzdGRheS5fX3N1Yl9fKGZpcnN0d2Vla2RheSk7aWYoYm9vbChmaXJzdHdlZWtkYXkuX19ndF9fKFRIVVJTREFZKSkpe3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPU51bWJlcig3KTtpZighaGFzYXR0cih3ZWVrMW1vbmRheSwiX19pYWRkX18iKSl2YXIgd2VlazFtb25kYXk9JGxvY2Fscy53ZWVrMW1vbmRheT13ZWVrMW1vbmRheS5fX2FkZF9fKCR0ZW1wKTtlbHNlIHdlZWsxbW9uZGF5PXdlZWsxbW9uZGF5Ll9faWFkZF9fKCR0ZW1wKTt9cmV0dXJuIHdlZWsxbW9uZGF5O31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTtfaXNvd2VlazFtb25kYXkuX19uYW1lX189Il9pc293ZWVrMW1vbmRheSI7JGdsb2JhbHMuX2lzb3dlZWsxbW9uZGF5PV9pc293ZWVrMW1vbmRheTt2YXIgJHRpbWV6b25lPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyRjbGFzcy5fX3Nsb3RzX189dHVwbGUoWydfb2Zmc2V0JywnX25hbWUnXSk7JGNsYXNzLl9PbWl0dGVkPSgkY2xhc3Mub2JqZWN0IT09dW5kZWZpbmVkPyRjbGFzcy5vYmplY3Q6b2JqZWN0KS5fX2NhbGxfXygpOyRjbGFzcy5fX25ld19fPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fbmV3X18iLGFyZ3VtZW50cyxbImNscyIsIm9mZnNldCJdLHsibmFtZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucHY2NGhqbHMuX19kaWN0X189JG5zO2lmKGJvb2wobmFtZT09PU5vbmUpKXZhciBuYW1lPSRsb2NhbHMubmFtZT1fT21pdHRlZDtpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob2Zmc2V0LHRpbWVkZWx0YSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oIm9mZnNldCBtdXN0IGJlIGEgdGltZWRlbHRhIik7aWYoYm9vbChuYW1lPT09Y2xzLl9fZ2V0YXR0cl9fKCJfT21pdHRlZCIpKSl7aWYoYm9vbCghYm9vbChvZmZzZXQpKSlyZXR1cm4gY2xzLl9fZ2V0YXR0cl9fKCJ1dGMiKTt2YXIgbmFtZT0kbG9jYWxzLm5hbWU9Tm9uZTt9ZWxzZSBpZihib29sKCFib29sKGlzaW5zdGFuY2UuX19jYWxsX18obmFtZSxzdHIpKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJuYW1lIG11c3QgYmUgYSBzdHJpbmciKTtpZihib29sKCFib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShjbHMuX19nZXRhdHRyX18oIl9taW5vZmZzZXQiKS5fX2xlX18ob2Zmc2V0KSkmJiR0ZXN0X2l0ZW0ob2Zmc2V0Ll9fbGVfXyhjbHMuX19nZXRhdHRyX18oIl9tYXhvZmZzZXQiKSkpKSkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oIm9mZnNldCBtdXN0IGJlIGEgdGltZWRlbHRhIisiIHN0cmljdGx5IGJldHdlZW4gLXRpbWVkZWx0YShob3Vycz0yNCkgYW5kIisiIHRpbWVkZWx0YShob3Vycz0yNCkuIik7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0ob2Zmc2V0Ll9fZ2V0YXR0cl9fKCJtaWNyb3NlY29uZHMiKS5fX25lX18oTnVtYmVyKDApKSl8fCR0ZXN0X2l0ZW0ob2Zmc2V0Ll9fZ2V0YXR0cl9fKCJzZWNvbmRzIikuX19tb2RfXyhOdW1iZXIoNjApKS5fX25lX18oTnVtYmVyKDApKSkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJvZmZzZXQgbXVzdCBiZSBhIHRpbWVkZWx0YSIrIiByZXByZXNlbnRpbmcgYSB3aG9sZSBudW1iZXIgb2YgbWludXRlcyIpO3JldHVybiBjbHMuX19nZXRhdHRyX18oIl9jcmVhdGUiKS5fX2NhbGxfXyhvZmZzZXQsbmFtZSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KShOb25lKTskY2xhc3MuX19uZXdfXy5fX25hbWVfXz0iX19uZXdfXyI7JGNsYXNzLl9jcmVhdGU9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX2NyZWF0ZSIsYXJndW1lbnRzLFsiY2xzIiwib2Zmc2V0Il0seyJuYW1lIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54YTgxb2Jzdi5fX2RpY3RfXz0kbnM7dmFyIHNlbGY9JGxvY2Fscy5zZWxmPXR6aW5mby5fX2dldGF0dHJfXygiX19uZXdfXyIpLl9fY2FsbF9fKGNscyk7c2VsZi5fX3NldGF0dHJfXygiX29mZnNldCIsb2Zmc2V0KTtzZWxmLl9fc2V0YXR0cl9fKCJfbmFtZSIsbmFtZSk7cmV0dXJuIHNlbGY7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KShOb25lKTskY2xhc3MuX2NyZWF0ZS5fX25hbWVfXz0iX2NyZWF0ZSI7JGNsYXNzLl9fZ2V0aW5pdGFyZ3NfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZ2V0aW5pdGFyZ3NfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiM3d4bjF2eHgiXS5fX2RpY3RfXz0kbnM7InBpY2tsZSBzdXBwb3J0IjtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9uYW1lIik9PT1Ob25lKSlyZXR1cm4gdHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9vZmZzZXQiKV0pO3JldHVybiB0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX29mZnNldCIpLHNlbGYuX19nZXRhdHRyX18oIl9uYW1lIildKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fZ2V0aW5pdGFyZ3NfXy5fX25hbWVfXz0iX19nZXRpbml0YXJnc19fIjskY2xhc3MuX19lcV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19lcV9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucWt3Mmo2bHUuX19kaWN0X189JG5zO2lmKGJvb2wodHlwZS5fX2NhbGxfXyhvdGhlcikuX19uZV9fKHRpbWV6b25lKSkpcmV0dXJuIEZhbHNlO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0IikuX19lcV9fKG90aGVyLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0IikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19lcV9fLl9fbmFtZV9fPSJfX2VxX18iOyRjbGFzcy5fX2hhc2hfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faGFzaF9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnJyNmI3aW94Ll9fZGljdF9fPSRucztyZXR1cm4gaGFzaC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0IikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX19oYXNoX18uX19uYW1lX189Il9faGFzaF9fIjskY2xhc3MuX19yZXByX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3JlcHJfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS50bDhpNnBvMS5fX2RpY3RfXz0kbnM7IkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS5cblxuICAgICAgICA+Pj4gdHogPSB0aW1lem9uZS51dGNcbiAgICAgICAgPj4+IHJlcHIodHopXG4gICAgICAgICdkYXRldGltZS50aW1lem9uZS51dGMnXG4gICAgICAgID4+PiB0eiA9IHRpbWV6b25lKHRpbWVkZWx0YShob3Vycz0tNSksICdFU1QnKVxuICAgICAgICA+Pj4gcmVwcih0eilcbiAgICAgICAgXCJkYXRldGltZS50aW1lem9uZShkYXRldGltZS50aW1lZGVsdGEoLTEsIDY4NDAwKSwgJ0VTVCcpXCJcbiAgICAgICAgIjtpZihib29sKHNlbGY9PT1zZWxmLl9fZ2V0YXR0cl9fKCJ1dGMiKSkpcmV0dXJuICdkYXRldGltZS50aW1lem9uZS51dGMnO2lmKGJvb2woc2VsZi5fX2dldGF0dHJfXygiX25hbWUiKT09PU5vbmUpKXJldHVybiAiJXMoJXIpIi5fX21vZF9fKHR1cGxlKFsnZGF0ZXRpbWUuJy5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0IildKSk7cmV0dXJuICIlcyglciwgJXIpIi5fX21vZF9fKHR1cGxlKFsnZGF0ZXRpbWUuJy5fX2FkZF9fKHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKSxzZWxmLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0Iiksc2VsZi5fX2dldGF0dHJfXygiX25hbWUiKV0pKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9fcmVwcl9fLl9fbmFtZV9fPSJfX3JlcHJfXyI7JGNsYXNzLl9fc3RyX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3N0cl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm9uMGt6dzd0Ll9fZGljdF9fPSRucztyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygidHpuYW1lIikuX19jYWxsX18oTm9uZSk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5fX3N0cl9fLl9fbmFtZV9fPSJfX3N0cl9fIjskY2xhc3MudXRjb2Zmc2V0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidXRjb2Zmc2V0Iixhcmd1bWVudHMsWyJzZWxmIiwiZHQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUueWRoMHJmM2EuX19kaWN0X189JG5zO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGlzaW5zdGFuY2UuX19jYWxsX18oZHQsZGF0ZXRpbWUpKXx8JHRlc3RfaXRlbShkdD09PU5vbmUpKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9vZmZzZXQiKTt0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oInV0Y29mZnNldCgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIrIiBvciBOb25lIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy51dGNvZmZzZXQuX19uYW1lX189InV0Y29mZnNldCI7JGNsYXNzLnR6bmFtZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInR6bmFtZSIsYXJndW1lbnRzLFsic2VsZiIsImR0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnd2ZnhzNmhtLl9fZGljdF9fPSRucztpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShpc2luc3RhbmNlLl9fY2FsbF9fKGR0LGRhdGV0aW1lKSl8fCR0ZXN0X2l0ZW0oZHQ9PT1Ob25lKSkpKXtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9uYW1lIik9PT1Ob25lKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX25hbWVfZnJvbV9vZmZzZXQiKS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfb2Zmc2V0IikpO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbmFtZSIpO310aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oInR6bmFtZSgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIrIiBvciBOb25lIik7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy50em5hbWUuX19uYW1lX189InR6bmFtZSI7JGNsYXNzLmRzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImRzdCIsYXJndW1lbnRzLFsic2VsZiIsImR0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmpseXlldzJrLl9fZGljdF9fPSRucztpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShpc2luc3RhbmNlLl9fY2FsbF9fKGR0LGRhdGV0aW1lKSl8fCR0ZXN0X2l0ZW0oZHQ9PT1Ob25lKSkpKXJldHVybiBOb25lO3Rocm93IFR5cGVFcnJvci5fX2NhbGxfXygiZHN0KCkgYXJndW1lbnQgbXVzdCBiZSBhIGRhdGV0aW1lIGluc3RhbmNlIisiIG9yIE5vbmUiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmRzdC5fX25hbWVfXz0iZHN0IjskY2xhc3MuZnJvbXV0Yz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZyb211dGMiLGFyZ3VtZW50cyxbInNlbGYiLCJkdCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5pZXRtY3Bzcy5fX2RpY3RfXz0kbnM7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKGR0LGRhdGV0aW1lKSkpe2lmKGJvb2woZHQuX19nZXRhdHRyX18oInR6aW5mbyIpIT09c2VsZikpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygiZnJvbXV0YzogZHQudHppbmZvICIrImlzIG5vdCBzZWxmIik7cmV0dXJuIGR0Ll9fYWRkX18oc2VsZi5fX2dldGF0dHJfXygiX29mZnNldCIpKTt9dGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCJmcm9tdXRjKCkgYXJndW1lbnQgbXVzdCBiZSBhIGRhdGV0aW1lIGluc3RhbmNlIisiIG9yIE5vbmUiKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLmZyb211dGMuX19uYW1lX189ImZyb211dGMiOyRjbGFzcy5fbmFtZV9mcm9tX29mZnNldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9uYW1lX2Zyb21fb2Zmc2V0Iixhcmd1bWVudHMsWyJkZWx0YSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5zNTlma3ZqMi5fX2RpY3RfXz0kbnM7aWYoYm9vbChkZWx0YS5fX2x0X18odGltZWRlbHRhLl9fY2FsbF9fKE51bWJlcigwKSkpKSl7dmFyIHNpZ249JGxvY2Fscy5zaWduPSctJzt2YXIgZGVsdGE9JGxvY2Fscy5kZWx0YT1kZWx0YS5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCk7fWVsc2UgdmFyIHNpZ249JGxvY2Fscy5zaWduPScrJzskcmlnaHQ9ZGl2bW9kLl9fY2FsbF9fKGRlbHRhLHRpbWVkZWx0YS5fX2NhbGxfXygkS3coImhvdXJzIixOdW1iZXIoMSkpKSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBob3Vycz0kbG9jYWxzLmhvdXJzPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgcmVzdD0kbG9jYWxzLnJlc3Q9JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBtaW51dGVzPSRsb2NhbHMubWludXRlcz1yZXN0Ll9fZmxvb3JkaXZfXyh0aW1lZGVsdGEuX19jYWxsX18oJEt3KCJtaW51dGVzIixOdW1iZXIoMSkpKSk7cmV0dXJuICdVVEN7fXs6MDJkfTp7OjAyZH0nLl9fZ2V0YXR0cl9fKCJmb3JtYXQiKS5fX2NhbGxfXyhzaWduLGhvdXJzLG1pbnV0ZXMpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX25hbWVfZnJvbV9vZmZzZXQuX19uYW1lX189Il9uYW1lX2Zyb21fb2Zmc2V0IjskY2xhc3MuX25hbWVfZnJvbV9vZmZzZXQ9KCRjbGFzcy5zdGF0aWNtZXRob2QhPT11bmRlZmluZWQ/JGNsYXNzLnN0YXRpY21ldGhvZDpzdGF0aWNtZXRob2QpKCRjbGFzcy5fbmFtZV9mcm9tX29mZnNldCk7cmV0dXJuICRjbGFzczt9KSgpO3ZhciB0aW1lem9uZT0kY2xhc3NfY29uc3RydWN0b3IoInRpbWV6b25lIiwkdGltZXpvbmUsdHppbmZvKTtfX0JSWVRIT05fXy5zY29wZVsiZGF0ZXRpbWUucHkiXS5fX2RpY3RfXy50aW1lem9uZT10aW1lem9uZTtyZXR1cm57X3N0YXRlX2NtcDpfc3RhdGVfY21wLF90dXBsZV9jbXA6X3R1cGxlX2NtcCxNSU5ZRUFSOk1JTllFQVIsTUFYWUVBUjpNQVhZRUFSLF9NQVhPUkRJTkFMOl9NQVhPUkRJTkFMLF9EQVlTX0lOX01PTlRIOl9EQVlTX0lOX01PTlRILF9EQVlTX0JFRk9SRV9NT05USDpfREFZU19CRUZPUkVfTU9OVEgsZGJtOmRibSxfaXNfbGVhcDpfaXNfbGVhcCxfZGF5c19iZWZvcmVfeWVhcjpfZGF5c19iZWZvcmVfeWVhcixfZGF5c19pbl9tb250aDpfZGF5c19pbl9tb250aCxfZGF5c19iZWZvcmVfbW9udGg6X2RheXNfYmVmb3JlX21vbnRoLF95bWQyb3JkOl95bWQyb3JkLF9ESTQwMFk6X0RJNDAwWSxfREkxMDBZOl9ESTEwMFksX0RJNFk6X0RJNFksX29yZDJ5bWQ6X29yZDJ5bWQsX01PTlRITkFNRVM6X01PTlRITkFNRVMsX0RBWU5BTUVTOl9EQVlOQU1FUyxfYnVpbGRfc3RydWN0X3RpbWU6X2J1aWxkX3N0cnVjdF90aW1lLF9mb3JtYXRfdGltZTpfZm9ybWF0X3RpbWUsX3dyYXBfc3RyZnRpbWU6X3dyYXBfc3RyZnRpbWUsX2NhbGxfdHppbmZvX21ldGhvZDpfY2FsbF90emluZm9fbWV0aG9kLF9jaGVja190em5hbWU6X2NoZWNrX3R6bmFtZSxfY2hlY2tfdXRjX29mZnNldDpfY2hlY2tfdXRjX29mZnNldCxfY2hlY2tfZGF0ZV9maWVsZHM6X2NoZWNrX2RhdGVfZmllbGRzLF9jaGVja190aW1lX2ZpZWxkczpfY2hlY2tfdGltZV9maWVsZHMsX2NoZWNrX3R6aW5mb19hcmc6X2NoZWNrX3R6aW5mb19hcmcsX2NtcGVycm9yOl9jbXBlcnJvcix0aW1lZGVsdGE6dGltZWRlbHRhLGRhdGU6ZGF0ZSxfZGF0ZV9jbGFzczpfZGF0ZV9jbGFzcyx0emluZm86dHppbmZvLF90emluZm9fY2xhc3M6X3R6aW5mb19jbGFzcyx0aW1lOnRpbWUsX3RpbWVfY2xhc3M6X3RpbWVfY2xhc3MsZGF0ZXRpbWU6ZGF0ZXRpbWUsX2lzb3dlZWsxbW9uZGF5Ol9pc293ZWVrMW1vbmRheSx0aW1lem9uZTp0aW1lem9uZSxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/sre_compile.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyBjb252ZXJ0IHRlbXBsYXRlIHRvIGludGVybmFsIGZvcm1hdAojCiMgQ29weXJpZ2h0IChjKSAxOTk3LTIwMDEgYnkgU2VjcmV0IExhYnMgQUIuICBBbGwgcmlnaHRzIHJlc2VydmVkLgojCiMgU2VlIHRoZSBzcmUucHkgZmlsZSBmb3IgaW5mb3JtYXRpb24gb24gdXNhZ2UgYW5kIHJlZGlzdHJpYnV0aW9uLgojCgoiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgppbXBvcnQgX3NyZSwgc3lzCmltcG9ydCBzcmVfcGFyc2UKZnJvbSBzcmVfY29uc3RhbnRzIGltcG9ydCAqCgphc3NlcnQgX3NyZS5NQUdJQyA9PSBNQUdJQywgIlNSRSBtb2R1bGUgbWlzbWF0Y2giCgppZiBfc3JlLkNPREVTSVpFID09IDI6CiAgICBNQVhDT0RFID0gNjU1MzUKZWxzZToKICAgIE1BWENPREUgPSAweEZGRkZGRkZGCgpkZWYgX2lkZW50aXR5ZnVuY3Rpb24oeCk6CiAgICByZXR1cm4geAoKX0xJVEVSQUxfQ09ERVMgPSBzZXQoW0xJVEVSQUwsIE5PVF9MSVRFUkFMXSkKX1JFUEVBVElOR19DT0RFUyA9IHNldChbUkVQRUFULCBNSU5fUkVQRUFULCBNQVhfUkVQRUFUXSkKX1NVQ0NFU1NfQ09ERVMgPSBzZXQoW1NVQ0NFU1MsIEZBSUxVUkVdKQpfQVNTRVJUX0NPREVTID0gc2V0KFtBU1NFUlQsIEFTU0VSVF9OT1RdKQoKZGVmIF9jb21waWxlKGNvZGUsIHBhdHRlcm4sIGZsYWdzKToKICAgICMgaW50ZXJuYWw6IGNvbXBpbGUgYSAoc3ViKXBhdHRlcm4KICAgIGVtaXQgPSBjb2RlLmFwcGVuZAogICAgX2xlbiA9IGxlbgogICAgTElURVJBTF9DT0RFUyA9IF9MSVRFUkFMX0NPREVTCiAgICBSRVBFQVRJTkdfQ09ERVMgPSBfUkVQRUFUSU5HX0NPREVTCiAgICBTVUNDRVNTX0NPREVTID0gX1NVQ0NFU1NfQ09ERVMKICAgIEFTU0VSVF9DT0RFUyA9IF9BU1NFUlRfQ09ERVMKICAgIGZvciBvcCwgYXYgaW4gcGF0dGVybjoKICAgICAgICBpZiBvcCBpbiBMSVRFUkFMX0NPREVTOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0lHTk9SRUNBU0U6CiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbT1BfSUdOT1JFW29wXV0pCiAgICAgICAgICAgICAgICBlbWl0KF9zcmUuZ2V0bG93ZXIoYXYsIGZsYWdzKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgICAgICBlbWl0KGF2KQogICAgICAgIGVsaWYgb3AgaXMgSU46CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tPUF9JR05PUkVbb3BdXSkKICAgICAgICAgICAgICAgIGRlZiBmaXh1cChsaXRlcmFsLCBmbGFncz1mbGFncyk6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zcmUuZ2V0bG93ZXIobGl0ZXJhbCwgZmxhZ3MpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbb3BdKQogICAgICAgICAgICAgICAgZml4dXAgPSBfaWRlbnRpdHlmdW5jdGlvbgogICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZV9jaGFyc2V0KGF2LCBmbGFncywgY29kZSwgZml4dXApCiAgICAgICAgICAgIGNvZGVbc2tpcF0gPSBfbGVuKGNvZGUpIC0gc2tpcAogICAgICAgIGVsaWYgb3AgaXMgQU5ZOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0RPVEFMTDoKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tBTllfQUxMXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tBTlldKQogICAgICAgIGVsaWYgb3AgaW4gUkVQRUFUSU5HX0NPREVTOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX1RFTVBMQVRFOgogICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImludGVybmFsOiB1bnN1cHBvcnRlZCB0ZW1wbGF0ZSBvcGVyYXRvciIpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbUkVQRUFUXSkKICAgICAgICAgICAgICAgIHNraXAgPSBfbGVuKGNvZGUpOyBlbWl0KDApCiAgICAgICAgICAgICAgICBlbWl0KGF2WzBdKQogICAgICAgICAgICAgICAgZW1pdChhdlsxXSkKICAgICAgICAgICAgICAgIF9jb21waWxlKGNvZGUsIGF2WzJdLCBmbGFncykKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgICAgIGNvZGVbc2tpcF0gPSBfbGVuKGNvZGUpIC0gc2tpcAogICAgICAgICAgICBlbGlmIF9zaW1wbGUoYXYpIGFuZCBvcCBpcyBub3QgUkVQRUFUOgogICAgICAgICAgICAgICAgaWYgb3AgaXMgTUFYX1JFUEVBVDoKICAgICAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbUkVQRUFUX09ORV0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNSU5fUkVQRUFUX09ORV0pCiAgICAgICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICAgICAgZW1pdChhdlswXSkKICAgICAgICAgICAgICAgIGVtaXQoYXZbMV0pCiAgICAgICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsyXSwgZmxhZ3MpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbU1VDQ0VTU10pCiAgICAgICAgICAgICAgICBjb2RlW3NraXBdID0gX2xlbihjb2RlKSAtIHNraXAKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tSRVBFQVRdKQogICAgICAgICAgICAgICAgc2tpcCA9IF9sZW4oY29kZSk7IGVtaXQoMCkKICAgICAgICAgICAgICAgIGVtaXQoYXZbMF0pCiAgICAgICAgICAgICAgICBlbWl0KGF2WzFdKQogICAgICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMl0sIGZsYWdzKQogICAgICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgICAgICAgICBpZiBvcCBpcyBNQVhfUkVQRUFUOgogICAgICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNQVhfVU5USUxdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbTUlOX1VOVElMXSkKICAgICAgICBlbGlmIG9wIGlzIFNVQlBBVFRFUk46CiAgICAgICAgICAgIGlmIGF2WzBdOgogICAgICAgICAgICAgICAgZW1pdChPUENPREVTW01BUktdKQogICAgICAgICAgICAgICAgZW1pdCgoYXZbMF0tMSkqMikKICAgICAgICAgICAgIyBfY29tcGlsZV9pbmZvKGNvZGUsIGF2WzFdLCBmbGFncykKICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMV0sIGZsYWdzKQogICAgICAgICAgICBpZiBhdlswXToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNQVJLXSkKICAgICAgICAgICAgICAgIGVtaXQoKGF2WzBdLTEpKjIrMSkKICAgICAgICBlbGlmIG9wIGluIFNVQ0NFU1NfQ09ERVM6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgZWxpZiBvcCBpbiBBU1NFUlRfQ09ERVM6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIHNraXAgPSBfbGVuKGNvZGUpOyBlbWl0KDApCiAgICAgICAgICAgIGlmIGF2WzBdID49IDA6CiAgICAgICAgICAgICAgICBlbWl0KDApICMgbG9vayBhaGVhZAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbG8sIGhpID0gYXZbMV0uZ2V0d2lkdGgoKQogICAgICAgICAgICAgICAgaWYgbG8gIT0gaGk6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImxvb2stYmVoaW5kIHJlcXVpcmVzIGZpeGVkLXdpZHRoIHBhdHRlcm4iKQogICAgICAgICAgICAgICAgZW1pdChsbykgIyBsb29rIGJlaGluZAogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsxXSwgZmxhZ3MpCiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgZWxpZiBvcCBpcyBDQUxMOgogICAgICAgICAgICBlbWl0KE9QQ09ERVNbb3BdKQogICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgZWxpZiBvcCBpcyBBVDoKICAgICAgICAgICAgZW1pdChPUENPREVTW29wXSkKICAgICAgICAgICAgaWYgZmxhZ3MgJiBTUkVfRkxBR19NVUxUSUxJTkU6CiAgICAgICAgICAgICAgICBhdiA9IEFUX01VTFRJTElORS5nZXQoYXYsIGF2KQogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0xPQ0FMRToKICAgICAgICAgICAgICAgIGF2ID0gQVRfTE9DQUxFLmdldChhdiwgYXYpCiAgICAgICAgICAgIGVsaWYgZmxhZ3MgJiBTUkVfRkxBR19VTklDT0RFOgogICAgICAgICAgICAgICAgYXYgPSBBVF9VTklDT0RFLmdldChhdiwgYXYpCiAgICAgICAgICAgIGVtaXQoQVRDT0RFU1thdl0pCiAgICAgICAgZWxpZiBvcCBpcyBCUkFOQ0g6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIHRhaWwgPSBbXQogICAgICAgICAgICB0YWlsYXBwZW5kID0gdGFpbC5hcHBlbmQKICAgICAgICAgICAgZm9yIGF2IGluIGF2WzFdOgogICAgICAgICAgICAgICAgc2tpcCA9IF9sZW4oY29kZSk7IGVtaXQoMCkKICAgICAgICAgICAgICAgICMgX2NvbXBpbGVfaW5mbyhjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbSlVNUF0pCiAgICAgICAgICAgICAgICB0YWlsYXBwZW5kKF9sZW4oY29kZSkpOyBlbWl0KDApCiAgICAgICAgICAgICAgICBjb2RlW3NraXBdID0gX2xlbihjb2RlKSAtIHNraXAKICAgICAgICAgICAgZW1pdCgwKSAjIGVuZCBvZiBicmFuY2gKICAgICAgICAgICAgZm9yIHRhaWwgaW4gdGFpbDoKICAgICAgICAgICAgICAgIGNvZGVbdGFpbF0gPSBfbGVuKGNvZGUpIC0gdGFpbAogICAgICAgIGVsaWYgb3AgaXMgQ0FURUdPUlk6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfTE9DQUxFOgogICAgICAgICAgICAgICAgYXYgPSBDSF9MT0NBTEVbYXZdCiAgICAgICAgICAgIGVsaWYgZmxhZ3MgJiBTUkVfRkxBR19VTklDT0RFOgogICAgICAgICAgICAgICAgYXYgPSBDSF9VTklDT0RFW2F2XQogICAgICAgICAgICBlbWl0KENIQ09ERVNbYXZdKQogICAgICAgIGVsaWYgb3AgaXMgR1JPVVBSRUY6CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tPUF9JR05PUkVbb3BdXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIGVtaXQoYXYtMSkKICAgICAgICBlbGlmIG9wIGlzIEdST1VQUkVGX0VYSVNUUzoKICAgICAgICAgICAgZW1pdChPUENPREVTW29wXSkKICAgICAgICAgICAgZW1pdChhdlswXS0xKQogICAgICAgICAgICBza2lweWVzID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsxXSwgZmxhZ3MpCiAgICAgICAgICAgIGlmIGF2WzJdOgogICAgICAgICAgICAgICAgZW1pdChPUENPREVTW0pVTVBdKQogICAgICAgICAgICAgICAgc2tpcG5vID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICAgICAgY29kZVtza2lweWVzXSA9IF9sZW4oY29kZSkgLSBza2lweWVzICsgMQogICAgICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMl0sIGZsYWdzKQogICAgICAgICAgICAgICAgY29kZVtza2lwbm9dID0gX2xlbihjb2RlKSAtIHNraXBubwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29kZVtza2lweWVzXSA9IF9sZW4oY29kZSkgLSBza2lweWVzICsgMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInVuc3VwcG9ydGVkIG9wZXJhbmQgdHlwZSIsIG9wKQoKZGVmIF9jb21waWxlX2NoYXJzZXQoY2hhcnNldCwgZmxhZ3MsIGNvZGUsIGZpeHVwPU5vbmUpOgogICAgIyBjb21waWxlIGNoYXJzZXQgc3VicHJvZ3JhbQogICAgZW1pdCA9IGNvZGUuYXBwZW5kCiAgICBpZiBmaXh1cCBpcyBOb25lOgogICAgICAgIGZpeHVwID0gX2lkZW50aXR5ZnVuY3Rpb24KICAgIGZvciBvcCwgYXYgaW4gX29wdGltaXplX2NoYXJzZXQoY2hhcnNldCwgZml4dXApOgogICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgaWYgb3AgaXMgTkVHQVRFOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICBlbWl0KGZpeHVwKGF2KSkKICAgICAgICBlbGlmIG9wIGlzIFJBTkdFOgogICAgICAgICAgICBlbWl0KGZpeHVwKGF2WzBdKSkKICAgICAgICAgICAgZW1pdChmaXh1cChhdlsxXSkpCiAgICAgICAgZWxpZiBvcCBpcyBDSEFSU0VUOgogICAgICAgICAgICBjb2RlLmV4dGVuZChhdikKICAgICAgICBlbGlmIG9wIGlzIEJJR0NIQVJTRVQ6CiAgICAgICAgICAgIGNvZGUuZXh0ZW5kKGF2KQogICAgICAgIGVsaWYgb3AgaXMgQ0FURUdPUlk6CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfTE9DQUxFOgogICAgICAgICAgICAgICAgZW1pdChDSENPREVTW0NIX0xPQ0FMRVthdl1dKQogICAgICAgICAgICBlbGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgICAgIGVtaXQoQ0hDT0RFU1tDSF9VTklDT0RFW2F2XV0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbWl0KENIQ09ERVNbYXZdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJpbnRlcm5hbDogdW5zdXBwb3J0ZWQgc2V0IG9wZXJhdG9yIikKICAgIGVtaXQoT1BDT0RFU1tGQUlMVVJFXSkKCmRlZiBfb3B0aW1pemVfY2hhcnNldChjaGFyc2V0LCBmaXh1cCk6CiAgICAjIGludGVybmFsOiBvcHRpbWl6ZSBjaGFyYWN0ZXIgc2V0CiAgICBvdXQgPSBbXQogICAgb3V0YXBwZW5kID0gb3V0LmFwcGVuZAogICAgY2hhcm1hcCA9IFswXSoyNTYKICAgIHRyeToKICAgICAgICBmb3Igb3AsIGF2IGluIGNoYXJzZXQ6CiAgICAgICAgICAgIGlmIG9wIGlzIE5FR0FURToKICAgICAgICAgICAgICAgIG91dGFwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgZWxpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgY2hhcm1hcFtmaXh1cChhdildID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIFJBTkdFOgogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoZml4dXAoYXZbMF0pLCBmaXh1cChhdlsxXSkrMSk6CiAgICAgICAgICAgICAgICAgICAgY2hhcm1hcFtpXSA9IDEKICAgICAgICAgICAgZWxpZiBvcCBpcyBDQVRFR09SWToKICAgICAgICAgICAgICAgICMgWFhYOiBjb3VsZCBhcHBlbmQgdG8gY2hhcm1hcCB0YWlsCiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnNldCAjIGNhbm5vdCBjb21wcmVzcwogICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgIyBjaGFyYWN0ZXIgc2V0IGNvbnRhaW5zIHVuaWNvZGUgY2hhcmFjdGVycwogICAgICAgIHJldHVybiBfb3B0aW1pemVfdW5pY29kZShjaGFyc2V0LCBmaXh1cCkKICAgICMgY29tcHJlc3MgY2hhcmFjdGVyIG1hcAogICAgaSA9IHAgPSBuID0gMAogICAgcnVucyA9IFtdCiAgICBydW5zYXBwZW5kID0gcnVucy5hcHBlbmQKICAgIGZvciBjIGluIGNoYXJtYXA6CiAgICAgICAgaWYgYzoKICAgICAgICAgICAgaWYgbiA9PSAwOgogICAgICAgICAgICAgICAgcCA9IGkKICAgICAgICAgICAgbiA9IG4gKyAxCiAgICAgICAgZWxpZiBuOgogICAgICAgICAgICBydW5zYXBwZW5kKChwLCBuKSkKICAgICAgICAgICAgbiA9IDAKICAgICAgICBpID0gaSArIDEKICAgIGlmIG46CiAgICAgICAgcnVuc2FwcGVuZCgocCwgbikpCiAgICBpZiBsZW4ocnVucykgPD0gMjoKICAgICAgICAjIHVzZSBsaXRlcmFsL3JhbmdlCiAgICAgICAgZm9yIHAsIG4gaW4gcnVuczoKICAgICAgICAgICAgaWYgbiA9PSAxOgogICAgICAgICAgICAgICAgb3V0YXBwZW5kKChMSVRFUkFMLCBwKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dGFwcGVuZCgoUkFOR0UsIChwLCBwK24tMSkpKQogICAgICAgIGlmIGxlbihvdXQpIDwgbGVuKGNoYXJzZXQpOgogICAgICAgICAgICByZXR1cm4gb3V0CiAgICBlbHNlOgogICAgICAgICMgdXNlIGJpdG1hcAogICAgICAgIGRhdGEgPSBfbWtfYml0bWFwKGNoYXJtYXApCiAgICAgICAgb3V0YXBwZW5kKChDSEFSU0VULCBkYXRhKSkKICAgICAgICByZXR1cm4gb3V0CiAgICByZXR1cm4gY2hhcnNldAoKZGVmIF9ta19iaXRtYXAoYml0cyk6CiAgICBkYXRhID0gW10KICAgIGRhdGFhcHBlbmQgPSBkYXRhLmFwcGVuZAogICAgaWYgX3NyZS5DT0RFU0laRSA9PSAyOgogICAgICAgIHN0YXJ0ID0gKDEsIDApCiAgICBlbHNlOgogICAgICAgIHN0YXJ0ID0gKDEsIDApCiAgICBtLCB2ID0gc3RhcnQKICAgIGZvciBjIGluIGJpdHM6CiAgICAgICAgaWYgYzoKICAgICAgICAgICAgdiA9IHYgKyBtCiAgICAgICAgbSA9IG0gKyBtCiAgICAgICAgaWYgbSA+IE1BWENPREU6CiAgICAgICAgICAgIGRhdGFhcHBlbmQodikKICAgICAgICAgICAgbSwgdiA9IHN0YXJ0CiAgICByZXR1cm4gZGF0YQoKIyBUbyByZXByZXNlbnQgYSBiaWcgY2hhcnNldCwgZmlyc3QgYSBiaXRtYXAgb2YgYWxsIGNoYXJhY3RlcnMgaW4gdGhlCiMgc2V0IGlzIGNvbnN0cnVjdGVkLiBUaGVuLCB0aGlzIGJpdG1hcCBpcyBzbGljZWQgaW50byBjaHVua3Mgb2YgMjU2CiMgY2hhcmFjdGVycywgZHVwbGljYXRlIGNodW5rcyBhcmUgZWxpbWluYXRlZCwgYW5kIGVhY2ggY2h1bmsgaXMKIyBnaXZlbiBhIG51bWJlci4gSW4gdGhlIGNvbXBpbGVkIGV4cHJlc3Npb24sIHRoZSBjaGFyc2V0IGlzCiMgcmVwcmVzZW50ZWQgYnkgYSAxNi1iaXQgd29yZCBzZXF1ZW5jZSwgY29uc2lzdGluZyBvZiBvbmUgd29yZCBmb3IKIyB0aGUgbnVtYmVyIG9mIGRpZmZlcmVudCBjaHVua3MsIGEgc2VxdWVuY2Ugb2YgMjU2IGJ5dGVzICgxMjggd29yZHMpCiMgb2YgY2h1bmsgbnVtYmVycyBpbmRleGVkIGJ5IHRoZWlyIG9yaWdpbmFsIGNodW5rIHBvc2l0aW9uLCBhbmQgYQojIHNlcXVlbmNlIG9mIGNodW5rcyAoMTYgd29yZHMgZWFjaCkuCgojIENvbXByZXNzaW9uIGlzIG5vcm1hbGx5IGdvb2Q6IGluIGEgdHlwaWNhbCBjaGFyc2V0LCBsYXJnZSByYW5nZXMgb2YKIyBVbmljb2RlIHdpbGwgYmUgZWl0aGVyIGNvbXBsZXRlbHkgZXhjbHVkZWQgKGUuZy4gaWYgb25seSBjeXJpbGxpYwojIGxldHRlcnMgYXJlIHRvIGJlIG1hdGNoZWQpLCBvciBjb21wbGV0ZWx5IGluY2x1ZGVkIChlLmcuIGlmIGxhcmdlCiMgc3VicmFuZ2VzIG9mIEthbmppIG1hdGNoKS4gVGhlc2UgcmFuZ2VzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkKIyBjaHVua3Mgb2YgYWxsIG9uZS1iaXRzIG9yIGFsbCB6ZXJvLWJpdHMuCgojIE1hdGNoaW5nIGNhbiBiZSBhbHNvIGRvbmUgZWZmaWNpZW50bHk6IHRoZSBtb3JlIHNpZ25pZmljYW50IGJ5dGUgb2YKIyB0aGUgVW5pY29kZSBjaGFyYWN0ZXIgaXMgYW4gaW5kZXggaW50byB0aGUgY2h1bmsgbnVtYmVyLCBhbmQgdGhlCiMgbGVzcyBzaWduaWZpY2FudCBieXRlIGlzIGEgYml0IGluZGV4IGluIHRoZSBjaHVuayAoanVzdCBsaWtlIHRoZQojIENIQVJTRVQgbWF0Y2hpbmcpLgoKIyBJbiBVQ1MtNCBtb2RlLCB0aGUgQklHQ0hBUlNFVCBvcGNvZGUgc3RpbGwgc3VwcG9ydHMgb25seSBzdWJzZXRzCiMgb2YgdGhlIGJhc2ljIG11bHRpbGluZ3VhbCBwbGFuZTsgYW4gZWZmaWNpZW50IHJlcHJlc2VudGF0aW9uCiMgZm9yIGFsbCBvZiBVVEYtMTYgaGFzIG5vdCB5ZXQgYmVlbiBkZXZlbG9wZWQuIFRoaXMgbWVhbnMsCiMgaW4gcGFydGljdWxhciwgdGhhdCBuZWdhdGVkIGNoYXJzZXRzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhcwojIGJpZ2NoYXJzZXRzLgoKZGVmIF9vcHRpbWl6ZV91bmljb2RlKGNoYXJzZXQsIGZpeHVwKToKICAgIHRyeToKICAgICAgICBpbXBvcnQgYXJyYXkKICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgICAgICByZXR1cm4gY2hhcnNldAogICAgY2hhcm1hcCA9IFswXSo2NTUzNgogICAgbmVnYXRlID0gMAogICAgdHJ5OgogICAgICAgIGZvciBvcCwgYXYgaW4gY2hhcnNldDoKICAgICAgICAgICAgaWYgb3AgaXMgTkVHQVRFOgogICAgICAgICAgICAgICAgbmVnYXRlID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICBjaGFybWFwW2ZpeHVwKGF2KV0gPSAxCiAgICAgICAgICAgIGVsaWYgb3AgaXMgUkFOR0U6CiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShmaXh1cChhdlswXSksIGZpeHVwKGF2WzFdKSsxKToKICAgICAgICAgICAgICAgICAgICBjaGFybWFwW2ldID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIENBVEVHT1JZOgogICAgICAgICAgICAgICAgIyBYWFg6IGNvdWxkIGV4cGFuZCBjYXRlZ29yeQogICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzZXQgIyBjYW5ub3QgY29tcHJlc3MKICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgICMgbm9uLUJNUCBjaGFyYWN0ZXJzCiAgICAgICAgcmV0dXJuIGNoYXJzZXQKICAgIGlmIG5lZ2F0ZToKICAgICAgICBpZiBzeXMubWF4dW5pY29kZSAhPSA2NTUzNToKICAgICAgICAgICAgIyBYWFg6IG5lZ2F0aW9uIGRvZXMgbm90IHdvcmsgd2l0aCBiaWcgY2hhcnNldHMKICAgICAgICAgICAgcmV0dXJuIGNoYXJzZXQKICAgICAgICBmb3IgaSBpbiByYW5nZSg2NTUzNik6CiAgICAgICAgICAgIGNoYXJtYXBbaV0gPSBub3QgY2hhcm1hcFtpXQogICAgY29tcHMgPSB7fQogICAgbWFwcGluZyA9IFswXSoyNTYKICAgIGJsb2NrID0gMAogICAgZGF0YSA9IFtdCiAgICBmb3IgaSBpbiByYW5nZSgyNTYpOgogICAgICAgIGNodW5rID0gdHVwbGUoY2hhcm1hcFtpKjI1NjooaSsxKSoyNTZdKQogICAgICAgIG5ldyA9IGNvbXBzLnNldGRlZmF1bHQoY2h1bmssIGJsb2NrKQogICAgICAgIG1hcHBpbmdbaV0gPSBuZXcKICAgICAgICBpZiBuZXcgPT0gYmxvY2s6CiAgICAgICAgICAgIGJsb2NrID0gYmxvY2sgKyAxCiAgICAgICAgICAgIGRhdGEgPSBkYXRhICsgX21rX2JpdG1hcChjaHVuaykKICAgIGhlYWRlciA9IFtibG9ja10KICAgIGlmIF9zcmUuQ09ERVNJWkUgPT0gMjoKICAgICAgICBjb2RlID0gJ0gnCiAgICBlbHNlOgogICAgICAgIGNvZGUgPSAnSScKICAgICMgQ29udmVydCBibG9jayBpbmRpY2VzIHRvIGJ5dGUgYXJyYXkgb2YgMjU2IGJ5dGVzCiAgICBtYXBwaW5nID0gYXJyYXkuYXJyYXkoJ2InLCBtYXBwaW5nKS50b2J5dGVzKCkKICAgICMgQ29udmVydCBieXRlIGFycmF5IHRvIHdvcmQgYXJyYXkKICAgIG1hcHBpbmcgPSBhcnJheS5hcnJheShjb2RlLCBtYXBwaW5nKQogICAgYXNzZXJ0IG1hcHBpbmcuaXRlbXNpemUgPT0gX3NyZS5DT0RFU0laRQogICAgYXNzZXJ0IGxlbihtYXBwaW5nKSAqIG1hcHBpbmcuaXRlbXNpemUgPT0gMjU2CiAgICBoZWFkZXIgPSBoZWFkZXIgKyBtYXBwaW5nLnRvbGlzdCgpCiAgICBkYXRhWzA6MF0gPSBoZWFkZXIKICAgIHJldHVybiBbKEJJR0NIQVJTRVQsIGRhdGEpXQoKZGVmIF9zaW1wbGUoYXYpOgogICAgIyBjaGVjayBpZiBhdiBpcyBhICJzaW1wbGUiIG9wZXJhdG9yCiAgICBsbywgaGkgPSBhdlsyXS5nZXR3aWR0aCgpCiAgICBpZiBsbyA9PSAwIGFuZCBoaSA9PSBNQVhSRVBFQVQ6CiAgICAgICAgcmFpc2UgZXJyb3IoIm5vdGhpbmcgdG8gcmVwZWF0IikKICAgIHJldHVybiBsbyA9PSBoaSA9PSAxIGFuZCBhdlsyXVswXVswXSAhPSBTVUJQQVRURVJOCgpkZWYgX2NvbXBpbGVfaW5mbyhjb2RlLCBwYXR0ZXJuLCBmbGFncyk6CiAgICAjIGludGVybmFsOiBjb21waWxlIGFuIGluZm8gYmxvY2suICBpbiB0aGUgY3VycmVudCB2ZXJzaW9uLAogICAgIyB0aGlzIGNvbnRhaW5zIG1pbi9tYXggcGF0dGVybiB3aWR0aCwgYW5kIGFuIG9wdGlvbmFsIGxpdGVyYWwKICAgICMgcHJlZml4IG9yIGEgY2hhcmFjdGVyIG1hcAogICAgbG8sIGhpID0gcGF0dGVybi5nZXR3aWR0aCgpCiAgICBpZiBsbyA9PSAwOgogICAgICAgIHJldHVybiAjIG5vdCB3b3J0aCBpdAogICAgIyBsb29rIGZvciBhIGxpdGVyYWwgcHJlZml4CiAgICBwcmVmaXggPSBbXQogICAgcHJlZml4YXBwZW5kID0gcHJlZml4LmFwcGVuZAogICAgcHJlZml4X3NraXAgPSAwCiAgICBjaGFyc2V0ID0gW10gIyBub3QgdXNlZAogICAgY2hhcnNldGFwcGVuZCA9IGNoYXJzZXQuYXBwZW5kCiAgICBpZiBub3QgKGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRSk6CiAgICAgICAgIyBsb29rIGZvciBsaXRlcmFsIHByZWZpeAogICAgICAgIGZvciBvcCwgYXYgaW4gcGF0dGVybi5kYXRhOgogICAgICAgICAgICBpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgaWYgbGVuKHByZWZpeCkgPT0gcHJlZml4X3NraXA6CiAgICAgICAgICAgICAgICAgICAgcHJlZml4X3NraXAgPSBwcmVmaXhfc2tpcCArIDEKICAgICAgICAgICAgICAgIHByZWZpeGFwcGVuZChhdikKICAgICAgICAgICAgZWxpZiBvcCBpcyBTVUJQQVRURVJOIGFuZCBsZW4oYXZbMV0pID09IDE6CiAgICAgICAgICAgICAgICBvcCwgYXYgPSBhdlsxXVswXQogICAgICAgICAgICAgICAgaWYgb3AgaXMgTElURVJBTDoKICAgICAgICAgICAgICAgICAgICBwcmVmaXhhcHBlbmQoYXYpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICMgaWYgbm8gcHJlZml4LCBsb29rIGZvciBjaGFyc2V0IHByZWZpeAogICAgICAgIGlmIG5vdCBwcmVmaXggYW5kIHBhdHRlcm4uZGF0YToKICAgICAgICAgICAgb3AsIGF2ID0gcGF0dGVybi5kYXRhWzBdCiAgICAgICAgICAgIGlmIG9wIGlzIFNVQlBBVFRFUk4gYW5kIGF2WzFdOgogICAgICAgICAgICAgICAgb3AsIGF2ID0gYXZbMV1bMF0KICAgICAgICAgICAgICAgIGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICAgICAgY2hhcnNldGFwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgICAgIGVsaWYgb3AgaXMgQlJBTkNIOgogICAgICAgICAgICAgICAgICAgIGMgPSBbXQogICAgICAgICAgICAgICAgICAgIGNhcHBlbmQgPSBjLmFwcGVuZAogICAgICAgICAgICAgICAgICAgICNmaXhtZSBicnl0aG9uCiAgICAgICAgICAgICAgICAgICAgX2ZsYWc9VHJ1ZQogICAgICAgICAgICAgICAgICAgIGZvciBwIGluIGF2WzFdOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgcDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnPUZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBvcCwgYXYgPSBwWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXBwZW5kKChvcCwgYXYpKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICAgICAgICAgaWYgX2ZsYWc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSBjCiAgICAgICAgICAgIGVsaWYgb3AgaXMgQlJBTkNIOgogICAgICAgICAgICAgICAgYyA9IFtdCiAgICAgICAgICAgICAgICBjYXBwZW5kID0gYy5hcHBlbmQKICAgICAgICAgICAgICAgICNmaXhtZSBicnl0aG9uCiAgICAgICAgICAgICAgICBfZmxhZz1UcnVlCiAgICAgICAgICAgICAgICBmb3IgcCBpbiBhdlsxXToKICAgICAgICAgICAgICAgICAgICBpZiBub3QgcDoKICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBvcCwgYXYgPSBwWzBdCiAgICAgICAgICAgICAgICAgICAgaWYgb3AgaXMgTElURVJBTDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBfZmxhZz1GYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICAgICBpZiBfZmxhZzoKICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gYwogICAgICAgICAgICBlbGlmIG9wIGlzIElOOgogICAgICAgICAgICAgICAgY2hhcnNldCA9IGF2CgojIyAgICAgaWYgcHJlZml4OgojIyAgICAgICAgIHByaW50ICIqKiogUFJFRklYIiwgcHJlZml4LCBwcmVmaXhfc2tpcAojIyAgICAgaWYgY2hhcnNldDoKIyMgICAgICAgICBwcmludCAiKioqIENIQVJTRVQiLCBjaGFyc2V0CiAgICAjIGFkZCBhbiBpbmZvIGJsb2NrCiAgICBlbWl0ID0gY29kZS5hcHBlbmQKICAgIGVtaXQoT1BDT0RFU1tJTkZPXSkKICAgIHNraXAgPSBsZW4oY29kZSk7IGVtaXQoMCkKICAgICMgbGl0ZXJhbCBmbGFnCiAgICBtYXNrID0gMAogICAgaWYgcHJlZml4OgogICAgICAgIG1hc2sgPSBTUkVfSU5GT19QUkVGSVgKICAgICAgICBpZiBsZW4ocHJlZml4KSA9PSBwcmVmaXhfc2tpcCA9PSBsZW4ocGF0dGVybi5kYXRhKToKICAgICAgICAgICAgbWFzayA9IG1hc2sgKyBTUkVfSU5GT19MSVRFUkFMCiAgICBlbGlmIGNoYXJzZXQ6CiAgICAgICAgbWFzayA9IG1hc2sgKyBTUkVfSU5GT19DSEFSU0VUCiAgICBlbWl0KG1hc2spCiAgICAjIHBhdHRlcm4gbGVuZ3RoCiAgICBpZiBsbyA8IE1BWENPREU6CiAgICAgICAgZW1pdChsbykKICAgIGVsc2U6CiAgICAgICAgZW1pdChNQVhDT0RFKQogICAgICAgIHByZWZpeCA9IHByZWZpeFs6TUFYQ09ERV0KICAgIGlmIGhpIDwgTUFYQ09ERToKICAgICAgICBlbWl0KGhpKQogICAgZWxzZToKICAgICAgICBlbWl0KDApCiAgICAjIGFkZCBsaXRlcmFsIHByZWZpeAogICAgaWYgcHJlZml4OgogICAgICAgIGVtaXQobGVuKHByZWZpeCkpICMgbGVuZ3RoCiAgICAgICAgZW1pdChwcmVmaXhfc2tpcCkgIyBza2lwCiAgICAgICAgY29kZS5leHRlbmQocHJlZml4KQogICAgICAgICMgZ2VuZXJhdGUgb3ZlcmxhcCB0YWJsZQogICAgICAgIHRhYmxlID0gWy0xXSArIChbMF0qbGVuKHByZWZpeCkpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHByZWZpeCkpOgogICAgICAgICAgICB0YWJsZVtpKzFdID0gdGFibGVbaV0rMQogICAgICAgICAgICB3aGlsZSB0YWJsZVtpKzFdID4gMCBhbmQgcHJlZml4W2ldICE9IHByZWZpeFt0YWJsZVtpKzFdLTFdOgogICAgICAgICAgICAgICAgdGFibGVbaSsxXSA9IHRhYmxlW3RhYmxlW2krMV0tMV0rMQogICAgICAgIGNvZGUuZXh0ZW5kKHRhYmxlWzE6XSkgIyBkb24ndCBzdG9yZSBmaXJzdCBlbnRyeQogICAgZWxpZiBjaGFyc2V0OgogICAgICAgIF9jb21waWxlX2NoYXJzZXQoY2hhcnNldCwgZmxhZ3MsIGNvZGUpCiAgICBjb2RlW3NraXBdID0gbGVuKGNvZGUpIC0gc2tpcAoKZGVmIGlzc3RyaW5nKG9iaik6CiAgICByZXR1cm4gaXNpbnN0YW5jZShvYmosIChzdHIsIGJ5dGVzKSkKCmRlZiBfY29kZShwLCBmbGFncyk6CgogICAgZmxhZ3MgPSBwLnBhdHRlcm4uZmxhZ3MgfCBmbGFncwogICAgY29kZSA9IFtdCgogICAgIyBjb21waWxlIGluZm8gYmxvY2sKICAgIF9jb21waWxlX2luZm8oY29kZSwgcCwgZmxhZ3MpCgogICAgIyBjb21waWxlIHRoZSBwYXR0ZXJuCiAgICBfY29tcGlsZShjb2RlLCBwLmRhdGEsIGZsYWdzKQoKICAgIGNvZGUuYXBwZW5kKE9QQ09ERVNbU1VDQ0VTU10pCgogICAgcmV0dXJuIGNvZGUKCmRlZiBjb21waWxlKHAsIGZsYWdzPTApOgogICAgIyBpbnRlcm5hbDogY29udmVydCBwYXR0ZXJuIGxpc3QgdG8gaW50ZXJuYWwgZm9ybWF0CiAgICAKICAgIGlmIGlzc3RyaW5nKHApOgogICAgICAgIHBhdHRlcm4gPSBwCiAgICAgICAgcCA9IHNyZV9wYXJzZS5wYXJzZShwLCBmbGFncykKICAgIGVsc2U6CiAgICAgICAgcGF0dGVybiA9IE5vbmUKCiAgICBjb2RlID0gX2NvZGUocCwgZmxhZ3MpCgogICAgIyBYWFg6IDxmbD4gZ2V0IHJpZCBvZiB0aGlzIGxpbWl0YXRpb24hCiAgICBpZiBwLnBhdHRlcm4uZ3JvdXBzID4gMTAwOgogICAgICAgIHJhaXNlIEFzc2VydGlvbkVycm9yKAogICAgICAgICAgICAic29ycnksIGJ1dCB0aGlzIHZlcnNpb24gb25seSBzdXBwb3J0cyAxMDAgbmFtZWQgZ3JvdXBzIgogICAgICAgICAgICApCgogICAgIyBtYXAgaW4gZWl0aGVyIGRpcmVjdGlvbgogICAgZ3JvdXBpbmRleCA9IHAucGF0dGVybi5ncm91cGRpY3QKICAgIGluZGV4Z3JvdXAgPSBbTm9uZV0gKiBwLnBhdHRlcm4uZ3JvdXBzCiAgICBmb3IgaywgaSBpbiBncm91cGluZGV4Lml0ZW1zKCk6CiAgICAgICAgaW5kZXhncm91cFtpXSA9IGsKCiAgICByZXR1cm4gX3NyZS5jb21waWxlKAogICAgICAgIHBhdHRlcm4sIGZsYWdzIHwgcC5wYXR0ZXJuLmZsYWdzLCBjb2RlLAogICAgICAgIHAucGF0dGVybi5ncm91cHMtMSwKICAgICAgICBncm91cGluZGV4LCBpbmRleGdyb3VwCiAgICAgICAgKQo=',
'/Lib/_collections.py':'IyAiSGlnaCBwZXJmb3JtYW5jZSBkYXRhIHN0cnVjdHVyZXMKIyAiCiMgY29waWVkIGZyb20gcHlweSByZXBvCgojCiMgQ29waWVkIGFuZCBjb21wbGV0ZWQgZnJvbSB0aGUgc2FuZGJveCBvZiBDUHl0aG9uCiMgICAobm9uZGlzdC9zYW5kYm94L2NvbGxlY3Rpb25zL3B5ZGVxdWUucHkgcmV2IDEuMSwgUmF5bW9uZCBIZXR0aW5nZXIpCiMKCmltcG9ydCBvcGVyYXRvcgojdHJ5OgojICAgIGZyb20gdGhyZWFkIGltcG9ydCBnZXRfaWRlbnQgYXMgX3RocmVhZF9pZGVudAojZXhjZXB0IEltcG9ydEVycm9yOgpkZWYgX3RocmVhZF9pZGVudCgpOgogICAgcmV0dXJuIC0xCgoKbiA9IDMwCkxGVExOSyA9IG4KUkdUTE5LID0gbisxCkJMT0NLU0laID0gbisyCgojIFRoZSBkZXF1ZSdzIHNpemUgbGltaXQgaXMgZC5tYXhsZW4uICBUaGUgbGltaXQgY2FuIGJlIHplcm8gb3IgcG9zaXRpdmUsIG9yCiMgTm9uZS4gIEFmdGVyIGFuIGl0ZW0gaXMgYWRkZWQgdG8gYSBkZXF1ZSwgd2UgY2hlY2sgdG8gc2VlIGlmIHRoZSBzaXplIGhhcwojIGdyb3duIHBhc3QgdGhlIGxpbWl0LiBJZiBpdCBoYXMsIHdlIGdldCB0aGUgc2l6ZSBiYWNrIGRvd24gdG8gdGhlIGxpbWl0IGJ5CiMgcG9wcGluZyBhbiBpdGVtIG9mZiBvZiB0aGUgb3Bwb3NpdGUgZW5kLiAgVGhlIG1ldGhvZHMgdGhhdCBjYW4gdHJpZ2dlciB0aGlzCiMgYXJlIGFwcGVuZCgpLCBhcHBlbmRsZWZ0KCksIGV4dGVuZCgpLCBhbmQgZXh0ZW5kbGVmdCgpLgoKY2xhc3MgZGVxdWUob2JqZWN0KToKI2NsYXNzIGRlcXVlOgoKICAgIGRlZiBfX25ld19fKGNscywgaXRlcmFibGU9KCksICphcmdzLCAqKmt3KToKICAgICAgICAjZml4bWUKICAgICAgICAjc2VsZiA9IHN1cGVyKGRlcXVlLCBjbHMpLl9fbmV3X18oY2xzLCAqYXJncywgKiprdykKICAgICAgICBzZWxmPW9iamVjdC5fX25ld19fKGNscywgKmFyZ3MsICoqa3cpCiAgICAgICAgc2VsZi5jbGVhcigpCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19pbml0X18oc2VsZiwgaXRlcmFibGU9KCksIG1heGxlbj1Ob25lKToKICAgICAgICBvYmplY3QuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLmNsZWFyKCkKICAgICAgICBpZiBtYXhsZW4gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIG1heGxlbiA8IDA6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJtYXhsZW4gbXVzdCBiZSBub24tbmVnYXRpdmUiKQogICAgICAgIHNlbGYuX21heGxlbiA9IG1heGxlbgogICAgICAgIGFkZCA9IHNlbGYuYXBwZW5kCiAgICAgICAgZm9yIGVsZW0gaW4gaXRlcmFibGU6CiAgICAgICAgICAgIGFkZChlbGVtKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1heGxlbihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fbWF4bGVuCgogICAgZGVmIGNsZWFyKHNlbGYpOgogICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLmxlZnQgPSBbTm9uZV0gKiBCTE9DS1NJWgogICAgICAgIHNlbGYucmlnaHRuZHggPSBuLy8yICAgIyBwb2ludHMgdG8gbGFzdCB3cml0dGVuIGVsZW1lbnQKICAgICAgICBzZWxmLmxlZnRuZHggPSBuLy8yKzEKICAgICAgICBzZWxmLmxlbmd0aCA9IDAKICAgICAgICBzZWxmLnN0YXRlID0gMAoKICAgIGRlZiBhcHBlbmQoc2VsZiwgeCk6CiAgICAgICAgc2VsZi5zdGF0ZSArPSAxCiAgICAgICAgc2VsZi5yaWdodG5keCArPSAxCiAgICAgICAgaWYgc2VsZi5yaWdodG5keCA9PSBuOgogICAgICAgICAgICBuZXdibG9jayA9IFtOb25lXSAqIEJMT0NLU0laCiAgICAgICAgICAgIHNlbGYucmlnaHRbUkdUTE5LXSA9IG5ld2Jsb2NrCiAgICAgICAgICAgIG5ld2Jsb2NrW0xGVExOS10gPSBzZWxmLnJpZ2h0CiAgICAgICAgICAgIHNlbGYucmlnaHQgPSBuZXdibG9jawogICAgICAgICAgICBzZWxmLnJpZ2h0bmR4ID0gMAogICAgICAgIHNlbGYubGVuZ3RoICs9IDEKICAgICAgICBzZWxmLnJpZ2h0W3NlbGYucmlnaHRuZHhdID0geAogICAgICAgIGlmIHNlbGYubWF4bGVuIGlzIG5vdCBOb25lIGFuZCBzZWxmLmxlbmd0aCA+IHNlbGYubWF4bGVuOgogICAgICAgICAgICBzZWxmLnBvcGxlZnQoKQoKICAgIGRlZiBhcHBlbmRsZWZ0KHNlbGYsIHgpOgogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIHNlbGYubGVmdG5keCAtPSAxCiAgICAgICAgaWYgc2VsZi5sZWZ0bmR4ID09IC0xOgogICAgICAgICAgICBuZXdibG9jayA9IFtOb25lXSAqIEJMT0NLU0laCiAgICAgICAgICAgIHNlbGYubGVmdFtMRlRMTktdID0gbmV3YmxvY2sKICAgICAgICAgICAgbmV3YmxvY2tbUkdUTE5LXSA9IHNlbGYubGVmdAogICAgICAgICAgICBzZWxmLmxlZnQgPSBuZXdibG9jawogICAgICAgICAgICBzZWxmLmxlZnRuZHggPSBuLTEKICAgICAgICBzZWxmLmxlbmd0aCArPSAxCiAgICAgICAgc2VsZi5sZWZ0W3NlbGYubGVmdG5keF0gPSB4CiAgICAgICAgaWYgc2VsZi5tYXhsZW4gaXMgbm90IE5vbmUgYW5kIHNlbGYubGVuZ3RoID4gc2VsZi5tYXhsZW46CiAgICAgICAgICAgIHNlbGYucG9wKCkKCiAgICBkZWYgZXh0ZW5kKHNlbGYsIGl0ZXJhYmxlKToKICAgICAgICBpZiBpdGVyYWJsZSBpcyBzZWxmOgogICAgICAgICAgICBpdGVyYWJsZSA9IGxpc3QoaXRlcmFibGUpCiAgICAgICAgZm9yIGVsZW0gaW4gaXRlcmFibGU6CiAgICAgICAgICAgIHNlbGYuYXBwZW5kKGVsZW0pCgogICAgZGVmIGV4dGVuZGxlZnQoc2VsZiwgaXRlcmFibGUpOgogICAgICAgIGlmIGl0ZXJhYmxlIGlzIHNlbGY6CiAgICAgICAgICAgIGl0ZXJhYmxlID0gbGlzdChpdGVyYWJsZSkKICAgICAgICBmb3IgZWxlbSBpbiBpdGVyYWJsZToKICAgICAgICAgICAgc2VsZi5hcHBlbmRsZWZ0KGVsZW0pCgogICAgZGVmIHBvcChzZWxmKToKICAgICAgICBpZiBzZWxmLmxlZnQgaXMgc2VsZi5yaWdodCBhbmQgc2VsZi5sZWZ0bmR4ID4gc2VsZi5yaWdodG5keDoKICAgICAgICAgICAgI3JhaXNlIEluZGV4RXJyb3IsICJwb3AgZnJvbSBhbiBlbXB0eSBkZXF1ZSIgICMgZG9lcyBub3Qgd29yayBpbiBicnl0aG9uCiAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoInBvcCBmcm9tIGFuIGVtcHR5IGRlcXVlIikKICAgICAgICB4ID0gc2VsZi5yaWdodFtzZWxmLnJpZ2h0bmR4XQogICAgICAgIHNlbGYucmlnaHRbc2VsZi5yaWdodG5keF0gPSBOb25lCiAgICAgICAgc2VsZi5sZW5ndGggLT0gMQogICAgICAgIHNlbGYucmlnaHRuZHggLT0gMQogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIGlmIHNlbGYucmlnaHRuZHggPT0gLTE6CiAgICAgICAgICAgIHByZXZibG9jayA9IHNlbGYucmlnaHRbTEZUTE5LXQogICAgICAgICAgICBpZiBwcmV2YmxvY2sgaXMgTm9uZToKICAgICAgICAgICAgICAgICMgdGhlIGRlcXVlIGhhcyBiZWNvbWUgZW1wdHk7IHJlY2VudGVyIGluc3RlYWQgb2YgZnJlZWluZyBibG9jawogICAgICAgICAgICAgICAgc2VsZi5yaWdodG5keCA9IG4vLzIKICAgICAgICAgICAgICAgIHNlbGYubGVmdG5keCA9IG4vLzIrMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJldmJsb2NrW1JHVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0W0xGVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0ID0gcHJldmJsb2NrCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0bmR4ID0gbi0xCiAgICAgICAgcmV0dXJuIHgKCiAgICBkZWYgcG9wbGVmdChzZWxmKToKICAgICAgICBpZiBzZWxmLmxlZnQgaXMgc2VsZi5yaWdodCBhbmQgc2VsZi5sZWZ0bmR4ID4gc2VsZi5yaWdodG5keDoKICAgICAgICAgICAgI3JhaXNlIEluZGV4RXJyb3IsICJwb3AgZnJvbSBhbiBlbXB0eSBkZXF1ZSIKICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigicG9wIGZyb20gYW4gZW1wdHkgZGVxdWUiKQogICAgICAgIHggPSBzZWxmLmxlZnRbc2VsZi5sZWZ0bmR4XQogICAgICAgIHNlbGYubGVmdFtzZWxmLmxlZnRuZHhdID0gTm9uZQogICAgICAgIHNlbGYubGVuZ3RoIC09IDEKICAgICAgICBzZWxmLmxlZnRuZHggKz0gMQogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIGlmIHNlbGYubGVmdG5keCA9PSBuOgogICAgICAgICAgICBwcmV2YmxvY2sgPSBzZWxmLmxlZnRbUkdUTE5LXQogICAgICAgICAgICBpZiBwcmV2YmxvY2sgaXMgTm9uZToKICAgICAgICAgICAgICAgICMgdGhlIGRlcXVlIGhhcyBiZWNvbWUgZW1wdHk7IHJlY2VudGVyIGluc3RlYWQgb2YgZnJlZWluZyBibG9jawogICAgICAgICAgICAgICAgc2VsZi5yaWdodG5keCA9IG4vLzIKICAgICAgICAgICAgICAgIHNlbGYubGVmdG5keCA9IG4vLzIrMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJldmJsb2NrW0xGVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLmxlZnRbUkdUTE5LXSA9IE5vbmUKICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHByZXZibG9jawogICAgICAgICAgICAgICAgc2VsZi5sZWZ0bmR4ID0gMAogICAgICAgIHJldHVybiB4CgogICAgZGVmIGNvdW50KHNlbGYsIHZhbHVlKToKICAgICAgICBjID0gMAogICAgICAgIGZvciBpdGVtIGluIHNlbGY6CiAgICAgICAgICAgIGlmIGl0ZW0gPT0gdmFsdWU6CiAgICAgICAgICAgICAgICBjICs9IDEKICAgICAgICByZXR1cm4gYwoKICAgIGRlZiByZW1vdmUoc2VsZiwgdmFsdWUpOgogICAgICAgICMgTmVlZCB0byBiZSBkZWZlbnNpdmUgZm9yIG11dGF0aW5nIGNvbXBhcmlzb25zCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYpKToKICAgICAgICAgICAgaWYgc2VsZltpXSA9PSB2YWx1ZToKICAgICAgICAgICAgICAgIGRlbCBzZWxmW2ldCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJkZXF1ZS5yZW1vdmUoeCk6IHggbm90IGluIGRlcXVlIikKCiAgICBkZWYgcm90YXRlKHNlbGYsIG49MSk6CiAgICAgICAgbGVuZ3RoID0gbGVuKHNlbGYpCiAgICAgICAgaWYgbGVuZ3RoID09IDA6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGhhbGZsZW4gPSAobGVuZ3RoKzEpID4+IDEKICAgICAgICBpZiBuID4gaGFsZmxlbiBvciBuIDwgLWhhbGZsZW46CiAgICAgICAgICAgIG4gJT0gbGVuZ3RoCiAgICAgICAgICAgIGlmIG4gPiBoYWxmbGVuOgogICAgICAgICAgICAgICAgbiAtPSBsZW5ndGgKICAgICAgICAgICAgZWxpZiBuIDwgLWhhbGZsZW46CiAgICAgICAgICAgICAgICBuICs9IGxlbmd0aAogICAgICAgIHdoaWxlIG4gPiAwOgogICAgICAgICAgICBzZWxmLmFwcGVuZGxlZnQoc2VsZi5wb3AoKSkKICAgICAgICAgICAgbiAtPSAxCiAgICAgICAgd2hpbGUgbiA8IDA6CiAgICAgICAgICAgIHNlbGYuYXBwZW5kKHNlbGYucG9wbGVmdCgpKQogICAgICAgICAgICBuICs9IDEKCiAgICBkZWYgcmV2ZXJzZShzZWxmKToKICAgICAgICAicmV2ZXJzZSAqSU4gUExBQ0UqIgogICAgICAgIGxlZnRibG9jayA9IHNlbGYubGVmdAogICAgICAgIHJpZ2h0YmxvY2sgPSBzZWxmLnJpZ2h0CiAgICAgICAgbGVmdGluZGV4ID0gc2VsZi5sZWZ0bmR4CiAgICAgICAgcmlnaHRpbmRleCA9IHNlbGYucmlnaHRuZHgKICAgICAgICBmb3IgaSBpbiByYW5nZShzZWxmLmxlbmd0aCAvLyAyKToKICAgICAgICAgICAgIyBWYWxpZGF0ZSB0aGF0IHBvaW50ZXJzIGhhdmVuJ3QgbWV0IGluIHRoZSBtaWRkbGUKICAgICAgICAgICAgYXNzZXJ0IGxlZnRibG9jayAhPSByaWdodGJsb2NrIG9yIGxlZnRpbmRleCA8IHJpZ2h0aW5kZXgKCiAgICAgICAgICAgICMgU3dhcAogICAgICAgICAgICAocmlnaHRibG9ja1tyaWdodGluZGV4XSwgbGVmdGJsb2NrW2xlZnRpbmRleF0pID0gKAogICAgICAgICAgICAgICAgbGVmdGJsb2NrW2xlZnRpbmRleF0sIHJpZ2h0YmxvY2tbcmlnaHRpbmRleF0pCgogICAgICAgICAgICAjIEFkdmFuY2UgbGVmdCBibG9jay9pbmRleCBwYWlyCiAgICAgICAgICAgIGxlZnRpbmRleCArPSAxCiAgICAgICAgICAgIGlmIGxlZnRpbmRleCA9PSBuOgogICAgICAgICAgICAgICAgbGVmdGJsb2NrID0gbGVmdGJsb2NrW1JHVExOS10KICAgICAgICAgICAgICAgIGFzc2VydCBsZWZ0YmxvY2sgaXMgbm90IE5vbmUKICAgICAgICAgICAgICAgIGxlZnRpbmRleCA9IDAKCiAgICAgICAgICAgICMgU3RlcCBiYWNrd2FyZHMgd2l0aCB0aGUgcmlnaHQgYmxvY2svaW5kZXggcGFpcgogICAgICAgICAgICByaWdodGluZGV4IC09IDEKICAgICAgICAgICAgaWYgcmlnaHRpbmRleCA9PSAtMToKICAgICAgICAgICAgICAgIHJpZ2h0YmxvY2sgPSByaWdodGJsb2NrW0xGVExOS10KICAgICAgICAgICAgICAgIGFzc2VydCByaWdodGJsb2NrIGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICByaWdodGluZGV4ID0gbiAtIDEKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgdGhyZWFkbG9jYWxhdHRyID0gJ19fcmVwcicgKyBzdHIoX3RocmVhZF9pZGVudCgpKQogICAgICAgIGlmIHRocmVhZGxvY2FsYXR0ciBpbiBzZWxmLl9fZGljdF9fOgogICAgICAgICAgICByZXR1cm4gJ2RlcXVlKFsuLi5dKScKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl9fZGljdF9fW3RocmVhZGxvY2FsYXR0cl0gPSBUcnVlCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmIHNlbGYubWF4bGVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGVxdWUoJXIsIG1heGxlbj0lcyknICUgKGxpc3Qoc2VsZiksIHNlbGYubWF4bGVuKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2RlcXVlKCVyKScgJSAobGlzdChzZWxmKSwpCiAgICAgICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgICAgICBkZWwgc2VsZi5fX2RpY3RfX1t0aHJlYWRsb2NhbGF0dHJdCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBkZXF1ZV9pdGVyYXRvcihzZWxmLCBzZWxmLl9pdGVyX2ltcGwpCgogICAgZGVmIF9pdGVyX2ltcGwoc2VsZiwgb3JpZ2luYWxfc3RhdGUsIGdpdmV1cCk6CiAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICBibG9jayA9IHNlbGYubGVmdAogICAgICAgIHdoaWxlIGJsb2NrOgogICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICBpZiBibG9jayBpcyBzZWxmLmxlZnQ6CiAgICAgICAgICAgICAgICBsID0gc2VsZi5sZWZ0bmR4CiAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICByID0gc2VsZi5yaWdodG5keCArIDEKICAgICAgICAgICAgZm9yIGVsZW0gaW4gYmxvY2tbbDpyXToKICAgICAgICAgICAgICAgIHlpZWxkIGVsZW0KICAgICAgICAgICAgICAgIGlmIHNlbGYuc3RhdGUgIT0gb3JpZ2luYWxfc3RhdGU6CiAgICAgICAgICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICAgICAgYmxvY2sgPSBibG9ja1tSR1RMTktdCgogICAgZGVmIF9fcmV2ZXJzZWRfXyhzZWxmKToKICAgICAgICByZXR1cm4gZGVxdWVfaXRlcmF0b3Ioc2VsZiwgc2VsZi5fcmV2ZXJzZWRfaW1wbCkKCiAgICBkZWYgX3JldmVyc2VkX2ltcGwoc2VsZiwgb3JpZ2luYWxfc3RhdGUsIGdpdmV1cCk6CiAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICBibG9jayA9IHNlbGYucmlnaHQKICAgICAgICB3aGlsZSBibG9jazoKICAgICAgICAgICAgbCwgciA9IDAsIG4KICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgbCA9IHNlbGYubGVmdG5keAogICAgICAgICAgICBpZiBibG9jayBpcyBzZWxmLnJpZ2h0OgogICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgIGZvciBlbGVtIGluIHJldmVyc2VkKGJsb2NrW2w6cl0pOgogICAgICAgICAgICAgICAgeWllbGQgZWxlbQogICAgICAgICAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgICAgICAgICBnaXZldXAoKQogICAgICAgICAgICBibG9jayA9IGJsb2NrW0xGVExOS10KCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICAjc3VtID0gMAogICAgICAgICNibG9jayA9IHNlbGYubGVmdAogICAgICAgICN3aGlsZSBibG9jazoKICAgICAgICAjICAgIHN1bSArPSBuCiAgICAgICAgIyAgICBibG9jayA9IGJsb2NrW1JHVExOS10KICAgICAgICAjcmV0dXJuIHN1bSArIHNlbGYucmlnaHRuZHggLSBzZWxmLmxlZnRuZHggKyAxIC0gbgogICAgICAgIHJldHVybiBzZWxmLmxlbmd0aAoKICAgIGRlZiBfX2dldHJlZihzZWxmLCBpbmRleCk6CiAgICAgICAgaWYgaW5kZXggPj0gMDoKICAgICAgICAgICAgYmxvY2sgPSBzZWxmLmxlZnQKICAgICAgICAgICAgd2hpbGUgYmxvY2s6CiAgICAgICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgICAgIGwgPSBzZWxmLmxlZnRuZHgKICAgICAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgICAgICBzcGFuID0gci1sCiAgICAgICAgICAgICAgICBpZiBpbmRleCA8IHNwYW46CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrLCBsK2luZGV4CiAgICAgICAgICAgICAgICBpbmRleCAtPSBzcGFuCiAgICAgICAgICAgICAgICBibG9jayA9IGJsb2NrW1JHVExOS10KICAgICAgICBlbHNlOgogICAgICAgICAgICBibG9jayA9IHNlbGYucmlnaHQKICAgICAgICAgICAgd2hpbGUgYmxvY2s6CiAgICAgICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgICAgIGwgPSBzZWxmLmxlZnRuZHgKICAgICAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgICAgICBuZWdhdGl2ZV9zcGFuID0gbC1yCiAgICAgICAgICAgICAgICBpZiBpbmRleCA+PSBuZWdhdGl2ZV9zcGFuOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9jaywgcitpbmRleAogICAgICAgICAgICAgICAgaW5kZXggLT0gbmVnYXRpdmVfc3BhbgogICAgICAgICAgICAgICAgYmxvY2sgPSBibG9ja1tMRlRMTktdCiAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigiZGVxdWUgaW5kZXggb3V0IG9mIHJhbmdlIikKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGJsb2NrLCBpbmRleCA9IHNlbGYuX19nZXRyZWYoaW5kZXgpCiAgICAgICAgcmV0dXJuIGJsb2NrW2luZGV4XQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBpbmRleCwgdmFsdWUpOgogICAgICAgIGJsb2NrLCBpbmRleCA9IHNlbGYuX19nZXRyZWYoaW5kZXgpCiAgICAgICAgYmxvY2tbaW5kZXhdID0gdmFsdWUKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGxlbmd0aCA9IGxlbihzZWxmKQogICAgICAgIGlmIGluZGV4ID49IDA6CiAgICAgICAgICAgIGlmIGluZGV4ID49IGxlbmd0aDoKICAgICAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoImRlcXVlIGluZGV4IG91dCBvZiByYW5nZSIpCiAgICAgICAgICAgIHNlbGYucm90YXRlKC1pbmRleCkKICAgICAgICAgICAgc2VsZi5wb3BsZWZ0KCkKICAgICAgICAgICAgc2VsZi5yb3RhdGUoaW5kZXgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgI2luZGV4ID0gfmluZGV4ICAgICAgI3RvZG8gdW50aWwgYml0IHdpc2Ugb3BlcmF0b3JzIGFyZSBpbiBieXRob24KICAgICAgICAgICAgaW5kZXg9IGluZGV4XigyKiozMSkKICAgICAgICAgICAgaWYgaW5kZXggPj0gbGVuZ3RoOgogICAgICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigiZGVxdWUgaW5kZXggb3V0IG9mIHJhbmdlIikKICAgICAgICAgICAgc2VsZi5yb3RhdGUoaW5kZXgpCiAgICAgICAgICAgIHNlbGYucG9wKCkKICAgICAgICAgICAgc2VsZi5yb3RhdGUoLWluZGV4KQoKICAgIGRlZiBfX3JlZHVjZV9leF9fKHNlbGYsIHByb3RvKToKICAgICAgICByZXR1cm4gdHlwZShzZWxmKSwgKGxpc3Qoc2VsZiksIHNlbGYubWF4bGVuKQoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICAjcmFpc2UgVHlwZUVycm9yLCAiZGVxdWUgb2JqZWN0cyBhcmUgdW5oYXNoYWJsZSIKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImRlcXVlIG9iamVjdHMgYXJlIHVuaGFzaGFibGUiKQoKICAgIGRlZiBfX2NvcHlfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZiwgc2VsZi5tYXhsZW4pCgogICAgIyBYWFggbWFrZSBjb21wYXJpc29uIG1vcmUgZWZmaWNpZW50CiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID09IGxpc3Qob3RoZXIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGVxdWUpOgogICAgICAgICAgICByZXR1cm4gbGlzdChzZWxmKSAhPSBsaXN0KG90aGVyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRlcXVlKToKICAgICAgICAgICAgcmV0dXJuIGxpc3Qoc2VsZikgPCBsaXN0KG90aGVyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRlcXVlKToKICAgICAgICAgICAgcmV0dXJuIGxpc3Qoc2VsZikgPD0gbGlzdChvdGhlcikKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID4gbGlzdChvdGhlcikKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19nZV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID49IGxpc3Qob3RoZXIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9faWFkZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBzZWxmLmV4dGVuZChvdGhlcikKICAgICAgICByZXR1cm4gc2VsZgoKCmNsYXNzIGRlcXVlX2l0ZXJhdG9yKG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRlcSwgaXRlcmdlbik6CiAgICAgICAgc2VsZi5jb3VudGVyID0gbGVuKGRlcSkKICAgICAgICBkZWYgZ2l2ZXVwKCk6CiAgICAgICAgICAgIHNlbGYuY291bnRlciA9IDAKICAgICAgICAgICAgI3JhaXNlIFJ1bnRpbWVFcnJvciwgImRlcXVlIG11dGF0ZWQgZHVyaW5nIGl0ZXJhdGlvbiIKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJkZXF1ZSBtdXRhdGVkIGR1cmluZyBpdGVyYXRpb24iKQogICAgICAgIHNlbGYuX2dlbiA9IGl0ZXJnZW4oZGVxLnN0YXRlLCBnaXZldXApCgogICAgZGVmIG5leHQoc2VsZik6CiAgICAgICAgcmVzID0gIHNlbGYuX2dlbi5uZXh0KCkKICAgICAgICBzZWxmLmNvdW50ZXIgLT0gMQogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCmNsYXNzIGRlZmF1bHRkaWN0KGRpY3QpOgogICAgCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dkcyk6CiAgICAgICAgaWYgbGVuKGFyZ3MpID4gMDoKICAgICAgICAgICAgZGVmYXVsdF9mYWN0b3J5ID0gYXJnc1swXQogICAgICAgICAgICBhcmdzID0gYXJnc1sxOl0KICAgICAgICAgICAgaWYgbm90IGNhbGxhYmxlKGRlZmF1bHRfZmFjdG9yeSkgYW5kIGRlZmF1bHRfZmFjdG9yeSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBjYWxsYWJsZSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGVmYXVsdF9mYWN0b3J5ID0gTm9uZQogICAgICAgIHNlbGY9ZGljdC5fX25ld19fKHNlbGYpICMsIGFyZ3MsIGt3ZHMpICAgIAogICAgICAgIHNlbGYuZGVmYXVsdF9mYWN0b3J5ID0gZGVmYXVsdF9mYWN0b3J5CiAgICAgICAgc2VsZi51cGRhdGUoYXJncywga3dkcykKICAgICAgICAjc3VwZXIoZGVmYXVsdGRpY3QsIHNlbGYpLl9faW5pdF9fKCphcmdzLCAqKmt3ZHMpCgogICAgI2ZpeG1lLi4gIGhhZCB0byBhZGQgdGhpcyBmdW5jdGlvbiB0byBnZXQgZGVmYXVsdGRpY3Qgd29ya2luZyB3aXRoIGJyeXRob24gY29ycmVjdGx5CiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwga2V5KToKICAgICAgICBpZiBzZWxmLl9fY29udGFpbnNfXyhrZXkpOiAgCiAgICAgICAgICAgcmV0dXJuIGRpY3QuX19nZXRpdGVtX18oc2VsZixrZXkpCiAgICAKICAgICAgICByZXR1cm4gc2VsZi5fX21pc3NpbmdfXyhrZXkpCgogICAgZGVmIF9fbWlzc2luZ19fKHNlbGYsIGtleSk6CiAgICAgICAgIyBmcm9tIGRlZmF1bHRkaWN0IGRvY3MKICAgICAgICBpZiBzZWxmLmRlZmF1bHRfZmFjdG9yeSBpcyBOb25lOiAKICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3Ioa2V5KQogICAgICAgIHNlbGZba2V5XSA9IHZhbHVlID0gc2VsZi5kZWZhdWx0X2ZhY3RvcnkoKQogICAgICAgIHJldHVybiB2YWx1ZQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmLCByZWN1cnNlPXNldCgpKToKICAgICAgICBpZiBpZChzZWxmKSBpbiByZWN1cnNlOgogICAgICAgICAgICByZXR1cm4gImRlZmF1bHRkaWN0KC4uLikiCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZWN1cnNlLmFkZChpZChzZWxmKSkKICAgICAgICAgICAgcmV0dXJuICJkZWZhdWx0ZGljdCglcywgJXMpIiAlIChyZXByKHNlbGYuZGVmYXVsdF9mYWN0b3J5KSwgc3VwZXIoZGVmYXVsdGRpY3QsIHNlbGYpLl9fcmVwcl9fKCkpCiAgICAgICAgZmluYWxseToKICAgICAgICAgICAgcmVjdXJzZS5yZW1vdmUoaWQoc2VsZikpCgogICAgZGVmIGNvcHkoc2VsZik6CiAgICAgICAgcmV0dXJuIHR5cGUoc2VsZikoc2VsZi5kZWZhdWx0X2ZhY3RvcnksIHNlbGYpCiAgICAKICAgIGRlZiBfX2NvcHlfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5jb3B5KCkKCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICAjCiAgICAgICAgI19fcmVkdWNlX18gbXVzdCByZXR1cm4gYSA1LXR1cGxlIGFzIGZvbGxvd3M6CiAgICAgICAgIwogICAgICAgICMgICAtIGZhY3RvcnkgZnVuY3Rpb24KICAgICAgICAjICAgLSB0dXBsZSBvZiBhcmdzIGZvciB0aGUgZmFjdG9yeSBmdW5jdGlvbgogICAgICAgICMgICAtIGFkZGl0aW9uYWwgc3RhdGUgKGhlcmUgTm9uZSkKICAgICAgICAjICAgLSBzZXF1ZW5jZSBpdGVyYXRvciAoaGVyZSBOb25lKQogICAgICAgICMgICAtIGRpY3Rpb25hcnkgaXRlcmF0b3IgKHlpZWxkaW5nIHN1Y2Nlc3NpdmUgKGtleSwgdmFsdWUpIHBhaXJzCgogICAgICAgICMgICBUaGlzIEFQSSBpcyB1c2VkIGJ5IHBpY2tsZS5weSBhbmQgY29weS5weS4KICAgICAgICAjCiAgICAgICAgcmV0dXJuICh0eXBlKHNlbGYpLCAoc2VsZi5kZWZhdWx0X2ZhY3RvcnksKSwgTm9uZSwgTm9uZSwgc2VsZi5pdGVyaXRlbXMoKSkK',
'/Lib/dis.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImRpcy5weSJdLl9fZGljdF9fO3ZhciBkaXM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJkaXMiLGFyZ3VtZW50cyxbInNyYyJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5oaWZsM3Npci5fX2RpY3RfXz0kbnM7cmV0dXJuIEpTT2JqZWN0Ll9fY2FsbF9fKF9fQlJZVEhPTl9fLl9fZ2V0YXR0cl9fKCJweTJqcyIpLl9fY2FsbF9fKHNyYykpLl9fZ2V0YXR0cl9fKCJ0b19qcyIpLl9fY2FsbF9fKCk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO2Rpcy5fX25hbWVfXz0iZGlzIjskZ2xvYmFscy5kaXM9ZGlzO3JldHVybntkaXM6ZGlzLF9fZ2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO30sX19zZXRhdHRyX186ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dGhpc1thdHRyXT12YWx1ZTt9fTt9KSgpOw==',
'/Lib/antigravity.py':'aW1wb3J0IHdlYmJyb3dzZXIKaW1wb3J0IGhhc2hsaWIKCndlYmJyb3dzZXIub3BlbigiaHR0cDovL3hrY2QuY29tLzM1My8iKQoKZGVmIGdlb2hhc2gobGF0aXR1ZGUsIGxvbmdpdHVkZSwgZGF0ZWRvdyk6CiAgICAnJydDb21wdXRlIGdlb2hhc2goKSB1c2luZyB0aGUgTXVucm9lIGFsZ29yaXRobS4KCiAgICA+Pj4gZ2VvaGFzaCgzNy40MjE1NDIsIC0xMjIuMDg1NTg5LCBiJzIwMDUtMDUtMjYtMTA0NTguNjgnKQogICAgMzcuODU3NzEzIC0xMjIuNTQ0NTQzCgogICAgJycnCiAgICAjIGh0dHA6Ly94a2NkLmNvbS80MjYvCiAgICBoID0gaGFzaGxpYi5tZDUoZGF0ZWRvdykuaGV4ZGlnZXN0KCkKICAgIHAsIHEgPSBbKCclZicgJSBmbG9hdC5mcm9taGV4KCcwLicgKyB4KSkgZm9yIHggaW4gKGhbOjE2XSwgaFsxNjozMl0pXQogICAgcHJpbnQoJyVkJXMgJWQlcycgJSAobGF0aXR1ZGUsIHBbMTpdLCBsb25naXR1ZGUsIHFbMTpdKSkK',
'/Lib/sys.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbInN5cy5weSJdLl9fZGljdF9fO3ZhciBfX3N0ZG91dF9fPSRnbG9iYWxzLl9fc3Rkb3V0X189Z2V0YXR0ci5fX2NhbGxfXyhkb2MsIiRzdGRvdXQiKTt2YXIgX19zdGRlcnJfXz0kZ2xvYmFscy5fX3N0ZGVycl9fPWdldGF0dHIuX19jYWxsX18oZG9jLCIkc3RkZXJyIik7dmFyIHN0ZG91dD0kZ2xvYmFscy5zdGRvdXQ9Z2V0YXR0ci5fX2NhbGxfXyhkb2MsIiRzdGRvdXQiKTt2YXIgc3RkZXJyPSRnbG9iYWxzLnN0ZGVycj1nZXRhdHRyLl9fY2FsbF9fKGRvYywiJHN0ZGVyciIpO3ZhciBtb2R1bGVzPSRnbG9iYWxzLm1vZHVsZXM9X19CUllUSE9OX18uX19nZXRhdHRyX18oIm1vZHVsZXMiKTt2YXIgaGFzX2xvY2FsX3N0b3JhZ2U9JGdsb2JhbHMuaGFzX2xvY2FsX3N0b3JhZ2U9X19CUllUSE9OX18uX19nZXRhdHRyX18oImhhc19sb2NhbF9zdG9yYWdlIik7dmFyIGhhc19qc29uPSRnbG9iYWxzLmhhc19qc29uPV9fQlJZVEhPTl9fLl9fZ2V0YXR0cl9fKCJoYXNfanNvbiIpO3ZhciB2ZXJzaW9uX2luZm89JGdsb2JhbHMudmVyc2lvbl9pbmZvPV9fQlJZVEhPTl9fLl9fZ2V0YXR0cl9fKCJ2ZXJzaW9uX2luZm8iKTt2YXIgcGF0aD0kZ2xvYmFscy5wYXRoPV9fQlJZVEhPTl9fLl9fZ2V0YXR0cl9fKCJwYXRoIik7dmFyIGJ1aWx0aW5fbW9kdWxlX25hbWVzPSRnbG9iYWxzLmJ1aWx0aW5fbW9kdWxlX25hbWVzPWxpc3QoWydwb3NpeCddKTt2YXIgYnl0ZW9yZGVyPSRnbG9iYWxzLmJ5dGVvcmRlcj0nbGl0dGxlJzt2YXIgbWF4c2l6ZT0kZ2xvYmFscy5tYXhzaXplPU51bWJlcig5MDA3MTk5MjU0NzQwOTkyKTt2YXIgbWF4dW5pY29kZT0kZ2xvYmFscy5tYXh1bmljb2RlPU51bWJlcigxMTE0MTExKTt2YXIgcGxhdGZvcm09JGdsb2JhbHMucGxhdGZvcm09ImJyeXRob24iO3ZhciB3YXJub3B0aW9ucz0kZ2xvYmFscy53YXJub3B0aW9ucz1saXN0KFtdKTt2YXIgJGZsYWdfY2xhc3M9KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7JGNsYXNzLl9faW5pdF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19pbml0X18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZjU1azlvNWYuX19kaWN0X189JG5zO3NlbGYuX19zZXRhdHRyX18oImRlYnVnIixOdW1iZXIoMCkpO3NlbGYuX19zZXRhdHRyX18oImluc3BlY3QiLE51bWJlcigwKSk7c2VsZi5fX3NldGF0dHJfXygiaW50ZXJhY3RpdmUiLE51bWJlcigwKSk7c2VsZi5fX3NldGF0dHJfXygib3B0aW1pemUiLE51bWJlcigwKSk7c2VsZi5fX3NldGF0dHJfXygiZG9udF93cml0ZV9ieXRlY29kZSIsTnVtYmVyKDApKTtzZWxmLl9fc2V0YXR0cl9fKCJub191c2VyX3NpdGUiLE51bWJlcigwKSk7c2VsZi5fX3NldGF0dHJfXygibm9fc2l0ZSIsTnVtYmVyKDApKTtzZWxmLl9fc2V0YXR0cl9fKCJpZ25vcmVfZW52aXJvbm1lbnQiLE51bWJlcigwKSk7c2VsZi5fX3NldGF0dHJfXygidmVyYm9zZSIsTnVtYmVyKDApKTtzZWxmLl9fc2V0YXR0cl9fKCJieXRlc193YXJuaW5nIixOdW1iZXIoMCkpO3NlbGYuX19zZXRhdHRyX18oInF1aWV0IixOdW1iZXIoMCkpO3NlbGYuX19zZXRhdHRyX18oImhhc2hfcmFuZG9taXphdGlvbiIsTnVtYmVyKDEpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9faW5pdF9fLl9fbmFtZV9fPSJfX2luaXRfXyI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciBmbGFnX2NsYXNzPSRjbGFzc19jb25zdHJ1Y3RvcigiZmxhZ19jbGFzcyIsJGZsYWdfY2xhc3MpO19fQlJZVEhPTl9fLnNjb3BlWyJzeXMucHkiXS5fX2RpY3RfXy5mbGFnX2NsYXNzPWZsYWdfY2xhc3M7dmFyIGZsYWdzPSRnbG9iYWxzLmZsYWdzPWZsYWdfY2xhc3MuX19jYWxsX18oKTtyZXR1cm57X19zdGRvdXRfXzpfX3N0ZG91dF9fLF9fc3RkZXJyX186X19zdGRlcnJfXyxzdGRvdXQ6c3Rkb3V0LHN0ZGVycjpzdGRlcnIsbW9kdWxlczptb2R1bGVzLGhhc19sb2NhbF9zdG9yYWdlOmhhc19sb2NhbF9zdG9yYWdlLGhhc19qc29uOmhhc19qc29uLHZlcnNpb25faW5mbzp2ZXJzaW9uX2luZm8scGF0aDpwYXRoLGJ1aWx0aW5fbW9kdWxlX25hbWVzOmJ1aWx0aW5fbW9kdWxlX25hbWVzLGJ5dGVvcmRlcjpieXRlb3JkZXIsbWF4c2l6ZTptYXhzaXplLG1heHVuaWNvZGU6bWF4dW5pY29kZSxwbGF0Zm9ybTpwbGF0Zm9ybSx3YXJub3B0aW9uczp3YXJub3B0aW9ucyxmbGFnX2NsYXNzOmZsYWdfY2xhc3MsZmxhZ3M6ZmxhZ3MsX19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxfX3NldGF0dHJfXzpmdW5jdGlvbihhdHRyLHZhbHVlKXt0aGlzW2F0dHJdPXZhbHVlO319O30pKCk7',
'/Lib/errno.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImVycm5vLnB5Il0uX19kaWN0X187IlRoaXMgbW9kdWxlIG1ha2VzIGF2YWlsYWJsZSBzdGFuZGFyZCBlcnJubyBzeXN0ZW0gc3ltYm9scy5cblxuVGhlIHZhbHVlIG9mIGVhY2ggc3ltYm9sIGlzIHRoZSBjb3JyZXNwb25kaW5nIGludGVnZXIgdmFsdWUsXG5lLmcuLCBvbiBtb3N0IHN5c3RlbXMsIGVycm5vLkVOT0VOVCBlcXVhbHMgdGhlIGludGVnZXIgMi5cblxuVGhlIGRpY3Rpb25hcnkgZXJybm8uZXJyb3Jjb2RlIG1hcHMgbnVtZXJpYyBjb2RlcyB0byBzeW1ib2wgbmFtZXMsXG5lLmcuLCBlcnJuby5lcnJvcmNvZGVbMl0gY291bGQgYmUgdGhlIHN0cmluZyAnRU5PRU5UJy5cblxuU3ltYm9scyB0aGF0IGFyZSBub3QgcmVsZXZhbnQgdG8gdGhlIHVuZGVybHlpbmcgc3lzdGVtIGFyZSBub3QgZGVmaW5lZC5cblxuVG8gbWFwIGVycm9yIGNvZGVzIHRvIGVycm9yIG1lc3NhZ2VzLCB1c2UgdGhlIGZ1bmN0aW9uIG9zLnN0cmVycm9yKCksXG5lLmcuIG9zLnN0cmVycm9yKDIpIGNvdWxkIHJldHVybiAnTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeScuIjt2YXIgRTJCSUc9JGdsb2JhbHMuRTJCSUc9TnVtYmVyKDcpO3ZhciBFQUNDRVM9JGdsb2JhbHMuRUFDQ0VTPU51bWJlcigxMyk7dmFyIEVBRERSSU5VU0U9JGdsb2JhbHMuRUFERFJJTlVTRT1OdW1iZXIoOTgpO3ZhciBFQUREUk5PVEFWQUlMPSRnbG9iYWxzLkVBRERSTk9UQVZBSUw9TnVtYmVyKDk5KTt2YXIgRUFEVj0kZ2xvYmFscy5FQURWPU51bWJlcig2OCk7dmFyIEVBRk5PU1VQUE9SVD0kZ2xvYmFscy5FQUZOT1NVUFBPUlQ9TnVtYmVyKDk3KTt2YXIgRUFHQUlOPSRnbG9iYWxzLkVBR0FJTj1OdW1iZXIoMTEpO3ZhciBFQUxSRUFEWT0kZ2xvYmFscy5FQUxSRUFEWT1OdW1iZXIoMTE0KTt2YXIgRUJBREU9JGdsb2JhbHMuRUJBREU9TnVtYmVyKDUyKTt2YXIgRUJBREY9JGdsb2JhbHMuRUJBREY9TnVtYmVyKDkpO3ZhciBFQkFERkQ9JGdsb2JhbHMuRUJBREZEPU51bWJlcig3Nyk7dmFyIEVCQURNU0c9JGdsb2JhbHMuRUJBRE1TRz1OdW1iZXIoNzQpO3ZhciBFQkFEUj0kZ2xvYmFscy5FQkFEUj1OdW1iZXIoNTMpO3ZhciBFQkFEUlFDPSRnbG9iYWxzLkVCQURSUUM9TnVtYmVyKDU2KTt2YXIgRUJBRFNMVD0kZ2xvYmFscy5FQkFEU0xUPU51bWJlcig1Nyk7dmFyIEVCRk9OVD0kZ2xvYmFscy5FQkZPTlQ9TnVtYmVyKDU5KTt2YXIgRUJVU1k9JGdsb2JhbHMuRUJVU1k9TnVtYmVyKDE2KTt2YXIgRUNISUxEPSRnbG9iYWxzLkVDSElMRD1OdW1iZXIoMTApO3ZhciBFQ0hSTkc9JGdsb2JhbHMuRUNIUk5HPU51bWJlcig0NCk7dmFyIEVDT01NPSRnbG9iYWxzLkVDT01NPU51bWJlcig3MCk7dmFyIEVDT05OQUJPUlRFRD0kZ2xvYmFscy5FQ09OTkFCT1JURUQ9TnVtYmVyKDEwMyk7dmFyIEVDT05OUkVGVVNFRD0kZ2xvYmFscy5FQ09OTlJFRlVTRUQ9TnVtYmVyKDExMSk7dmFyIEVDT05OUkVTRVQ9JGdsb2JhbHMuRUNPTk5SRVNFVD1OdW1iZXIoMTA0KTt2YXIgRURFQURMSz0kZ2xvYmFscy5FREVBRExLPU51bWJlcigzNSk7dmFyIEVERUFETE9DSz0kZ2xvYmFscy5FREVBRExPQ0s9TnVtYmVyKDM1KTt2YXIgRURFU1RBRERSUkVRPSRnbG9iYWxzLkVERVNUQUREUlJFUT1OdW1iZXIoODkpO3ZhciBFRE9NPSRnbG9iYWxzLkVET009TnVtYmVyKDMzKTt2YXIgRURPVERPVD0kZ2xvYmFscy5FRE9URE9UPU51bWJlcig3Myk7dmFyIEVEUVVPVD0kZ2xvYmFscy5FRFFVT1Q9TnVtYmVyKDEyMik7dmFyIEVFWElTVD0kZ2xvYmFscy5FRVhJU1Q9TnVtYmVyKDE3KTt2YXIgRUZBVUxUPSRnbG9iYWxzLkVGQVVMVD1OdW1iZXIoMTQpO3ZhciBFRkJJRz0kZ2xvYmFscy5FRkJJRz1OdW1iZXIoMjcpO3ZhciBFSE9TVERPV049JGdsb2JhbHMuRUhPU1RET1dOPU51bWJlcigxMTIpO3ZhciBFSE9TVFVOUkVBQ0g9JGdsb2JhbHMuRUhPU1RVTlJFQUNIPU51bWJlcigxMTMpO3ZhciBFSURSTT0kZ2xvYmFscy5FSURSTT1OdW1iZXIoNDMpO3ZhciBFSUxTRVE9JGdsb2JhbHMuRUlMU0VRPU51bWJlcig4NCk7dmFyIEVJTlBST0dSRVNTPSRnbG9iYWxzLkVJTlBST0dSRVNTPU51bWJlcigxMTUpO3ZhciBFSU5UUj0kZ2xvYmFscy5FSU5UUj1OdW1iZXIoNCk7dmFyIEVJTlZBTD0kZ2xvYmFscy5FSU5WQUw9TnVtYmVyKDIyKTt2YXIgRUlPPSRnbG9iYWxzLkVJTz1OdW1iZXIoNSk7dmFyIEVJU0NPTk49JGdsb2JhbHMuRUlTQ09OTj1OdW1iZXIoMTA2KTt2YXIgRUlTRElSPSRnbG9iYWxzLkVJU0RJUj1OdW1iZXIoMjEpO3ZhciBFSVNOQU09JGdsb2JhbHMuRUlTTkFNPU51bWJlcigxMjApO3ZhciBFTDJITFQ9JGdsb2JhbHMuRUwySExUPU51bWJlcig1MSk7dmFyIEVMMk5TWU5DPSRnbG9iYWxzLkVMMk5TWU5DPU51bWJlcig0NSk7dmFyIEVMM0hMVD0kZ2xvYmFscy5FTDNITFQ9TnVtYmVyKDQ2KTt2YXIgRUwzUlNUPSRnbG9iYWxzLkVMM1JTVD1OdW1iZXIoNDcpO3ZhciBFTElCQUNDPSRnbG9iYWxzLkVMSUJBQ0M9TnVtYmVyKDc5KTt2YXIgRUxJQkJBRD0kZ2xvYmFscy5FTElCQkFEPU51bWJlcig4MCk7dmFyIEVMSUJFWEVDPSRnbG9iYWxzLkVMSUJFWEVDPU51bWJlcig4Myk7dmFyIEVMSUJNQVg9JGdsb2JhbHMuRUxJQk1BWD1OdW1iZXIoODIpO3ZhciBFTElCU0NOPSRnbG9iYWxzLkVMSUJTQ049TnVtYmVyKDgxKTt2YXIgRUxOUk5HPSRnbG9iYWxzLkVMTlJORz1OdW1iZXIoNDgpO3ZhciBFTE9PUD0kZ2xvYmFscy5FTE9PUD1OdW1iZXIoNDApO3ZhciBFTUZJTEU9JGdsb2JhbHMuRU1GSUxFPU51bWJlcigyNCk7dmFyIEVNTElOSz0kZ2xvYmFscy5FTUxJTks9TnVtYmVyKDMxKTt2YXIgRU1TR1NJWkU9JGdsb2JhbHMuRU1TR1NJWkU9TnVtYmVyKDkwKTt2YXIgRU1VTFRJSE9QPSRnbG9iYWxzLkVNVUxUSUhPUD1OdW1iZXIoNzIpO3ZhciBFTkFNRVRPT0xPTkc9JGdsb2JhbHMuRU5BTUVUT09MT05HPU51bWJlcigzNik7dmFyIEVOQVZBSUw9JGdsb2JhbHMuRU5BVkFJTD1OdW1iZXIoMTE5KTt2YXIgRU5FVERPV049JGdsb2JhbHMuRU5FVERPV049TnVtYmVyKDEwMCk7dmFyIEVORVRSRVNFVD0kZ2xvYmFscy5FTkVUUkVTRVQ9TnVtYmVyKDEwMik7dmFyIEVORVRVTlJFQUNIPSRnbG9iYWxzLkVORVRVTlJFQUNIPU51bWJlcigxMDEpO3ZhciBFTkZJTEU9JGdsb2JhbHMuRU5GSUxFPU51bWJlcigyMyk7dmFyIEVOT0FOTz0kZ2xvYmFscy5FTk9BTk89TnVtYmVyKDU1KTt2YXIgRU5PQlVGUz0kZ2xvYmFscy5FTk9CVUZTPU51bWJlcigxMDUpO3ZhciBFTk9DU0k9JGdsb2JhbHMuRU5PQ1NJPU51bWJlcig1MCk7dmFyIEVOT0RBVEE9JGdsb2JhbHMuRU5PREFUQT1OdW1iZXIoNjEpO3ZhciBFTk9ERVY9JGdsb2JhbHMuRU5PREVWPU51bWJlcigxOSk7dmFyIEVOT0VOVD0kZ2xvYmFscy5FTk9FTlQ9TnVtYmVyKDIpO3ZhciBFTk9FWEVDPSRnbG9iYWxzLkVOT0VYRUM9TnVtYmVyKDgpO3ZhciBFTk9MQ0s9JGdsb2JhbHMuRU5PTENLPU51bWJlcigzNyk7dmFyIEVOT0xJTks9JGdsb2JhbHMuRU5PTElOSz1OdW1iZXIoNjcpO3ZhciBFTk9NRU09JGdsb2JhbHMuRU5PTUVNPU51bWJlcigxMik7dmFyIEVOT01TRz0kZ2xvYmFscy5FTk9NU0c9TnVtYmVyKDQyKTt2YXIgRU5PTkVUPSRnbG9iYWxzLkVOT05FVD1OdW1iZXIoNjQpO3ZhciBFTk9QS0c9JGdsb2JhbHMuRU5PUEtHPU51bWJlcig2NSk7dmFyIEVOT1BST1RPT1BUPSRnbG9iYWxzLkVOT1BST1RPT1BUPU51bWJlcig5Mik7dmFyIEVOT1NQQz0kZ2xvYmFscy5FTk9TUEM9TnVtYmVyKDI4KTt2YXIgRU5PU1I9JGdsb2JhbHMuRU5PU1I9TnVtYmVyKDYzKTt2YXIgRU5PU1RSPSRnbG9iYWxzLkVOT1NUUj1OdW1iZXIoNjApO3ZhciBFTk9TWVM9JGdsb2JhbHMuRU5PU1lTPU51bWJlcigzOCk7dmFyIEVOT1RCTEs9JGdsb2JhbHMuRU5PVEJMSz1OdW1iZXIoMTUpO3ZhciBFTk9UQ09OTj0kZ2xvYmFscy5FTk9UQ09OTj1OdW1iZXIoMTA3KTt2YXIgRU5PVERJUj0kZ2xvYmFscy5FTk9URElSPU51bWJlcigyMCk7dmFyIEVOT1RFTVBUWT0kZ2xvYmFscy5FTk9URU1QVFk9TnVtYmVyKDM5KTt2YXIgRU5PVE5BTT0kZ2xvYmFscy5FTk9UTkFNPU51bWJlcigxMTgpO3ZhciBFTk9UU09DSz0kZ2xvYmFscy5FTk9UU09DSz1OdW1iZXIoODgpO3ZhciBFTk9UVFk9JGdsb2JhbHMuRU5PVFRZPU51bWJlcigyNSk7dmFyIEVOT1RVTklRPSRnbG9iYWxzLkVOT1RVTklRPU51bWJlcig3Nik7dmFyIEVOWElPPSRnbG9iYWxzLkVOWElPPU51bWJlcig2KTt2YXIgRU9QTk9UU1VQUD0kZ2xvYmFscy5FT1BOT1RTVVBQPU51bWJlcig5NSk7dmFyIEVPVkVSRkxPVz0kZ2xvYmFscy5FT1ZFUkZMT1c9TnVtYmVyKDc1KTt2YXIgRVBFUk09JGdsb2JhbHMuRVBFUk09TnVtYmVyKDEpO3ZhciBFUEZOT1NVUFBPUlQ9JGdsb2JhbHMuRVBGTk9TVVBQT1JUPU51bWJlcig5Nik7dmFyIEVQSVBFPSRnbG9iYWxzLkVQSVBFPU51bWJlcigzMik7dmFyIEVQUk9UTz0kZ2xvYmFscy5FUFJPVE89TnVtYmVyKDcxKTt2YXIgRVBST1RPTk9TVVBQT1JUPSRnbG9iYWxzLkVQUk9UT05PU1VQUE9SVD1OdW1iZXIoOTMpO3ZhciBFUFJPVE9UWVBFPSRnbG9iYWxzLkVQUk9UT1RZUEU9TnVtYmVyKDkxKTt2YXIgRVJBTkdFPSRnbG9iYWxzLkVSQU5HRT1OdW1iZXIoMzQpO3ZhciBFUkVNQ0hHPSRnbG9iYWxzLkVSRU1DSEc9TnVtYmVyKDc4KTt2YXIgRVJFTU9URT0kZ2xvYmFscy5FUkVNT1RFPU51bWJlcig2Nik7dmFyIEVSRU1PVEVJTz0kZ2xvYmFscy5FUkVNT1RFSU89TnVtYmVyKDEyMSk7dmFyIEVSRVNUQVJUPSRnbG9iYWxzLkVSRVNUQVJUPU51bWJlcig4NSk7dmFyIEVST0ZTPSRnbG9iYWxzLkVST0ZTPU51bWJlcigzMCk7dmFyIEVTSFVURE9XTj0kZ2xvYmFscy5FU0hVVERPV049TnVtYmVyKDEwOCk7dmFyIEVTT0NLVE5PU1VQUE9SVD0kZ2xvYmFscy5FU09DS1ROT1NVUFBPUlQ9TnVtYmVyKDk0KTt2YXIgRVNQSVBFPSRnbG9iYWxzLkVTUElQRT1OdW1iZXIoMjkpO3ZhciBFU1JDSD0kZ2xvYmFscy5FU1JDSD1OdW1iZXIoMyk7dmFyIEVTUk1OVD0kZ2xvYmFscy5FU1JNTlQ9TnVtYmVyKDY5KTt2YXIgRVNUQUxFPSRnbG9iYWxzLkVTVEFMRT1OdW1iZXIoMTE2KTt2YXIgRVNUUlBJUEU9JGdsb2JhbHMuRVNUUlBJUEU9TnVtYmVyKDg2KTt2YXIgRVRJTUU9JGdsb2JhbHMuRVRJTUU9TnVtYmVyKDYyKTt2YXIgRVRJTUVET1VUPSRnbG9iYWxzLkVUSU1FRE9VVD1OdW1iZXIoMTEwKTt2YXIgRVRPT01BTllSRUZTPSRnbG9iYWxzLkVUT09NQU5ZUkVGUz1OdW1iZXIoMTA5KTt2YXIgRVRYVEJTWT0kZ2xvYmFscy5FVFhUQlNZPU51bWJlcigyNik7dmFyIEVVQ0xFQU49JGdsb2JhbHMuRVVDTEVBTj1OdW1iZXIoMTE3KTt2YXIgRVVOQVRDSD0kZ2xvYmFscy5FVU5BVENIPU51bWJlcig0OSk7dmFyIEVVU0VSUz0kZ2xvYmFscy5FVVNFUlM9TnVtYmVyKDg3KTt2YXIgRVdPVUxEQkxPQ0s9JGdsb2JhbHMuRVdPVUxEQkxPQ0s9TnVtYmVyKDExKTt2YXIgRVhERVY9JGdsb2JhbHMuRVhERVY9TnVtYmVyKDE4KTt2YXIgRVhGVUxMPSRnbG9iYWxzLkVYRlVMTD1OdW1iZXIoNTQpO3JldHVybntFMkJJRzpFMkJJRyxFQUNDRVM6RUFDQ0VTLEVBRERSSU5VU0U6RUFERFJJTlVTRSxFQUREUk5PVEFWQUlMOkVBRERSTk9UQVZBSUwsRUFEVjpFQURWLEVBRk5PU1VQUE9SVDpFQUZOT1NVUFBPUlQsRUFHQUlOOkVBR0FJTixFQUxSRUFEWTpFQUxSRUFEWSxFQkFERTpFQkFERSxFQkFERjpFQkFERixFQkFERkQ6RUJBREZELEVCQURNU0c6RUJBRE1TRyxFQkFEUjpFQkFEUixFQkFEUlFDOkVCQURSUUMsRUJBRFNMVDpFQkFEU0xULEVCRk9OVDpFQkZPTlQsRUJVU1k6RUJVU1ksRUNISUxEOkVDSElMRCxFQ0hSTkc6RUNIUk5HLEVDT01NOkVDT01NLEVDT05OQUJPUlRFRDpFQ09OTkFCT1JURUQsRUNPTk5SRUZVU0VEOkVDT05OUkVGVVNFRCxFQ09OTlJFU0VUOkVDT05OUkVTRVQsRURFQURMSzpFREVBRExLLEVERUFETE9DSzpFREVBRExPQ0ssRURFU1RBRERSUkVROkVERVNUQUREUlJFUSxFRE9NOkVET00sRURPVERPVDpFRE9URE9ULEVEUVVPVDpFRFFVT1QsRUVYSVNUOkVFWElTVCxFRkFVTFQ6RUZBVUxULEVGQklHOkVGQklHLEVIT1NURE9XTjpFSE9TVERPV04sRUhPU1RVTlJFQUNIOkVIT1NUVU5SRUFDSCxFSURSTTpFSURSTSxFSUxTRVE6RUlMU0VRLEVJTlBST0dSRVNTOkVJTlBST0dSRVNTLEVJTlRSOkVJTlRSLEVJTlZBTDpFSU5WQUwsRUlPOkVJTyxFSVNDT05OOkVJU0NPTk4sRUlTRElSOkVJU0RJUixFSVNOQU06RUlTTkFNLEVMMkhMVDpFTDJITFQsRUwyTlNZTkM6RUwyTlNZTkMsRUwzSExUOkVMM0hMVCxFTDNSU1Q6RUwzUlNULEVMSUJBQ0M6RUxJQkFDQyxFTElCQkFEOkVMSUJCQUQsRUxJQkVYRUM6RUxJQkVYRUMsRUxJQk1BWDpFTElCTUFYLEVMSUJTQ046RUxJQlNDTixFTE5STkc6RUxOUk5HLEVMT09QOkVMT09QLEVNRklMRTpFTUZJTEUsRU1MSU5LOkVNTElOSyxFTVNHU0laRTpFTVNHU0laRSxFTVVMVElIT1A6RU1VTFRJSE9QLEVOQU1FVE9PTE9ORzpFTkFNRVRPT0xPTkcsRU5BVkFJTDpFTkFWQUlMLEVORVRET1dOOkVORVRET1dOLEVORVRSRVNFVDpFTkVUUkVTRVQsRU5FVFVOUkVBQ0g6RU5FVFVOUkVBQ0gsRU5GSUxFOkVORklMRSxFTk9BTk86RU5PQU5PLEVOT0JVRlM6RU5PQlVGUyxFTk9DU0k6RU5PQ1NJLEVOT0RBVEE6RU5PREFUQSxFTk9ERVY6RU5PREVWLEVOT0VOVDpFTk9FTlQsRU5PRVhFQzpFTk9FWEVDLEVOT0xDSzpFTk9MQ0ssRU5PTElOSzpFTk9MSU5LLEVOT01FTTpFTk9NRU0sRU5PTVNHOkVOT01TRyxFTk9ORVQ6RU5PTkVULEVOT1BLRzpFTk9QS0csRU5PUFJPVE9PUFQ6RU5PUFJPVE9PUFQsRU5PU1BDOkVOT1NQQyxFTk9TUjpFTk9TUixFTk9TVFI6RU5PU1RSLEVOT1NZUzpFTk9TWVMsRU5PVEJMSzpFTk9UQkxLLEVOT1RDT05OOkVOT1RDT05OLEVOT1RESVI6RU5PVERJUixFTk9URU1QVFk6RU5PVEVNUFRZLEVOT1ROQU06RU5PVE5BTSxFTk9UU09DSzpFTk9UU09DSyxFTk9UVFk6RU5PVFRZLEVOT1RVTklROkVOT1RVTklRLEVOWElPOkVOWElPLEVPUE5PVFNVUFA6RU9QTk9UU1VQUCxFT1ZFUkZMT1c6RU9WRVJGTE9XLEVQRVJNOkVQRVJNLEVQRk5PU1VQUE9SVDpFUEZOT1NVUFBPUlQsRVBJUEU6RVBJUEUsRVBST1RPOkVQUk9UTyxFUFJPVE9OT1NVUFBPUlQ6RVBST1RPTk9TVVBQT1JULEVQUk9UT1RZUEU6RVBST1RPVFlQRSxFUkFOR0U6RVJBTkdFLEVSRU1DSEc6RVJFTUNIRyxFUkVNT1RFOkVSRU1PVEUsRVJFTU9URUlPOkVSRU1PVEVJTyxFUkVTVEFSVDpFUkVTVEFSVCxFUk9GUzpFUk9GUyxFU0hVVERPV046RVNIVVRET1dOLEVTT0NLVE5PU1VQUE9SVDpFU09DS1ROT1NVUFBPUlQsRVNQSVBFOkVTUElQRSxFU1JDSDpFU1JDSCxFU1JNTlQ6RVNSTU5ULEVTVEFMRTpFU1RBTEUsRVNUUlBJUEU6RVNUUlBJUEUsRVRJTUU6RVRJTUUsRVRJTUVET1VUOkVUSU1FRE9VVCxFVE9PTUFOWVJFRlM6RVRPT01BTllSRUZTLEVUWFRCU1k6RVRYVEJTWSxFVUNMRUFOOkVVQ0xFQU4sRVVOQVRDSDpFVU5BVENILEVVU0VSUzpFVVNFUlMsRVdPVUxEQkxPQ0s6RVdPVUxEQkxPQ0ssRVhERVY6RVhERVYsRVhGVUxMOkVYRlVMTCxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/re.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyByZS1jb21wYXRpYmxlIGludGVyZmFjZSBmb3IgdGhlIHNyZSBtYXRjaGluZyBlbmdpbmUKIwojIENvcHlyaWdodCAoYykgMTk5OC0yMDAxIGJ5IFNlY3JldCBMYWJzIEFCLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgdmVyc2lvbiBvZiB0aGUgU1JFIGxpYnJhcnkgY2FuIGJlIHJlZGlzdHJpYnV0ZWQgdW5kZXIgQ05SSSdzCiMgUHl0aG9uIDEuNiBsaWNlbnNlLiAgRm9yIGFueSBvdGhlciB1c2UsIHBsZWFzZSBjb250YWN0IFNlY3JldCBMYWJzCiMgQUIgKGluZm9AcHl0aG9ud2FyZS5jb20pLgojCiMgUG9ydGlvbnMgb2YgdGhpcyBlbmdpbmUgaGF2ZSBiZWVuIGRldmVsb3BlZCBpbiBjb29wZXJhdGlvbiB3aXRoCiMgQ05SSS4gIEhld2xldHQtUGFja2FyZCBwcm92aWRlZCBmdW5kaW5nIGZvciAxLjYgaW50ZWdyYXRpb24gYW5kCiMgb3RoZXIgY29tcGF0aWJpbGl0eSB3b3JrLgojCgpyIiIiU3VwcG9ydCBmb3IgcmVndWxhciBleHByZXNzaW9ucyAoUkUpLgoKVGhpcyBtb2R1bGUgcHJvdmlkZXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoaW5nIG9wZXJhdGlvbnMgc2ltaWxhciB0bwp0aG9zZSBmb3VuZCBpbiBQZXJsLiAgSXQgc3VwcG9ydHMgYm90aCA4LWJpdCBhbmQgVW5pY29kZSBzdHJpbmdzOyBib3RoCnRoZSBwYXR0ZXJuIGFuZCB0aGUgc3RyaW5ncyBiZWluZyBwcm9jZXNzZWQgY2FuIGNvbnRhaW4gbnVsbCBieXRlcyBhbmQKY2hhcmFjdGVycyBvdXRzaWRlIHRoZSBVUyBBU0NJSSByYW5nZS4KClJlZ3VsYXIgZXhwcmVzc2lvbnMgY2FuIGNvbnRhaW4gYm90aCBzcGVjaWFsIGFuZCBvcmRpbmFyeSBjaGFyYWN0ZXJzLgpNb3N0IG9yZGluYXJ5IGNoYXJhY3RlcnMsIGxpa2UgIkEiLCAiYSIsIG9yICIwIiwgYXJlIHRoZSBzaW1wbGVzdApyZWd1bGFyIGV4cHJlc3Npb25zOyB0aGV5IHNpbXBseSBtYXRjaCB0aGVtc2VsdmVzLiAgWW91IGNhbgpjb25jYXRlbmF0ZSBvcmRpbmFyeSBjaGFyYWN0ZXJzLCBzbyBsYXN0IG1hdGNoZXMgdGhlIHN0cmluZyAnbGFzdCcuCgpUaGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGFyZToKICAgICIuIiAgICAgIE1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgYSBuZXdsaW5lLgogICAgIl4iICAgICAgTWF0Y2hlcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZy4KICAgICIkIiAgICAgIE1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgc3RyaW5nIG9yIGp1c3QgYmVmb3JlIHRoZSBuZXdsaW5lIGF0CiAgICAgICAgICAgICB0aGUgZW5kIG9mIHRoZSBzdHJpbmcuCiAgICAiKiIgICAgICBNYXRjaGVzIDAgb3IgbW9yZSAoZ3JlZWR5KSByZXBldGl0aW9ucyBvZiB0aGUgcHJlY2VkaW5nIFJFLgogICAgICAgICAgICAgR3JlZWR5IG1lYW5zIHRoYXQgaXQgd2lsbCBtYXRjaCBhcyBtYW55IHJlcGV0aXRpb25zIGFzIHBvc3NpYmxlLgogICAgIisiICAgICAgTWF0Y2hlcyAxIG9yIG1vcmUgKGdyZWVkeSkgcmVwZXRpdGlvbnMgb2YgdGhlIHByZWNlZGluZyBSRS4KICAgICI/IiAgICAgIE1hdGNoZXMgMCBvciAxIChncmVlZHkpIG9mIHRoZSBwcmVjZWRpbmcgUkUuCiAgICAqPywrPyw/PyBOb24tZ3JlZWR5IHZlcnNpb25zIG9mIHRoZSBwcmV2aW91cyB0aHJlZSBzcGVjaWFsIGNoYXJhY3RlcnMuCiAgICB7bSxufSAgICBNYXRjaGVzIGZyb20gbSB0byBuIHJlcGV0aXRpb25zIG9mIHRoZSBwcmVjZWRpbmcgUkUuCiAgICB7bSxufT8gICBOb24tZ3JlZWR5IHZlcnNpb24gb2YgdGhlIGFib3ZlLgogICAgIlxcIiAgICAgRWl0aGVyIGVzY2FwZXMgc3BlY2lhbCBjaGFyYWN0ZXJzIG9yIHNpZ25hbHMgYSBzcGVjaWFsIHNlcXVlbmNlLgogICAgW10gICAgICAgSW5kaWNhdGVzIGEgc2V0IG9mIGNoYXJhY3RlcnMuCiAgICAgICAgICAgICBBICJeIiBhcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGluZGljYXRlcyBhIGNvbXBsZW1lbnRpbmcgc2V0LgogICAgInwiICAgICAgQXxCLCBjcmVhdGVzIGFuIFJFIHRoYXQgd2lsbCBtYXRjaCBlaXRoZXIgQSBvciBCLgogICAgKC4uLikgICAgTWF0Y2hlcyB0aGUgUkUgaW5zaWRlIHRoZSBwYXJlbnRoZXNlcy4KICAgICAgICAgICAgIFRoZSBjb250ZW50cyBjYW4gYmUgcmV0cmlldmVkIG9yIG1hdGNoZWQgbGF0ZXIgaW4gdGhlIHN0cmluZy4KICAgICg/YWlMbXN1eCkgU2V0IHRoZSBBLCBJLCBMLCBNLCBTLCBVLCBvciBYIGZsYWcgZm9yIHRoZSBSRSAoc2VlIGJlbG93KS4KICAgICg/Oi4uLikgIE5vbi1ncm91cGluZyB2ZXJzaW9uIG9mIHJlZ3VsYXIgcGFyZW50aGVzZXMuCiAgICAoP1A8bmFtZT4uLi4pIFRoZSBzdWJzdHJpbmcgbWF0Y2hlZCBieSB0aGUgZ3JvdXAgaXMgYWNjZXNzaWJsZSBieSBuYW1lLgogICAgKD9QPW5hbWUpICAgICBNYXRjaGVzIHRoZSB0ZXh0IG1hdGNoZWQgZWFybGllciBieSB0aGUgZ3JvdXAgbmFtZWQgbmFtZS4KICAgICg/Iy4uLikgIEEgY29tbWVudDsgaWdub3JlZC4KICAgICg/PS4uLikgIE1hdGNoZXMgaWYgLi4uIG1hdGNoZXMgbmV4dCwgYnV0IGRvZXNuJ3QgY29uc3VtZSB0aGUgc3RyaW5nLgogICAgKD8hLi4uKSAgTWF0Y2hlcyBpZiAuLi4gZG9lc24ndCBtYXRjaCBuZXh0LgogICAgKD88PS4uLikgTWF0Y2hlcyBpZiBwcmVjZWRlZCBieSAuLi4gKG11c3QgYmUgZml4ZWQgbGVuZ3RoKS4KICAgICg/PCEuLi4pIE1hdGNoZXMgaWYgbm90IHByZWNlZGVkIGJ5IC4uLiAobXVzdCBiZSBmaXhlZCBsZW5ndGgpLgogICAgKD8oaWQvbmFtZSl5ZXN8bm8pIE1hdGNoZXMgeWVzIHBhdHRlcm4gaWYgdGhlIGdyb3VwIHdpdGggaWQvbmFtZSBtYXRjaGVkLAogICAgICAgICAgICAgICAgICAgICAgIHRoZSAob3B0aW9uYWwpIG5vIHBhdHRlcm4gb3RoZXJ3aXNlLgoKVGhlIHNwZWNpYWwgc2VxdWVuY2VzIGNvbnNpc3Qgb2YgIlxcIiBhbmQgYSBjaGFyYWN0ZXIgZnJvbSB0aGUgbGlzdApiZWxvdy4gIElmIHRoZSBvcmRpbmFyeSBjaGFyYWN0ZXIgaXMgbm90IG9uIHRoZSBsaXN0LCB0aGVuIHRoZQpyZXN1bHRpbmcgUkUgd2lsbCBtYXRjaCB0aGUgc2Vjb25kIGNoYXJhY3Rlci4KICAgIFxudW1iZXIgIE1hdGNoZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBncm91cCBvZiB0aGUgc2FtZSBudW1iZXIuCiAgICBcQSAgICAgICBNYXRjaGVzIG9ubHkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmcuCiAgICBcWiAgICAgICBNYXRjaGVzIG9ubHkgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLgogICAgXGIgICAgICAgTWF0Y2hlcyB0aGUgZW1wdHkgc3RyaW5nLCBidXQgb25seSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgd29yZC4KICAgIFxCICAgICAgIE1hdGNoZXMgdGhlIGVtcHR5IHN0cmluZywgYnV0IG5vdCBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgd29yZC4KICAgIFxkICAgICAgIE1hdGNoZXMgYW55IGRlY2ltYWwgZGlnaXQ7IGVxdWl2YWxlbnQgdG8gdGhlIHNldCBbMC05XSBpbgogICAgICAgICAgICAgYnl0ZXMgcGF0dGVybnMgb3Igc3RyaW5nIHBhdHRlcm5zIHdpdGggdGhlIEFTQ0lJIGZsYWcuCiAgICAgICAgICAgICBJbiBzdHJpbmcgcGF0dGVybnMgd2l0aG91dCB0aGUgQVNDSUkgZmxhZywgaXQgd2lsbCBtYXRjaCB0aGUgd2hvbGUKICAgICAgICAgICAgIHJhbmdlIG9mIFVuaWNvZGUgZGlnaXRzLgogICAgXEQgICAgICAgTWF0Y2hlcyBhbnkgbm9uLWRpZ2l0IGNoYXJhY3RlcjsgZXF1aXZhbGVudCB0byBbXlxkXS4KICAgIFxzICAgICAgIE1hdGNoZXMgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVyOyBlcXVpdmFsZW50IHRvIFsgXHRcblxyXGZcdl0gaW4KICAgICAgICAgICAgIGJ5dGVzIHBhdHRlcm5zIG9yIHN0cmluZyBwYXR0ZXJucyB3aXRoIHRoZSBBU0NJSSBmbGFnLgogICAgICAgICAgICAgSW4gc3RyaW5nIHBhdHRlcm5zIHdpdGhvdXQgdGhlIEFTQ0lJIGZsYWcsIGl0IHdpbGwgbWF0Y2ggdGhlIHdob2xlCiAgICAgICAgICAgICByYW5nZSBvZiBVbmljb2RlIHdoaXRlc3BhY2UgY2hhcmFjdGVycy4KICAgIFxTICAgICAgIE1hdGNoZXMgYW55IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcjsgZXF1aXZhbGVudCB0byBbXlxzXS4KICAgIFx3ICAgICAgIE1hdGNoZXMgYW55IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXI7IGVxdWl2YWxlbnQgdG8gW2EtekEtWjAtOV9dCiAgICAgICAgICAgICBpbiBieXRlcyBwYXR0ZXJucyBvciBzdHJpbmcgcGF0dGVybnMgd2l0aCB0aGUgQVNDSUkgZmxhZy4KICAgICAgICAgICAgIEluIHN0cmluZyBwYXR0ZXJucyB3aXRob3V0IHRoZSBBU0NJSSBmbGFnLCBpdCB3aWxsIG1hdGNoIHRoZQogICAgICAgICAgICAgcmFuZ2Ugb2YgVW5pY29kZSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyAobGV0dGVycyBwbHVzIGRpZ2l0cwogICAgICAgICAgICAgcGx1cyB1bmRlcnNjb3JlKS4KICAgICAgICAgICAgIFdpdGggTE9DQUxFLCBpdCB3aWxsIG1hdGNoIHRoZSBzZXQgWzAtOV9dIHBsdXMgY2hhcmFjdGVycyBkZWZpbmVkCiAgICAgICAgICAgICBhcyBsZXR0ZXJzIGZvciB0aGUgY3VycmVudCBsb2NhbGUuCiAgICBcVyAgICAgICBNYXRjaGVzIHRoZSBjb21wbGVtZW50IG9mIFx3LgogICAgXFwgICAgICAgTWF0Y2hlcyBhIGxpdGVyYWwgYmFja3NsYXNoLgoKVGhpcyBtb2R1bGUgZXhwb3J0cyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uczoKICAgIG1hdGNoICAgIE1hdGNoIGEgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm4gdG8gdGhlIGJlZ2lubmluZyBvZiBhIHN0cmluZy4KICAgIHNlYXJjaCAgIFNlYXJjaCBhIHN0cmluZyBmb3IgdGhlIHByZXNlbmNlIG9mIGEgcGF0dGVybi4KICAgIHN1YiAgICAgIFN1YnN0aXR1dGUgb2NjdXJyZW5jZXMgb2YgYSBwYXR0ZXJuIGZvdW5kIGluIGEgc3RyaW5nLgogICAgc3VibiAgICAgU2FtZSBhcyBzdWIsIGJ1dCBhbHNvIHJldHVybiB0aGUgbnVtYmVyIG9mIHN1YnN0aXR1dGlvbnMgbWFkZS4KICAgIHNwbGl0ICAgIFNwbGl0IGEgc3RyaW5nIGJ5IHRoZSBvY2N1cnJlbmNlcyBvZiBhIHBhdHRlcm4uCiAgICBmaW5kYWxsICBGaW5kIGFsbCBvY2N1cnJlbmNlcyBvZiBhIHBhdHRlcm4gaW4gYSBzdHJpbmcuCiAgICBmaW5kaXRlciBSZXR1cm4gYW4gaXRlcmF0b3IgeWllbGRpbmcgYSBtYXRjaCBvYmplY3QgZm9yIGVhY2ggbWF0Y2guCiAgICBjb21waWxlICBDb21waWxlIGEgcGF0dGVybiBpbnRvIGEgUmVnZXhPYmplY3QuCiAgICBwdXJnZSAgICBDbGVhciB0aGUgcmVndWxhciBleHByZXNzaW9uIGNhY2hlLgogICAgZXNjYXBlICAgQmFja3NsYXNoIGFsbCBub24tYWxwaGFudW1lcmljcyBpbiBhIHN0cmluZy4KClNvbWUgb2YgdGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSB0YWtlcyBmbGFncyBhcyBvcHRpb25hbCBwYXJhbWV0ZXJzOgogICAgQSAgQVNDSUkgICAgICAgRm9yIHN0cmluZyBwYXR0ZXJucywgbWFrZSBcdywgXFcsIFxiLCBcQiwgXGQsIFxECiAgICAgICAgICAgICAgICAgICBtYXRjaCB0aGUgY29ycmVzcG9uZGluZyBBU0NJSSBjaGFyYWN0ZXIgY2F0ZWdvcmllcwogICAgICAgICAgICAgICAgICAgKHJhdGhlciB0aGFuIHRoZSB3aG9sZSBVbmljb2RlIGNhdGVnb3JpZXMsIHdoaWNoIGlzIHRoZQogICAgICAgICAgICAgICAgICAgZGVmYXVsdCkuCiAgICAgICAgICAgICAgICAgICBGb3IgYnl0ZXMgcGF0dGVybnMsIHRoaXMgZmxhZyBpcyB0aGUgb25seSBhdmFpbGFibGUKICAgICAgICAgICAgICAgICAgIGJlaGF2aW91ciBhbmQgbmVlZG4ndCBiZSBzcGVjaWZpZWQuCiAgICBJICBJR05PUkVDQVNFICBQZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgbWF0Y2hpbmcuCiAgICBMICBMT0NBTEUgICAgICBNYWtlIFx3LCBcVywgXGIsIFxCLCBkZXBlbmRlbnQgb24gdGhlIGN1cnJlbnQgbG9jYWxlLgogICAgTSAgTVVMVElMSU5FICAgIl4iIG1hdGNoZXMgdGhlIGJlZ2lubmluZyBvZiBsaW5lcyAoYWZ0ZXIgYSBuZXdsaW5lKQogICAgICAgICAgICAgICAgICAgYXMgd2VsbCBhcyB0aGUgc3RyaW5nLgogICAgICAgICAgICAgICAgICAgIiQiIG1hdGNoZXMgdGhlIGVuZCBvZiBsaW5lcyAoYmVmb3JlIGEgbmV3bGluZSkgYXMgd2VsbAogICAgICAgICAgICAgICAgICAgYXMgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLgogICAgUyAgRE9UQUxMICAgICAgIi4iIG1hdGNoZXMgYW55IGNoYXJhY3RlciBhdCBhbGwsIGluY2x1ZGluZyB0aGUgbmV3bGluZS4KICAgIFggIFZFUkJPU0UgICAgIElnbm9yZSB3aGl0ZXNwYWNlIGFuZCBjb21tZW50cyBmb3IgbmljZXIgbG9va2luZyBSRSdzLgogICAgVSAgVU5JQ09ERSAgICAgRm9yIGNvbXBhdGliaWxpdHkgb25seS4gSWdub3JlZCBmb3Igc3RyaW5nIHBhdHRlcm5zIChpdAogICAgICAgICAgICAgICAgICAgaXMgdGhlIGRlZmF1bHQpLCBhbmQgZm9yYmlkZGVuIGZvciBieXRlcyBwYXR0ZXJucy4KClRoaXMgbW9kdWxlIGFsc28gZGVmaW5lcyBhbiBleGNlcHRpb24gJ2Vycm9yJy4KCiIiIgoKaW1wb3J0IHN5cwppbXBvcnQgc3JlX2NvbXBpbGUKaW1wb3J0IHNyZV9wYXJzZQojaW1wb3J0IGZ1bmN0b29scwoKIyBwdWJsaWMgc3ltYm9scwpfX2FsbF9fID0gWyAibWF0Y2giLCAic2VhcmNoIiwgInN1YiIsICJzdWJuIiwgInNwbGl0IiwgImZpbmRhbGwiLAogICAgImNvbXBpbGUiLCAicHVyZ2UiLCAidGVtcGxhdGUiLCAiZXNjYXBlIiwgIkEiLCAiSSIsICJMIiwgIk0iLCAiUyIsICJYIiwKICAgICJVIiwgIkFTQ0lJIiwgIklHTk9SRUNBU0UiLCAiTE9DQUxFIiwgIk1VTFRJTElORSIsICJET1RBTEwiLCAiVkVSQk9TRSIsCiAgICAiVU5JQ09ERSIsICJlcnJvciIgXQoKX192ZXJzaW9uX18gPSAiMi4yLjEiCgojIGZsYWdzCkEgPSBBU0NJSSA9IHNyZV9jb21waWxlLlNSRV9GTEFHX0FTQ0lJICMgYXNzdW1lIGFzY2lpICJsb2NhbGUiCkkgPSBJR05PUkVDQVNFID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfSUdOT1JFQ0FTRSAjIGlnbm9yZSBjYXNlCkwgPSBMT0NBTEUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19MT0NBTEUgIyBhc3N1bWUgY3VycmVudCA4LWJpdCBsb2NhbGUKVSA9IFVOSUNPREUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19VTklDT0RFICMgYXNzdW1lIHVuaWNvZGUgImxvY2FsZSIKTSA9IE1VTFRJTElORSA9IHNyZV9jb21waWxlLlNSRV9GTEFHX01VTFRJTElORSAjIG1ha2UgYW5jaG9ycyBsb29rIGZvciBuZXdsaW5lClMgPSBET1RBTEwgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19ET1RBTEwgIyBtYWtlIGRvdCBtYXRjaCBuZXdsaW5lClggPSBWRVJCT1NFID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfVkVSQk9TRSAjIGlnbm9yZSB3aGl0ZXNwYWNlIGFuZCBjb21tZW50cwoKIyBzcmUgZXh0ZW5zaW9ucyAoZXhwZXJpbWVudGFsLCBkb24ndCByZWx5IG9uIHRoZXNlKQpUID0gVEVNUExBVEUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19URU1QTEFURSAjIGRpc2FibGUgYmFja3RyYWNraW5nCkRFQlVHID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfREVCVUcgIyBkdW1wIHBhdHRlcm4gYWZ0ZXIgY29tcGlsYXRpb24KCiMgc3JlIGV4Y2VwdGlvbgplcnJvciA9IHNyZV9jb21waWxlLmVycm9yCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgcHVibGljIGludGVyZmFjZQoKZGVmIG1hdGNoKHBhdHRlcm4sIHN0cmluZywgZmxhZ3M9MCk6CiAgICAiIiJUcnkgdG8gYXBwbHkgdGhlIHBhdHRlcm4gYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmcsIHJldHVybmluZwogICAgYSBtYXRjaCBvYmplY3QsIG9yIE5vbmUgaWYgbm8gbWF0Y2ggd2FzIGZvdW5kLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5tYXRjaChzdHJpbmcpCgpkZWYgc2VhcmNoKHBhdHRlcm4sIHN0cmluZywgZmxhZ3M9MCk6CiAgICAiIiJTY2FuIHRocm91Z2ggc3RyaW5nIGxvb2tpbmcgZm9yIGEgbWF0Y2ggdG8gdGhlIHBhdHRlcm4sIHJldHVybmluZwogICAgYSBtYXRjaCBvYmplY3QsIG9yIE5vbmUgaWYgbm8gbWF0Y2ggd2FzIGZvdW5kLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zZWFyY2goc3RyaW5nKQoKZGVmIHN1YihwYXR0ZXJuLCByZXBsLCBzdHJpbmcsIGNvdW50PTAsIGZsYWdzPTApOgogICAgIiIiUmV0dXJuIHRoZSBzdHJpbmcgb2J0YWluZWQgYnkgcmVwbGFjaW5nIHRoZSBsZWZ0bW9zdAogICAgbm9uLW92ZXJsYXBwaW5nIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuIGluIHN0cmluZyBieSB0aGUKICAgIHJlcGxhY2VtZW50IHJlcGwuICByZXBsIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYSBjYWxsYWJsZTsKICAgIGlmIGEgc3RyaW5nLCBiYWNrc2xhc2ggZXNjYXBlcyBpbiBpdCBhcmUgcHJvY2Vzc2VkLiAgSWYgaXQgaXMKICAgIGEgY2FsbGFibGUsIGl0J3MgcGFzc2VkIHRoZSBtYXRjaCBvYmplY3QgYW5kIG11c3QgcmV0dXJuCiAgICBhIHJlcGxhY2VtZW50IHN0cmluZyB0byBiZSB1c2VkLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zdWIocmVwbCwgc3RyaW5nLCBjb3VudCkKCmRlZiBzdWJuKHBhdHRlcm4sIHJlcGwsIHN0cmluZywgY291bnQ9MCwgZmxhZ3M9MCk6CiAgICAiIiJSZXR1cm4gYSAyLXR1cGxlIGNvbnRhaW5pbmcgKG5ld19zdHJpbmcsIG51bWJlcikuCiAgICBuZXdfc3RyaW5nIGlzIHRoZSBzdHJpbmcgb2J0YWluZWQgYnkgcmVwbGFjaW5nIHRoZSBsZWZ0bW9zdAogICAgbm9uLW92ZXJsYXBwaW5nIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuIGluIHRoZSBzb3VyY2UKICAgIHN0cmluZyBieSB0aGUgcmVwbGFjZW1lbnQgcmVwbC4gIG51bWJlciBpcyB0aGUgbnVtYmVyIG9mCiAgICBzdWJzdGl0dXRpb25zIHRoYXQgd2VyZSBtYWRlLiByZXBsIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYQogICAgY2FsbGFibGU7IGlmIGEgc3RyaW5nLCBiYWNrc2xhc2ggZXNjYXBlcyBpbiBpdCBhcmUgcHJvY2Vzc2VkLgogICAgSWYgaXQgaXMgYSBjYWxsYWJsZSwgaXQncyBwYXNzZWQgdGhlIG1hdGNoIG9iamVjdCBhbmQgbXVzdAogICAgcmV0dXJuIGEgcmVwbGFjZW1lbnQgc3RyaW5nIHRvIGJlIHVzZWQuIiIiCiAgICByZXR1cm4gX2NvbXBpbGUocGF0dGVybiwgZmxhZ3MpLnN1Ym4ocmVwbCwgc3RyaW5nLCBjb3VudCkKCmRlZiBzcGxpdChwYXR0ZXJuLCBzdHJpbmcsIG1heHNwbGl0PTAsIGZsYWdzPTApOgogICAgIiIiU3BsaXQgdGhlIHNvdXJjZSBzdHJpbmcgYnkgdGhlIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuLAogICAgcmV0dXJuaW5nIGEgbGlzdCBjb250YWluaW5nIHRoZSByZXN1bHRpbmcgc3Vic3RyaW5ncy4gIElmCiAgICBjYXB0dXJpbmcgcGFyZW50aGVzZXMgYXJlIHVzZWQgaW4gcGF0dGVybiwgdGhlbiB0aGUgdGV4dCBvZiBhbGwKICAgIGdyb3VwcyBpbiB0aGUgcGF0dGVybiBhcmUgYWxzbyByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSByZXN1bHRpbmcKICAgIGxpc3QuICBJZiBtYXhzcGxpdCBpcyBub256ZXJvLCBhdCBtb3N0IG1heHNwbGl0IHNwbGl0cyBvY2N1ciwKICAgIGFuZCB0aGUgcmVtYWluZGVyIG9mIHRoZSBzdHJpbmcgaXMgcmV0dXJuZWQgYXMgdGhlIGZpbmFsIGVsZW1lbnQKICAgIG9mIHRoZSBsaXN0LiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zcGxpdChzdHJpbmcsIG1heHNwbGl0KQoKZGVmIGZpbmRhbGwocGF0dGVybiwgc3RyaW5nLCBmbGFncz0wKToKICAgICIiIlJldHVybiBhIGxpc3Qgb2YgYWxsIG5vbi1vdmVybGFwcGluZyBtYXRjaGVzIGluIHRoZSBzdHJpbmcuCgogICAgSWYgb25lIG9yIG1vcmUgY2FwdHVyaW5nIGdyb3VwcyBhcmUgcHJlc2VudCBpbiB0aGUgcGF0dGVybiwgcmV0dXJuCiAgICBhIGxpc3Qgb2YgZ3JvdXBzOyB0aGlzIHdpbGwgYmUgYSBsaXN0IG9mIHR1cGxlcyBpZiB0aGUgcGF0dGVybgogICAgaGFzIG1vcmUgdGhhbiBvbmUgZ3JvdXAuCgogICAgRW1wdHkgbWF0Y2hlcyBhcmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdC4iIiIKICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncykuZmluZGFsbChzdHJpbmcpCgojaWYgc3lzLmhleHZlcnNpb24gPj0gMHgwMjAyMDAwMDoKaWYgMToKICAgIF9fYWxsX18uYXBwZW5kKCJmaW5kaXRlciIpCiAgICBkZWYgZmluZGl0ZXIocGF0dGVybiwgc3RyaW5nLCBmbGFncz0wKToKICAgICAgICAiIiJSZXR1cm4gYW4gaXRlcmF0b3Igb3ZlciBhbGwgbm9uLW92ZXJsYXBwaW5nIG1hdGNoZXMgaW4gdGhlCiAgICAgICAgc3RyaW5nLiAgRm9yIGVhY2ggbWF0Y2gsIHRoZSBpdGVyYXRvciByZXR1cm5zIGEgbWF0Y2ggb2JqZWN0LgoKICAgICAgICBFbXB0eSBtYXRjaGVzIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LiIiIgogICAgICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncykuZmluZGl0ZXIoc3RyaW5nKQoKZGVmIGNvbXBpbGUocGF0dGVybiwgZmxhZ3M9MCk6CiAgICAiQ29tcGlsZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuLCByZXR1cm5pbmcgYSBwYXR0ZXJuIG9iamVjdC4iCiAgICByZXR1cm4gX2NvbXBpbGUocGF0dGVybiwgZmxhZ3MpCgpkZWYgcHVyZ2UoKToKICAgICJDbGVhciB0aGUgcmVndWxhciBleHByZXNzaW9uIGNhY2hlcyIKICAgIF9jb21waWxlX3R5cGVkLmNhY2hlX2NsZWFyKCkKICAgIF9jb21waWxlX3JlcGwuY2FjaGVfY2xlYXIoKQoKZGVmIHRlbXBsYXRlKHBhdHRlcm4sIGZsYWdzPTApOgogICAgIkNvbXBpbGUgYSB0ZW1wbGF0ZSBwYXR0ZXJuLCByZXR1cm5pbmcgYSBwYXR0ZXJuIG9iamVjdCIKICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFnc3xUKQoKX2FscGhhbnVtX3N0ciA9IGZyb3plbnNldCgKICAgICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OTAiKQojZml4bWUgcHl0aG9uCiNfYWxwaGFudW1fYnl0ZXMgPSBmcm96ZW5zZXQoCiMgICAgYiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OTAiKQpfYWxwaGFudW1fYnl0ZXMgPSBmcm96ZW5zZXQoCiAgICAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkwIikKCmRlZiBlc2NhcGUocGF0dGVybik6CiAgICAiRXNjYXBlIGFsbCBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgaW4gcGF0dGVybi4iCiAgICBpZiBpc2luc3RhbmNlKHBhdHRlcm4sIHN0cik6CiAgICAgICAgYWxwaGFudW0gPSBfYWxwaGFudW1fc3RyCiAgICAgICAgcyA9IGxpc3QocGF0dGVybikKICAgICAgICBmb3IgaSwgYyBpbiBlbnVtZXJhdGUocGF0dGVybik6CiAgICAgICAgICAgIGlmIGMgbm90IGluIGFscGhhbnVtOgogICAgICAgICAgICAgICAgaWYgYyA9PSAiXDAwMCI6CiAgICAgICAgICAgICAgICAgICAgc1tpXSA9ICJcXDAwMCIKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc1tpXSA9ICJcXCIgKyBjCiAgICAgICAgcmV0dXJuICIiLmpvaW4ocykKICAgIGVsc2U6CiAgICAgICAgYWxwaGFudW0gPSBfYWxwaGFudW1fYnl0ZXMKICAgICAgICBzID0gW10KICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICNlc2MgPSBvcmQoYiJcXCIpCiAgICAgICAgZXNjID0gb3JkKCJcXCIpCiAgICAgICAgZm9yIGMgaW4gcGF0dGVybjoKICAgICAgICAgICAgaWYgYyBpbiBhbHBoYW51bToKICAgICAgICAgICAgICAgIHMuYXBwZW5kKGMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBjID09IDA6CiAgICAgICAgICAgICAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAgICAgICAgICAgICAjcy5leHRlbmQoYiJcXDAwMCIpCiAgICAgICAgICAgICAgICAgICAgcy5leHRlbmQoIlxcMDAwIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcy5hcHBlbmQoZXNjKQogICAgICAgICAgICAgICAgICAgIHMuYXBwZW5kKGMpCiAgICAgICAgcmV0dXJuIGJ5dGVzKHMpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgaW50ZXJuYWxzCgpfcGF0dGVybl90eXBlID0gdHlwZShzcmVfY29tcGlsZS5jb21waWxlKCIiLCAwKSkKCmRlZiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncyk6CiAgICByZXR1cm4gX2NvbXBpbGVfdHlwZWQodHlwZShwYXR0ZXJuKSwgcGF0dGVybiwgZmxhZ3MpCgojZml4bWUgYnJ5dGhvbgojQGZ1bmN0b29scy5scnVfY2FjaGUobWF4c2l6ZT01MDApCmRlZiBfY29tcGlsZV90eXBlZCh0ZXh0X2J5dGVzX3R5cGUsIHBhdHRlcm4sIGZsYWdzKToKICAgICMgaW50ZXJuYWw6IGNvbXBpbGUgcGF0dGVybgogICAgaWYgaXNpbnN0YW5jZShwYXR0ZXJuLCBfcGF0dGVybl90eXBlKToKICAgICAgICBpZiBmbGFnczoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJDYW5ub3QgcHJvY2VzcyBmbGFncyBhcmd1bWVudCB3aXRoIGEgY29tcGlsZWQgcGF0dGVybiIpCiAgICAgICAgcmV0dXJuIHBhdHRlcm4KICAgIGlmIG5vdCBzcmVfY29tcGlsZS5pc3N0cmluZyhwYXR0ZXJuKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgc3RyaW5nIG9yIGNvbXBpbGVkIHBhdHRlcm4iKQogICAgcmV0dXJuIHNyZV9jb21waWxlLmNvbXBpbGUocGF0dGVybiwgZmxhZ3MpCgojZml4bWUgYnJ5dGhvbgojQGZ1bmN0b29scy5scnVfY2FjaGUobWF4c2l6ZT01MDApCmRlZiBfY29tcGlsZV9yZXBsKHJlcGwsIHBhdHRlcm4pOgogICAgIyBpbnRlcm5hbDogY29tcGlsZSByZXBsYWNlbWVudCBwYXR0ZXJuCiAgICByZXR1cm4gc3JlX3BhcnNlLnBhcnNlX3RlbXBsYXRlKHJlcGwsIHBhdHRlcm4pCgpkZWYgX2V4cGFuZChwYXR0ZXJuLCBtYXRjaCwgdGVtcGxhdGUpOgogICAgIyBpbnRlcm5hbDogbWF0Y2guZXhwYW5kIGltcGxlbWVudGF0aW9uIGhvb2sKICAgIHRlbXBsYXRlID0gc3JlX3BhcnNlLnBhcnNlX3RlbXBsYXRlKHRlbXBsYXRlLCBwYXR0ZXJuKQogICAgcmV0dXJuIHNyZV9wYXJzZS5leHBhbmRfdGVtcGxhdGUodGVtcGxhdGUsIG1hdGNoKQoKZGVmIF9zdWJ4KHBhdHRlcm4sIHRlbXBsYXRlKToKICAgICMgaW50ZXJuYWw6IHBhdHRlcm4uc3ViL3N1Ym4gaW1wbGVtZW50YXRpb24gaGVscGVyCiAgICB0ZW1wbGF0ZSA9IF9jb21waWxlX3JlcGwodGVtcGxhdGUsIHBhdHRlcm4pCiAgICBpZiBub3QgdGVtcGxhdGVbMF0gYW5kIGxlbih0ZW1wbGF0ZVsxXSkgPT0gMToKICAgICAgICAjIGxpdGVyYWwgcmVwbGFjZW1lbnQKICAgICAgICByZXR1cm4gdGVtcGxhdGVbMV1bMF0KICAgIGRlZiBmaWx0ZXIobWF0Y2gsIHRlbXBsYXRlPXRlbXBsYXRlKToKICAgICAgICByZXR1cm4gc3JlX3BhcnNlLmV4cGFuZF90ZW1wbGF0ZSh0ZW1wbGF0ZSwgbWF0Y2gpCiAgICByZXR1cm4gZmlsdGVyCgojIHJlZ2lzdGVyIG15c2VsZiBmb3IgcGlja2xpbmcKCiNpbXBvcnQgY29weXJlZwoKI2RlZiBfcGlja2xlKHApOgojICAgIHJldHVybiBfY29tcGlsZSwgKHAucGF0dGVybiwgcC5mbGFncykKCiNjb3B5cmVnLnBpY2tsZShfcGF0dGVybl90eXBlLCBfcGlja2xlLCBfY29tcGlsZSkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBleHBlcmltZW50YWwgc3R1ZmYgKHNlZSBweXRob24tZGV2IGRpc2N1c3Npb25zIGZvciBkZXRhaWxzKQoKY2xhc3MgU2Nhbm5lcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBsZXhpY29uLCBmbGFncz0wKToKICAgICAgICBmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IEJSQU5DSCwgU1VCUEFUVEVSTgogICAgICAgIHNlbGYubGV4aWNvbiA9IGxleGljb24KICAgICAgICAjIGNvbWJpbmUgcGhyYXNlcyBpbnRvIGEgY29tcG91bmQgcGF0dGVybgogICAgICAgIHAgPSBbXQogICAgICAgIHMgPSBzcmVfcGFyc2UuUGF0dGVybigpCiAgICAgICAgcy5mbGFncyA9IGZsYWdzCiAgICAgICAgZm9yIHBocmFzZSwgYWN0aW9uIGluIGxleGljb246CiAgICAgICAgICAgIHAuYXBwZW5kKHNyZV9wYXJzZS5TdWJQYXR0ZXJuKHMsIFsKICAgICAgICAgICAgICAgIChTVUJQQVRURVJOLCAobGVuKHApKzEsIHNyZV9wYXJzZS5wYXJzZShwaHJhc2UsIGZsYWdzKSkpLAogICAgICAgICAgICAgICAgXSkpCiAgICAgICAgcy5ncm91cHMgPSBsZW4ocCkrMQogICAgICAgIHAgPSBzcmVfcGFyc2UuU3ViUGF0dGVybihzLCBbKEJSQU5DSCwgKE5vbmUsIHApKV0pCiAgICAgICAgc2VsZi5zY2FubmVyID0gc3JlX2NvbXBpbGUuY29tcGlsZShwKQogICAgZGVmIHNjYW4oc2VsZiwgc3RyaW5nKToKICAgICAgICByZXN1bHQgPSBbXQogICAgICAgIGFwcGVuZCA9IHJlc3VsdC5hcHBlbmQKICAgICAgICBtYXRjaCA9IHNlbGYuc2Nhbm5lci5zY2FubmVyKHN0cmluZykubWF0Y2gKICAgICAgICBpID0gMAogICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgIG0gPSBtYXRjaCgpCiAgICAgICAgICAgIGlmIG5vdCBtOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaiA9IG0uZW5kKCkKICAgICAgICAgICAgaWYgaSA9PSBqOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYWN0aW9uID0gc2VsZi5sZXhpY29uW20ubGFzdGluZGV4LTFdWzFdCiAgICAgICAgICAgIGlmIGNhbGxhYmxlKGFjdGlvbik6CiAgICAgICAgICAgICAgICBzZWxmLm1hdGNoID0gbQogICAgICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uKHNlbGYsIG0uZ3JvdXAoKSkKICAgICAgICAgICAgaWYgYWN0aW9uIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgYXBwZW5kKGFjdGlvbikKICAgICAgICAgICAgaSA9IGoKICAgICAgICByZXR1cm4gcmVzdWx0LCBzdHJpbmdbaTpdCg==',
'/Lib/locale.py':'ZGVmIGdldGRlZmF1bHRsb2NhbGUoKToKICAgIHJldHVybiBfX0JSWVRIT05fXy5sYW5ndWFnZSxOb25l',
'/Lib/types.py':'IiIiCkRlZmluZSBuYW1lcyBmb3IgYnVpbHQtaW4gdHlwZXMgdGhhdCBhcmVuJ3QgZGlyZWN0bHkgYWNjZXNzaWJsZSBhcyBhIGJ1aWx0aW4uCiIiIgppbXBvcnQgc3lzCgojIEl0ZXJhdG9ycyBpbiBQeXRob24gYXJlbid0IGEgbWF0dGVyIG9mIHR5cGUgYnV0IG9mIHByb3RvY29sLiAgQSBsYXJnZQojIGFuZCBjaGFuZ2luZyBudW1iZXIgb2YgYnVpbHRpbiB0eXBlcyBpbXBsZW1lbnQgKnNvbWUqIGZsYXZvciBvZgojIGl0ZXJhdG9yLiAgRG9uJ3QgY2hlY2sgdGhlIHR5cGUhICBVc2UgaGFzYXR0ciB0byBjaGVjayBmb3IgYm90aAojICJfX2l0ZXJfXyIgYW5kICJfX25leHRfXyIgYXR0cmlidXRlcyBpbnN0ZWFkLgoKI2RlZiBfZigpOiBwYXNzCiNGdW5jdGlvblR5cGUgPSB0eXBlKF9mKQojTGFtYmRhVHlwZSA9IHR5cGUobGFtYmRhOiBOb25lKSAgICAgICAgICMgU2FtZSBhcyBGdW5jdGlvblR5cGUKI0NvZGVUeXBlID0gdHlwZShfZi5fX2NvZGVfXykKCiNkZWYgX2coKToKIyAgICB5aWVsZCAxCiNHZW5lcmF0b3JUeXBlID0gdHlwZShfZygpKQoKY2xhc3MgX0M6CiAgICBkZWYgX20oc2VsZik6IHBhc3MKTWV0aG9kVHlwZSA9IHR5cGUoX0MoKS5fbSkKCkJ1aWx0aW5GdW5jdGlvblR5cGUgPSB0eXBlKGxlbikKQnVpbHRpbk1ldGhvZFR5cGUgPSB0eXBlKFtdLmFwcGVuZCkgICAgICMgU2FtZSBhcyBCdWlsdGluRnVuY3Rpb25UeXBlCgpNb2R1bGVUeXBlID0gdHlwZShzeXMpCgojdHJ5OgojICAgIHJhaXNlIFR5cGVFcnJvcgojZXhjZXB0IFR5cGVFcnJvcjoKIyAgICB0YiA9IHN5cy5leGNfaW5mbygpWzJdCiMgICAgVHJhY2ViYWNrVHlwZSA9IHR5cGUodGIpCiMgICAgRnJhbWVUeXBlID0gdHlwZSh0Yi50Yl9mcmFtZSkKIyAgICB0YiA9IE5vbmU7IGRlbCB0YgoKIyBGb3IgSnl0aG9uLCB0aGUgZm9sbG93aW5nIHR3byB0eXBlcyBhcmUgaWRlbnRpY2FsCiNHZXRTZXREZXNjcmlwdG9yVHlwZSA9IHR5cGUoRnVuY3Rpb25UeXBlLl9fY29kZV9fKQojTWVtYmVyRGVzY3JpcHRvclR5cGUgPSB0eXBlKEZ1bmN0aW9uVHlwZS5fX2dsb2JhbHNfXykKCiNmaXhtZSBicnl0aG9uCiNkZWwgc3lzLCBfZiwgX2csIF9DLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTm90IGZvciBleHBvcnQK',
'/Lib/local_storage.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImxvY2FsX3N0b3JhZ2UucHkiXS5fX2RpY3RfXzt2YXIgJExvY2FsU3RvcmFnZT0oZnVuY3Rpb24oKXt2YXIgJGNsYXNzPW5ldyBPYmplY3QoKTskY2xhc3MuX19pbml0X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2luaXRfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS51M2ZkcHBvcC5fX2RpY3RfXz0kbnM7aWYoYm9vbCghYm9vbChfX0JSWVRIT05fXy5fX2dldGF0dHJfXygiaGFzX2xvY2FsX3N0b3JhZ2UiKSkpKXRocm93IE5hbWVFcnJvci5fX2NhbGxfXygnbG9jYWwgc3RvcmFnZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyJyk7c2VsZi5fX3NldGF0dHJfXygic3RvcmUiLF9fQlJZVEhPTl9fLl9fZ2V0YXR0cl9fKCJsb2NhbF9zdG9yYWdlIikuX19jYWxsX18oKSk7fWNhdGNoKGVycjIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyKTt9fTt9KSgpOyRjbGFzcy5fX2luaXRfXy5fX25hbWVfXz0iX19pbml0X18iOyRjbGFzcy5fX2RlbGl0ZW1fXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZGVsaXRlbV9fIixhcmd1bWVudHMsWyJzZWxmIiwia2V5Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnp5eGtuZHJ1Ll9fZGljdF9fPSRucztzZWxmLl9fZ2V0YXR0cl9fKCJzdG9yZSIpLl9fZ2V0YXR0cl9fKCJyZW1vdmVJdGVtIikuX19jYWxsX18oa2V5KTt9Y2F0Y2goZXJyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIpO319O30pKCk7JGNsYXNzLl9fZGVsaXRlbV9fLl9fbmFtZV9fPSJfX2RlbGl0ZW1fXyI7JGNsYXNzLl9fZ2V0aXRlbV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19nZXRpdGVtX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjd0dmFpNWNrIl0uX19kaWN0X189JG5zO3ZhciByZXM9JGxvY2Fscy5yZXM9c2VsZi5fX2dldGF0dHJfXygic3RvcmUiKS5fX2dldGF0dHJfXygiZ2V0SXRlbSIpLl9fY2FsbF9fKGtleSk7aWYoYm9vbChyZXMpKXJldHVybiByZXM7dGhyb3cgS2V5RXJyb3IuX19jYWxsX18oa2V5KTt9Y2F0Y2goZXJyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIpO319O30pKCk7JGNsYXNzLl9fZ2V0aXRlbV9fLl9fbmFtZV9fPSJfX2dldGl0ZW1fXyI7JGNsYXNzLl9fc2V0aXRlbV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19zZXRpdGVtX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiLCJ2YWx1ZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMnFveW12N3QiXS5fX2RpY3RfXz0kbnM7c2VsZi5fX2dldGF0dHJfXygic3RvcmUiKS5fX2dldGF0dHJfXygic2V0SXRlbSIpLl9fY2FsbF9fKGtleSx2YWx1ZSk7fWNhdGNoKGVycjIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyKTt9fTt9KSgpOyRjbGFzcy5fX3NldGl0ZW1fXy5fX25hbWVfXz0iX19zZXRpdGVtX18iOyRjbGFzcy5fX2NvbnRhaW5zX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2NvbnRhaW5zX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYmxhcGxldWEuX19kaWN0X189JG5zO3ZhciByZXM9JGxvY2Fscy5yZXM9c2VsZi5fX2dldGF0dHJfXygic3RvcmUiKS5fX2dldGF0dHJfXygiZ2V0SXRlbSIpLl9fY2FsbF9fKGtleSk7aWYoYm9vbChyZXMpKXJldHVybiBUcnVlO3JldHVybiBGYWxzZTt9Y2F0Y2goZXJyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIpO319O30pKCk7JGNsYXNzLl9fY29udGFpbnNfXy5fX25hbWVfXz0iX19jb250YWluc19fIjskY2xhc3Mua2V5cz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImtleXMiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudnVzZGg1eXIuX19kaWN0X189JG5zO3JldHVybiBsaXN0Ll9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oInN0b3JlIikpO31jYXRjaChlcnIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMik7fX07fSkoKTskY2xhc3Mua2V5cy5fX25hbWVfXz0ia2V5cyI7JGNsYXNzLnZhbHVlcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInZhbHVlcyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5mZnNpYnBxdi5fX2RpY3RfXz0kbnM7cmV0dXJuICRsaXN0X2NvbXAoeydzZWxmJzpzZWxmfSwic2VsZi5fX2dldGl0ZW1fXyhrKSAiLCJmb3IgayBpbiBzZWxmLmtleXMoKSIpO31jYXRjaChlcnIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMik7fX07fSkoKTskY2xhc3MudmFsdWVzLl9fbmFtZV9fPSJ2YWx1ZXMiOyRjbGFzcy5pdGVtcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIml0ZW1zIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI4NG9od3h5OSJdLl9fZGljdF9fPSRucztyZXR1cm4gemlwLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oImtleXMiKS5fX2NhbGxfXygpLHNlbGYuX19nZXRhdHRyX18oInZhbHVlcyIpLl9fY2FsbF9fKCkpO31jYXRjaChlcnIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMik7fX07fSkoKTskY2xhc3MuaXRlbXMuX19uYW1lX189Iml0ZW1zIjtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIExvY2FsU3RvcmFnZT0kY2xhc3NfY29uc3RydWN0b3IoIkxvY2FsU3RvcmFnZSIsJExvY2FsU3RvcmFnZSk7X19CUllUSE9OX18uc2NvcGVbImxvY2FsX3N0b3JhZ2UucHkiXS5fX2RpY3RfXy5Mb2NhbFN0b3JhZ2U9TG9jYWxTdG9yYWdlO3ZhciBzdG9yYWdlPSRnbG9iYWxzLnN0b3JhZ2U9TG9jYWxTdG9yYWdlLl9fY2FsbF9fKCk7cmV0dXJue0xvY2FsU3RvcmFnZTpMb2NhbFN0b3JhZ2Usc3RvcmFnZTpzdG9yYWdlLF9fZ2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO30sX19zZXRhdHRyX186ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dGhpc1thdHRyXT12YWx1ZTt9fTt9KSgpOw==',
'/Lib/warnings.py':'IiIiUHl0aG9uIHBhcnQgb2YgdGhlIHdhcm5pbmdzIHN1YnN5c3RlbS4iIiIKCiMgTm90ZTogZnVuY3Rpb24gbGV2ZWwgaW1wb3J0cyBzaG91bGQgKm5vdCogYmUgdXNlZAojIGluIHRoaXMgbW9kdWxlIGFzIGl0IG1heSBjYXVzZSBpbXBvcnQgbG9jayBkZWFkbG9jay4KIyBTZWUgYnVnIDY4MzY1OC4KaW1wb3J0IGxpbmVjYWNoZQppbXBvcnQgc3lzCgpfX2FsbF9fID0gWyJ3YXJuIiwgInNob3d3YXJuaW5nIiwgImZvcm1hdHdhcm5pbmciLCAiZmlsdGVyd2FybmluZ3MiLAogICAgICAgICAgICJyZXNldHdhcm5pbmdzIiwgImNhdGNoX3dhcm5pbmdzIl0KCgpkZWYgc2hvd3dhcm5pbmcobWVzc2FnZSwgY2F0ZWdvcnksIGZpbGVuYW1lLCBsaW5lbm8sIGZpbGU9Tm9uZSwgbGluZT1Ob25lKToKICAgICIiIkhvb2sgdG8gd3JpdGUgYSB3YXJuaW5nIHRvIGEgZmlsZTsgcmVwbGFjZSBpZiB5b3UgbGlrZS4iIiIKICAgIGlmIGZpbGUgaXMgTm9uZToKICAgICAgICBmaWxlID0gc3lzLnN0ZGVycgogICAgdHJ5OgogICAgICAgIGZpbGUud3JpdGUoZm9ybWF0d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubywgbGluZSkpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwYXNzICMgdGhlIGZpbGUgKHByb2JhYmx5IHN0ZGVycikgaXMgaW52YWxpZCAtIHRoaXMgd2FybmluZyBnZXRzIGxvc3QuCgpkZWYgZm9ybWF0d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubywgbGluZT1Ob25lKToKICAgICIiIkZ1bmN0aW9uIHRvIGZvcm1hdCBhIHdhcm5pbmcgdGhlIHN0YW5kYXJkIHdheS4iIiIKICAgIHMgPSAgIiVzOiVzOiAlczogJXNcbiIgJSAoZmlsZW5hbWUsIGxpbmVubywgY2F0ZWdvcnkuX19uYW1lX18sIG1lc3NhZ2UpCiAgICBsaW5lID0gbGluZWNhY2hlLmdldGxpbmUoZmlsZW5hbWUsIGxpbmVubykgaWYgbGluZSBpcyBOb25lIGVsc2UgbGluZQogICAgaWYgbGluZToKICAgICAgICBsaW5lID0gbGluZS5zdHJpcCgpCiAgICAgICAgcyArPSAiICAlc1xuIiAlIGxpbmUKICAgIHJldHVybiBzCgojZml4bWUgYnJ5dGhvbiAgYnVpbHRpbiBXYXJuaW5nIGNsYXNzIG5vdCBkZWZpbmVkCmRlZiBmaWx0ZXJ3YXJuaW5ncyhhY3Rpb24sIG1lc3NhZ2U9IiIsIGNhdGVnb3J5PVdhcm5pbmcsIG1vZHVsZT0iIiwgbGluZW5vPTAsCiAgICAgICAgICAgICAgICAgICBhcHBlbmQ9RmFsc2UpOgogICAgIiIiSW5zZXJ0IGFuIGVudHJ5IGludG8gdGhlIGxpc3Qgb2Ygd2FybmluZ3MgZmlsdGVycyAoYXQgdGhlIGZyb250KS4KCiAgICAnYWN0aW9uJyAtLSBvbmUgb2YgImVycm9yIiwgImlnbm9yZSIsICJhbHdheXMiLCAiZGVmYXVsdCIsICJtb2R1bGUiLAogICAgICAgICAgICAgICAgb3IgIm9uY2UiCiAgICAnbWVzc2FnZScgLS0gYSByZWdleCB0aGF0IHRoZSB3YXJuaW5nIG1lc3NhZ2UgbXVzdCBtYXRjaAogICAgJ2NhdGVnb3J5JyAtLSBhIGNsYXNzIHRoYXQgdGhlIHdhcm5pbmcgbXVzdCBiZSBhIHN1YmNsYXNzIG9mCiAgICAnbW9kdWxlJyAtLSBhIHJlZ2V4IHRoYXQgdGhlIG1vZHVsZSBuYW1lIG11c3QgbWF0Y2gKICAgICdsaW5lbm8nIC0tIGFuIGludGVnZXIgbGluZSBudW1iZXIsIDAgbWF0Y2hlcyBhbGwgd2FybmluZ3MKICAgICdhcHBlbmQnIC0tIGlmIHRydWUsIGFwcGVuZCB0byB0aGUgbGlzdCBvZiBmaWx0ZXJzCiAgICAiIiIKICAgIGltcG9ydCByZQogICAgYXNzZXJ0IGFjdGlvbiBpbiAoImVycm9yIiwgImlnbm9yZSIsICJhbHdheXMiLCAiZGVmYXVsdCIsICJtb2R1bGUiLAogICAgICAgICAgICAgICAgICAgICAgIm9uY2UiKSwgImludmFsaWQgYWN0aW9uOiAlciIgJSAoYWN0aW9uLCkKICAgIGFzc2VydCBpc2luc3RhbmNlKG1lc3NhZ2UsIHN0ciksICJtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmciCiAgICBhc3NlcnQgaXNpbnN0YW5jZShjYXRlZ29yeSwgdHlwZSksICJjYXRlZ29yeSBtdXN0IGJlIGEgY2xhc3MiCiAgICBhc3NlcnQgaXNzdWJjbGFzcyhjYXRlZ29yeSwgV2FybmluZyksICJjYXRlZ29yeSBtdXN0IGJlIGEgV2FybmluZyBzdWJjbGFzcyIKICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZHVsZSwgc3RyKSwgIm1vZHVsZSBtdXN0IGJlIGEgc3RyaW5nIgogICAgYXNzZXJ0IGlzaW5zdGFuY2UobGluZW5vLCBpbnQpIGFuZCBsaW5lbm8gPj0gMCwgXAogICAgICAgICAgICJsaW5lbm8gbXVzdCBiZSBhbiBpbnQgPj0gMCIKICAgIGl0ZW0gPSAoYWN0aW9uLCByZS5jb21waWxlKG1lc3NhZ2UsIHJlLkkpLCBjYXRlZ29yeSwKICAgICAgICAgICAgcmUuY29tcGlsZShtb2R1bGUpLCBsaW5lbm8pCiAgICBpZiBhcHBlbmQ6CiAgICAgICAgZmlsdGVycy5hcHBlbmQoaXRlbSkKICAgIGVsc2U6CiAgICAgICAgZmlsdGVycy5pbnNlcnQoMCwgaXRlbSkKCmRlZiBzaW1wbGVmaWx0ZXIoYWN0aW9uLCBjYXRlZ29yeT1XYXJuaW5nLCBsaW5lbm89MCwgYXBwZW5kPUZhbHNlKToKICAgICIiIkluc2VydCBhIHNpbXBsZSBlbnRyeSBpbnRvIHRoZSBsaXN0IG9mIHdhcm5pbmdzIGZpbHRlcnMgKGF0IHRoZSBmcm9udCkuCgogICAgQSBzaW1wbGUgZmlsdGVyIG1hdGNoZXMgYWxsIG1vZHVsZXMgYW5kIG1lc3NhZ2VzLgogICAgJ2FjdGlvbicgLS0gb25lIG9mICJlcnJvciIsICJpZ25vcmUiLCAiYWx3YXlzIiwgImRlZmF1bHQiLCAibW9kdWxlIiwKICAgICAgICAgICAgICAgIG9yICJvbmNlIgogICAgJ2NhdGVnb3J5JyAtLSBhIGNsYXNzIHRoYXQgdGhlIHdhcm5pbmcgbXVzdCBiZSBhIHN1YmNsYXNzIG9mCiAgICAnbGluZW5vJyAtLSBhbiBpbnRlZ2VyIGxpbmUgbnVtYmVyLCAwIG1hdGNoZXMgYWxsIHdhcm5pbmdzCiAgICAnYXBwZW5kJyAtLSBpZiB0cnVlLCBhcHBlbmQgdG8gdGhlIGxpc3Qgb2YgZmlsdGVycwogICAgIiIiCiAgICBhc3NlcnQgYWN0aW9uIGluICgiZXJyb3IiLCAiaWdub3JlIiwgImFsd2F5cyIsICJkZWZhdWx0IiwgIm1vZHVsZSIsCiAgICAgICAgICAgICAgICAgICAgICAib25jZSIpLCAiaW52YWxpZCBhY3Rpb246ICVyIiAlIChhY3Rpb24sKQogICAgYXNzZXJ0IGlzaW5zdGFuY2UobGluZW5vLCBpbnQpIGFuZCBsaW5lbm8gPj0gMCwgXAogICAgICAgICAgICJsaW5lbm8gbXVzdCBiZSBhbiBpbnQgPj0gMCIKICAgIGl0ZW0gPSAoYWN0aW9uLCBOb25lLCBjYXRlZ29yeSwgTm9uZSwgbGluZW5vKQogICAgaWYgYXBwZW5kOgogICAgICAgIGZpbHRlcnMuYXBwZW5kKGl0ZW0pCiAgICBlbHNlOgogICAgICAgIGZpbHRlcnMuaW5zZXJ0KDAsIGl0ZW0pCgpkZWYgcmVzZXR3YXJuaW5ncygpOgogICAgIiIiQ2xlYXIgdGhlIGxpc3Qgb2Ygd2FybmluZyBmaWx0ZXJzLCBzbyB0aGF0IG5vIGZpbHRlcnMgYXJlIGFjdGl2ZS4iIiIKICAgIGZpbHRlcnNbOl0gPSBbXQoKY2xhc3MgX09wdGlvbkVycm9yKEV4Y2VwdGlvbik6CiAgICAiIiJFeGNlcHRpb24gdXNlZCBieSBvcHRpb24gcHJvY2Vzc2luZyBoZWxwZXJzLiIiIgogICAgcGFzcwoKIyBIZWxwZXIgdG8gcHJvY2VzcyAtVyBvcHRpb25zIHBhc3NlZCB2aWEgc3lzLndhcm5vcHRpb25zCmRlZiBfcHJvY2Vzc29wdGlvbnMoYXJncyk6CiAgICBmb3IgYXJnIGluIGFyZ3M6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfc2V0b3B0aW9uKGFyZykKICAgICAgICBleGNlcHQgX09wdGlvbkVycm9yIGFzIG1zZzoKICAgICAgICAgICAgcHJpbnQoIkludmFsaWQgLVcgb3B0aW9uIGlnbm9yZWQ6IiwgbXNnLCBmaWxlPXN5cy5zdGRlcnIpCgojIEhlbHBlciBmb3IgX3Byb2Nlc3NvcHRpb25zKCkKZGVmIF9zZXRvcHRpb24oYXJnKToKICAgIGltcG9ydCByZQogICAgcGFydHMgPSBhcmcuc3BsaXQoJzonKQogICAgaWYgbGVuKHBhcnRzKSA+IDU6CiAgICAgICAgcmFpc2UgX09wdGlvbkVycm9yKCJ0b28gbWFueSBmaWVsZHMgKG1heCA1KTogJXIiICUgKGFyZywpKQogICAgd2hpbGUgbGVuKHBhcnRzKSA8IDU6CiAgICAgICAgcGFydHMuYXBwZW5kKCcnKQogICAgYWN0aW9uLCBtZXNzYWdlLCBjYXRlZ29yeSwgbW9kdWxlLCBsaW5lbm8gPSBbcy5zdHJpcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgcyBpbiBwYXJ0c10KICAgIGFjdGlvbiA9IF9nZXRhY3Rpb24oYWN0aW9uKQogICAgbWVzc2FnZSA9IHJlLmVzY2FwZShtZXNzYWdlKQogICAgY2F0ZWdvcnkgPSBfZ2V0Y2F0ZWdvcnkoY2F0ZWdvcnkpCiAgICBtb2R1bGUgPSByZS5lc2NhcGUobW9kdWxlKQogICAgaWYgbW9kdWxlOgogICAgICAgIG1vZHVsZSA9IG1vZHVsZSArICckJwogICAgaWYgbGluZW5vOgogICAgICAgIHRyeToKICAgICAgICAgICAgbGluZW5vID0gaW50KGxpbmVubykKICAgICAgICAgICAgaWYgbGluZW5vIDwgMDoKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IKICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIE92ZXJmbG93RXJyb3IpOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgbGluZW5vICVyIiAlIChsaW5lbm8sKSkKICAgIGVsc2U6CiAgICAgICAgbGluZW5vID0gMAogICAgZmlsdGVyd2FybmluZ3MoYWN0aW9uLCBtZXNzYWdlLCBjYXRlZ29yeSwgbW9kdWxlLCBsaW5lbm8pCgojIEhlbHBlciBmb3IgX3NldG9wdGlvbigpCmRlZiBfZ2V0YWN0aW9uKGFjdGlvbik6CiAgICBpZiBub3QgYWN0aW9uOgogICAgICAgIHJldHVybiAiZGVmYXVsdCIKICAgIGlmIGFjdGlvbiA9PSAiYWxsIjogcmV0dXJuICJhbHdheXMiICMgQWxpYXMKICAgIGZvciBhIGluICgnZGVmYXVsdCcsICdhbHdheXMnLCAnaWdub3JlJywgJ21vZHVsZScsICdvbmNlJywgJ2Vycm9yJyk6CiAgICAgICAgaWYgYS5zdGFydHN3aXRoKGFjdGlvbik6CiAgICAgICAgICAgIHJldHVybiBhCiAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgYWN0aW9uOiAlciIgJSAoYWN0aW9uLCkpCgojIEhlbHBlciBmb3IgX3NldG9wdGlvbigpCmRlZiBfZ2V0Y2F0ZWdvcnkoY2F0ZWdvcnkpOgogICAgaW1wb3J0IHJlCiAgICBpZiBub3QgY2F0ZWdvcnk6CiAgICAgICAgcmV0dXJuIFdhcm5pbmcKICAgIGlmIHJlLm1hdGNoKCJeW2EtekEtWjAtOV9dKyQiLCBjYXRlZ29yeSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjYXQgPSBldmFsKGNhdGVnb3J5KQogICAgICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgICAgIHJhaXNlIF9PcHRpb25FcnJvcigidW5rbm93biB3YXJuaW5nIGNhdGVnb3J5OiAlciIgJSAoY2F0ZWdvcnksKSkKICAgIGVsc2U6CiAgICAgICAgaSA9IGNhdGVnb3J5LnJmaW5kKCIuIikKICAgICAgICBtb2R1bGUgPSBjYXRlZ29yeVs6aV0KICAgICAgICBrbGFzcyA9IGNhdGVnb3J5W2krMTpdCiAgICAgICAgdHJ5OgogICAgICAgICAgICBtID0gX19pbXBvcnRfXyhtb2R1bGUsIE5vbmUsIE5vbmUsIFtrbGFzc10pCiAgICAgICAgZXhjZXB0IEltcG9ydEVycm9yOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgbW9kdWxlIG5hbWU6ICVyIiAlIChtb2R1bGUsKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNhdCA9IGdldGF0dHIobSwga2xhc3MpCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoInVua25vd24gd2FybmluZyBjYXRlZ29yeTogJXIiICUgKGNhdGVnb3J5LCkpCiAgICBpZiBub3QgaXNzdWJjbGFzcyhjYXQsIFdhcm5pbmcpOgogICAgICAgIHJhaXNlIF9PcHRpb25FcnJvcigiaW52YWxpZCB3YXJuaW5nIGNhdGVnb3J5OiAlciIgJSAoY2F0ZWdvcnksKSkKICAgIHJldHVybiBjYXQKCgojIENvZGUgdHlwaWNhbGx5IHJlcGxhY2VkIGJ5IF93YXJuaW5ncwpkZWYgd2FybihtZXNzYWdlLCBjYXRlZ29yeT1Ob25lLCBzdGFja2xldmVsPTEpOgogICAgIiIiSXNzdWUgYSB3YXJuaW5nLCBvciBtYXliZSBpZ25vcmUgaXQgb3IgcmFpc2UgYW4gZXhjZXB0aW9uLiIiIgogICAgIyBDaGVjayBpZiBtZXNzYWdlIGlzIGFscmVhZHkgYSBXYXJuaW5nIG9iamVjdAogICAgaWYgaXNpbnN0YW5jZShtZXNzYWdlLCBXYXJuaW5nKToKICAgICAgICBjYXRlZ29yeSA9IG1lc3NhZ2UuX19jbGFzc19fCiAgICAjIENoZWNrIGNhdGVnb3J5IGFyZ3VtZW50CiAgICBpZiBjYXRlZ29yeSBpcyBOb25lOgogICAgICAgIGNhdGVnb3J5ID0gVXNlcldhcm5pbmcKICAgIGFzc2VydCBpc3N1YmNsYXNzKGNhdGVnb3J5LCBXYXJuaW5nKQogICAgIyBHZXQgY29udGV4dCBpbmZvcm1hdGlvbgogICAgdHJ5OgogICAgICAgIGNhbGxlciA9IHN5cy5fZ2V0ZnJhbWUoc3RhY2tsZXZlbCkKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIGdsb2JhbHMgPSBzeXMuX19kaWN0X18KICAgICAgICBsaW5lbm8gPSAxCiAgICAgICAgY2FsbGVyPU5vbmUKICAgICNmaXhtZSBicnl0aG9uIGVycm9yCiAgICBlbHNlOgogICAgICAgICNpZiBjYWxsZXIgaXMgbm90IE5vbmU6CiAgICAgICAgZ2xvYmFscyA9IGNhbGxlci5mX2dsb2JhbHMKICAgICAgICBsaW5lbm8gPSBjYWxsZXIuZl9saW5lbm8KICAgIGlmICdfX25hbWVfXycgaW4gZ2xvYmFsczoKICAgICAgICBtb2R1bGUgPSBnbG9iYWxzWydfX25hbWVfXyddCiAgICBlbHNlOgogICAgICAgIG1vZHVsZSA9ICI8c3RyaW5nPiIKICAgIGZpbGVuYW1lID0gZ2xvYmFscy5nZXQoJ19fZmlsZV9fJykKICAgIGlmIGZpbGVuYW1lOgogICAgICAgIGZubCA9IGZpbGVuYW1lLmxvd2VyKCkKICAgICAgICBpZiBmbmwuZW5kc3dpdGgoKCIucHljIiwgIi5weW8iKSk6CiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWVbOi0xXQogICAgZWxzZToKICAgICAgICBpZiBtb2R1bGUgPT0gIl9fbWFpbl9fIjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBzeXMuYXJndlswXQogICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgICAgICAjIGVtYmVkZGVkIGludGVycHJldGVycyBkb24ndCBoYXZlIHN5cy5hcmd2LCBzZWUgYnVnICM4MzkxNTEKICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJ19fbWFpbl9fJwogICAgICAgIGlmIG5vdCBmaWxlbmFtZToKICAgICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGUKICAgIHJlZ2lzdHJ5ID0gZ2xvYmFscy5zZXRkZWZhdWx0KCJfX3dhcm5pbmdyZWdpc3RyeV9fIiwge30pCiAgICB3YXJuX2V4cGxpY2l0KG1lc3NhZ2UsIGNhdGVnb3J5LCBmaWxlbmFtZSwgbGluZW5vLCBtb2R1bGUsIHJlZ2lzdHJ5LAogICAgICAgICAgICAgICAgICBnbG9iYWxzKQoKZGVmIHdhcm5fZXhwbGljaXQobWVzc2FnZSwgY2F0ZWdvcnksIGZpbGVuYW1lLCBsaW5lbm8sCiAgICAgICAgICAgICAgICAgIG1vZHVsZT1Ob25lLCByZWdpc3RyeT1Ob25lLCBtb2R1bGVfZ2xvYmFscz1Ob25lKToKICAgIGxpbmVubyA9IGludChsaW5lbm8pCiAgICBpZiBtb2R1bGUgaXMgTm9uZToKICAgICAgICBtb2R1bGUgPSBmaWxlbmFtZSBvciAiPHVua25vd24+IgogICAgICAgIGlmIG1vZHVsZVstMzpdLmxvd2VyKCkgPT0gIi5weSI6CiAgICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVs6LTNdICMgWFhYIFdoYXQgYWJvdXQgbGVhZGluZyBwYXRobmFtZT8KICAgIGlmIHJlZ2lzdHJ5IGlzIE5vbmU6CiAgICAgICAgcmVnaXN0cnkgPSB7fQogICAgaWYgaXNpbnN0YW5jZShtZXNzYWdlLCBXYXJuaW5nKToKICAgICAgICB0ZXh0ID0gc3RyKG1lc3NhZ2UpCiAgICAgICAgY2F0ZWdvcnkgPSBtZXNzYWdlLl9fY2xhc3NfXwogICAgZWxzZToKICAgICAgICB0ZXh0ID0gbWVzc2FnZQogICAgICAgIG1lc3NhZ2UgPSBjYXRlZ29yeShtZXNzYWdlKQogICAga2V5ID0gKHRleHQsIGNhdGVnb3J5LCBsaW5lbm8pCiAgICAjIFF1aWNrIHRlc3QgZm9yIGNvbW1vbiBjYXNlCiAgICBpZiByZWdpc3RyeS5nZXQoa2V5KToKICAgICAgICByZXR1cm4KICAgICMgU2VhcmNoIHRoZSBmaWx0ZXJzCiAgICBmb3IgaXRlbSBpbiBmaWx0ZXJzOgogICAgICAgIGFjdGlvbiwgbXNnLCBjYXQsIG1vZCwgbG4gPSBpdGVtCiAgICAgICAgaWYgKChtc2cgaXMgTm9uZSBvciBtc2cubWF0Y2godGV4dCkpIGFuZAogICAgICAgICAgICBpc3N1YmNsYXNzKGNhdGVnb3J5LCBjYXQpIGFuZAogICAgICAgICAgICAobW9kIGlzIE5vbmUgb3IgbW9kLm1hdGNoKG1vZHVsZSkpIGFuZAogICAgICAgICAgICAobG4gPT0gMCBvciBsaW5lbm8gPT0gbG4pKToKICAgICAgICAgICAgYnJlYWsKICAgICNmaXhtZSBicnl0aG9uCiAgICAjZWxzZToKICAgICMgICAgYWN0aW9uID0gZGVmYXVsdGFjdGlvbgogICAgIyBFYXJseSBleGl0IGFjdGlvbnMKICAgIGlmIGFjdGlvbiA9PSAiaWdub3JlIjoKICAgICAgICByZWdpc3RyeVtrZXldID0gMQogICAgICAgIHJldHVybgoKICAgICMgUHJpbWUgdGhlIGxpbmVjYWNoZSBmb3IgZm9ybWF0dGluZywgaW4gY2FzZSB0aGUKICAgICMgImZpbGUiIGlzIGFjdHVhbGx5IGluIGEgemlwZmlsZSBvciBzb21ldGhpbmcuCiAgICBsaW5lY2FjaGUuZ2V0bGluZXMoZmlsZW5hbWUsIG1vZHVsZV9nbG9iYWxzKQoKICAgIGlmIGFjdGlvbiA9PSAiZXJyb3IiOgogICAgICAgIHJhaXNlIG1lc3NhZ2UKICAgICMgT3RoZXIgYWN0aW9ucwogICAgaWYgYWN0aW9uID09ICJvbmNlIjoKICAgICAgICByZWdpc3RyeVtrZXldID0gMQogICAgICAgIG9uY2VrZXkgPSAodGV4dCwgY2F0ZWdvcnkpCiAgICAgICAgaWYgb25jZXJlZ2lzdHJ5LmdldChvbmNla2V5KToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgb25jZXJlZ2lzdHJ5W29uY2VrZXldID0gMQogICAgZWxpZiBhY3Rpb24gPT0gImFsd2F5cyI6CiAgICAgICAgcGFzcwogICAgZWxpZiBhY3Rpb24gPT0gIm1vZHVsZSI6CiAgICAgICAgcmVnaXN0cnlba2V5XSA9IDEKICAgICAgICBhbHRrZXkgPSAodGV4dCwgY2F0ZWdvcnksIDApCiAgICAgICAgaWYgcmVnaXN0cnkuZ2V0KGFsdGtleSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHJlZ2lzdHJ5W2FsdGtleV0gPSAxCiAgICBlbGlmIGFjdGlvbiA9PSAiZGVmYXVsdCI6CiAgICAgICAgcmVnaXN0cnlba2V5XSA9IDEKICAgIGVsc2U6CiAgICAgICAgIyBVbnJlY29nbml6ZWQgYWN0aW9ucyBhcmUgZXJyb3JzCiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKAogICAgICAgICAgICAgICJVbnJlY29nbml6ZWQgYWN0aW9uICglcikgaW4gd2FybmluZ3MuZmlsdGVyczpcbiAlcyIgJQogICAgICAgICAgICAgIChhY3Rpb24sIGl0ZW0pKQogICAgaWYgbm90IGNhbGxhYmxlKHNob3d3YXJuaW5nKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoIndhcm5pbmdzLnNob3d3YXJuaW5nKCkgbXVzdCBiZSBzZXQgdG8gYSAiCiAgICAgICAgICAgICAgICAgICAgICAgICJmdW5jdGlvbiBvciBtZXRob2QiKQogICAgIyBQcmludCBtZXNzYWdlIGFuZCBjb250ZXh0CiAgICBzaG93d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubykKCgpjbGFzcyBXYXJuaW5nTWVzc2FnZShvYmplY3QpOgoKICAgICIiIkhvbGRzIHRoZSByZXN1bHQgb2YgYSBzaW5nbGUgc2hvd3dhcm5pbmcoKSBjYWxsLiIiIgoKICAgIF9XQVJOSU5HX0RFVEFJTFMgPSAoIm1lc3NhZ2UiLCAiY2F0ZWdvcnkiLCAiZmlsZW5hbWUiLCAibGluZW5vIiwgImZpbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAibGluZSIpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG1lc3NhZ2UsIGNhdGVnb3J5LCBmaWxlbmFtZSwgbGluZW5vLCBmaWxlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgbGluZT1Ob25lKToKICAgICAgICBsb2NhbF92YWx1ZXMgPSBsb2NhbHMoKQogICAgICAgIGZvciBhdHRyIGluIHNlbGYuX1dBUk5JTkdfREVUQUlMUzoKICAgICAgICAgICAgc2V0YXR0cihzZWxmLCBhdHRyLCBsb2NhbF92YWx1ZXNbYXR0cl0pCiAgICAgICAgc2VsZi5fY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Ll9fbmFtZV9fIGlmIGNhdGVnb3J5IGVsc2UgTm9uZQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiAoInttZXNzYWdlIDogJXIsIGNhdGVnb3J5IDogJXIsIGZpbGVuYW1lIDogJXIsIGxpbmVubyA6ICVzLCAiCiAgICAgICAgICAgICAgICAgICAgImxpbmUgOiAlcn0iICUgKHNlbGYubWVzc2FnZSwgc2VsZi5fY2F0ZWdvcnlfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWxlbmFtZSwgc2VsZi5saW5lbm8sIHNlbGYubGluZSkpCgoKY2xhc3MgY2F0Y2hfd2FybmluZ3Mob2JqZWN0KToKCiAgICAiIiJBIGNvbnRleHQgbWFuYWdlciB0aGF0IGNvcGllcyBhbmQgcmVzdG9yZXMgdGhlIHdhcm5pbmdzIGZpbHRlciB1cG9uCiAgICBleGl0aW5nIHRoZSBjb250ZXh0LgoKICAgIFRoZSAncmVjb3JkJyBhcmd1bWVudCBzcGVjaWZpZXMgd2hldGhlciB3YXJuaW5ncyBzaG91bGQgYmUgY2FwdHVyZWQgYnkgYQogICAgY3VzdG9tIGltcGxlbWVudGF0aW9uIG9mIHdhcm5pbmdzLnNob3d3YXJuaW5nKCkgYW5kIGJlIGFwcGVuZGVkIHRvIGEgbGlzdAogICAgcmV0dXJuZWQgYnkgdGhlIGNvbnRleHQgbWFuYWdlci4gT3RoZXJ3aXNlIE5vbmUgaXMgcmV0dXJuZWQgYnkgdGhlIGNvbnRleHQKICAgIG1hbmFnZXIuIFRoZSBvYmplY3RzIGFwcGVuZGVkIHRvIHRoZSBsaXN0IGFyZSBhcmd1bWVudHMgd2hvc2UgYXR0cmlidXRlcwogICAgbWlycm9yIHRoZSBhcmd1bWVudHMgdG8gc2hvd3dhcm5pbmcoKS4KCiAgICBUaGUgJ21vZHVsZScgYXJndW1lbnQgaXMgdG8gc3BlY2lmeSBhbiBhbHRlcm5hdGl2ZSBtb2R1bGUgdG8gdGhlIG1vZHVsZQogICAgbmFtZWQgJ3dhcm5pbmdzJyBhbmQgaW1wb3J0ZWQgdW5kZXIgdGhhdCBuYW1lLiBUaGlzIGFyZ3VtZW50IGlzIG9ubHkgdXNlZnVsCiAgICB3aGVuIHRlc3RpbmcgdGhlIHdhcm5pbmdzIG1vZHVsZSBpdHNlbGYuCgogICAgIiIiCgogICAgI2RlZiBfX2luaXRfXyhzZWxmLCAqLCByZWNvcmQ9RmFsc2UsIG1vZHVsZT1Ob25lKTogIEJFIG1vZGlmaWVkCiAgICBkZWYgX19pbml0X18oc2VsZiwgcmVjb3JkPUZhbHNlLCBtb2R1bGU9Tm9uZSk6CiAgICAgICAgIiIiU3BlY2lmeSB3aGV0aGVyIHRvIHJlY29yZCB3YXJuaW5ncyBhbmQgaWYgYW4gYWx0ZXJuYXRpdmUgbW9kdWxlCiAgICAgICAgc2hvdWxkIGJlIHVzZWQgb3RoZXIgdGhhbiBzeXMubW9kdWxlc1snd2FybmluZ3MnXS4KCiAgICAgICAgRm9yIGNvbXBhdGliaWxpdHkgd2l0aCBQeXRob24gMy4wLCBwbGVhc2UgY29uc2lkZXIgYWxsIGFyZ3VtZW50cyB0byBiZQogICAgICAgIGtleXdvcmQtb25seS4KCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fcmVjb3JkID0gcmVjb3JkCiAgICAgICAgc2VsZi5fbW9kdWxlID0gc3lzLm1vZHVsZXNbJ3dhcm5pbmdzJ10gaWYgbW9kdWxlIGlzIE5vbmUgZWxzZSBtb2R1bGUKICAgICAgICBzZWxmLl9lbnRlcmVkID0gRmFsc2UKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgYXJncyA9IFtdCiAgICAgICAgaWYgc2VsZi5fcmVjb3JkOgogICAgICAgICAgICBhcmdzLmFwcGVuZCgicmVjb3JkPVRydWUiKQogICAgICAgIGlmIHNlbGYuX21vZHVsZSBpcyBub3Qgc3lzLm1vZHVsZXNbJ3dhcm5pbmdzJ106CiAgICAgICAgICAgIGFyZ3MuYXBwZW5kKCJtb2R1bGU9JXIiICUgc2VsZi5fbW9kdWxlKQogICAgICAgIG5hbWUgPSB0eXBlKHNlbGYpLl9fbmFtZV9fCiAgICAgICAgcmV0dXJuICIlcyglcykiICUgKG5hbWUsICIsICIuam9pbihhcmdzKSkKCiAgICBkZWYgX19lbnRlcl9fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX2VudGVyZWQ6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiQ2Fubm90IGVudGVyICVyIHR3aWNlIiAlIHNlbGYpCiAgICAgICAgc2VsZi5fZW50ZXJlZCA9IFRydWUKICAgICAgICBzZWxmLl9maWx0ZXJzID0gc2VsZi5fbW9kdWxlLmZpbHRlcnMKICAgICAgICBzZWxmLl9tb2R1bGUuZmlsdGVycyA9IHNlbGYuX2ZpbHRlcnNbOl0KICAgICAgICBzZWxmLl9zaG93d2FybmluZyA9IHNlbGYuX21vZHVsZS5zaG93d2FybmluZwogICAgICAgIGlmIHNlbGYuX3JlY29yZDoKICAgICAgICAgICAgbG9nID0gW10KICAgICAgICAgICAgZGVmIHNob3d3YXJuaW5nKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgICAgICBsb2cuYXBwZW5kKFdhcm5pbmdNZXNzYWdlKCphcmdzLCAqKmt3YXJncykpCiAgICAgICAgICAgIHNlbGYuX21vZHVsZS5zaG93d2FybmluZyA9IHNob3d3YXJuaW5nCiAgICAgICAgICAgIHJldHVybiBsb2cKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCAqZXhjX2luZm8pOgogICAgICAgIGlmIG5vdCBzZWxmLl9lbnRlcmVkOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkNhbm5vdCBleGl0ICVyIHdpdGhvdXQgZW50ZXJpbmcgZmlyc3QiICUgc2VsZikKICAgICAgICBzZWxmLl9tb2R1bGUuZmlsdGVycyA9IHNlbGYuX2ZpbHRlcnMKICAgICAgICBzZWxmLl9tb2R1bGUuc2hvd3dhcm5pbmcgPSBzZWxmLl9zaG93d2FybmluZwoKCiMgZmlsdGVycyBjb250YWlucyBhIHNlcXVlbmNlIG9mIGZpbHRlciA1LXR1cGxlcwojIFRoZSBjb21wb25lbnRzIG9mIHRoZSA1LXR1cGxlIGFyZToKIyAtIGFuIGFjdGlvbjogZXJyb3IsIGlnbm9yZSwgYWx3YXlzLCBkZWZhdWx0LCBtb2R1bGUsIG9yIG9uY2UKIyAtIGEgY29tcGlsZWQgcmVnZXggdGhhdCBtdXN0IG1hdGNoIHRoZSB3YXJuaW5nIG1lc3NhZ2UKIyAtIGEgY2xhc3MgcmVwcmVzZW50aW5nIHRoZSB3YXJuaW5nIGNhdGVnb3J5CiMgLSBhIGNvbXBpbGVkIHJlZ2V4IHRoYXQgbXVzdCBtYXRjaCB0aGUgbW9kdWxlIHRoYXQgaXMgYmVpbmcgd2FybmVkCiMgLSBhIGxpbmUgbnVtYmVyIGZvciB0aGUgbGluZSBiZWluZyB3YXJuaW5nLCBvciAwIHRvIG1lYW4gYW55IGxpbmUKIyBJZiBlaXRoZXIgaWYgdGhlIGNvbXBpbGVkIHJlZ2V4cyBhcmUgTm9uZSwgbWF0Y2ggYW55dGhpbmcuCl93YXJuaW5nc19kZWZhdWx0cyA9IEZhbHNlCnRyeToKICAgIGZyb20gX3dhcm5pbmdzIGltcG9ydCAoZmlsdGVycywgX2RlZmF1bHRhY3Rpb24sIF9vbmNlcmVnaXN0cnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuLCB3YXJuX2V4cGxpY2l0KQogICAgZGVmYXVsdGFjdGlvbiA9IF9kZWZhdWx0YWN0aW9uCiAgICBvbmNlcmVnaXN0cnkgPSBfb25jZXJlZ2lzdHJ5CiAgICBfd2FybmluZ3NfZGVmYXVsdHMgPSBUcnVlCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIGZpbHRlcnMgPSBbXQogICAgZGVmYXVsdGFjdGlvbiA9ICJkZWZhdWx0IgogICAgb25jZXJlZ2lzdHJ5ID0ge30KCgojIE1vZHVsZSBpbml0aWFsaXphdGlvbgpfcHJvY2Vzc29wdGlvbnMoc3lzLndhcm5vcHRpb25zKQppZiBub3QgX3dhcm5pbmdzX2RlZmF1bHRzOgogICAgc2lsZW5jZSA9IFtJbXBvcnRXYXJuaW5nLCBQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5nXQogICAgc2lsZW5jZS5hcHBlbmQoRGVwcmVjYXRpb25XYXJuaW5nKQogICAgZm9yIGNscyBpbiBzaWxlbmNlOgogICAgICAgIHNpbXBsZWZpbHRlcigiaWdub3JlIiwgY2F0ZWdvcnk9Y2xzKQogICAgYnl0ZXNfd2FybmluZyA9IHN5cy5mbGFncy5ieXRlc193YXJuaW5nCiAgICBpZiBieXRlc193YXJuaW5nID4gMToKICAgICAgICBieXRlc19hY3Rpb24gPSAiZXJyb3IiCiAgICBlbGlmIGJ5dGVzX3dhcm5pbmc6CiAgICAgICAgYnl0ZXNfYWN0aW9uID0gImRlZmF1bHQiCiAgICBlbHNlOgogICAgICAgIGJ5dGVzX2FjdGlvbiA9ICJpZ25vcmUiCiAgICBzaW1wbGVmaWx0ZXIoYnl0ZXNfYWN0aW9uLCBjYXRlZ29yeT1CeXRlc1dhcm5pbmcsIGFwcGVuZD0xKQogICAgIyByZXNvdXJjZSB1c2FnZSB3YXJuaW5ncyBhcmUgZW5hYmxlZCBieSBkZWZhdWx0IGluIHB5ZGVidWcgbW9kZQogICAgaWYgaGFzYXR0cihzeXMsICdnZXR0b3RhbHJlZmNvdW50Jyk6CiAgICAgICAgcmVzb3VyY2VfYWN0aW9uID0gImFsd2F5cyIKICAgIGVsc2U6CiAgICAgICAgcmVzb3VyY2VfYWN0aW9uID0gImlnbm9yZSIKICAgIHNpbXBsZWZpbHRlcihyZXNvdXJjZV9hY3Rpb24sIGNhdGVnb3J5PVJlc291cmNlV2FybmluZywgYXBwZW5kPTEpCgojZml4bWUgYnJ5dGhvbiBFcnJvcjogX3dhcm5pbmdzX2RlZmF1bHRzIGlzIG5vdCBkZWZpbmVkCiNkZWwgX3dhcm5pbmdzX2RlZmF1bHRzCg==',
'/Lib/collections.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImNvbGxlY3Rpb25zLnB5Il0uX19kaWN0X187dmFyIF9fYWxsX189JGdsb2JhbHMuX19hbGxfXz1saXN0KFsnZGVxdWUnLCdkZWZhdWx0ZGljdCcsJ25hbWVkdHVwbGUnLCdVc2VyRGljdCcsJ1VzZXJMaXN0JywnVXNlclN0cmluZycsJ0NvdW50ZXInLCdPcmRlcmVkRGljdCddKTskbW9kPSRpbXBvcnRfbGlzdChbWyJfYWJjb2xsIiwiX2FiY29sbCJdXSlbMF07TXV0YWJsZU1hcHBpbmc9X19CUllUSE9OX18uc2NvcGVbImNvbGxlY3Rpb25zLnB5Il0uX19kaWN0X18uTXV0YWJsZU1hcHBpbmc9JG1vZC5fX2dldGF0dHJfXygiTXV0YWJsZU1hcHBpbmciKTskbW9kPSRpbXBvcnRfbGlzdChbWyJfY29sbGVjdGlvbnMiLCJfY29sbGVjdGlvbnMiXV0pWzBdO2RlcXVlPV9fQlJZVEhPTl9fLnNjb3BlWyJjb2xsZWN0aW9ucy5weSJdLl9fZGljdF9fLmRlcXVlPSRtb2QuX19nZXRhdHRyX18oImRlcXVlIik7ZGVmYXVsdGRpY3Q9X19CUllUSE9OX18uc2NvcGVbImNvbGxlY3Rpb25zLnB5Il0uX19kaWN0X18uZGVmYXVsdGRpY3Q9JG1vZC5fX2dldGF0dHJfXygiZGVmYXVsdGRpY3QiKTskbW9kPSRpbXBvcnRfbGlzdChbWyJrZXl3b3JkIiwia2V5d29yZCJdXSlbMF07X2lza2V5d29yZD1fX0JSWVRIT05fXy5zY29wZVsiY29sbGVjdGlvbnMucHkiXS5fX2RpY3RfXy5faXNrZXl3b3JkPSRtb2QuX19nZXRhdHRyX18oImlza2V5d29yZCIpOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJzeXMiLCJfc3lzIl1dKTtfc3lzPSRtb2RzWzBdOztOb25lOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJoZWFwcSIsIl9oZWFwcSJdXSk7X2hlYXBxPSRtb2RzWzBdOztOb25lOyRtb2Q9JGltcG9ydF9saXN0KFtbIml0ZXJ0b29scyIsIml0ZXJ0b29scyJdXSlbMF07X3JlcGVhdD1fX0JSWVRIT05fXy5zY29wZVsiY29sbGVjdGlvbnMucHkiXS5fX2RpY3RfXy5fcmVwZWF0PSRtb2QuX19nZXRhdHRyX18oInJlcGVhdCIpO19jaGFpbj1fX0JSWVRIT05fXy5zY29wZVsiY29sbGVjdGlvbnMucHkiXS5fX2RpY3RfXy5fY2hhaW49JG1vZC5fX2dldGF0dHJfXygiY2hhaW4iKTtfc3Rhcm1hcD1fX0JSWVRIT05fXy5zY29wZVsiY29sbGVjdGlvbnMucHkiXS5fX2RpY3RfXy5fc3Rhcm1hcD0kbW9kLl9fZ2V0YXR0cl9fKCJzdGFybWFwIik7dmFyICRTZXQ9KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7dm9pZCAwO3JldHVybiAkY2xhc3M7fSkoKTt2YXIgU2V0PSRjbGFzc19jb25zdHJ1Y3RvcigiU2V0IiwkU2V0LHNldCk7X19CUllUSE9OX18uc2NvcGVbImNvbGxlY3Rpb25zLnB5Il0uX19kaWN0X18uU2V0PVNldDt2YXIgJFNlcXVlbmNlPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpO3ZvaWQgMDtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIFNlcXVlbmNlPSRjbGFzc19jb25zdHJ1Y3RvcigiU2VxdWVuY2UiLCRTZXF1ZW5jZSxsaXN0KTtfX0JSWVRIT05fXy5zY29wZVsiY29sbGVjdGlvbnMucHkiXS5fX2RpY3RfXy5TZXF1ZW5jZT1TZXF1ZW5jZTt2YXIgX3Byb3h5PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX3Byb3h5Iixhcmd1bWVudHMsWyJvYmoiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucGx6aWt5anYuX19kaWN0X189JG5zO3JldHVybiBvYmo7fWNhdGNoKGVycjYwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjApO319O30pKCk7X3Byb3h5Ll9fbmFtZV9fPSJfcHJveHkiOyRnbG9iYWxzLl9wcm94eT1fcHJveHk7dmFyICRfTGluaz0oZnVuY3Rpb24oKXt2YXIgJGNsYXNzPW5ldyBPYmplY3QoKTskY2xhc3MuX19zbG90c19fPXR1cGxlKFsncHJldicsJ25leHQnLCdrZXknLCdfX3dlYWtyZWZfXyddKTtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIF9MaW5rPSRjbGFzc19jb25zdHJ1Y3RvcigiX0xpbmsiLCRfTGluayxvYmplY3QpO19fQlJZVEhPTl9fLnNjb3BlWyJjb2xsZWN0aW9ucy5weSJdLl9fZGljdF9fLl9MaW5rPV9MaW5rO3ZhciAkT3JkZXJlZERpY3Q9KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7J0RpY3Rpb25hcnkgdGhhdCByZW1lbWJlcnMgaW5zZXJ0aW9uIG9yZGVyJzskY2xhc3MuX19pbml0X189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2luaXRfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LCJhcmdzIiwia3dkcyIpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudXdsNmdvd2guX19kaWN0X189JG5zOydJbml0aWFsaXplIGFuIG9yZGVyZWQgZGljdGlvbmFyeS4gIFRoZSBzaWduYXR1cmUgaXMgdGhlIHNhbWUgYXNcbiAgICAgICAgcmVndWxhciBkaWN0aW9uYXJpZXMsIGJ1dCBrZXl3b3JkIGFyZ3VtZW50cyBhcmUgbm90IHJlY29tbWVuZGVkIGJlY2F1c2VcbiAgICAgICAgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIGlzIGFyYml0cmFyeS5cblxuICAgICAgICAnO2lmKGJvb2wobGVuLl9fY2FsbF9fKGFyZ3MpLl9fZ3RfXyhOdW1iZXIoMSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oJ2V4cGVjdGVkIGF0IG1vc3QgMSBhcmd1bWVudHMsIGdvdCAlZCcuX19tb2RfXyhsZW4uX19jYWxsX18oYXJncykpKTt0cnl7c2VsZi5fX2dldGF0dHJfXygiX19yb290Iik7fWNhdGNoKCRlcnI2MCl7aWYoZmFsc2Updm9pZCAwO2Vsc2UgaWYoWyJBdHRyaWJ1dGVFcnJvciJdLmluZGV4T2YoJGVycjYwLl9fbmFtZV9fKT4tMSl7c2VsZi5fX3NldGF0dHJfXygiX19oYXJkcm9vdCIsX0xpbmsuX19jYWxsX18oKSk7dmFyIHJvb3Q9JGxvY2Fscy5yb290PV9wcm94eS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2hhcmRyb290IikpO3NlbGYuX19zZXRhdHRyX18oIl9fcm9vdCIscm9vdCk7cm9vdC5fX3NldGF0dHJfXygibmV4dCIscm9vdCk7cm9vdC5fX3NldGF0dHJfXygicHJldiIscm9vdC5fX2dldGF0dHJfXygibmV4dCIpKTtzZWxmLl9fc2V0YXR0cl9fKCJfX21hcCIsZGljdChbXSkpO31lbHNlIHRocm93ICRlcnI2MDt9c2VsZi5fX2dldGF0dHJfXygiX191cGRhdGUiKS5fX2NhbGxfXygkcHR1cGxlKGFyZ3MpLCRwZGljdChrd2RzKSk7fWNhdGNoKGVycjYwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjApO319O30pKCk7JGNsYXNzLl9faW5pdF9fLl9fbmFtZV9fPSJfX2luaXRfXyI7JGNsYXNzLl9fc2V0aXRlbV9fPShmdW5jdGlvbihfcHJveHksX0xpbmspe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19zZXRpdGVtX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiLCJ2YWx1ZSJdLHsiZGljdF9zZXRpdGVtIjooJGNsYXNzLmRpY3QhPT11bmRlZmluZWQ/JGNsYXNzLmRpY3Q6ZGljdCkuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIiksInByb3h5IjooJGNsYXNzLl9wcm94eSE9PXVuZGVmaW5lZD8kY2xhc3MuX3Byb3h5Ol9wcm94eSksIkxpbmsiOigkY2xhc3MuX0xpbmshPT11bmRlZmluZWQ/JGNsYXNzLl9MaW5rOl9MaW5rKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIydGhsM2FwMSJdLl9fZGljdF9fPSRuczsnb2QuX19zZXRpdGVtX18oaSwgeSkgPD09PiBvZFtpXT15JztpZihib29sKGtleS5fX25vdF9pbl9fKHNlbGYpKSl7dmFyIGxpbms9JGxvY2Fscy5saW5rPUxpbmsuX19jYWxsX18oKTtzZWxmLl9fZ2V0YXR0cl9fKCJfX21hcCIpLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKGtleSxsaW5rKTt2YXIgcm9vdD0kbG9jYWxzLnJvb3Q9c2VsZi5fX2dldGF0dHJfXygiX19yb290Iik7dmFyIGxhc3Q9JGxvY2Fscy5sYXN0PXJvb3QuX19nZXRhdHRyX18oInByZXYiKTskcmlnaHQ9dHVwbGUoW2xhc3Qscm9vdCxrZXldKTtpZigkcmlnaHQuX19sZW5fXygpPjMpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMykiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Myl0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7bGluay5fX3NldGF0dHJfXygicHJldiIsJHJpZ2h0Ll9faXRlbV9fKDApKTtsaW5rLl9fc2V0YXR0cl9fKCJuZXh0IiwkcmlnaHQuX19pdGVtX18oMSkpO2xpbmsuX19zZXRhdHRyX18oImtleSIsJHJpZ2h0Ll9faXRlbV9fKDIpKTtsYXN0Ll9fc2V0YXR0cl9fKCJuZXh0IixsaW5rKTtyb290Ll9fc2V0YXR0cl9fKCJwcmV2Iixwcm94eS5fX2NhbGxfXyhsaW5rKSk7fWRpY3Rfc2V0aXRlbS5fX2NhbGxfXyhzZWxmLGtleSx2YWx1ZSk7fWNhdGNoKGVycjYxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjEpO319O30pKF9wcm94eSxfTGluayk7JGNsYXNzLl9fc2V0aXRlbV9fLl9fbmFtZV9fPSJfX3NldGl0ZW1fXyI7JGNsYXNzLl9fZGVsaXRlbV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19kZWxpdGVtX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiXSx7ImRpY3RfZGVsaXRlbSI6KCRjbGFzcy5kaWN0IT09dW5kZWZpbmVkPyRjbGFzcy5kaWN0OmRpY3QpLl9fZ2V0YXR0cl9fKCJfX2RlbGl0ZW1fXyIpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucXRyaGYwencuX19kaWN0X189JG5zOydvZC5fX2RlbGl0ZW1fXyh5KSA8PT0+IGRlbCBvZFt5XSc7ZGljdF9kZWxpdGVtLl9fY2FsbF9fKHNlbGYsa2V5KTt2YXIgbGluaz0kbG9jYWxzLmxpbms9c2VsZi5fX2dldGF0dHJfXygiX19tYXAiKS5fX2dldGF0dHJfXygicG9wIikuX19jYWxsX18oa2V5KTt2YXIgbGlua19wcmV2PSRsb2NhbHMubGlua19wcmV2PWxpbmsuX19nZXRhdHRyX18oInByZXYiKTt2YXIgbGlua19uZXh0PSRsb2NhbHMubGlua19uZXh0PWxpbmsuX19nZXRhdHRyX18oIm5leHQiKTtsaW5rX3ByZXYuX19zZXRhdHRyX18oIm5leHQiLGxpbmtfbmV4dCk7bGlua19uZXh0Ll9fc2V0YXR0cl9fKCJwcmV2IixsaW5rX3ByZXYpO31jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KSgpOyRjbGFzcy5fX2RlbGl0ZW1fXy5fX25hbWVfXz0iX19kZWxpdGVtX18iOyRjbGFzcy4kX19pdGVyX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2l0ZXJfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lYTY0aTc5eC5fX2RpY3RfXz0kbnM7J29kLl9faXRlcl9fKCkgPD09PiBpdGVyKG9kKSc7dmFyIHJvb3Q9JGxvY2Fscy5yb290PXNlbGYuX19nZXRhdHRyX18oIl9fcm9vdCIpO3ZhciBjdXJyPSRsb2NhbHMuY3Vycj1yb290Ll9fZ2V0YXR0cl9fKCJuZXh0Iik7d2hpbGUoYm9vbChjdXJyIT09cm9vdCkpeyRjbGFzcy4kX19pdGVyX18uJGl0ZXIucHVzaChjdXJyLl9fZ2V0YXR0cl9fKCJrZXkiKSk7dmFyIGN1cnI9JGxvY2Fscy5jdXJyPWN1cnIuX19nZXRhdHRyX18oIm5leHQiKTt9fWNhdGNoKGVycjYxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjEpO319O30pKCk7JGNsYXNzLl9faXRlcl9fPSRnZW5lcmF0b3IoJGNsYXNzLiRfX2l0ZXJfXyk7JGNsYXNzLl9faXRlcl9fLl9fbmFtZV9fPSJfX2l0ZXJfXyI7JGNsYXNzLiRfX3JldmVyc2VkX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3JldmVyc2VkX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjYyc2FzZ25nIl0uX19kaWN0X189JG5zOydvZC5fX3JldmVyc2VkX18oKSA8PT0+IHJldmVyc2VkKG9kKSc7dmFyIHJvb3Q9JGxvY2Fscy5yb290PXNlbGYuX19nZXRhdHRyX18oIl9fcm9vdCIpO3ZhciBjdXJyPSRsb2NhbHMuY3Vycj1yb290Ll9fZ2V0YXR0cl9fKCJwcmV2Iik7d2hpbGUoYm9vbChjdXJyIT09cm9vdCkpeyRjbGFzcy4kX19yZXZlcnNlZF9fLiRpdGVyLnB1c2goY3Vyci5fX2dldGF0dHJfXygia2V5IikpO3ZhciBjdXJyPSRsb2NhbHMuY3Vycj1jdXJyLl9fZ2V0YXR0cl9fKCJwcmV2Iik7fX1jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KSgpOyRjbGFzcy5fX3JldmVyc2VkX189JGdlbmVyYXRvcigkY2xhc3MuJF9fcmV2ZXJzZWRfXyk7JGNsYXNzLl9fcmV2ZXJzZWRfXy5fX25hbWVfXz0iX19yZXZlcnNlZF9fIjskY2xhc3MuY2xlYXI9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjbGVhciIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5vM2E2Zm82bi5fX2RpY3RfXz0kbnM7J29kLmNsZWFyKCkgLT4gTm9uZS4gIFJlbW92ZSBhbGwgaXRlbXMgZnJvbSBvZC4nO3ZhciByb290PSRsb2NhbHMucm9vdD1zZWxmLl9fZ2V0YXR0cl9fKCJfX3Jvb3QiKTtyb290Ll9fc2V0YXR0cl9fKCJuZXh0Iixyb290KTtyb290Ll9fc2V0YXR0cl9fKCJwcmV2Iixyb290Ll9fZ2V0YXR0cl9fKCJuZXh0IikpO3NlbGYuX19nZXRhdHRyX18oIl9fbWFwIikuX19nZXRhdHRyX18oImNsZWFyIikuX19jYWxsX18oKTtkaWN0Ll9fZ2V0YXR0cl9fKCJjbGVhciIpLl9fY2FsbF9fKHNlbGYpO31jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KSgpOyRjbGFzcy5jbGVhci5fX25hbWVfXz0iY2xlYXIiOyRjbGFzcy5wb3BpdGVtPShmdW5jdGlvbihUcnVlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInBvcGl0ZW0iLGFyZ3VtZW50cyxbInNlbGYiXSx7Imxhc3QiOigkY2xhc3MuVHJ1ZSE9PXVuZGVmaW5lZD8kY2xhc3MuVHJ1ZTpUcnVlKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm45N20xbzduLl9fZGljdF9fPSRuczsnb2QucG9waXRlbSgpIC0+IChrLCB2KSwgcmV0dXJuIGFuZCByZW1vdmUgYSAoa2V5LCB2YWx1ZSkgcGFpci5cbiAgICAgICAgUGFpcnMgYXJlIHJldHVybmVkIGluIExJRk8gb3JkZXIgaWYgbGFzdCBpcyB0cnVlIG9yIEZJRk8gb3JkZXIgaWYgZmFsc2UuXG5cbiAgICAgICAgJztpZihib29sKCFib29sKHNlbGYpKSl0aHJvdyBLZXlFcnJvci5fX2NhbGxfXygnZGljdGlvbmFyeSBpcyBlbXB0eScpO3ZhciByb290PSRsb2NhbHMucm9vdD1zZWxmLl9fZ2V0YXR0cl9fKCJfX3Jvb3QiKTtpZihib29sKGxhc3QpKXt2YXIgbGluaz0kbG9jYWxzLmxpbms9cm9vdC5fX2dldGF0dHJfXygicHJldiIpO3ZhciBsaW5rX3ByZXY9JGxvY2Fscy5saW5rX3ByZXY9bGluay5fX2dldGF0dHJfXygicHJldiIpO2xpbmtfcHJldi5fX3NldGF0dHJfXygibmV4dCIscm9vdCk7cm9vdC5fX3NldGF0dHJfXygicHJldiIsbGlua19wcmV2KTt9ZWxzZXt2YXIgbGluaz0kbG9jYWxzLmxpbms9cm9vdC5fX2dldGF0dHJfXygibmV4dCIpO3ZhciBsaW5rX25leHQ9JGxvY2Fscy5saW5rX25leHQ9bGluay5fX2dldGF0dHJfXygibmV4dCIpO3Jvb3QuX19zZXRhdHRyX18oIm5leHQiLGxpbmtfbmV4dCk7bGlua19uZXh0Ll9fc2V0YXR0cl9fKCJwcmV2Iixyb290KTt9dmFyIGtleT0kbG9jYWxzLmtleT1saW5rLl9fZ2V0YXR0cl9fKCJrZXkiKTtzZWxmLl9fZ2V0YXR0cl9fKCJfX21hcCIpLl9fZ2V0YXR0cl9fKCJfX2RlbGl0ZW1fXyIpKGtleSk7dmFyIHZhbHVlPSRsb2NhbHMudmFsdWU9ZGljdC5fX2dldGF0dHJfXygicG9wIikuX19jYWxsX18oc2VsZixrZXkpO3JldHVybiB0dXBsZShba2V5LHZhbHVlXSk7fWNhdGNoKGVycjYxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjEpO319O30pKFRydWUpOyRjbGFzcy5wb3BpdGVtLl9fbmFtZV9fPSJwb3BpdGVtIjskY2xhc3MubW92ZV90b19lbmQ9KGZ1bmN0aW9uKFRydWUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibW92ZV90b19lbmQiLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiXSx7Imxhc3QiOigkY2xhc3MuVHJ1ZSE9PXVuZGVmaW5lZD8kY2xhc3MuVHJ1ZTpUcnVlKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnV2dm9qZHdvLl9fZGljdF9fPSRuczsnTW92ZSBhbiBleGlzdGluZyBlbGVtZW50IHRvIHRoZSBlbmQgKG9yIGJlZ2lubmluZyBpZiBsYXN0PT1GYWxzZSkuXG5cbiAgICAgICAgUmFpc2VzIEtleUVycm9yIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICAgICAgICBXaGVuIGxhc3Q9VHJ1ZSwgYWN0cyBsaWtlIGEgZmFzdCB2ZXJzaW9uIG9mIHNlbGZba2V5XT1zZWxmLnBvcChrZXkpLlxuXG4gICAgICAgICc7dmFyIGxpbms9JGxvY2Fscy5saW5rPXNlbGYuX19nZXRhdHRyX18oIl9fbWFwIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoa2V5KTt2YXIgbGlua19wcmV2PSRsb2NhbHMubGlua19wcmV2PWxpbmsuX19nZXRhdHRyX18oInByZXYiKTt2YXIgbGlua19uZXh0PSRsb2NhbHMubGlua19uZXh0PWxpbmsuX19nZXRhdHRyX18oIm5leHQiKTtsaW5rX3ByZXYuX19zZXRhdHRyX18oIm5leHQiLGxpbmtfbmV4dCk7bGlua19uZXh0Ll9fc2V0YXR0cl9fKCJwcmV2IixsaW5rX3ByZXYpO3ZhciByb290PSRsb2NhbHMucm9vdD1zZWxmLl9fZ2V0YXR0cl9fKCJfX3Jvb3QiKTtpZihib29sKGxhc3QpKXt2YXIgbGFzdD0kbG9jYWxzLmxhc3Q9cm9vdC5fX2dldGF0dHJfXygicHJldiIpO2xpbmsuX19zZXRhdHRyX18oInByZXYiLGxhc3QpO2xpbmsuX19zZXRhdHRyX18oIm5leHQiLHJvb3QpO3Jvb3QuX19zZXRhdHRyX18oInByZXYiLGxpbmspO2xhc3QuX19zZXRhdHRyX18oIm5leHQiLHJvb3QuX19nZXRhdHRyX18oInByZXYiKSk7fWVsc2V7dmFyIGZpcnN0PSRsb2NhbHMuZmlyc3Q9cm9vdC5fX2dldGF0dHJfXygibmV4dCIpO2xpbmsuX19zZXRhdHRyX18oInByZXYiLHJvb3QpO2xpbmsuX19zZXRhdHRyX18oIm5leHQiLGZpcnN0KTtmaXJzdC5fX3NldGF0dHJfXygicHJldiIsbGluayk7cm9vdC5fX3NldGF0dHJfXygibmV4dCIsZmlyc3QuX19nZXRhdHRyX18oInByZXYiKSk7fX1jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KShUcnVlKTskY2xhc3MubW92ZV90b19lbmQuX19uYW1lX189Im1vdmVfdG9fZW5kIjskY2xhc3MuX19zaXplb2ZfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc2l6ZW9mX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudnNkbGlqa2guX19kaWN0X189JG5zO3ZhciBzaXplb2Y9JGxvY2Fscy5zaXplb2Y9X3N5cy5fX2dldGF0dHJfXygiZ2V0c2l6ZW9mIik7dmFyIG49JGxvY2Fscy5uPWxlbi5fX2NhbGxfXyhzZWxmKS5fX2FkZF9fKE51bWJlcigxKSk7dmFyIHNpemU9JGxvY2Fscy5zaXplPXNpemVvZi5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2RpY3RfXyIpKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD1zaXplb2YuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX19tYXAiKSkuX19tdWxfXyhOdW1iZXIoMikpO2lmKCFoYXNhdHRyKHNpemUsIl9faWFkZF9fIikpdmFyIHNpemU9JGxvY2Fscy5zaXplPXNpemUuX19hZGRfXygkdGVtcCk7ZWxzZSBzaXplPXNpemUuX19pYWRkX18oJHRlbXApO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXNpemVvZi5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfX2hhcmRyb290IikpLl9fbXVsX18obik7aWYoIWhhc2F0dHIoc2l6ZSwiX19pYWRkX18iKSl2YXIgc2l6ZT0kbG9jYWxzLnNpemU9c2l6ZS5fX2FkZF9fKCR0ZW1wKTtlbHNlIHNpemU9c2l6ZS5fX2lhZGRfXygkdGVtcCk7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9c2l6ZW9mLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9fcm9vdCIpKS5fX211bF9fKG4pO2lmKCFoYXNhdHRyKHNpemUsIl9faWFkZF9fIikpdmFyIHNpemU9JGxvY2Fscy5zaXplPXNpemUuX19hZGRfXygkdGVtcCk7ZWxzZSBzaXplPXNpemUuX19pYWRkX18oJHRlbXApO3JldHVybiBzaXplO31jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KSgpOyRjbGFzcy5fX3NpemVvZl9fLl9fbmFtZV9fPSJfX3NpemVvZl9fIjskY2xhc3MuX191cGRhdGU9KCRjbGFzcy5NdXRhYmxlTWFwcGluZyE9PXVuZGVmaW5lZD8kY2xhc3MuTXV0YWJsZU1hcHBpbmc6TXV0YWJsZU1hcHBpbmcpLl9fZ2V0YXR0cl9fKCJ1cGRhdGUiKTskY2xhc3MudXBkYXRlPV9fdXBkYXRlOyRjbGFzcy5rZXlzPSgkY2xhc3MuTXV0YWJsZU1hcHBpbmchPT11bmRlZmluZWQ/JGNsYXNzLk11dGFibGVNYXBwaW5nOk11dGFibGVNYXBwaW5nKS5fX2dldGF0dHJfXygia2V5cyIpOyRjbGFzcy52YWx1ZXM9KCRjbGFzcy5NdXRhYmxlTWFwcGluZyE9PXVuZGVmaW5lZD8kY2xhc3MuTXV0YWJsZU1hcHBpbmc6TXV0YWJsZU1hcHBpbmcpLl9fZ2V0YXR0cl9fKCJ2YWx1ZXMiKTskY2xhc3MuaXRlbXM9KCRjbGFzcy5NdXRhYmxlTWFwcGluZyE9PXVuZGVmaW5lZD8kY2xhc3MuTXV0YWJsZU1hcHBpbmc6TXV0YWJsZU1hcHBpbmcpLl9fZ2V0YXR0cl9fKCJpdGVtcyIpOyRjbGFzcy5fX25lX189KCRjbGFzcy5NdXRhYmxlTWFwcGluZyE9PXVuZGVmaW5lZD8kY2xhc3MuTXV0YWJsZU1hcHBpbmc6TXV0YWJsZU1hcHBpbmcpLl9fZ2V0YXR0cl9fKCJfX25lX18iKTskY2xhc3MuX19tYXJrZXI9KCRjbGFzcy5vYmplY3QhPT11bmRlZmluZWQ/JGNsYXNzLm9iamVjdDpvYmplY3QpLl9fY2FsbF9fKCk7JGNsYXNzLnBvcD0oZnVuY3Rpb24oX19tYXJrZXIpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicG9wIixhcmd1bWVudHMsWyJzZWxmIiwia2V5Il0seyIkJGRlZmF1bHQiOigkY2xhc3MuX19tYXJrZXIhPT11bmRlZmluZWQ/JGNsYXNzLl9fbWFya2VyOl9fbWFya2VyKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLndycG85enYwLl9fZGljdF9fPSRuczsnb2QucG9wKGtbLGRdKSAtPiB2LCByZW1vdmUgc3BlY2lmaWVkIGtleSBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgIHZhbHVlLiAgSWYga2V5IGlzIG5vdCBmb3VuZCwgZCBpcyByZXR1cm5lZCBpZiBnaXZlbiwgb3RoZXJ3aXNlIEtleUVycm9yXG4gICAgICAgIGlzIHJhaXNlZC5cblxuICAgICAgICAnO2lmKGJvb2woa2V5Ll9faW5fXyhzZWxmKSkpe3ZhciByZXN1bHQ9JGxvY2Fscy5yZXN1bHQ9c2VsZi5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShrZXkpO3NlbGYuX19nZXRhdHRyX18oIl9fZGVsaXRlbV9fIikoa2V5KTtyZXR1cm4gcmVzdWx0O31pZihib29sKCQkZGVmYXVsdD09PXNlbGYuX19nZXRhdHRyX18oIl9fbWFya2VyIikpKXRocm93IEtleUVycm9yLl9fY2FsbF9fKGtleSk7cmV0dXJuICQkZGVmYXVsdDt9Y2F0Y2goZXJyNjEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2MSk7fX07fSkoX19tYXJrZXIpOyRjbGFzcy5wb3AuX19uYW1lX189InBvcCI7JGNsYXNzLnNldGRlZmF1bHQ9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2V0ZGVmYXVsdCIsYXJndW1lbnRzLFsic2VsZiIsImtleSJdLHsiJCRkZWZhdWx0IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kdWhraTVjay5fX2RpY3RfXz0kbnM7J29kLnNldGRlZmF1bHQoa1ssZF0pIC0+IG9kLmdldChrLGQpLCBhbHNvIHNldCBvZFtrXT1kIGlmIGsgbm90IGluIG9kJztpZihib29sKGtleS5fX2luX18oc2VsZikpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGtleSk7c2VsZi5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShrZXksJCRkZWZhdWx0KTtyZXR1cm4gJCRkZWZhdWx0O31jYXRjaChlcnI2MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYxKTt9fTt9KShOb25lKTskY2xhc3Muc2V0ZGVmYXVsdC5fX25hbWVfXz0ic2V0ZGVmYXVsdCI7JGNsYXNzLl9fcmVwcl9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19yZXByX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYzlvMTY3cW8uX19kaWN0X189JG5zOydvZC5fX3JlcHJfXygpIDw9PT4gcmVwcihvZCknO2lmKGJvb2woIWJvb2woc2VsZikpKXJldHVybiAnJXMoKScuX19tb2RfXyh0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIikuX19nZXRhdHRyX18oIl9fbmFtZV9fIildKSk7cmV0dXJuICclcyglciknLl9fbW9kX18odHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpLGxpc3QuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiaXRlbXMiKS5fX2NhbGxfXygpKV0pKTt9Y2F0Y2goZXJyNjEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2MSk7fX07fSkoKTskY2xhc3MuX19yZXByX18uX19uYW1lX189Il9fcmVwcl9fIjskY2xhc3MuX19yZWR1Y2VfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVkdWNlX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubWQ0Nng1anouX19kaWN0X189JG5zOydSZXR1cm4gc3RhdGUgaW5mb3JtYXRpb24gZm9yIHBpY2tsaW5nJzt2YXIgaXRlbXM9JGxvY2Fscy5pdGVtcz0kbGlzdF9jb21wKHsnc2VsZic6c2VsZn0sIltrLCBzZWxmW2tdXSAiLCJmb3IgayBpbiBzZWxmIik7dmFyIGluc3RfZGljdD0kbG9jYWxzLmluc3RfZGljdD12YXJzLl9fY2FsbF9fKHNlbGYpLl9fZ2V0YXR0cl9fKCJjb3B5IikuX19jYWxsX18oKTt2YXIgJGl0ZXI2MT12YXJzLl9fY2FsbF9fKE9yZGVyZWREaWN0Ll9fY2FsbF9fKCkpO2Zvcih2YXIgJGk2MT0wOyRpNjE8JGl0ZXI2MS5fX2xlbl9fKCk7JGk2MSsrKXt2YXIgaz0kbG9jYWxzLms9JGl0ZXI2MS5fX2l0ZW1fXygkaTYxKTtpbnN0X2RpY3QuX19nZXRhdHRyX18oInBvcCIpLl9fY2FsbF9fKGssTm9uZSk7fWlmKGJvb2woaW5zdF9kaWN0KSlyZXR1cm4gdHVwbGUoW3NlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLHR1cGxlKFtpdGVtc10pLGluc3RfZGljdF0pO3JldHVybiB0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIiksdHVwbGUoW2l0ZW1zXSldKTt9Y2F0Y2goZXJyNjEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2MSk7fX07fSkoKTskY2xhc3MuX19yZWR1Y2VfXy5fX25hbWVfXz0iX19yZWR1Y2VfXyI7JGNsYXNzLmNvcHk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjb3B5Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnhrOW14bDdiLl9fZGljdF9fPSRuczsnb2QuY29weSgpIC0+IGEgc2hhbGxvdyBjb3B5IG9mIG9kJztyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIikuX19jYWxsX18oc2VsZik7fWNhdGNoKGVycjYyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjIpO319O30pKCk7JGNsYXNzLmNvcHkuX19uYW1lX189ImNvcHkiOyRjbGFzcy5mcm9ta2V5cz0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJmcm9ta2V5cyIsYXJndW1lbnRzLFsiY2xzIiwiaXRlcmFibGUiXSx7InZhbHVlIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54bGpuNzczaC5fX2RpY3RfXz0kbnM7J09ELmZyb21rZXlzKFNbLCB2XSkgLT4gTmV3IG9yZGVyZWQgZGljdGlvbmFyeSB3aXRoIGtleXMgZnJvbSBTLlxuICAgICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdmFsdWUgZGVmYXVsdHMgdG8gTm9uZS5cblxuICAgICAgICAnO3ZhciBzZWxmPSRsb2NhbHMuc2VsZj1jbHMuX19jYWxsX18oKTt2YXIgJGl0ZXI2Mj1pdGVyYWJsZTtmb3IodmFyICRpNjI9MDskaTYyPCRpdGVyNjIuX19sZW5fXygpOyRpNjIrKyl7dmFyIGtleT0kbG9jYWxzLmtleT0kaXRlcjYyLl9faXRlbV9fKCRpNjIpO3NlbGYuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoa2V5LHZhbHVlKTt9cmV0dXJuIHNlbGY7fWNhdGNoKGVycjYyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjIpO319O30pKE5vbmUpOyRjbGFzcy5mcm9ta2V5cy5fX25hbWVfXz0iZnJvbWtleXMiOyRjbGFzcy5mcm9ta2V5cz0oJGNsYXNzLmNsYXNzbWV0aG9kIT09dW5kZWZpbmVkPyRjbGFzcy5jbGFzc21ldGhvZDpjbGFzc21ldGhvZCkoJGNsYXNzLCRjbGFzcy5mcm9ta2V5cyk7JGNsYXNzLl9fZXFfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fZXFfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmcybXAwemxxLl9fZGljdF9fPSRuczsnb2QuX19lcV9fKHkpIDw9PT4gb2Q9PXkuICBDb21wYXJpc29uIHRvIGFub3RoZXIgT0QgaXMgb3JkZXItc2Vuc2l0aXZlXG4gICAgICAgIHdoaWxlIGNvbXBhcmlzb24gdG8gYSByZWd1bGFyIG1hcHBpbmcgaXMgb3JkZXItaW5zZW5zaXRpdmUuXG5cbiAgICAgICAgJztpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ob3RoZXIsT3JkZXJlZERpY3QpKSlyZXR1cm4gJHRlc3RfZXhwcigkdGVzdF9pdGVtKGxlbi5fX2NhbGxfXyhzZWxmKS5fX2VxX18obGVuLl9fY2FsbF9fKG90aGVyKSkpJiYkdGVzdF9pdGVtKGFsbC5fX2NhbGxfXygkZ2VuX2V4cHIoeyd6aXAnOnppcCwnc2VsZic6c2VsZiwnb3RoZXInOm90aGVyfSwicD09cSAiLCJmb3IgcCwgcSBpbiB6aXAoc2VsZi5pdGVtcygpLCBvdGhlci5pdGVtcygpKSIpKSkpO3JldHVybiBkaWN0Ll9fZ2V0YXR0cl9fKCJfX2VxX18iKS5fX2NhbGxfXyhzZWxmLG90aGVyKTt9Y2F0Y2goZXJyNjMpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2Myk7fX07fSkoKTskY2xhc3MuX19lcV9fLl9fbmFtZV9fPSJfX2VxX18iO3JldHVybiAkY2xhc3M7fSkoKTt2YXIgT3JkZXJlZERpY3Q9JGNsYXNzX2NvbnN0cnVjdG9yKCJPcmRlcmVkRGljdCIsJE9yZGVyZWREaWN0LGRpY3QpO19fQlJZVEhPTl9fLnNjb3BlWyJjb2xsZWN0aW9ucy5weSJdLl9fZGljdF9fLk9yZGVyZWREaWN0PU9yZGVyZWREaWN0O3ZhciBfY291bnRfZWxlbWVudHM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfY291bnRfZWxlbWVudHMiLGFyZ3VtZW50cyxbIm1hcHBpbmciLCJpdGVyYWJsZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNDgyd21mZHgiXS5fX2RpY3RfXz0kbnM7J1RhbGx5IGVsZW1lbnRzIGZyb20gdGhlIGl0ZXJhYmxlLic7dmFyIG1hcHBpbmdfZ2V0PSRsb2NhbHMubWFwcGluZ19nZXQ9bWFwcGluZy5fX2dldGF0dHJfXygiZ2V0Iik7dmFyICRpdGVyNjM9aXRlcmFibGU7Zm9yKHZhciAkaTYzPTA7JGk2MzwkaXRlcjYzLl9fbGVuX18oKTskaTYzKyspe3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kaXRlcjYzLl9faXRlbV9fKCRpNjMpO21hcHBpbmcuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoZWxlbSxtYXBwaW5nX2dldC5fX2NhbGxfXyhlbGVtLE51bWJlcigwKSkuX19hZGRfXyhOdW1iZXIoMSkpKTt9fWNhdGNoKGVycjYzKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjMpO319O30pKCk7X2NvdW50X2VsZW1lbnRzLl9fbmFtZV9fPSJfY291bnRfZWxlbWVudHMiOyRnbG9iYWxzLl9jb3VudF9lbGVtZW50cz1fY291bnRfZWxlbWVudHM7dmFyICRDb3VudGVyPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOydEaWN0IHN1YmNsYXNzIGZvciBjb3VudGluZyBoYXNoYWJsZSBpdGVtcy4gIFNvbWV0aW1lcyBjYWxsZWQgYSBiYWdcbiAgICBvciBtdWx0aXNldC4gIEVsZW1lbnRzIGFyZSBzdG9yZWQgYXMgZGljdGlvbmFyeSBrZXlzIGFuZCB0aGVpciBjb3VudHNcbiAgICBhcmUgc3RvcmVkIGFzIGRpY3Rpb25hcnkgdmFsdWVzLlxuXG4gICAgPj4+IGMgPSBDb3VudGVyKFwnYWJjZGVhYmNkYWJjYWJhXCcpICAjIGNvdW50IGVsZW1lbnRzIGZyb20gYSBzdHJpbmdcblxuICAgID4+PiBjLm1vc3RfY29tbW9uKDMpICAgICAgICAgICAgICAgICMgdGhyZWUgbW9zdCBjb21tb24gZWxlbWVudHNcbiAgICBbKFwnYVwnLCA1KSwgKFwnYlwnLCA0KSwgKFwnY1wnLCAzKV1cbiAgICA+Pj4gc29ydGVkKGMpICAgICAgICAgICAgICAgICAgICAgICAjIGxpc3QgYWxsIHVuaXF1ZSBlbGVtZW50c1xuICAgIFtcJ2FcJywgXCdiXCcsIFwnY1wnLCBcJ2RcJywgXCdlXCddXG4gICAgPj4+IFwnXCcuam9pbihzb3J0ZWQoYy5lbGVtZW50cygpKSkgICAjIGxpc3QgZWxlbWVudHMgd2l0aCByZXBldGl0aW9uc1xuICAgIFwnYWFhYWFiYmJiY2NjZGRlXCdcbiAgICA+Pj4gc3VtKGMudmFsdWVzKCkpICAgICAgICAgICAgICAgICAjIHRvdGFsIG9mIGFsbCBjb3VudHNcbiAgICAxNVxuXG4gICAgPj4+IGNbXCdhXCddICAgICAgICAgICAgICAgICAgICAgICAgICAjIGNvdW50IG9mIGxldHRlciBcJ2FcJ1xuICAgIDVcbiAgICA+Pj4gZm9yIGVsZW0gaW4gXCdzaGF6YW1cJzogICAgICAgICAgICMgdXBkYXRlIGNvdW50cyBmcm9tIGFuIGl0ZXJhYmxlXG4gICAgLi4uICAgICBjW2VsZW1dICs9IDEgICAgICAgICAgICAgICAgIyBieSBhZGRpbmcgMSB0byBlYWNoIGVsZW1lbnRcJ3MgY291bnRcbiAgICA+Pj4gY1tcJ2FcJ10gICAgICAgICAgICAgICAgICAgICAgICAgICMgbm93IHRoZXJlIGFyZSBzZXZlbiBcJ2FcJ1xuICAgIDdcbiAgICA+Pj4gZGVsIGNbXCdiXCddICAgICAgICAgICAgICAgICAgICAgICMgcmVtb3ZlIGFsbCBcJ2JcJ1xuICAgID4+PiBjW1wnYlwnXSAgICAgICAgICAgICAgICAgICAgICAgICAgIyBub3cgdGhlcmUgYXJlIHplcm8gXCdiXCdcbiAgICAwXG5cbiAgICA+Pj4gZCA9IENvdW50ZXIoXCdzaW1zYWxhYmltXCcpICAgICAgICMgbWFrZSBhbm90aGVyIGNvdW50ZXJcbiAgICA+Pj4gYy51cGRhdGUoZCkgICAgICAgICAgICAgICAgICAgICAjIGFkZCBpbiB0aGUgc2Vjb25kIGNvdW50ZXJcbiAgICA+Pj4gY1tcJ2FcJ10gICAgICAgICAgICAgICAgICAgICAgICAgICMgbm93IHRoZXJlIGFyZSBuaW5lIFwnYVwnXG4gICAgOVxuXG4gICAgPj4+IGMuY2xlYXIoKSAgICAgICAgICAgICAgICAgICAgICAgIyBlbXB0eSB0aGUgY291bnRlclxuICAgID4+PiBjXG4gICAgQ291bnRlcigpXG5cbiAgICBOb3RlOiAgSWYgYSBjb3VudCBpcyBzZXQgdG8gemVybyBvciByZWR1Y2VkIHRvIHplcm8sIGl0IHdpbGwgcmVtYWluXG4gICAgaW4gdGhlIGNvdW50ZXIgdW50aWwgdGhlIGVudHJ5IGlzIGRlbGV0ZWQgb3IgdGhlIGNvdW50ZXIgaXMgY2xlYXJlZDpcblxuICAgID4+PiBjID0gQ291bnRlcihcJ2FhYWJiY1wnKVxuICAgID4+PiBjW1wnYlwnXSAtPSAyICAgICAgICAgICAgICAgICAgICAgIyByZWR1Y2UgdGhlIGNvdW50IG9mIFwnYlwnIGJ5IHR3b1xuICAgID4+PiBjLm1vc3RfY29tbW9uKCkgICAgICAgICAgICAgICAgICMgXCdiXCcgaXMgc3RpbGwgaW4sIGJ1dCBpdHMgY291bnQgaXMgemVyb1xuICAgIFsoXCdhXCcsIDMpLCAoXCdjXCcsIDEpLCAoXCdiXCcsIDApXVxuXG4gICAgJzskY2xhc3MuX19pbml0X189KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19pbml0X18iLGFyZ3VtZW50cyxbInNlbGYiXSx7Iml0ZXJhYmxlIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsImt3ZHMiKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm5ocmtxeTRlLl9fZGljdF9fPSRuczsnQ3JlYXRlIGEgbmV3LCBlbXB0eSBDb3VudGVyIG9iamVjdC4gIEFuZCBpZiBnaXZlbiwgY291bnQgZWxlbWVudHNcbiAgICAgICAgZnJvbSBhbiBpbnB1dCBpdGVyYWJsZS4gIE9yLCBpbml0aWFsaXplIHRoZSBjb3VudCBmcm9tIGFub3RoZXIgbWFwcGluZ1xuICAgICAgICBvZiBlbGVtZW50cyB0byB0aGVpciBjb3VudHMuXG5cbiAgICAgICAgPj4+IGMgPSBDb3VudGVyKCkgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGEgbmV3LCBlbXB0eSBjb3VudGVyXG4gICAgICAgID4+PiBjID0gQ291bnRlcihcJ2dhbGxhaGFkXCcpICAgICAgICAgICAgICAgICAjIGEgbmV3IGNvdW50ZXIgZnJvbSBhbiBpdGVyYWJsZVxuICAgICAgICA+Pj4gYyA9IENvdW50ZXIoe1wnYVwnOiA0LCBcJ2JcJzogMn0pICAgICAgICAgICAjIGEgbmV3IGNvdW50ZXIgZnJvbSBhIG1hcHBpbmdcbiAgICAgICAgPj4+IGMgPSBDb3VudGVyKGE9NCwgYj0yKSAgICAgICAgICAgICAgICAgICAjIGEgbmV3IGNvdW50ZXIgZnJvbSBrZXl3b3JkIGFyZ3NcblxuICAgICAgICAnO2RpY3QuX19nZXRhdHRyX18oIl9faW5pdF9fIikuX19jYWxsX18oc2VsZik7c2VsZi5fX2dldGF0dHJfXygidXBkYXRlIikuX19jYWxsX18oaXRlcmFibGUsJHBkaWN0KGt3ZHMpKTt9Y2F0Y2goZXJyNjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2NCk7fX07fSkoTm9uZSk7JGNsYXNzLl9faW5pdF9fLl9fbmFtZV9fPSJfX2luaXRfXyI7JGNsYXNzLl9fbWlzc2luZ19fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19taXNzaW5nX18iLGFyZ3VtZW50cyxbInNlbGYiLCJrZXkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucG92M3A3bHEuX19kaWN0X189JG5zOydUaGUgY291bnQgb2YgZWxlbWVudHMgbm90IGluIHRoZSBDb3VudGVyIGlzIHplcm8uJztyZXR1cm4gTnVtYmVyKDApO31jYXRjaChlcnI2NCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY0KTt9fTt9KSgpOyRjbGFzcy5fX21pc3NpbmdfXy5fX25hbWVfXz0iX19taXNzaW5nX18iOyRjbGFzcy5tb3N0X2NvbW1vbj0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJtb3N0X2NvbW1vbiIsYXJndW1lbnRzLFsic2VsZiJdLHsibiI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudm5yamk4MnguX19kaWN0X189JG5zOydMaXN0IHRoZSBuIG1vc3QgY29tbW9uIGVsZW1lbnRzIGFuZCB0aGVpciBjb3VudHMgZnJvbSB0aGUgbW9zdFxuICAgICAgICBjb21tb24gdG8gdGhlIGxlYXN0LiAgSWYgbiBpcyBOb25lLCB0aGVuIGxpc3QgYWxsIGVsZW1lbnQgY291bnRzLlxuXG4gICAgICAgID4+PiBDb3VudGVyKFwnYWJjZGVhYmNkYWJjYWJhXCcpLm1vc3RfY29tbW9uKDMpXG4gICAgICAgIFsoXCdhXCcsIDUpLCAoXCdiXCcsIDQpLCAoXCdjXCcsIDMpXVxuXG4gICAgICAgICc7aWYoYm9vbChuPT09Tm9uZSkpcmV0dXJuIHNvcnRlZC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJpdGVtcyIpLl9fY2FsbF9fKCksJEt3KCJrZXkiLF9pdGVtZ2V0dGVyLl9fY2FsbF9fKE51bWJlcigxKSkpLCRLdygicmV2ZXJzZSIsVHJ1ZSkpO3JldHVybiBfaGVhcHEuX19nZXRhdHRyX18oIm5sYXJnZXN0IikuX19jYWxsX18obixzZWxmLl9fZ2V0YXR0cl9fKCJpdGVtcyIpLl9fY2FsbF9fKCksJEt3KCJrZXkiLF9pdGVtZ2V0dGVyLl9fY2FsbF9fKE51bWJlcigxKSkpKTt9Y2F0Y2goZXJyNjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2NCk7fX07fSkoTm9uZSk7JGNsYXNzLm1vc3RfY29tbW9uLl9fbmFtZV9fPSJtb3N0X2NvbW1vbiI7JGNsYXNzLmVsZW1lbnRzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZWxlbWVudHMiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucmowb2p3MHEuX19kaWN0X189JG5zOydJdGVyYXRvciBvdmVyIGVsZW1lbnRzIHJlcGVhdGluZyBlYWNoIGFzIG1hbnkgdGltZXMgYXMgaXRzIGNvdW50LlxuXG4gICAgICAgID4+PiBjID0gQ291bnRlcihcJ0FCQ0FCQ1wnKVxuICAgICAgICA+Pj4gc29ydGVkKGMuZWxlbWVudHMoKSlcbiAgICAgICAgW1wnQVwnLCBcJ0FcJywgXCdCXCcsIFwnQlwnLCBcJ0NcJywgXCdDXCddXG5cbiAgICAgICAgIyBLbnV0aFwncyBleGFtcGxlIGZvciBwcmltZSBmYWN0b3JzIG9mIDE4MzY6ICAyKioyICogMyoqMyAqIDE3KioxXG4gICAgICAgID4+PiBwcmltZV9mYWN0b3JzID0gQ291bnRlcih7MjogMiwgMzogMywgMTc6IDF9KVxuICAgICAgICA+Pj4gcHJvZHVjdCA9IDFcbiAgICAgICAgPj4+IGZvciBmYWN0b3IgaW4gcHJpbWVfZmFjdG9ycy5lbGVtZW50cygpOiAgICAgIyBsb29wIG92ZXIgZmFjdG9yc1xuICAgICAgICAuLi4gICAgIHByb2R1Y3QgKj0gZmFjdG9yICAgICAgICAgICAgICAgICAgICAgICAjIGFuZCBtdWx0aXBseSB0aGVtXG4gICAgICAgID4+PiBwcm9kdWN0XG4gICAgICAgIDE4MzZcblxuICAgICAgICBOb3RlLCBpZiBhbiBlbGVtZW50XCdzIGNvdW50IGhhcyBiZWVuIHNldCB0byB6ZXJvIG9yIGlzIGEgbmVnYXRpdmVcbiAgICAgICAgbnVtYmVyLCBlbGVtZW50cygpIHdpbGwgaWdub3JlIGl0LlxuXG4gICAgICAgICc7cmV0dXJuIF9jaGFpbi5fX2dldGF0dHJfXygiZnJvbV9pdGVyYWJsZSIpLl9fY2FsbF9fKF9zdGFybWFwLl9fY2FsbF9fKF9yZXBlYXQsc2VsZi5fX2dldGF0dHJfXygiaXRlbXMiKS5fX2NhbGxfXygpKSk7fWNhdGNoKGVycjY0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNjQpO319O30pKCk7JGNsYXNzLmVsZW1lbnRzLl9fbmFtZV9fPSJlbGVtZW50cyI7JGNsYXNzLmZyb21rZXlzPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZyb21rZXlzIixhcmd1bWVudHMsWyJjbHMiLCJpdGVyYWJsZSJdLHsidiI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubXh6aXE1dnouX19kaWN0X189JG5zO3Rocm93IE5vdEltcGxlbWVudGVkRXJyb3IuX19jYWxsX18oJ0NvdW50ZXIuZnJvbWtleXMoKSBpcyB1bmRlZmluZWQuICBVc2UgQ291bnRlcihpdGVyYWJsZSkgaW5zdGVhZC4nKTt9Y2F0Y2goZXJyNjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2NCk7fX07fSkoTm9uZSk7JGNsYXNzLmZyb21rZXlzLl9fbmFtZV9fPSJmcm9ta2V5cyI7JGNsYXNzLmZyb21rZXlzPSgkY2xhc3MuY2xhc3NtZXRob2QhPT11bmRlZmluZWQ/JGNsYXNzLmNsYXNzbWV0aG9kOmNsYXNzbWV0aG9kKSgkY2xhc3MsJGNsYXNzLmZyb21rZXlzKTskY2xhc3MudXBkYXRlPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInVwZGF0ZSIsYXJndW1lbnRzLFsic2VsZiJdLHsiaXRlcmFibGUiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCwia3dkcyIpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZnh6NGduZ2cuX19kaWN0X189JG5zOydMaWtlIGRpY3QudXBkYXRlKCkgYnV0IGFkZCBjb3VudHMgaW5zdGVhZCBvZiByZXBsYWNpbmcgdGhlbS5cblxuICAgICAgICBTb3VyY2UgY2FuIGJlIGFuIGl0ZXJhYmxlLCBhIGRpY3Rpb25hcnksIG9yIGFub3RoZXIgQ291bnRlciBpbnN0YW5jZS5cblxuICAgICAgICA+Pj4gYyA9IENvdW50ZXIoXCd3aGljaFwnKVxuICAgICAgICA+Pj4gYy51cGRhdGUoXCd3aXRjaFwnKSAgICAgICAgICAgIyBhZGQgZWxlbWVudHMgZnJvbSBhbm90aGVyIGl0ZXJhYmxlXG4gICAgICAgID4+PiBkID0gQ291bnRlcihcJ3dhdGNoXCcpXG4gICAgICAgID4+PiBjLnVwZGF0ZShkKSAgICAgICAgICAgICAgICAgIyBhZGQgZWxlbWVudHMgZnJvbSBhbm90aGVyIGNvdW50ZXJcbiAgICAgICAgPj4+IGNbXCdoXCddICAgICAgICAgICAgICAgICAgICAgICMgZm91ciBcJ2hcJyBpbiB3aGljaCwgd2l0Y2gsIGFuZCB3YXRjaFxuICAgICAgICA0XG5cbiAgICAgICAgJztpZihib29sKGl0ZXJhYmxlIT09Tm9uZSkpaWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKGl0ZXJhYmxlLE1hcHBpbmcpKSl7aWYoYm9vbChzZWxmKSl7dmFyIHNlbGZfZ2V0PSRsb2NhbHMuc2VsZl9nZXQ9c2VsZi5fX2dldGF0dHJfXygiZ2V0Iik7dmFyICRpdGVyNjQ9aXRlcmFibGUuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNjQ9MDskaTY0PCRpdGVyNjQuX19sZW5fXygpOyRpNjQrKyl7JHJpZ2h0PSRpdGVyNjQuX19pdGVtX18oJGk2NCk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3NlbGYuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoZWxlbSxjb3VudC5fX2FkZF9fKHNlbGZfZ2V0Ll9fY2FsbF9fKGVsZW0sTnVtYmVyKDApKSkpO319ZWxzZSAkJHN1cGVyLl9fY2FsbF9fKCkuX19nZXRhdHRyX18oInVwZGF0ZSIpLl9fY2FsbF9fKGl0ZXJhYmxlKTt9ZWxzZSBfY291bnRfZWxlbWVudHMuX19jYWxsX18oc2VsZixpdGVyYWJsZSk7aWYoYm9vbChrd2RzKSlzZWxmLl9fZ2V0YXR0cl9fKCJ1cGRhdGUiKS5fX2NhbGxfXyhrd2RzKTt9Y2F0Y2goZXJyNjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2NCk7fX07fSkoTm9uZSk7JGNsYXNzLnVwZGF0ZS5fX25hbWVfXz0idXBkYXRlIjskY2xhc3Muc3VidHJhY3Q9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic3VidHJhY3QiLGFyZ3VtZW50cyxbInNlbGYiXSx7Iml0ZXJhYmxlIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsImt3ZHMiKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmRkdWltenFxLl9fZGljdF9fPSRuczsnTGlrZSBkaWN0LnVwZGF0ZSgpIGJ1dCBzdWJ0cmFjdHMgY291bnRzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW0uXG4gICAgICAgIENvdW50cyBjYW4gYmUgcmVkdWNlZCBiZWxvdyB6ZXJvLiAgQm90aCB0aGUgaW5wdXRzIGFuZCBvdXRwdXRzIGFyZVxuICAgICAgICBhbGxvd2VkIHRvIGNvbnRhaW4gemVybyBhbmQgbmVnYXRpdmUgY291bnRzLlxuXG4gICAgICAgIFNvdXJjZSBjYW4gYmUgYW4gaXRlcmFibGUsIGEgZGljdGlvbmFyeSwgb3IgYW5vdGhlciBDb3VudGVyIGluc3RhbmNlLlxuXG4gICAgICAgID4+PiBjID0gQ291bnRlcihcJ3doaWNoXCcpXG4gICAgICAgID4+PiBjLnN1YnRyYWN0KFwnd2l0Y2hcJykgICAgICAgICAgICAgIyBzdWJ0cmFjdCBlbGVtZW50cyBmcm9tIGFub3RoZXIgaXRlcmFibGVcbiAgICAgICAgPj4+IGMuc3VidHJhY3QoQ291bnRlcihcJ3dhdGNoXCcpKSAgICAjIHN1YnRyYWN0IGVsZW1lbnRzIGZyb20gYW5vdGhlciBjb3VudGVyXG4gICAgICAgID4+PiBjW1wnaFwnXSAgICAgICAgICAgICAgICAgICAgICAgICAgIyAyIGluIHdoaWNoLCBtaW51cyAxIGluIHdpdGNoLCBtaW51cyAxIGluIHdhdGNoXG4gICAgICAgIDBcbiAgICAgICAgPj4+IGNbXCd3XCddICAgICAgICAgICAgICAgICAgICAgICAgICAjIDEgaW4gd2hpY2gsIG1pbnVzIDEgaW4gd2l0Y2gsIG1pbnVzIDEgaW4gd2F0Y2hcbiAgICAgICAgLTFcblxuICAgICAgICAnO2lmKGJvb2woaXRlcmFibGUhPT1Ob25lKSl7dmFyIHNlbGZfZ2V0PSRsb2NhbHMuc2VsZl9nZXQ9c2VsZi5fX2dldGF0dHJfXygiZ2V0Iik7aWYoYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKGl0ZXJhYmxlLE1hcHBpbmcpKSl7dmFyICRpdGVyNjU9aXRlcmFibGUuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNjU9MDskaTY1PCRpdGVyNjUuX19sZW5fXygpOyRpNjUrKyl7JHJpZ2h0PSRpdGVyNjUuX19pdGVtX18oJGk2NSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3NlbGYuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoZWxlbSxzZWxmX2dldC5fX2NhbGxfXyhlbGVtLE51bWJlcigwKSkuX19zdWJfXyhjb3VudCkpO319ZWxzZXt2YXIgJGl0ZXI2Nj1pdGVyYWJsZTtmb3IodmFyICRpNjY9MDskaTY2PCRpdGVyNjYuX19sZW5fXygpOyRpNjYrKyl7dmFyIGVsZW09JGxvY2Fscy5lbGVtPSRpdGVyNjYuX19pdGVtX18oJGk2Nik7c2VsZi5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShlbGVtLHNlbGZfZ2V0Ll9fY2FsbF9fKGVsZW0sTnVtYmVyKDApKS5fX3N1Yl9fKE51bWJlcigxKSkpO319fWlmKGJvb2woa3dkcykpc2VsZi5fX2dldGF0dHJfXygic3VidHJhY3QiKS5fX2NhbGxfXyhrd2RzKTt9Y2F0Y2goZXJyNjUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2NSk7fX07fSkoTm9uZSk7JGNsYXNzLnN1YnRyYWN0Ll9fbmFtZV9fPSJzdWJ0cmFjdCI7JGNsYXNzLmNvcHk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjb3B5Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI0eW5wZ3NzciJdLl9fZGljdF9fPSRuczsnUmV0dXJuIGEgc2hhbGxvdyBjb3B5Lic7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9fY2xhc3NfXyIpLl9fY2FsbF9fKHNlbGYpO31jYXRjaChlcnI2Nyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY3KTt9fTt9KSgpOyRjbGFzcy5jb3B5Ll9fbmFtZV9fPSJjb3B5IjskY2xhc3MuX19yZWR1Y2VfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVkdWNlX18iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaWRpMXNkY3YuX19kaWN0X189JG5zO3JldHVybiB0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIiksdHVwbGUoW2RpY3QuX19jYWxsX18oc2VsZildKV0pO31jYXRjaChlcnI2Nyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY3KTt9fTt9KSgpOyRjbGFzcy5fX3JlZHVjZV9fLl9fbmFtZV9fPSJfX3JlZHVjZV9fIjskY2xhc3MuX19kZWxpdGVtX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2RlbGl0ZW1fXyIsYXJndW1lbnRzLFsic2VsZiIsImVsZW0iXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjIxcXd5N3l1Il0uX19kaWN0X189JG5zOydMaWtlIGRpY3QuX19kZWxpdGVtX18oKSBidXQgZG9lcyBub3QgcmFpc2UgS2V5RXJyb3IgZm9yIG1pc3NpbmcgdmFsdWVzLic7aWYoYm9vbChlbGVtLl9faW5fXyhzZWxmKSkpJCRzdXBlci5fX2NhbGxfXygpLl9fZ2V0YXR0cl9fKCJfX2RlbGl0ZW1fXyIpLl9fY2FsbF9fKGVsZW0pO31jYXRjaChlcnI2Nyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY3KTt9fTt9KSgpOyRjbGFzcy5fX2RlbGl0ZW1fXy5fX25hbWVfXz0iX19kZWxpdGVtX18iOyRjbGFzcy5fX3JlcHJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fcmVwcl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmdodzk4cjZmLl9fZGljdF9fPSRucztpZihib29sKCFib29sKHNlbGYpKSlyZXR1cm4gJyVzKCknLl9fbW9kX18oc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIikuX19nZXRhdHRyX18oIl9fbmFtZV9fIikpO3RyeXt2YXIgaXRlbXM9JGxvY2Fscy5pdGVtcz0nLCAnLl9fZ2V0YXR0cl9fKCJqb2luIikuX19jYWxsX18obWFwLl9fY2FsbF9fKCclcjogJXInLl9fZ2V0YXR0cl9fKCJfX21vZF9fIiksc2VsZi5fX2dldGF0dHJfXygibW9zdF9jb21tb24iKS5fX2NhbGxfXygpKSk7cmV0dXJuICclcyh7JXN9KScuX19tb2RfXyh0dXBsZShbc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIikuX19nZXRhdHRyX18oIl9fbmFtZV9fIiksaXRlbXNdKSk7fWNhdGNoKCRlcnI2Nyl7aWYoZmFsc2Updm9pZCAwO2Vsc2UgaWYoWyJUeXBlRXJyb3IiXS5pbmRleE9mKCRlcnI2Ny5fX25hbWVfXyk+LTEpcmV0dXJuICd7MH0oezEhcn0pJy5fX2dldGF0dHJfXygiZm9ybWF0IikuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX19jbGFzc19fIikuX19nZXRhdHRyX18oIl9fbmFtZV9fIiksZGljdC5fX2NhbGxfXyhzZWxmKSk7ZWxzZSB0aHJvdyAkZXJyNjc7fX1jYXRjaChlcnI2Nyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY3KTt9fTt9KSgpOyRjbGFzcy5fX3JlcHJfXy5fX25hbWVfXz0iX19yZXByX18iOyRjbGFzcy5fX2FkZF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19hZGRfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnVnbXF2cGJwLl9fZGljdF9fPSRuczsnQWRkIGNvdW50cyBmcm9tIHR3byBjb3VudGVycy5cblxuICAgICAgICA+Pj4gQ291bnRlcihcJ2FiYmJcJykgKyBDb3VudGVyKFwnYmNjXCcpXG4gICAgICAgIENvdW50ZXIoe1wnYlwnOiA0LCBcJ2NcJzogMiwgXCdhXCc6IDF9KVxuXG4gICAgICAgICc7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLENvdW50ZXIpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO3ZhciByZXN1bHQ9JGxvY2Fscy5yZXN1bHQ9Q291bnRlci5fX2NhbGxfXygpO3ZhciAkaXRlcjY4PXNlbGYuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNjg9MDskaTY4PCRpdGVyNjguX19sZW5fXygpOyRpNjgrKyl7JHJpZ2h0PSRpdGVyNjguX19pdGVtX18oJGk2OCk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBuZXdjb3VudD0kbG9jYWxzLm5ld2NvdW50PWNvdW50Ll9fYWRkX18ob3RoZXIuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoZWxlbSkpO2lmKGJvb2wobmV3Y291bnQuX19ndF9fKE51bWJlcigwKSkpKXJlc3VsdC5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShlbGVtLG5ld2NvdW50KTt9dmFyICRpdGVyNjk9b3RoZXIuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNjk9MDskaTY5PCRpdGVyNjkuX19sZW5fXygpOyRpNjkrKyl7JHJpZ2h0PSRpdGVyNjkuX19pdGVtX18oJGk2OSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGVsZW0uX19ub3RfaW5fXyhzZWxmKSkmJiR0ZXN0X2l0ZW0oY291bnQuX19ndF9fKE51bWJlcigwKSkpKSkpcmVzdWx0Ll9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKGVsZW0sY291bnQpO31yZXR1cm4gcmVzdWx0O31jYXRjaChlcnI2OCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjY4KTt9fTt9KSgpOyRjbGFzcy5fX2FkZF9fLl9fbmFtZV9fPSJfX2FkZF9fIjskY2xhc3MuX19zdWJfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc3ViX18iLGFyZ3VtZW50cyxbInNlbGYiLCJvdGhlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS56dnh1amdyeC5fX2RpY3RfXz0kbnM7JyBTdWJ0cmFjdCBjb3VudCwgYnV0IGtlZXAgb25seSByZXN1bHRzIHdpdGggcG9zaXRpdmUgY291bnRzLlxuXG4gICAgICAgID4+PiBDb3VudGVyKFwnYWJiYmNcJykgLSBDb3VudGVyKFwnYmNjZFwnKVxuICAgICAgICBDb3VudGVyKHtcJ2JcJzogMiwgXCdhXCc6IDF9KVxuXG4gICAgICAgICc7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLENvdW50ZXIpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO3ZhciByZXN1bHQ9JGxvY2Fscy5yZXN1bHQ9Q291bnRlci5fX2NhbGxfXygpO3ZhciAkaXRlcjcwPXNlbGYuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNzA9MDskaTcwPCRpdGVyNzAuX19sZW5fXygpOyRpNzArKyl7JHJpZ2h0PSRpdGVyNzAuX19pdGVtX18oJGk3MCk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBuZXdjb3VudD0kbG9jYWxzLm5ld2NvdW50PWNvdW50Ll9fc3ViX18ob3RoZXIuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoZWxlbSkpO2lmKGJvb2wobmV3Y291bnQuX19ndF9fKE51bWJlcigwKSkpKXJlc3VsdC5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShlbGVtLG5ld2NvdW50KTt9dmFyICRpdGVyNzE9b3RoZXIuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNzE9MDskaTcxPCRpdGVyNzEuX19sZW5fXygpOyRpNzErKyl7JHJpZ2h0PSRpdGVyNzEuX19pdGVtX18oJGk3MSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGVsZW0uX19ub3RfaW5fXyhzZWxmKSkmJiR0ZXN0X2l0ZW0oY291bnQuX19sdF9fKE51bWJlcigwKSkpKSkpcmVzdWx0Ll9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKGVsZW0sTnVtYmVyKDApLl9fc3ViX18oY291bnQpKTt9cmV0dXJuIHJlc3VsdDt9Y2F0Y2goZXJyNzApe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI3MCk7fX07fSkoKTskY2xhc3MuX19zdWJfXy5fX25hbWVfXz0iX19zdWJfXyI7JGNsYXNzLl9fb3JfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fb3JfXyIsYXJndW1lbnRzLFsic2VsZiIsIm90aGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnU3aTk5ampqLl9fZGljdF9fPSRuczsnVW5pb24gaXMgdGhlIG1heGltdW0gb2YgdmFsdWUgaW4gZWl0aGVyIG9mIHRoZSBpbnB1dCBjb3VudGVycy5cblxuICAgICAgICA+Pj4gQ291bnRlcihcJ2FiYmJcJykgfCBDb3VudGVyKFwnYmNjXCcpXG4gICAgICAgIENvdW50ZXIoe1wnYlwnOiAzLCBcJ2NcJzogMiwgXCdhXCc6IDF9KVxuXG4gICAgICAgICc7aWYoYm9vbCghYm9vbChpc2luc3RhbmNlLl9fY2FsbF9fKG90aGVyLENvdW50ZXIpKSkpcmV0dXJuIE5vdEltcGxlbWVudGVkO3ZhciByZXN1bHQ9JGxvY2Fscy5yZXN1bHQ9Q291bnRlci5fX2NhbGxfXygpO3ZhciAkaXRlcjcyPXNlbGYuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNzI9MDskaTcyPCRpdGVyNzIuX19sZW5fXygpOyRpNzIrKyl7JHJpZ2h0PSRpdGVyNzIuX19pdGVtX18oJGk3Mik7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBvdGhlcl9jb3VudD0kbG9jYWxzLm90aGVyX2NvdW50PW90aGVyLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGVsZW0pO3ZhciBuZXdjb3VudD0kbG9jYWxzLm5ld2NvdW50PSR0ZXJuYXJ5KHsib3RoZXJfY291bnQiOm90aGVyX2NvdW50LCJjb3VudCI6Y291bnR9LCJjb3VudC5fX2x0X18ob3RoZXJfY291bnQpIiwib3RoZXJfY291bnQiLCJjb3VudCIpO2lmKGJvb2wobmV3Y291bnQuX19ndF9fKE51bWJlcigwKSkpKXJlc3VsdC5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShlbGVtLG5ld2NvdW50KTt9dmFyICRpdGVyNzM9b3RoZXIuX19nZXRhdHRyX18oIml0ZW1zIikuX19jYWxsX18oKTtmb3IodmFyICRpNzM9MDskaTczPCRpdGVyNzMuX19sZW5fXygpOyRpNzMrKyl7JHJpZ2h0PSRpdGVyNzMuX19pdGVtX18oJGk3Myk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGNvdW50PSRsb2NhbHMuY291bnQ9JHJpZ2h0Ll9faXRlbV9fKDEpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGVsZW0uX19ub3RfaW5fXyhzZWxmKSkmJiR0ZXN0X2l0ZW0oY291bnQuX19ndF9fKE51bWJlcigwKSkpKSkpcmVzdWx0Ll9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKGVsZW0sY291bnQpO31yZXR1cm4gcmVzdWx0O31jYXRjaChlcnI3Mil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjcyKTt9fTt9KSgpOyRjbGFzcy5fX29yX18uX19uYW1lX189Il9fb3JfXyI7JGNsYXNzLl9fYW5kX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2FuZF9fIixhcmd1bWVudHMsWyJzZWxmIiwib3RoZXIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjF1d24wcWh4Il0uX19kaWN0X189JG5zOycgSW50ZXJzZWN0aW9uIGlzIHRoZSBtaW5pbXVtIG9mIGNvcnJlc3BvbmRpbmcgY291bnRzLlxuICAgIFxuICAgICAgICA+Pj4gQ291bnRlcihcJ2FiYmJcJykgJiBDb3VudGVyKFwnYmNjXCcpXG4gICAgICAgIENvdW50ZXIoe1wnYlwnOiAxfSlcblxuICAgICAgICAnO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhvdGhlcixDb3VudGVyKSkpKXJldHVybiBOb3RJbXBsZW1lbnRlZDt2YXIgcmVzdWx0PSRsb2NhbHMucmVzdWx0PUNvdW50ZXIuX19jYWxsX18oKTt2YXIgJGl0ZXI3ND1zZWxmLl9fZ2V0YXR0cl9fKCJpdGVtcyIpLl9fY2FsbF9fKCk7Zm9yKHZhciAkaTc0PTA7JGk3NDwkaXRlcjc0Ll9fbGVuX18oKTskaTc0KyspeyRyaWdodD0kaXRlcjc0Ll9faXRlbV9fKCRpNzQpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgZWxlbT0kbG9jYWxzLmVsZW09JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBjb3VudD0kbG9jYWxzLmNvdW50PSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgb3RoZXJfY291bnQ9JGxvY2Fscy5vdGhlcl9jb3VudD1vdGhlci5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShlbGVtKTt2YXIgbmV3Y291bnQ9JGxvY2Fscy5uZXdjb3VudD0kdGVybmFyeSh7ImNvdW50Ijpjb3VudCwib3RoZXJfY291bnQiOm90aGVyX2NvdW50fSwiY291bnQuX19sdF9fKG90aGVyX2NvdW50KSIsImNvdW50Iiwib3RoZXJfY291bnQiKTtpZihib29sKG5ld2NvdW50Ll9fZ3RfXyhOdW1iZXIoMCkpKSlyZXN1bHQuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoZWxlbSxuZXdjb3VudCk7fXJldHVybiByZXN1bHQ7fWNhdGNoKGVycjc0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNzQpO319O30pKCk7JGNsYXNzLl9fYW5kX18uX19uYW1lX189Il9fYW5kX18iO3JldHVybiAkY2xhc3M7fSkoKTt2YXIgQ291bnRlcj0kY2xhc3NfY29uc3RydWN0b3IoIkNvdW50ZXIiLCRDb3VudGVyLGRpY3QpO19fQlJZVEhPTl9fLnNjb3BlWyJjb2xsZWN0aW9ucy5weSJdLl9fZGljdF9fLkNvdW50ZXI9Q291bnRlcjtyZXR1cm57X19hbGxfXzpfX2FsbF9fLE11dGFibGVNYXBwaW5nOk11dGFibGVNYXBwaW5nLGRlcXVlOmRlcXVlLGRlZmF1bHRkaWN0OmRlZmF1bHRkaWN0LF9pc2tleXdvcmQ6X2lza2V5d29yZCxfcmVwZWF0Ol9yZXBlYXQsX2NoYWluOl9jaGFpbixfc3Rhcm1hcDpfc3Rhcm1hcCxTZXQ6U2V0LFNlcXVlbmNlOlNlcXVlbmNlLF9wcm94eTpfcHJveHksX0xpbms6X0xpbmssT3JkZXJlZERpY3Q6T3JkZXJlZERpY3QsX2NvdW50X2VsZW1lbnRzOl9jb3VudF9lbGVtZW50cyxDb3VudGVyOkNvdW50ZXIsX19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxfX3NldGF0dHJfXzpmdW5jdGlvbihhdHRyLHZhbHVlKXt0aGlzW2F0dHJdPXZhbHVlO319O30pKCk7',
'/Lib/mytest.py':'IiIiQ29uY3JldGUgZGF0ZS90aW1lIGFuZCByZWxhdGVkIHR5cGVzIC0tIHByb3RvdHlwZSBpbXBsZW1lbnRlZCBpbiBQeXRob24uCgpTZWUgaHR0cDovL3d3dy56b3BlLm9yZy9NZW1iZXJzL2ZkcmFrZS9EYXRlVGltZVdpa2kvRnJvbnRQYWdlCgpTZWUgYWxzbyBodHRwOi8vZGlyLnlhaG9vLmNvbS9SZWZlcmVuY2UvY2FsZW5kYXJzLwoKRm9yIGEgcHJpbWVyIG9uIERTVCwgaW5jbHVkaW5nIG1hbnkgY3VycmVudCBEU1QgcnVsZXMsIHNlZQpodHRwOi8vd2ViZXhoaWJpdHMub3JnL2RheWxpZ2h0c2F2aW5nLwoKRm9yIG1vcmUgYWJvdXQgRFNUIHRoYW4geW91IGV2ZXIgd2FudGVkIHRvIGtub3csIHNlZQpmdHA6Ly9lbHNpZS5uY2kubmloLmdvdi9wdWIvCgpTb3VyY2VzIGZvciB0aW1lIHpvbmUgYW5kIERTVCBkYXRhOiBodHRwOi8vd3d3LnR3aW5zdW4uY29tL3R6L3R6LWxpbmsuaHRtCgpUaGlzIHdhcyBvcmlnaW5hbGx5IGNvcGllZCBmcm9tIHRoZSBzYW5kYm94IG9mIHRoZSBDUHl0aG9uIENWUyByZXBvc2l0b3J5LgpUaGFua3MgdG8gVGltIFBldGVycyBmb3Igc3VnZ2VzdGluZyB1c2luZyBpdC4KIiIiCgppbXBvcnQgdGltZSBhcyBfdGltZQppbXBvcnQgbWF0aCBhcyBfbWF0aAoKZGVmIF9jbXAoeCwgeSk6CiAgICByZXR1cm4gMCBpZiB4ID09IHkgZWxzZSAxIGlmIHggPiB5IGVsc2UgLTEKCk1JTllFQVIgPSAxCk1BWFlFQVIgPSA5OTk5Cl9NQVhPUkRJTkFMID0gMzY1MjA1OSAjIGRhdGUubWF4LnRvb3JkaW5hbCgpCgojIFV0aWxpdHkgZnVuY3Rpb25zLCBhZGFwdGVkIGZyb20gUHl0aG9uJ3MgRGVtby9jbGFzc2VzL0RhdGVzLnB5LCB3aGljaAojIGFsc28gYXNzdW1lcyB0aGUgY3VycmVudCBHcmVnb3JpYW4gY2FsZW5kYXIgaW5kZWZpbml0ZWx5IGV4dGVuZGVkIGluCiMgYm90aCBkaXJlY3Rpb25zLiAgRGlmZmVyZW5jZTogIERhdGVzLnB5IGNhbGxzIEphbnVhcnkgMSBvZiB5ZWFyIDAgZGF5CiMgbnVtYmVyIDEuICBUaGUgY29kZSBoZXJlIGNhbGxzIEphbnVhcnkgMSBvZiB5ZWFyIDEgZGF5IG51bWJlciAxLiAgVGhpcyBpcwojIHRvIG1hdGNoIHRoZSBkZWZpbml0aW9uIG9mIHRoZSAicHJvbGVwdGljIEdyZWdvcmlhbiIgY2FsZW5kYXIgaW4gRGVyc2hvd2l0egojIGFuZCBSZWluZ29sZCdzICJDYWxlbmRyaWNhbCBDYWxjdWxhdGlvbnMiLCB3aGVyZSBpdCdzIHRoZSBiYXNlIGNhbGVuZGFyCiMgZm9yIGFsbCBjb21wdXRhdGlvbnMuICBTZWUgdGhlIGJvb2sgZm9yIGFsZ29yaXRobXMgZm9yIGNvbnZlcnRpbmcgYmV0d2VlbgojIHByb2xlcHRpYyBHcmVnb3JpYW4gb3JkaW5hbHMgYW5kIG1hbnkgb3RoZXIgY2FsZW5kYXIgc3lzdGVtcy4KCl9EQVlTX0lOX01PTlRIID0gW05vbmUsIDMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdCgpfREFZU19CRUZPUkVfTU9OVEggPSBbTm9uZV0KZGJtID0gMApmb3IgZGltIGluIF9EQVlTX0lOX01PTlRIWzE6XToKICAgIF9EQVlTX0JFRk9SRV9NT05USC5hcHBlbmQoZGJtKQogICAgZGJtICs9IGRpbQpkZWwgZGJtLCBkaW0KCmRlZiBfaXNfbGVhcCh5ZWFyKToKICAgICJ5ZWFyIC0+IDEgaWYgbGVhcCB5ZWFyLCBlbHNlIDAuIgogICAgcmV0dXJuIHllYXIgJSA0ID09IDAgYW5kICh5ZWFyICUgMTAwICE9IDAgb3IgeWVhciAlIDQwMCA9PSAwKQoKZGVmIF9kYXlzX2JlZm9yZV95ZWFyKHllYXIpOgogICAgInllYXIgLT4gbnVtYmVyIG9mIGRheXMgYmVmb3JlIEphbnVhcnkgMXN0IG9mIHllYXIuIgogICAgeSA9IHllYXIgLSAxCiAgICByZXR1cm4geSozNjUgKyB5Ly80IC0geS8vMTAwICsgeS8vNDAwCgpkZWYgX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpOgogICAgInllYXIsIG1vbnRoIC0+IG51bWJlciBvZiBkYXlzIGluIHRoYXQgbW9udGggaW4gdGhhdCB5ZWFyLiIKICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCBtb250aAogICAgaWYgbW9udGggPT0gMiBhbmQgX2lzX2xlYXAoeWVhcik6CiAgICAgICAgcmV0dXJuIDI5CiAgICByZXR1cm4gX0RBWVNfSU5fTU9OVEhbbW9udGhdCgpkZWYgX2RheXNfYmVmb3JlX21vbnRoKHllYXIsIG1vbnRoKToKICAgICJ5ZWFyLCBtb250aCAtPiBudW1iZXIgb2YgZGF5cyBpbiB5ZWFyIHByZWNlZWRpbmcgZmlyc3QgZGF5IG9mIG1vbnRoLiIKICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCAnbW9udGggbXVzdCBiZSBpbiAxLi4xMicKICAgIHJldHVybiBfREFZU19CRUZPUkVfTU9OVEhbbW9udGhdICsgKG1vbnRoID4gMiBhbmQgX2lzX2xlYXAoeWVhcikpCgpkZWYgX3ltZDJvcmQoeWVhciwgbW9udGgsIGRheSk6CiAgICAieWVhciwgbW9udGgsIGRheSAtPiBvcmRpbmFsLCBjb25zaWRlcmluZyAwMS1KYW4tMDAwMSBhcyBkYXkgMS4iCiAgICBhc3NlcnQgMSA8PSBtb250aCA8PSAxMiwgJ21vbnRoIG11c3QgYmUgaW4gMS4uMTInCiAgICBkaW0gPSBfZGF5c19pbl9tb250aCh5ZWFyLCBtb250aCkKICAgIGFzc2VydCAxIDw9IGRheSA8PSBkaW0sICgnZGF5IG11c3QgYmUgaW4gMS4uJWQnICUgZGltKQogICAgcmV0dXJuIChfZGF5c19iZWZvcmVfeWVhcih5ZWFyKSArCiAgICAgICAgICAgIF9kYXlzX2JlZm9yZV9tb250aCh5ZWFyLCBtb250aCkgKwogICAgICAgICAgICBkYXkpCgpfREk0MDBZID0gX2RheXNfYmVmb3JlX3llYXIoNDAxKSAgICAjIG51bWJlciBvZiBkYXlzIGluIDQwMCB5ZWFycwpfREkxMDBZID0gX2RheXNfYmVmb3JlX3llYXIoMTAxKSAgICAjICAgICIgICAgIiAgICIgICAiIDEwMCAgICIKX0RJNFkgICA9IF9kYXlzX2JlZm9yZV95ZWFyKDUpICAgICAgIyAgICAiICAgICIgICAiICAgIiAgIDQgICAiCgojIEEgNC15ZWFyIGN5Y2xlIGhhcyBhbiBleHRyYSBsZWFwIGRheSBvdmVyIHdoYXQgd2UnZCBnZXQgZnJvbSBwYXN0aW5nCiMgdG9nZXRoZXIgNCBzaW5nbGUgeWVhcnMuCmFzc2VydCBfREk0WSA9PSA0ICogMzY1ICsgMQoKIyBTaW1pbGFybHksIGEgNDAwLXllYXIgY3ljbGUgaGFzIGFuIGV4dHJhIGxlYXAgZGF5IG92ZXIgd2hhdCB3ZSdkIGdldCBmcm9tCiMgcGFzdGluZyB0b2dldGhlciA0IDEwMC15ZWFyIGN5Y2xlcy4KYXNzZXJ0IF9ESTQwMFkgPT0gNCAqIF9ESTEwMFkgKyAxCgojIE9UT0gsIGEgMTAwLXllYXIgY3ljbGUgaGFzIG9uZSBmZXdlciBsZWFwIGRheSB0aGFuIHdlJ2QgZ2V0IGZyb20KIyBwYXN0aW5nIHRvZ2V0aGVyIDI1IDQteWVhciBjeWNsZXMuCmFzc2VydCBfREkxMDBZID09IDI1ICogX0RJNFkgLSAxCgpkZWYgX29yZDJ5bWQobik6CiAgICAib3JkaW5hbCAtPiAoeWVhciwgbW9udGgsIGRheSksIGNvbnNpZGVyaW5nIDAxLUphbi0wMDAxIGFzIGRheSAxLiIKCiAgICAjIG4gaXMgYSAxLWJhc2VkIGluZGV4LCBzdGFydGluZyBhdCAxLUphbi0xLiAgVGhlIHBhdHRlcm4gb2YgbGVhcCB5ZWFycwogICAgIyByZXBlYXRzIGV4YWN0bHkgZXZlcnkgNDAwIHllYXJzLiAgVGhlIGJhc2ljIHN0cmF0ZWd5IGlzIHRvIGZpbmQgdGhlCiAgICAjIGNsb3Nlc3QgNDAwLXllYXIgYm91bmRhcnkgYXQgb3IgYmVmb3JlIG4sIHRoZW4gd29yayB3aXRoIHRoZSBvZmZzZXQKICAgICMgZnJvbSB0aGF0IGJvdW5kYXJ5IHRvIG4uICBMaWZlIGlzIG11Y2ggY2xlYXJlciBpZiB3ZSBzdWJ0cmFjdCAxIGZyb20KICAgICMgbiBmaXJzdCAtLSB0aGVuIHRoZSB2YWx1ZXMgb2YgbiBhdCA0MDAteWVhciBib3VuZGFyaWVzIGFyZSBleGFjdGx5CiAgICAjIHRob3NlIGRpdmlzaWJsZSBieSBfREk0MDBZOgogICAgIwogICAgIyAgICAgRCAgTSAgIFkgICAgICAgICAgICBuICAgICAgICAgICAgICBuLTEKICAgICMgICAgIC0tIC0tLSAtLS0tICAgICAgICAtLS0tLS0tLS0tICAgICAtLS0tLS0tLS0tLS0tLS0tCiAgICAjICAgICAzMSBEZWMgLTQwMCAgICAgICAgLV9ESTQwMFkgICAgICAgLV9ESTQwMFkgLTEKICAgICMgICAgICAxIEphbiAtMzk5ICAgICAgICAgLV9ESTQwMFkgKzEgICAtX0RJNDAwWSAgICAgIDQwMC15ZWFyIGJvdW5kYXJ5CiAgICAjICAgICAuLi4KICAgICMgICAgIDMwIERlYyAgMDAwICAgICAgICAtMSAgICAgICAgICAgICAtMgogICAgIyAgICAgMzEgRGVjICAwMDAgICAgICAgICAwICAgICAgICAgICAgIC0xCiAgICAjICAgICAgMSBKYW4gIDAwMSAgICAgICAgIDEgICAgICAgICAgICAgIDAgICAgICAgICAgICA0MDAteWVhciBib3VuZGFyeQogICAgIyAgICAgIDIgSmFuICAwMDEgICAgICAgICAyICAgICAgICAgICAgICAxCiAgICAjICAgICAgMyBKYW4gIDAwMSAgICAgICAgIDMgICAgICAgICAgICAgIDIKICAgICMgICAgIC4uLgogICAgIyAgICAgMzEgRGVjICA0MDAgICAgICAgICBfREk0MDBZICAgICAgICBfREk0MDBZIC0xCiAgICAjICAgICAgMSBKYW4gIDQwMSAgICAgICAgIF9ESTQwMFkgKzEgICAgIF9ESTQwMFkgICAgICA0MDAteWVhciBib3VuZGFyeQogICAgbiAtPSAxCiAgICBuNDAwLCBuID0gZGl2bW9kKG4sIF9ESTQwMFkpCiAgICB5ZWFyID0gbjQwMCAqIDQwMCArIDEgICAjIC4uLiwgLTM5OSwgMSwgNDAxLCAuLi4KCiAgICAjIE5vdyBuIGlzIHRoZSAobm9uLW5lZ2F0aXZlKSBvZmZzZXQsIGluIGRheXMsIGZyb20gSmFudWFyeSAxIG9mIHllYXIsIHRvCiAgICAjIHRoZSBkZXNpcmVkIGRhdGUuICBOb3cgY29tcHV0ZSBob3cgbWFueSAxMDAteWVhciBjeWNsZXMgcHJlY2VkZSBuLgogICAgIyBOb3RlIHRoYXQgaXQncyBwb3NzaWJsZSBmb3IgbjEwMCB0byBlcXVhbCA0ISAgSW4gdGhhdCBjYXNlIDQgZnVsbAogICAgIyAxMDAteWVhciBjeWNsZXMgcHJlY2VkZSB0aGUgZGVzaXJlZCBkYXksIHdoaWNoIGltcGxpZXMgdGhlIGRlc2lyZWQKICAgICMgZGF5IGlzIERlY2VtYmVyIDMxIGF0IHRoZSBlbmQgb2YgYSA0MDAteWVhciBjeWNsZS4KICAgIG4xMDAsIG4gPSBkaXZtb2QobiwgX0RJMTAwWSkKCiAgICAjIE5vdyBjb21wdXRlIGhvdyBtYW55IDQteWVhciBjeWNsZXMgcHJlY2VkZSBpdC4KICAgIG40LCBuID0gZGl2bW9kKG4sIF9ESTRZKQoKICAgICMgQW5kIG5vdyBob3cgbWFueSBzaW5nbGUgeWVhcnMuICBBZ2FpbiBuMSBjYW4gYmUgNCwgYW5kIGFnYWluIG1lYW5pbmcKICAgICMgdGhhdCB0aGUgZGVzaXJlZCBkYXkgaXMgRGVjZW1iZXIgMzEgYXQgdGhlIGVuZCBvZiB0aGUgNC15ZWFyIGN5Y2xlLgogICAgbjEsIG4gPSBkaXZtb2QobiwgMzY1KQoKICAgIHllYXIgKz0gbjEwMCAqIDEwMCArIG40ICogNCArIG4xCiAgICBpZiBuMSA9PSA0IG9yIG4xMDAgPT0gNDoKICAgICAgICBhc3NlcnQgbiA9PSAwCiAgICAgICAgcmV0dXJuIHllYXItMSwgMTIsIDMxCgogICAgIyBOb3cgdGhlIHllYXIgaXMgY29ycmVjdCwgYW5kIG4gaXMgdGhlIG9mZnNldCBmcm9tIEphbnVhcnkgMS4gIFdlIGZpbmQKICAgICMgdGhlIG1vbnRoIHZpYSBhbiBlc3RpbWF0ZSB0aGF0J3MgZWl0aGVyIGV4YWN0IG9yIG9uZSB0b28gbGFyZ2UuCiAgICBsZWFweWVhciA9IG4xID09IDMgYW5kIChuNCAhPSAyNCBvciBuMTAwID09IDMpCiAgICBhc3NlcnQgbGVhcHllYXIgPT0gX2lzX2xlYXAoeWVhcikKICAgIG1vbnRoID0gKG4gKyA1MCkgPj4gNQogICAgcHJlY2VkaW5nID0gX0RBWVNfQkVGT1JFX01PTlRIW21vbnRoXSArIChtb250aCA+IDIgYW5kIGxlYXB5ZWFyKQogICAgaWYgcHJlY2VkaW5nID4gbjogICMgZXN0aW1hdGUgaXMgdG9vIGxhcmdlCiAgICAgICAgbW9udGggLT0gMQogICAgICAgIHByZWNlZGluZyAtPSBfREFZU19JTl9NT05USFttb250aF0gKyAobW9udGggPT0gMiBhbmQgbGVhcHllYXIpCiAgICBuIC09IHByZWNlZGluZwogICAgYXNzZXJ0IDAgPD0gbiA8IF9kYXlzX2luX21vbnRoKHllYXIsIG1vbnRoKQoKICAgICMgTm93IHRoZSB5ZWFyIGFuZCBtb250aCBhcmUgY29ycmVjdCwgYW5kIG4gaXMgdGhlIG9mZnNldCBmcm9tIHRoZQogICAgIyBzdGFydCBvZiB0aGF0IG1vbnRoOiAgd2UncmUgZG9uZSEKICAgIHJldHVybiB5ZWFyLCBtb250aCwgbisxCgojIE1vbnRoIGFuZCBkYXkgbmFtZXMuICBGb3IgbG9jYWxpemVkIHZlcnNpb25zLCBzZWUgdGhlIGNhbGVuZGFyIG1vZHVsZS4KX01PTlRITkFNRVMgPSBbTm9uZSwgIkphbiIsICJGZWIiLCAiTWFyIiwgIkFwciIsICJNYXkiLCAiSnVuIiwKICAgICAgICAgICAgICAgICAgICAgIkp1bCIsICJBdWciLCAiU2VwIiwgIk9jdCIsICJOb3YiLCAiRGVjIl0KX0RBWU5BTUVTID0gW05vbmUsICJNb24iLCAiVHVlIiwgIldlZCIsICJUaHUiLCAiRnJpIiwgIlNhdCIsICJTdW4iXQoKCmRlZiBfYnVpbGRfc3RydWN0X3RpbWUoeSwgbSwgZCwgaGgsIG1tLCBzcywgZHN0ZmxhZyk6CiAgICB3ZGF5ID0gKF95bWQyb3JkKHksIG0sIGQpICsgNikgJSA3CiAgICBkbnVtID0gX2RheXNfYmVmb3JlX21vbnRoKHksIG0pICsgZAogICAgcmV0dXJuIF90aW1lLnN0cnVjdF90aW1lKCh5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZGF5LCBkbnVtLCBkc3RmbGFnKSkKCmRlZiBfZm9ybWF0X3RpbWUoaGgsIG1tLCBzcywgdXMpOgogICAgIyBTa2lwIHRyYWlsaW5nIG1pY3Jvc2Vjb25kcyB3aGVuIHVzPT0wLgogICAgcmVzdWx0ID0gIiUwMmQ6JTAyZDolMDJkIiAlIChoaCwgbW0sIHNzKQogICAgaWYgdXM6CiAgICAgICAgcmVzdWx0ICs9ICIuJTA2ZCIgJSB1cwogICAgcmV0dXJuIHJlc3VsdAoKIyBDb3JyZWN0bHkgc3Vic3RpdHV0ZSBmb3IgJXogYW5kICVaIGVzY2FwZXMgaW4gc3RyZnRpbWUgZm9ybWF0cy4KZGVmIF93cmFwX3N0cmZ0aW1lKG9iamVjdCwgZm9ybWF0LCB0aW1ldHVwbGUpOgogICAgeWVhciA9IHRpbWV0dXBsZVswXQogICAgaWYgeWVhciA8IDEwMDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieWVhcj0lZCBpcyBiZWZvcmUgMTAwMDsgdGhlIGRhdGV0aW1lIHN0cmZ0aW1lKCkgIgogICAgICAgICAgICAgICAgICAgICAgICAgIm1ldGhvZHMgcmVxdWlyZSB5ZWFyID49IDEwMDAiICUgeWVhcikKICAgICMgRG9uJ3QgY2FsbCB1dGNvZmZzZXQoKSBvciB0em5hbWUoKSB1bmxlc3MgYWN0dWFsbHkgbmVlZGVkLgogICAgZnJlcGxhY2UgPSBOb25lICMgdGhlIHN0cmluZyB0byB1c2UgZm9yICVmCiAgICB6cmVwbGFjZSA9IE5vbmUgIyB0aGUgc3RyaW5nIHRvIHVzZSBmb3IgJXoKICAgIFpyZXBsYWNlID0gTm9uZSAjIHRoZSBzdHJpbmcgdG8gdXNlIGZvciAlWgoKICAgICMgU2NhbiBmb3JtYXQgZm9yICV6IGFuZCAlWiBlc2NhcGVzLCByZXBsYWNpbmcgYXMgbmVlZGVkLgogICAgbmV3Zm9ybWF0ID0gW10KICAgIHB1c2ggPSBuZXdmb3JtYXQuYXBwZW5kCiAgICBpLCBuID0gMCwgbGVuKGZvcm1hdCkKICAgIHdoaWxlIGkgPCBuOgogICAgICAgIGNoID0gZm9ybWF0W2ldCiAgICAgICAgaSArPSAxCiAgICAgICAgaWYgY2ggPT0gJyUnOgogICAgICAgICAgICBpZiBpIDwgbjoKICAgICAgICAgICAgICAgIGNoID0gZm9ybWF0W2ldCiAgICAgICAgICAgICAgICBpICs9IDEKICAgICAgICAgICAgICAgIGlmIGNoID09ICdmJzoKICAgICAgICAgICAgICAgICAgICBpZiBmcmVwbGFjZSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBmcmVwbGFjZSA9ICclMDZkJyAlIGdldGF0dHIob2JqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pY3Jvc2Vjb25kJywgMCkKICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKGZyZXBsYWNlKQogICAgICAgICAgICAgICAgZWxpZiBjaCA9PSAneic6CiAgICAgICAgICAgICAgICAgICAgaWYgenJlcGxhY2UgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgenJlcGxhY2UgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG9iamVjdCwgInV0Y29mZnNldCIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2JqZWN0LnV0Y29mZnNldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvZmZzZXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9ICcrJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9mZnNldC5kYXlzIDwgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gJy0nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCwgbSA9IGRpdm1vZChvZmZzZXQsIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQgbm90IG0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtIC8vPSB0aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpyZXBsYWNlID0gJyVjJTAyZCUwMmQnICUgKHNpZ24sIGgsIG0pCiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0ICclJyBub3QgaW4genJlcGxhY2UKICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKHpyZXBsYWNlKQogICAgICAgICAgICAgICAgZWxpZiBjaCA9PSAnWic6CiAgICAgICAgICAgICAgICAgICAgaWYgWnJlcGxhY2UgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgWnJlcGxhY2UgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG9iamVjdCwgInR6bmFtZSIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG9iamVjdC50em5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHN0cmZ0aW1lIGlzIGdvaW5nIHRvIGhhdmUgYXQgdGhpczogZXNjYXBlICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBacmVwbGFjZSA9IHMucmVwbGFjZSgnJScsICclJScpCiAgICAgICAgICAgICAgICAgICAgbmV3Zm9ybWF0LmFwcGVuZChacmVwbGFjZSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHVzaCgnJScpCiAgICAgICAgICAgICAgICAgICAgcHVzaChjaCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHB1c2goJyUnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHB1c2goY2gpCiAgICBuZXdmb3JtYXQgPSAiIi5qb2luKG5ld2Zvcm1hdCkKICAgIHJldHVybiBfdGltZS5zdHJmdGltZShuZXdmb3JtYXQsIHRpbWV0dXBsZSkKCmRlZiBfY2FsbF90emluZm9fbWV0aG9kKHR6aW5mbywgbWV0aG5hbWUsIHR6aW5mb2FyZyk6CiAgICBpZiB0emluZm8gaXMgTm9uZToKICAgICAgICByZXR1cm4gTm9uZQogICAgcmV0dXJuIGdldGF0dHIodHppbmZvLCBtZXRobmFtZSkodHppbmZvYXJnKQoKIyBKdXN0IHJhaXNlIFR5cGVFcnJvciBpZiB0aGUgYXJnIGlzbid0IE5vbmUgb3IgYSBzdHJpbmcuCmRlZiBfY2hlY2tfdHpuYW1lKG5hbWUpOgogICAgaWYgbmFtZSBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UobmFtZSwgc3RyKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoInR6aW5mby50em5hbWUoKSBtdXN0IHJldHVybiBOb25lIG9yIHN0cmluZywgIgogICAgICAgICAgICAgICAgICAgICAgICAibm90ICclcyciICUgdHlwZShuYW1lKSkKCiMgbmFtZSBpcyB0aGUgb2Zmc2V0LXByb2R1Y2luZyBtZXRob2QsICJ1dGNvZmZzZXQiIG9yICJkc3QiLgojIG9mZnNldCBpcyB3aGF0IGl0IHJldHVybmVkLgojIElmIG9mZnNldCBpc24ndCBOb25lIG9yIHRpbWVkZWx0YSwgcmFpc2VzIFR5cGVFcnJvci4KIyBJZiBvZmZzZXQgaXMgTm9uZSwgcmV0dXJucyBOb25lLgojIEVsc2Ugb2Zmc2V0IGlzIGNoZWNrZWQgZm9yIGJlaW5nIGluIHJhbmdlLCBhbmQgYSB3aG9sZSAjIG9mIG1pbnV0ZXMuCiMgSWYgaXQgaXMsIGl0cyBpbnRlZ2VyIHZhbHVlIGlzIHJldHVybmVkLiAgRWxzZSBWYWx1ZUVycm9yIGlzIHJhaXNlZC4KZGVmIF9jaGVja191dGNfb2Zmc2V0KG5hbWUsIG9mZnNldCk6CiAgICBhc3NlcnQgbmFtZSBpbiAoInV0Y29mZnNldCIsICJkc3QiKQogICAgaWYgb2Zmc2V0IGlzIE5vbmU6CiAgICAgICAgcmV0dXJuCiAgICBpZiBub3QgaXNpbnN0YW5jZShvZmZzZXQsIHRpbWVkZWx0YSk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8uJXMoKSBtdXN0IHJldHVybiBOb25lICIKICAgICAgICAgICAgICAgICAgICAgICAgIm9yIHRpbWVkZWx0YSwgbm90ICclcyciICUgKG5hbWUsIHR5cGUob2Zmc2V0KSkpCiAgICBpZiBvZmZzZXQgJSB0aW1lZGVsdGEobWludXRlcz0xKSBvciBvZmZzZXQubWljcm9zZWNvbmRzOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInR6aW5mby4lcygpIG11c3QgcmV0dXJuIGEgd2hvbGUgbnVtYmVyICIKICAgICAgICAgICAgICAgICAgICAgICAgICJvZiBtaW51dGVzLCBnb3QgJXMiICUgKG5hbWUsIG9mZnNldCkpCiAgICBpZiBub3QgLXRpbWVkZWx0YSgxKSA8IG9mZnNldCA8IHRpbWVkZWx0YSgxKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCIlcygpPSVzLCBtdXN0IGJlIG11c3QgYmUgc3RyaWN0bHkgYmV0d2VlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICIgLXRpbWVkZWx0YShob3Vycz0yNCkgYW5kIHRpbWVkZWx0YShob3Vycz0yNCkiCiAgICAgICAgICAgICAgICAgICAgICAgICAlIChuYW1lLCBvZmZzZXQpKQoKZGVmIF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KToKICAgIGlmIG5vdCBpc2luc3RhbmNlKHllYXIsIGludCk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdpbnQgZXhwZWN0ZWQnKQogICAgaWYgbm90IE1JTllFQVIgPD0geWVhciA8PSBNQVhZRUFSOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ3llYXIgbXVzdCBiZSBpbiAlZC4uJWQnICUgKE1JTllFQVIsIE1BWFlFQVIpLCB5ZWFyKQogICAgaWYgbm90IDEgPD0gbW9udGggPD0gMTI6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbW9udGggbXVzdCBiZSBpbiAxLi4xMicsIG1vbnRoKQogICAgZGltID0gX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpCiAgICBpZiBub3QgMSA8PSBkYXkgPD0gZGltOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ2RheSBtdXN0IGJlIGluIDEuLiVkJyAlIGRpbSwgZGF5KQoKZGVmIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpOgogICAgaWYgbm90IGlzaW5zdGFuY2UoaG91ciwgaW50KToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2ludCBleHBlY3RlZCcpCiAgICBpZiBub3QgMCA8PSBob3VyIDw9IDIzOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ2hvdXIgbXVzdCBiZSBpbiAwLi4yMycsIGhvdXIpCiAgICBpZiBub3QgMCA8PSBtaW51dGUgPD0gNTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbWludXRlIG11c3QgYmUgaW4gMC4uNTknLCBtaW51dGUpCiAgICBpZiBub3QgMCA8PSBzZWNvbmQgPD0gNTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignc2Vjb25kIG11c3QgYmUgaW4gMC4uNTknLCBzZWNvbmQpCiAgICBpZiBub3QgMCA8PSBtaWNyb3NlY29uZCA8PSA5OTk5OTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbWljcm9zZWNvbmQgbXVzdCBiZSBpbiAwLi45OTk5OTknLCBtaWNyb3NlY29uZCkKCmRlZiBfY2hlY2tfdHppbmZvX2FyZyh0eik6CiAgICBpZiB0eiBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UodHosIHR6aW5mbyk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8gYXJndW1lbnQgbXVzdCBiZSBOb25lIG9yIG9mIGEgdHppbmZvIHN1YmNsYXNzIikKCmRlZiBfY21wZXJyb3IoeCwgeSk6CiAgICByYWlzZSBUeXBlRXJyb3IoImNhbid0IGNvbXBhcmUgJyVzJyB0byAnJXMnIiAlICgKICAgICAgICAgICAgICAgICAgICB0eXBlKHgpLl9fbmFtZV9fLCB0eXBlKHkpLl9fbmFtZV9fKSkKCmNsYXNzIHRpbWVkZWx0YToKICAgICIiIlJlcHJlc2VudCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBkYXRldGltZSBvYmplY3RzLgoKICAgIFN1cHBvcnRlZCBvcGVyYXRvcnM6CgogICAgLSBhZGQsIHN1YnRyYWN0IHRpbWVkZWx0YQogICAgLSB1bmFyeSBwbHVzLCBtaW51cywgYWJzCiAgICAtIGNvbXBhcmUgdG8gdGltZWRlbHRhCiAgICAtIG11bHRpcGx5LCBkaXZpZGUgYnkgaW50L2xvbmcKCiAgICBJbiBhZGRpdGlvbiwgZGF0ZXRpbWUgc3VwcG9ydHMgc3VidHJhY3Rpb24gb2YgdHdvIGRhdGV0aW1lIG9iamVjdHMKICAgIHJldHVybmluZyBhIHRpbWVkZWx0YSwgYW5kIGFkZGl0aW9uIG9yIHN1YnRyYWN0aW9uIG9mIGEgZGF0ZXRpbWUKICAgIGFuZCBhIHRpbWVkZWx0YSBnaXZpbmcgYSBkYXRldGltZS4KCiAgICBSZXByZXNlbnRhdGlvbjogKGRheXMsIHNlY29uZHMsIG1pY3Jvc2Vjb25kcykuICBXaHk/ICBCZWNhdXNlIEkKICAgIGZlbHQgbGlrZSBpdC4KICAgICIiIgogICAgX19zbG90c19fID0gJ19kYXlzJywgJ19zZWNvbmRzJywgJ19taWNyb3NlY29uZHMnCgogICAgZGVmIF9fbmV3X18oY2xzLCBkYXlzPTAsIHNlY29uZHM9MCwgbWljcm9zZWNvbmRzPTAsCiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHM9MCwgbWludXRlcz0wLCBob3Vycz0wLCB3ZWVrcz0wKToKICAgICAgICAjIERvaW5nIHRoaXMgZWZmaWNpZW50bHkgYW5kIGFjY3VyYXRlbHkgaW4gQyBpcyBnb2luZyB0byBiZSBkaWZmaWN1bHQKICAgICAgICAjIGFuZCBlcnJvci1wcm9uZSwgZHVlIHRvIHViaXF1aXRvdXMgb3ZlcmZsb3cgcG9zc2liaWxpdGllcywgYW5kIHRoYXQKICAgICAgICAjIEMgZG91YmxlIGRvZXNuJ3QgaGF2ZSBlbm91Z2ggYml0cyBvZiBwcmVjaXNpb24gdG8gcmVwcmVzZW50CiAgICAgICAgIyBtaWNyb3NlY29uZHMgb3ZlciAxMEsgeWVhcnMgZmFpdGhmdWxseS4gIFRoZSBjb2RlIGhlcmUgdHJpZXMgdG8gbWFrZQogICAgICAgICMgZXhwbGljaXQgd2hlcmUgZ28tZmFzdCBhc3N1bXB0aW9ucyBjYW4gYmUgcmVsaWVkIG9uLCBpbiBvcmRlciB0bwogICAgICAgICMgZ3VpZGUgdGhlIEMgaW1wbGVtZW50YXRpb247IGl0J3Mgd2F5IG1vcmUgY29udm9sdXRlZCB0aGFuIHNwZWVkLQogICAgICAgICMgaWdub3JpbmcgYXV0by1vdmVyZmxvdy10by1sb25nIGlkaW9tYXRpYyBQeXRob24gY291bGQgYmUuCgogICAgICAgICMgWFhYIENoZWNrIHRoYXQgYWxsIGlucHV0cyBhcmUgaW50cyBvciBmbG9hdHMuCgogICAgICAgICMgRmluYWwgdmFsdWVzLCBhbGwgaW50ZWdlci4KICAgICAgICAjIHMgYW5kIHVzIGZpdCBpbiAzMi1iaXQgc2lnbmVkIGludHM7IGQgaXNuJ3QgYm91bmRlZC4KICAgICAgICBkID0gcyA9IHVzID0gMAoKICAgICAgICAjIE5vcm1hbGl6ZSBldmVyeXRoaW5nIHRvIGRheXMsIHNlY29uZHMsIG1pY3Jvc2Vjb25kcy4KICAgICAgICBkYXlzICs9IHdlZWtzKjcKICAgICAgICBzZWNvbmRzICs9IG1pbnV0ZXMqNjAgKyBob3VycyozNjAwCiAgICAgICAgbWljcm9zZWNvbmRzICs9IG1pbGxpc2Vjb25kcyoxMDAwCgogICAgICAgICMgR2V0IHJpZCBvZiBhbGwgZnJhY3Rpb25zLCBhbmQgbm9ybWFsaXplIHMgYW5kIHVzLgogICAgICAgICMgVGFrZSBhIGRlZXAgYnJlYXRoIDx3aW5rPi4KICAgICAgICBpZiBpc2luc3RhbmNlKGRheXMsIGZsb2F0KToKICAgICAgICAgICAgZGF5ZnJhYywgZGF5cyA9IF9tYXRoLm1vZGYoZGF5cykKICAgICAgICAgICAgZGF5c2Vjb25kc2ZyYWMsIGRheXNlY29uZHN3aG9sZSA9IF9tYXRoLm1vZGYoZGF5ZnJhYyAqICgyNC4qMzYwMC4pKQogICAgICAgICAgICBhc3NlcnQgZGF5c2Vjb25kc3dob2xlID09IGludChkYXlzZWNvbmRzd2hvbGUpICAjIGNhbid0IG92ZXJmbG93CiAgICAgICAgICAgIHMgPSBpbnQoZGF5c2Vjb25kc3dob2xlKQogICAgICAgICAgICBhc3NlcnQgZGF5cyA9PSBpbnQoZGF5cykKICAgICAgICAgICAgZCA9IGludChkYXlzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRheXNlY29uZHNmcmFjID0gMC4wCiAgICAgICAgICAgIGQgPSBkYXlzCiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKGRheXNlY29uZHNmcmFjLCBmbG9hdCkKICAgICAgICAjYXNzZXJ0IGFicyhkYXlzZWNvbmRzZnJhYykgPD0gMS4wCiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKGQsIGludCkKICAgICAgICAjYXNzZXJ0IGFicyhzKSA8PSAyNCAqIDM2MDAKICAgICAgICAjIGRheXMgaXNuJ3QgcmVmZXJlbmNlZCBhZ2FpbiBiZWZvcmUgcmVkZWZpbml0aW9uCgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2Vjb25kcywgZmxvYXQpOgogICAgICAgICAgICBzZWNvbmRzZnJhYywgc2Vjb25kcyA9IF9tYXRoLm1vZGYoc2Vjb25kcykKICAgICAgICAgICAgYXNzZXJ0IHNlY29uZHMgPT0gaW50KHNlY29uZHMpCiAgICAgICAgICAgIHNlY29uZHMgPSBpbnQoc2Vjb25kcykKICAgICAgICAgICAgc2Vjb25kc2ZyYWMgKz0gZGF5c2Vjb25kc2ZyYWMKICAgICAgICAgICAgYXNzZXJ0IGFicyhzZWNvbmRzZnJhYykgPD0gMi4wCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2Vjb25kc2ZyYWMgPSBkYXlzZWNvbmRzZnJhYwogICAgICAgICMgZGF5c2Vjb25kc2ZyYWMgaXNuJ3QgcmVmZXJlbmNlZCBhZ2FpbgogICAgICAgICNhc3NlcnQgaXNpbnN0YW5jZShzZWNvbmRzZnJhYywgZmxvYXQpCiAgICAgICAgI2Fzc2VydCBhYnMoc2Vjb25kc2ZyYWMpIDw9IDIuMAoKICAgICAgICAjYXNzZXJ0IGlzaW5zdGFuY2Uoc2Vjb25kcywgaW50KQogICAgICAgIGRheXMsIHNlY29uZHMgPSBkaXZtb2Qoc2Vjb25kcywgMjQqMzYwMCkKICAgICAgICBkICs9IGRheXMKICAgICAgICBzICs9IGludChzZWNvbmRzKSAgICAjIGNhbid0IG92ZXJmbG93CiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKHMsIGludCkKICAgICAgICAjYXNzZXJ0IGFicyhzKSA8PSAyICogMjQgKiAzNjAwCiAgICAgICAgIyBzZWNvbmRzIGlzbid0IHJlZmVyZW5jZWQgYWdhaW4gYmVmb3JlIHJlZGVmaW5pdGlvbgoKICAgICAgICB1c2RvdWJsZSA9IHNlY29uZHNmcmFjICogMWU2CiAgICAgICAgI2Fzc2VydCBhYnModXNkb3VibGUpIDwgMi4xZTYgICAgIyBleGFjdCB2YWx1ZSBub3QgY3JpdGljYWwKICAgICAgICAjIHNlY29uZHNmcmFjIGlzbid0IHJlZmVyZW5jZWQgYWdhaW4KCiAgICAgICAgaWYgaXNpbnN0YW5jZShtaWNyb3NlY29uZHMsIGZsb2F0KToKICAgICAgICAgICAgbWljcm9zZWNvbmRzICs9IHVzZG91YmxlCiAgICAgICAgICAgIG1pY3Jvc2Vjb25kcyA9IHJvdW5kKG1pY3Jvc2Vjb25kcywgMCkKICAgICAgICAgICAgc2Vjb25kcywgbWljcm9zZWNvbmRzID0gZGl2bW9kKG1pY3Jvc2Vjb25kcywgMWU2KQogICAgICAgICAgICBhc3NlcnQgbWljcm9zZWNvbmRzID09IGludChtaWNyb3NlY29uZHMpCiAgICAgICAgICAgIGFzc2VydCBzZWNvbmRzID09IGludChzZWNvbmRzKQogICAgICAgICAgICBkYXlzLCBzZWNvbmRzID0gZGl2bW9kKHNlY29uZHMsIDI0LiozNjAwLikKICAgICAgICAgICAgYXNzZXJ0IGRheXMgPT0gaW50KGRheXMpCiAgICAgICAgICAgIGFzc2VydCBzZWNvbmRzID09IGludChzZWNvbmRzKQogICAgICAgICAgICBkICs9IGludChkYXlzKQogICAgICAgICAgICBzICs9IGludChzZWNvbmRzKSAgICMgY2FuJ3Qgb3ZlcmZsb3cKICAgICAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UocywgaW50KQogICAgICAgICAgICBhc3NlcnQgYWJzKHMpIDw9IDMgKiAyNCAqIDM2MDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWNvbmRzLCBtaWNyb3NlY29uZHMgPSBkaXZtb2QobWljcm9zZWNvbmRzLCAxMDAwMDAwKQogICAgICAgICAgICBkYXlzLCBzZWNvbmRzID0gZGl2bW9kKHNlY29uZHMsIDI0KjM2MDApCiAgICAgICAgICAgIGQgKz0gZGF5cwogICAgICAgICAgICBzICs9IGludChzZWNvbmRzKSAgICAjIGNhbid0IG92ZXJmbG93CiAgICAgICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHMsIGludCkKICAgICAgICAgICAgYXNzZXJ0IGFicyhzKSA8PSAzICogMjQgKiAzNjAwCiAgICAgICAgICAgIG1pY3Jvc2Vjb25kcyA9IGZsb2F0KG1pY3Jvc2Vjb25kcykKICAgICAgICAgICAgbWljcm9zZWNvbmRzICs9IHVzZG91YmxlCiAgICAgICAgICAgIG1pY3Jvc2Vjb25kcyA9IHJvdW5kKG1pY3Jvc2Vjb25kcywgMCkKICAgICAgICAjYXNzZXJ0IGFicyhzKSA8PSAzICogMjQgKiAzNjAwCiAgICAgICAgI2Fzc2VydCBhYnMobWljcm9zZWNvbmRzKSA8IDMuMWU2CgogICAgICAgICMgSnVzdCBhIGxpdHRsZSBiaXQgb2YgY2FycnlpbmcgcG9zc2libGUgZm9yIG1pY3Jvc2Vjb25kcyBhbmQgc2Vjb25kcy4KICAgICAgICAjaXMgdGhlIGJlbG93IHR3byBzdGF0ZW1lbnRzIGV2ZW4gcG9zc2libGU/CiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKG1pY3Jvc2Vjb25kcywgZmxvYXQpCiAgICAgICAgI2Fzc2VydCBpbnQobWljcm9zZWNvbmRzKSA9PSBtaWNyb3NlY29uZHMKICAgICAgICB1cyA9IGludChtaWNyb3NlY29uZHMpCiAgICAgICAgc2Vjb25kcywgdXMgPSBkaXZtb2QodXMsIDEwMDAwMDApCiAgICAgICAgcyArPSBzZWNvbmRzICAgICMgY2FudCd0IG92ZXJmbG93CiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKHMsIGludCkKICAgICAgICBkYXlzLCBzID0gZGl2bW9kKHMsIDI0KjM2MDApCiAgICAgICAgZCArPSBkYXlzCgogICAgICAgICNhc3NlcnQgaXNpbnN0YW5jZShkLCBpbnQpCiAgICAgICAgI2Fzc2VydCBpc2luc3RhbmNlKHMsIGludCkgYW5kIDAgPD0gcyA8IDI0KjM2MDAKICAgICAgICAjYXNzZXJ0IGlzaW5zdGFuY2UodXMsIGludCkgYW5kIDAgPD0gdXMgPCAxMDAwMDAwCgogICAgICAgIHNlbGYgPSBvYmplY3QuX19uZXdfXyhjbHMpCgogICAgICAgIHNlbGYuX2RheXMgPSBkCiAgICAgICAgc2VsZi5fc2Vjb25kcyA9IHMKICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMgPSB1cwogICAgICAgICNmaXhtZQogICAgICAgICNlcnJvciBoZXJlLi4gOigKICAgICAgICAjaWYgYWJzKGQpID4gOTk5OTk5OTk5OgogICAgICAgICMgICAgcmFpc2UgT3ZlcmZsb3dFcnJvcigidGltZWRlbHRhICMgb2YgZGF5cyBpcyB0b28gbGFyZ2U6ICVkIiAlIGQpCgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX21pY3Jvc2Vjb25kczoKICAgICAgICAgICAgcmV0dXJuICIlcyglZCwgJWQsICVkKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGF5cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzKQogICAgICAgIGlmIHNlbGYuX3NlY29uZHM6CiAgICAgICAgICAgIHJldHVybiAiJXMoJWQsICVkKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NlY29uZHMpCiAgICAgICAgcmV0dXJuICIlcyglZCkiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHNlbGYuX2RheXMpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgbW0sIHNzID0gZGl2bW9kKHNlbGYuX3NlY29uZHMsIDYwKQogICAgICAgIGhoLCBtbSA9IGRpdm1vZChtbSwgNjApCiAgICAgICAgcyA9ICIlZDolMDJkOiUwMmQiICUgKGhoLCBtbSwgc3MpCiAgICAgICAgaWYgc2VsZi5fZGF5czoKICAgICAgICAgICAgZGVmIHBsdXJhbChuKToKICAgICAgICAgICAgICAgIHJldHVybiBuLCBhYnMobikgIT0gMSBhbmQgInMiIG9yICIiCiAgICAgICAgICAgIHMgPSAoIiVkIGRheSVzLCAiICUgcGx1cmFsKHNlbGYuX2RheXMpKSArIHMKICAgICAgICBpZiBzZWxmLl9taWNyb3NlY29uZHM6CiAgICAgICAgICAgIHMgPSBzICsgIi4lMDZkIiAlIHNlbGYuX21pY3Jvc2Vjb25kcwogICAgICAgIHJldHVybiBzCgogICAgZGVmIHRvdGFsX3NlY29uZHMoc2VsZik6CiAgICAgICAgIiIiVG90YWwgc2Vjb25kcyBpbiB0aGUgZHVyYXRpb24uIiIiCiAgICAgICAgcmV0dXJuICgoc2VsZi5kYXlzICogODY0MDAgKyBzZWxmLnNlY29uZHMpKjEwKio2ICsKICAgICAgICAgICAgICAgIHNlbGYubWljcm9zZWNvbmRzKSAvIDEwKio2CgogICAgIyBSZWFkLW9ubHkgZmllbGQgYWNjZXNzb3JzCiAgICBAcHJvcGVydHkKICAgIGRlZiBkYXlzKHNlbGYpOgogICAgICAgICIiImRheXMiIiIKICAgICAgICByZXR1cm4gc2VsZi5fZGF5cwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlY29uZHMoc2VsZik6CiAgICAgICAgIiIic2Vjb25kcyIiIgogICAgICAgIHJldHVybiBzZWxmLl9zZWNvbmRzCgogICAgQHByb3BlcnR5CiAgICBkZWYgbWljcm9zZWNvbmRzKHNlbGYpOgogICAgICAgICIiIm1pY3Jvc2Vjb25kcyIiIgogICAgICAgIHJldHVybiBzZWxmLl9taWNyb3NlY29uZHMKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlCiAgICAgICAgICAgICMgb3VyIF9fY2xhc3NfXyBoZXJlLCBidXQgbmVlZCBhIHJlYWwgdGltZWRlbHRhCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoc2VsZi5fZGF5cyArIG90aGVyLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NlY29uZHMgKyBvdGhlci5fc2Vjb25kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMgKyBvdGhlci5fbWljcm9zZWNvbmRzKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIF9fcmFkZF9fID0gX19hZGRfXwoKICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAjIGZvciBDUHl0aG9uIGNvbXBhdGliaWxpdHksIHdlIGNhbm5vdCB1c2UKICAgICAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YShzZWxmLl9kYXlzIC0gb3RoZXIuX2RheXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyAtIG90aGVyLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyAtIG90aGVyLl9taWNyb3NlY29uZHMpCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fcnN1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gLXNlbGYgKyBvdGhlcgogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX25lZ19fKHNlbGYpOgogICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZQogICAgICAgICMgb3VyIF9fY2xhc3NfXyBoZXJlLCBidXQgbmVlZCBhIHJlYWwgdGltZWRlbHRhCiAgICAgICAgcmV0dXJuIHRpbWVkZWx0YSgtc2VsZi5fZGF5cywKICAgICAgICAgICAgICAgICAgICAgICAgIC1zZWxmLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgLXNlbGYuX21pY3Jvc2Vjb25kcykKCiAgICBkZWYgX19wb3NfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2Fic19fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX2RheXMgPCAwOgogICAgICAgICAgICByZXR1cm4gLXNlbGYKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX211bF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBpbnQpOgogICAgICAgICAgICAjIGZvciBDUHl0aG9uIGNvbXBhdGliaWxpdHksIHdlIGNhbm5vdCB1c2UKICAgICAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YShzZWxmLl9kYXlzICogb3RoZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyAqIG90aGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyAqIG90aGVyKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGZsb2F0KToKICAgICAgICAgICAgYSwgYiA9IG90aGVyLmFzX2ludGVnZXJfcmF0aW8oKQogICAgICAgICAgICByZXR1cm4gc2VsZiAqIGEgLyBiCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgX19ybXVsX18gPSBfX211bF9fCgogICAgZGVmIF90b19taWNyb3NlY29uZHMoc2VsZik6CiAgICAgICAgcmV0dXJuICgoc2VsZi5fZGF5cyAqICgyNCozNjAwKSArIHNlbGYuX3NlY29uZHMpICogMTAwMDAwMCArCiAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMpCgogICAgZGVmIF9fZmxvb3JkaXZfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIChpbnQsIHRpbWVkZWx0YSkpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICB1c2VjID0gc2VsZi5fdG9fbWljcm9zZWNvbmRzKCkKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gdXNlYyAvLyBvdGhlci5fdG9fbWljcm9zZWNvbmRzKCkKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBpbnQpOgogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKDAsIDAsIHVzZWMgLy8gb3RoZXIpCgogICAgZGVmIF9fdHJ1ZWRpdl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgKGludCwgZmxvYXQsIHRpbWVkZWx0YSkpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICB1c2VjID0gc2VsZi5fdG9fbWljcm9zZWNvbmRzKCkKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gdXNlYyAvIG90aGVyLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGludCk6CiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgdXNlYyAvIG90aGVyKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGZsb2F0KToKICAgICAgICAgICAgYSwgYiA9IG90aGVyLmFzX2ludGVnZXJfcmF0aW8oKQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKDAsIDAsIGIgKiB1c2VjIC8gYSkKCiAgICBkZWYgX19tb2RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgciA9IHNlbGYuX3RvX21pY3Jvc2Vjb25kcygpICUgb3RoZXIuX3RvX21pY3Jvc2Vjb25kcygpCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgcikKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19kaXZtb2RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcSwgciA9IGRpdm1vZChzZWxmLl90b19taWNyb3NlY29uZHMoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5fdG9fbWljcm9zZWNvbmRzKCkpCiAgICAgICAgICAgIHJldHVybiBxLCB0aW1lZGVsdGEoMCwgMCwgcikKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICAjIENvbXBhcmlzb25zIG9mIHRpbWVkZWx0YSBvYmplY3RzIHdpdGggb3RoZXIuCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPT0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDw9IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPCAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPiAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfY21wKHNlbGYsIG90aGVyKToKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKQogICAgICAgIHJldHVybiBfY21wKHNlbGYuX2dldHN0YXRlKCksIG90aGVyLl9nZXRzdGF0ZSgpKQoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaChzZWxmLl9nZXRzdGF0ZSgpKQoKICAgIGRlZiBfX2Jvb2xfXyhzZWxmKToKICAgICAgICByZXR1cm4gKHNlbGYuX2RheXMgIT0gMCBvcgogICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyAhPSAwIG9yCiAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMgIT0gMCkKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9kYXlzLCBzZWxmLl9zZWNvbmRzLCBzZWxmLl9taWNyb3NlY29uZHMpCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCnRpbWVkZWx0YS5taW4gPSB0aW1lZGVsdGEoLTk5OTk5OTk5OSkKdGltZWRlbHRhLm1heCA9IHRpbWVkZWx0YShkYXlzPTk5OTk5OTk5OSwgaG91cnM9MjMsIG1pbnV0ZXM9NTksIHNlY29uZHM9NTksCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWljcm9zZWNvbmRzPTk5OTk5OSkKdGltZWRlbHRhLnJlc29sdXRpb24gPSB0aW1lZGVsdGEobWljcm9zZWNvbmRzPTEpCgpjbGFzcyBkYXRlOgogICAgIiIiQ29uY3JldGUgZGF0ZSB0eXBlLgoKICAgIENvbnN0cnVjdG9yczoKCiAgICBfX25ld19fKCkKICAgIGZyb210aW1lc3RhbXAoKQogICAgdG9kYXkoKQogICAgZnJvbW9yZGluYWwoKQoKICAgIE9wZXJhdG9yczoKCiAgICBfX3JlcHJfXywgX19zdHJfXwogICAgX19jbXBfXywgX19oYXNoX18KICAgIF9fYWRkX18sIF9fcmFkZF9fLCBfX3N1Yl9fIChhZGQvcmFkZCBvbmx5IHdpdGggdGltZWRlbHRhIGFyZykKCiAgICBNZXRob2RzOgoKICAgIHRpbWV0dXBsZSgpCiAgICB0b29yZGluYWwoKQogICAgd2Vla2RheSgpCiAgICBpc293ZWVrZGF5KCksIGlzb2NhbGVuZGFyKCksIGlzb2Zvcm1hdCgpCiAgICBjdGltZSgpCiAgICBzdHJmdGltZSgpCgogICAgUHJvcGVydGllcyAocmVhZG9ubHkpOgogICAgeWVhciwgbW9udGgsIGRheQogICAgIiIiCiAgICBfX3Nsb3RzX18gPSAnX3llYXInLCAnX21vbnRoJywgJ19kYXknCgogICAgZGVmIF9fbmV3X18oY2xzLCB5ZWFyLCBtb250aD1Ob25lLCBkYXk9Tm9uZSk6CiAgICAgICAgIiIiQ29uc3RydWN0b3IuCgogICAgICAgIEFyZ3VtZW50czoKCiAgICAgICAgeWVhciwgbW9udGgsIGRheSAocmVxdWlyZWQsIGJhc2UgMSkKICAgICAgICAiIiIKICAgICAgICBpZiAoaXNpbnN0YW5jZSh5ZWFyLCBieXRlcykgYW5kIGxlbih5ZWFyKSA9PSA0IGFuZAogICAgICAgICAgICAxIDw9IHllYXJbMl0gPD0gMTIgYW5kIG1vbnRoIGlzIE5vbmUpOiAgIyBNb250aCBpcyBzYW5lCiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscykKICAgICAgICAgICAgc2VsZi5fX3NldHN0YXRlKHllYXIpCiAgICAgICAgICAgIHJldHVybiBzZWxmCiAgICAgICAgX2NoZWNrX2RhdGVfZmllbGRzKHllYXIsIG1vbnRoLCBkYXkpCiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscykKICAgICAgICBzZWxmLl95ZWFyID0geWVhcgogICAgICAgIHNlbGYuX21vbnRoID0gbW9udGgKICAgICAgICBzZWxmLl9kYXkgPSBkYXkKICAgICAgICByZXR1cm4gc2VsZgoKICAgICMgQWRkaXRpb25hbCBjb25zdHJ1Y3RvcnMKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tdGltZXN0YW1wKGNscywgdCk6CiAgICAgICAgIkNvbnN0cnVjdCBhIGRhdGUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIgogICAgICAgIHksIG0sIGQsIGhoLCBtbSwgc3MsIHdlZWtkYXksIGpkYXksIGRzdCA9IF90aW1lLmxvY2FsdGltZSh0KQogICAgICAgIHJldHVybiBjbHMoeSwgbSwgZCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiB0b2RheShjbHMpOgogICAgICAgICJDb25zdHJ1Y3QgYSBkYXRlIGZyb20gdGltZS50aW1lKCkuIgogICAgICAgIHQgPSBfdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gY2xzLmZyb210aW1lc3RhbXAodCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tb3JkaW5hbChjbHMsIG4pOgogICAgICAgICIiIkNvbnRydWN0IGEgZGF0ZSBmcm9tIGEgcHJvbGVwdGljIEdyZWdvcmlhbiBvcmRpbmFsLgoKICAgICAgICBKYW51YXJ5IDEgb2YgeWVhciAxIGlzIGRheSAxLiAgT25seSB0aGUgeWVhciwgbW9udGggYW5kIGRheSBhcmUKICAgICAgICBub24temVybyBpbiB0aGUgcmVzdWx0LgogICAgICAgICIiIgogICAgICAgIHksIG0sIGQgPSBfb3JkMnltZChuKQogICAgICAgIHJldHVybiBjbHMoeSwgbSwgZCkKCiAgICAjIENvbnZlcnNpb25zIHRvIHN0cmluZwoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICAiIiJDb252ZXJ0IHRvIGZvcm1hbCBzdHJpbmcsIGZvciByZXByKCkuCgogICAgICAgID4+PiBkdCA9IGRhdGV0aW1lKDIwMTAsIDEsIDEpCiAgICAgICAgPj4+IHJlcHIoZHQpCiAgICAgICAgJ2RhdGV0aW1lLmRhdGV0aW1lKDIwMTAsIDEsIDEsIDAsIDApJwoKICAgICAgICA+Pj4gZHQgPSBkYXRldGltZSgyMDEwLCAxLCAxLCB0emluZm89dGltZXpvbmUudXRjKQogICAgICAgID4+PiByZXByKGR0KQogICAgICAgICdkYXRldGltZS5kYXRldGltZSgyMDEwLCAxLCAxLCAwLCAwLCB0emluZm89ZGF0ZXRpbWUudGltZXpvbmUudXRjKScKICAgICAgICAiIiIKICAgICAgICByZXR1cm4gIiVzKCVkLCAlZCwgJWQpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3llYXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbW9udGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGF5KQogICAgIyBYWFggVGhlc2Ugc2hvdWxkbid0IGRlcGVuZCBvbiB0aW1lLmxvY2FsdGltZSgpLCBiZWNhdXNlIHRoYXQKICAgICMgY2xpcHMgdGhlIHVzYWJsZSBkYXRlcyB0byBbMTk3MCAuLiAyMDM4KS4gIEF0IGxlYXN0IGN0aW1lKCkgaXMKICAgICMgZWFzaWx5IGRvbmUgd2l0aG91dCB1c2luZyBzdHJmdGltZSgpIC0tIHRoYXQncyBiZXR0ZXIgdG9vIGJlY2F1c2UKICAgICMgc3RyZnRpbWUoIiVjIiwgLi4uKSBpcyBsb2NhbGUgc3BlY2lmaWMuCgoKICAgIGRlZiBjdGltZShzZWxmKToKICAgICAgICAiUmV0dXJuIGN0aW1lKCkgc3R5bGUgc3RyaW5nLiIKICAgICAgICB3ZWVrZGF5ID0gc2VsZi50b29yZGluYWwoKSAlIDcgb3IgNwogICAgICAgIHJldHVybiAiJXMgJXMgJTJkIDAwOjAwOjAwICUwNGQiICUgKAogICAgICAgICAgICBfREFZTkFNRVNbd2Vla2RheV0sCiAgICAgICAgICAgIF9NT05USE5BTUVTW3NlbGYuX21vbnRoXSwKICAgICAgICAgICAgc2VsZi5fZGF5LCBzZWxmLl95ZWFyKQoKICAgIGRlZiBzdHJmdGltZShzZWxmLCBmbXQpOgogICAgICAgICJGb3JtYXQgdXNpbmcgc3RyZnRpbWUoKS4iCiAgICAgICAgcmV0dXJuIF93cmFwX3N0cmZ0aW1lKHNlbGYsIGZtdCwgc2VsZi50aW1ldHVwbGUoKSkKCiAgICBkZWYgX19mb3JtYXRfXyhzZWxmLCBmbXQpOgogICAgICAgIGlmIGxlbihmbXQpICE9IDA6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0cmZ0aW1lKGZtdCkKICAgICAgICByZXR1cm4gc3RyKHNlbGYpCgogICAgZGVmIGlzb2Zvcm1hdChzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIGRhdGUgZm9ybWF0dGVkIGFjY29yZGluZyB0byBJU08uCgogICAgICAgIFRoaXMgaXMgJ1lZWVktTU0tREQnLgoKICAgICAgICBSZWZlcmVuY2VzOgogICAgICAgIC0gaHR0cDovL3d3dy53My5vcmcvVFIvTk9URS1kYXRldGltZQogICAgICAgIC0gaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L2lzby10aW1lLmh0bWwKICAgICAgICAiIiIKICAgICAgICByZXR1cm4gIiUwNGQtJTAyZC0lMDJkIiAlIChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KQoKICAgIF9fc3RyX18gPSBpc29mb3JtYXQKCiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnMKICAgIEBwcm9wZXJ0eQogICAgZGVmIHllYXIoc2VsZik6CiAgICAgICAgIiIieWVhciAoMS05OTk5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl95ZWFyCgogICAgQHByb3BlcnR5CiAgICBkZWYgbW9udGgoc2VsZik6CiAgICAgICAgIiIibW9udGggKDEtMTIpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21vbnRoCgogICAgQHByb3BlcnR5CiAgICBkZWYgZGF5KHNlbGYpOgogICAgICAgICIiImRheSAoMS0zMSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fZGF5CgogICAgIyBTdGFuZGFyZCBjb252ZXJzaW9ucywgX19jbXBfXywgX19oYXNoX18gKGFuZCBoZWxwZXJzKQoKICAgIGRlZiB0aW1ldHVwbGUoc2VsZik6CiAgICAgICAgIlJldHVybiBsb2NhbCB0aW1lIHR1cGxlIGNvbXBhdGlibGUgd2l0aCB0aW1lLmxvY2FsdGltZSgpLiIKICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAtMSkKCiAgICBkZWYgdG9vcmRpbmFsKHNlbGYpOgogICAgICAgICIiIlJldHVybiBwcm9sZXB0aWMgR3JlZ29yaWFuIG9yZGluYWwgZm9yIHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5LgoKICAgICAgICBKYW51YXJ5IDEgb2YgeWVhciAxIGlzIGRheSAxLiAgT25seSB0aGUgeWVhciwgbW9udGggYW5kIGRheSB2YWx1ZXMKICAgICAgICBjb250cmlidXRlIHRvIHRoZSByZXN1bHQuCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIF95bWQyb3JkKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCgogICAgZGVmIHJlcGxhY2Uoc2VsZiwgeWVhcj1Ob25lLCBtb250aD1Ob25lLCBkYXk9Tm9uZSk6CiAgICAgICAgIiIiUmV0dXJuIGEgbmV3IGRhdGUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiIKICAgICAgICBpZiB5ZWFyIGlzIE5vbmU6CiAgICAgICAgICAgIHllYXIgPSBzZWxmLl95ZWFyCiAgICAgICAgaWYgbW9udGggaXMgTm9uZToKICAgICAgICAgICAgbW9udGggPSBzZWxmLl9tb250aAogICAgICAgIGlmIGRheSBpcyBOb25lOgogICAgICAgICAgICBkYXkgPSBzZWxmLl9kYXkKICAgICAgICBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSkKICAgICAgICByZXR1cm4gZGF0ZSh5ZWFyLCBtb250aCwgZGF5KQoKICAgICMgQ29tcGFyaXNvbnMgb2YgZGF0ZSBvYmplY3RzIHdpdGggb3RoZXIuCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID09IDAKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19uZV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMAogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDwgMAogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+PSAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMAogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfY21wKHNlbGYsIG90aGVyKToKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSkKICAgICAgICB5LCBtLCBkID0gc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheQogICAgICAgIHkyLCBtMiwgZDIgPSBvdGhlci5feWVhciwgb3RoZXIuX21vbnRoLCBvdGhlci5fZGF5CiAgICAgICAgcmV0dXJuIF9jbXAoKHksIG0sIGQpLCAoeTIsIG0yLCBkMikpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgICJIYXNoLiIKICAgICAgICByZXR1cm4gaGFzaChzZWxmLl9nZXRzdGF0ZSgpKQoKICAgICMgQ29tcHV0YXRpb25zCgogICAgZGVmIF9fYWRkX18oc2VsZiwgb3RoZXIpOgogICAgICAgICJBZGQgYSBkYXRlIHRvIGEgdGltZWRlbHRhLiIKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICBvID0gc2VsZi50b29yZGluYWwoKSArIG90aGVyLmRheXMKICAgICAgICAgICAgaWYgMCA8IG8gPD0gX01BWE9SRElOQUw6CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5mcm9tb3JkaW5hbChvKQogICAgICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJyZXN1bHQgb3V0IG9mIHJhbmdlIikKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBfX3JhZGRfXyA9IF9fYWRkX18KCiAgICBkZWYgX19zdWJfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIiIiU3VidHJhY3QgdHdvIGRhdGVzLCBvciBhIGRhdGUgYW5kIGEgdGltZWRlbHRhLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmICsgdGltZWRlbHRhKC1vdGhlci5kYXlzKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICBkYXlzMSA9IHNlbGYudG9vcmRpbmFsKCkKICAgICAgICAgICAgZGF5czIgPSBvdGhlci50b29yZGluYWwoKQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKGRheXMxIC0gZGF5czIpCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIHdlZWtkYXkoc2VsZik6CiAgICAgICAgIlJldHVybiBkYXkgb2YgdGhlIHdlZWssIHdoZXJlIE1vbmRheSA9PSAwIC4uLiBTdW5kYXkgPT0gNi4iCiAgICAgICAgcmV0dXJuIChzZWxmLnRvb3JkaW5hbCgpICsgNikgJSA3CgogICAgIyBEYXktb2YtdGhlLXdlZWsgYW5kIHdlZWstb2YtdGhlLXllYXIsIGFjY29yZGluZyB0byBJU08KCiAgICBkZWYgaXNvd2Vla2RheShzZWxmKToKICAgICAgICAiUmV0dXJuIGRheSBvZiB0aGUgd2Vlaywgd2hlcmUgTW9uZGF5ID09IDEgLi4uIFN1bmRheSA9PSA3LiIKICAgICAgICAjIDEtSmFuLTAwMDEgaXMgYSBNb25kYXkKICAgICAgICByZXR1cm4gc2VsZi50b29yZGluYWwoKSAlIDcgb3IgNwoKICAgIGRlZiBpc29jYWxlbmRhcihzZWxmKToKICAgICAgICAiIiJSZXR1cm4gYSAzLXR1cGxlIGNvbnRhaW5pbmcgSVNPIHllYXIsIHdlZWsgbnVtYmVyLCBhbmQgd2Vla2RheS4KCiAgICAgICAgVGhlIGZpcnN0IElTTyB3ZWVrIG9mIHRoZSB5ZWFyIGlzIHRoZSAoTW9uLVN1bikgd2VlawogICAgICAgIGNvbnRhaW5pbmcgdGhlIHllYXIncyBmaXJzdCBUaHVyc2RheTsgZXZlcnl0aGluZyBlbHNlIGRlcml2ZXMKICAgICAgICBmcm9tIHRoYXQuCgogICAgICAgIFRoZSBmaXJzdCB3ZWVrIGlzIDE7IE1vbmRheSBpcyAxIC4uLiBTdW5kYXkgaXMgNy4KCiAgICAgICAgSVNPIGNhbGVuZGFyIGFsZ29yaXRobSB0YWtlbiBmcm9tCiAgICAgICAgaHR0cDovL3d3dy5waHlzLnV1Lm5sL352Z2VudC9jYWxlbmRhci9pc29jYWxlbmRhci5odG0KICAgICAgICAiIiIKICAgICAgICB5ZWFyID0gc2VsZi5feWVhcgogICAgICAgIHdlZWsxbW9uZGF5ID0gX2lzb3dlZWsxbW9uZGF5KHllYXIpCiAgICAgICAgdG9kYXkgPSBfeW1kMm9yZChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KQogICAgICAgICMgSW50ZXJuYWxseSwgd2VlayBhbmQgZGF5IGhhdmUgb3JpZ2luIDAKICAgICAgICB3ZWVrLCBkYXkgPSBkaXZtb2QodG9kYXkgLSB3ZWVrMW1vbmRheSwgNykKICAgICAgICBpZiB3ZWVrIDwgMDoKICAgICAgICAgICAgeWVhciAtPSAxCiAgICAgICAgICAgIHdlZWsxbW9uZGF5ID0gX2lzb3dlZWsxbW9uZGF5KHllYXIpCiAgICAgICAgICAgIHdlZWssIGRheSA9IGRpdm1vZCh0b2RheSAtIHdlZWsxbW9uZGF5LCA3KQogICAgICAgIGVsaWYgd2VlayA+PSA1MjoKICAgICAgICAgICAgaWYgdG9kYXkgPj0gX2lzb3dlZWsxbW9uZGF5KHllYXIrMSk6CiAgICAgICAgICAgICAgICB5ZWFyICs9IDEKICAgICAgICAgICAgICAgIHdlZWsgPSAwCiAgICAgICAgcmV0dXJuIHllYXIsIHdlZWsrMSwgZGF5KzEKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgeWhpLCB5bG8gPSBkaXZtb2Qoc2VsZi5feWVhciwgMjU2KQogICAgICAgIHJldHVybiBieXRlcyhbeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXldKSwKCiAgICBkZWYgX19zZXRzdGF0ZShzZWxmLCBzdHJpbmcpOgogICAgICAgIGlmIGxlbihzdHJpbmcpICE9IDQgb3Igbm90ICgxIDw9IHN0cmluZ1syXSA8PSAxMik6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigibm90IGVub3VnaCBhcmd1bWVudHMiKQogICAgICAgIHloaSwgeWxvLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5ID0gc3RyaW5nCiAgICAgICAgc2VsZi5feWVhciA9IHloaSAqIDI1NiArIHlsbwoKICAgIGRlZiBfX3JlZHVjZV9fKHNlbGYpOgogICAgICAgIHJldHVybiAoc2VsZi5fX2NsYXNzX18sIHNlbGYuX2dldHN0YXRlKCkpCgpfZGF0ZV9jbGFzcyA9IGRhdGUgICMgc28gZnVuY3Rpb25zIHcvIGFyZ3MgbmFtZWQgImRhdGUiIGNhbiBnZXQgYXQgdGhlIGNsYXNzCgpkYXRlLm1pbiA9IGRhdGUoMSwgMSwgMSkKZGF0ZS5tYXggPSBkYXRlKDk5OTksIDEyLCAzMSkKZGF0ZS5yZXNvbHV0aW9uID0gdGltZWRlbHRhKGRheXM9MSkKCmNsYXNzIHR6aW5mbzoKICAgICIiIkFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHRpbWUgem9uZSBpbmZvIGNsYXNzZXMuCgogICAgU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoZSBuYW1lKCksIHV0Y29mZnNldCgpIGFuZCBkc3QoKSBtZXRob2RzLgogICAgIiIiCiAgICBfX3Nsb3RzX18gPSAoKQogICAgZGVmIHR6bmFtZShzZWxmLCBkdCk6CiAgICAgICAgImRhdGV0aW1lIC0+IHN0cmluZyBuYW1lIG9mIHRpbWUgem9uZS4iCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgdHpuYW1lKCkiKQoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZiwgZHQpOgogICAgICAgICJkYXRldGltZSAtPiBtaW51dGVzIGVhc3Qgb2YgVVRDIChuZWdhdGl2ZSBmb3Igd2VzdCBvZiBVVEMpIgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInR6aW5mbyBzdWJjbGFzcyBtdXN0IG92ZXJyaWRlIHV0Y29mZnNldCgpIikKCiAgICBkZWYgZHN0KHNlbGYsIGR0KToKICAgICAgICAiIiJkYXRldGltZSAtPiBEU1Qgb2Zmc2V0IGluIG1pbnV0ZXMgZWFzdCBvZiBVVEMuCgogICAgICAgIFJldHVybiAwIGlmIERTVCBub3QgaW4gZWZmZWN0LiAgdXRjb2Zmc2V0KCkgbXVzdCBpbmNsdWRlIHRoZSBEU1QKICAgICAgICBvZmZzZXQuCiAgICAgICAgIiIiCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgZHN0KCkiKQoKICAgIGRlZiBmcm9tdXRjKHNlbGYsIGR0KToKICAgICAgICAiZGF0ZXRpbWUgaW4gVVRDIC0+IGRhdGV0aW1lIGluIGxvY2FsIHRpbWUuIgoKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoImZyb211dGMoKSByZXF1aXJlcyBhIGRhdGV0aW1lIGFyZ3VtZW50IikKICAgICAgICBpZiBkdC50emluZm8gaXMgbm90IHNlbGY6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImR0LnR6aW5mbyBpcyBub3Qgc2VsZiIpCgogICAgICAgIGR0b2ZmID0gZHQudXRjb2Zmc2V0KCkKICAgICAgICBpZiBkdG9mZiBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBub24tTm9uZSB1dGNvZmZzZXQoKSAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJlc3VsdCIpCgogICAgICAgICMgU2VlIHRoZSBsb25nIGNvbW1lbnQgYmxvY2sgYXQgdGhlIGVuZCBvZiB0aGlzIGZpbGUgZm9yIGFuCiAgICAgICAgIyBleHBsYW5hdGlvbiBvZiB0aGlzIGFsZ29yaXRobS4KICAgICAgICBkdGRzdCA9IGR0LmRzdCgpCiAgICAgICAgaWYgZHRkc3QgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YygpIHJlcXVpcmVzIGEgbm9uLU5vbmUgZHN0KCkgcmVzdWx0IikKICAgICAgICBkZWx0YSA9IGR0b2ZmIC0gZHRkc3QKICAgICAgICBpZiBkZWx0YToKICAgICAgICAgICAgZHQgKz0gZGVsdGEKICAgICAgICAgICAgZHRkc3QgPSBkdC5kc3QoKQogICAgICAgICAgICBpZiBkdGRzdCBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YygpOiBkdC5kc3QgZ2F2ZSBpbmNvbnNpc3RlbnQgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVzdWx0czsgY2Fubm90IGNvbnZlcnQiKQogICAgICAgIHJldHVybiBkdCArIGR0ZHN0CgogICAgIyBQaWNrbGUgc3VwcG9ydC4KCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICBnZXRpbml0YXJncyA9IGdldGF0dHIoc2VsZiwgIl9fZ2V0aW5pdGFyZ3NfXyIsIE5vbmUpCiAgICAgICAgaWYgZ2V0aW5pdGFyZ3M6CiAgICAgICAgICAgIGFyZ3MgPSBnZXRpbml0YXJncygpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXJncyA9ICgpCiAgICAgICAgZ2V0c3RhdGUgPSBnZXRhdHRyKHNlbGYsICJfX2dldHN0YXRlX18iLCBOb25lKQogICAgICAgIGlmIGdldHN0YXRlOgogICAgICAgICAgICBzdGF0ZSA9IGdldHN0YXRlKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdGF0ZSA9IGdldGF0dHIoc2VsZiwgIl9fZGljdF9fIiwgTm9uZSkgb3IgTm9uZQogICAgICAgIGlmIHN0YXRlIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiAoc2VsZi5fX2NsYXNzX18sIGFyZ3MpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgYXJncywgc3RhdGUpCgpfdHppbmZvX2NsYXNzID0gdHppbmZvCgpjbGFzcyB0aW1lOgogICAgIiIiVGltZSB3aXRoIHRpbWUgem9uZS4KCiAgICBDb25zdHJ1Y3RvcnM6CgogICAgX19uZXdfXygpCgogICAgT3BlcmF0b3JzOgoKICAgIF9fcmVwcl9fLCBfX3N0cl9fCiAgICBfX2NtcF9fLCBfX2hhc2hfXwoKICAgIE1ldGhvZHM6CgogICAgc3RyZnRpbWUoKQogICAgaXNvZm9ybWF0KCkKICAgIHV0Y29mZnNldCgpCiAgICB0em5hbWUoKQogICAgZHN0KCkKCiAgICBQcm9wZXJ0aWVzIChyZWFkb25seSk6CiAgICBob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQsIHR6aW5mbwogICAgIiIiCgogICAgZGVmIF9fbmV3X18oY2xzLCBob3VyPTAsIG1pbnV0ZT0wLCBzZWNvbmQ9MCwgbWljcm9zZWNvbmQ9MCwgdHppbmZvPU5vbmUpOgogICAgICAgICIiIkNvbnN0cnVjdG9yLgoKICAgICAgICBBcmd1bWVudHM6CgogICAgICAgIGhvdXIsIG1pbnV0ZSAocmVxdWlyZWQpCiAgICAgICAgc2Vjb25kLCBtaWNyb3NlY29uZCAoZGVmYXVsdCB0byB6ZXJvKQogICAgICAgIHR6aW5mbyAoZGVmYXVsdCB0byBOb25lKQogICAgICAgICIiIgogICAgICAgIHNlbGYgPSBvYmplY3QuX19uZXdfXyhjbHMpCiAgICAgICAgaWYgaXNpbnN0YW5jZShob3VyLCBieXRlcykgYW5kIGxlbihob3VyKSA9PSA2OgogICAgICAgICAgICAjIFBpY2tsZSBzdXBwb3J0CiAgICAgICAgICAgIHNlbGYuX19zZXRzdGF0ZShob3VyLCBtaW51dGUgb3IgTm9uZSkKICAgICAgICAgICAgcmV0dXJuIHNlbGYKICAgICAgICBfY2hlY2tfdHppbmZvX2FyZyh0emluZm8pCiAgICAgICAgX2NoZWNrX3RpbWVfZmllbGRzKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCkKICAgICAgICBzZWxmLl9ob3VyID0gaG91cgogICAgICAgIHNlbGYuX21pbnV0ZSA9IG1pbnV0ZQogICAgICAgIHNlbGYuX3NlY29uZCA9IHNlY29uZAogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gbWljcm9zZWNvbmQKICAgICAgICBzZWxmLl90emluZm8gPSB0emluZm8KICAgICAgICByZXR1cm4gc2VsZgoKICAgICMgUmVhZC1vbmx5IGZpZWxkIGFjY2Vzc29ycwogICAgQHByb3BlcnR5CiAgICBkZWYgaG91cihzZWxmKToKICAgICAgICAiIiJob3VyICgwLTIzKSIiIgogICAgICAgIHJldHVybiBzZWxmLl9ob3VyCgogICAgQHByb3BlcnR5CiAgICBkZWYgbWludXRlKHNlbGYpOgogICAgICAgICIiIm1pbnV0ZSAoMC01OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbWludXRlCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2Vjb25kKHNlbGYpOgogICAgICAgICIiInNlY29uZCAoMC01OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fc2Vjb25kCgogICAgQHByb3BlcnR5CiAgICBkZWYgbWljcm9zZWNvbmQoc2VsZik6CiAgICAgICAgIiIibWljcm9zZWNvbmQgKDAtOTk5OTk5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9taWNyb3NlY29uZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHR6aW5mbyhzZWxmKToKICAgICAgICAiIiJ0aW1lem9uZSBpbmZvIG9iamVjdCIiIgogICAgICAgIHJldHVybiBzZWxmLl90emluZm8KCiAgICAjIFN0YW5kYXJkIGNvbnZlcnNpb25zLCBfX2hhc2hfXyAoYW5kIGhlbHBlcnMpCgogICAgIyBDb21wYXJpc29ucyBvZiB0aW1lIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPT0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSAhPSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgX19sZV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPD0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPCAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2d0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCB0aW1lKQogICAgICAgIG15dHogPSBzZWxmLl90emluZm8KICAgICAgICBvdHR6ID0gb3RoZXIuX3R6aW5mbwogICAgICAgIG15b2ZmID0gb3RvZmYgPSBOb25lCgogICAgICAgIGlmIG15dHogaXMgb3R0ejoKICAgICAgICAgICAgYmFzZV9jb21wYXJlID0gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG15b2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgICAgICBvdG9mZiA9IG90aGVyLnV0Y29mZnNldCgpCiAgICAgICAgICAgIGJhc2VfY29tcGFyZSA9IG15b2ZmID09IG90b2ZmCgogICAgICAgIGlmIGJhc2VfY29tcGFyZToKICAgICAgICAgICAgcmV0dXJuIF9jbXAoKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQpLAogICAgICAgICAgICAgICAgICAgICAgIChvdGhlci5faG91ciwgb3RoZXIuX21pbnV0ZSwgb3RoZXIuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXIuX21pY3Jvc2Vjb25kKSkKICAgICAgICBpZiBteW9mZiBpcyBOb25lIG9yIG90b2ZmIGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2Fubm90IGNvbXBhcmUgbmFpdmUgYW5kIGF3YXJlIHRpbWVzIikKICAgICAgICBteWhobW0gPSBzZWxmLl9ob3VyICogNjAgKyBzZWxmLl9taW51dGUgLSBteW9mZi8vdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICBvdGhobW0gPSBvdGhlci5faG91ciAqIDYwICsgb3RoZXIuX21pbnV0ZSAtIG90b2ZmLy90aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIHJldHVybiBfY21wKChteWhobW0sIHNlbGYuX3NlY29uZCwgc2VsZi5fbWljcm9zZWNvbmQpLAogICAgICAgICAgICAgICAgICAgIChvdGhobW0sIG90aGVyLl9zZWNvbmQsIG90aGVyLl9taWNyb3NlY29uZCkpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgICIiIkhhc2guIiIiCiAgICAgICAgdHpvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgbm90IHR6b2ZmOiAjIHplcm8gb3IgTm9uZQogICAgICAgICAgICByZXR1cm4gaGFzaChzZWxmLl9nZXRzdGF0ZSgpWzBdKQogICAgICAgIGgsIG0gPSBkaXZtb2QodGltZWRlbHRhKGhvdXJzPXNlbGYuaG91ciwgbWludXRlcz1zZWxmLm1pbnV0ZSkgLSB0em9mZiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICBhc3NlcnQgbm90IG0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICBtIC8vPSB0aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIGlmIDAgPD0gaCA8IDI0OgogICAgICAgICAgICByZXR1cm4gaGFzaCh0aW1lKGgsIG0sIHNlbGYuc2Vjb25kLCBzZWxmLm1pY3Jvc2Vjb25kKSkKICAgICAgICByZXR1cm4gaGFzaCgoaCwgbSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQpKQoKICAgICMgQ29udmVyc2lvbiB0byBzdHJpbmcKCiAgICBkZWYgX3R6c3RyKHNlbGYsIHNlcD0iOiIpOgogICAgICAgICIiIlJldHVybiBmb3JtYXR0ZWQgdGltZXpvbmUgb2Zmc2V0ICgreHg6eHgpIG9yIE5vbmUuIiIiCiAgICAgICAgb2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgIGlmIG9mZiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgb2ZmLmRheXMgPCAwOgogICAgICAgICAgICAgICAgc2lnbiA9ICItIgogICAgICAgICAgICAgICAgb2ZmID0gLW9mZgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2lnbiA9ICIrIgogICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCB0aW1lZGVsdGEoaG91cnM9MSkpCiAgICAgICAgICAgIGFzc2VydCBub3QgbW0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgbW0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgICAgIGFzc2VydCAwIDw9IGhoIDwgMjQKICAgICAgICAgICAgb2ZmID0gIiVzJTAyZCVzJTAyZCIgJSAoc2lnbiwgaGgsIHNlcCwgbW0pCiAgICAgICAgcmV0dXJuIG9mZgoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICAiIiJDb252ZXJ0IHRvIGZvcm1hbCBzdHJpbmcsIGZvciByZXByKCkuIiIiCiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmQgIT0gMDoKICAgICAgICAgICAgcyA9ICIsICVkLCAlZCIgJSAoc2VsZi5fc2Vjb25kLCBzZWxmLl9taWNyb3NlY29uZCkKICAgICAgICBlbGlmIHNlbGYuX3NlY29uZCAhPSAwOgogICAgICAgICAgICBzID0gIiwgJWQiICUgc2VsZi5fc2Vjb25kCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9ICIiCiAgICAgICAgcz0gIiVzKCVkLCAlZCVzKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHMpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgc1stMTpdID09ICIpIgogICAgICAgICAgICBzID0gc1s6LTFdICsgIiwgdHppbmZvPSVyIiAlIHNlbGYuX3R6aW5mbyArICIpIgogICAgICAgIHJldHVybiBzCgogICAgZGVmIGlzb2Zvcm1hdChzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWUgZm9ybWF0dGVkIGFjY29yZGluZyB0byBJU08uCgogICAgICAgIFRoaXMgaXMgJ0hIOk1NOlNTLm1tbW1tbSt6ejp6eicsIG9yICdISDpNTTpTUyt6ejp6eicgaWYKICAgICAgICBzZWxmLm1pY3Jvc2Vjb25kID09IDAuCiAgICAgICAgIiIiCiAgICAgICAgcyA9IF9mb3JtYXRfdGltZShzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKQogICAgICAgIHR6ID0gc2VsZi5fdHpzdHIoKQogICAgICAgIGlmIHR6OgogICAgICAgICAgICBzICs9IHR6CiAgICAgICAgcmV0dXJuIHMKCiAgICBfX3N0cl9fID0gaXNvZm9ybWF0CgogICAgZGVmIHN0cmZ0aW1lKHNlbGYsIGZtdCk6CiAgICAgICAgIiIiRm9ybWF0IHVzaW5nIHN0cmZ0aW1lKCkuICBUaGUgZGF0ZSBwYXJ0IG9mIHRoZSB0aW1lc3RhbXAgcGFzc2VkCiAgICAgICAgdG8gdW5kZXJseWluZyBzdHJmdGltZSBzaG91bGQgbm90IGJlIHVzZWQuCiAgICAgICAgIiIiCiAgICAgICAgIyBUaGUgeWVhciBtdXN0IGJlID49IDEwMDAgZWxzZSBQeXRob24ncyBzdHJmdGltZSBpbXBsZW1lbnRhdGlvbgogICAgICAgICMgY2FuIHJhaXNlIGEgYm9ndXMgZXhjZXB0aW9uLgogICAgICAgIHRpbWV0dXBsZSA9ICgxOTAwLCAxLCAxLAogICAgICAgICAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgMCwgMSwgLTEpCiAgICAgICAgcmV0dXJuIF93cmFwX3N0cmZ0aW1lKHNlbGYsIGZtdCwgdGltZXR1cGxlKQoKICAgIGRlZiBfX2Zvcm1hdF9fKHNlbGYsIGZtdCk6CiAgICAgICAgaWYgbGVuKGZtdCkgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyZnRpbWUoZm10KQogICAgICAgIHJldHVybiBzdHIoc2VsZikKCiAgICAjIFRpbWV6b25lIGZ1bmN0aW9ucwoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZgogICAgICAgIFVUQykuIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgb2Zmc2V0ID0gc2VsZi5fdHppbmZvLnV0Y29mZnNldChOb25lKQogICAgICAgIF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpCiAgICAgICAgcmV0dXJuIG9mZnNldAoKICAgIGRlZiB0em5hbWUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLgoKICAgICAgICBOb3RlIHRoYXQgdGhlIG5hbWUgaXMgMTAwJSBpbmZvcm1hdGlvbmFsIC0tIHRoZXJlJ3Mgbm8gcmVxdWlyZW1lbnQgdGhhdAogICAgICAgIGl0IG1lYW4gYW55dGhpbmcgaW4gcGFydGljdWxhci4gRm9yIGV4YW1wbGUsICJHTVQiLCAiVVRDIiwgIi01MDAiLAogICAgICAgICItNTowMCIsICJFRFQiLCAiVVMvRWFzdGVybiIsICJBbWVyaWNhL05ldyBZb3JrIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgbmFtZSA9IHNlbGYuX3R6aW5mby50em5hbWUoTm9uZSkKICAgICAgICBfY2hlY2tfdHpuYW1lKG5hbWUpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgZHN0KHNlbGYpOgogICAgICAgICIiIlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlcwogICAgICAgIGVhc3R3YXJkKSBpZiBEU1QgaXMgaW4gZWZmZWN0LgoKICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvCiAgICAgICAgdGhlIFVUQyBvZmZzZXQgcmV0dXJuZWQgYnkgdXRjb2Zmc2V0KCkgaWYgYXBwbGljYWJsZSwgc28gdGhlcmUncyBubwogICAgICAgIG5lZWQgdG8gY29uc3VsdCBkc3QoKSB1bmxlc3MgeW91J3JlIGludGVyZXN0ZWQgaW4gZGlzcGxheWluZyB0aGUgRFNUCiAgICAgICAgaW5mby4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KE5vbmUpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgZGVmIHJlcGxhY2Uoc2VsZiwgaG91cj1Ob25lLCBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsCiAgICAgICAgICAgICAgICB0emluZm89VHJ1ZSk6CiAgICAgICAgIiIiUmV0dXJuIGEgbmV3IHRpbWUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiIKICAgICAgICBpZiBob3VyIGlzIE5vbmU6CiAgICAgICAgICAgIGhvdXIgPSBzZWxmLmhvdXIKICAgICAgICBpZiBtaW51dGUgaXMgTm9uZToKICAgICAgICAgICAgbWludXRlID0gc2VsZi5taW51dGUKICAgICAgICBpZiBzZWNvbmQgaXMgTm9uZToKICAgICAgICAgICAgc2Vjb25kID0gc2VsZi5zZWNvbmQKICAgICAgICBpZiBtaWNyb3NlY29uZCBpcyBOb25lOgogICAgICAgICAgICBtaWNyb3NlY29uZCA9IHNlbGYubWljcm9zZWNvbmQKICAgICAgICBpZiB0emluZm8gaXMgVHJ1ZToKICAgICAgICAgICAgdHppbmZvID0gc2VsZi50emluZm8KICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICByZXR1cm4gdGltZShob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQsIHR6aW5mbykKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5zZWNvbmQgb3Igc2VsZi5taWNyb3NlY29uZDoKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBvZmZzZXQgPSBzZWxmLnV0Y29mZnNldCgpIG9yIHRpbWVkZWx0YSgwKQogICAgICAgIHJldHVybiB0aW1lZGVsdGEoaG91cnM9c2VsZi5ob3VyLCBtaW51dGVzPXNlbGYubWludXRlKSAhPSBvZmZzZXQKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgdXMyLCB1czMgPSBkaXZtb2Qoc2VsZi5fbWljcm9zZWNvbmQsIDI1NikKICAgICAgICB1czEsIHVzMiA9IGRpdm1vZCh1czIsIDI1NikKICAgICAgICBiYXNlc3RhdGUgPSBieXRlcyhbc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzMSwgdXMyLCB1czNdKQogICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gKGJhc2VzdGF0ZSwpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIChiYXNlc3RhdGUsIHNlbGYuX3R6aW5mbykKCiAgICBkZWYgX19zZXRzdGF0ZShzZWxmLCBzdHJpbmcsIHR6aW5mbyk6CiAgICAgICAgaWYgbGVuKHN0cmluZykgIT0gNiBvciBzdHJpbmdbMF0gPj0gMjQ6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiYW4gaW50ZWdlciBpcyByZXF1aXJlZCIpCiAgICAgICAgKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICB1czEsIHVzMiwgdXMzKSA9IHN0cmluZwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gKCgodXMxIDw8IDgpIHwgdXMyKSA8PCA4KSB8IHVzMwogICAgICAgIGlmIHR6aW5mbyBpcyBOb25lIG9yIGlzaW5zdGFuY2UodHppbmZvLCBfdHppbmZvX2NsYXNzKToKICAgICAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJiYWQgdHppbmZvIHN0YXRlIGFyZyAlciIgJSB0emluZm8pCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuICh0aW1lLCBzZWxmLl9nZXRzdGF0ZSgpKQoKX3RpbWVfY2xhc3MgPSB0aW1lICAjIHNvIGZ1bmN0aW9ucyB3LyBhcmdzIG5hbWVkICJ0aW1lIiBjYW4gZ2V0IGF0IHRoZSBjbGFzcwoKdGltZS5taW4gPSB0aW1lKDAsIDAsIDApCnRpbWUubWF4ID0gdGltZSgyMywgNTksIDU5LCA5OTk5OTkpCnRpbWUucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSkKCmNsYXNzIGRhdGV0aW1lKGRhdGUpOgogICAgIiIiZGF0ZXRpbWUoeWVhciwgbW9udGgsIGRheVssIGhvdXJbLCBtaW51dGVbLCBzZWNvbmRbLCBtaWNyb3NlY29uZFssdHppbmZvXV1dXV0pCgogICAgVGhlIHllYXIsIG1vbnRoIGFuZCBkYXkgYXJndW1lbnRzIGFyZSByZXF1aXJlZC4gdHppbmZvIG1heSBiZSBOb25lLCBvciBhbgogICAgaW5zdGFuY2Ugb2YgYSB0emluZm8gc3ViY2xhc3MuIFRoZSByZW1haW5pbmcgYXJndW1lbnRzIG1heSBiZSBpbnRzIG9yIGxvbmdzLgogICAgIiIiCgogICAgI2ZpeG1lIGJyeXRob24KICAgICNfX3Nsb3RzX18gPSBkYXRlLl9fc2xvdHNfXyArICgKICAgIF9fc2xvdHNfXyA9ICgnX3llYXInLCAnX21vbnRoJywgJ19kYXknLAogICAgICAgICdfaG91cicsICdfbWludXRlJywgJ19zZWNvbmQnLAogICAgICAgICdfbWljcm9zZWNvbmQnLCAnX3R6aW5mbycpCiAgICBkZWYgX19uZXdfXyhjbHMsIHllYXIsIG1vbnRoPU5vbmUsIGRheT1Ob25lLCBob3VyPTAsIG1pbnV0ZT0wLCBzZWNvbmQ9MCwKICAgICAgICAgICAgICAgIG1pY3Jvc2Vjb25kPTAsIHR6aW5mbz1Ob25lKToKICAgICAgICBwcmludCgiZGF0ZXRpbWUuX19uZXdfXyIpCgogICAgICAgIGlmIGlzaW5zdGFuY2UoeWVhciwgYnl0ZXMpIGFuZCBsZW4oeWVhcikgPT0gMTA6CiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZiA9IGRhdGUuX19uZXdfXyhjbHMsIHllYXJbOjRdKQogICAgICAgICAgICBzZWxmLl9fc2V0c3RhdGUoeWVhciwgbW9udGgpCiAgICAgICAgICAgIHJldHVybiBzZWxmCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKQogICAgICAgIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpCiAgICAgICAgcHJpbnQoImRhdGUuX19uZXdfXyIpCiAgICAgICAgc2VsZiA9IGRhdGUuX19uZXdfXyhjbHMsIHllYXIsIG1vbnRoLCBkYXkpCiAgICAgICAgcHJpbnQoImRhdGUuX19uZXdfXyIpCiAgICAgICAgc2VsZi5faG91ciA9IGhvdXIKICAgICAgICBzZWxmLl9taW51dGUgPSBtaW51dGUKICAgICAgICBzZWxmLl9zZWNvbmQgPSBzZWNvbmQKICAgICAgICBzZWxmLl9taWNyb3NlY29uZCA9IG1pY3Jvc2Vjb25kCiAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnMKICAgIEBwcm9wZXJ0eQogICAgZGVmIGhvdXIoc2VsZik6CiAgICAgICAgIiIiaG91ciAoMC0yMykiIiIKICAgICAgICByZXR1cm4gc2VsZi5faG91cgoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1pbnV0ZShzZWxmKToKICAgICAgICAiIiJtaW51dGUgKDAtNTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pbnV0ZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlY29uZChzZWxmKToKICAgICAgICAiIiJzZWNvbmQgKDAtNTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3NlY29uZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1pY3Jvc2Vjb25kKHNlbGYpOgogICAgICAgICIiIm1pY3Jvc2Vjb25kICgwLTk5OTk5OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbWljcm9zZWNvbmQKCiAgICBAcHJvcGVydHkKICAgIGRlZiB0emluZm8oc2VsZik6CiAgICAgICAgIiIidGltZXpvbmUgaW5mbyBvYmplY3QiIiIKICAgICAgICByZXR1cm4gc2VsZi5fdHppbmZvCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbXRpbWVzdGFtcChjbHMsIHQsIHR6PU5vbmUpOgogICAgICAgICIiIkNvbnN0cnVjdCBhIGRhdGV0aW1lIGZyb20gYSBQT1NJWCB0aW1lc3RhbXAgKGxpa2UgdGltZS50aW1lKCkpLgoKICAgICAgICBBIHRpbWV6b25lIGluZm8gb2JqZWN0IG1heSBiZSBwYXNzZWQgaW4gYXMgd2VsbC4KICAgICAgICAiIiIKCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHopCgogICAgICAgIGNvbnZlcnRlciA9IF90aW1lLmxvY2FsdGltZSBpZiB0eiBpcyBOb25lIGVsc2UgX3RpbWUuZ210aW1lCgogICAgICAgIHQsIGZyYWMgPSBkaXZtb2QodCwgMS4wKQogICAgICAgIHVzID0gcm91bmQoZnJhYyAqIDFlNikKCiAgICAgICAgIyBJZiB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIG9uZSBtaWNyb3NlY29uZCBzbWFsbGVyIHRoYW4gYQogICAgICAgICMgZnVsbCBzZWNvbmQsIHVzIGNhbiBiZSByb3VuZGVkIHVwIHRvIDEwMDAwMDAuICBJbiB0aGlzIGNhc2UsCiAgICAgICAgIyByb2xsIG92ZXIgdG8gc2Vjb25kcywgb3RoZXJ3aXNlLCBWYWx1ZUVycm9yIGlzIHJhaXNlZAogICAgICAgICMgYnkgdGhlIGNvbnN0cnVjdG9yLgogICAgICAgIGlmIHVzID09IDEwMDAwMDA6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICB1cyA9IDAKICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBjb252ZXJ0ZXIodCkKICAgICAgICBzcyA9IG1pbihzcywgNTkpICAgICMgY2xhbXAgb3V0IGxlYXAgc2Vjb25kcyBpZiB0aGUgcGxhdGZvcm0gaGFzIHRoZW0KICAgICAgICByZXN1bHQgPSBjbHMoeSwgbSwgZCwgaGgsIG1tLCBzcywgdXMsIHR6KQogICAgICAgIGlmIHR6IGlzIG5vdCBOb25lOgogICAgICAgICAgICByZXN1bHQgPSB0ei5mcm9tdXRjKHJlc3VsdCkKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdXRjZnJvbXRpbWVzdGFtcChjbHMsIHQpOgogICAgICAgICJDb25zdHJ1Y3QgYSBVVEMgZGF0ZXRpbWUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIgogICAgICAgIHQsIGZyYWMgPSBkaXZtb2QodCwgMS4wKQogICAgICAgIHVzID0gcm91bmQoZnJhYyAqIDFlNikKCiAgICAgICAgIyBJZiB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIG9uZSBtaWNyb3NlY29uZCBzbWFsbGVyIHRoYW4gYQogICAgICAgICMgZnVsbCBzZWNvbmQsIHVzIGNhbiBiZSByb3VuZGVkIHVwIHRvIDEwMDAwMDAuICBJbiB0aGlzIGNhc2UsCiAgICAgICAgIyByb2xsIG92ZXIgdG8gc2Vjb25kcywgb3RoZXJ3aXNlLCBWYWx1ZUVycm9yIGlzIHJhaXNlZAogICAgICAgICMgYnkgdGhlIGNvbnN0cnVjdG9yLgogICAgICAgIGlmIHVzID09IDEwMDAwMDA6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICB1cyA9IDAKICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBfdGltZS5nbXRpbWUodCkKICAgICAgICBzcyA9IG1pbihzcywgNTkpICAgICMgY2xhbXAgb3V0IGxlYXAgc2Vjb25kcyBpZiB0aGUgcGxhdGZvcm0gaGFzIHRoZW0KICAgICAgICByZXR1cm4gY2xzKHksIG0sIGQsIGhoLCBtbSwgc3MsIHVzKQoKICAgICMgWFhYIFRoaXMgaXMgc3VwcG9zZWQgdG8gZG8gYmV0dGVyIHRoYW4gd2UgKmNhbiogZG8gYnkgdXNpbmcgdGltZS50aW1lKCksCiAgICAjIFhYWCBpZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgYSBtb3JlIGFjY3VyYXRlIHdheS4gIFRoZSBDIGltcGxlbWVudGF0aW9uCiAgICAjIFhYWCB1c2VzIGdldHRpbWVvZmRheSBvbiBwbGF0Zm9ybXMgdGhhdCBoYXZlIGl0LCBidXQgdGhhdCBpc24ndAogICAgIyBYWFggYXZhaWxhYmxlIGZyb20gUHl0aG9uLiAgU28gbm93KCkgbWF5IHJldHVybiBkaWZmZXJlbnQgcmVzdWx0cwogICAgIyBYWFggYWNyb3NzIHRoZSBpbXBsZW1lbnRhdGlvbnMuCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBub3coY2xzLCB0ej1Ob25lKToKICAgICAgICAiQ29uc3RydWN0IGEgZGF0ZXRpbWUgZnJvbSB0aW1lLnRpbWUoKSBhbmQgb3B0aW9uYWwgdGltZSB6b25lIGluZm8uIgogICAgICAgIHQgPSBfdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gY2xzLmZyb210aW1lc3RhbXAodCwgdHopCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdXRjbm93KGNscyk6CiAgICAgICAgIkNvbnN0cnVjdCBhIFVUQyBkYXRldGltZSBmcm9tIHRpbWUudGltZSgpLiIKICAgICAgICB0ID0gX3RpbWUudGltZSgpCiAgICAgICAgcmV0dXJuIGNscy51dGNmcm9tdGltZXN0YW1wKHQpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgY29tYmluZShjbHMsIGRhdGUsIHRpbWUpOgogICAgICAgICJDb25zdHJ1Y3QgYSBkYXRldGltZSBmcm9tIGEgZ2l2ZW4gZGF0ZSBhbmQgYSBnaXZlbiB0aW1lLiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkYXRlLCBfZGF0ZV9jbGFzcyk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZGF0ZSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSBpbnN0YW5jZSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGltZSwgX3RpbWVfY2xhc3MpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInRpbWUgYXJndW1lbnQgbXVzdCBiZSBhIHRpbWUgaW5zdGFuY2UiKQogICAgICAgIHJldHVybiBjbHMoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRheSwKICAgICAgICAgICAgICAgICAgIHRpbWUuaG91ciwgdGltZS5taW51dGUsIHRpbWUuc2Vjb25kLCB0aW1lLm1pY3Jvc2Vjb25kLAogICAgICAgICAgICAgICAgICAgdGltZS50emluZm8pCgogICAgZGVmIHRpbWV0dXBsZShzZWxmKToKICAgICAgICAiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIgogICAgICAgIGRzdCA9IHNlbGYuZHN0KCkKICAgICAgICBpZiBkc3QgaXMgTm9uZToKICAgICAgICAgICAgZHN0ID0gLTEKICAgICAgICBlbGlmIGRzdDoKICAgICAgICAgICAgZHN0ID0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRzdCA9IDAKICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHNlbGYueWVhciwgc2VsZi5tb250aCwgc2VsZi5kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhvdXIsIHNlbGYubWludXRlLCBzZWxmLnNlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdCkKCiAgICBkZWYgdXRjdGltZXR1cGxlKHNlbGYpOgogICAgICAgICJSZXR1cm4gVVRDIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUuZ210aW1lKCkuIgogICAgICAgIG9mZnNldCA9IHNlbGYudXRjb2Zmc2V0KCkKICAgICAgICBpZiBvZmZzZXQ6CiAgICAgICAgICAgIHNlbGYgLT0gb2Zmc2V0CiAgICAgICAgeSwgbSwgZCA9IHNlbGYueWVhciwgc2VsZi5tb250aCwgc2VsZi5kYXkKICAgICAgICBoaCwgbW0sIHNzID0gc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQKICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHksIG0sIGQsIGhoLCBtbSwgc3MsIDApCgogICAgZGVmIGRhdGUoc2VsZik6CiAgICAgICAgIlJldHVybiB0aGUgZGF0ZSBwYXJ0LiIKICAgICAgICByZXR1cm4gZGF0ZShzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KQoKICAgIGRlZiB0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gdGhlIHRpbWUgcGFydCwgd2l0aCB0emluZm8gTm9uZS4iCiAgICAgICAgcmV0dXJuIHRpbWUoc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQpCgogICAgZGVmIHRpbWV0eihzZWxmKToKICAgICAgICAiUmV0dXJuIHRoZSB0aW1lIHBhcnQsIHdpdGggc2FtZSB0emluZm8uIgogICAgICAgIHJldHVybiB0aW1lKHNlbGYuaG91ciwgc2VsZi5taW51dGUsIHNlbGYuc2Vjb25kLCBzZWxmLm1pY3Jvc2Vjb25kLAogICAgICAgICAgICAgICAgICAgIHNlbGYuX3R6aW5mbykKCiAgICBkZWYgcmVwbGFjZShzZWxmLCB5ZWFyPU5vbmUsIG1vbnRoPU5vbmUsIGRheT1Ob25lLCBob3VyPU5vbmUsCiAgICAgICAgICAgICAgICBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsIHR6aW5mbz1UcnVlKToKICAgICAgICAiIiJSZXR1cm4gYSBuZXcgZGF0ZXRpbWUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiIKICAgICAgICBpZiB5ZWFyIGlzIE5vbmU6CiAgICAgICAgICAgIHllYXIgPSBzZWxmLnllYXIKICAgICAgICBpZiBtb250aCBpcyBOb25lOgogICAgICAgICAgICBtb250aCA9IHNlbGYubW9udGgKICAgICAgICBpZiBkYXkgaXMgTm9uZToKICAgICAgICAgICAgZGF5ID0gc2VsZi5kYXkKICAgICAgICBpZiBob3VyIGlzIE5vbmU6CiAgICAgICAgICAgIGhvdXIgPSBzZWxmLmhvdXIKICAgICAgICBpZiBtaW51dGUgaXMgTm9uZToKICAgICAgICAgICAgbWludXRlID0gc2VsZi5taW51dGUKICAgICAgICBpZiBzZWNvbmQgaXMgTm9uZToKICAgICAgICAgICAgc2Vjb25kID0gc2VsZi5zZWNvbmQKICAgICAgICBpZiBtaWNyb3NlY29uZCBpcyBOb25lOgogICAgICAgICAgICBtaWNyb3NlY29uZCA9IHNlbGYubWljcm9zZWNvbmQKICAgICAgICBpZiB0emluZm8gaXMgVHJ1ZToKICAgICAgICAgICAgdHppbmZvID0gc2VsZi50emluZm8KICAgICAgICBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSkKICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICByZXR1cm4gZGF0ZXRpbWUoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWljcm9zZWNvbmQsIHR6aW5mbykKCiAgICBkZWYgYXN0aW1lem9uZShzZWxmLCB0eik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodHosIHR6aW5mbyk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidHogYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB0emluZm8iKQoKICAgICAgICBteXR6ID0gc2VsZi50emluZm8KICAgICAgICBpZiBteXR6IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImFzdGltZXpvbmUoKSByZXF1aXJlcyBhbiBhd2FyZSBkYXRldGltZSIpCgogICAgICAgIGlmIHR6IGlzIG15dHo6CiAgICAgICAgICAgIHJldHVybiBzZWxmCgogICAgICAgICMgQ29udmVydCBzZWxmIHRvIFVUQywgYW5kIGF0dGFjaCB0aGUgbmV3IHRpbWUgem9uZSBvYmplY3QuCiAgICAgICAgbXlvZmZzZXQgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgbXlvZmZzZXQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYXN0aW1lem9uZSgpIHJlcXVpcmVzIGFuIGF3YXJlIGRhdGV0aW1lIikKICAgICAgICB1dGMgPSAoc2VsZiAtIG15b2Zmc2V0KS5yZXBsYWNlKHR6aW5mbz10eikKCiAgICAgICAgIyBDb252ZXJ0IGZyb20gVVRDIHRvIHR6J3MgbG9jYWwgdGltZS4KICAgICAgICByZXR1cm4gdHouZnJvbXV0Yyh1dGMpCgogICAgIyBXYXlzIHRvIHByb2R1Y2UgYSBzdHJpbmcuCgogICAgZGVmIGN0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIgogICAgICAgIHdlZWtkYXkgPSBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CiAgICAgICAgcmV0dXJuICIlcyAlcyAlMmQgJTAyZDolMDJkOiUwMmQgJTA0ZCIgJSAoCiAgICAgICAgICAgIF9EQVlOQU1FU1t3ZWVrZGF5XSwKICAgICAgICAgICAgX01PTlRITkFNRVNbc2VsZi5fbW9udGhdLAogICAgICAgICAgICBzZWxmLl9kYXksCiAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICBzZWxmLl95ZWFyKQoKICAgIGRlZiBpc29mb3JtYXQoc2VsZiwgc2VwPSdUJyk6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gSVNPLgoKICAgICAgICBUaGlzIGlzICdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbScsIG9yICdZWVlZLU1NLUREIEhIOk1NOlNTJyBpZgogICAgICAgIHNlbGYubWljcm9zZWNvbmQgPT0gMC4KCiAgICAgICAgSWYgc2VsZi50emluZm8gaXMgbm90IE5vbmUsIHRoZSBVVEMgb2Zmc2V0IGlzIGFsc28gYXR0YWNoZWQsIGdpdmluZwogICAgICAgICdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbStISDpNTScgb3IgJ1lZWVktTU0tREQgSEg6TU06U1MrSEg6TU0nLgoKICAgICAgICBPcHRpb25hbCBhcmd1bWVudCBzZXAgc3BlY2lmaWVzIHRoZSBzZXBhcmF0b3IgYmV0d2VlbiBkYXRlIGFuZAogICAgICAgIHRpbWUsIGRlZmF1bHQgJ1QnLgogICAgICAgICIiIgogICAgICAgIHMgPSAoIiUwNGQtJTAyZC0lMDJkJWMiICUgKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXApICsKICAgICAgICAgICAgICAgIF9mb3JtYXRfdGltZShzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCkpCiAgICAgICAgb2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgIGlmIG9mZiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgb2ZmLmRheXMgPCAwOgogICAgICAgICAgICAgICAgc2lnbiA9ICItIgogICAgICAgICAgICAgICAgb2ZmID0gLW9mZgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2lnbiA9ICIrIgogICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCB0aW1lZGVsdGEoaG91cnM9MSkpCiAgICAgICAgICAgIGFzc2VydCBub3QgbW0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgbW0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgICAgIHMgKz0gIiVzJTAyZDolMDJkIiAlIChzaWduLCBoaCwgbW0pCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgIiIiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLiIiIgogICAgICAgIEwgPSBbc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwgIyBUaGVzZSBhcmUgbmV2ZXIgemVybwogICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsIHNlbGYuX21pY3Jvc2Vjb25kXQogICAgICAgIGlmIExbLTFdID09IDA6CiAgICAgICAgICAgIGRlbCBMWy0xXQogICAgICAgIGlmIExbLTFdID09IDA6CiAgICAgICAgICAgIGRlbCBMWy0xXQogICAgICAgIHMgPSAiLCAiLmpvaW4obWFwKHN0ciwgTCkpCiAgICAgICAgcyA9ICIlcyglcykiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHMpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgc1stMTpdID09ICIpIgogICAgICAgICAgICBzID0gc1s6LTFdICsgIiwgdHppbmZvPSVyIiAlIHNlbGYuX3R6aW5mbyArICIpIgogICAgICAgIHJldHVybiBzCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgIkNvbnZlcnQgdG8gc3RyaW5nLCBmb3Igc3RyKCkuIgogICAgICAgIHJldHVybiBzZWxmLmlzb2Zvcm1hdChzZXA9JyAnKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIHN0cnB0aW1lKGNscywgZGF0ZV9zdHJpbmcsIGZvcm1hdCk6CiAgICAgICAgJ3N0cmluZywgZm9ybWF0IC0+IG5ldyBkYXRldGltZSBwYXJzZWQgZnJvbSBhIHN0cmluZyAobGlrZSB0aW1lLnN0cnB0aW1lKCkpLicKICAgICAgICBpbXBvcnQgX3N0cnB0aW1lCiAgICAgICAgcmV0dXJuIF9zdHJwdGltZS5fc3RycHRpbWVfZGF0ZXRpbWUoY2xzLCBkYXRlX3N0cmluZywgZm9ybWF0KQoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZgogICAgICAgIFVUQykuIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgb2Zmc2V0ID0gc2VsZi5fdHppbmZvLnV0Y29mZnNldChzZWxmKQogICAgICAgIF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpCiAgICAgICAgcmV0dXJuIG9mZnNldAoKICAgIGRlZiB0em5hbWUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLgoKICAgICAgICBOb3RlIHRoYXQgdGhlIG5hbWUgaXMgMTAwJSBpbmZvcm1hdGlvbmFsIC0tIHRoZXJlJ3Mgbm8gcmVxdWlyZW1lbnQgdGhhdAogICAgICAgIGl0IG1lYW4gYW55dGhpbmcgaW4gcGFydGljdWxhci4gRm9yIGV4YW1wbGUsICJHTVQiLCAiVVRDIiwgIi01MDAiLAogICAgICAgICItNTowMCIsICJFRFQiLCAiVVMvRWFzdGVybiIsICJBbWVyaWNhL05ldyBZb3JrIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuCiAgICAgICAgIiIiCiAgICAgICAgbmFtZSA9IF9jYWxsX3R6aW5mb19tZXRob2Qoc2VsZi5fdHppbmZvLCAidHpuYW1lIiwgc2VsZikKICAgICAgICBfY2hlY2tfdHpuYW1lKG5hbWUpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgZHN0KHNlbGYpOgogICAgICAgICIiIlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlcwogICAgICAgIGVhc3R3YXJkKSBpZiBEU1QgaXMgaW4gZWZmZWN0LgoKICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvCiAgICAgICAgdGhlIFVUQyBvZmZzZXQgcmV0dXJuZWQgYnkgdXRjb2Zmc2V0KCkgaWYgYXBwbGljYWJsZSwgc28gdGhlcmUncyBubwogICAgICAgIG5lZWQgdG8gY29uc3VsdCBkc3QoKSB1bmxlc3MgeW91J3JlIGludGVyZXN0ZWQgaW4gZGlzcGxheWluZyB0aGUgRFNUCiAgICAgICAgaW5mby4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KHNlbGYpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgIyBDb21wYXJpc29ucyBvZiBkYXRldGltZSBvYmplY3RzIHdpdGggb3RoZXIuCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPD0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPj0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+IDAKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfY21wKHNlbGYsIG90aGVyKToKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpCiAgICAgICAgbXl0eiA9IHNlbGYuX3R6aW5mbwogICAgICAgIG90dHogPSBvdGhlci5fdHppbmZvCiAgICAgICAgbXlvZmYgPSBvdG9mZiA9IE5vbmUKCiAgICAgICAgaWYgbXl0eiBpcyBvdHR6OgogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbXl0eiBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIG15b2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgICAgICBpZiBvdHR6IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgb3RvZmYgPSBvdGhlci51dGNvZmZzZXQoKQogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBteW9mZiA9PSBvdG9mZgoKICAgICAgICBpZiBiYXNlX2NvbXBhcmU6CiAgICAgICAgICAgIHJldHVybiBfY21wKChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5fbWljcm9zZWNvbmQpKQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29tcGFyZSBuYWl2ZSBhbmQgYXdhcmUgZGF0ZXRpbWVzIikKICAgICAgICAjIFhYWCBXaGF0IGZvbGxvd3MgY291bGQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5Li4uCiAgICAgICAgZGlmZiA9IHNlbGYgLSBvdGhlciAgICAgIyB0aGlzIHdpbGwgdGFrZSBvZmZzZXRzIGludG8gYWNjb3VudAogICAgICAgIGlmIGRpZmYuZGF5cyA8IDA6CiAgICAgICAgICAgIHJldHVybiAtMQogICAgICAgIHJldHVybiBkaWZmIGFuZCAxIG9yIDAKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIkFkZCBhIGRhdGV0aW1lIGFuZCBhIHRpbWVkZWx0YS4iCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGRlbHRhID0gdGltZWRlbHRhKHNlbGYudG9vcmRpbmFsKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cnM9c2VsZi5faG91ciwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzPXNlbGYuX21pbnV0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzPXNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZHM9c2VsZi5fbWljcm9zZWNvbmQpCiAgICAgICAgZGVsdGEgKz0gb3RoZXIKICAgICAgICBob3VyLCByZW0gPSBkaXZtb2QoZGVsdGEuc2Vjb25kcywgMzYwMCkKICAgICAgICBtaW51dGUsIHNlY29uZCA9IGRpdm1vZChyZW0sIDYwKQogICAgICAgIGlmIDAgPCBkZWx0YS5kYXlzIDw9IF9NQVhPUkRJTkFMOgogICAgICAgICAgICByZXR1cm4gZGF0ZXRpbWUuY29tYmluZShkYXRlLmZyb21vcmRpbmFsKGRlbHRhLmRheXMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhLm1pY3Jvc2Vjb25kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0emluZm89c2VsZi5fdHppbmZvKSkKICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJyZXN1bHQgb3V0IG9mIHJhbmdlIikKCiAgICBfX3JhZGRfXyA9IF9fYWRkX18KCiAgICBkZWYgX19zdWJfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIlN1YnRyYWN0IHR3byBkYXRldGltZXMsIG9yIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYgKyAtb3RoZXIKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgICAgIGRheXMxID0gc2VsZi50b29yZGluYWwoKQogICAgICAgIGRheXMyID0gb3RoZXIudG9vcmRpbmFsKCkKICAgICAgICBzZWNzMSA9IHNlbGYuX3NlY29uZCArIHNlbGYuX21pbnV0ZSAqIDYwICsgc2VsZi5faG91ciAqIDM2MDAKICAgICAgICBzZWNzMiA9IG90aGVyLl9zZWNvbmQgKyBvdGhlci5fbWludXRlICogNjAgKyBvdGhlci5faG91ciAqIDM2MDAKICAgICAgICBiYXNlID0gdGltZWRlbHRhKGRheXMxIC0gZGF5czIsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzMSAtIHNlY3MyLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgLSBvdGhlci5fbWljcm9zZWNvbmQpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG90aGVyLl90emluZm86CiAgICAgICAgICAgIHJldHVybiBiYXNlCiAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgb3RvZmYgPSBvdGhlci51dGNvZmZzZXQoKQogICAgICAgIGlmIG15b2ZmID09IG90b2ZmOgogICAgICAgICAgICByZXR1cm4gYmFzZQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgbWl4IG5haXZlIGFuZCB0aW1lem9uZS1hd2FyZSB0aW1lIikKICAgICAgICByZXR1cm4gYmFzZSArIG90b2ZmIC0gbXlvZmYKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgdHpvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgdHpvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIGhhc2goc2VsZi5fZ2V0c3RhdGUoKVswXSkKICAgICAgICBkYXlzID0gX3ltZDJvcmQoc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheSkKICAgICAgICBzZWNvbmRzID0gc2VsZi5ob3VyICogMzYwMCArIHNlbGYubWludXRlICogNjAgKyBzZWxmLnNlY29uZAogICAgICAgIHJldHVybiBoYXNoKHRpbWVkZWx0YShkYXlzLCBzZWNvbmRzLCBzZWxmLm1pY3Jvc2Vjb25kKSAtIHR6b2ZmKQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB5aGksIHlsbyA9IGRpdm1vZChzZWxmLl95ZWFyLCAyNTYpCiAgICAgICAgdXMyLCB1czMgPSBkaXZtb2Qoc2VsZi5fbWljcm9zZWNvbmQsIDI1NikKICAgICAgICB1czEsIHVzMiA9IGRpdm1vZCh1czIsIDI1NikKICAgICAgICBiYXNlc3RhdGUgPSBieXRlcyhbeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1czEsIHVzMiwgdXMzXSkKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChiYXNlc3RhdGUsKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAoYmFzZXN0YXRlLCBzZWxmLl90emluZm8pCgogICAgZGVmIF9fc2V0c3RhdGUoc2VsZiwgc3RyaW5nLCB0emluZm8pOgogICAgICAgICh5aGksIHlsbywgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwgc2VsZi5faG91ciwKICAgICAgICAgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsIHVzMSwgdXMyLCB1czMpID0gc3RyaW5nCiAgICAgICAgc2VsZi5feWVhciA9IHloaSAqIDI1NiArIHlsbwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gKCgodXMxIDw8IDgpIHwgdXMyKSA8PCA4KSB8IHVzMwogICAgICAgIGlmIHR6aW5mbyBpcyBOb25lIG9yIGlzaW5zdGFuY2UodHppbmZvLCBfdHppbmZvX2NsYXNzKToKICAgICAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJiYWQgdHppbmZvIHN0YXRlIGFyZyAlciIgJSB0emluZm8pCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCiNwcmludCgiZ290IGhlcmUxIikKI2RhdGV0aW1lLm1pbiA9IGRhdGV0aW1lKDEsIDEsIDEpCiNwcmludCgiZ290IGhlcmUyIikKI2RhdGV0aW1lLm1heCA9IGRhdGV0aW1lKDk5OTksIDEyLCAzMSwgMjMsIDU5LCA1OSwgOTk5OTk5KQojcHJpbnQoImdvdCBoZXJlMyIpCiNkYXRldGltZS5yZXNvbHV0aW9uID0gdGltZWRlbHRhKG1pY3Jvc2Vjb25kcz0xKQojcHJpbnQoImdvdCBoZXJlNCIpCgoKZGVmIF9pc293ZWVrMW1vbmRheSh5ZWFyKToKICAgICMgSGVscGVyIHRvIGNhbGN1bGF0ZSB0aGUgZGF5IG51bWJlciBvZiB0aGUgTW9uZGF5IHN0YXJ0aW5nIHdlZWsgMQogICAgIyBYWFggVGhpcyBjb3VsZCBiZSBkb25lIG1vcmUgZWZmaWNpZW50bHkKICAgIFRIVVJTREFZID0gMwogICAgZmlyc3RkYXkgPSBfeW1kMm9yZCh5ZWFyLCAxLCAxKQogICAgZmlyc3R3ZWVrZGF5ID0gKGZpcnN0ZGF5ICsgNikgJSA3ICMgU2VlIHdlZWtkYXkoKSBhYm92ZQogICAgd2VlazFtb25kYXkgPSBmaXJzdGRheSAtIGZpcnN0d2Vla2RheQogICAgaWYgZmlyc3R3ZWVrZGF5ID4gVEhVUlNEQVk6CiAgICAgICAgd2VlazFtb25kYXkgKz0gNwogICAgcmV0dXJuIHdlZWsxbW9uZGF5CgpjbGFzcyB0aW1lem9uZSh0emluZm8pOgogICAgX19zbG90c19fID0gJ19vZmZzZXQnLCAnX25hbWUnCgogICAgIyBTZW50aW5lbCB2YWx1ZSB0byBkaXNhbGxvdyBOb25lCiAgICBfT21pdHRlZCA9IG9iamVjdCgpCiAgICBkZWYgX19uZXdfXyhjbHMsIG9mZnNldCwgbmFtZT1fT21pdHRlZCk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob2Zmc2V0LCB0aW1lZGVsdGEpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIm9mZnNldCBtdXN0IGJlIGEgdGltZWRlbHRhIikKICAgICAgICBpZiBuYW1lIGlzIGNscy5fT21pdHRlZDoKICAgICAgICAgICAgaWYgbm90IG9mZnNldDoKICAgICAgICAgICAgICAgIHJldHVybiBjbHMudXRjCiAgICAgICAgICAgIG5hbWUgPSBOb25lCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShuYW1lLCBzdHIpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIm5hbWUgbXVzdCBiZSBhIHN0cmluZyIpCiAgICAgICAgaWYgbm90IGNscy5fbWlub2Zmc2V0IDw9IG9mZnNldCA8PSBjbHMuX21heG9mZnNldDoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigib2Zmc2V0IG11c3QgYmUgYSB0aW1lZGVsdGEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBzdHJpY3RseSBiZXR3ZWVuIC10aW1lZGVsdGEoaG91cnM9MjQpIGFuZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIHRpbWVkZWx0YShob3Vycz0yNCkuIikKICAgICAgICBpZiAob2Zmc2V0Lm1pY3Jvc2Vjb25kcyAhPSAwIG9yCiAgICAgICAgICAgIG9mZnNldC5zZWNvbmRzICUgNjAgIT0gMCk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm9mZnNldCBtdXN0IGJlIGEgdGltZWRlbHRhIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgcmVwcmVzZW50aW5nIGEgd2hvbGUgbnVtYmVyIG9mIG1pbnV0ZXMiKQogICAgICAgIHJldHVybiBjbHMuX2NyZWF0ZShvZmZzZXQsIG5hbWUpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZShjbHMsIG9mZnNldCwgbmFtZT1Ob25lKToKICAgICAgICBzZWxmID0gdHppbmZvLl9fbmV3X18oY2xzKQogICAgICAgIHNlbGYuX29mZnNldCA9IG9mZnNldAogICAgICAgIHNlbGYuX25hbWUgPSBuYW1lCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19nZXRpbml0YXJnc19fKHNlbGYpOgogICAgICAgICIiInBpY2tsZSBzdXBwb3J0IiIiCiAgICAgICAgaWYgc2VsZi5fbmFtZSBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gKHNlbGYuX29mZnNldCwpCiAgICAgICAgcmV0dXJuIChzZWxmLl9vZmZzZXQsIHNlbGYuX25hbWUpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgdHlwZShvdGhlcikgIT0gdGltZXpvbmU6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHJldHVybiBzZWxmLl9vZmZzZXQgPT0gb3RoZXIuX29mZnNldAoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaChzZWxmLl9vZmZzZXQpCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4KCiAgICAgICAgPj4+IHR6ID0gdGltZXpvbmUudXRjCiAgICAgICAgPj4+IHJlcHIodHopCiAgICAgICAgJ2RhdGV0aW1lLnRpbWV6b25lLnV0YycKICAgICAgICA+Pj4gdHogPSB0aW1lem9uZSh0aW1lZGVsdGEoaG91cnM9LTUpLCAnRVNUJykKICAgICAgICA+Pj4gcmVwcih0eikKICAgICAgICAiZGF0ZXRpbWUudGltZXpvbmUoZGF0ZXRpbWUudGltZWRlbHRhKC0xLCA2ODQwMCksICdFU1QnKSIKICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmIGlzIHNlbGYudXRjOgogICAgICAgICAgICByZXR1cm4gJ2RhdGV0aW1lLnRpbWV6b25lLnV0YycKICAgICAgICBpZiBzZWxmLl9uYW1lIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiAiJXMoJXIpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2Zmc2V0KQogICAgICAgIHJldHVybiAiJXMoJXIsICVyKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX29mZnNldCwgc2VsZi5fbmFtZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50em5hbWUoTm9uZSkKCiAgICBkZWYgdXRjb2Zmc2V0KHNlbGYsIGR0KToKICAgICAgICBpZiBpc2luc3RhbmNlKGR0LCBkYXRldGltZSkgb3IgZHQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX29mZnNldAogICAgICAgIHJhaXNlIFR5cGVFcnJvcigidXRjb2Zmc2V0KCkgYXJndW1lbnQgbXVzdCBiZSBhIGRhdGV0aW1lIGluc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICAiIG9yIE5vbmUiKQoKICAgIGRlZiB0em5hbWUoc2VsZiwgZHQpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoZHQsIGRhdGV0aW1lKSBvciBkdCBpcyBOb25lOgogICAgICAgICAgICBpZiBzZWxmLl9uYW1lIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fbmFtZV9mcm9tX29mZnNldChzZWxmLl9vZmZzZXQpCiAgICAgICAgICAgIHJldHVybiBzZWxmLl9uYW1lCiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0em5hbWUoKSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZXRpbWUgaW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICIgb3IgTm9uZSIpCgogICAgZGVmIGRzdChzZWxmLCBkdCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpIG9yIGR0IGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJkc3QoKSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZXRpbWUgaW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICIgb3IgTm9uZSIpCgogICAgZGVmIGZyb211dGMoc2VsZiwgZHQpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoZHQsIGRhdGV0aW1lKToKICAgICAgICAgICAgaWYgZHQudHppbmZvIGlzIG5vdCBzZWxmOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YzogZHQudHppbmZvICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImlzIG5vdCBzZWxmIikKICAgICAgICAgICAgcmV0dXJuIGR0ICsgc2VsZi5fb2Zmc2V0CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJmcm9tdXRjKCkgYXJndW1lbnQgbXVzdCBiZSBhIGRhdGV0aW1lIGluc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICAiIG9yIE5vbmUiKQoKICAgIF9tYXhvZmZzZXQgPSB0aW1lZGVsdGEoaG91cnM9MjMsIG1pbnV0ZXM9NTkpCiAgICBfbWlub2Zmc2V0ID0gLV9tYXhvZmZzZXQKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgX25hbWVfZnJvbV9vZmZzZXQoZGVsdGEpOgogICAgICAgIGlmIGRlbHRhIDwgdGltZWRlbHRhKDApOgogICAgICAgICAgICBzaWduID0gJy0nCiAgICAgICAgICAgIGRlbHRhID0gLWRlbHRhCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2lnbiA9ICcrJwogICAgICAgIGhvdXJzLCByZXN0ID0gZGl2bW9kKGRlbHRhLCB0aW1lZGVsdGEoaG91cnM9MSkpCiAgICAgICAgbWludXRlcyA9IHJlc3QgLy8gdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICByZXR1cm4gJ1VUQ3t9ezowMmR9Ons6MDJkfScuZm9ybWF0KHNpZ24sIGhvdXJzLCBtaW51dGVzKQoKI3RpbWV6b25lLnV0YyA9IHRpbWV6b25lLl9jcmVhdGUodGltZWRlbHRhKDApKQojdGltZXpvbmUubWluID0gdGltZXpvbmUuX2NyZWF0ZSh0aW1lem9uZS5fbWlub2Zmc2V0KQojdGltZXpvbmUubWF4ID0gdGltZXpvbmUuX2NyZWF0ZSh0aW1lem9uZS5fbWF4b2Zmc2V0KQoK',
'/Lib/webbrowser.py':'X19hbGxfXyA9IFsiRXJyb3IiLCAib3BlbiIsICJvcGVuX25ldyIsICJvcGVuX25ld190YWIiXQoKY2xhc3MgRXJyb3IoRXhjZXB0aW9uKToKICAgIHBhc3MKCl90YXJnZXQgPSB7IDA6ICcnLCAxOiAnX2JsYW5rJywgMjogJ19uZXcnIH0gICMgaGFjay4uLgoKCmRlZiBvcGVuKHVybCwgbmV3PTAsIGF1dG9yYWlzZT1UcnVlKToKICAgICIiIiAKICAgIG5ldyB3aW5kb3cgb3IgdGFiIGlzIG5vdCBjb250cm9sbGFibGUKICAgIG9uIHRoZSBjbGllbnQgc2lkZS4gYXV0b3JhaXNlIG5vdCBhdmFpbGFibGUuCiAgICAiIiIKICAgIGlmIHdpbi5vcGVuKHVybCwgX3RhcmdldFtuZXddKToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgIHJldHVybiBGYWxzZQoKZGVmIG9wZW5fbmV3KHVybCk6CiAgICByZXR1cm4gb3Blbih1cmwsIDEpCgpkZWYgb3Blbl9uZXdfdGFiKHVybCk6CiAgICByZXR1cm4gb3Blbih1cmwsIDIpCgoK',
'/Lib/this.py':'cyA9ICIiIkd1ciBNcmEgYnMgQ2xndWJhLCBvbCBHdnogQ3JncmVmCgpPcm5oZ3ZzaHkgdmYgb3JnZ3JlIGd1bmEgaHR5bC4KUmtjeXZwdmcgdmYgb3JnZ3JlIGd1bmEgdnpjeXZwdmcuCkZ2emN5ciB2ZiBvcmdncmUgZ3VuYSBwYnpjeXJrLgpQYnpjeXJrIHZmIG9yZ2dyZSBndW5hIHBiemN5dnBuZ3JxLgpTeW5nIHZmIG9yZ2dyZSBndW5hIGFyZmdycS4KRmNuZWZyIHZmIG9yZ2dyZSBndW5hIHFyYWZyLgpFcm5xbm92eXZnbCBwYmhhZ2YuCkZjcnB2bnkgcG5mcmYgbmVyYSdnIGZjcnB2bnkgcmFiaHR1IGdiIG9lcm54IGd1ciBlaHlyZi4KTnlndWJodHUgY2VucGd2cG55dmdsIG9ybmdmIGNoZXZnbC4KUmVlYmVmIGZ1Ymh5cSBhcmlyZSBjbmZmIGZ2eXJhZ3lsLgpIYXlyZmYgcmtjeXZwdmd5bCBmdnlyYXBycS4KVmEgZ3VyIHNucHIgYnMgbnpvdnRodmdsLCBlcnNoZnIgZ3VyIGdyemNnbmd2YmEgZ2IgdGhyZmYuCkd1cmVyIGZ1Ymh5cSBvciBiYXItLSBuYXEgY2Vyc3Jlbm95bCBiYXlsIGJhciAtLWJvaXZiaGYgam5sIGdiIHFiIHZnLgpOeWd1Ymh0dSBndW5nIGpubCB6bmwgYWJnIG9yIGJvaXZiaGYgbmcgc3ZlZmcgaGF5cmZmIGxiaCdlciBRaGdwdS4KQWJqIHZmIG9yZ2dyZSBndW5hIGFyaXJlLgpOeWd1Ymh0dSBhcmlyZSB2ZiBic2dyYSBvcmdncmUgZ3VuYSAqZXZ0dWcqIGFiai4KVnMgZ3VyIHZ6Y3lyenJhZ25ndmJhIHZmIHVuZXEgZ2IgcmtjeW52YSwgdmcnZiBuIG9ucSB2cXJuLgpWcyBndXIgdnpjeXJ6cmFnbmd2YmEgdmYgcm5mbCBnYiBya2N5bnZhLCB2ZyB6bmwgb3IgbiB0YmJxIHZxcm4uCkFuenJmY25wcmYgbmVyIGJhciB1YmF4dmF0IHRlcm5nIHZxcm4gLS0geXJnJ2YgcWIgemJlciBicyBndWJmciEiIiIKCmQgPSB7fQpmb3IgYyBpbiAoNjUsIDk3KToKICAgIGZvciBpIGluIHJhbmdlKDI2KToKICAgICAgICBkW2NocihpK2MpXSA9IGNocigoaSsxMykgJSAyNiArIGMpCgpwcmludCgiIi5qb2luKFtkLmdldChjLCBjKSBmb3IgYyBpbiBzXSkpCg==',
'/Lib/string.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbInN0cmluZy5weSJdLl9fZGljdF9fO3ZhciB3aGl0ZXNwYWNlPSRnbG9iYWxzLndoaXRlc3BhY2U9JyBcdFxuXHJcdlxmJzt2YXIgYXNjaWlfbG93ZXJjYXNlPSRnbG9iYWxzLmFzY2lpX2xvd2VyY2FzZT0nYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO3ZhciBhc2NpaV91cHBlcmNhc2U9JGdsb2JhbHMuYXNjaWlfdXBwZXJjYXNlPSdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7dmFyIGFzY2lpX2xldHRlcnM9JGdsb2JhbHMuYXNjaWlfbGV0dGVycz1hc2NpaV9sb3dlcmNhc2UuX19hZGRfXyhhc2NpaV91cHBlcmNhc2UpO3ZhciBkaWdpdHM9JGdsb2JhbHMuZGlnaXRzPScwMTIzNDU2Nzg5Jzt2YXIgaGV4ZGlnaXRzPSRnbG9iYWxzLmhleGRpZ2l0cz1kaWdpdHMuX19hZGRfXygnYWJjZGVmJykuX19hZGRfXygnQUJDREVGJyk7dmFyIG9jdGRpZ2l0cz0kZ2xvYmFscy5vY3RkaWdpdHM9JzAxMjM0NTY3Jzt2YXIgcHVuY3R1YXRpb249JGdsb2JhbHMucHVuY3R1YXRpb249IiFcIiMkJSYnKCkqKywtLi86Ozw9Pj9AW1xdXl9ge3x9fiI7dmFyIHByaW50YWJsZT0kZ2xvYmFscy5wcmludGFibGU9ZGlnaXRzLl9fYWRkX18oYXNjaWlfbGV0dGVycykuX19hZGRfXyhwdW5jdHVhdGlvbikuX19hZGRfXyh3aGl0ZXNwYWNlKTt2YXIgY2Fwd29yZHM9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY2Fwd29yZHMiLGFyZ3VtZW50cyxbInMiXSx7InNlcCI6Tm9uZX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnMxODI4Nmw4Ll9fZGljdF9fPSRuczsiY2Fwd29yZHMocyBbLHNlcF0pIC0+IHN0cmluZ1xuXG4gICAgU3BsaXQgdGhlIGFyZ3VtZW50IGludG8gd29yZHMgdXNpbmcgc3BsaXQsIGNhcGl0YWxpemUgZWFjaFxuICAgIHdvcmQgdXNpbmcgY2FwaXRhbGl6ZSwgYW5kIGpvaW4gdGhlIGNhcGl0YWxpemVkIHdvcmRzIHVzaW5nXG4gICAgam9pbi4gIElmIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgc2VwIGlzIGFic2VudCBvciBOb25lLFxuICAgIHJ1bnMgb2Ygd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGFyZSByZXBsYWNlZCBieSBhIHNpbmdsZSBzcGFjZVxuICAgIGFuZCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIGFyZSByZW1vdmVkLCBvdGhlcndpc2VcbiAgICBzZXAgaXMgdXNlZCB0byBzcGxpdCBhbmQgam9pbiB0aGUgd29yZHMuXG5cbiAgICAiO3JldHVybiAkdGVzdF9leHByKCR0ZXN0X2l0ZW0oc2VwKXx8JHRlc3RfaXRlbSgnICcpKS5fX2dldGF0dHJfXygiam9pbiIpLl9fY2FsbF9fKCRnZW5fZXhwcih7J3MnOnMsJ3NlcCc6c2VwfSwieC5jYXBpdGFsaXplKCkgIiwiZm9yIHggaW4gcy5zcGxpdChzZXApIikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoTm9uZSk7Y2Fwd29yZHMuX19uYW1lX189ImNhcHdvcmRzIjskZ2xvYmFscy5jYXB3b3Jkcz1jYXB3b3JkcztyZXR1cm57d2hpdGVzcGFjZTp3aGl0ZXNwYWNlLGFzY2lpX2xvd2VyY2FzZTphc2NpaV9sb3dlcmNhc2UsYXNjaWlfdXBwZXJjYXNlOmFzY2lpX3VwcGVyY2FzZSxhc2NpaV9sZXR0ZXJzOmFzY2lpX2xldHRlcnMsZGlnaXRzOmRpZ2l0cyxoZXhkaWdpdHM6aGV4ZGlnaXRzLG9jdGRpZ2l0czpvY3RkaWdpdHMscHVuY3R1YXRpb246cHVuY3R1YXRpb24scHJpbnRhYmxlOnByaW50YWJsZSxjYXB3b3JkczpjYXB3b3JkcyxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/pydom.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbInB5ZG9tLnB5Il0uX19kaWN0X187dmFyICROb2RlQ29sbGVjdGlvblNlbGVjdG9yPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyRjbGFzcy5fX2luaXRfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faW5pdF9fIixhcmd1bWVudHMsWyJzZWxmIiwic2VsZWN0b3IiLCJjb2xsZWN0aW9uIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnI4NDNlYjk2Ll9fZGljdF9fPSRucztTZWxlY3Rvci5fX2dldGF0dHJfXygiX19pbml0X18iKS5fX2NhbGxfXyhzZWxmLHNlbGVjdG9yKTtzZWxmLl9fc2V0YXR0cl9fKCJfY29sbGVjdGlvbiIsY29sbGVjdGlvbik7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3JfdHlwZSIpLl9fZXFfXygnaWQnKSkpc2VsZi5fX3NldGF0dHJfXygiX21hdGNoIixzZWxmLl9fZ2V0YXR0cl9fKCJfbWF0Y2hfaWQiKSk7ZWxzZSBpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9zZWxlY3Rvcl90eXBlIikuX19lcV9fKCd0YWcnKSkpc2VsZi5fX3NldGF0dHJfXygiX21hdGNoIixzZWxmLl9fZ2V0YXR0cl9fKCJfbWF0Y2hfdGFnIikpO2Vsc2UgaWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3JfdHlwZSIpLl9fZXFfXygnY2xhc3NuYW1lJykpKXNlbGYuX19zZXRhdHRyX18oIl9tYXRjaCIsc2VsZi5fX2dldGF0dHJfXygiX21hdGNoX2NsYXNzbmFtZSIpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9faW5pdF9fLl9fbmFtZV9fPSJfX2luaXRfXyI7JGNsYXNzLl9tYXRjaF9pZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9tYXRjaF9pZCIsYXJndW1lbnRzLFsic2VsZiIsIm5vZGUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjNyeHR1aXgzIl0uX19kaWN0X189JG5zO2lmKGJvb2wobm9kZS5fX2dldGF0dHJfXygiaWQiKT09PU5vbmUpKXJldHVybiBGYWxzZTtyZXR1cm4gbm9kZS5fX2dldGF0dHJfXygiaWQiKS5fX2VxX18oc2VsZi5fX2dldGF0dHJfXygiX3NlbGVjdG9yIikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX21hdGNoX2lkLl9fbmFtZV9fPSJfbWF0Y2hfaWQiOyRjbGFzcy5fbWF0Y2hfdGFnPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX21hdGNoX3RhZyIsYXJndW1lbnRzLFsic2VsZiIsIm5vZGUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYWRxeHo2a3cuX19kaWN0X189JG5zO3JldHVybiBub2RlLl9fZ2V0YXR0cl9fKCJ0YWdOYW1lIikuX19lcV9fKHNlbGYuX19nZXRhdHRyX18oIl9zZWxlY3RvciIpKTt9Y2F0Y2goZXJyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQpO319O30pKCk7JGNsYXNzLl9tYXRjaF90YWcuX19uYW1lX189Il9tYXRjaF90YWciOyRjbGFzcy5fbWF0Y2hfY2xhc3NuYW1lPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX21hdGNoX2NsYXNzbmFtZSIsYXJndW1lbnRzLFsic2VsZiIsIm5vZGUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjc5N2ZnNml4Il0uX19kaWN0X189JG5zO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3IiKS5fX2luX18obm9kZS5fX2dldGF0dHJfXygiY2xhc3NuYW1lIikpO31jYXRjaChlcnI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNCk7fX07fSkoKTskY2xhc3MuX21hdGNoX2NsYXNzbmFtZS5fX25hbWVfXz0iX21hdGNoX2NsYXNzbmFtZSI7JGNsYXNzLmdldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdldCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5mcXQ3YnBneC5fX2RpY3RfXz0kbnM7dmFyIF9jMT0kbG9jYWxzLl9jMT1Ob2RlQ29sbGVjdGlvbi5fX2NhbGxfXygpO3ZhciAkaXRlcjQ9c2VsZi5fX2dldGF0dHJfXygiX2NvbGxlY3Rpb24iKTtmb3IodmFyICRpND0wOyRpNDwkaXRlcjQuX19sZW5fXygpOyRpNCsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjQuX19pdGVtX18oJGk0KTtpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9tYXRjaCIpLl9fY2FsbF9fKF9ub2RlKSkpX2MxLl9fZ2V0YXR0cl9fKCJhcHBlbmQiKS5fX2NhbGxfXyhfbm9kZSk7fXJldHVybiBfYzE7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpOyRjbGFzcy5nZXQuX19uYW1lX189ImdldCI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciBOb2RlQ29sbGVjdGlvblNlbGVjdG9yPSRjbGFzc19jb25zdHJ1Y3RvcigiTm9kZUNvbGxlY3Rpb25TZWxlY3RvciIsJE5vZGVDb2xsZWN0aW9uU2VsZWN0b3IsU2VsZWN0b3IpO19fQlJZVEhPTl9fLnNjb3BlWyJweWRvbS5weSJdLl9fZGljdF9fLk5vZGVDb2xsZWN0aW9uU2VsZWN0b3I9Tm9kZUNvbGxlY3Rpb25TZWxlY3Rvcjt2YXIgJFNlbGVjdG9yPShmdW5jdGlvbigpe3ZhciAkY2xhc3M9bmV3IE9iamVjdCgpOyRjbGFzcy50YWdzPWxpc3QoWydBJywnQUJCUicsJ0FDUk9OWU0nLCdBRERSRVNTJywnQVBQTEVUJywnQicsJ0JETycsJ0JJRycsJ0JMT0NLUVVPVEUnLCdCVVRUT04nLCdDQVBUSU9OJywnQ0VOVEVSJywnQ0lURScsJ0NPREUnLCdERUwnLCdERk4nLCdESVInLCdESVYnLCdETCcsJ0VNJywnRklFTERTRVQnLCdGT05UJywnRk9STScsJ0ZSQU1FU0VUJywnSDEnLCdIMicsJ0gzJywnSDQnLCdINScsJ0g2JywnSScsJ0lGUkFNRScsJ0lOUycsJ0tCRCcsJ0xBQkVMJywnTEVHRU5EJywnTUFQJywnTUVOVScsJ05PRlJBTUVTJywnTk9TQ1JJUFQnLCdPQkpFQ1QnLCdPTCcsJ09QVEdST1VQJywnUFJFJywnUScsJ1MnLCdTQU1QJywnU0NSSVBUJywnU0VMRUNUJywnU01BTEwnLCdTUEFOJywnU1RSSUtFJywnU1RST05HJywnU1RZTEUnLCdTVUInLCdTVVAnLCdUQUJMRScsJ1RFWFRBUkVBJywnVElUTEUnLCdUVCcsJ1UnLCdVTCcsJ1ZBUicsJ0JPRFknLCdDT0xHUk9VUCcsJ0REJywnRFQnLCdIRUFEJywnSFRNTCcsJ0xJJywnUCcsJ1RCT0RZJywnT1BUSU9OJywnVEQnLCdURk9PVCcsJ1RIJywnVEhFQUQnLCdUUicsJ0FSRUEnLCdCQVNFJywnQkFTRUZPTlQnLCdCUicsJ0NPTCcsJ0ZSQU1FJywnSFInLCdJTUcnLCdJTlBVVCcsJ0lTSU5ERVgnLCdMSU5LJywnTUVUQScsJ1BBUkFNJywnQVJUSUNMRScsJ0FTSURFJywnRklHVVJFJywnRk9PVEVSJywnSEVBREVSJywnTkFWJywnU0VDVElPTicsJ0FVRElPJywnVklERU8nLCdDQU5WQVMnLCdDT01NQU5EJywnREFUQUxJU1QnLCdERVRBSUxTJywnT1VUUFVUJywnUFJPR1JFU1MnLCdIR1JPVVAnLCdNQVJLJywnTUVURVInLCdUSU1FJywnUlAnLCdSVCcsJ1JVQlknXSk7JGNsYXNzLl9faW5pdF9fPShmdW5jdGlvbihkb2Mpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19pbml0X18iLGFyZ3VtZW50cyxbInNlbGYiLCJzZWxlY3RvciJdLHsic3RhcnRfbm9kZSI6KCRjbGFzcy5kb2MhPT11bmRlZmluZWQ/JGNsYXNzLmRvYzpkb2MpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUud2JreTI3Z3AuX19kaWN0X189JG5zO3NlbGYuX19zZXRhdHRyX18oIl9kb2MiLHN0YXJ0X25vZGUpO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhzZWxlY3RvcixzdHIpKSlpZihib29sKHNlbGVjdG9yLl9fZ2V0YXR0cl9fKCJzdGFydHN3aXRoIikuX19jYWxsX18oIi4iKSkpe3NlbGYuX19zZXRhdHRyX18oIl9zZWxlY3RvciIsc2VsZWN0b3IuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UoTnVtYmVyKDEpLG51bGwpKSk7c2VsZi5fX3NldGF0dHJfXygiX3NlbGVjdG9yX3R5cGUiLCJjbGFzc25hbWUiKTt9ZWxzZSBpZihib29sKHNlbGVjdG9yLl9fZ2V0YXR0cl9fKCJzdGFydHN3aXRoIikuX19jYWxsX18oIiMiKSkpe3NlbGYuX19zZXRhdHRyX18oIl9zZWxlY3RvciIsc2VsZWN0b3IuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UoTnVtYmVyKDEpLG51bGwpKSk7c2VsZi5fX3NldGF0dHJfXygiX3NlbGVjdG9yX3R5cGUiLCJpZCIpO31lbHNlIGlmKGJvb2woc2VsZWN0b3IuX19nZXRhdHRyX18oInVwcGVyIikuX19jYWxsX18oKS5fX2luX18odGFncykpKXtzZWxmLl9fc2V0YXR0cl9fKCJfc2VsZWN0b3IiLHNlbGVjdG9yLl9fZ2V0YXR0cl9fKCJ1cHBlciIpLl9fY2FsbF9fKCkpO3NlbGYuX19zZXRhdHRyX18oIl9zZWxlY3Rvcl90eXBlIiwidGFnIik7fWVsc2V7c2VsZi5fX3NldGF0dHJfXygiX3NlbGVjdG9yIixzZWxlY3Rvcik7c2VsZi5fX3NldGF0dHJfXygiX3NlbGVjdG9yX3R5cGUiLCJzZWxlY3RvciIpO31lbHNle3NlbGYuX19zZXRhdHRyX18oIl9zZWxlY3Rvcl90eXBlIiwic2VsZWN0b3IiKTtzZWxmLl9fc2V0YXR0cl9fKCJfZnVuY3Rpb24iLHNlbGVjdG9yKTtzZWxmLl9fc2V0YXR0cl9fKCJnZXQiLHNlbGYuX19nZXRhdHRyX18oIl9mdW5jdGlvbl9nZXQiKSk7fX1jYXRjaChlcnI1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNSk7fX07fSkoZG9jKTskY2xhc3MuX19pbml0X18uX19uYW1lX189Il9faW5pdF9fIjskY2xhc3MuX2Z1bmN0aW9uX2dldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9mdW5jdGlvbl9nZXQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudDVoa3M5MW8uX19kaWN0X189JG5zO3ZhciByZWN1cnNlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicmVjdXJzZSIsYXJndW1lbnRzLFsibm9kZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNnpzMXZybzEiXS5fX2RpY3RfXz0kbnM7dmFyIF9saXN0PSRsb2NhbHMuX2xpc3Q9bGlzdChbXSk7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfZnVuY3Rpb24iKS5fX2NhbGxfXyhub2RlKSkpX2xpc3QuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKG5vZGUpO3ZhciAkaXRlcjU9bm9kZS5fX2dldGF0dHJfXygiY2hpbGROb2RlcyIpO2Zvcih2YXIgJGk1PTA7JGk1PCRpdGVyNS5fX2xlbl9fKCk7JGk1Kyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyNS5fX2l0ZW1fXygkaTUpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPXJlY3Vyc2UuX19jYWxsX18oX25vZGUpO2lmKCFoYXNhdHRyKF9saXN0LCJfX2lhZGRfXyIpKXZhciBfbGlzdD0kbG9jYWxzLl9saXN0PV9saXN0Ll9fYWRkX18oJHRlbXApO2Vsc2UgX2xpc3Q9X2xpc3QuX19pYWRkX18oJHRlbXApO31yZXR1cm4gX2xpc3Q7fWNhdGNoKGVycjUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1KTt9fTt9KSgpO3JlY3Vyc2UuX19uYW1lX189InJlY3Vyc2UiOyRsb2NhbHMucmVjdXJzZT1yZWN1cnNlO3ZhciBfbWF0Y2hlZF9ub2Rlcz0kbG9jYWxzLl9tYXRjaGVkX25vZGVzPXJlY3Vyc2UuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX2RvYyIpKTtyZXR1cm4gTm9kZUNvbGxlY3Rpb24uX19jYWxsX18oX21hdGNoZWRfbm9kZXMpO31jYXRjaChlcnI1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNSk7fX07fSkoKTskY2xhc3MuX2Z1bmN0aW9uX2dldC5fX25hbWVfXz0iX2Z1bmN0aW9uX2dldCI7JGNsYXNzLmdldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdldCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kaGhsM3Y3bi5fX2RpY3RfXz0kbnM7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3JfdHlwZSIpLl9fZXFfXygiaWQiKSkpdmFyIF9tYXRjaGVkX25vZGVzPSRsb2NhbHMuX21hdGNoZWRfbm9kZXM9c2VsZi5fX2dldGF0dHJfXygiX2RvYyIpLl9fZ2V0YXR0cl9fKCJnZXQiKS5fX2NhbGxfXygkS3coImlkIixzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3IiKSkpO2Vsc2UgaWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfc2VsZWN0b3JfdHlwZSIpLl9fZXFfXygiY2xhc3NuYW1lIikpKXZhciBfbWF0Y2hlZF9ub2Rlcz0kbG9jYWxzLl9tYXRjaGVkX25vZGVzPXNlbGYuX19nZXRhdHRyX18oIl9kb2MiKS5fX2dldGF0dHJfXygiZ2V0IikuX19jYWxsX18oJEt3KCJjbGFzc25hbWUiLHNlbGYuX19nZXRhdHRyX18oIl9zZWxlY3RvciIpKSk7ZWxzZSBpZihib29sKHNlbGYuX19nZXRhdHRyX18oIl9zZWxlY3Rvcl90eXBlIikuX19lcV9fKCJ0YWciKSkpdmFyIF9tYXRjaGVkX25vZGVzPSRsb2NhbHMuX21hdGNoZWRfbm9kZXM9c2VsZi5fX2dldGF0dHJfXygiX2RvYyIpLl9fZ2V0YXR0cl9fKCJnZXQiKS5fX2NhbGxfXygkS3coInRhZyIsc2VsZi5fX2dldGF0dHJfXygiX3NlbGVjdG9yIikpKTtlbHNlIGlmKGJvb2woc2VsZi5fX2dldGF0dHJfXygiX3NlbGVjdG9yX3R5cGUiKS5fX2VxX18oInNlbGVjdG9yIikpKXZhciBfbWF0Y2hlZF9ub2Rlcz0kbG9jYWxzLl9tYXRjaGVkX25vZGVzPXNlbGYuX19nZXRhdHRyX18oIl9kb2MiKS5fX2dldGF0dHJfXygiZ2V0IikuX19jYWxsX18oJEt3KCJzZWxlY3RvciIsc2VsZi5fX2dldGF0dHJfXygiX3NlbGVjdG9yIikpKTtlbHNlIHZhciBfbWF0Y2hlZF9ub2Rlcz0kbG9jYWxzLl9tYXRjaGVkX25vZGVzPWxpc3QoW10pO3JldHVybiBOb2RlQ29sbGVjdGlvbi5fX2NhbGxfXyhfbWF0Y2hlZF9ub2Rlcyk7fWNhdGNoKGVycjYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2KTt9fTt9KSgpOyRjbGFzcy5nZXQuX19uYW1lX189ImdldCI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciBTZWxlY3Rvcj0kY2xhc3NfY29uc3RydWN0b3IoIlNlbGVjdG9yIiwkU2VsZWN0b3IpO19fQlJZVEhPTl9fLnNjb3BlWyJweWRvbS5weSJdLl9fZGljdF9fLlNlbGVjdG9yPVNlbGVjdG9yO3ZhciAkTm9kZUNvbGxlY3Rpb249KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7JGNsYXNzLl9faW5pdF9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19pbml0X18iLGFyZ3VtZW50cyxbInNlbGYiXSx7Im5vZGVzIjpsaXN0KFtdKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnV5b2NsMzR3Ll9fZGljdF9fPSRucztzZWxmLl9fc2V0YXR0cl9fKCJfbm9kZXMiLG5vZGVzKTt9Y2F0Y2goZXJyNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYpO319O30pKCk7JGNsYXNzLl9faW5pdF9fLl9fbmFtZV9fPSJfX2luaXRfXyI7JGNsYXNzLl9fbGVuX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2xlbl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm10NDl4bWI1Ll9fZGljdF9fPSRucztyZXR1cm4gbGVuLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpKTt9Y2F0Y2goZXJyNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYpO319O30pKCk7JGNsYXNzLl9fbGVuX18uX19uYW1lX189Il9fbGVuX18iOyRjbGFzcy5fX2l0ZW1fXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faXRlbV9fIixhcmd1bWVudHMsWyJzZWxmIiwiaSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiODZueDF3azkiXS5fX2RpY3RfXz0kbnM7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGkpO31jYXRjaChlcnI2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNik7fX07fSkoKTskY2xhc3MuX19pdGVtX18uX19uYW1lX189Il9faXRlbV9fIjskY2xhc3MuX19nZXRpdGVtX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2dldGl0ZW1fXyIsYXJndW1lbnRzLFsic2VsZiIsImkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjB3MHdwZXduIl0uX19kaWN0X189JG5zO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShpKTt9Y2F0Y2goZXJyNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjYpO319O30pKCk7JGNsYXNzLl9fZ2V0aXRlbV9fLl9fbmFtZV9fPSJfX2dldGl0ZW1fXyI7JGNsYXNzLl9fYWRkX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX2FkZF9fIixhcmd1bWVudHMsWyJzZWxmIiwibm9kZXMiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjlxMTNyb2pjIl0uX19kaWN0X189JG5zO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPW5vZGVzO2lmKCFoYXNhdHRyKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLCJfX2lhZGRfXyIpKXNlbGYuX19zZXRhdHRyX18oIl9ub2RlcyIsc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19hZGRfXygkdGVtcCkpO2Vsc2Ugc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19pYWRkX18oJHRlbXApO31jYXRjaChlcnI2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNik7fX07fSkoKTskY2xhc3MuX19hZGRfXy5fX25hbWVfXz0iX19hZGRfXyI7JGNsYXNzLl9fc3RyX189KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfX3N0cl9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIwYmZuYXBtYSJdLl9fZGljdF9fPSRuczt2YXIgX3N0cj0kbG9jYWxzLl9zdHI9bGlzdChbXSk7dmFyICRpdGVyNj1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpNj0wOyRpNjwkaXRlcjYuX19sZW5fXygpOyRpNisrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjYuX19pdGVtX18oJGk2KTtfc3RyLl9fZ2V0YXR0cl9fKCJhcHBlbmQiKS5fX2NhbGxfXyhfbm9kZS5fX2dldGF0dHJfXygiX19zdHJfXyIpLl9fY2FsbF9fKCkpO31yZXR1cm4gJzxicj4nLl9fZ2V0YXR0cl9fKCJqb2luIikuX19jYWxsX18oX3N0cik7fWNhdGNoKGVycjYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI2KTt9fTt9KSgpOyRjbGFzcy5fX3N0cl9fLl9fbmFtZV9fPSJfX3N0cl9fIjskY2xhc3MuYXBwZW5kPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYXBwZW5kIixhcmd1bWVudHMsWyJzZWxmIiwibm9kZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5ndmd6ZDRmeC5fX2RpY3RfXz0kbnM7c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKG5vZGUpO31jYXRjaChlcnI3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNyk7fX07fSkoKTskY2xhc3MuYXBwZW5kLl9fbmFtZV9fPSJhcHBlbmQiOyRjbGFzcy4kbmV4dD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm5leHQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuc3duMjE1NWUuX19kaWN0X189JG5zO3ZhciAkaXRlcjc9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTc9MDskaTc8JGl0ZXI3Ll9fbGVuX18oKTskaTcrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXI3Ll9faXRlbV9fKCRpNyk7JGNsYXNzLiRuZXh0LiRpdGVyLnB1c2goX25vZGUpO319Y2F0Y2goZXJyNyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjcpO319O30pKCk7JGNsYXNzLm5leHQ9JGdlbmVyYXRvcigkY2xhc3MuJG5leHQpOyRjbGFzcy5uZXh0Ll9fbmFtZV9fPSJuZXh0IjskY2xhc3MuYWRkPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYWRkIixhcmd1bWVudHMsWyJzZWxmIiwic2VsZWN0b3IiLCJjb250ZXh0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnNlZ2QyYmtrLl9fZGljdF9fPSRuczt2YXIgX25zPSRsb2NhbHMuX25zPU5vZGVDb2xsZWN0aW9uU2VsZWN0b3IuX19jYWxsX18oc2VsZWN0b3Isc2VsZik7dmFyICR0ZW1wPSRsb2NhbHMuJHRlbXA9X25zLl9fZ2V0YXR0cl9fKCJnZXQiKS5fX2NhbGxfXygpO2lmKCFoYXNhdHRyKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLCJfX2lhZGRfXyIpKXNlbGYuX19zZXRhdHRyX18oIl9ub2RlcyIsc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19hZGRfXygkdGVtcCkpO2Vsc2Ugc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19pYWRkX18oJHRlbXApO31jYXRjaChlcnI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyOCk7fX07fSkoKTskY2xhc3MuYWRkLl9fbmFtZV9fPSJhZGQiOyRjbGFzcy5hZGRCYWNrPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYWRkQmFjayIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5iZ3RpOGJiMC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyOCk7fX07fSkoKTskY2xhc3MuYWRkQmFjay5fX25hbWVfXz0iYWRkQmFjayI7JGNsYXNzLmFkZENsYXNzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYWRkQ2xhc3MiLGFyZ3VtZW50cyxbInNlbGYiLCJjbGFzc25hbWUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYTB5b3Q5YzUuX19kaWN0X189JG5zO3ZhciAkaXRlcjg9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTg9MDskaTg8JGl0ZXI4Ll9fbGVuX18oKTskaTgrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXI4Ll9faXRlbV9fKCRpOCk7X25vZGUuX19nZXRhdHRyX18oImFkZENsYXNzIikuX19jYWxsX18oY2xhc3NuYW1lKTt9fWNhdGNoKGVycjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI4KTt9fTt9KSgpOyRjbGFzcy5hZGRDbGFzcy5fX25hbWVfXz0iYWRkQ2xhc3MiOyRjbGFzcy5hZnRlcj0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImFmdGVyIixhcmd1bWVudHMsWyJzZWxmIiwiY29udGVudCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNXh1eWVmZHIiXS5fX2RpY3RfXz0kbnM7dmFyICRpdGVyOT1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpOT0wOyRpOTwkaXRlcjkuX19sZW5fXygpOyRpOSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjkuX19pdGVtX18oJGk5KTtfbm9kZS5fX2dldGF0dHJfXygiYWZ0ZXIiKS5fX2NhbGxfXyhjb250ZW50KTt9fWNhdGNoKGVycjkpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI5KTt9fTt9KSgpOyRjbGFzcy5hZnRlci5fX25hbWVfXz0iYWZ0ZXIiOyRjbGFzcy5hcHBlbmRfY29udGVudD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImFwcGVuZF9jb250ZW50Iixhcmd1bWVudHMsWyJzZWxmIiwiY29udGVudCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNTBvcGp6dWUiXS5fX2RpY3RfXz0kbnM7dmFyICRpdGVyMTA9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTEwPTA7JGkxMDwkaXRlcjEwLl9fbGVuX18oKTskaTEwKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMTAuX19pdGVtX18oJGkxMCk7X25vZGUuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKGNvbnRlbnQpO319Y2F0Y2goZXJyMTApe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxMCk7fX07fSkoKTskY2xhc3MuYXBwZW5kX2NvbnRlbnQuX19uYW1lX189ImFwcGVuZF9jb250ZW50IjskY2xhc3MuYXBwZW5kVG89KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJhcHBlbmRUbyIsYXJndW1lbnRzLFsic2VsZiIsInNlbGVjdG9yIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnI0ZXhlYzk3Ll9fZGljdF9fPSRuczt2YXIgX3M9JGxvY2Fscy5fcz1TZWxlY3Rvci5fX2NhbGxfXyhzZWxlY3Rvcik7dmFyICRpdGVyMTE9X3MuX19nZXRhdHRyX18oImdldCIpLl9fY2FsbF9fKCk7Zm9yKHZhciAkaTExPTA7JGkxMTwkaXRlcjExLl9fbGVuX18oKTskaTExKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMTEuX19pdGVtX18oJGkxMSk7X25vZGUuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2dldGF0dHJfXygiY2xvbmUiKS5fX2NhbGxfXygpKTt9fWNhdGNoKGVycjExKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMTEpO319O30pKCk7JGNsYXNzLmFwcGVuZFRvLl9fbmFtZV9fPSJhcHBlbmRUbyI7JGNsYXNzLmF0dHI9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYXR0ciIsYXJndW1lbnRzLFsic2VsZiIsInByb3BlcnR5Il0seyJ2YWx1ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubDduaHE4MWMuX19kaWN0X189JG5zO2lmKGJvb2wodmFsdWU9PT1Ob25lKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShwcm9wZXJ0eSk7dmFyICRpdGVyMTI9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTEyPTA7JGkxMjwkaXRlcjEyLl9fbGVuX18oKTskaTEyKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMTIuX19pdGVtX18oJGkxMik7X25vZGUuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikocHJvcGVydHksdmFsdWUpO319Y2F0Y2goZXJyMTIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxMik7fX07fSkoTm9uZSk7JGNsYXNzLmF0dHIuX19uYW1lX189ImF0dHIiOyRjbGFzcy5iZWZvcmU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJiZWZvcmUiLGFyZ3VtZW50cyxbInNlbGYiLCJjb250ZW50Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmY4c2gwbHUwLl9fZGljdF9fPSRuczt2YXIgJGl0ZXIxMz1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMTM9MDskaTEzPCRpdGVyMTMuX19sZW5fXygpOyRpMTMrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIxMy5fX2l0ZW1fXygkaTEzKTtfbm9kZS5fX2dldGF0dHJfXygiYmVmb3JlIikuX19jYWxsX18oY29udGVudCk7fX1jYXRjaChlcnIxMyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjEzKTt9fTt9KSgpOyRjbGFzcy5iZWZvcmUuX19uYW1lX189ImJlZm9yZSI7JGNsYXNzLmJpbmQ9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJiaW5kIixhcmd1bWVudHMsWyJzZWxmIiwiZXZlbnQiLCJoYW5kbGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnV2eWxyeG13Ll9fZGljdF9fPSRucztpZihib29sKCcgJy5fX2luX18oZXZlbnQpKSl7dmFyIF9ldmVudHM9JGxvY2Fscy5fZXZlbnRzPScgJy5fX2dldGF0dHJfXygic3BsaXQiKS5fX2NhbGxfXyhldmVudCk7dmFyICRpdGVyMTQ9X2V2ZW50cztmb3IodmFyICRpMTQ9MDskaTE0PCRpdGVyMTQuX19sZW5fXygpOyRpMTQrKyl7dmFyIF9ldmVudD0kbG9jYWxzLl9ldmVudD0kaXRlcjE0Ll9faXRlbV9fKCRpMTQpO3ZhciAkaXRlcjE1PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkxNT0wOyRpMTU8JGl0ZXIxNS5fX2xlbl9fKCk7JGkxNSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjE1Ll9faXRlbV9fKCRpMTUpO19ub2RlLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKCdvbiVzJy5fX21vZF9fKGV2ZW50KSxoYW5kbGVyKTt9fXJldHVybjt9dmFyICRpdGVyMTY9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTE2PTA7JGkxNjwkaXRlcjE2Ll9fbGVuX18oKTskaTE2Kyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMTYuX19pdGVtX18oJGkxNik7X25vZGUuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoJ29uJXMnLl9fbW9kX18oZXZlbnQpLGhhbmRsZXIpO319Y2F0Y2goZXJyMTQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxNCk7fX07fSkoKTskY2xhc3MuYmluZC5fX25hbWVfXz0iYmluZCI7JGNsYXNzLmJsdXI9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYmx1ciIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuc29wZWF3anMuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMTcpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxNyk7fX07fSkoTm9uZSk7JGNsYXNzLmJsdXIuX19uYW1lX189ImJsdXIiOyRjbGFzcy5jaGFuZ2U9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY2hhbmdlIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5nbWNvY2g4eS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIxNyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjE3KTt9fTt9KShOb25lKTskY2xhc3MuY2hhbmdlLl9fbmFtZV9fPSJjaGFuZ2UiOyRjbGFzcy5jaGlsZHJlbj0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjaGlsZHJlbiIsYXJndW1lbnRzLFsic2VsZiJdLHsic2VsZWN0b3IiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIyZWR0aWN5dSJdLl9fZGljdF9fPSRuczt2YXIgX2M9JGxvY2Fscy5fYz1Ob2RlQ29sbGVjdGlvbi5fX2NhbGxfXygpO3ZhciAkaXRlcjE3PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkxNz0wOyRpMTc8JGl0ZXIxNy5fX2xlbl9fKCk7JGkxNysrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjE3Ll9faXRlbV9fKCRpMTcpO3ZhciAkaXRlcjE4PV9ub2RlLl9fZ2V0YXR0cl9fKCJnZXRfY2hpbGRyZW4iKS5fX2NhbGxfXygpO2Zvcih2YXIgJGkxOD0wOyRpMTg8JGl0ZXIxOC5fX2xlbl9fKCk7JGkxOCsrKXt2YXIgX2NoaWxkPSRsb2NhbHMuX2NoaWxkPSRpdGVyMTguX19pdGVtX18oJGkxOCk7X2MuX19nZXRhdHRyX18oImFwcGVuZCIpLl9fY2FsbF9fKF9jaGlsZCk7fX1pZihib29sKHNlbGVjdG9yPT09Tm9uZSkpcmV0dXJuIF9jO3ZhciBfbnM9JGxvY2Fscy5fbnM9Tm9kZUNvbGxlY3Rpb25TZWxlY3Rvci5fX2NhbGxfXyhzZWxlY3RvcixfYyk7cmV0dXJuIF9ucy5fX2dldGF0dHJfXygiZ2V0IikuX19jYWxsX18oKTt9Y2F0Y2goZXJyMTcpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxNyk7fX07fSkoTm9uZSk7JGNsYXNzLmNoaWxkcmVuLl9fbmFtZV9fPSJjaGlsZHJlbiI7JGNsYXNzLmNsaWNrPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImNsaWNrIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS55bTljOWVpbC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIxOSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjE5KTt9fTt9KShOb25lKTskY2xhc3MuY2xpY2suX19uYW1lX189ImNsaWNrIjskY2xhc3MuY2xvbmU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjbG9uZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5xeDV0eW16NS5fX2RpY3RfXz0kbnM7cmV0dXJuIE5vZGVDb2xsZWN0aW9uLl9fY2FsbF9fKCRsaXN0X2NvbXAoeydzZWxmJzpzZWxmfSwiX25vZGUuY2xvbmUoKSAiLCJmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXMiKSk7fWNhdGNoKGVycjE5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMTkpO319O30pKCk7JGNsYXNzLmNsb25lLl9fbmFtZV9fPSJjbG9uZSI7JGNsYXNzLmNsb3Nlc3Q9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjbG9zZXN0Iixhcmd1bWVudHMsWyJzZWxmIiwic2VsZWN0b3IiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuajQ3bTI1bHYuX19kaWN0X189JG5zO2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhzZWxlY3RvcixzdHIpKSl7dmFyIF9ucz0kbG9jYWxzLl9ucz1TZWxlY3Rvci5fX2NhbGxfXyhzZWxlY3Rvcik7dmFyIHNlbGVjdG9yPSRsb2NhbHMuc2VsZWN0b3I9X25zLl9fZ2V0YXR0cl9fKCJnZXQiKS5fX2NhbGxfXygpO312YXIgX2M9JGxvY2Fscy5fYz1Ob2RlQ29sbGVjdGlvbi5fX2NhbGxfXygpO3ZhciAkaXRlcjE5PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkxOT0wOyRpMTk8JGl0ZXIxOS5fX2xlbl9fKCk7JGkxOSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjE5Ll9faXRlbV9fKCRpMTkpO19jLl9fZ2V0YXR0cl9fKCJhcHBlbmQiKS5fX2NhbGxfXyhfbm9kZS5fX2dldGF0dHJfXygiY2xvc2VzdCIpLl9fY2FsbF9fKHNlbGVjdG9yKSk7fXJldHVybiBfYzt9Y2F0Y2goZXJyMTkpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIxOSk7fX07fSkoKTskY2xhc3MuY2xvc2VzdC5fX25hbWVfXz0iY2xvc2VzdCI7JGNsYXNzLmNvbnRhaW5zPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY29udGFpbnMiLGFyZ3VtZW50cyxbInNlbGYiLCJ0ZXh0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnBpcWZzMnZxLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjIwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjApO319O30pKCk7JGNsYXNzLmNvbnRhaW5zLl9fbmFtZV9fPSJjb250YWlucyI7JGNsYXNzLmNvbnRlbnRzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiY29udGVudHMiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaDl2dDN6bTYuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjApe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyMCk7fX07fSkoKTskY2xhc3MuY29udGVudHMuX19uYW1lX189ImNvbnRlbnRzIjskY2xhc3MuY3NzPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImNzcyIsYXJndW1lbnRzLFsic2VsZiIsInByb3BlcnR5Il0seyJ2YWx1ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucnRsbW96NTguX19kaWN0X189JG5zO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHZhbHVlPT09Tm9uZSkmJiR0ZXN0X2l0ZW0oIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhwcm9wZXJ0eSxkaWN0KSkpKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSkuX19nZXRhdHRyX18oImNzcyIpLl9fY2FsbF9fKHByb3BlcnR5KTtpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ocHJvcGVydHksZGljdCkpKXt2YXIgJGl0ZXIyMD1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMjA9MDskaTIwPCRpdGVyMjAuX19sZW5fXygpOyRpMjArKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIyMC5fX2l0ZW1fXygkaTIwKTtfbm9kZS5fX2dldGF0dHJfXygiY3NzIikuX19jYWxsX18ocHJvcGVydHkpO319ZWxzZXt2YXIgJGl0ZXIyMT1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMjE9MDskaTIxPCRpdGVyMjEuX19sZW5fXygpOyRpMjErKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIyMS5fX2l0ZW1fXygkaTIxKTtfbm9kZS5fX2dldGF0dHJfXygiY3NzIikuX19jYWxsX18ocHJvcGVydHksdmFsdWUpO319fWNhdGNoKGVycjIwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjApO319O30pKE5vbmUpOyRjbGFzcy5jc3MuX19uYW1lX189ImNzcyI7JGNsYXNzLmRhdGE9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJkYXRhIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnJsNzM5M2F4Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjIyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjIpO319O30pKCk7JGNsYXNzLmRhdGEuX19uYW1lX189ImRhdGEiOyRjbGFzcy5kYmxjbGljaz0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJkYmxjbGljayIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZjE3eDZvZDMuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyMik7fX07fSkoTm9uZSk7JGNsYXNzLmRibGNsaWNrLl9fbmFtZV9fPSJkYmxjbGljayI7JGNsYXNzLmRldGFjaD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImRldGFjaCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5icnB3eWl5cC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIyKTt9fTt9KSgpOyRjbGFzcy5kZXRhY2guX19uYW1lX189ImRldGFjaCI7JGNsYXNzLmVhY2g9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJlYWNoIixhcmd1bWVudHMsWyJzZWxmIiwiZnVuYyJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5vMTJsOXpzOC5fX2RpY3RfXz0kbnM7dmFyICRpdGVyMjI9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTIyPTA7JGkyMjwkaXRlcjIyLl9fbGVuX18oKTskaTIyKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMjIuX19pdGVtX18oJGkyMik7ZnVuYy5fX2NhbGxfXyhfbm9kZSk7fX1jYXRjaChlcnIyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIyKTt9fTt9KSgpOyRjbGFzcy5lYWNoLl9fbmFtZV9fPSJlYWNoIjskY2xhc3MuZW1wdHk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJlbXB0eSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOTNoN2JmcHUiXS5fX2RpY3RfXz0kbnM7dmFyICRpdGVyMjM9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTIzPTA7JGkyMzwkaXRlcjIzLl9fbGVuX18oKTskaTIzKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMjMuX19pdGVtX18oJGkyMyk7X25vZGUuX19nZXRhdHRyX18oImVtcHR5IikuX19jYWxsX18oKTt9fWNhdGNoKGVycjIzKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjMpO319O30pKCk7JGNsYXNzLmVtcHR5Ll9fbmFtZV9fPSJlbXB0eSI7JGNsYXNzLmVxPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZXEiLGFyZ3VtZW50cyxbInNlbGYiLCJpbmRleCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5hNzI5YmVocy5fX2RpY3RfXz0kbnM7aWYoYm9vbChpbmRleC5fX2x0X18obGVuLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpKSkpKXJldHVybiBOb2RlQ29sbGVjdGlvbnMuX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoaW5kZXgpKTtyZXR1cm4gTm9kZUNvbGxlY3Rpb25zLl9fY2FsbF9fKCk7fWNhdGNoKGVycjI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjQpO319O30pKCk7JGNsYXNzLmVxLl9fbmFtZV9fPSJlcSI7JGNsYXNzLmVycm9yPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImVycm9yIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMmlxM29qNDUiXS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KShOb25lKTskY2xhc3MuZXJyb3IuX19uYW1lX189ImVycm9yIjskY2xhc3MuZmFkZUluPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZmFkZUluIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmswbW84c3AyLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjQpO319O30pKCk7JGNsYXNzLmZhZGVJbi5fX25hbWVfXz0iZmFkZUluIjskY2xhc3MuZmFkZU91dD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZhZGVPdXQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjAwN2JlcWJyIl0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyNCk7fX07fSkoKTskY2xhc3MuZmFkZU91dC5fX25hbWVfXz0iZmFkZU91dCI7JGNsYXNzLmZhZGVUbz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZhZGVUbyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS55dHNsYjJkby5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KSgpOyRjbGFzcy5mYWRlVG8uX19uYW1lX189ImZhZGVUbyI7JGNsYXNzLmZhZGVUb2dnbGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJmYWRlVG9nZ2xlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmVpeHR3MHg5Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjQpO319O30pKCk7JGNsYXNzLmZhZGVUb2dnbGUuX19uYW1lX189ImZhZGVUb2dnbGUiOyRjbGFzcy5maWx0ZXI9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJmaWx0ZXIiLGFyZ3VtZW50cyxbInNlbGYiLCJzZWxlY3RvciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNGVubmg0YmkiXS5fX2RpY3RfXz0kbnM7dmFyIF9ucz0kbG9jYWxzLl9ucz1Ob2RlQ29sbGVjdGlvblNlbGVjdG9yLl9fY2FsbF9fKHNlbGVjdG9yLHNlbGYpO3JldHVybiBfbnMuX19nZXRhdHRyX18oImdldCIpLl9fY2FsbF9fKCk7fWNhdGNoKGVycjI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjQpO319O30pKCk7JGNsYXNzLmZpbHRlci5fX25hbWVfXz0iZmlsdGVyIjskY2xhc3MuZmluZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZpbmQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuaGxuaHF4czEuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyNCk7fX07fSkoKTskY2xhc3MuZmluZC5fX25hbWVfXz0iZmluZCI7JGNsYXNzLmZpcnN0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZmlyc3QiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUua3VtaXppY2ouX19kaWN0X189JG5zO2lmKGJvb2wobGVuLl9fY2FsbF9fKHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpKS5fX2VxX18oTnVtYmVyKDApKSkpcmV0dXJuIE5vZGVDb2xsZWN0aW9uLl9fY2FsbF9fKCk7cmV0dXJuIE5vZGVDb2xsZWN0aW9uLl9fY2FsbF9fKGxpc3QoW3NlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSldKSk7fWNhdGNoKGVycjI0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjQpO319O30pKCk7JGNsYXNzLmZpcnN0Ll9fbmFtZV9fPSJmaXJzdCI7JGNsYXNzLmZvY3VzPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZvY3VzIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS55YmljNTgzeC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KShOb25lKTskY2xhc3MuZm9jdXMuX19uYW1lX189ImZvY3VzIjskY2xhc3MuZm9jdXNpbj0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJmb2N1c2luIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5xMGdzd2lzcS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KShOb25lKTskY2xhc3MuZm9jdXNpbi5fX25hbWVfXz0iZm9jdXNpbiI7JGNsYXNzLmZvY3Vzb3V0PShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImZvY3Vzb3V0Iixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS51YmEybDlkdC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KShOb25lKTskY2xhc3MuZm9jdXNvdXQuX19uYW1lX189ImZvY3Vzb3V0IjskY2xhc3MuZ2V0PShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdldCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaW5kZXgiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnQ4bzQ2d3lkLl9fZGljdF9fPSRucztpZihib29sKGluZGV4PT09Tm9uZSkpcmV0dXJuICRsaXN0X2NvbXAoeydzZWxmJzpzZWxmfSwiX25vZGUgIiwiZm9yIF9ub2RlIGluIHNlbGYuX25vZGVzIik7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGluZGV4KTt9Y2F0Y2goZXJyMjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyNCk7fX07fSkoTm9uZSk7JGNsYXNzLmdldC5fX25hbWVfXz0iZ2V0IjskY2xhc3MuZ3Q9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJndCIsYXJndW1lbnRzLFsic2VsZiIsImluZGV4Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmEwd2N2cnNhLl9fZGljdF9fPSRucztyZXR1cm4gTm9kZUNvbGxlY3Rpb24uX19jYWxsX18obGlzdChbc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UoaW5kZXgsbnVsbCkpXSkpO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KSgpOyRjbGFzcy5ndC5fX25hbWVfXz0iZ3QiOyRjbGFzcy5oYXM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJoYXMiLGFyZ3VtZW50cyxbInNlbGYiLCJzZWxlY3RvciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5sc3ZsaWVrYS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KSgpOyRjbGFzcy5oYXMuX19uYW1lX189ImhhcyI7JGNsYXNzLmhhc0NsYXNzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaGFzQ2xhc3MiLGFyZ3VtZW50cyxbInNlbGYiLCJuYW1lIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm9ldnhwY2VzLl9fZGljdF9fPSRuczt2YXIgJGl0ZXIyND1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMjQ9MDskaTI0PCRpdGVyMjQuX19sZW5fXygpOyRpMjQrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIyNC5fX2l0ZW1fXygkaTI0KTtpZihib29sKF9ub2RlLl9fZ2V0YXR0cl9fKCJoYXNDbGFzcyIpLl9fY2FsbF9fKG5hbWUpKSlyZXR1cm4gVHJ1ZTt9cmV0dXJuIEZhbHNlO31jYXRjaChlcnIyNCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI0KTt9fTt9KSgpOyRjbGFzcy5oYXNDbGFzcy5fX25hbWVfXz0iaGFzQ2xhc3MiOyRjbGFzcy5oZWlnaHQ9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaGVpZ2h0Iixhcmd1bWVudHMsWyJzZWxmIl0seyJ2YWx1ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuajRmOHVzancuX19kaWN0X189JG5zO2lmKGJvb2wodmFsdWU9PT1Ob25lKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2dldGF0dHJfXygiY3NzIikuX19jYWxsX18oJ2hlaWdodCcpO3ZhciAkaXRlcjI1PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkyNT0wOyRpMjU8JGl0ZXIyNS5fX2xlbl9fKCk7JGkyNSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjI1Ll9faXRlbV9fKCRpMjUpO19ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfc3R5bGUiKS5fX2NhbGxfXyhkaWN0KFtbJ2hlaWdodCcsdmFsdWVdXSkpO319Y2F0Y2goZXJyMjUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyNSk7fX07fSkoTm9uZSk7JGNsYXNzLmhlaWdodC5fX25hbWVfXz0iaGVpZ2h0IjskY2xhc3MuaGlkZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImhpZGUiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYzZlazI1eTIuX19kaWN0X189JG5zO3ZhciAkaXRlcjI2PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkyNj0wOyRpMjY8JGl0ZXIyNi5fX2xlbl9fKCk7JGkyNisrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjI2Ll9faXRlbV9fKCRpMjYpO19ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfc3R5bGUiKS5fX2NhbGxfXyhkaWN0KFtbJ2Rpc3BsYXknLCdub25lJ11dKSk7fX1jYXRjaChlcnIyNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI2KTt9fTt9KSgpOyRjbGFzcy5oaWRlLl9fbmFtZV9fPSJoaWRlIjskY2xhc3MuaG92ZXI9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaG92ZXIiLGFyZ3VtZW50cyxbInNlbGYiXSx7ImhhbmRsZXIiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnNuMjJlY2lnLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjcpO319O30pKE5vbmUpOyRjbGFzcy5ob3Zlci5fX25hbWVfXz0iaG92ZXIiOyRjbGFzcy5odG1sPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImh0bWwiLGFyZ3VtZW50cyxbInNlbGYiXSx7ImNvbnRlbnQiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmdiZHZzN2I1Ll9fZGljdF9fPSRucztpZihib29sKGNvbnRlbnQ9PT1Ob25lKSlyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2dldGF0dHJfXygiZ2V0X2h0bWwiKS5fX2NhbGxfXygpO3ZhciAkaXRlcjI3PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkyNz0wOyRpMjc8JGl0ZXIyNy5fX2xlbl9fKCk7JGkyNysrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjI3Ll9faXRlbV9fKCRpMjcpO19ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfaHRtbCIpLl9fY2FsbF9fKGNvbnRlbnQpO319Y2F0Y2goZXJyMjcpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyNyk7fX07fSkoTm9uZSk7JGNsYXNzLmh0bWwuX19uYW1lX189Imh0bWwiOyRjbGFzcy5pbm5lckhlaWdodD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImlubmVySGVpZ2h0Iixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmdpOHBlMTAzLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLmlubmVySGVpZ2h0Ll9fbmFtZV9fPSJpbm5lckhlaWdodCI7JGNsYXNzLmlubmVyV2lkdGg9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJpbm5lcldpZHRoIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmhqd3l2cXZvLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLmlubmVyV2lkdGguX19uYW1lX189ImlubmVyV2lkdGgiOyRjbGFzcy5pbnNlcnRBZnRlcj0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImluc2VydEFmdGVyIixhcmd1bWVudHMsWyJzZWxmIiwidGFyZ2V0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnB1cWtsYmd6Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLmluc2VydEFmdGVyLl9fbmFtZV9fPSJpbnNlcnRBZnRlciI7JGNsYXNzLmluc2VydEJlZm9yZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImluc2VydEJlZm9yZSIsYXJndW1lbnRzLFsic2VsZiIsInRhcmdldCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lc2loc2R2Yy5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KSgpOyRjbGFzcy5pbnNlcnRCZWZvcmUuX19uYW1lX189Imluc2VydEJlZm9yZSI7JGNsYXNzLmtleWRvd249KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygia2V5ZG93biIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYTYzN2pva3UuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLmtleWRvd24uX19uYW1lX189ImtleWRvd24iOyRjbGFzcy5rZXlwcmVzcz0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJrZXlwcmVzcyIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYjhzb3cyd3UuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLmtleXByZXNzLl9fbmFtZV9fPSJrZXlwcmVzcyI7JGNsYXNzLmtleXVwPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImtleXVwIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5nMzZveWNzMC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KShOb25lKTskY2xhc3Mua2V5dXAuX19uYW1lX189ImtleXVwIjskY2xhc3MubGFzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImxhc3QiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUud3hsMzM5ejAuX19kaWN0X189JG5zO3JldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoLTEpKTt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoKTskY2xhc3MubGFzdC5fX25hbWVfXz0ibGFzdCI7JGNsYXNzLmxlbmd0aD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImxlbmd0aCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54bXR5NjQ2dy5fX2RpY3RfXz0kbnM7cmV0dXJuIGxlbi5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKSk7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLmxlbmd0aC5fX25hbWVfXz0ibGVuZ3RoIjskY2xhc3MubGVuZ3RoPSgkY2xhc3MucHJvcGVydHkhPT11bmRlZmluZWQ/JGNsYXNzLnByb3BlcnR5OnByb3BlcnR5KSgkY2xhc3MubGVuZ3RoKTskY2xhc3MubW91c2Vkb3duPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm1vdXNlZG93biIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUud3c0bDduMHkuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLm1vdXNlZG93bi5fX25hbWVfXz0ibW91c2Vkb3duIjskY2xhc3MubW91c2VlbnRlcj0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJtb3VzZWVudGVyIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5wcnpsdWozZi5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KShOb25lKTskY2xhc3MubW91c2VlbnRlci5fX25hbWVfXz0ibW91c2VlbnRlciI7JGNsYXNzLm1vdXNlbGVhdmU9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibW91c2VsZWF2ZSIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYTlvOG1jOXMuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLm1vdXNlbGVhdmUuX19uYW1lX189Im1vdXNlbGVhdmUiOyRjbGFzcy5tb3VzZW1vdmU9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibW91c2Vtb3ZlIixhcmd1bWVudHMsWyJzZWxmIl0seyJoYW5kbGVyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kazJjZmNxZS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KShOb25lKTskY2xhc3MubW91c2Vtb3ZlLl9fbmFtZV9fPSJtb3VzZW1vdmUiOyRjbGFzcy5tb3VzZW91dD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJtb3VzZW91dCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucHBwYXV0bHMuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLm1vdXNlb3V0Ll9fbmFtZV9fPSJtb3VzZW91dCI7JGNsYXNzLm1vdXNlb3Zlcj0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJtb3VzZW92ZXIiLGFyZ3VtZW50cyxbInNlbGYiXSx7ImhhbmRsZXIiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI3a2N0NzVjeCJdLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKE5vbmUpOyRjbGFzcy5tb3VzZW92ZXIuX19uYW1lX189Im1vdXNlb3ZlciI7JGNsYXNzLm1vdXNldXA9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibW91c2V1cCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuajd5amp4b3IuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoTm9uZSk7JGNsYXNzLm1vdXNldXAuX19uYW1lX189Im1vdXNldXAiOyRjbGFzcy5uZXh0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibmV4dCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lOWI0ZHcxYi5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KSgpOyRjbGFzcy5uZXh0Ll9fbmFtZV9fPSJuZXh0IjskY2xhc3MubmV4dEFsbD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm5leHRBbGwiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjRjN21tOHJ0Il0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoKTskY2xhc3MubmV4dEFsbC5fX25hbWVfXz0ibmV4dEFsbCI7JGNsYXNzLm5leHRVdGlsPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibmV4dFV0aWwiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubXRpb25pb3AuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoKTskY2xhc3MubmV4dFV0aWwuX19uYW1lX189Im5leHRVdGlsIjskY2xhc3Mub2ZmPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygib2ZmIixhcmd1bWVudHMsWyJzZWxmIiwiaGFuZGxlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNWw5MzllbWYiXS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KSgpOyRjbGFzcy5vZmYuX19uYW1lX189Im9mZiI7JGNsYXNzLm9mZnNldD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm9mZnNldCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54aTQ0MTBqbi5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KSgpOyRjbGFzcy5vZmZzZXQuX19uYW1lX189Im9mZnNldCI7JGNsYXNzLm9mZnNldFBhcmVudD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm9mZnNldFBhcmVudCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5jYjB6a3JrNS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI4KTt9fTt9KSgpOyRjbGFzcy5vZmZzZXRQYXJlbnQuX19uYW1lX189Im9mZnNldFBhcmVudCI7JGNsYXNzLm9uPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygib24iLGFyZ3VtZW50cyxbInNlbGYiLCJoYW5kbGVyIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnN3ejd2MjE3Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLm9uLl9fbmFtZV9fPSJvbiI7JGNsYXNzLm91dGVySGVpZ2h0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygib3V0ZXJIZWlnaHQiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudjZqMXdjZzMuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoKTskY2xhc3Mub3V0ZXJIZWlnaHQuX19uYW1lX189Im91dGVySGVpZ2h0IjskY2xhc3Mub3V0ZXJXaWR0aD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm91dGVyV2lkdGgiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjdudnpuOWNkIl0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOCk7fX07fSkoKTskY2xhc3Mub3V0ZXJXaWR0aC5fX25hbWVfXz0ib3V0ZXJXaWR0aCI7JGNsYXNzLnBhcmVudD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInBhcmVudCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS53amt0bms2di5fX2RpY3RfXz0kbnM7dmFyIF9wPSRsb2NhbHMuX3A9Tm9kZUNvbGxlY3Rpb24uX19jYWxsX18oKTt2YXIgJGl0ZXIyOD1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMjg9MDskaTI4PCRpdGVyMjguX19sZW5fXygpOyRpMjgrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIyOC5fX2l0ZW1fXygkaTI4KTtfcC5fX2dldGF0dHJfXygiYXBwZW5kIikuX19jYWxsX18oX25vZGUuX19nZXRhdHRyX18oImdldF9wYXJlbnQiKS5fX2NhbGxfXygpKTt9fWNhdGNoKGVycjI4KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMjgpO319O30pKCk7JGNsYXNzLnBhcmVudC5fX25hbWVfXz0icGFyZW50IjskY2xhc3MucGFyZW50cz0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJwYXJlbnRzIixhcmd1bWVudHMsWyJzZWxmIl0seyJzZWxlY3RvciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjQyczN1YmsyIl0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjkpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOSk7fX07fSkoTm9uZSk7JGNsYXNzLnBhcmVudHMuX19uYW1lX189InBhcmVudHMiOyRjbGFzcy5wYXJlbnRzVW50aWw9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicGFyZW50c1VudGlsIixhcmd1bWVudHMsWyJzZWxmIl0seyJzZWxlY3RvciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUua2ZlM25hYXkuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMjkpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIyOSk7fX07fSkoTm9uZSk7JGNsYXNzLnBhcmVudHNVbnRpbC5fX25hbWVfXz0icGFyZW50c1VudGlsIjskY2xhc3MucG9zaXRpb249KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJwb3NpdGlvbiIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOHhnN2hma3IiXS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIyOSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI5KTt9fTt9KSgpOyRjbGFzcy5wb3NpdGlvbi5fX25hbWVfXz0icG9zaXRpb24iOyRjbGFzcy5wcmVwZW5kPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicHJlcGVuZCIsYXJndW1lbnRzLFsic2VsZiIsImNvbnRlbnQiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuajdybGg4eXIuX19kaWN0X189JG5zO3ZhciAkaXRlcjI5PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkyOT0wOyRpMjk8JGl0ZXIyOS5fX2xlbl9fKCk7JGkyOSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjI5Ll9faXRlbV9fKCRpMjkpO19ub2RlLl9fZ2V0YXR0cl9fKCJwcmVwZW5kIikuX19jYWxsX18oY29udGVudCk7fX1jYXRjaChlcnIyOSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjI5KTt9fTt9KSgpOyRjbGFzcy5wcmVwZW5kLl9fbmFtZV9fPSJwcmVwZW5kIjskY2xhc3MucHJlcGVuZFRvPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicHJlcGVuZFRvIixhcmd1bWVudHMsWyJzZWxmIiwidGFyZ2V0Il0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm05ZzF6ajN5Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjMwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzApO319O30pKCk7JGNsYXNzLnByZXBlbmRUby5fX25hbWVfXz0icHJlcGVuZFRvIjskY2xhc3MucHJldj0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInByZXYiLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuYzB3ZTZqdWEuX19kaWN0X189JG5zO3ZhciBfcDE9JGxvY2Fscy5fcDE9Tm9kZUNvbGxlY3Rpb24uX19jYWxsX18oKTt2YXIgJGl0ZXIzMD1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMzA9MDskaTMwPCRpdGVyMzAuX19sZW5fXygpOyRpMzArKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIzMC5fX2l0ZW1fXygkaTMwKTt2YXIgX3BhcmVudD0kbG9jYWxzLl9wYXJlbnQ9X25vZGUuX19nZXRhdHRyX18oImdldF9wYXJlbnQiKS5fX2NhbGxfXygpO3ZhciAkaXRlcjMxPXJhbmdlLl9fY2FsbF9fKGxlbi5fX2NhbGxfXyhfcGFyZW50Ll9fZ2V0YXR0cl9fKCJjaGlsZE5vZGVzIikpKTtmb3IodmFyICRpMzE9MDskaTMxPCRpdGVyMzEuX19sZW5fXygpOyRpMzErKyl7dmFyIF9pPSRsb2NhbHMuX2k9JGl0ZXIzMS5fX2l0ZW1fXygkaTMxKTtpZihib29sKF9wYXJlbnQuX19nZXRhdHRyX18oImNoaWxkTm9kZXMiKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShfaSkuX19lcV9fKF9ub2RlKSkpe2lmKGJvb2woX2kuX19ndF9fKE51bWJlcigwKSkpKV9wMS5fX2dldGF0dHJfXygiYXBwZW5kIikuX19jYWxsX18oX3BhcmVudC5fX2dldGF0dHJfXygiY2hpbGROb2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKF9pLl9fc3ViX18oTnVtYmVyKDEpKSkpO2JyZWFrO319fXJldHVybiBfcDE7fWNhdGNoKGVycjMwKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzApO319O30pKCk7JGNsYXNzLnByZXYuX19uYW1lX189InByZXYiOyRjbGFzcy5wcmV2QWxsPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInByZXZBbGwiLGFyZ3VtZW50cyxbInNlbGYiXSx7InNlbGVjdG9yIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5neG42aWgwMC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIzMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjMyKTt9fTt9KShOb25lKTskY2xhc3MucHJldkFsbC5fX25hbWVfXz0icHJldkFsbCI7JGNsYXNzLnByZXZVbnRpbD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJwcmV2VW50aWwiLGFyZ3VtZW50cyxbInNlbGYiXSx7InNlbGVjdG9yIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS54cTlydG0yaC5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIzMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjMyKTt9fTt9KShOb25lKTskY2xhc3MucHJldlVudGlsLl9fbmFtZV9fPSJwcmV2VW50aWwiOyRjbGFzcy5wcm9wPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInByb3AiLGFyZ3VtZW50cyxbInNlbGYiLCJwcm9wZXJ0eSJdLHsidmFsdWUiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmF6ZzYwamN5Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjMyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzIpO319O30pKE5vbmUpOyRjbGFzcy5wcm9wLl9fbmFtZV9fPSJwcm9wIjskY2xhc3MucmVhZHk9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyZWFkeSIsYXJndW1lbnRzLFsic2VsZiIsImZ1bmMiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjB2cHJieXo2Il0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzMik7fX07fSkoKTskY2xhc3MucmVhZHkuX19uYW1lX189InJlYWR5IjskY2xhc3MucmVtb3ZlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicmVtb3ZlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLndldDg2dWdzLl9fZGljdF9fPSRuczt2YXIgJGl0ZXIzMj1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMzI9MDskaTMyPCRpdGVyMzIuX19sZW5fXygpOyRpMzIrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIzMi5fX2l0ZW1fXygkaTMyKTtfbm9kZS5fX2dldGF0dHJfXygiZ2V0X3BhcmVudCIpLl9fY2FsbF9fKCkuX19nZXRhdHRyX18oInJlbW92ZUNoaWxkIikuX19jYWxsX18oX25vZGUpO319Y2F0Y2goZXJyMzIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzMik7fX07fSkoKTskY2xhc3MucmVtb3ZlLl9fbmFtZV9fPSJyZW1vdmUiOyRjbGFzcy5yZW1vdmVBdHRyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicmVtb3ZlQXR0ciIsYXJndW1lbnRzLFsic2VsZiIsImF0dHIiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuY29iamlvYjEuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzMpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzMyk7fX07fSkoKTskY2xhc3MucmVtb3ZlQXR0ci5fX25hbWVfXz0icmVtb3ZlQXR0ciI7JGNsYXNzLnJlbW92ZUNsYXNzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicmVtb3ZlQ2xhc3MiLGFyZ3VtZW50cyxbInNlbGYiLCJuYW1lIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnllMThoMGp0Ll9fZGljdF9fPSRuczt2YXIgJGl0ZXIzMz1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMzM9MDskaTMzPCRpdGVyMzMuX19sZW5fXygpOyRpMzMrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIzMy5fX2l0ZW1fXygkaTMzKTtfbm9kZS5fX2dldGF0dHJfXygicmVtb3ZlQ2xhc3MiKS5fX2NhbGxfXyhuYW1lKTt9fWNhdGNoKGVycjMzKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzMpO319O30pKCk7JGNsYXNzLnJlbW92ZUNsYXNzLl9fbmFtZV9fPSJyZW1vdmVDbGFzcyI7JGNsYXNzLnJlbW92ZVByb3A9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyZW1vdmVQcm9wIixhcmd1bWVudHMsWyJzZWxmIiwicHJvcGVydHkiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZjI5N3ZtZGUuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNCk7fX07fSkoKTskY2xhc3MucmVtb3ZlUHJvcC5fX25hbWVfXz0icmVtb3ZlUHJvcCI7JGNsYXNzLnJlcGxhY2VBbGw9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyZXBsYWNlQWxsIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIwbjZrYnNwaiJdLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjM0KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzQpO319O30pKCk7JGNsYXNzLnJlcGxhY2VBbGwuX19uYW1lX189InJlcGxhY2VBbGwiOyRjbGFzcy5yZXBsYWNlV2l0aD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInJlcGxhY2VXaXRoIixhcmd1bWVudHMsWyJzZWxmIiwiY29udGVudCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNzhybXI3ZXUiXS5fX2RpY3RfXz0kbnM7dmFyICRpdGVyMzQ9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTM0PTA7JGkzNDwkaXRlcjM0Ll9fbGVuX18oKTskaTM0Kyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyMzQuX19pdGVtX18oJGkzNCk7X25vZGUuX19nZXRhdHRyX18oImdldF9wYXJlbnQiKS5fX2NhbGxfXygpLl9fZ2V0YXR0cl9fKCJyZXBsYWNlV2l0aCIpLl9fY2FsbF9fKGNvbnRlbnQsX25vZGUpO319Y2F0Y2goZXJyMzQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNCk7fX07fSkoKTskY2xhc3MucmVwbGFjZVdpdGguX19uYW1lX189InJlcGxhY2VXaXRoIjskY2xhc3MucmVzaXplPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInJlc2l6ZSIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubzRodDVvZDcuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoTm9uZSk7JGNsYXNzLnJlc2l6ZS5fX25hbWVfXz0icmVzaXplIjskY2xhc3Muc2Nyb2xsPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNjcm9sbCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubGQ2dzBxdzAuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoTm9uZSk7JGNsYXNzLnNjcm9sbC5fX25hbWVfXz0ic2Nyb2xsIjskY2xhc3Muc2Nyb2xsTGVmdD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzY3JvbGxMZWZ0Iixhcmd1bWVudHMsWyJzZWxmIl0seyJ2YWx1ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucXpvNzhjaDkuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoTm9uZSk7JGNsYXNzLnNjcm9sbExlZnQuX19uYW1lX189InNjcm9sbExlZnQiOyRjbGFzcy5zY3JvbGxUb3A9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2Nyb2xsVG9wIixhcmd1bWVudHMsWyJzZWxmIl0seyJ2YWx1ZSI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUud3BxdDlnOWkuX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoTm9uZSk7JGNsYXNzLnNjcm9sbFRvcC5fX25hbWVfXz0ic2Nyb2xsVG9wIjskY2xhc3Muc2VsZWN0PShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNlbGVjdCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjZwZjBlZ2tqIl0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoTm9uZSk7JGNsYXNzLnNlbGVjdC5fX25hbWVfXz0ic2VsZWN0IjskY2xhc3Muc2hvdz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNob3ciLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudDZpc3F0ZHcuX19kaWN0X189JG5zO3ZhciAkaXRlcjM1PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkzNT0wOyRpMzU8JGl0ZXIzNS5fX2xlbl9fKCk7JGkzNSsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjM1Ll9faXRlbV9fKCRpMzUpO19ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfc3R5bGUiKS5fX2NhbGxfXyhkaWN0KFtbJ2Rpc3BsYXknLCdibG9jayddXSkpO319Y2F0Y2goZXJyMzUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNSk7fX07fSkoKTskY2xhc3Muc2hvdy5fX25hbWVfXz0ic2hvdyI7JGNsYXNzLnNpYmxpbmdzPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNpYmxpbmdzIixhcmd1bWVudHMsWyJzZWxmIl0seyJzZWxlY3RvciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZmF0MjVzNm0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNik7fX07fSkoTm9uZSk7JGNsYXNzLnNpYmxpbmdzLl9fbmFtZV9fPSJzaWJsaW5ncyI7JGNsYXNzLnNpemU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzaXplIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI3eGs5YjN1ZSJdLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjM2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzYpO319O30pKCk7JGNsYXNzLnNpemUuX19uYW1lX189InNpemUiOyRjbGFzcy5zbGljZT0oZnVuY3Rpb24oTm9uZSxOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNsaWNlIixhcmd1bWVudHMsWyJzZWxmIl0seyJpbmRleDEiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwiaW5kZXgyIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5mZnBqM2Y5Ni5fX2RpY3RfXz0kbnM7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0oaW5kZXgxPT09Tm9uZSkmJiR0ZXN0X2l0ZW0oaW5kZXgyPT09Tm9uZSkpKSlyZXR1cm4gTm9kZUNvbGxlY3Rpb24uX19jYWxsX18oKTtyZXR1cm4gTm9kZUNvbGxlY3Rpb24uX19jYWxsX18oc2VsZi5fX2dldGF0dHJfXygiX25vZGVzIikuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoc2xpY2UoaW5kZXgxLGluZGV4MikpKTt9Y2F0Y2goZXJyMzYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNik7fX07fSkoTm9uZSxOb25lKTskY2xhc3Muc2xpY2UuX19uYW1lX189InNsaWNlIjskY2xhc3Muc2xpZGVEb3duPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2xpZGVEb3duIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI3Y2kwNzRweSJdLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjM2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzYpO319O30pKCk7JGNsYXNzLnNsaWRlRG93bi5fX25hbWVfXz0ic2xpZGVEb3duIjskY2xhc3Muc2xpZGVUb2dnbGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzbGlkZVRvZ2dsZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOXU4YWw2dXMiXS5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIzNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjM2KTt9fTt9KSgpOyRjbGFzcy5zbGlkZVRvZ2dsZS5fX25hbWVfXz0ic2xpZGVUb2dnbGUiOyRjbGFzcy5zbGlkZVVwPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2xpZGVVcCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5iemtzdG0xay5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnIzNil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjM2KTt9fTt9KSgpOyRjbGFzcy5zbGlkZVVwLl9fbmFtZV9fPSJzbGlkZVVwIjskY2xhc3Muc3VibWl0PShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInN1Ym1pdCIsYXJndW1lbnRzLFsic2VsZiJdLHsiaGFuZGxlciI6KCRjbGFzcy5Ob25lIT09dW5kZWZpbmVkPyRjbGFzcy5Ob25lOk5vbmUpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjQwM280ajFkIl0uX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzNik7fX07fSkoTm9uZSk7JGNsYXNzLnN1Ym1pdC5fX25hbWVfXz0ic3VibWl0IjskY2xhc3MudGV4dD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ0ZXh0Iixhcmd1bWVudHMsWyJzZWxmIl0seyJjb250ZW50IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5xcXJlaTRtcS5fX2RpY3RfXz0kbnM7aWYoYm9vbChjb250ZW50PT09Tm9uZSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSkuX19nZXRhdHRyX18oImdldF90ZXh0IikuX19jYWxsX18oKTt2YXIgJGl0ZXIzNj1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMzY9MDskaTM2PCRpdGVyMzYuX19sZW5fXygpOyRpMzYrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIzNi5fX2l0ZW1fXygkaTM2KTtfbm9kZS5fX2dldGF0dHJfXygic2V0X3RleHQiKS5fX2NhbGxfXyhjb250ZW50KTt9fWNhdGNoKGVycjM2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzYpO319O30pKE5vbmUpOyRjbGFzcy50ZXh0Ll9fbmFtZV9fPSJ0ZXh0IjskY2xhc3MudG9nZ2xlPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRvZ2dsZSIsYXJndW1lbnRzLFsic2VsZiJdLHsiRnVuY3Rpb24iOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmZ5MXpmMmR6Ll9fZGljdF9fPSRucztpZihib29sKEZ1bmN0aW9uPT09Tm9uZSkpe3ZhciBfc2hvdz0kbG9jYWxzLl9zaG93PVRydWU7aWYoYm9vbChzZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpLl9fZ2V0YXR0cl9fKCJjc3MiKS5fX2NhbGxfXygnZGlzcGxheScpLl9fbmVfXygnbm9uZScpKSl2YXIgX3Nob3c9JGxvY2Fscy5fc2hvdz1GYWxzZTt2YXIgJGl0ZXIzNz1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpMzc9MDskaTM3PCRpdGVyMzcuX19sZW5fXygpOyRpMzcrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXIzNy5fX2l0ZW1fXygkaTM3KTtpZihib29sKF9zaG93KSlfbm9kZS5fX2dldGF0dHJfXygic2V0X3N0eWxlIikuX19jYWxsX18oZGljdChbWydkaXNwbGF5JywnYmxvY2snXV0pKTtlbHNlIF9ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfc3R5bGUiKS5fX2NhbGxfXyhkaWN0KFtbJ2Rpc3BsYXknLCdub25lJ11dKSk7dmFyIF9zaG93PSRsb2NhbHMuX3Nob3c9IWJvb2woX3Nob3cpO31yZXR1cm47fXZhciAkaXRlcjM4PXNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO2Zvcih2YXIgJGkzOD0wOyRpMzg8JGl0ZXIzOC5fX2xlbl9fKCk7JGkzOCsrKXt2YXIgX25vZGU9JGxvY2Fscy5fbm9kZT0kaXRlcjM4Ll9faXRlbV9fKCRpMzgpO2lmKGJvb2woRnVuY3Rpb24uX19jYWxsX18oX25vZGUpKSlfbm9kZS5fX2dldGF0dHJfXygic2V0X3N0eWxlIikuX19jYWxsX18oZGljdChbWydkaXNwbGF5JywnYmxvY2snXV0pKTtlbHNlIF9ub2RlLl9fZ2V0YXR0cl9fKCJzZXRfc3R5bGUiKS5fX2NhbGxfXyhkaWN0KFtbJ2Rpc3BsYXknLCdub25lJ11dKSk7fX1jYXRjaChlcnIzNyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjM3KTt9fTt9KShOb25lKTskY2xhc3MudG9nZ2xlLl9fbmFtZV9fPSJ0b2dnbGUiOyRjbGFzcy50b2dnbGVDbGFzcz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRvZ2dsZUNsYXNzIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyIxMTF4bDFycSJdLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjM5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzkpO319O30pKCk7JGNsYXNzLnRvZ2dsZUNsYXNzLl9fbmFtZV9fPSJ0b2dnbGVDbGFzcyI7JGNsYXNzLnRvTGlzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRvTGlzdCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS52ZXhnbjR1cS5fX2RpY3RfXz0kbnM7cmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpO31jYXRjaChlcnIzOSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjM5KTt9fTt9KSgpOyRjbGFzcy50b0xpc3QuX19uYW1lX189InRvTGlzdCI7JGNsYXNzLnRvQXJyYXk9KCRjbGFzcy50b0xpc3QhPT11bmRlZmluZWQ/JGNsYXNzLnRvTGlzdDp0b0xpc3QpOyRjbGFzcy50cmlnZ2VyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidHJpZ2dlciIsYXJndW1lbnRzLFsic2VsZiIsImV2ZW50X3R5cGUiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucnhpc21ocWguX19kaWN0X189JG5zO3ZvaWQgMDt9Y2F0Y2goZXJyMzkpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnIzOSk7fX07fSkoKTskY2xhc3MudHJpZ2dlci5fX25hbWVfXz0idHJpZ2dlciI7JGNsYXNzLnRyaWdnZXJIYW5kbGVyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidHJpZ2dlckhhbmRsZXIiLGFyZ3VtZW50cyxbInNlbGYiLCJldmVudF90eXBlIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmZqOTI3Ymw3Ll9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjM5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzkpO319O30pKCk7JGNsYXNzLnRyaWdnZXJIYW5kbGVyLl9fbmFtZV9fPSJ0cmlnZ2VySGFuZGxlciI7JGNsYXNzLnVuYmluZD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInVuYmluZCIsYXJndW1lbnRzLFsic2VsZiIsImV2ZW50IiwiaGFuZGxlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5tN2wyODc1Yi5fX2RpY3RfXz0kbnM7aWYoYm9vbCgnICcuX19pbl9fKGV2ZW50KSkpe3ZhciBfZXZlbnRzPSRsb2NhbHMuX2V2ZW50cz0nICcuX19nZXRhdHRyX18oInNwbGl0IikuX19jYWxsX18oZXZlbnQpO3ZhciAkaXRlcjM5PV9ldmVudHM7Zm9yKHZhciAkaTM5PTA7JGkzOTwkaXRlcjM5Ll9fbGVuX18oKTskaTM5Kyspe3ZhciBfZXZlbnQ9JGxvY2Fscy5fZXZlbnQ9JGl0ZXIzOS5fX2l0ZW1fXygkaTM5KTt2YXIgJGl0ZXI0MD1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpNDA9MDskaTQwPCRpdGVyNDAuX19sZW5fXygpOyRpNDArKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXI0MC5fX2l0ZW1fXygkaTQwKTskcHJpbnQuX19jYWxsX18oImZpeCBtZSEiKTt9fXJldHVybjt9dmFyICRpdGVyNDE9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTQxPTA7JGk0MTwkaXRlcjQxLl9fbGVuX18oKTskaTQxKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyNDEuX19pdGVtX18oJGk0MSk7JHByaW50Ll9fY2FsbF9fKCJmaXggbWUiKTt9fWNhdGNoKGVycjM5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyMzkpO319O30pKCk7JGNsYXNzLnVuYmluZC5fX25hbWVfXz0idW5iaW5kIjskY2xhc3MudW5sb2FkPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygidW5sb2FkIixhcmd1bWVudHMsWyJzZWxmIiwiaGFuZGxlciJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5xd3RtZnJqei5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnI0Mil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQyKTt9fTt9KSgpOyRjbGFzcy51bmxvYWQuX19uYW1lX189InVubG9hZCI7JGNsYXNzLnVud3JhcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInVud3JhcCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5oaGtwNWZmdC5fX2RpY3RfXz0kbnM7dmFyICRpdGVyNDI9c2VsZi5fX2dldGF0dHJfXygiX25vZGVzIik7Zm9yKHZhciAkaTQyPTA7JGk0MjwkaXRlcjQyLl9fbGVuX18oKTskaTQyKyspe3ZhciBfbm9kZT0kbG9jYWxzLl9ub2RlPSRpdGVyNDIuX19pdGVtX18oJGk0Mik7dmFyIF9wYXJlbnQ9JGxvY2Fscy5fcGFyZW50PV9ub2RlLl9fZ2V0YXR0cl9fKCJnZXRfcGFyZW50IikuX19jYWxsX18oKTt2YXIgX2dyYW5kcGFyZW50PSRsb2NhbHMuX2dyYW5kcGFyZW50PV9wYXJlbnQuX19nZXRhdHRyX18oImdldF9wYXJlbnQiKS5fX2NhbGxfXygpO19ncmFuZHBhcmVudC5fX2dldGF0dHJfXygicmVwbGFjZUNoaWxkIikuX19jYWxsX18oX25vZGUsX3BhcmVudCk7X3BhcmVudC5fX2dldGF0dHJfXygicmVtb3ZlIikuX19jYWxsX18oKTt9fWNhdGNoKGVycjQyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDIpO319O30pKCk7JGNsYXNzLnVud3JhcC5fX25hbWVfXz0idW53cmFwIjskY2xhc3MudmFsPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInZhbCIsYXJndW1lbnRzLFsic2VsZiJdLHsidmFsdWUiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLml3YmdoZzVhLl9fZGljdF9fPSRucztpZihib29sKHZhbHVlPT09Tm9uZSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9ub2RlcyIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigwKSkuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoJ3RleHQnKTt2YXIgJGl0ZXI0Mz1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpNDM9MDskaTQzPCRpdGVyNDMuX19sZW5fXygpOyRpNDMrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXI0My5fX2l0ZW1fXygkaTQzKTtfbm9kZS5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKSgndGV4dCcsdmFsdWUpO319Y2F0Y2goZXJyNDMpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0Myk7fX07fSkoTm9uZSk7JGNsYXNzLnZhbC5fX25hbWVfXz0idmFsIjskY2xhc3Mud2lkdGg9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygid2lkdGgiLGFyZ3VtZW50cyxbInNlbGYiXSx7IndpZHRoIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5vcnAweTV2OC5fX2RpY3RfXz0kbnM7aWYoYm9vbCh3aWR0aD09PU5vbmUpKXJldHVybiBzZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpLl9fZ2V0YXR0cl9fKCJjc3MiKS5fX2NhbGxfXygnd2lkdGgnKTt2YXIgJGl0ZXI0ND1zZWxmLl9fZ2V0YXR0cl9fKCJfbm9kZXMiKTtmb3IodmFyICRpNDQ9MDskaTQ0PCRpdGVyNDQuX19sZW5fXygpOyRpNDQrKyl7dmFyIF9ub2RlPSRsb2NhbHMuX25vZGU9JGl0ZXI0NC5fX2l0ZW1fXygkaTQ0KTtfbm9kZS5fX2dldGF0dHJfXygic2V0X3N0eWxlIikuX19jYWxsX18oZGljdChbWyd3aWR0aCcsd2lkdGhdXSkpO319Y2F0Y2goZXJyNDQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0NCk7fX07fSkoTm9uZSk7JGNsYXNzLndpZHRoLl9fbmFtZV9fPSJ3aWR0aCI7JGNsYXNzLndyYXA9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ3cmFwIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnliaWg3bHplLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7JGNsYXNzLndyYXAuX19uYW1lX189IndyYXAiOyRjbGFzcy53cmFwQWxsPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygid3JhcEFsbCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lazVhZDhvbi5fX2RpY3RfXz0kbnM7dm9pZCAwO31jYXRjaChlcnI0NSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQ1KTt9fTt9KSgpOyRjbGFzcy53cmFwQWxsLl9fbmFtZV9fPSJ3cmFwQWxsIjskY2xhc3Mud3JhcElubmVyPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygid3JhcElubmVyIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnpqbGFjYm1kLl9fZGljdF9fPSRuczt2b2lkIDA7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7JGNsYXNzLndyYXBJbm5lci5fX25hbWVfXz0id3JhcElubmVyIjtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIE5vZGVDb2xsZWN0aW9uPSRjbGFzc19jb25zdHJ1Y3RvcigiTm9kZUNvbGxlY3Rpb24iLCROb2RlQ29sbGVjdGlvbik7X19CUllUSE9OX18uc2NvcGVbInB5ZG9tLnB5Il0uX19kaWN0X18uTm9kZUNvbGxlY3Rpb249Tm9kZUNvbGxlY3Rpb247dmFyIGJ5SWQ9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJieUlkIixhcmd1bWVudHMsWyJpZCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNjc3MHJvemEiXS5fX2RpY3RfXz0kbnM7dmFyIF9yZXN1bHQ9JGxvY2Fscy5fcmVzdWx0PWRvYy5fX2dldGF0dHJfXygiZ2V0IikuX19jYWxsX18oJEt3KCJpZCIsaWQpKTtyZXR1cm4gX3Jlc3VsdC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpO31jYXRjaChlcnI0NSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQ1KTt9fTt9KSgpO2J5SWQuX19uYW1lX189ImJ5SWQiOyRnbG9iYWxzLmJ5SWQ9YnlJZDt2YXIgY3JlYXRlQ1NTQ2xhc3M9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjcmVhdGVDU1NDbGFzcyIsYXJndW1lbnRzLFsiY3NzdGV4dCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kdHpwbDVpbS5fX2RpY3RfXz0kbnM7dmFyIF9zdHlsZT0kbG9jYWxzLl9zdHlsZT1kb2MuX19nZXRhdHRyX18oImNyZWF0ZUVsZW1lbnQiKS5fX2NhbGxfXygnc3R5bGUnKTtfc3R5bGUuX19zZXRhdHRyX18oInR5cGUiLCd0ZXh0L2NzcycpO19zdHlsZS5fX3NldGF0dHJfXygiaW5uZXJIVE1MIixjc3N0ZXh0KTtkb2MuX19nZXRhdHRyX18oImdldCIpLl9fY2FsbF9fKCRLdygidGFnIiwnaGVhZCcpKS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpLl9fZ2V0YXR0cl9fKCJhcHBlbmRDaGlsZCIpLl9fY2FsbF9fKF9zdHlsZSk7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7Y3JlYXRlQ1NTQ2xhc3MuX19uYW1lX189ImNyZWF0ZUNTU0NsYXNzIjskZ2xvYmFscy5jcmVhdGVDU1NDbGFzcz1jcmVhdGVDU1NDbGFzcztyZXR1cm57Tm9kZUNvbGxlY3Rpb25TZWxlY3RvcjpOb2RlQ29sbGVjdGlvblNlbGVjdG9yLFNlbGVjdG9yOlNlbGVjdG9yLE5vZGVDb2xsZWN0aW9uOk5vZGVDb2xsZWN0aW9uLGJ5SWQ6YnlJZCxjcmVhdGVDU1NDbGFzczpjcmVhdGVDU1NDbGFzcyxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/traceback.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbInRyYWNlYmFjay5weSJdLl9fZGljdF9fOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJzeXMiLCJzeXMiXV0pO3N5cz0kbW9kc1swXTs7Tm9uZTt2YXIgcHJpbnRfZXhjPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicHJpbnRfZXhjIixhcmd1bWVudHMsW10seyJmaWxlIjpzeXMuX19nZXRhdHRyX18oInN0ZGVyciIpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudGY0dGNoZG4uX19kaWN0X189JG5zO3ZhciBleGM9JGxvY2Fscy5leGM9X19CUllUSE9OX18uX19nZXRhdHRyX18oImV4Y2VwdGlvbl9zdGFjayIpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKE51bWJlcigtMSkpO2ZpbGUuX19nZXRhdHRyX18oIndyaXRlIikuX19jYWxsX18oZXhjLl9fZ2V0YXR0cl9fKCJfX25hbWVfXyIpKTtpZihib29sKGV4Yy5fX2dldGF0dHJfXygibWVzc2FnZSIpKSlmaWxlLl9fZ2V0YXR0cl9fKCJ3cml0ZSIpLl9fY2FsbF9fKCc6ICcuX19hZGRfXyhleGMuX19nZXRhdHRyX18oIm1lc3NhZ2UiKSkpO2ZpbGUuX19nZXRhdHRyX18oIndyaXRlIikuX19jYWxsX18oJ1xuJyk7fWNhdGNoKGVycjQpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0KTt9fTt9KSgpO3ByaW50X2V4Yy5fX25hbWVfXz0icHJpbnRfZXhjIjskZ2xvYmFscy5wcmludF9leGM9cHJpbnRfZXhjO3JldHVybntwcmludF9leGM6cHJpbnRfZXhjLF9fZ2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO30sX19zZXRhdHRyX186ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dGhpc1thdHRyXT12YWx1ZTt9fTt9KSgpOw==',
'/Lib/colorsys.py':'IiIiQ29udmVyc2lvbiBmdW5jdGlvbnMgYmV0d2VlbiBSR0IgYW5kIG90aGVyIGNvbG9yIHN5c3RlbXMuCgpUaGlzIG1vZHVsZXMgcHJvdmlkZXMgdHdvIGZ1bmN0aW9ucyBmb3IgZWFjaCBjb2xvciBzeXN0ZW0gQUJDOgoKICByZ2JfdG9fYWJjKHIsIGcsIGIpIC0tPiBhLCBiLCBjCiAgYWJjX3RvX3JnYihhLCBiLCBjKSAtLT4gciwgZywgYgoKQWxsIGlucHV0cyBhbmQgb3V0cHV0cyBhcmUgdHJpcGxlcyBvZiBmbG9hdHMgaW4gdGhlIHJhbmdlIFswLjAuLi4xLjBdCih3aXRoIHRoZSBleGNlcHRpb24gb2YgSSBhbmQgUSwgd2hpY2ggY292ZXJzIGEgc2xpZ2h0bHkgbGFyZ2VyIHJhbmdlKS4KSW5wdXRzIG91dHNpZGUgdGhlIHZhbGlkIHJhbmdlIG1heSBjYXVzZSBleGNlcHRpb25zIG9yIGludmFsaWQgb3V0cHV0cy4KClN1cHBvcnRlZCBjb2xvciBzeXN0ZW1zOgpSR0I6IFJlZCwgR3JlZW4sIEJsdWUgY29tcG9uZW50cwpZSVE6IEx1bWluYW5jZSwgQ2hyb21pbmFuY2UgKHVzZWQgYnkgY29tcG9zaXRlIHZpZGVvIHNpZ25hbHMpCkhMUzogSHVlLCBMdW1pbmFuY2UsIFNhdHVyYXRpb24KSFNWOiBIdWUsIFNhdHVyYXRpb24sIFZhbHVlCiIiIgoKIyBSZWZlcmVuY2VzOgojIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvWUlRCiMgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9ITFNfY29sb3Jfc3BhY2UKIyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTVl9jb2xvcl9zcGFjZQoKX19hbGxfXyA9IFsicmdiX3RvX3lpcSIsInlpcV90b19yZ2IiLCJyZ2JfdG9faGxzIiwiaGxzX3RvX3JnYiIsCiAgICAgICAgICAgInJnYl90b19oc3YiLCJoc3ZfdG9fcmdiIl0KCiMgU29tZSBmbG9hdGluZyBwb2ludCBjb25zdGFudHMKCk9ORV9USElSRCA9IDEuMC8zLjAKT05FX1NJWFRIID0gMS4wLzYuMApUV09fVEhJUkQgPSAyLjAvMy4wCgojIFlJUTogdXNlZCBieSBjb21wb3NpdGUgdmlkZW8gc2lnbmFscyAobGluZWFyIGNvbWJpbmF0aW9ucyBvZiBSR0IpCiMgWTogcGVyY2VpdmVkIGdyZXkgbGV2ZWwgKDAuMCA9PSBibGFjaywgMS4wID09IHdoaXRlKQojIEksIFE6IGNvbG9yIGNvbXBvbmVudHMKCmRlZiByZ2JfdG9feWlxKHIsIGcsIGIpOgogICAgeSA9IDAuMzAqciArIDAuNTkqZyArIDAuMTEqYgogICAgaSA9IDAuNjAqciAtIDAuMjgqZyAtIDAuMzIqYgogICAgcSA9IDAuMjEqciAtIDAuNTIqZyArIDAuMzEqYgogICAgcmV0dXJuICh5LCBpLCBxKQoKZGVmIHlpcV90b19yZ2IoeSwgaSwgcSk6CiAgICByID0geSArIDAuOTQ4MjYyKmkgKyAwLjYyNDAxMypxCiAgICBnID0geSAtIDAuMjc2MDY2KmkgLSAwLjYzOTgxMCpxCiAgICBiID0geSAtIDEuMTA1NDUwKmkgKyAxLjcyOTg2MCpxCiAgICBpZiByIDwgMC4wOgogICAgICAgIHIgPSAwLjAKICAgIGlmIGcgPCAwLjA6CiAgICAgICAgZyA9IDAuMAogICAgaWYgYiA8IDAuMDoKICAgICAgICBiID0gMC4wCiAgICBpZiByID4gMS4wOgogICAgICAgIHIgPSAxLjAKICAgIGlmIGcgPiAxLjA6CiAgICAgICAgZyA9IDEuMAogICAgaWYgYiA+IDEuMDoKICAgICAgICBiID0gMS4wCiAgICByZXR1cm4gKHIsIGcsIGIpCgoKIyBITFM6IEh1ZSwgTHVtaW5hbmNlLCBTYXR1cmF0aW9uCiMgSDogcG9zaXRpb24gaW4gdGhlIHNwZWN0cnVtCiMgTDogY29sb3IgbGlnaHRuZXNzCiMgUzogY29sb3Igc2F0dXJhdGlvbgoKZGVmIHJnYl90b19obHMociwgZywgYik6CiAgICBtYXhjID0gbWF4KHIsIGcsIGIpCiAgICBtaW5jID0gbWluKHIsIGcsIGIpCiAgICAjIFhYWCBDYW4gb3B0aW1pemUgKG1heGMrbWluYykgYW5kIChtYXhjLW1pbmMpCiAgICBsID0gKG1pbmMrbWF4YykvMi4wCiAgICBpZiBtaW5jID09IG1heGM6CiAgICAgICAgcmV0dXJuIDAuMCwgbCwgMC4wCiAgICBpZiBsIDw9IDAuNToKICAgICAgICBzID0gKG1heGMtbWluYykgLyAobWF4YyttaW5jKQogICAgZWxzZToKICAgICAgICBzID0gKG1heGMtbWluYykgLyAoMi4wLW1heGMtbWluYykKICAgIHJjID0gKG1heGMtcikgLyAobWF4Yy1taW5jKQogICAgZ2MgPSAobWF4Yy1nKSAvIChtYXhjLW1pbmMpCiAgICBiYyA9IChtYXhjLWIpIC8gKG1heGMtbWluYykKICAgIGlmIHIgPT0gbWF4YzoKICAgICAgICBoID0gYmMtZ2MKICAgIGVsaWYgZyA9PSBtYXhjOgogICAgICAgIGggPSAyLjArcmMtYmMKICAgIGVsc2U6CiAgICAgICAgaCA9IDQuMCtnYy1yYwogICAgaCA9IChoLzYuMCkgJSAxLjAKICAgIHJldHVybiBoLCBsLCBzCgpkZWYgaGxzX3RvX3JnYihoLCBsLCBzKToKICAgIGlmIHMgPT0gMC4wOgogICAgICAgIHJldHVybiBsLCBsLCBsCiAgICBpZiBsIDw9IDAuNToKICAgICAgICBtMiA9IGwgKiAoMS4wK3MpCiAgICBlbHNlOgogICAgICAgIG0yID0gbCtzLShsKnMpCiAgICBtMSA9IDIuMCpsIC0gbTIKICAgIHJldHVybiAoX3YobTEsIG0yLCBoK09ORV9USElSRCksIF92KG0xLCBtMiwgaCksIF92KG0xLCBtMiwgaC1PTkVfVEhJUkQpKQoKZGVmIF92KG0xLCBtMiwgaHVlKToKICAgIGh1ZSA9IGh1ZSAlIDEuMAogICAgaWYgaHVlIDwgT05FX1NJWFRIOgogICAgICAgIHJldHVybiBtMSArIChtMi1tMSkqaHVlKjYuMAogICAgaWYgaHVlIDwgMC41OgogICAgICAgIHJldHVybiBtMgogICAgaWYgaHVlIDwgVFdPX1RISVJEOgogICAgICAgIHJldHVybiBtMSArIChtMi1tMSkqKFRXT19USElSRC1odWUpKjYuMAogICAgcmV0dXJuIG0xCgoKIyBIU1Y6IEh1ZSwgU2F0dXJhdGlvbiwgVmFsdWUKIyBIOiBwb3NpdGlvbiBpbiB0aGUgc3BlY3RydW0KIyBTOiBjb2xvciBzYXR1cmF0aW9uICgicHVyaXR5IikKIyBWOiBjb2xvciBicmlnaHRuZXNzCgpkZWYgcmdiX3RvX2hzdihyLCBnLCBiKToKICAgIG1heGMgPSBtYXgociwgZywgYikKICAgIG1pbmMgPSBtaW4ociwgZywgYikKICAgIHYgPSBtYXhjCiAgICBpZiBtaW5jID09IG1heGM6CiAgICAgICAgcmV0dXJuIDAuMCwgMC4wLCB2CiAgICBzID0gKG1heGMtbWluYykgLyBtYXhjCiAgICByYyA9IChtYXhjLXIpIC8gKG1heGMtbWluYykKICAgIGdjID0gKG1heGMtZykgLyAobWF4Yy1taW5jKQogICAgYmMgPSAobWF4Yy1iKSAvIChtYXhjLW1pbmMpCiAgICBpZiByID09IG1heGM6CiAgICAgICAgaCA9IGJjLWdjCiAgICBlbGlmIGcgPT0gbWF4YzoKICAgICAgICBoID0gMi4wK3JjLWJjCiAgICBlbHNlOgogICAgICAgIGggPSA0LjArZ2MtcmMKICAgIGggPSAoaC82LjApICUgMS4wCiAgICByZXR1cm4gaCwgcywgdgoKZGVmIGhzdl90b19yZ2IoaCwgcywgdik6CiAgICBpZiBzID09IDAuMDoKICAgICAgICByZXR1cm4gdiwgdiwgdgogICAgaSA9IGludChoKjYuMCkgIyBYWFggYXNzdW1lIGludCgpIHRydW5jYXRlcyEKICAgIGYgPSAoaCo2LjApIC0gaQogICAgcCA9IHYqKDEuMCAtIHMpCiAgICBxID0gdiooMS4wIC0gcypmKQogICAgdCA9IHYqKDEuMCAtIHMqKDEuMC1mKSkKICAgIGkgPSBpJTYKICAgIGlmIGkgPT0gMDoKICAgICAgICByZXR1cm4gdiwgdCwgcAogICAgaWYgaSA9PSAxOgogICAgICAgIHJldHVybiBxLCB2LCBwCiAgICBpZiBpID09IDI6CiAgICAgICAgcmV0dXJuIHAsIHYsIHQKICAgIGlmIGkgPT0gMzoKICAgICAgICByZXR1cm4gcCwgcSwgdgogICAgaWYgaSA9PSA0OgogICAgICAgIHJldHVybiB0LCBwLCB2CiAgICBpZiBpID09IDU6CiAgICAgICAgcmV0dXJuIHYsIHAsIHEKICAgICMgQ2Fubm90IGdldCBoZXJlCg==',
'/Lib/bisect.py':'IiIiQmlzZWN0aW9uIGFsZ29yaXRobXMuIiIiCgpkZWYgaW5zb3J0X3JpZ2h0KGEsIHgsIGxvPTAsIGhpPU5vbmUpOgogICAgIiIiSW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFuZCBrZWVwIGl0IHNvcnRlZCBhc3N1bWluZyBhIGlzIHNvcnRlZC4KCiAgICBJZiB4IGlzIGFscmVhZHkgaW4gYSwgaW5zZXJ0IGl0IHRvIHRoZSByaWdodCBvZiB0aGUgcmlnaHRtb3N0IHguCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgeCA8IGFbbWlkXTogaGkgPSBtaWQKICAgICAgICBlbHNlOiBsbyA9IG1pZCsxCiAgICBhLmluc2VydChsbywgeCkKCmluc29ydCA9IGluc29ydF9yaWdodCAgICMgYmFja3dhcmQgY29tcGF0aWJpbGl0eQoKZGVmIGJpc2VjdF9yaWdodChhLCB4LCBsbz0wLCBoaT1Ob25lKToKICAgICIiIlJldHVybiB0aGUgaW5kZXggd2hlcmUgdG8gaW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFzc3VtaW5nIGEgaXMgc29ydGVkLgoKICAgIFRoZSByZXR1cm4gdmFsdWUgaSBpcyBzdWNoIHRoYXQgYWxsIGUgaW4gYVs6aV0gaGF2ZSBlIDw9IHgsIGFuZCBhbGwgZSBpbgogICAgYVtpOl0gaGF2ZSBlID4geC4gIFNvIGlmIHggYWxyZWFkeSBhcHBlYXJzIGluIHRoZSBsaXN0LCBhLmluc2VydCh4KSB3aWxsCiAgICBpbnNlcnQganVzdCBhZnRlciB0aGUgcmlnaHRtb3N0IHggYWxyZWFkeSB0aGVyZS4KCiAgICBPcHRpb25hbCBhcmdzIGxvIChkZWZhdWx0IDApIGFuZCBoaSAoZGVmYXVsdCBsZW4oYSkpIGJvdW5kIHRoZQogICAgc2xpY2Ugb2YgYSB0byBiZSBzZWFyY2hlZC4KICAgICIiIgoKICAgIGlmIGxvIDwgMDoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdsbyBtdXN0IGJlIG5vbi1uZWdhdGl2ZScpCiAgICBpZiBoaSBpcyBOb25lOgogICAgICAgIGhpID0gbGVuKGEpCiAgICB3aGlsZSBsbyA8IGhpOgogICAgICAgIG1pZCA9IChsbytoaSkvLzIKICAgICAgICBpZiB4IDwgYVttaWRdOiBoaSA9IG1pZAogICAgICAgIGVsc2U6IGxvID0gbWlkKzEKICAgIHJldHVybiBsbwoKYmlzZWN0ID0gYmlzZWN0X3JpZ2h0ICAgIyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5CgpkZWYgaW5zb3J0X2xlZnQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6CiAgICAiIiJJbnNlcnQgaXRlbSB4IGluIGxpc3QgYSwgYW5kIGtlZXAgaXQgc29ydGVkIGFzc3VtaW5nIGEgaXMgc29ydGVkLgoKICAgIElmIHggaXMgYWxyZWFkeSBpbiBhLCBpbnNlcnQgaXQgdG8gdGhlIGxlZnQgb2YgdGhlIGxlZnRtb3N0IHguCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgYVttaWRdIDwgeDogbG8gPSBtaWQrMQogICAgICAgIGVsc2U6IGhpID0gbWlkCiAgICBhLmluc2VydChsbywgeCkKCgpkZWYgYmlzZWN0X2xlZnQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6CiAgICAiIiJSZXR1cm4gdGhlIGluZGV4IHdoZXJlIHRvIGluc2VydCBpdGVtIHggaW4gbGlzdCBhLCBhc3N1bWluZyBhIGlzIHNvcnRlZC4KCiAgICBUaGUgcmV0dXJuIHZhbHVlIGkgaXMgc3VjaCB0aGF0IGFsbCBlIGluIGFbOmldIGhhdmUgZSA8IHgsIGFuZCBhbGwgZSBpbgogICAgYVtpOl0gaGF2ZSBlID49IHguICBTbyBpZiB4IGFscmVhZHkgYXBwZWFycyBpbiB0aGUgbGlzdCwgYS5pbnNlcnQoeCkgd2lsbAogICAgaW5zZXJ0IGp1c3QgYmVmb3JlIHRoZSBsZWZ0bW9zdCB4IGFscmVhZHkgdGhlcmUuCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgYVttaWRdIDwgeDogbG8gPSBtaWQrMQogICAgICAgIGVsc2U6IGhpID0gbWlkCiAgICByZXR1cm4gbG8KCiMgZG9udCcgbmVlZCB0aGlzIGZvciBicnl0aG9uCiMgT3ZlcndyaXRlIGFib3ZlIGRlZmluaXRpb25zIHdpdGggYSBmYXN0IEMgaW1wbGVtZW50YXRpb24KI3RyeToKIyAgICBmcm9tIF9iaXNlY3QgaW1wb3J0ICoKI2V4Y2VwdCBJbXBvcnRFcnJvcjoKIyAgICBwYXNzCg==',
'/Lib/_random.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbIl9yYW5kb20ucHkiXS5fX2RpY3RfXzskbW9kcz0kaW1wb3J0X2xpc3QoW1siX29zIiwiX29zIl1dKTtfb3M9JG1vZHNbMF07O05vbmU7dmFyICRSYW5kb209KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7IlJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGJhc2UgY2xhc3MgdXNlZCBieSBib3VuZCBtb2R1bGUgZnVuY3Rpb25zLlxuXG4gICAgVXNlZCB0byBpbnN0YW50aWF0ZSBpbnN0YW5jZXMgb2YgUmFuZG9tIHRvIGdldCBnZW5lcmF0b3JzIHRoYXQgZG9uJ3RcbiAgICBzaGFyZSBzdGF0ZS5cblxuICAgIENsYXNzIFJhbmRvbSBjYW4gYWxzbyBiZSBzdWJjbGFzc2VkIGlmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBiYXNpY1xuICAgIGdlbmVyYXRvciBvZiB5b3VyIG93biBkZXZpc2luZzogaW4gdGhhdCBjYXNlLCBvdmVycmlkZSB0aGUgZm9sbG93aW5nXG4gICAgbWV0aG9kczogIHJhbmRvbSgpLCBzZWVkKCksIGdldHN0YXRlKCksIGFuZCBzZXRzdGF0ZSgpLlxuICAgIE9wdGlvbmFsbHksIGltcGxlbWVudCBhIGdldHJhbmRiaXRzKCkgbWV0aG9kIHNvIHRoYXQgcmFuZHJhbmdlKClcbiAgICBjYW4gY292ZXIgYXJiaXRyYXJpbHkgbGFyZ2UgcmFuZ2VzLlxuXG4gICAgIjskY2xhc3MuVkVSU0lPTj1OdW1iZXIoMyk7JGNsYXNzLl9faW5pdF9fPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faW5pdF9fIixhcmd1bWVudHMsWyJzZWxmIl0seyJ4IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5uaGZpZjRjMC5fX2RpY3RfXz0kbnM7IkluaXRpYWxpemUgYW4gaW5zdGFuY2UuXG5cbiAgICAgICAgT3B0aW9uYWwgYXJndW1lbnQgeCBjb250cm9scyBzZWVkaW5nLCBhcyBmb3IgUmFuZG9tLnNlZWQoKS5cbiAgICAgICAgIjtzZWxmLl9fc2V0YXR0cl9fKCJfc3RhdGUiLHgpO31jYXRjaChlcnI0NSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQ1KTt9fTt9KShOb25lKTskY2xhc3MuX19pbml0X18uX19uYW1lX189Il9faW5pdF9fIjskY2xhc3Muc2VlZD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzZWVkIixhcmd1bWVudHMsWyJzZWxmIl0seyJhIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksInZlcnNpb24iOk51bWJlcigyKX0sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmU5d243NW1sLl9fZGljdF9fPSRuczsiSW5pdGlhbGl6ZSBpbnRlcm5hbCBzdGF0ZSBmcm9tIGhhc2hhYmxlIG9iamVjdC5cblxuICAgICAgICBOb25lIG9yIG5vIGFyZ3VtZW50IHNlZWRzIGZyb20gY3VycmVudCB0aW1lIG9yIGZyb20gYW4gb3BlcmF0aW5nXG4gICAgICAgIHN5c3RlbSBzcGVjaWZpYyByYW5kb21uZXNzIHNvdXJjZSBpZiBhdmFpbGFibGUuXG5cbiAgICAgICAgRm9yIHZlcnNpb24gMiAodGhlIGRlZmF1bHQpLCBhbGwgb2YgdGhlIGJpdHMgYXJlIHVzZWQgaWYgKmEqIGlzIGEgc3RyLFxuICAgICAgICBieXRlcywgb3IgYnl0ZWFycmF5LiAgRm9yIHZlcnNpb24gMSwgdGhlIGhhc2goKSBvZiAqYSogaXMgdXNlZCBpbnN0ZWFkLlxuXG4gICAgICAgIElmICphKiBpcyBhbiBpbnQsIGFsbCBiaXRzIGFyZSB1c2VkLlxuXG4gICAgICAgICI7c2VsZi5fX3NldGF0dHJfXygiX3N0YXRlIixhKTtzZWxmLl9fc2V0YXR0cl9fKCJnYXVzc19uZXh0IixOb25lKTt9Y2F0Y2goZXJyNDUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0NSk7fX07fSkoTm9uZSk7JGNsYXNzLnNlZWQuX19uYW1lX189InNlZWQiOyRjbGFzcy5nZXRzdGF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdldHN0YXRlIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmw1ejdhZDI4Ll9fZGljdF9fPSRuczsiUmV0dXJuIGludGVybmFsIHN0YXRlOyBjYW4gYmUgcGFzc2VkIHRvIHNldHN0YXRlKCkgbGF0ZXIuIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiX3N0YXRlIik7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7JGNsYXNzLmdldHN0YXRlLl9fbmFtZV9fPSJnZXRzdGF0ZSI7JGNsYXNzLnNldHN0YXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2V0c3RhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJzdGF0ZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5veXlsYThmaC5fX2RpY3RfXz0kbnM7IlJlc3RvcmUgaW50ZXJuYWwgc3RhdGUgZnJvbSBvYmplY3QgcmV0dXJuZWQgYnkgZ2V0c3RhdGUoKS4iO3NlbGYuX19zZXRhdHRyX18oIl9zdGF0ZSIsc3RhdGUpO31jYXRjaChlcnI0NSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQ1KTt9fTt9KSgpOyRjbGFzcy5zZXRzdGF0ZS5fX25hbWVfXz0ic2V0c3RhdGUiOyRjbGFzcy5yYW5kb209KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyYW5kb20iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubzZyZjY0bWguX19kaWN0X189JG5zOyJHZXQgdGhlIG5leHQgcmFuZG9tIG51bWJlciBpbiB0aGUgcmFuZ2UgWzAuMCwgMS4wKS4iO3JldHVybiBfb3MuX19nZXRhdHRyX18oInJhbmRvbSIpLl9fY2FsbF9fKCk7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7JGNsYXNzLnJhbmRvbS5fX25hbWVfXz0icmFuZG9tIjskY2xhc3MuZ2V0cmFuZGJpdHM9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJnZXRyYW5kYml0cyIsYXJndW1lbnRzLFsic2VsZiIsImsiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjhrY2xrOGxpIl0uX19kaWN0X189JG5zOyJnZXRyYW5kYml0cyhrKSAtPiB4LiAgR2VuZXJhdGVzIGEgbG9uZyBpbnQgd2l0aCBrIHJhbmRvbSBiaXRzLiI7aWYoYm9vbChrLl9fbGVfXyhOdW1iZXIoMCkpKSl0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCdudW1iZXIgb2YgYml0cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvJyk7aWYoYm9vbChrLl9fbmVfXyhpbnQuX19jYWxsX18oaykpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oJ251bWJlciBvZiBiaXRzIHNob3VsZCBiZSBhbiBpbnRlZ2VyJyk7dmFyIG51bWJ5dGVzPSRsb2NhbHMubnVtYnl0ZXM9ay5fX2FkZF9fKE51bWJlcig3KSkuX19mbG9vcmRpdl9fKE51bWJlcig4KSk7dmFyIHg9JGxvY2Fscy54PWludC5fX2dldGF0dHJfXygiZnJvbV9ieXRlcyIpLl9fY2FsbF9fKF91cmFuZG9tLl9fY2FsbF9fKG51bWJ5dGVzKSwnYmlnJyk7cmV0dXJuIHguX19yc2hpZnRfXyhudW1ieXRlcy5fX211bF9fKE51bWJlcig4KSkuX19zdWJfXyhrKSk7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKCk7JGNsYXNzLmdldHJhbmRiaXRzLl9fbmFtZV9fPSJnZXRyYW5kYml0cyI7cmV0dXJuICRjbGFzczt9KSgpO3ZhciBSYW5kb209JGNsYXNzX2NvbnN0cnVjdG9yKCJSYW5kb20iLCRSYW5kb20pO19fQlJZVEhPTl9fLnNjb3BlWyJfcmFuZG9tLnB5Il0uX19kaWN0X18uUmFuZG9tPVJhbmRvbTtyZXR1cm57UmFuZG9tOlJhbmRvbSxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/pyindexedDB.py':'Y2xhc3MgRXZlbnRMaXN0ZW5lcjoKICBkZWYgX19pbml0X18oc2VsZiwgZXZlbnRzPVtdKToKICAgICAgc2VsZi5fZXZlbnRzPWV2ZW50cwoKICBkZWYgYXBwZW5kKHNlbGYsIGV2ZW50KToKICAgICAgc2VsZi5fZXZlbnRzLmFwcGVuZChldmVudCkKCiAgZGVmIGZpcmUoc2VsZiwgZSk6CiAgICAgIGZvciBfZXZlbnQgaW4gc2VsZi5fZXZlbnRzOgogICAgICAgICAgX2V2ZW50KGUpCgpjbGFzcyBweWluZGV4ZWREQjoKICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgIGlmIG5vdCBfX0JSWVRIT05fXy5oYXNfaW5kZXhlZERCOgogICAgICAgICByYWlzZSBFeGNlcHRpb24oIk5vdEltcGxlbWVudGVkRXJyb3IiLCAiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBpbmRleGVkREIiKQogICAgICAgICByZXR1cm4KCiAgICAgIHNlbGYuX2luZGV4ZWREQj1fX0JSWVRIT05fXy5pbmRleGVkREIoKQogICAgICBzZWxmLl9kYj1Ob25lCiAgICAgIHNlbGYuX3ZlcnNpb249Tm9uZQoKICBkZWYgX29uc3VjY2VzcyhzZWxmLCBldmVudCk6CiAgICAgIHNlbGYuX2RiPWV2ZW50LnRhcmdldC5yZXN1bHQKCiAgZGVmIG9wZW4oc2VsZiwgbmFtZSwgb25zdWNjZXNzLCB2ZXJzaW9uPTEuMCwgb25lcnJvcj1Ob25lLCAKICAgICAgICAgICBvbnVwZ3JhZGVuZWVkZWQ9Tm9uZSk6CiAgICAgIHNlbGYuX3ZlcnNpb249dmVyc2lvbgogICAgICBfcmVzdWx0PXNlbGYuX2luZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pCiAgICAgIF9zdWNjZXNzPUV2ZW50TGlzdGVuZXIoW3NlbGYuX29uc3VjY2Vzcywgb25zdWNjZXNzXSkKICAgICAgX3Jlc3VsdC5vbnN1Y2Nlc3M9X3N1Y2Nlc3MuZmlyZQogICAgICBfcmVzdWx0Lm9udXBncmFkZW5lZWRlZD1vbnVwZ3JhZGVuZWVkZWQKCiAgICAgICNpZiBvbmVycm9yIGlzIE5vbmU6CiAgICAgIGRlZiBvbmVycm9yKGUpOgogICAgICAgICAgcHJpbnQoIm9uZXJyb3I6ICVzOiVzIiAlICAoZS50eXBlLCBlLnRhcmdldC5yZXN1bHQpKQoKICAgICAgZGVmIG9uYmxvY2tlZChlKToKICAgICAgICAgIHByaW50KCJibG9ja2VkOiAlczolcyIgJSAgKGUudHlwZSwgZS5yZXN1bHQpKQoKICAgICAgX3Jlc3VsdC5vbmVycm9yPW9uZXJyb3IKICAgICAgX3Jlc3VsdC5vbmJsb2NrZWQ9b25ibG9ja2VkCgogIGRlZiB0cmFuc2FjdGlvbihzZWxmLCBlbnRpdGllcywgbW9kZT0ncmVhZCcpOgogICAgICByZXR1cm4gVHJhbnNhY3Rpb24oc2VsZi5fZGIudHJhbnNhY3Rpb24oZW50aXRpZXMsIG1vZGUpKQoKY2xhc3MgVHJhbnNhY3Rpb246CiAgZGVmIF9faW5pdF9fKHNlbGYsIHRyYW5zYWN0aW9uKToKICAgICAgc2VsZi5fdHJhbnNhY3Rpb249dHJhbnNhY3Rpb24KCiAgZGVmIG9iamVjdFN0b3JlKHNlbGYsIG5hbWUpOgogICAgICByZXR1cm4gT2JqZWN0U3RvcmUoc2VsZi5fdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUobmFtZSkpCgpjbGFzcyBPYmplY3RTdG9yZToKICBkZWYgX19pbml0X18oc2VsZiwgb2JqZWN0U3RvcmUpOgogICAgICBzZWxmLl9vYmplY3RTdG9yZT1vYmplY3RTdG9yZQogICAgICBzZWxmLl9kYXRhPVtdCgogIGRlZiBjbGVhcihzZWxmLCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKToKICAgICAgX3Jlc3VsdD1zZWxmLl9vYmplY3RTdG9yZS5jbGVhcigpCgogICAgICBpZiBvbnN1Y2Nlc3MgaXMgbm90IE5vbmU6CiAgICAgICAgIF9yZXN1bHQub25zdWNjZXNzPW9uc3VjY2VzcwoKICAgICAgaWYgb25lcnJvciBpcyBub3QgTm9uZToKICAgICAgICAgX3Jlc3VsdC5vbmVycm9yPW9uZXJyb3IKCiAgZGVmIF9oZWxwZXIoc2VsZiwgZnVuYywgb2JqZWN0LCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKToKICAgICAgX3Jlc3VsdD1mdW5jKG9iamVjdCkKCiAgICAgIGlmIG9uc3VjY2VzcyBpcyBub3QgTm9uZToKICAgICAgICAgX3Jlc3VsdC5vbnN1Y2Nlc3M9b25zdWNjZXNzCgogICAgICBpZiBvbmVycm9yIGlzIG5vdCBOb25lOgogICAgICAgICBfcmVzdWx0Lm9uZXJyb3I9b25lcnJvcgoKICBkZWYgcHV0KHNlbGYsIG9iamVjdCwga2V5PU5vbmUsIG9uc3VjY2Vzcz1Ob25lLCBvbmVycm9yPU5vbmUpOgogICAgICBfcj1zZWxmLl9vYmplY3RTdG9yZS5wdXQob2JqZWN0LCBrZXkpCiAgICAgIF9yLm9uc3VjY2Vzcz1vbnN1Y2Nlc3MKICAgICAgX3Iub25lcnJvcj1vbmVycm9yCgogIGRlZiBhZGQoc2VsZiwgb2JqZWN0LCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKToKICAgICAgc2VsZi5faGVscGVyKHNlbGYuX29iamVjdFN0b3JlLmFkZCwgb2JqZWN0LCBvbnN1Y2Nlc3MsIG9uZXJyb3IpCgogIGRlZiBkZWxldGUoc2VsZiwgaW5kZXgsIG9uc3VjY2Vzcz1Ob25lLCBvbmVycm9yPU5vbmUpOiAKICAgICAgc2VsZi5faGVscGVyKHNlbGYuX29iamVjdFN0b3JlLmRlbGV0ZSwgaW5kZXgsIG9uc3VjY2Vzcywgb25lcnJvcikKICAgICAKICBkZWYgcXVlcnkoc2VsZiwgKmFyZ3MpOgogICAgICBzZWxmLl9kYXRhPVtdCiAgICAgIGRlZiBvbnN1Y2Nlc3MoZXZlbnQpOgogICAgICAgICAgY3Vyc29yPWV2ZW50LnRhcmdldC5yZXN1bHQKICAgICAgICAgIGlmIGN1cnNvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgIHNlbGYuX2RhdGEuYXBwZW5kKGN1cnNvci52YWx1ZSkKICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpCgogICAgICBzZWxmLl9vYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGFyZ3MpLm9uc3VjY2Vzcz1vbnN1Y2Nlc3MKCiAgZGVmIGZldGNoYWxsKHNlbGYpOgogICAgICB5aWVsZCBzZWxmLl9kYXRhCgogIGRlZiBnZXQoc2VsZiwga2V5LCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKToKICAgICAgc2VsZi5faGVscGVyKHNlbGYuX29iamVjdFN0b3JlLmdldCwga2V5LCBvbnN1Y2Nlc3MsIG9uZXJyb3IpCg==',
'/Lib/linecache.py':'IiIiQ2FjaGUgbGluZXMgZnJvbSBmaWxlcy4KClRoaXMgaXMgaW50ZW5kZWQgdG8gcmVhZCBsaW5lcyBmcm9tIG1vZHVsZXMgaW1wb3J0ZWQgLS0gaGVuY2UgaWYgYSBmaWxlbmFtZQppcyBub3QgZm91bmQsIGl0IHdpbGwgbG9vayBkb3duIHRoZSBtb2R1bGUgc2VhcmNoIHBhdGggZm9yIGEgZmlsZSBieQp0aGF0IG5hbWUuCiIiIgoKaW1wb3J0IHN5cwppbXBvcnQgb3MKI2ZpeG1lIGJyeXRob24KI2ltcG9ydCB0b2tlbml6ZQoKX19hbGxfXyA9IFsiZ2V0bGluZSIsICJjbGVhcmNhY2hlIiwgImNoZWNrY2FjaGUiXQoKZGVmIGdldGxpbmUoZmlsZW5hbWUsIGxpbmVubywgbW9kdWxlX2dsb2JhbHM9Tm9uZSk6CiAgICBsaW5lcyA9IGdldGxpbmVzKGZpbGVuYW1lLCBtb2R1bGVfZ2xvYmFscykKICAgIGlmIDEgPD0gbGluZW5vIDw9IGxlbihsaW5lcyk6CiAgICAgICAgcmV0dXJuIGxpbmVzW2xpbmVuby0xXQogICAgZWxzZToKICAgICAgICByZXR1cm4gJycKCgojIFRoZSBjYWNoZQoKY2FjaGUgPSB7fSAjIFRoZSBjYWNoZQoKCmRlZiBjbGVhcmNhY2hlKCk6CiAgICAiIiJDbGVhciB0aGUgY2FjaGUgZW50aXJlbHkuIiIiCgogICAgZ2xvYmFsIGNhY2hlCiAgICBjYWNoZSA9IHt9CgoKZGVmIGdldGxpbmVzKGZpbGVuYW1lLCBtb2R1bGVfZ2xvYmFscz1Ob25lKToKICAgICIiIkdldCB0aGUgbGluZXMgZm9yIGEgZmlsZSBmcm9tIHRoZSBjYWNoZS4KICAgIFVwZGF0ZSB0aGUgY2FjaGUgaWYgaXQgZG9lc24ndCBjb250YWluIGFuIGVudHJ5IGZvciB0aGlzIGZpbGUgYWxyZWFkeS4iIiIKCiAgICBpZiBmaWxlbmFtZSBpbiBjYWNoZToKICAgICAgICByZXR1cm4gY2FjaGVbZmlsZW5hbWVdWzJdCiAgICBlbHNlOgogICAgICAgIHJldHVybiB1cGRhdGVjYWNoZShmaWxlbmFtZSwgbW9kdWxlX2dsb2JhbHMpCgoKZGVmIGNoZWNrY2FjaGUoZmlsZW5hbWU9Tm9uZSk6CiAgICAiIiJEaXNjYXJkIGNhY2hlIGVudHJpZXMgdGhhdCBhcmUgb3V0IG9mIGRhdGUuCiAgICAoVGhpcyBpcyBub3QgY2hlY2tlZCB1cG9uIGVhY2ggY2FsbCEpIiIiCgogICAgaWYgZmlsZW5hbWUgaXMgTm9uZToKICAgICAgICBmaWxlbmFtZXMgPSBsaXN0KGNhY2hlLmtleXMoKSkKICAgIGVsc2U6CiAgICAgICAgaWYgZmlsZW5hbWUgaW4gY2FjaGU6CiAgICAgICAgICAgIGZpbGVuYW1lcyA9IFtmaWxlbmFtZV0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4KCiAgICBmb3IgZmlsZW5hbWUgaW4gZmlsZW5hbWVzOgogICAgICAgIHNpemUsIG10aW1lLCBsaW5lcywgZnVsbG5hbWUgPSBjYWNoZVtmaWxlbmFtZV0KICAgICAgICBpZiBtdGltZSBpcyBOb25lOgogICAgICAgICAgICBjb250aW51ZSAgICMgbm8tb3AgZm9yIGZpbGVzIGxvYWRlZCB2aWEgYSBfX2xvYWRlcl9fCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICNleGNlcHQgb3MuZXJyb3I6CiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkZWwgY2FjaGVbZmlsZW5hbWVdCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgaWYgc2l6ZSAhPSBzdGF0LnN0X3NpemUgb3IgbXRpbWUgIT0gc3RhdC5zdF9tdGltZToKICAgICAgICAgICAgZGVsIGNhY2hlW2ZpbGVuYW1lXQoKCmRlZiB1cGRhdGVjYWNoZShmaWxlbmFtZSwgbW9kdWxlX2dsb2JhbHM9Tm9uZSk6CiAgICAiIiJVcGRhdGUgYSBjYWNoZSBlbnRyeSBhbmQgcmV0dXJuIGl0cyBsaXN0IG9mIGxpbmVzLgogICAgSWYgc29tZXRoaW5nJ3Mgd3JvbmcsIHByaW50IGEgbWVzc2FnZSwgZGlzY2FyZCB0aGUgY2FjaGUgZW50cnksCiAgICBhbmQgcmV0dXJuIGFuIGVtcHR5IGxpc3QuIiIiCgogICAgaWYgZmlsZW5hbWUgaW4gY2FjaGU6CiAgICAgICAgZGVsIGNhY2hlW2ZpbGVuYW1lXQogICAgaWYgbm90IGZpbGVuYW1lIG9yIChmaWxlbmFtZS5zdGFydHN3aXRoKCc8JykgYW5kIGZpbGVuYW1lLmVuZHN3aXRoKCc+JykpOgogICAgICAgIHJldHVybiBbXQoKICAgIGZ1bGxuYW1lID0gZmlsZW5hbWUKICAgIHRyeToKICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgIGJhc2VuYW1lID0gZmlsZW5hbWUKCiAgICAgICAgIyBUcnkgZm9yIGEgX19sb2FkZXJfXywgaWYgYXZhaWxhYmxlCiAgICAgICAgaWYgbW9kdWxlX2dsb2JhbHMgYW5kICdfX2xvYWRlcl9fJyBpbiBtb2R1bGVfZ2xvYmFsczoKICAgICAgICAgICAgbmFtZSA9IG1vZHVsZV9nbG9iYWxzLmdldCgnX19uYW1lX18nKQogICAgICAgICAgICBsb2FkZXIgPSBtb2R1bGVfZ2xvYmFsc1snX19sb2FkZXJfXyddCiAgICAgICAgICAgIGdldF9zb3VyY2UgPSBnZXRhdHRyKGxvYWRlciwgJ2dldF9zb3VyY2UnLCBOb25lKQoKICAgICAgICAgICAgaWYgbmFtZSBhbmQgZ2V0X3NvdXJjZToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBkYXRhID0gZ2V0X3NvdXJjZShuYW1lKQogICAgICAgICAgICAgICAgZXhjZXB0IChJbXBvcnRFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiBkYXRhIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICMgTm8gbHVjaywgdGhlIFBFUDMwMiBsb2FkZXIgY2Fubm90IGZpbmQgdGhlIHNvdXJjZQogICAgICAgICAgICAgICAgICAgICAgICAjIGZvciB0aGlzIG1vZHVsZS4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdCiAgICAgICAgICAgICAgICAgICAgY2FjaGVbZmlsZW5hbWVdID0gKAogICAgICAgICAgICAgICAgICAgICAgICBsZW4oZGF0YSksIE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgIFtsaW5lKydcbicgZm9yIGxpbmUgaW4gZGF0YS5zcGxpdGxpbmVzKCldLCBmdWxsbmFtZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVbZmlsZW5hbWVdWzJdCgogICAgICAgICMgVHJ5IGxvb2tpbmcgdGhyb3VnaCB0aGUgbW9kdWxlIHNlYXJjaCBwYXRoLCB3aGljaCBpcyBvbmx5IHVzZWZ1bAogICAgICAgICMgd2hlbiBoYW5kbGluZyBhIHJlbGF0aXZlIGZpbGVuYW1lLgogICAgICAgIGlmIG9zLnBhdGguaXNhYnMoZmlsZW5hbWUpOgogICAgICAgICAgICByZXR1cm4gW10KCiAgICAgICAgIyBUYWtlIGNhcmUgdG8gaGFuZGxlIHBhY2thZ2VzLgogICAgICAgIGlmIGJhc2VuYW1lID09ICdfX2luaXRfXy5weSc6CiAgICAgICAgICAgICMgZmlsZW5hbWUgcmVmZXJlcyB0byBhIHBhY2thZ2UKICAgICAgICAgICAgYmFzZW5hbWUgPSBmaWxlbmFtZQoKICAgICAgICBmb3IgZGlybmFtZSBpbiBzeXMucGF0aDoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZnVsbG5hbWUgPSBvcy5wYXRoLmpvaW4oZGlybmFtZSwgYmFzZW5hbWUpCiAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBBdHRyaWJ1dGVFcnJvcik6CiAgICAgICAgICAgICAgICAjIE5vdCBzdWZmaWNpZW50bHkgc3RyaW5nLWxpa2UgdG8gZG8gYW55dGhpbmcgdXNlZnVsIHdpdGguCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICNmaXhtZSBicnl0aG9uLCBpbnZhbGlkIHN5bnRheCAKICAgICAgICAgICAgI2V4Y2VwdCBvcy5lcnJvcjoKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICNmaXhtZSBicnl0aG9uIHVuZXhwZWN0ZWQgdG9rZW4gZWxzZQogICAgICAgICNlbHNlOgogICAgICAgICMgICAgcmV0dXJuIFtdCiAgICB0cnk6CiAgICAgICAgZnA9b3BlbihmdWxsbmFtZSkKICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICN3aXRoIHRva2VuaXplLm9wZW4oZnVsbG5hbWUpIGFzIGZwOgogICAgICAgIGxpbmVzID0gZnAucmVhZGxpbmVzKCkKICAgICAgICBmcC5jbG9zZSgpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICByZXR1cm4gW10KICAgIGlmIGxpbmVzIGFuZCBub3QgbGluZXNbLTFdLmVuZHN3aXRoKCdcbicpOgogICAgICAgIGxpbmVzWy0xXSArPSAnXG4nCiAgICBzaXplLCBtdGltZSA9IHN0YXQuc3Rfc2l6ZSwgc3RhdC5zdF9tdGltZQogICAgY2FjaGVbZmlsZW5hbWVdID0gc2l6ZSwgbXRpbWUsIGxpbmVzLCBmdWxsbmFtZQogICAgcmV0dXJuIGxpbmVzCg==',
'/Lib/_abcoll.py':'IyBDb3B5cmlnaHQgMjAwNyBHb29nbGUsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KIyBMaWNlbnNlZCB0byBQU0YgdW5kZXIgYSBDb250cmlidXRvciBBZ3JlZW1lbnQuCgoiIiJBYnN0cmFjdCBCYXNlIENsYXNzZXMgKEFCQ3MpIGZvciBjb2xsZWN0aW9ucywgYWNjb3JkaW5nIHRvIFBFUCAzMTE5LgoKRE9OJ1QgVVNFIFRISVMgTU9EVUxFIERJUkVDVExZISAgVGhlIGNsYXNzZXMgaGVyZSBzaG91bGQgYmUgaW1wb3J0ZWQKdmlhIGNvbGxlY3Rpb25zOyB0aGV5IGFyZSBkZWZpbmVkIGhlcmUgb25seSB0byBhbGxldmlhdGUgY2VydGFpbgpib290c3RyYXBwaW5nIGlzc3Vlcy4gIFVuaXQgdGVzdHMgYXJlIGluIHRlc3RfY29sbGVjdGlvbnMuCiIiIgoKI2Zyb20gYWJjIGltcG9ydCBBQkNNZXRhLCBhYnN0cmFjdG1ldGhvZAppbXBvcnQgc3lzCgpfX2FsbF9fID0gWyJIYXNoYWJsZSIsICJJdGVyYWJsZSIsICJJdGVyYXRvciIsCiAgICAgICAgICAgIlNpemVkIiwgIkNvbnRhaW5lciIsICJDYWxsYWJsZSIsCiAgICAgICAgICAgIlNldCIsICJNdXRhYmxlU2V0IiwKICAgICAgICAgICAiTWFwcGluZyIsICJNdXRhYmxlTWFwcGluZyIsCiAgICAgICAgICAgIk1hcHBpbmdWaWV3IiwgIktleXNWaWV3IiwgIkl0ZW1zVmlldyIsICJWYWx1ZXNWaWV3IiwKICAgICAgICAgICAiU2VxdWVuY2UiLCAiTXV0YWJsZVNlcXVlbmNlIiwKICAgICAgICAgICAiQnl0ZVN0cmluZyIsCiAgICAgICAgICAgXQoKIiIiCiMjIyBjb2xsZWN0aW9uIHJlbGF0ZWQgdHlwZXMgd2hpY2ggYXJlIG5vdCBleHBvc2VkIHRocm91Z2ggYnVpbHRpbiAjIyMKIyMgaXRlcmF0b3JzICMjCiNmaXhtZSBicnl0aG9uCiNieXRlc19pdGVyYXRvciA9IHR5cGUoaXRlcihiJycpKQpieXRlc19pdGVyYXRvciA9IHR5cGUoaXRlcignJykpCiNmaXhtZSBicnl0aG9uCiNieXRlYXJyYXlfaXRlcmF0b3IgPSB0eXBlKGl0ZXIoYnl0ZWFycmF5KCkpKQojY2FsbGFibGVfaXRlcmF0b3IgPSA/Pz8KZGljdF9rZXlpdGVyYXRvciA9IHR5cGUoaXRlcih7fS5rZXlzKCkpKQpkaWN0X3ZhbHVlaXRlcmF0b3IgPSB0eXBlKGl0ZXIoe30udmFsdWVzKCkpKQpkaWN0X2l0ZW1pdGVyYXRvciA9IHR5cGUoaXRlcih7fS5pdGVtcygpKSkKbGlzdF9pdGVyYXRvciA9IHR5cGUoaXRlcihbXSkpCmxpc3RfcmV2ZXJzZWl0ZXJhdG9yID0gdHlwZShpdGVyKHJldmVyc2VkKFtdKSkpCnJhbmdlX2l0ZXJhdG9yID0gdHlwZShpdGVyKHJhbmdlKDApKSkKc2V0X2l0ZXJhdG9yID0gdHlwZShpdGVyKHNldCgpKSkKc3RyX2l0ZXJhdG9yID0gdHlwZShpdGVyKCIiKSkKdHVwbGVfaXRlcmF0b3IgPSB0eXBlKGl0ZXIoKCkpKQp6aXBfaXRlcmF0b3IgPSB0eXBlKGl0ZXIoemlwKCkpKQojIyB2aWV3cyAjIwpkaWN0X2tleXMgPSB0eXBlKHt9LmtleXMoKSkKZGljdF92YWx1ZXMgPSB0eXBlKHt9LnZhbHVlcygpKQpkaWN0X2l0ZW1zID0gdHlwZSh7fS5pdGVtcygpKQojIyBtaXNjICMjCmRpY3RfcHJveHkgPSB0eXBlKHR5cGUuX19kaWN0X18pCiIiIgoKZGVmIGFic3RyYWN0bWV0aG9kKHNlbGYpOgogICAgcmV0dXJuIHNlbGYKCiMjIyBPTkUtVFJJQ0sgUE9OSUVTICMjIwoKCiNjbGFzcyBJdGVyYWJsZShtZXRhY2xhc3M9QUJDTWV0YSk6CmNsYXNzIEl0ZXJhYmxlOgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHdoaWxlIEZhbHNlOgogICAgICAgICAgICB5aWVsZCBOb25lCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX19zdWJjbGFzc2hvb2tfXyhjbHMsIEMpOgogICAgICAgIGlmIGNscyBpcyBJdGVyYWJsZToKICAgICAgICAgICAgaWYgYW55KCJfX2l0ZXJfXyIgaW4gQi5fX2RpY3RfXyBmb3IgQiBpbiBDLl9fbXJvX18pOgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCgojY2xhc3MgU2l6ZWQobWV0YWNsYXNzPUFCQ01ldGEpOgpjbGFzcyBTaXplZDoKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiAwCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX19zdWJjbGFzc2hvb2tfXyhjbHMsIEMpOgogICAgICAgIGlmIGNscyBpcyBTaXplZDoKICAgICAgICAgICAgaWYgYW55KCJfX2xlbl9fIiBpbiBCLl9fZGljdF9fIGZvciBCIGluIEMuX19tcm9fXyk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKCiNjbGFzcyBDb250YWluZXIobWV0YWNsYXNzPUFCQ01ldGEpOgpjbGFzcyBDb250YWluZXI6CgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19jb250YWluc19fKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9fc3ViY2xhc3Nob29rX18oY2xzLCBDKToKICAgICAgICBpZiBjbHMgaXMgQ29udGFpbmVyOgogICAgICAgICAgICBpZiBhbnkoIl9fY29udGFpbnNfXyIgaW4gQi5fX2RpY3RfXyBmb3IgQiBpbiBDLl9fbXJvX18pOgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiMjIyBNQVBQSU5HUyAjIyMKCgpjbGFzcyBNYXBwaW5nKFNpemVkLCBJdGVyYWJsZSwgQ29udGFpbmVyKToKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBrZXkpOgogICAgICAgIHJhaXNlIEtleUVycm9yCgogICAgZGVmIGdldChzZWxmLCBrZXksIGRlZmF1bHQ9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICByZXR1cm4gZGVmYXVsdAoKICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwga2V5KToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGZba2V5XQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYga2V5cyhzZWxmKToKICAgICAgICByZXR1cm4gS2V5c1ZpZXcoc2VsZikKCiAgICBkZWYgaXRlbXMoc2VsZik6CiAgICAgICAgcmV0dXJuIEl0ZW1zVmlldyhzZWxmKQoKICAgIGRlZiB2YWx1ZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIFZhbHVlc1ZpZXcoc2VsZikKCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgTWFwcGluZyk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBkaWN0KHNlbGYuaXRlbXMoKSkgPT0gZGljdChvdGhlci5pdGVtcygpKQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIHJldHVybiBub3QgKHNlbGYgPT0gb3RoZXIpCgoKY2xhc3MgTXV0YWJsZU1hcHBpbmcoTWFwcGluZyk6CgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwga2V5LCB2YWx1ZSk6CiAgICAgICAgcmFpc2UgS2V5RXJyb3IKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCBrZXkpOgogICAgICAgIHJhaXNlIEtleUVycm9yCgogICAgX19tYXJrZXIgPSBvYmplY3QoKQoKICAgIGRlZiBwb3Aoc2VsZiwga2V5LCBkZWZhdWx0PV9fbWFya2VyKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHZhbHVlID0gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBpZiBkZWZhdWx0IGlzIHNlbGYuX19tYXJrZXI6CiAgICAgICAgICAgICAgICByYWlzZQogICAgICAgICAgICByZXR1cm4gZGVmYXVsdAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlbCBzZWxmW2tleV0KICAgICAgICAgICAgcmV0dXJuIHZhbHVlCgogICAgZGVmIHBvcGl0ZW0oc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBrZXkgPSBuZXh0KGl0ZXIoc2VsZikpCiAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb246CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yCiAgICAgICAgdmFsdWUgPSBzZWxmW2tleV0KICAgICAgICBkZWwgc2VsZltrZXldCiAgICAgICAgcmV0dXJuIGtleSwgdmFsdWUKCiAgICBkZWYgY2xlYXIoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgc2VsZi5wb3BpdGVtKCkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgdXBkYXRlKCphcmdzLCAqKmt3ZHMpOgogICAgICAgIGlmIGxlbihhcmdzKSA+IDI6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidXBkYXRlKCkgdGFrZXMgYXQgbW9zdCAyIHBvc2l0aW9uYWwgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyAoe30gZ2l2ZW4pIi5mb3JtYXQobGVuKGFyZ3MpKSkKICAgICAgICBlbGlmIG5vdCBhcmdzOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInVwZGF0ZSgpIHRha2VzIGF0IGxlYXN0IDEgYXJndW1lbnQgKDAgZ2l2ZW4pIikKICAgICAgICBzZWxmID0gYXJnc1swXQogICAgICAgIG90aGVyID0gYXJnc1sxXSBpZiBsZW4oYXJncykgPj0gMiBlbHNlICgpCgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIE1hcHBpbmcpOgogICAgICAgICAgICBmb3Iga2V5IGluIG90aGVyOgogICAgICAgICAgICAgICAgc2VsZltrZXldID0gb3RoZXJba2V5XQogICAgICAgIGVsaWYgaGFzYXR0cihvdGhlciwgImtleXMiKToKICAgICAgICAgICAgZm9yIGtleSBpbiBvdGhlci5rZXlzKCk6CiAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSBvdGhlcltrZXldCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gb3RoZXI6CiAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3ZHMuaXRlbXMoKToKICAgICAgICAgICAgc2VsZltrZXldID0gdmFsdWUKCiAgICBkZWYgc2V0ZGVmYXVsdChzZWxmLCBrZXksIGRlZmF1bHQ9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBzZWxmW2tleV0gPSBkZWZhdWx0CiAgICAgICAgcmV0dXJuIGRlZmF1bHQKCiNNdXRhYmxlTWFwcGluZy5yZWdpc3RlcihkaWN0KQo=',
'/Lib/sre_constants.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyB2YXJpb3VzIHN5bWJvbHMgdXNlZCBieSB0aGUgcmVndWxhciBleHByZXNzaW9uIGVuZ2luZS4KIyBydW4gdGhpcyBzY3JpcHQgdG8gdXBkYXRlIHRoZSBfc3JlIGluY2x1ZGUgZmlsZXMhCiMKIyBDb3B5cmlnaHQgKGMpIDE5OTgtMjAwMSBieSBTZWNyZXQgTGFicyBBQi4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBTZWUgdGhlIHNyZS5weSBmaWxlIGZvciBpbmZvcm1hdGlvbiBvbiB1c2FnZSBhbmQgcmVkaXN0cmlidXRpb24uCiMKCiMiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgojIHVwZGF0ZSB3aGVuIGNvbnN0YW50cyBhcmUgYWRkZWQgb3IgcmVtb3ZlZAoKTUFHSUMgPSAyMDAzMTAxNwoKIyBtYXggY29kZSB3b3JkIGluIHRoaXMgcmVsZWFzZQoKTUFYUkVQRUFUID0gNjU1MzUKCiMgU1JFIHN0YW5kYXJkIGV4Y2VwdGlvbiAoYWNjZXNzIGFzIHNyZS5lcnJvcikKIyBzaG91bGQgdGhpcyByZWFsbHkgYmUgaGVyZT8KCmNsYXNzIGVycm9yKEV4Y2VwdGlvbik6CiAgICBwYXNzCgojIG9wZXJhdG9ycwoKRkFJTFVSRSA9ICJmYWlsdXJlIgpTVUNDRVNTID0gInN1Y2Nlc3MiCgpBTlkgPSAiYW55IgpBTllfQUxMID0gImFueV9hbGwiCkFTU0VSVCA9ICJhc3NlcnQiCkFTU0VSVF9OT1QgPSAiYXNzZXJ0X25vdCIKQVQgPSAiYXQiCkJJR0NIQVJTRVQgPSAiYmlnY2hhcnNldCIKQlJBTkNIID0gImJyYW5jaCIKQ0FMTCA9ICJjYWxsIgpDQVRFR09SWSA9ICJjYXRlZ29yeSIKQ0hBUlNFVCA9ICJjaGFyc2V0IgpHUk9VUFJFRiA9ICJncm91cHJlZiIKR1JPVVBSRUZfSUdOT1JFID0gImdyb3VwcmVmX2lnbm9yZSIKR1JPVVBSRUZfRVhJU1RTID0gImdyb3VwcmVmX2V4aXN0cyIKSU4gPSAiaW4iCklOX0lHTk9SRSA9ICJpbl9pZ25vcmUiCklORk8gPSAiaW5mbyIKSlVNUCA9ICJqdW1wIgpMSVRFUkFMID0gImxpdGVyYWwiCkxJVEVSQUxfSUdOT1JFID0gImxpdGVyYWxfaWdub3JlIgpNQVJLID0gIm1hcmsiCk1BWF9SRVBFQVQgPSAibWF4X3JlcGVhdCIKTUFYX1VOVElMID0gIm1heF91bnRpbCIKTUlOX1JFUEVBVCA9ICJtaW5fcmVwZWF0IgpNSU5fVU5USUwgPSAibWluX3VudGlsIgpORUdBVEUgPSAibmVnYXRlIgpOT1RfTElURVJBTCA9ICJub3RfbGl0ZXJhbCIKTk9UX0xJVEVSQUxfSUdOT1JFID0gIm5vdF9saXRlcmFsX2lnbm9yZSIKUkFOR0UgPSAicmFuZ2UiClJFUEVBVCA9ICJyZXBlYXQiClJFUEVBVF9PTkUgPSAicmVwZWF0X29uZSIKU1VCUEFUVEVSTiA9ICJzdWJwYXR0ZXJuIgpNSU5fUkVQRUFUX09ORSA9ICJtaW5fcmVwZWF0X29uZSIKCiMgcG9zaXRpb25zCkFUX0JFR0lOTklORyA9ICJhdF9iZWdpbm5pbmciCkFUX0JFR0lOTklOR19MSU5FID0gImF0X2JlZ2lubmluZ19saW5lIgpBVF9CRUdJTk5JTkdfU1RSSU5HID0gImF0X2JlZ2lubmluZ19zdHJpbmciCkFUX0JPVU5EQVJZID0gImF0X2JvdW5kYXJ5IgpBVF9OT05fQk9VTkRBUlkgPSAiYXRfbm9uX2JvdW5kYXJ5IgpBVF9FTkQgPSAiYXRfZW5kIgpBVF9FTkRfTElORSA9ICJhdF9lbmRfbGluZSIKQVRfRU5EX1NUUklORyA9ICJhdF9lbmRfc3RyaW5nIgpBVF9MT0NfQk9VTkRBUlkgPSAiYXRfbG9jX2JvdW5kYXJ5IgpBVF9MT0NfTk9OX0JPVU5EQVJZID0gImF0X2xvY19ub25fYm91bmRhcnkiCkFUX1VOSV9CT1VOREFSWSA9ICJhdF91bmlfYm91bmRhcnkiCkFUX1VOSV9OT05fQk9VTkRBUlkgPSAiYXRfdW5pX25vbl9ib3VuZGFyeSIKCiMgY2F0ZWdvcmllcwpDQVRFR09SWV9ESUdJVCA9ICJjYXRlZ29yeV9kaWdpdCIKQ0FURUdPUllfTk9UX0RJR0lUID0gImNhdGVnb3J5X25vdF9kaWdpdCIKQ0FURUdPUllfU1BBQ0UgPSAiY2F0ZWdvcnlfc3BhY2UiCkNBVEVHT1JZX05PVF9TUEFDRSA9ICJjYXRlZ29yeV9ub3Rfc3BhY2UiCkNBVEVHT1JZX1dPUkQgPSAiY2F0ZWdvcnlfd29yZCIKQ0FURUdPUllfTk9UX1dPUkQgPSAiY2F0ZWdvcnlfbm90X3dvcmQiCkNBVEVHT1JZX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV9saW5lYnJlYWsiCkNBVEVHT1JZX05PVF9MSU5FQlJFQUsgPSAiY2F0ZWdvcnlfbm90X2xpbmVicmVhayIKQ0FURUdPUllfTE9DX1dPUkQgPSAiY2F0ZWdvcnlfbG9jX3dvcmQiCkNBVEVHT1JZX0xPQ19OT1RfV09SRCA9ICJjYXRlZ29yeV9sb2Nfbm90X3dvcmQiCkNBVEVHT1JZX1VOSV9ESUdJVCA9ICJjYXRlZ29yeV91bmlfZGlnaXQiCkNBVEVHT1JZX1VOSV9OT1RfRElHSVQgPSAiY2F0ZWdvcnlfdW5pX25vdF9kaWdpdCIKQ0FURUdPUllfVU5JX1NQQUNFID0gImNhdGVnb3J5X3VuaV9zcGFjZSIKQ0FURUdPUllfVU5JX05PVF9TUEFDRSA9ICJjYXRlZ29yeV91bmlfbm90X3NwYWNlIgpDQVRFR09SWV9VTklfV09SRCA9ICJjYXRlZ29yeV91bmlfd29yZCIKQ0FURUdPUllfVU5JX05PVF9XT1JEID0gImNhdGVnb3J5X3VuaV9ub3Rfd29yZCIKQ0FURUdPUllfVU5JX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV91bmlfbGluZWJyZWFrIgpDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV91bmlfbm90X2xpbmVicmVhayIKCk9QQ09ERVMgPSBbCgogICAgIyBmYWlsdXJlPTAgc3VjY2Vzcz0xIChqdXN0IGJlY2F1c2UgaXQgbG9va3MgYmV0dGVyIHRoYXQgd2F5IDotKQogICAgRkFJTFVSRSwgU1VDQ0VTUywKCiAgICBBTlksIEFOWV9BTEwsCiAgICBBU1NFUlQsIEFTU0VSVF9OT1QsCiAgICBBVCwKICAgIEJSQU5DSCwKICAgIENBTEwsCiAgICBDQVRFR09SWSwKICAgIENIQVJTRVQsIEJJR0NIQVJTRVQsCiAgICBHUk9VUFJFRiwgR1JPVVBSRUZfRVhJU1RTLCBHUk9VUFJFRl9JR05PUkUsCiAgICBJTiwgSU5fSUdOT1JFLAogICAgSU5GTywKICAgIEpVTVAsCiAgICBMSVRFUkFMLCBMSVRFUkFMX0lHTk9SRSwKICAgIE1BUkssCiAgICBNQVhfVU5USUwsCiAgICBNSU5fVU5USUwsCiAgICBOT1RfTElURVJBTCwgTk9UX0xJVEVSQUxfSUdOT1JFLAogICAgTkVHQVRFLAogICAgUkFOR0UsCiAgICBSRVBFQVQsCiAgICBSRVBFQVRfT05FLAogICAgU1VCUEFUVEVSTiwKICAgIE1JTl9SRVBFQVRfT05FCgpdCgpBVENPREVTID0gWwogICAgQVRfQkVHSU5OSU5HLCBBVF9CRUdJTk5JTkdfTElORSwgQVRfQkVHSU5OSU5HX1NUUklORywgQVRfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlksIEFUX0VORCwgQVRfRU5EX0xJTkUsIEFUX0VORF9TVFJJTkcsCiAgICBBVF9MT0NfQk9VTkRBUlksIEFUX0xPQ19OT05fQk9VTkRBUlksIEFUX1VOSV9CT1VOREFSWSwKICAgIEFUX1VOSV9OT05fQk9VTkRBUlkKXQoKQ0hDT0RFUyA9IFsKICAgIENBVEVHT1JZX0RJR0lULCBDQVRFR09SWV9OT1RfRElHSVQsIENBVEVHT1JZX1NQQUNFLAogICAgQ0FURUdPUllfTk9UX1NQQUNFLCBDQVRFR09SWV9XT1JELCBDQVRFR09SWV9OT1RfV09SRCwKICAgIENBVEVHT1JZX0xJTkVCUkVBSywgQ0FURUdPUllfTk9UX0xJTkVCUkVBSywgQ0FURUdPUllfTE9DX1dPUkQsCiAgICBDQVRFR09SWV9MT0NfTk9UX1dPUkQsIENBVEVHT1JZX1VOSV9ESUdJVCwgQ0FURUdPUllfVU5JX05PVF9ESUdJVCwKICAgIENBVEVHT1JZX1VOSV9TUEFDRSwgQ0FURUdPUllfVU5JX05PVF9TUEFDRSwgQ0FURUdPUllfVU5JX1dPUkQsCiAgICBDQVRFR09SWV9VTklfTk9UX1dPUkQsIENBVEVHT1JZX1VOSV9MSU5FQlJFQUssCiAgICBDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSwpdCgpkZWYgbWFrZWRpY3QobGlzdCk6CiAgICBkID0ge30KICAgIGkgPSAwCiAgICBmb3IgaXRlbSBpbiBsaXN0OgogICAgICAgIGRbaXRlbV0gPSBpCiAgICAgICAgaSA9IGkgKyAxCiAgICByZXR1cm4gZAoKT1BDT0RFUyA9IG1ha2VkaWN0KE9QQ09ERVMpCkFUQ09ERVMgPSBtYWtlZGljdChBVENPREVTKQpDSENPREVTID0gbWFrZWRpY3QoQ0hDT0RFUykKCiMgcmVwbGFjZW1lbnQgb3BlcmF0aW9ucyBmb3IgImlnbm9yZSBjYXNlIiBtb2RlCk9QX0lHTk9SRSA9IHsKICAgIEdST1VQUkVGOiBHUk9VUFJFRl9JR05PUkUsCiAgICBJTjogSU5fSUdOT1JFLAogICAgTElURVJBTDogTElURVJBTF9JR05PUkUsCiAgICBOT1RfTElURVJBTDogTk9UX0xJVEVSQUxfSUdOT1JFCn0KCkFUX01VTFRJTElORSA9IHsKICAgIEFUX0JFR0lOTklORzogQVRfQkVHSU5OSU5HX0xJTkUsCiAgICBBVF9FTkQ6IEFUX0VORF9MSU5FCn0KCkFUX0xPQ0FMRSA9IHsKICAgIEFUX0JPVU5EQVJZOiBBVF9MT0NfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlk6IEFUX0xPQ19OT05fQk9VTkRBUlkKfQoKQVRfVU5JQ09ERSA9IHsKICAgIEFUX0JPVU5EQVJZOiBBVF9VTklfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlk6IEFUX1VOSV9OT05fQk9VTkRBUlkKfQoKQ0hfTE9DQUxFID0gewogICAgQ0FURUdPUllfRElHSVQ6IENBVEVHT1JZX0RJR0lULAogICAgQ0FURUdPUllfTk9UX0RJR0lUOiBDQVRFR09SWV9OT1RfRElHSVQsCiAgICBDQVRFR09SWV9TUEFDRTogQ0FURUdPUllfU1BBQ0UsCiAgICBDQVRFR09SWV9OT1RfU1BBQ0U6IENBVEVHT1JZX05PVF9TUEFDRSwKICAgIENBVEVHT1JZX1dPUkQ6IENBVEVHT1JZX0xPQ19XT1JELAogICAgQ0FURUdPUllfTk9UX1dPUkQ6IENBVEVHT1JZX0xPQ19OT1RfV09SRCwKICAgIENBVEVHT1JZX0xJTkVCUkVBSzogQ0FURUdPUllfTElORUJSRUFLLAogICAgQ0FURUdPUllfTk9UX0xJTkVCUkVBSzogQ0FURUdPUllfTk9UX0xJTkVCUkVBSwp9CgpDSF9VTklDT0RFID0gewogICAgQ0FURUdPUllfRElHSVQ6IENBVEVHT1JZX1VOSV9ESUdJVCwKICAgIENBVEVHT1JZX05PVF9ESUdJVDogQ0FURUdPUllfVU5JX05PVF9ESUdJVCwKICAgIENBVEVHT1JZX1NQQUNFOiBDQVRFR09SWV9VTklfU1BBQ0UsCiAgICBDQVRFR09SWV9OT1RfU1BBQ0U6IENBVEVHT1JZX1VOSV9OT1RfU1BBQ0UsCiAgICBDQVRFR09SWV9XT1JEOiBDQVRFR09SWV9VTklfV09SRCwKICAgIENBVEVHT1JZX05PVF9XT1JEOiBDQVRFR09SWV9VTklfTk9UX1dPUkQsCiAgICBDQVRFR09SWV9MSU5FQlJFQUs6IENBVEVHT1JZX1VOSV9MSU5FQlJFQUssCiAgICBDQVRFR09SWV9OT1RfTElORUJSRUFLOiBDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSwp9CgojIGZsYWdzClNSRV9GTEFHX1RFTVBMQVRFID0gMSAjIHRlbXBsYXRlIG1vZGUgKGRpc2FibGUgYmFja3RyYWNraW5nKQpTUkVfRkxBR19JR05PUkVDQVNFID0gMiAjIGNhc2UgaW5zZW5zaXRpdmUKU1JFX0ZMQUdfTE9DQUxFID0gNCAjIGhvbm91ciBzeXN0ZW0gbG9jYWxlClNSRV9GTEFHX01VTFRJTElORSA9IDggIyB0cmVhdCB0YXJnZXQgYXMgbXVsdGlsaW5lIHN0cmluZwpTUkVfRkxBR19ET1RBTEwgPSAxNiAjIHRyZWF0IHRhcmdldCBhcyBhIHNpbmdsZSBzdHJpbmcKU1JFX0ZMQUdfVU5JQ09ERSA9IDMyICMgdXNlIHVuaWNvZGUgImxvY2FsZSIKU1JFX0ZMQUdfVkVSQk9TRSA9IDY0ICMgaWdub3JlIHdoaXRlc3BhY2UgYW5kIGNvbW1lbnRzClNSRV9GTEFHX0RFQlVHID0gMTI4ICMgZGVidWdnaW5nClNSRV9GTEFHX0FTQ0lJID0gMjU2ICMgdXNlIGFzY2lpICJsb2NhbGUiCgojIGZsYWdzIGZvciBJTkZPIHByaW1pdGl2ZQpTUkVfSU5GT19QUkVGSVggPSAxICMgaGFzIHByZWZpeApTUkVfSU5GT19MSVRFUkFMID0gMiAjIGVudGlyZSBwYXR0ZXJuIGlzIGxpdGVyYWwgKGdpdmVuIGJ5IHByZWZpeCkKU1JFX0lORk9fQ0hBUlNFVCA9IDQgIyBwYXR0ZXJuIHN0YXJ0cyB3aXRoIGNoYXJhY3RlciBmcm9tIGdpdmVuIHNldAoKI2lmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiMgICAgZGVmIGR1bXAoZiwgZCwgcHJlZml4KToKIyAgICAgICAgaXRlbXMgPSBkLml0ZW1zKCkKIyAgICAgICAgaXRlbXMuc29ydChrZXk9bGFtYmRhIGE6IGFbMV0pCiMgICAgICAgIGZvciBrLCB2IGluIGl0ZW1zOgojICAgICAgICAgICAgZi53cml0ZSgiI2RlZmluZSAlc18lcyAlc1xuIiAlIChwcmVmaXgsIGsudXBwZXIoKSwgdikpCiMgICAgZiA9IG9wZW4oInNyZV9jb25zdGFudHMuaCIsICJ3IikKIyAgICBmLndyaXRlKCIiIlwKIy8qCiMgKiBTZWNyZXQgTGFicycgUmVndWxhciBFeHByZXNzaW9uIEVuZ2luZQojICoKIyAqIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGluZyBlbmdpbmUKIyAqCiMgKiBOT1RFOiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNyZV9jb25zdGFudHMucHkuICBJZiB5b3UgbmVlZAojICogdG8gY2hhbmdlIGFueXRoaW5nIGluIGhlcmUsIGVkaXQgc3JlX2NvbnN0YW50cy5weSBhbmQgcnVuIGl0LgojICoKIyAqIENvcHlyaWdodCAoYykgMTk5Ny0yMDAxIGJ5IFNlY3JldCBMYWJzIEFCLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAqCiMgKiBTZWUgdGhlIF9zcmUuYyBmaWxlIGZvciBpbmZvcm1hdGlvbiBvbiB1c2FnZSBhbmQgcmVkaXN0cmlidXRpb24uCiMgKi8KIwojIiIiKQoKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9NQUdJQyAlZFxuIiAlIE1BR0lDKQoKIyAgICBkdW1wKGYsIE9QQ09ERVMsICJTUkVfT1AiKQojICAgIGR1bXAoZiwgQVRDT0RFUywgIlNSRSIpCiMgICAgZHVtcChmLCBDSENPREVTLCAiU1JFIikKCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19URU1QTEFURSAlZFxuIiAlIFNSRV9GTEFHX1RFTVBMQVRFKQojICAgIGYud3JpdGUoIiNkZWZpbmUgU1JFX0ZMQUdfSUdOT1JFQ0FTRSAlZFxuIiAlIFNSRV9GTEFHX0lHTk9SRUNBU0UpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19MT0NBTEUgJWRcbiIgJSBTUkVfRkxBR19MT0NBTEUpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19NVUxUSUxJTkUgJWRcbiIgJSBTUkVfRkxBR19NVUxUSUxJTkUpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19ET1RBTEwgJWRcbiIgJSBTUkVfRkxBR19ET1RBTEwpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19VTklDT0RFICVkXG4iICUgU1JFX0ZMQUdfVU5JQ09ERSkKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9GTEFHX1ZFUkJPU0UgJWRcbiIgJSBTUkVfRkxBR19WRVJCT1NFKQoKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9JTkZPX1BSRUZJWCAlZFxuIiAlIFNSRV9JTkZPX1BSRUZJWCkKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9JTkZPX0xJVEVSQUwgJWRcbiIgJSBTUkVfSU5GT19MSVRFUkFMKQojICAgIGYud3JpdGUoIiNkZWZpbmUgU1JFX0lORk9fQ0hBUlNFVCAlZFxuIiAlIFNSRV9JTkZPX0NIQVJTRVQpCgojICAgIGYuY2xvc2UoKQojCiMgICAgcHJpbnQoImRvbmUiKQo=',
'/Lib/keyword.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImtleXdvcmQucHkiXS5fX2RpY3RfXzt2YXIga3dsaXN0PSRnbG9iYWxzLmt3bGlzdD1saXN0KFsnRmFsc2UnLCdOb25lJywnVHJ1ZScsJ2FuZCcsJ2FzJywnYXNzZXJ0JywnYnJlYWsnLCdjbGFzcycsJ2NvbnRpbnVlJywnZGVmJywnZGVsJywnZWxpZicsJ2Vsc2UnLCdleGNlcHQnLCdmaW5hbGx5JywnZm9yJywnZnJvbScsJ2dsb2JhbCcsJ2lmJywnaW1wb3J0JywnaW4nLCdpcycsJ2xhbWJkYScsJ25vbmxvY2FsJywnbm90Jywnb3InLCdwYXNzJywncmFpc2UnLCdyZXR1cm4nLCd0cnknLCd3aGlsZScsJ3dpdGgnLCd5aWVsZCddKTt2YXIgaXNrZXl3b3JkPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaXNrZXl3b3JkIixhcmd1bWVudHMsWyJ3b3JkIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnQxNWZpb2d4Ll9fZGljdF9fPSRucztyZXR1cm4gd29yZC5fX2luX18oa3dsaXN0KTt9Y2F0Y2goZXJyMil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjIpO319O30pKCk7aXNrZXl3b3JkLl9fbmFtZV9fPSJpc2tleXdvcmQiOyRnbG9iYWxzLmlza2V5d29yZD1pc2tleXdvcmQ7cmV0dXJue2t3bGlzdDprd2xpc3QsaXNrZXl3b3JkOmlza2V5d29yZCxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/random.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fOyJSYW5kb20gdmFyaWFibGUgZ2VuZXJhdG9ycy5cblxuICAgIGludGVnZXJzXG4gICAgLS0tLS0tLS1cbiAgICAgICAgICAgdW5pZm9ybSB3aXRoaW4gcmFuZ2VcblxuICAgIHNlcXVlbmNlc1xuICAgIC0tLS0tLS0tLVxuICAgICAgICAgICBwaWNrIHJhbmRvbSBlbGVtZW50XG4gICAgICAgICAgIHBpY2sgcmFuZG9tIHNhbXBsZVxuICAgICAgICAgICBnZW5lcmF0ZSByYW5kb20gcGVybXV0YXRpb25cblxuICAgIGRpc3RyaWJ1dGlvbnMgb24gdGhlIHJlYWwgbGluZTpcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgdW5pZm9ybVxuICAgICAgICAgICB0cmlhbmd1bGFyXG4gICAgICAgICAgIG5vcm1hbCAoR2F1c3NpYW4pXG4gICAgICAgICAgIGxvZ25vcm1hbFxuICAgICAgICAgICBuZWdhdGl2ZSBleHBvbmVudGlhbFxuICAgICAgICAgICBnYW1tYVxuICAgICAgICAgICBiZXRhXG4gICAgICAgICAgIHBhcmV0b1xuICAgICAgICAgICBXZWlidWxsXG5cbiAgICBkaXN0cmlidXRpb25zIG9uIHRoZSBjaXJjbGUgKGFuZ2xlcyAwIHRvIDJwaSlcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgY2lyY3VsYXIgdW5pZm9ybVxuICAgICAgICAgICB2b24gTWlzZXNcblxuR2VuZXJhbCBub3RlcyBvbiB0aGUgdW5kZXJseWluZyBNZXJzZW5uZSBUd2lzdGVyIGNvcmUgZ2VuZXJhdG9yOlxuXG4qIFRoZSBwZXJpb2QgaXMgMioqMTk5MzctMS5cbiogSXQgaXMgb25lIG9mIHRoZSBtb3N0IGV4dGVuc2l2ZWx5IHRlc3RlZCBnZW5lcmF0b3JzIGluIGV4aXN0ZW5jZS5cbiogVGhlIHJhbmRvbSgpIG1ldGhvZCBpcyBpbXBsZW1lbnRlZCBpbiBDLCBleGVjdXRlcyBpbiBhIHNpbmdsZSBQeXRob24gc3RlcCxcbiAgYW5kIGlzLCB0aGVyZWZvcmUsIHRocmVhZHNhZmUuXG5cbiI7JG1vZD0kaW1wb3J0X2xpc3QoW1sid2FybmluZ3MiLCJ3YXJuaW5ncyJdXSlbMF07X3dhcm49X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl93YXJuPSRtb2QuX19nZXRhdHRyX18oIndhcm4iKTskbW9kPSRpbXBvcnRfbGlzdChbWyJ0eXBlcyIsInR5cGVzIl1dKVswXTtfTWV0aG9kVHlwZT1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX01ldGhvZFR5cGU9JG1vZC5fX2dldGF0dHJfXygiTWV0aG9kVHlwZSIpO19CdWlsdGluTWV0aG9kVHlwZT1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX0J1aWx0aW5NZXRob2RUeXBlPSRtb2QuX19nZXRhdHRyX18oIkJ1aWx0aW5NZXRob2RUeXBlIik7JG1vZD0kaW1wb3J0X2xpc3QoW1sibWF0aCIsIm1hdGgiXV0pWzBdO19sb2c9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9sb2c9JG1vZC5fX2dldGF0dHJfXygibG9nIik7X2V4cD1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX2V4cD0kbW9kLl9fZ2V0YXR0cl9fKCJleHAiKTtfcGk9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9waT0kbW9kLl9fZ2V0YXR0cl9fKCJwaSIpO19lPV9fQlJZVEhPTl9fLnNjb3BlWyJyYW5kb20ucHkiXS5fX2RpY3RfXy5fZT0kbW9kLl9fZ2V0YXR0cl9fKCJlIik7X2NlaWw9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9jZWlsPSRtb2QuX19nZXRhdHRyX18oImNlaWwiKTskbW9kPSRpbXBvcnRfbGlzdChbWyJtYXRoIiwibWF0aCJdXSlbMF07X3NxcnQ9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9zcXJ0PSRtb2QuX19nZXRhdHRyX18oInNxcnQiKTtfYWNvcz1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX2Fjb3M9JG1vZC5fX2dldGF0dHJfXygiYWNvcyIpO19jb3M9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9jb3M9JG1vZC5fX2dldGF0dHJfXygiY29zIik7X3Npbj1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX3Npbj0kbW9kLl9fZ2V0YXR0cl9fKCJzaW4iKTskbW9kPSRpbXBvcnRfbGlzdChbWyJvcyIsIm9zIl1dKVswXTtfdXJhbmRvbT1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX3VyYW5kb209JG1vZC5fX2dldGF0dHJfXygidXJhbmRvbSIpOyRtb2Q9JGltcG9ydF9saXN0KFtbImNvbGxlY3Rpb25zIiwiY29sbGVjdGlvbnMiXV0pWzBdO19TZXQ9X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLl9TZXQ9JG1vZC5fX2dldGF0dHJfXygiU2V0Iik7X1NlcXVlbmNlPV9fQlJZVEhPTl9fLnNjb3BlWyJyYW5kb20ucHkiXS5fX2RpY3RfXy5fU2VxdWVuY2U9JG1vZC5fX2dldGF0dHJfXygiU2VxdWVuY2UiKTskbW9kPSRpbXBvcnRfbGlzdChbWyJoYXNobGliIiwiaGFzaGxpYiJdXSlbMF07X3NoYTUxMj1fX0JSWVRIT05fXy5zY29wZVsicmFuZG9tLnB5Il0uX19kaWN0X18uX3NoYTUxMj0kbW9kLl9fZ2V0YXR0cl9fKCJzaGE1MTIiKTt2YXIgX19hbGxfXz0kZ2xvYmFscy5fX2FsbF9fPWxpc3QoWyJSYW5kb20iLCJzZWVkIiwicmFuZG9tIiwidW5pZm9ybSIsInJhbmRpbnQiLCJjaG9pY2UiLCJzYW1wbGUiLCJyYW5kcmFuZ2UiLCJzaHVmZmxlIiwibm9ybWFsdmFyaWF0ZSIsImxvZ25vcm12YXJpYXRlIiwiZXhwb3ZhcmlhdGUiLCJ2b25taXNlc3ZhcmlhdGUiLCJnYW1tYXZhcmlhdGUiLCJ0cmlhbmd1bGFyIiwiZ2F1c3MiLCJiZXRhdmFyaWF0ZSIsInBhcmV0b3ZhcmlhdGUiLCJ3ZWlidWxsdmFyaWF0ZSIsImdldHN0YXRlIiwic2V0c3RhdGUiLCJnZXRyYW5kYml0cyIsIlN5c3RlbVJhbmRvbSJdKTt2YXIgTlZfTUFHSUNDT05TVD0kZ2xvYmFscy5OVl9NQUdJQ0NPTlNUPU51bWJlcig0KS5fX211bF9fKF9leHAuX19jYWxsX18oZmxvYXQoLTAuNSkpKS5fX3RydWVkaXZfXyhfc3FydC5fX2NhbGxfXyhmbG9hdCgyKSkpO3ZhciBUV09QST0kZ2xvYmFscy5UV09QST1mbG9hdCgyKS5fX211bF9fKF9waSk7dmFyIExPRzQ9JGdsb2JhbHMuTE9HND1fbG9nLl9fY2FsbF9fKGZsb2F0KDQpKTt2YXIgU0dfTUFHSUNDT05TVD0kZ2xvYmFscy5TR19NQUdJQ0NPTlNUPWZsb2F0KDEpLl9fYWRkX18oX2xvZy5fX2NhbGxfXyhmbG9hdCg0LjUpKSk7dmFyIEJQRj0kZ2xvYmFscy5CUEY9TnVtYmVyKDUzKTt2YXIgUkVDSVBfQlBGPSRnbG9iYWxzLlJFQ0lQX0JQRj1OdW1iZXIoMikuX19wb3dfXyhCUEYuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpKTskbW9kcz0kaW1wb3J0X2xpc3QoW1siX3JhbmRvbSIsIl9yYW5kb20iXV0pO19yYW5kb209JG1vZHNbMF07O05vbmU7dmFyICRSYW5kb209KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7IlJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGJhc2UgY2xhc3MgdXNlZCBieSBib3VuZCBtb2R1bGUgZnVuY3Rpb25zLlxuXG4gICAgVXNlZCB0byBpbnN0YW50aWF0ZSBpbnN0YW5jZXMgb2YgUmFuZG9tIHRvIGdldCBnZW5lcmF0b3JzIHRoYXQgZG9uJ3RcbiAgICBzaGFyZSBzdGF0ZS5cblxuICAgIENsYXNzIFJhbmRvbSBjYW4gYWxzbyBiZSBzdWJjbGFzc2VkIGlmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBiYXNpY1xuICAgIGdlbmVyYXRvciBvZiB5b3VyIG93biBkZXZpc2luZzogaW4gdGhhdCBjYXNlLCBvdmVycmlkZSB0aGUgZm9sbG93aW5nXG4gICAgbWV0aG9kczogIHJhbmRvbSgpLCBzZWVkKCksIGdldHN0YXRlKCksIGFuZCBzZXRzdGF0ZSgpLlxuICAgIE9wdGlvbmFsbHksIGltcGxlbWVudCBhIGdldHJhbmRiaXRzKCkgbWV0aG9kIHNvIHRoYXQgcmFuZHJhbmdlKClcbiAgICBjYW4gY292ZXIgYXJiaXRyYXJpbHkgbGFyZ2UgcmFuZ2VzLlxuXG4gICAgIjskY2xhc3MuVkVSU0lPTj1OdW1iZXIoMyk7JGNsYXNzLl9faW5pdF9fPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9faW5pdF9fIixhcmd1bWVudHMsWyJzZWxmIl0seyJ4IjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lZTJjODZtby5fX2RpY3RfXz0kbnM7IkluaXRpYWxpemUgYW4gaW5zdGFuY2UuXG5cbiAgICAgICAgT3B0aW9uYWwgYXJndW1lbnQgeCBjb250cm9scyBzZWVkaW5nLCBhcyBmb3IgUmFuZG9tLnNlZWQoKS5cbiAgICAgICAgIjtzZWxmLl9fZ2V0YXR0cl9fKCJzZWVkIikuX19jYWxsX18oeCk7c2VsZi5fX3NldGF0dHJfXygiZ2F1c3NfbmV4dCIsTm9uZSk7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKE5vbmUpOyRjbGFzcy5fX2luaXRfXy5fX25hbWVfXz0iX19pbml0X18iOyRjbGFzcy5zZWVkPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInNlZWQiLGFyZ3VtZW50cyxbInNlbGYiXSx7ImEiOigkY2xhc3MuTm9uZSE9PXVuZGVmaW5lZD8kY2xhc3MuTm9uZTpOb25lKSwidmVyc2lvbiI6TnVtYmVyKDIpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudGR3bTNhMHIuX19kaWN0X189JG5zOyJJbml0aWFsaXplIGludGVybmFsIHN0YXRlIGZyb20gaGFzaGFibGUgb2JqZWN0LlxuXG4gICAgICAgIE5vbmUgb3Igbm8gYXJndW1lbnQgc2VlZHMgZnJvbSBjdXJyZW50IHRpbWUgb3IgZnJvbSBhbiBvcGVyYXRpbmdcbiAgICAgICAgc3lzdGVtIHNwZWNpZmljIHJhbmRvbW5lc3Mgc291cmNlIGlmIGF2YWlsYWJsZS5cblxuICAgICAgICBGb3IgdmVyc2lvbiAyICh0aGUgZGVmYXVsdCksIGFsbCBvZiB0aGUgYml0cyBhcmUgdXNlZCBpZiAqYSogaXMgYSBzdHIsXG4gICAgICAgIGJ5dGVzLCBvciBieXRlYXJyYXkuICBGb3IgdmVyc2lvbiAxLCB0aGUgaGFzaCgpIG9mICphKiBpcyB1c2VkIGluc3RlYWQuXG5cbiAgICAgICAgSWYgKmEqIGlzIGFuIGludCwgYWxsIGJpdHMgYXJlIHVzZWQuXG5cbiAgICAgICAgIjtpZihib29sKGE9PT1Ob25lKSl0cnl7dmFyIGE9JGxvY2Fscy5hPWludC5fX2dldGF0dHJfXygiZnJvbV9ieXRlcyIpLl9fY2FsbF9fKF91cmFuZG9tLl9fY2FsbF9fKE51bWJlcigzMikpLCdiaWcnKTt9Y2F0Y2goJGVycjQ1KXtpZihmYWxzZSl2b2lkIDA7ZWxzZSBpZihbIk5vdEltcGxlbWVudGVkRXJyb3IiXS5pbmRleE9mKCRlcnI0NS5fX25hbWVfXyk+LTEpeyRtb2RzPSRpbXBvcnRfbGlzdChbWyJ0aW1lIiwidGltZSJdXSk7dmFyIHRpbWU9JGxvY2Fscy50aW1lPSRtb2RzWzBdOztOb25lO3ZhciBhPSRsb2NhbHMuYT1pbnQuX19jYWxsX18odGltZS5fX2dldGF0dHJfXygidGltZSIpLl9fY2FsbF9fKCkuX19tdWxfXyhOdW1iZXIoMjU2KSkpO31lbHNlIHRocm93ICRlcnI0NTt9aWYoYm9vbCh2ZXJzaW9uLl9fZXFfXyhOdW1iZXIoMikpKSlpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18oYSx0dXBsZShbc3RyLGJ5dGVzLGJ5dGVhcnJheV0pKSkpe2lmKGJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhhLHN0cikpKXZhciBhPSRsb2NhbHMuYT1hLl9fZ2V0YXR0cl9fKCJlbmNvZGUiKS5fX2NhbGxfXygpO3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPV9zaGE1MTIuX19jYWxsX18oYSkuX19nZXRhdHRyX18oImRpZ2VzdCIpLl9fY2FsbF9fKCk7aWYoIWhhc2F0dHIoYSwiX19pYWRkX18iKSl2YXIgYT0kbG9jYWxzLmE9YS5fX2FkZF9fKCR0ZW1wKTtlbHNlIGE9YS5fX2lhZGRfXygkdGVtcCk7dmFyIGE9JGxvY2Fscy5hPWludC5fX2dldGF0dHJfXygiZnJvbV9ieXRlcyIpLl9fY2FsbF9fKGEsJ2JpZycpO31fcmFuZG9tLl9fZ2V0YXR0cl9fKCJSYW5kb20iKS5fX2dldGF0dHJfXygic2VlZCIpLl9fY2FsbF9fKHNlbGYsYSk7c2VsZi5fX3NldGF0dHJfXygiZ2F1c3NfbmV4dCIsTm9uZSk7fWNhdGNoKGVycjQ1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDUpO319O30pKE5vbmUpOyRjbGFzcy5zZWVkLl9fbmFtZV9fPSJzZWVkIjskY2xhc3MuZ2V0c3RhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJnZXRzdGF0ZSIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS56MXp2eGlsby5fX2RpY3RfXz0kbnM7IlJldHVybiBpbnRlcm5hbCBzdGF0ZTsgY2FuIGJlIHBhc3NlZCB0byBzZXRzdGF0ZSgpIGxhdGVyLiI7cmV0dXJuIHR1cGxlKFtzZWxmLl9fZ2V0YXR0cl9fKCJWRVJTSU9OIiksJCRzdXBlci5fX2NhbGxfXygpLl9fZ2V0YXR0cl9fKCJnZXRzdGF0ZSIpLl9fY2FsbF9fKCksc2VsZi5fX2dldGF0dHJfXygiZ2F1c3NfbmV4dCIpXSk7fWNhdGNoKGVycjQ2KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDYpO319O30pKCk7JGNsYXNzLmdldHN0YXRlLl9fbmFtZV9fPSJnZXRzdGF0ZSI7JGNsYXNzLnNldHN0YXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2V0c3RhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJzdGF0ZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5jY2h1amM3Mi5fX2RpY3RfXz0kbnM7IlJlc3RvcmUgaW50ZXJuYWwgc3RhdGUgZnJvbSBvYmplY3QgcmV0dXJuZWQgYnkgZ2V0c3RhdGUoKS4iO3ZhciB2ZXJzaW9uPSRsb2NhbHMudmVyc2lvbj1zdGF0ZS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpO2lmKGJvb2wodmVyc2lvbi5fX2VxX18oTnVtYmVyKDMpKSkpeyRyaWdodD1zdGF0ZTtpZigkcmlnaHQuX19sZW5fXygpPjMpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMykiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Myl0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHZlcnNpb249JGxvY2Fscy52ZXJzaW9uPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgaW50ZXJuYWxzdGF0ZT0kbG9jYWxzLmludGVybmFsc3RhdGU9JHJpZ2h0Ll9faXRlbV9fKDEpO3NlbGYuX19zZXRhdHRyX18oImdhdXNzX25leHQiLCRyaWdodC5fX2l0ZW1fXygyKSk7JCRzdXBlci5fX2NhbGxfXygpLl9fZ2V0YXR0cl9fKCJzZXRzdGF0ZSIpLl9fY2FsbF9fKGludGVybmFsc3RhdGUpO31lbHNlIGlmKGJvb2wodmVyc2lvbi5fX2VxX18oTnVtYmVyKDIpKSkpeyRyaWdodD1zdGF0ZTtpZigkcmlnaHQuX19sZW5fXygpPjMpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMykiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Myl0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIHZlcnNpb249JGxvY2Fscy52ZXJzaW9uPSRyaWdodC5fX2l0ZW1fXygwKTt2YXIgaW50ZXJuYWxzdGF0ZT0kbG9jYWxzLmludGVybmFsc3RhdGU9JHJpZ2h0Ll9faXRlbV9fKDEpO3NlbGYuX19zZXRhdHRyX18oImdhdXNzX25leHQiLCRyaWdodC5fX2l0ZW1fXygyKSk7dHJ5e3ZhciBpbnRlcm5hbHN0YXRlPSRsb2NhbHMuaW50ZXJuYWxzdGF0ZT10dXBsZS5fX2NhbGxfXygkZ2VuX2V4cHIoeydpbnRlcm5hbHN0YXRlJzppbnRlcm5hbHN0YXRlfSwieCAlICgyKiozMikgIiwiZm9yIHggaW4gaW50ZXJuYWxzdGF0ZSIpKTt9Y2F0Y2goJGVycjQ2KXtpZihmYWxzZSl2b2lkIDA7ZWxzZSBpZihbIlZhbHVlRXJyb3IiXS5pbmRleE9mKCRlcnI0Ni5fX25hbWVfXyk+LTEpe3ZhciBlPV9fQlJZVEhPTl9fLmV4Y2VwdGlvbigkZXJyNDYpO3Rocm93IFR5cGVFcnJvci5fX2NhbGxfXyhlKTt9ZWxzZSB0aHJvdyAkZXJyNDY7fSQkc3VwZXIuX19jYWxsX18oKS5fX2dldGF0dHJfXygic2V0c3RhdGUiKS5fX2NhbGxfXyhpbnRlcm5hbHN0YXRlKTt9ZWxzZSB0aHJvdyBWYWx1ZUVycm9yLl9fY2FsbF9fKCJzdGF0ZSB3aXRoIHZlcnNpb24gJXMgcGFzc2VkIHRvICIrIlJhbmRvbS5zZXRzdGF0ZSgpIG9mIHZlcnNpb24gJXMiLl9fbW9kX18odHVwbGUoW3ZlcnNpb24sc2VsZi5fX2dldGF0dHJfXygiVkVSU0lPTiIpXSkpKTt9Y2F0Y2goZXJyNDYpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0Nik7fX07fSkoKTskY2xhc3Muc2V0c3RhdGUuX19uYW1lX189InNldHN0YXRlIjskY2xhc3MuX19nZXRzdGF0ZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19nZXRzdGF0ZV9fIixhcmd1bWVudHMsWyJzZWxmIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnlraXZzaGY0Ll9fZGljdF9fPSRucztyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygiZ2V0c3RhdGUiKS5fX2NhbGxfXygpO31jYXRjaChlcnI0Nyl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjQ3KTt9fTt9KSgpOyRjbGFzcy5fX2dldHN0YXRlX18uX19uYW1lX189Il9fZ2V0c3RhdGVfXyI7JGNsYXNzLl9fc2V0c3RhdGVfXz0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl9fc2V0c3RhdGVfXyIsYXJndW1lbnRzLFsic2VsZiIsInN0YXRlIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmxhYmQ0eHRkLl9fZGljdF9fPSRucztzZWxmLl9fZ2V0YXR0cl9fKCJzZXRzdGF0ZSIpLl9fY2FsbF9fKHN0YXRlKTt9Y2F0Y2goZXJyNDcpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0Nyk7fX07fSkoKTskY2xhc3MuX19zZXRzdGF0ZV9fLl9fbmFtZV9fPSJfX3NldHN0YXRlX18iOyRjbGFzcy5fX3JlZHVjZV9fPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX19yZWR1Y2VfXyIsYXJndW1lbnRzLFsic2VsZiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5hYWh5MHVsai5fX2RpY3RfXz0kbnM7cmV0dXJuIHR1cGxlKFtzZWxmLl9fZ2V0YXR0cl9fKCJfX2NsYXNzX18iKSx0dXBsZShbXSksc2VsZi5fX2dldGF0dHJfXygiZ2V0c3RhdGUiKS5fX2NhbGxfXygpXSk7fWNhdGNoKGVycjQ3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDcpO319O30pKCk7JGNsYXNzLl9fcmVkdWNlX18uX19uYW1lX189Il9fcmVkdWNlX18iOyRjbGFzcy5yYW5kcmFuZ2U9KGZ1bmN0aW9uKE5vbmUsaW50KXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInJhbmRyYW5nZSIsYXJndW1lbnRzLFsic2VsZiIsInN0YXJ0Il0seyJzdG9wIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksInN0ZXAiOk51bWJlcigxKSwiaW50IjooJGNsYXNzLmludCE9PXVuZGVmaW5lZD8kY2xhc3MuaW50OmludCl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS56ZGxnY3BlOC5fX2RpY3RfXz0kbnM7IkNob29zZSBhIHJhbmRvbSBpdGVtIGZyb20gcmFuZ2Uoc3RhcnQsIHN0b3BbLCBzdGVwXSkuXG5cbiAgICAgICAgVGhpcyBmaXhlcyB0aGUgcHJvYmxlbSB3aXRoIHJhbmRpbnQoKSB3aGljaCBpbmNsdWRlcyB0aGVcbiAgICAgICAgZW5kcG9pbnQ7IGluIFB5dGhvbiB0aGlzIGlzIHVzdWFsbHkgbm90IHdoYXQgeW91IHdhbnQuXG5cbiAgICAgICAgRG8gbm90IHN1cHBseSB0aGUgJ2ludCcgYXJndW1lbnQuXG4gICAgICAgICI7dmFyIGlzdGFydD0kbG9jYWxzLmlzdGFydD1pbnQuX19jYWxsX18oc3RhcnQpO2lmKGJvb2woaXN0YXJ0Ll9fbmVfXyhzdGFydCkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oIm5vbi1pbnRlZ2VyIGFyZyAxIGZvciByYW5kcmFuZ2UoKSIpO2lmKGJvb2woc3RvcD09PU5vbmUpKXtpZihib29sKGlzdGFydC5fX2d0X18oTnVtYmVyKDApKSkpcmV0dXJuIHNlbGYuX19nZXRhdHRyX18oIl9yYW5kYmVsb3ciKS5fX2NhbGxfXyhpc3RhcnQpO3Rocm93IFZhbHVlRXJyb3IuX19jYWxsX18oImVtcHR5IHJhbmdlIGZvciByYW5kcmFuZ2UoKSIpO312YXIgaXN0b3A9JGxvY2Fscy5pc3RvcD1pbnQuX19jYWxsX18oc3RvcCk7aWYoYm9vbChpc3RvcC5fX25lX18oc3RvcCkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oIm5vbi1pbnRlZ2VyIHN0b3AgZm9yIHJhbmRyYW5nZSgpIik7dmFyIHdpZHRoPSRsb2NhbHMud2lkdGg9aXN0b3AuX19zdWJfXyhpc3RhcnQpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHN0ZXAuX19lcV9fKE51bWJlcigxKSkpJiYkdGVzdF9pdGVtKHdpZHRoLl9fZ3RfXyhOdW1iZXIoMCkpKSkpKXJldHVybiBpc3RhcnQuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJfcmFuZGJlbG93IikuX19jYWxsX18od2lkdGgpKTtpZihib29sKHN0ZXAuX19lcV9fKE51bWJlcigxKSkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oImVtcHR5IHJhbmdlIGZvciByYW5kcmFuZ2UoKSAoJWQsJWQsICVkKSIuX19tb2RfXyh0dXBsZShbaXN0YXJ0LGlzdG9wLHdpZHRoXSkpKTt2YXIgaXN0ZXA9JGxvY2Fscy5pc3RlcD1pbnQuX19jYWxsX18oc3RlcCk7aWYoYm9vbChpc3RlcC5fX25lX18oc3RlcCkpKXRocm93IFZhbHVlRXJyb3IuX19jYWxsX18oIm5vbi1pbnRlZ2VyIHN0ZXAgZm9yIHJhbmRyYW5nZSgpIik7aWYoYm9vbChpc3RlcC5fX2d0X18oTnVtYmVyKDApKSkpdmFyIG49JGxvY2Fscy5uPXdpZHRoLl9fYWRkX18oaXN0ZXAuX19zdWJfXyhOdW1iZXIoMSkpKS5fX2Zsb29yZGl2X18oaXN0ZXApO2Vsc2UgaWYoYm9vbChpc3RlcC5fX2x0X18oTnVtYmVyKDApKSkpdmFyIG49JGxvY2Fscy5uPXdpZHRoLl9fYWRkX18oaXN0ZXApLl9fYWRkX18oTnVtYmVyKDEpKS5fX2Zsb29yZGl2X18oaXN0ZXApO2Vsc2UgdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygiemVybyBzdGVwIGZvciByYW5kcmFuZ2UoKSIpO2lmKGJvb2wobi5fX2xlX18oTnVtYmVyKDApKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygiZW1wdHkgcmFuZ2UgZm9yIHJhbmRyYW5nZSgpIik7cmV0dXJuIGlzdGFydC5fX2FkZF9fKGlzdGVwLl9fbXVsX18oc2VsZi5fX2dldGF0dHJfXygiX3JhbmRiZWxvdyIpLl9fY2FsbF9fKG4pKSk7fWNhdGNoKGVycjQ3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDcpO319O30pKE5vbmUsaW50KTskY2xhc3MucmFuZHJhbmdlLl9fbmFtZV9fPSJyYW5kcmFuZ2UiOyRjbGFzcy5yYW5kaW50PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicmFuZGludCIsYXJndW1lbnRzLFsic2VsZiIsImEiLCJiIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmwzN3NsbzNuLl9fZGljdF9fPSRuczsiUmV0dXJuIHJhbmRvbSBpbnRlZ2VyIGluIHJhbmdlIFthLCBiXSwgaW5jbHVkaW5nIGJvdGggZW5kIHBvaW50cy5cbiAgICAgICAgIjtyZXR1cm4gc2VsZi5fX2dldGF0dHJfXygicmFuZHJhbmdlIikuX19jYWxsX18oYSxiLl9fYWRkX18oTnVtYmVyKDEpKSk7fWNhdGNoKGVycjQ3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDcpO319O30pKCk7JGNsYXNzLnJhbmRpbnQuX19uYW1lX189InJhbmRpbnQiOyRjbGFzcy5fcmFuZGJlbG93PShmdW5jdGlvbihpbnQsdHlwZSxfTWV0aG9kVHlwZSxfQnVpbHRpbk1ldGhvZFR5cGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX3JhbmRiZWxvdyIsYXJndW1lbnRzLFsic2VsZiIsIm4iXSx7ImludCI6KCRjbGFzcy5pbnQhPT11bmRlZmluZWQ/JGNsYXNzLmludDppbnQpLCJtYXhzaXplIjpOdW1iZXIoMSkuX19sc2hpZnRfXygoJGNsYXNzLkJQRiE9PXVuZGVmaW5lZD8kY2xhc3MuQlBGOkJQRikpLCJ0eXBlIjooJGNsYXNzLnR5cGUhPT11bmRlZmluZWQ/JGNsYXNzLnR5cGU6dHlwZSksIk1ldGhvZCI6KCRjbGFzcy5fTWV0aG9kVHlwZSE9PXVuZGVmaW5lZD8kY2xhc3MuX01ldGhvZFR5cGU6X01ldGhvZFR5cGUpLCJCdWlsdGluTWV0aG9kIjooJGNsYXNzLl9CdWlsdGluTWV0aG9kVHlwZSE9PXVuZGVmaW5lZD8kY2xhc3MuX0J1aWx0aW5NZXRob2RUeXBlOl9CdWlsdGluTWV0aG9kVHlwZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS53Mzk2d2VkZi5fX2RpY3RfXz0kbnM7IlJldHVybiBhIHJhbmRvbSBpbnQgaW4gdGhlIHJhbmdlIFswLG4pLiAgUmFpc2VzIFZhbHVlRXJyb3IgaWYgbj09MC4iO3ZhciBnZXRyYW5kYml0cz0kbG9jYWxzLmdldHJhbmRiaXRzPXNlbGYuX19nZXRhdHRyX18oImdldHJhbmRiaXRzIik7aWYoYm9vbCgkdGVzdF9leHByKCR0ZXN0X2l0ZW0odHlwZS5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJyYW5kb20iKSk9PT1CdWlsdGluTWV0aG9kKXx8JHRlc3RfaXRlbSh0eXBlLl9fY2FsbF9fKGdldHJhbmRiaXRzKT09PU1ldGhvZCkpKSl7dmFyIGs9JGxvY2Fscy5rPW4uX19nZXRhdHRyX18oImJpdF9sZW5ndGgiKS5fX2NhbGxfXygpO3ZhciByPSRsb2NhbHMucj1nZXRyYW5kYml0cy5fX2NhbGxfXyhrKTt3aGlsZShib29sKHIuX19nZV9fKG4pKSl2YXIgcj0kbG9jYWxzLnI9Z2V0cmFuZGJpdHMuX19jYWxsX18oayk7cmV0dXJuIHI7fXZhciByYW5kb209JGxvY2Fscy5yYW5kb209c2VsZi5fX2dldGF0dHJfXygicmFuZG9tIik7aWYoYm9vbChuLl9fZ2VfXyhtYXhzaXplKSkpe193YXJuLl9fY2FsbF9fKCJVbmRlcmx5aW5nIHJhbmRvbSgpIGdlbmVyYXRvciBkb2VzIG5vdCBzdXBwbHkgXG4iKyJlbm91Z2ggYml0cyB0byBjaG9vc2UgZnJvbSBhIHBvcHVsYXRpb24gcmFuZ2UgdGhpcyBsYXJnZS5cbiIrIlRvIHJlbW92ZSB0aGUgcmFuZ2UgbGltaXRhdGlvbiwgYWRkIGEgZ2V0cmFuZGJpdHMoKSBtZXRob2QuIik7cmV0dXJuIGludC5fX2NhbGxfXyhyYW5kb20uX19jYWxsX18oKS5fX211bF9fKG4pKTt9dmFyIHJlbT0kbG9jYWxzLnJlbT1tYXhzaXplLl9fbW9kX18obik7dmFyIGxpbWl0PSRsb2NhbHMubGltaXQ9bWF4c2l6ZS5fX3N1Yl9fKHJlbSkuX190cnVlZGl2X18obWF4c2l6ZSk7dmFyIHI9JGxvY2Fscy5yPXJhbmRvbS5fX2NhbGxfXygpO3doaWxlKGJvb2woci5fX2dlX18obGltaXQpKSl2YXIgcj0kbG9jYWxzLnI9cmFuZG9tLl9fY2FsbF9fKCk7cmV0dXJuIGludC5fX2NhbGxfXyhyLl9fbXVsX18obWF4c2l6ZSkpLl9fbW9kX18obik7fWNhdGNoKGVycjQ3KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDcpO319O30pKGludCx0eXBlLF9NZXRob2RUeXBlLF9CdWlsdGluTWV0aG9kVHlwZSk7JGNsYXNzLl9yYW5kYmVsb3cuX19uYW1lX189Il9yYW5kYmVsb3ciOyRjbGFzcy5jaG9pY2U9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJjaG9pY2UiLGFyZ3VtZW50cyxbInNlbGYiLCJzZXEiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUucXRzaWs0dnouX19kaWN0X189JG5zOyJDaG9vc2UgYSByYW5kb20gZWxlbWVudCBmcm9tIGEgbm9uLWVtcHR5IHNlcXVlbmNlLiI7dHJ5e3ZhciBpPSRsb2NhbHMuaT1zZWxmLl9fZ2V0YXR0cl9fKCJfcmFuZGJlbG93IikuX19jYWxsX18obGVuLl9fY2FsbF9fKHNlcSkpO31jYXRjaCgkZXJyNDcpe2lmKGZhbHNlKXZvaWQgMDtlbHNlIGlmKFsiVmFsdWVFcnJvciJdLmluZGV4T2YoJGVycjQ3Ll9fbmFtZV9fKT4tMSl0aHJvdyBJbmRleEVycm9yLl9fY2FsbF9fKCdDYW5ub3QgY2hvb3NlIGZyb20gYW4gZW1wdHkgc2VxdWVuY2UnKTtlbHNlIHRocm93ICRlcnI0Nzt9cmV0dXJuIHNlcS5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShpKTt9Y2F0Y2goZXJyNDcpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0Nyk7fX07fSkoKTskY2xhc3MuY2hvaWNlLl9fbmFtZV9fPSJjaG9pY2UiOyRjbGFzcy5zaHVmZmxlPShmdW5jdGlvbihOb25lLGludCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJzaHVmZmxlIixhcmd1bWVudHMsWyJzZWxmIiwieCJdLHsicmFuZG9tIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSksImludCI6KCRjbGFzcy5pbnQhPT11bmRlZmluZWQ/JGNsYXNzLmludDppbnQpfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUub3lkdHptY3UuX19kaWN0X189JG5zOyJ4LCByYW5kb209cmFuZG9tLnJhbmRvbSAtPiBzaHVmZmxlIGxpc3QgeCBpbiBwbGFjZTsgcmV0dXJuIE5vbmUuXG5cbiAgICAgICAgT3B0aW9uYWwgYXJnIHJhbmRvbSBpcyBhIDAtYXJndW1lbnQgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcmFuZG9tXG4gICAgICAgIGZsb2F0IGluIFswLjAsIDEuMCk7IGJ5IGRlZmF1bHQsIHRoZSBzdGFuZGFyZCByYW5kb20ucmFuZG9tLlxuICAgICAgICAiO3ZhciByYW5kYmVsb3c9JGxvY2Fscy5yYW5kYmVsb3c9c2VsZi5fX2dldGF0dHJfXygiX3JhbmRiZWxvdyIpO3ZhciAkaXRlcjQ4PXJldmVyc2VkLl9fY2FsbF9fKHJhbmdlLl9fY2FsbF9fKE51bWJlcigxKSxsZW4uX19jYWxsX18oeCkpKTtmb3IodmFyICRpNDg9MDskaTQ4PCRpdGVyNDguX19sZW5fXygpOyRpNDgrKyl7dmFyIGk9JGxvY2Fscy5pPSRpdGVyNDguX19pdGVtX18oJGk0OCk7dmFyIGo9JGxvY2Fscy5qPSR0ZXJuYXJ5KHsicmFuZGJlbG93IjpyYW5kYmVsb3csImkiOmksInJhbmRvbSI6cmFuZG9tLCJOb25lIjpOb25lLCJpbnQiOmludH0sInJhbmRvbT09PU5vbmUiLCJyYW5kYmVsb3cuX19jYWxsX18oaS5fX2FkZF9fKE51bWJlcigxKSkpIiwiaW50Ll9fY2FsbF9fKHJhbmRvbS5fX2NhbGxfXygpLl9fbXVsX18oaS5fX2FkZF9fKE51bWJlcigxKSkpKSIpOyRyaWdodD10dXBsZShbeC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShqKSx4Ll9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGkpXSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3guX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoaSwkcmlnaHQuX19pdGVtX18oMCkpO3guX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoaiwkcmlnaHQuX19pdGVtX18oMSkpO319Y2F0Y2goZXJyNDgpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI0OCk7fX07fSkoTm9uZSxpbnQpOyRjbGFzcy5zaHVmZmxlLl9fbmFtZV9fPSJzaHVmZmxlIjskY2xhc3Muc2FtcGxlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2FtcGxlIixhcmd1bWVudHMsWyJzZWxmIiwicG9wdWxhdGlvbiIsImsiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuY214NjNqMmwuX19kaWN0X189JG5zOyJDaG9vc2VzIGsgdW5pcXVlIHJhbmRvbSBlbGVtZW50cyBmcm9tIGEgcG9wdWxhdGlvbiBzZXF1ZW5jZSBvciBzZXQuXG5cbiAgICAgICAgUmV0dXJucyBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgZWxlbWVudHMgZnJvbSB0aGUgcG9wdWxhdGlvbiB3aGlsZVxuICAgICAgICBsZWF2aW5nIHRoZSBvcmlnaW5hbCBwb3B1bGF0aW9uIHVuY2hhbmdlZC4gIFRoZSByZXN1bHRpbmcgbGlzdCBpc1xuICAgICAgICBpbiBzZWxlY3Rpb24gb3JkZXIgc28gdGhhdCBhbGwgc3ViLXNsaWNlcyB3aWxsIGFsc28gYmUgdmFsaWQgcmFuZG9tXG4gICAgICAgIHNhbXBsZXMuICBUaGlzIGFsbG93cyByYWZmbGUgd2lubmVycyAodGhlIHNhbXBsZSkgdG8gYmUgcGFydGl0aW9uZWRcbiAgICAgICAgaW50byBncmFuZCBwcml6ZSBhbmQgc2Vjb25kIHBsYWNlIHdpbm5lcnMgKHRoZSBzdWJzbGljZXMpLlxuXG4gICAgICAgIE1lbWJlcnMgb2YgdGhlIHBvcHVsYXRpb24gbmVlZCBub3QgYmUgaGFzaGFibGUgb3IgdW5pcXVlLiAgSWYgdGhlXG4gICAgICAgIHBvcHVsYXRpb24gY29udGFpbnMgcmVwZWF0cywgdGhlbiBlYWNoIG9jY3VycmVuY2UgaXMgYSBwb3NzaWJsZVxuICAgICAgICBzZWxlY3Rpb24gaW4gdGhlIHNhbXBsZS5cblxuICAgICAgICBUbyBjaG9vc2UgYSBzYW1wbGUgaW4gYSByYW5nZSBvZiBpbnRlZ2VycywgdXNlIHJhbmdlIGFzIGFuIGFyZ3VtZW50LlxuICAgICAgICBUaGlzIGlzIGVzcGVjaWFsbHkgZmFzdCBhbmQgc3BhY2UgZWZmaWNpZW50IGZvciBzYW1wbGluZyBmcm9tIGFcbiAgICAgICAgbGFyZ2UgcG9wdWxhdGlvbjogICBzYW1wbGUocmFuZ2UoMTAwMDAwMDApLCA2MClcbiAgICAgICAgIjtpZihib29sKGlzaW5zdGFuY2UuX19jYWxsX18ocG9wdWxhdGlvbixfU2V0KSkpdmFyIHBvcHVsYXRpb249JGxvY2Fscy5wb3B1bGF0aW9uPXR1cGxlLl9fY2FsbF9fKHBvcHVsYXRpb24pO2lmKGJvb2woIWJvb2woaXNpbnN0YW5jZS5fX2NhbGxfXyhwb3B1bGF0aW9uLF9TZXF1ZW5jZSkpKSl0aHJvdyBUeXBlRXJyb3IuX19jYWxsX18oIlBvcHVsYXRpb24gbXVzdCBiZSBhIHNlcXVlbmNlIG9yIHNldC4gIEZvciBkaWN0cywgdXNlIGxpc3QoZCkuIik7dmFyIHJhbmRiZWxvdz0kbG9jYWxzLnJhbmRiZWxvdz1zZWxmLl9fZ2V0YXR0cl9fKCJfcmFuZGJlbG93Iik7dmFyIG49JGxvY2Fscy5uPWxlbi5fX2NhbGxfXyhwb3B1bGF0aW9uKTtpZihib29sKCFib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShOdW1iZXIoMCkuX19sZV9fKGspKSYmJHRlc3RfaXRlbShrLl9fbGVfXyhuKSkpKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygiU2FtcGxlIGxhcmdlciB0aGFuIHBvcHVsYXRpb24iKTt2YXIgcmVzdWx0PSRsb2NhbHMucmVzdWx0PWxpc3QoW05vbmVdKS5fX211bF9fKGspO3ZhciBzZXRzaXplPSRsb2NhbHMuc2V0c2l6ZT1OdW1iZXIoMjEpO2lmKGJvb2woay5fX2d0X18oTnVtYmVyKDUpKSkpe3ZhciAkdGVtcD0kbG9jYWxzLiR0ZW1wPU51bWJlcig0KS5fX3Bvd19fKF9jZWlsLl9fY2FsbF9fKF9sb2cuX19jYWxsX18oay5fX211bF9fKE51bWJlcigzKSksTnVtYmVyKDQpKSkpO2lmKCFoYXNhdHRyKHNldHNpemUsIl9faWFkZF9fIikpdmFyIHNldHNpemU9JGxvY2Fscy5zZXRzaXplPXNldHNpemUuX19hZGRfXygkdGVtcCk7ZWxzZSBzZXRzaXplPXNldHNpemUuX19pYWRkX18oJHRlbXApO31pZihib29sKG4uX19sZV9fKHNldHNpemUpKSl7dmFyIHBvb2w9JGxvY2Fscy5wb29sPWxpc3QuX19jYWxsX18ocG9wdWxhdGlvbik7dmFyICRpdGVyNDk9cmFuZ2UuX19jYWxsX18oayk7Zm9yKHZhciAkaTQ5PTA7JGk0OTwkaXRlcjQ5Ll9fbGVuX18oKTskaTQ5Kyspe3ZhciBpPSRsb2NhbHMuaT0kaXRlcjQ5Ll9faXRlbV9fKCRpNDkpO3ZhciBqPSRsb2NhbHMuaj1yYW5kYmVsb3cuX19jYWxsX18obi5fX3N1Yl9fKGkpKTtyZXN1bHQuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoaSxwb29sLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGopKTtwb29sLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKGoscG9vbC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShuLl9fc3ViX18oaSkuX19zdWJfXyhOdW1iZXIoMSkpKSk7fX1lbHNle3ZhciBzZWxlY3RlZD0kbG9jYWxzLnNlbGVjdGVkPXNldC5fX2NhbGxfXygpO3ZhciBzZWxlY3RlZF9hZGQ9JGxvY2Fscy5zZWxlY3RlZF9hZGQ9c2VsZWN0ZWQuX19nZXRhdHRyX18oImFkZCIpO3ZhciAkaXRlcjUwPXJhbmdlLl9fY2FsbF9fKGspO2Zvcih2YXIgJGk1MD0wOyRpNTA8JGl0ZXI1MC5fX2xlbl9fKCk7JGk1MCsrKXt2YXIgaT0kbG9jYWxzLmk9JGl0ZXI1MC5fX2l0ZW1fXygkaTUwKTt2YXIgaj0kbG9jYWxzLmo9cmFuZGJlbG93Ll9fY2FsbF9fKG4pO3doaWxlKGJvb2woai5fX2luX18oc2VsZWN0ZWQpKSl2YXIgaj0kbG9jYWxzLmo9cmFuZGJlbG93Ll9fY2FsbF9fKG4pO3NlbGVjdGVkX2FkZC5fX2NhbGxfXyhqKTtyZXN1bHQuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoaSxwb3B1bGF0aW9uLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGopKTt9fXJldHVybiByZXN1bHQ7fWNhdGNoKGVycjQ5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNDkpO319O30pKCk7JGNsYXNzLnNhbXBsZS5fX25hbWVfXz0ic2FtcGxlIjskY2xhc3MudW5pZm9ybT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInVuaWZvcm0iLGFyZ3VtZW50cyxbInNlbGYiLCJhIiwiYiJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiM213MmFnNmUiXS5fX2RpY3RfXz0kbnM7IkdldCBhIHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIFthLCBiKSBvciBbYSwgYl0gZGVwZW5kaW5nIG9uIHJvdW5kaW5nLiI7cmV0dXJuIGEuX19hZGRfXyhiLl9fc3ViX18oYSkuX19tdWxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJyYW5kb20iKS5fX2NhbGxfXygpKSk7fWNhdGNoKGVycjUxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTEpO319O30pKCk7JGNsYXNzLnVuaWZvcm0uX19uYW1lX189InVuaWZvcm0iOyRjbGFzcy50cmlhbmd1bGFyPShmdW5jdGlvbihOb25lKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoInRyaWFuZ3VsYXIiLGFyZ3VtZW50cyxbInNlbGYiXSx7ImxvdyI6ZmxvYXQoMCksImhpZ2giOmZsb2F0KDEpLCJtb2RlIjooJGNsYXNzLk5vbmUhPT11bmRlZmluZWQ/JGNsYXNzLk5vbmU6Tm9uZSl9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5mOWJicndkaS5fX2RpY3RfXz0kbnM7IlRyaWFuZ3VsYXIgZGlzdHJpYnV0aW9uLlxuXG4gICAgICAgIENvbnRpbnVvdXMgZGlzdHJpYnV0aW9uIGJvdW5kZWQgYnkgZ2l2ZW4gbG93ZXIgYW5kIHVwcGVyIGxpbWl0cyxcbiAgICAgICAgYW5kIGhhdmluZyBhIGdpdmVuIG1vZGUgdmFsdWUgaW4tYmV0d2Vlbi5cblxuICAgICAgICBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RyaWFuZ3VsYXJfZGlzdHJpYnV0aW9uXG5cbiAgICAgICAgIjt2YXIgdT0kbG9jYWxzLnU9c2VsZi5fX2dldGF0dHJfXygicmFuZG9tIikuX19jYWxsX18oKTt2YXIgYz0kbG9jYWxzLmM9JHRlcm5hcnkoeyJtb2RlIjptb2RlLCJOb25lIjpOb25lLCJsb3ciOmxvdywiaGlnaCI6aGlnaH0sIm1vZGU9PT1Ob25lIiwiZmxvYXQoMC41KSIsIm1vZGUuX19zdWJfXyhsb3cpLl9fdHJ1ZWRpdl9fKGhpZ2guX19zdWJfXyhsb3cpKSIpO2lmKGJvb2wodS5fX2d0X18oYykpKXt2YXIgdT0kbG9jYWxzLnU9ZmxvYXQoMSkuX19zdWJfXyh1KTt2YXIgYz0kbG9jYWxzLmM9ZmxvYXQoMSkuX19zdWJfXyhjKTskcmlnaHQ9dHVwbGUoW2hpZ2gsbG93XSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBsb3c9JGxvY2Fscy5sb3c9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBoaWdoPSRsb2NhbHMuaGlnaD0kcmlnaHQuX19pdGVtX18oMSk7fXJldHVybiBsb3cuX19hZGRfXyhoaWdoLl9fc3ViX18obG93KS5fX211bF9fKHUuX19tdWxfXyhjKS5fX3Bvd19fKGZsb2F0KDAuNSkpKSk7fWNhdGNoKGVycjUxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTEpO319O30pKE5vbmUpOyRjbGFzcy50cmlhbmd1bGFyLl9fbmFtZV9fPSJ0cmlhbmd1bGFyIjskY2xhc3Mubm9ybWFsdmFyaWF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm5vcm1hbHZhcmlhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJtdSIsInNpZ21hIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlWyI5MDRsMGt6biJdLl9fZGljdF9fPSRuczsiTm9ybWFsIGRpc3RyaWJ1dGlvbi5cblxuICAgICAgICBtdSBpcyB0aGUgbWVhbiwgYW5kIHNpZ21hIGlzIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24uXG5cbiAgICAgICAgIjt2YXIgcmFuZG9tPSRsb2NhbHMucmFuZG9tPXNlbGYuX19nZXRhdHRyX18oInJhbmRvbSIpO3doaWxlKGJvb2woTnVtYmVyKDEpKSl7dmFyIHUxPSRsb2NhbHMudTE9cmFuZG9tLl9fY2FsbF9fKCk7dmFyIHUyPSRsb2NhbHMudTI9ZmxvYXQoMSkuX19zdWJfXyhyYW5kb20uX19jYWxsX18oKSk7dmFyIHo9JGxvY2Fscy56PU5WX01BR0lDQ09OU1QuX19tdWxfXyh1MS5fX3N1Yl9fKGZsb2F0KDAuNSkpKS5fX3RydWVkaXZfXyh1Mik7dmFyIHp6PSRsb2NhbHMueno9ei5fX211bF9fKHopLl9fdHJ1ZWRpdl9fKGZsb2F0KDQpKTtpZihib29sKHp6Ll9fbGVfXyhfbG9nLl9fY2FsbF9fKHUyKS5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCkpKSlicmVhazt9cmV0dXJuIG11Ll9fYWRkX18oei5fX211bF9fKHNpZ21hKSk7fWNhdGNoKGVycjUxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTEpO319O30pKCk7JGNsYXNzLm5vcm1hbHZhcmlhdGUuX19uYW1lX189Im5vcm1hbHZhcmlhdGUiOyRjbGFzcy5sb2dub3JtdmFyaWF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImxvZ25vcm12YXJpYXRlIixhcmd1bWVudHMsWyJzZWxmIiwibXUiLCJzaWdtYSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5kZmJwNjRxMi5fX2RpY3RfXz0kbnM7IkxvZyBub3JtYWwgZGlzdHJpYnV0aW9uLlxuXG4gICAgICAgIElmIHlvdSB0YWtlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGlzIGRpc3RyaWJ1dGlvbiwgeW91J2xsIGdldCBhXG4gICAgICAgIG5vcm1hbCBkaXN0cmlidXRpb24gd2l0aCBtZWFuIG11IGFuZCBzdGFuZGFyZCBkZXZpYXRpb24gc2lnbWEuXG4gICAgICAgIG11IGNhbiBoYXZlIGFueSB2YWx1ZSwgYW5kIHNpZ21hIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8uXG5cbiAgICAgICAgIjtyZXR1cm4gX2V4cC5fX2NhbGxfXyhzZWxmLl9fZ2V0YXR0cl9fKCJub3JtYWx2YXJpYXRlIikuX19jYWxsX18obXUsc2lnbWEpKTt9Y2F0Y2goZXJyNTEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1MSk7fX07fSkoKTskY2xhc3MubG9nbm9ybXZhcmlhdGUuX19uYW1lX189ImxvZ25vcm12YXJpYXRlIjskY2xhc3MuZXhwb3ZhcmlhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJleHBvdmFyaWF0ZSIsYXJndW1lbnRzLFsic2VsZiIsImxhbWJkIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmQ5bGo0MjdsLl9fZGljdF9fPSRuczsiRXhwb25lbnRpYWwgZGlzdHJpYnV0aW9uLlxuXG4gICAgICAgIGxhbWJkIGlzIDEuMCBkaXZpZGVkIGJ5IHRoZSBkZXNpcmVkIG1lYW4uICBJdCBzaG91bGQgYmVcbiAgICAgICAgbm9uemVyby4gIChUaGUgcGFyYW1ldGVyIHdvdWxkIGJlIGNhbGxlZCBcImxhbWJkYVwiLCBidXQgdGhhdCBpc1xuICAgICAgICBhIHJlc2VydmVkIHdvcmQgaW4gUHl0aG9uLikgIFJldHVybmVkIHZhbHVlcyByYW5nZSBmcm9tIDAgdG9cbiAgICAgICAgcG9zaXRpdmUgaW5maW5pdHkgaWYgbGFtYmQgaXMgcG9zaXRpdmUsIGFuZCBmcm9tIG5lZ2F0aXZlXG4gICAgICAgIGluZmluaXR5IHRvIDAgaWYgbGFtYmQgaXMgbmVnYXRpdmUuXG5cbiAgICAgICAgIjtyZXR1cm4gX2xvZy5fX2NhbGxfXyhmbG9hdCgxKS5fX3N1Yl9fKHNlbGYuX19nZXRhdHRyX18oInJhbmRvbSIpLl9fY2FsbF9fKCkpKS5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCkuX190cnVlZGl2X18obGFtYmQpO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5leHBvdmFyaWF0ZS5fX25hbWVfXz0iZXhwb3ZhcmlhdGUiOyRjbGFzcy52b25taXNlc3ZhcmlhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ2b25taXNlc3ZhcmlhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJtdSIsImthcHBhIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmc3N3ZmZ3I0Ll9fZGljdF9fPSRuczsiQ2lyY3VsYXIgZGF0YSBkaXN0cmlidXRpb24uXG5cbiAgICAgICAgbXUgaXMgdGhlIG1lYW4gYW5nbGUsIGV4cHJlc3NlZCBpbiByYWRpYW5zIGJldHdlZW4gMCBhbmQgMipwaSwgYW5kXG4gICAgICAgIGthcHBhIGlzIHRoZSBjb25jZW50cmF0aW9uIHBhcmFtZXRlciwgd2hpY2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3JcbiAgICAgICAgZXF1YWwgdG8gemVyby4gIElmIGthcHBhIGlzIGVxdWFsIHRvIHplcm8sIHRoaXMgZGlzdHJpYnV0aW9uIHJlZHVjZXNcbiAgICAgICAgdG8gYSB1bmlmb3JtIHJhbmRvbSBhbmdsZSBvdmVyIHRoZSByYW5nZSAwIHRvIDIqcGkuXG5cbiAgICAgICAgIjt2YXIgcmFuZG9tPSRsb2NhbHMucmFuZG9tPXNlbGYuX19nZXRhdHRyX18oInJhbmRvbSIpO2lmKGJvb2woa2FwcGEuX19sZV9fKGZsb2F0KDFlLTYpKSkpcmV0dXJuIFRXT1BJLl9fbXVsX18ocmFuZG9tLl9fY2FsbF9fKCkpO3ZhciBhPSRsb2NhbHMuYT1mbG9hdCgxKS5fX2FkZF9fKF9zcXJ0Ll9fY2FsbF9fKGZsb2F0KDEpLl9fYWRkX18oZmxvYXQoNCkuX19tdWxfXyhrYXBwYSkuX19tdWxfXyhrYXBwYSkpKSk7dmFyIGI9JGxvY2Fscy5iPWEuX19zdWJfXyhfc3FydC5fX2NhbGxfXyhmbG9hdCgyKS5fX211bF9fKGEpKSkuX190cnVlZGl2X18oZmxvYXQoMikuX19tdWxfXyhrYXBwYSkpO3ZhciByPSRsb2NhbHMucj1mbG9hdCgxKS5fX2FkZF9fKGIuX19tdWxfXyhiKSkuX190cnVlZGl2X18oZmxvYXQoMikuX19tdWxfXyhiKSk7d2hpbGUoYm9vbChOdW1iZXIoMSkpKXt2YXIgdTE9JGxvY2Fscy51MT1yYW5kb20uX19jYWxsX18oKTt2YXIgej0kbG9jYWxzLno9X2Nvcy5fX2NhbGxfXyhfcGkuX19tdWxfXyh1MSkpO3ZhciBmPSRsb2NhbHMuZj1mbG9hdCgxKS5fX2FkZF9fKHIuX19tdWxfXyh6KSkuX190cnVlZGl2X18oci5fX2FkZF9fKHopKTt2YXIgYz0kbG9jYWxzLmM9a2FwcGEuX19tdWxfXyhyLl9fc3ViX18oZikpO3ZhciB1Mj0kbG9jYWxzLnUyPXJhbmRvbS5fX2NhbGxfXygpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHUyLl9fbHRfXyhjLl9fbXVsX18oZmxvYXQoMikuX19zdWJfXyhjKSkpKXx8JHRlc3RfaXRlbSh1Mi5fX2xlX18oYy5fX211bF9fKF9leHAuX19jYWxsX18oZmxvYXQoMSkuX19zdWJfXyhjKSkpKSkpKSlicmVhazt9dmFyIHUzPSRsb2NhbHMudTM9cmFuZG9tLl9fY2FsbF9fKCk7aWYoYm9vbCh1My5fX2d0X18oZmxvYXQoMC41KSkpKXZhciB0aGV0YT0kbG9jYWxzLnRoZXRhPW11Ll9fbW9kX18oVFdPUEkpLl9fYWRkX18oX2Fjb3MuX19jYWxsX18oZikpO2Vsc2UgdmFyIHRoZXRhPSRsb2NhbHMudGhldGE9bXUuX19tb2RfXyhUV09QSSkuX19zdWJfXyhfYWNvcy5fX2NhbGxfXyhmKSk7cmV0dXJuIHRoZXRhO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy52b25taXNlc3ZhcmlhdGUuX19uYW1lX189InZvbm1pc2VzdmFyaWF0ZSI7JGNsYXNzLmdhbW1hdmFyaWF0ZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImdhbW1hdmFyaWF0ZSIsYXJndW1lbnRzLFsic2VsZiIsImFscGhhIiwiYmV0YSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5wc3R5MnpwMS5fX2RpY3RfXz0kbnM7IkdhbW1hIGRpc3RyaWJ1dGlvbi4gIE5vdCB0aGUgZ2FtbWEgZnVuY3Rpb24hXG5cbiAgICAgICAgQ29uZGl0aW9ucyBvbiB0aGUgcGFyYW1ldGVycyBhcmUgYWxwaGEgPiAwIGFuZCBiZXRhID4gMC5cblxuICAgICAgICBUaGUgcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uIGZ1bmN0aW9uIGlzOlxuXG4gICAgICAgICAgICAgICAgICAgIHggKiogKGFscGhhIC0gMSkgKiBtYXRoLmV4cCgteCAvIGJldGEpXG4gICAgICAgICAgcGRmKHgpID0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgICAgICAgbWF0aC5nYW1tYShhbHBoYSkgKiBiZXRhICoqIGFscGhhXG5cbiAgICAgICAgIjtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShhbHBoYS5fX2xlX18oZmxvYXQoMCkpKXx8JHRlc3RfaXRlbShiZXRhLl9fbGVfXyhmbG9hdCgwKSkpKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygnZ2FtbWF2YXJpYXRlOiBhbHBoYSBhbmQgYmV0YSBtdXN0IGJlID4gMC4wJyk7dmFyIHJhbmRvbT0kbG9jYWxzLnJhbmRvbT1zZWxmLl9fZ2V0YXR0cl9fKCJyYW5kb20iKTtpZihib29sKGFscGhhLl9fZ3RfXyhmbG9hdCgxKSkpKXt2YXIgYWludj0kbG9jYWxzLmFpbnY9X3NxcnQuX19jYWxsX18oZmxvYXQoMikuX19tdWxfXyhhbHBoYSkuX19zdWJfXyhmbG9hdCgxKSkpO3ZhciBiYmI9JGxvY2Fscy5iYmI9YWxwaGEuX19zdWJfXyhMT0c0KTt2YXIgY2NjPSRsb2NhbHMuY2NjPWFscGhhLl9fYWRkX18oYWludik7d2hpbGUoYm9vbChOdW1iZXIoMSkpKXt2YXIgdTE9JGxvY2Fscy51MT1yYW5kb20uX19jYWxsX18oKTtpZihib29sKCFib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShmbG9hdCgxZS03KS5fX2x0X18odTEpKSYmJHRlc3RfaXRlbSh1MS5fX2x0X18oZmxvYXQoMC45OTk5OTk5KSkpKSkpKWNvbnRpbnVlO3ZhciB1Mj0kbG9jYWxzLnUyPWZsb2F0KDEpLl9fc3ViX18ocmFuZG9tLl9fY2FsbF9fKCkpO3ZhciB2PSRsb2NhbHMudj1fbG9nLl9fY2FsbF9fKHUxLl9fdHJ1ZWRpdl9fKGZsb2F0KDEpLl9fc3ViX18odTEpKSkuX190cnVlZGl2X18oYWludik7dmFyIHg9JGxvY2Fscy54PWFscGhhLl9fbXVsX18oX2V4cC5fX2NhbGxfXyh2KSk7dmFyIHo9JGxvY2Fscy56PXUxLl9fbXVsX18odTEpLl9fbXVsX18odTIpO3ZhciByPSRsb2NhbHMucj1iYmIuX19hZGRfXyhjY2MuX19tdWxfXyh2KS5fX3N1Yl9fKHgpKTtpZihib29sKCR0ZXN0X2V4cHIoJHRlc3RfaXRlbShyLl9fYWRkX18oU0dfTUFHSUNDT05TVC5fX3N1Yl9fKGZsb2F0KDQuNSkuX19tdWxfXyh6KSkpLl9fZ2VfXyhmbG9hdCgwKSkpfHwkdGVzdF9pdGVtKHIuX19nZV9fKF9sb2cuX19jYWxsX18oeikpKSkpKXJldHVybiB4Ll9fbXVsX18oYmV0YSk7fX1lbHNlIGlmKGJvb2woYWxwaGEuX19lcV9fKGZsb2F0KDEpKSkpe3ZhciB1PSRsb2NhbHMudT1yYW5kb20uX19jYWxsX18oKTt3aGlsZShib29sKHUuX19sZV9fKGZsb2F0KDFlLTcpKSkpdmFyIHU9JGxvY2Fscy51PXJhbmRvbS5fX2NhbGxfXygpO3JldHVybiBfbG9nLl9fY2FsbF9fKHUpLl9fZ2V0YXR0cl9fKCJfX25lZ19fIikuX19jYWxsX18oKS5fX211bF9fKGJldGEpO31lbHNle3doaWxlKGJvb2woTnVtYmVyKDEpKSl7dmFyIHU9JGxvY2Fscy51PXJhbmRvbS5fX2NhbGxfXygpO3ZhciBiPSRsb2NhbHMuYj1fZS5fX2FkZF9fKGFscGhhKS5fX3RydWVkaXZfXyhfZSk7dmFyIHA9JGxvY2Fscy5wPWIuX19tdWxfXyh1KTtpZihib29sKHAuX19sZV9fKGZsb2F0KDEpKSkpdmFyIHg9JGxvY2Fscy54PXAuX19wb3dfXyhmbG9hdCgxKS5fX3RydWVkaXZfXyhhbHBoYSkpO2Vsc2UgdmFyIHg9JGxvY2Fscy54PV9sb2cuX19jYWxsX18oYi5fX3N1Yl9fKHApLl9fdHJ1ZWRpdl9fKGFscGhhKSkuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpO3ZhciB1MT0kbG9jYWxzLnUxPXJhbmRvbS5fX2NhbGxfXygpO2lmKGJvb2wocC5fX2d0X18oZmxvYXQoMSkpKSl7aWYoYm9vbCh1MS5fX2xlX18oeC5fX3Bvd19fKGFscGhhLl9fc3ViX18oZmxvYXQoMSkpKSkpKWJyZWFrO31lbHNlIGlmKGJvb2wodTEuX19sZV9fKF9leHAuX19jYWxsX18oeC5fX2dldGF0dHJfXygiX19uZWdfXyIpLl9fY2FsbF9fKCkpKSkpYnJlYWs7fXJldHVybiB4Ll9fbXVsX18oYmV0YSk7fX1jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5nYW1tYXZhcmlhdGUuX19uYW1lX189ImdhbW1hdmFyaWF0ZSI7JGNsYXNzLmdhdXNzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZ2F1c3MiLGFyZ3VtZW50cyxbInNlbGYiLCJtdSIsInNpZ21hIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmthZ2pvdWprLl9fZGljdF9fPSRuczsiR2F1c3NpYW4gZGlzdHJpYnV0aW9uLlxuXG4gICAgICAgIG11IGlzIHRoZSBtZWFuLCBhbmQgc2lnbWEgaXMgdGhlIHN0YW5kYXJkIGRldmlhdGlvbi4gIFRoaXMgaXNcbiAgICAgICAgc2xpZ2h0bHkgZmFzdGVyIHRoYW4gdGhlIG5vcm1hbHZhcmlhdGUoKSBmdW5jdGlvbi5cblxuICAgICAgICBOb3QgdGhyZWFkLXNhZmUgd2l0aG91dCBhIGxvY2sgYXJvdW5kIGNhbGxzLlxuXG4gICAgICAgICI7dmFyIHJhbmRvbT0kbG9jYWxzLnJhbmRvbT1zZWxmLl9fZ2V0YXR0cl9fKCJyYW5kb20iKTt2YXIgej0kbG9jYWxzLno9c2VsZi5fX2dldGF0dHJfXygiZ2F1c3NfbmV4dCIpO3NlbGYuX19zZXRhdHRyX18oImdhdXNzX25leHQiLE5vbmUpO2lmKGJvb2woej09PU5vbmUpKXt2YXIgeDJwaT0kbG9jYWxzLngycGk9cmFuZG9tLl9fY2FsbF9fKCkuX19tdWxfXyhUV09QSSk7dmFyIGcycmFkPSRsb2NhbHMuZzJyYWQ9X3NxcnQuX19jYWxsX18oZmxvYXQoLTIpLl9fbXVsX18oX2xvZy5fX2NhbGxfXyhmbG9hdCgxKS5fX3N1Yl9fKHJhbmRvbS5fX2NhbGxfXygpKSkpKTt2YXIgej0kbG9jYWxzLno9X2Nvcy5fX2NhbGxfXyh4MnBpKS5fX211bF9fKGcycmFkKTtzZWxmLl9fc2V0YXR0cl9fKCJnYXVzc19uZXh0Iixfc2luLl9fY2FsbF9fKHgycGkpLl9fbXVsX18oZzJyYWQpKTt9cmV0dXJuIG11Ll9fYWRkX18oei5fX211bF9fKHNpZ21hKSk7fWNhdGNoKGVycjUxKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTEpO319O30pKCk7JGNsYXNzLmdhdXNzLl9fbmFtZV9fPSJnYXVzcyI7JGNsYXNzLmJldGF2YXJpYXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiYmV0YXZhcmlhdGUiLGFyZ3VtZW50cyxbInNlbGYiLCJhbHBoYSIsImJldGEiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuemx3b2RrbnUuX19kaWN0X189JG5zOyJCZXRhIGRpc3RyaWJ1dGlvbi5cblxuICAgICAgICBDb25kaXRpb25zIG9uIHRoZSBwYXJhbWV0ZXJzIGFyZSBhbHBoYSA+IDAgYW5kIGJldGEgPiAwLlxuICAgICAgICBSZXR1cm5lZCB2YWx1ZXMgcmFuZ2UgYmV0d2VlbiAwIGFuZCAxLlxuXG4gICAgICAgICI7dmFyIHk9JGxvY2Fscy55PXNlbGYuX19nZXRhdHRyX18oImdhbW1hdmFyaWF0ZSIpLl9fY2FsbF9fKGFscGhhLGZsb2F0KDEpKTtpZihib29sKHkuX19lcV9fKE51bWJlcigwKSkpKXJldHVybiBmbG9hdCgwKTtlbHNlIHJldHVybiB5Ll9fdHJ1ZWRpdl9fKHkuX19hZGRfXyhzZWxmLl9fZ2V0YXR0cl9fKCJnYW1tYXZhcmlhdGUiKS5fX2NhbGxfXyhiZXRhLGZsb2F0KDEpKSkpO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5iZXRhdmFyaWF0ZS5fX25hbWVfXz0iYmV0YXZhcmlhdGUiOyRjbGFzcy5wYXJldG92YXJpYXRlPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygicGFyZXRvdmFyaWF0ZSIsYXJndW1lbnRzLFsic2VsZiIsImFscGhhIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLmVhMG9jb24xLl9fZGljdF9fPSRuczsiUGFyZXRvIGRpc3RyaWJ1dGlvbi4gIGFscGhhIGlzIHRoZSBzaGFwZSBwYXJhbWV0ZXIuIjt2YXIgdT0kbG9jYWxzLnU9ZmxvYXQoMSkuX19zdWJfXyhzZWxmLl9fZ2V0YXR0cl9fKCJyYW5kb20iKS5fX2NhbGxfXygpKTtyZXR1cm4gZmxvYXQoMSkuX190cnVlZGl2X18odS5fX3Bvd19fKGZsb2F0KDEpLl9fdHJ1ZWRpdl9fKGFscGhhKSkpO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5wYXJldG92YXJpYXRlLl9fbmFtZV9fPSJwYXJldG92YXJpYXRlIjskY2xhc3Mud2VpYnVsbHZhcmlhdGU9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJ3ZWlidWxsdmFyaWF0ZSIsYXJndW1lbnRzLFsic2VsZiIsImFscGhhIiwiYmV0YSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNThydzNjd2wiXS5fX2RpY3RfXz0kbnM7IldlaWJ1bGwgZGlzdHJpYnV0aW9uLlxuXG4gICAgICAgIGFscGhhIGlzIHRoZSBzY2FsZSBwYXJhbWV0ZXIgYW5kIGJldGEgaXMgdGhlIHNoYXBlIHBhcmFtZXRlci5cblxuICAgICAgICAiO3ZhciB1PSRsb2NhbHMudT1mbG9hdCgxKS5fX3N1Yl9fKHNlbGYuX19nZXRhdHRyX18oInJhbmRvbSIpLl9fY2FsbF9fKCkpO3JldHVybiBhbHBoYS5fX211bF9fKF9sb2cuX19jYWxsX18odSkuX19nZXRhdHRyX18oIl9fbmVnX18iKS5fX2NhbGxfXygpLl9fcG93X18oZmxvYXQoMSkuX190cnVlZGl2X18oYmV0YSkpKTt9Y2F0Y2goZXJyNTEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1MSk7fX07fSkoKTskY2xhc3Mud2VpYnVsbHZhcmlhdGUuX19uYW1lX189IndlaWJ1bGx2YXJpYXRlIjtyZXR1cm4gJGNsYXNzO30pKCk7dmFyIFJhbmRvbT0kY2xhc3NfY29uc3RydWN0b3IoIlJhbmRvbSIsJFJhbmRvbSxfcmFuZG9tLl9fZ2V0YXR0cl9fKCJSYW5kb20iKSk7X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLlJhbmRvbT1SYW5kb207dmFyICRTeXN0ZW1SYW5kb209KGZ1bmN0aW9uKCl7dmFyICRjbGFzcz1uZXcgT2JqZWN0KCk7IkFsdGVybmF0ZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvciB1c2luZyBzb3VyY2VzIHByb3ZpZGVkXG4gICAgYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0gKHN1Y2ggYXMgL2Rldi91cmFuZG9tIG9uIFVuaXggb3JcbiAgICBDcnlwdEdlblJhbmRvbSBvbiBXaW5kb3dzKS5cblxuICAgICBOb3QgYXZhaWxhYmxlIG9uIGFsbCBzeXN0ZW1zIChzZWUgb3MudXJhbmRvbSgpIGZvciBkZXRhaWxzKS5cbiAgICAiOyRjbGFzcy5yYW5kb209KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJyYW5kb20iLGFyZ3VtZW50cyxbInNlbGYiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubWdha2pubGouX19kaWN0X189JG5zOyJHZXQgdGhlIG5leHQgcmFuZG9tIG51bWJlciBpbiB0aGUgcmFuZ2UgWzAuMCwgMS4wKS4iO3JldHVybiBpbnQuX19nZXRhdHRyX18oImZyb21fYnl0ZXMiKS5fX2NhbGxfXyhfdXJhbmRvbS5fX2NhbGxfXyhOdW1iZXIoNykpLCdiaWcnKS5fX3JzaGlmdF9fKE51bWJlcigzKSkuX19tdWxfXyhSRUNJUF9CUEYpO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5yYW5kb20uX19uYW1lX189InJhbmRvbSI7JGNsYXNzLmdldHJhbmRiaXRzPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiZ2V0cmFuZGJpdHMiLGFyZ3VtZW50cyxbInNlbGYiLCJrIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnU2ZW9nYjJuLl9fZGljdF9fPSRuczsiZ2V0cmFuZGJpdHMoaykgLT4geC4gIEdlbmVyYXRlcyBhIGxvbmcgaW50IHdpdGggayByYW5kb20gYml0cy4iO2lmKGJvb2woay5fX2xlX18oTnVtYmVyKDApKSkpdGhyb3cgVmFsdWVFcnJvci5fX2NhbGxfXygnbnVtYmVyIG9mIGJpdHMgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybycpO2lmKGJvb2woay5fX25lX18oaW50Ll9fY2FsbF9fKGspKSkpdGhyb3cgVHlwZUVycm9yLl9fY2FsbF9fKCdudW1iZXIgb2YgYml0cyBzaG91bGQgYmUgYW4gaW50ZWdlcicpO3ZhciBudW1ieXRlcz0kbG9jYWxzLm51bWJ5dGVzPWsuX19hZGRfXyhOdW1iZXIoNykpLl9fZmxvb3JkaXZfXyhOdW1iZXIoOCkpO3ZhciB4PSRsb2NhbHMueD1pbnQuX19nZXRhdHRyX18oImZyb21fYnl0ZXMiKS5fX2NhbGxfXyhfdXJhbmRvbS5fX2NhbGxfXyhudW1ieXRlcyksJ2JpZycpO3JldHVybiB4Ll9fcnNoaWZ0X18obnVtYnl0ZXMuX19tdWxfXyhOdW1iZXIoOCkpLl9fc3ViX18oaykpO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5nZXRyYW5kYml0cy5fX25hbWVfXz0iZ2V0cmFuZGJpdHMiOyRjbGFzcy5zZWVkPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygic2VlZCIsYXJndW1lbnRzLFsic2VsZiJdLHt9LCJhcmdzIiwia3dkcyIpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjlocnY2Nzg3Il0uX19kaWN0X189JG5zOyJTdHViIG1ldGhvZC4gIE5vdCB1c2VkIGZvciBhIHN5c3RlbSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci4iO3JldHVybiBOb25lO31jYXRjaChlcnI1MSl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUxKTt9fTt9KSgpOyRjbGFzcy5zZWVkLl9fbmFtZV9fPSJzZWVkIjskY2xhc3MuX25vdGltcGxlbWVudGVkPShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiX25vdGltcGxlbWVudGVkIixhcmd1bWVudHMsWyJzZWxmIl0se30sImFyZ3MiLCJrd2RzIik7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5lcGRtdzlraS5fX2RpY3RfXz0kbnM7Ik1ldGhvZCBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3IgYSBzeXN0ZW0gcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuIjt0aHJvdyBOb3RJbXBsZW1lbnRlZEVycm9yLl9fY2FsbF9fKCdTeXN0ZW0gZW50cm9weSBzb3VyY2UgZG9lcyBub3QgaGF2ZSBzdGF0ZS4nKTt9Y2F0Y2goZXJyNTEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1MSk7fX07fSkoKTskY2xhc3MuX25vdGltcGxlbWVudGVkLl9fbmFtZV9fPSJfbm90aW1wbGVtZW50ZWQiOyRjbGFzcy5zZXRzdGF0ZT0oJGNsYXNzLl9ub3RpbXBsZW1lbnRlZCE9PXVuZGVmaW5lZD8kY2xhc3MuX25vdGltcGxlbWVudGVkOl9ub3RpbXBsZW1lbnRlZCk7JGNsYXNzLmdldHN0YXRlPXNldHN0YXRlO3JldHVybiAkY2xhc3M7fSkoKTt2YXIgU3lzdGVtUmFuZG9tPSRjbGFzc19jb25zdHJ1Y3RvcigiU3lzdGVtUmFuZG9tIiwkU3lzdGVtUmFuZG9tLFJhbmRvbSk7X19CUllUSE9OX18uc2NvcGVbInJhbmRvbS5weSJdLl9fZGljdF9fLlN5c3RlbVJhbmRvbT1TeXN0ZW1SYW5kb207dmFyIF90ZXN0X2dlbmVyYXRvcj0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIl90ZXN0X2dlbmVyYXRvciIsYXJndW1lbnRzLFsibiIsImZ1bmMiLCJhcmdzIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnRtYnZubmtvLl9fZGljdF9fPSRuczskbW9kcz0kaW1wb3J0X2xpc3QoW1sidGltZSIsInRpbWUiXV0pO3ZhciB0aW1lPSRsb2NhbHMudGltZT0kbW9kc1swXTs7Tm9uZTskcHJpbnQuX19jYWxsX18obiwndGltZXMnLGZ1bmMuX19nZXRhdHRyX18oIl9fbmFtZV9fIikpO3ZhciB0b3RhbD0kbG9jYWxzLnRvdGFsPWZsb2F0KDApO3ZhciBzcXN1bT0kbG9jYWxzLnNxc3VtPWZsb2F0KDApO3ZhciBzbWFsbGVzdD0kbG9jYWxzLnNtYWxsZXN0PWZsb2F0KDFlMTApO3ZhciBsYXJnZXN0PSRsb2NhbHMubGFyZ2VzdD1mbG9hdCgtMTAwMDAwMDAwMDApO3ZhciB0MD0kbG9jYWxzLnQwPXRpbWUuX19nZXRhdHRyX18oInRpbWUiKS5fX2NhbGxfXygpO3ZhciAkaXRlcjUxPXJhbmdlLl9fY2FsbF9fKG4pO2Zvcih2YXIgJGk1MT0wOyRpNTE8JGl0ZXI1MS5fX2xlbl9fKCk7JGk1MSsrKXt2YXIgaT0kbG9jYWxzLmk9JGl0ZXI1MS5fX2l0ZW1fXygkaTUxKTt2YXIgeD0kbG9jYWxzLng9ZnVuYy5fX2NhbGxfXygkcHR1cGxlKGFyZ3MpKTt2YXIgJHRlbXA9JGxvY2Fscy4kdGVtcD14O2lmKCFoYXNhdHRyKHRvdGFsLCJfX2lhZGRfXyIpKXZhciB0b3RhbD0kbG9jYWxzLnRvdGFsPXRvdGFsLl9fYWRkX18oJHRlbXApO2Vsc2UgdG90YWw9dG90YWwuX19pYWRkX18oJHRlbXApO3ZhciBzcXN1bT0kbG9jYWxzLnNxc3VtPXNxc3VtLl9fYWRkX18oeC5fX211bF9fKHgpKTt2YXIgc21hbGxlc3Q9JGxvY2Fscy5zbWFsbGVzdD1taW4uX19jYWxsX18oeCxzbWFsbGVzdCk7dmFyIGxhcmdlc3Q9JGxvY2Fscy5sYXJnZXN0PW1heC5fX2NhbGxfXyh4LGxhcmdlc3QpO312YXIgdDE9JGxvY2Fscy50MT10aW1lLl9fZ2V0YXR0cl9fKCJ0aW1lIikuX19jYWxsX18oKTskcHJpbnQuX19jYWxsX18ocm91bmQuX19jYWxsX18odDEuX19zdWJfXyh0MCksTnVtYmVyKDMpKSwnc2VjLCcsJEt3KCJlbmQiLCcgJykpO3ZhciBhdmc9JGxvY2Fscy5hdmc9dG90YWwuX190cnVlZGl2X18obik7dmFyIHN0ZGRldj0kbG9jYWxzLnN0ZGRldj1fc3FydC5fX2NhbGxfXyhzcXN1bS5fX3RydWVkaXZfXyhuKS5fX3N1Yl9fKGF2Zy5fX211bF9fKGF2ZykpKTskcHJpbnQuX19jYWxsX18oJ2F2ZyAlZywgc3RkZGV2ICVnLCBtaW4gJWcsIG1heCAlZycuX19tb2RfXyh0dXBsZShbYXZnLHN0ZGRldixzbWFsbGVzdCxsYXJnZXN0XSkpKTt9Y2F0Y2goZXJyNTEpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1MSk7fX07fSkoKTtfdGVzdF9nZW5lcmF0b3IuX19uYW1lX189Il90ZXN0X2dlbmVyYXRvciI7JGdsb2JhbHMuX3Rlc3RfZ2VuZXJhdG9yPV90ZXN0X2dlbmVyYXRvcjt2YXIgX3Rlc3Q9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfdGVzdCIsYXJndW1lbnRzLFtdLHsiTiI6TnVtYmVyKDIwMDApfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubTV5bXJtMXAuX19kaWN0X189JG5zO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLHJhbmRvbSx0dXBsZShbXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLG5vcm1hbHZhcmlhdGUsdHVwbGUoW2Zsb2F0KDApLGZsb2F0KDEpXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLGxvZ25vcm12YXJpYXRlLHR1cGxlKFtmbG9hdCgwKSxmbG9hdCgxKV0pKTtfdGVzdF9nZW5lcmF0b3IuX19jYWxsX18oTix2b25taXNlc3ZhcmlhdGUsdHVwbGUoW2Zsb2F0KDApLGZsb2F0KDEpXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLGdhbW1hdmFyaWF0ZSx0dXBsZShbZmxvYXQoMC4wMSksZmxvYXQoMSldKSk7X3Rlc3RfZ2VuZXJhdG9yLl9fY2FsbF9fKE4sZ2FtbWF2YXJpYXRlLHR1cGxlKFtmbG9hdCgwLjEpLGZsb2F0KDEpXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLGdhbW1hdmFyaWF0ZSx0dXBsZShbZmxvYXQoMC4xKSxmbG9hdCgyKV0pKTtfdGVzdF9nZW5lcmF0b3IuX19jYWxsX18oTixnYW1tYXZhcmlhdGUsdHVwbGUoW2Zsb2F0KDAuNSksZmxvYXQoMSldKSk7X3Rlc3RfZ2VuZXJhdG9yLl9fY2FsbF9fKE4sZ2FtbWF2YXJpYXRlLHR1cGxlKFtmbG9hdCgwLjkpLGZsb2F0KDEpXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLGdhbW1hdmFyaWF0ZSx0dXBsZShbZmxvYXQoMSksZmxvYXQoMSldKSk7X3Rlc3RfZ2VuZXJhdG9yLl9fY2FsbF9fKE4sZ2FtbWF2YXJpYXRlLHR1cGxlKFtmbG9hdCgyKSxmbG9hdCgxKV0pKTtfdGVzdF9nZW5lcmF0b3IuX19jYWxsX18oTixnYW1tYXZhcmlhdGUsdHVwbGUoW2Zsb2F0KDIwKSxmbG9hdCgxKV0pKTtfdGVzdF9nZW5lcmF0b3IuX19jYWxsX18oTixnYW1tYXZhcmlhdGUsdHVwbGUoW2Zsb2F0KDIwMCksZmxvYXQoMSldKSk7X3Rlc3RfZ2VuZXJhdG9yLl9fY2FsbF9fKE4sZ2F1c3MsdHVwbGUoW2Zsb2F0KDApLGZsb2F0KDEpXSkpO190ZXN0X2dlbmVyYXRvci5fX2NhbGxfXyhOLGJldGF2YXJpYXRlLHR1cGxlKFtmbG9hdCgzKSxmbG9hdCgzKV0pKTtfdGVzdF9nZW5lcmF0b3IuX19jYWxsX18oTix0cmlhbmd1bGFyLHR1cGxlKFtmbG9hdCgwKSxmbG9hdCgxKSxmbG9hdCgxKS5fX3RydWVkaXZfXyhmbG9hdCgzKSldKSk7fWNhdGNoKGVycjUyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTIpO319O30pKCk7X3Rlc3QuX19uYW1lX189Il90ZXN0IjskZ2xvYmFscy5fdGVzdD1fdGVzdDt2YXIgX2luc3Q9JGdsb2JhbHMuX2luc3Q9UmFuZG9tLl9fY2FsbF9fKCk7dmFyIHNlZWQ9JGdsb2JhbHMuc2VlZD1faW5zdC5fX2dldGF0dHJfXygic2VlZCIpO3ZhciByYW5kb209JGdsb2JhbHMucmFuZG9tPV9pbnN0Ll9fZ2V0YXR0cl9fKCJyYW5kb20iKTt2YXIgdW5pZm9ybT0kZ2xvYmFscy51bmlmb3JtPV9pbnN0Ll9fZ2V0YXR0cl9fKCJ1bmlmb3JtIik7dmFyIHRyaWFuZ3VsYXI9JGdsb2JhbHMudHJpYW5ndWxhcj1faW5zdC5fX2dldGF0dHJfXygidHJpYW5ndWxhciIpO3ZhciByYW5kaW50PSRnbG9iYWxzLnJhbmRpbnQ9X2luc3QuX19nZXRhdHRyX18oInJhbmRpbnQiKTt2YXIgY2hvaWNlPSRnbG9iYWxzLmNob2ljZT1faW5zdC5fX2dldGF0dHJfXygiY2hvaWNlIik7dmFyIHJhbmRyYW5nZT0kZ2xvYmFscy5yYW5kcmFuZ2U9X2luc3QuX19nZXRhdHRyX18oInJhbmRyYW5nZSIpO3ZhciBzYW1wbGU9JGdsb2JhbHMuc2FtcGxlPV9pbnN0Ll9fZ2V0YXR0cl9fKCJzYW1wbGUiKTt2YXIgc2h1ZmZsZT0kZ2xvYmFscy5zaHVmZmxlPV9pbnN0Ll9fZ2V0YXR0cl9fKCJzaHVmZmxlIik7dmFyIG5vcm1hbHZhcmlhdGU9JGdsb2JhbHMubm9ybWFsdmFyaWF0ZT1faW5zdC5fX2dldGF0dHJfXygibm9ybWFsdmFyaWF0ZSIpO3ZhciBsb2dub3JtdmFyaWF0ZT0kZ2xvYmFscy5sb2dub3JtdmFyaWF0ZT1faW5zdC5fX2dldGF0dHJfXygibG9nbm9ybXZhcmlhdGUiKTt2YXIgZXhwb3ZhcmlhdGU9JGdsb2JhbHMuZXhwb3ZhcmlhdGU9X2luc3QuX19nZXRhdHRyX18oImV4cG92YXJpYXRlIik7dmFyIHZvbm1pc2VzdmFyaWF0ZT0kZ2xvYmFscy52b25taXNlc3ZhcmlhdGU9X2luc3QuX19nZXRhdHRyX18oInZvbm1pc2VzdmFyaWF0ZSIpO3ZhciBnYW1tYXZhcmlhdGU9JGdsb2JhbHMuZ2FtbWF2YXJpYXRlPV9pbnN0Ll9fZ2V0YXR0cl9fKCJnYW1tYXZhcmlhdGUiKTt2YXIgZ2F1c3M9JGdsb2JhbHMuZ2F1c3M9X2luc3QuX19nZXRhdHRyX18oImdhdXNzIik7dmFyIGJldGF2YXJpYXRlPSRnbG9iYWxzLmJldGF2YXJpYXRlPV9pbnN0Ll9fZ2V0YXR0cl9fKCJiZXRhdmFyaWF0ZSIpO3ZhciBwYXJldG92YXJpYXRlPSRnbG9iYWxzLnBhcmV0b3ZhcmlhdGU9X2luc3QuX19nZXRhdHRyX18oInBhcmV0b3ZhcmlhdGUiKTt2YXIgd2VpYnVsbHZhcmlhdGU9JGdsb2JhbHMud2VpYnVsbHZhcmlhdGU9X2luc3QuX19nZXRhdHRyX18oIndlaWJ1bGx2YXJpYXRlIik7dmFyIGdldHN0YXRlPSRnbG9iYWxzLmdldHN0YXRlPV9pbnN0Ll9fZ2V0YXR0cl9fKCJnZXRzdGF0ZSIpO3ZhciBzZXRzdGF0ZT0kZ2xvYmFscy5zZXRzdGF0ZT1faW5zdC5fX2dldGF0dHJfXygic2V0c3RhdGUiKTt2YXIgZ2V0cmFuZGJpdHM9JGdsb2JhbHMuZ2V0cmFuZGJpdHM9X2luc3QuX19nZXRhdHRyX18oImdldHJhbmRiaXRzIik7cmV0dXJue193YXJuOl93YXJuLF9NZXRob2RUeXBlOl9NZXRob2RUeXBlLF9CdWlsdGluTWV0aG9kVHlwZTpfQnVpbHRpbk1ldGhvZFR5cGUsX2xvZzpfbG9nLF9leHA6X2V4cCxfcGk6X3BpLF9lOl9lLF9jZWlsOl9jZWlsLF9zcXJ0Ol9zcXJ0LF9hY29zOl9hY29zLF9jb3M6X2Nvcyxfc2luOl9zaW4sX3VyYW5kb206X3VyYW5kb20sX1NldDpfU2V0LF9TZXF1ZW5jZTpfU2VxdWVuY2UsX3NoYTUxMjpfc2hhNTEyLF9fYWxsX186X19hbGxfXyxOVl9NQUdJQ0NPTlNUOk5WX01BR0lDQ09OU1QsVFdPUEk6VFdPUEksTE9HNDpMT0c0LFNHX01BR0lDQ09OU1Q6U0dfTUFHSUNDT05TVCxCUEY6QlBGLFJFQ0lQX0JQRjpSRUNJUF9CUEYsUmFuZG9tOlJhbmRvbSxTeXN0ZW1SYW5kb206U3lzdGVtUmFuZG9tLF90ZXN0X2dlbmVyYXRvcjpfdGVzdF9nZW5lcmF0b3IsX3Rlc3Q6X3Rlc3QsX2luc3Q6X2luc3Qsc2VlZDpzZWVkLHJhbmRvbTpyYW5kb20sdW5pZm9ybTp1bmlmb3JtLHRyaWFuZ3VsYXI6dHJpYW5ndWxhcixyYW5kaW50OnJhbmRpbnQsY2hvaWNlOmNob2ljZSxyYW5kcmFuZ2U6cmFuZHJhbmdlLHNhbXBsZTpzYW1wbGUsc2h1ZmZsZTpzaHVmZmxlLG5vcm1hbHZhcmlhdGU6bm9ybWFsdmFyaWF0ZSxsb2dub3JtdmFyaWF0ZTpsb2dub3JtdmFyaWF0ZSxleHBvdmFyaWF0ZTpleHBvdmFyaWF0ZSx2b25taXNlc3ZhcmlhdGU6dm9ubWlzZXN2YXJpYXRlLGdhbW1hdmFyaWF0ZTpnYW1tYXZhcmlhdGUsZ2F1c3M6Z2F1c3MsYmV0YXZhcmlhdGU6YmV0YXZhcmlhdGUscGFyZXRvdmFyaWF0ZTpwYXJldG92YXJpYXRlLHdlaWJ1bGx2YXJpYXRlOndlaWJ1bGx2YXJpYXRlLGdldHN0YXRlOmdldHN0YXRlLHNldHN0YXRlOnNldHN0YXRlLGdldHJhbmRiaXRzOmdldHJhbmRiaXRzLF9fZ2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO30sX19zZXRhdHRyX186ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dGhpc1thdHRyXT12YWx1ZTt9fTt9KSgpOw==',
'/Lib/operator.py':'IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMw0KIiIiDQpPcGVyYXRvciBJbnRlcmZhY2UNCg0KVGhpcyBtb2R1bGUgZXhwb3J0cyBhIHNldCBvZiBmdW5jdGlvbnMgY29ycmVzcG9uZGluZyB0byB0aGUgaW50cmluc2ljIA0Kb3BlcmF0b3JzIG9mIFB5dGhvbi4gIEZvciBleGFtcGxlLCBvcGVyYXRvci5hZGQoeCwgeSkgaXMgZXF1aXZhbGVudCANCnRvIHRoZSBleHByZXNzaW9uIHgreS4gIFRoZSBmdW5jdGlvbiBuYW1lcyBhcmUgdGhvc2UgdXNlZCBmb3Igc3BlY2lhbCANCm1ldGhvZHM7IHZhcmlhbnRzIHdpdGhvdXQgbGVhZGluZyBhbmQgdHJhaWxpbmcgJ19fJyBhcmUgYWxzbyBwcm92aWRlZCANCmZvciBjb252ZW5pZW5jZS4NCg0KVGhpcyBpcyB0aGUgcHVyZSBQeXRob24gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1vZHVsZS4NCiIiIg0KDQojIGRvd25sb2FkZWQgZnJvbSBodHRwOi8vYnVncy5weXRob24ub3JnL2ZpbGUyODMyNy9vcGVyYXRvci5weQ0KDQojaW1wb3J0IGJ1aWx0aW5zIGFzIF9iaSAgI3RoZXJlIGlzIG5vIGJ1aWx0aW5zIG1vZHVsZQ0KDQpkZWYgbHQoYSwgYik6DQogICAgIlNhbWUgYXMgYSA8IGIuIg0KICAgIHJldHVybiBhIDwgYg0KX19sdF9fID0gbHQNCg0KZGVmIGxlKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPD0gYi4iDQogICAgcmV0dXJuIGEgPD0gYg0KX19sZV9fID0gbGUNCg0KZGVmIGVxKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPT0gYi4iDQogICAgcmV0dXJuIGEgPT0gYg0KX19lcV9fID0gZXENCg0KZGVmIG5lKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgIT0gYi4iDQogICAgcmV0dXJuIGEgIT0gYg0KX19uZV9fID0gbmUNCg0KZGVmIGdlKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPj0gYi4iDQogICAgcmV0dXJuIGEgPj0gYg0KX19nZV9fID0gZ2UNCg0KZGVmIGd0KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPiBiLiINCiAgICByZXR1cm4gYSA+IGINCl9fZ3RfXyA9IGd0DQoNCmRlZiBub3RfKGEpOg0KICAgICJTYW1lIGFzIG5vdCBhLiINCiAgICByZXR1cm4gbm90IGENCl9fbm90X18gPSBub3RfDQoNCmRlZiB0cnV0aChhKToNCiAgICAiUmV0dXJuIFRydWUgaWYgYSBpcyB0cnVlLCBGYWxzZSBvdGhlcndpc2UuIg0KICAgICNyZXR1cm4gX2JpLmJvb2woYSkNCiAgICByZXR1cm4gYm9vbChhKQ0KDQpkZWYgaXNfKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgaXMgYi4iDQogICAgcmV0dXJuIGEgaXMgYg0KDQojIGJyeXRob24gZG9lcyBub3QgbGlrZSAgKGNhdXNlcyBzeW50YXggZXJyb3IpDQojZGVmIGlzX25vdChhLCBiKToNCiMgICAgIlNhbWUgYXMgYSBpcyBub3QgYi4iDQojICAgIHJldHVybiBhIGlzIG5vdCBiDQoNCiNyZWN1cnNpb24gZXJyb3Igb3IganVzdCBjb21tZW50IG91dCBhbmQgYWRkIGNvZGUgYmVsb3cgZnVuY3Rpb24NCiNkZWYgYWJzKGEpOg0KIyAgICAiU2FtZSBhcyBhYnMoYSkuIg0KIyAgICAjcmV0dXJuIF9iaS5hYnMoYSkNCiMgICAgcmV0dXJuIGFicyhhKQ0KX19hYnNfXyA9IGFicw0KYWJzPWFicw0KDQoNCmRlZiBhZGQoYSwgYik6DQogICAgIlNhbWUgYXMgYSArIGIuIg0KICAgIHJldHVybiBhICsgYg0KX19hZGRfXyA9IGFkZA0KDQpkZWYgYW5kXyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICYgYi4iDQogICAgcmV0dXJuIGEgJiBiDQpfX2FuZF9fID0gYW5kXw0KDQpkZWYgZmxvb3JkaXYoYSwgYik6DQogICAgIlNhbWUgYXMgYSAvLyBiLiINCiAgICByZXR1cm4gYSAvLyBiDQpfX2Zsb29yZGl2X18gPSBmbG9vcmRpdg0KDQpkZWYgaW5kZXgoYSk6DQogICAgIlNhbWUgYXMgYS5fX2luZGV4X18oKS4iDQogICAgcmV0dXJuIGEuX19pbmRleF9fKCkNCl9faW5kZXhfXyA9IGluZGV4DQoNCmRlZiBpbnYoYSk6DQogICAgIlNhbWUgYXMgfmEuIg0KICAgICNyZXR1cm4gfmEgICAgI2JyeXRob24gZG9lcyBub3QgbGlrZQ0KICAgIHJldHVybiBhXigyKiozMSkNCmludmVydCA9IF9faW52X18gPSBfX2ludmVydF9fID0gaW52DQoNCmRlZiBsc2hpZnQoYSwgYik6DQogICAgIlNhbWUgYXMgYSA8PCBiLiINCiAgICByZXR1cm4gYSA8PCBiDQpfX2xzaGlmdF9fID0gbHNoaWZ0DQoNCmRlZiBtb2QoYSwgYik6DQogICAgIlNhbWUgYXMgYSAlIGIuIg0KICAgIHJldHVybiBhICUgYg0KX19tb2RfXyA9IG1vZA0KDQpkZWYgbXVsKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgKiBiLiINCiAgICByZXR1cm4gYSAqIGINCl9fbXVsX18gPSBtdWwNCg0KZGVmIG5lZyhhKToNCiAgICAiU2FtZSBhcyAtYS4iDQogICAgcmV0dXJuIC1hDQpfX25lZ19fID0gbmVnDQoNCmRlZiBvcl8oYSwgYik6DQogICAgIlNhbWUgYXMgYSB8IGIuIg0KICAgIHJldHVybiBhIHwgYg0KX19vcl9fID0gb3JfDQoNCmRlZiBwb3MoYSk6DQogICAgIlNhbWUgYXMgK2EuIg0KICAgICNyZXR1cm4gK2EgICAgI2JyeXRob24gZG9lcyBub3QgbGlrZQ0KICAgIGlmIGEgPj0gMDogcmV0dXJuIGENCiAgICByZXR1cm4gLWENCl9fcG9zX18gPSBwb3MNCg0KZGVmIHBvdyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICoqIGIuIg0KICAgIHJldHVybiBhICoqIGINCl9fcG93X18gPSBwb3cNCg0KZGVmIHJzaGlmdChhLCBiKToNCiAgICAiU2FtZSBhcyBhID4+IGIuIg0KICAgIHJldHVybiBhID4+IGINCl9fcnNoaWZ0X18gPSByc2hpZnQNCg0KZGVmIHN1YihhLCBiKToNCiAgICAiU2FtZSBhcyBhIC0gYi4iDQogICAgcmV0dXJuIGEgLSBiDQpfX3N1Yl9fID0gc3ViDQoNCmRlZiB0cnVlZGl2KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLyBiLiINCiAgICByZXR1cm4gYSAvIGINCl9fdHJ1ZWRpdl9fID0gdHJ1ZWRpdg0KDQpkZWYgeG9yKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgXiBiLiINCiAgICByZXR1cm4gYSBeIGINCl9feG9yX18gPSB4b3INCg0KZGVmIGNvbmNhdChhLCBiKToNCiAgICAiU2FtZSBhcyBhICsgYiwgZm9yIGEgYW5kIGIgc2VxdWVuY2VzLiINCiAgICBpZiBub3QgKGhhc2F0dHIoYSwgJ19fZ2V0aXRlbV9fJykgYW5kIGhhc2F0dHIoYiwgJ19fZ2V0aXRlbV9fJykpOg0KICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2EgYW5kIGIgbXVzdCBiZSBzZXF1ZW5jZXMnKQ0KICAgIHJldHVybiBhICsgYg0KX19jb25jYXRfXyA9IGNvbmNhdA0KDQpkZWYgY29udGFpbnMoYSwgYik6DQogICAgIlNhbWUgYXMgYiBpbiBhIChub3RlIHJldmVyc2VkIG9wZXJhbmRzKS4iDQogICAgcmV0dXJuIGIgaW4gYQ0KX19jb250YWluc19fID0gY29udGFpbnMNCg0KZGVmIGNvdW50T2YoYSwgYik6DQogICAgIlJldHVybiB0aGUgbnVtYmVyIG9mIHRpbWVzIGIgb2NjdXJzIGluIGEuIg0KICAgIGNvdW50ID0gMA0KICAgIGZvciBpIGluIGE6DQogICAgICAgIGlmIGkgPT0gYjoNCiAgICAgICAgICAgIGNvdW50ICs9IDENCiAgICByZXR1cm4gY291bnQNCg0KZGVmIGRlbGl0ZW0oYSwgYik6DQogICAgIlNhbWUgYXMgZGVsIGFbYl0uIg0KICAgIGRlbCBhW2JdDQpfX2RlbGl0ZW1fXyA9IGRlbGl0ZW0NCg0KZGVmIGdldGl0ZW0oYSwgYik6DQogICAgIlNhbWUgYXMgYVtiXS4iDQogICAgcmV0dXJuIGFbYl0NCl9fZ2V0aXRlbV9fID0gZ2V0aXRlbQ0KDQojZml4bWUgIGJyeXRob24gZG9lc24ndCBsaWtlIHRoaXMgZnVuY3Rpb24NCiNkZWYgaW5kZXhPZihhLCBiKToNCiMgICAgIlJldHVybiB0aGUgZmlyc3QgaW5kZXggb2YgYiBpbiBhLiINCiMgICAgZm9yIGksIGogaW4gX2JpLmVudW1lcmF0ZShhKToNCiMgICAgICAgIGlmIGogPT0gYjoNCiMgICAgICAgICAgICByZXR1cm4gaQ0KIyAgICBlbHNlOg0KIyAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignYiBub3QgZm91bmQgaW4gYScpDQoNCmRlZiBzZXRpdGVtKGEsIGIsIGMpOg0KICAgICJTYW1lIGFzIGFbYl0gPSBjLiINCiAgICBhW2JdID0gYw0KX19zZXRpdGVtX18gPSBzZXRpdGVtDQoNCg0KDQpjbGFzcyBhdHRyZ2V0dGVyOg0KICAgICIiIg0KICAgIFJldHVybiBhIGNhbGxhYmxlIG9iamVjdCB0aGF0IGZldGNoZXMgdGhlIGdpdmVuIGF0dHJpYnV0ZShzKSBmcm9tIGl0cyBvcGVyYW5kLg0KICAgIEFmdGVyIGY9YXR0cmdldHRlcignbmFtZScpLCB0aGUgY2FsbCBmKHIpIHJldHVybnMgci5uYW1lLg0KICAgIEFmdGVyIGc9YXR0cmdldHRlcignbmFtZScsICdkYXRlJyksIHRoZSBjYWxsIGcocikgcmV0dXJucyAoci5uYW1lLCByLmRhdGUpLg0KICAgIEFmdGVyIGg9YXR0cmdldHRlcignbmFtZS5maXJzdCcsICduYW1lLmxhc3QnKSwgdGhlIGNhbGwgaChyKSByZXR1cm5zDQogICAgKHIubmFtZS5maXJzdCwgci5uYW1lLmxhc3QpLg0KICAgICIiIg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhdHRyLCAqYXR0cnMpOg0KICAgICAgICBzZWxmLl9hdHRycyA9IChhdHRyLCkNCiAgICAgICAgc2VsZi5fYXR0cnMgKz0gYXR0cnMNCiAgICAgICAgaWYgYW55KG5vdCBpc2luc3RhbmNlKGF0dHIsIHN0cikgZm9yIGF0dHIgaW4gc2VsZi5fYXR0cnMpOg0KICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdhdHRyaWJ1dGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nJykNCg0KICAgIEBzdGF0aWNtZXRob2QNCiAgICBkZWYgX3Jlc29sdmVfYXR0cihvYmosIGF0dHIpOg0KICAgICAgICBmb3IgbmFtZSBpbiBhdHRyLnNwbGl0KCcuJyk6DQogICAgICAgICAgICAjb2JqID0gX2JpLmdldGF0dHIob2JqLCBuYW1lKQ0KICAgICAgICAgICAgb2JqID0gZ2V0YXR0cihvYmosIG5hbWUpDQogICAgICAgIHJldHVybiBvYmoNCg0KICAgIGRlZiBfX2NhbGxfXyhzZWxmLCBvYmopOg0KICAgICAgICBpZiBsZW4oc2VsZi5fYXR0cnMpID09IDE6DQogICAgICAgICAgICByZXR1cm4gc2VsZi5fcmVzb2x2ZV9hdHRyKG9iaiwgc2VsZi5fYXR0cnNbMF0pDQogICAgICAgIHJldHVybiB0dXBsZShzZWxmLl9yZXNvbHZlX2F0dHIob2JqLCBhdHRyKSBmb3IgYXR0ciBpbiBzZWxmLl9hdHRycykNCg0KY2xhc3MgaXRlbWdldHRlcjoNCiAgICAiIiINCiAgICBSZXR1cm4gYSBjYWxsYWJsZSBvYmplY3QgdGhhdCBmZXRjaGVzIHRoZSBnaXZlbiBpdGVtKHMpIGZyb20gaXRzIG9wZXJhbmQuDQogICAgQWZ0ZXIgZj1pdGVtZ2V0dGVyKDIpLCB0aGUgY2FsbCBmKHIpIHJldHVybnMgclsyXS4NCiAgICBBZnRlciBnPWl0ZW1nZXR0ZXIoMiw1LDMpLCB0aGUgY2FsbCBnKHIpIHJldHVybnMgKHJbMl0sIHJbNV0sIHJbM10pDQogICAgIiIiDQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGl0ZW0sICppdGVtcyk6DQogICAgICAgIHNlbGYuX2l0ZW1zID0gKGl0ZW0sKQ0KICAgICAgICBzZWxmLl9pdGVtcyArPSBpdGVtcw0KDQogICAgZGVmIF9fY2FsbF9fKHNlbGYsIG9iaik6DQogICAgICAgIGlmIGxlbihzZWxmLl9pdGVtcykgPT0gMToNCiAgICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5faXRlbXNbMF1dDQogICAgICAgIHJldHVybiB0dXBsZShvYmpbaXRlbV0gZm9yIGl0ZW0gaW4gc2VsZi5faXRlbXMpDQoNCmNsYXNzIG1ldGhvZGNhbGxlcjoNCiAgICAiIiINCiAgICBSZXR1cm4gYSBjYWxsYWJsZSBvYmplY3QgdGhhdCBjYWxscyB0aGUgZ2l2ZW4gbWV0aG9kIG9uIGl0cyBvcGVyYW5kLg0KICAgIEFmdGVyIGYgPSBtZXRob2RjYWxsZXIoJ25hbWUnKSwgdGhlIGNhbGwgZihyKSByZXR1cm5zIHIubmFtZSgpLg0KICAgIEFmdGVyIGcgPSBtZXRob2RjYWxsZXIoJ25hbWUnLCAnZGF0ZScsIGZvbz0xKSwgdGhlIGNhbGwgZyhyKSByZXR1cm5zDQogICAgci5uYW1lKCdkYXRlJywgZm9vPTEpLg0KICAgICIiIg0KDQogICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUsICphcmdzLCAqKmt3YXJncyk6DQogICAgICAgIHNlbGYuX25hbWUgPSBuYW1lDQogICAgICAgIHNlbGYuX2FyZ3MgPSBhcmdzDQogICAgICAgIHNlbGYuX2t3YXJncyA9IGt3YXJncw0KDQogICAgZGVmIF9fY2FsbF9fKHNlbGYsIG9iaik6DQogICAgICAgIHJldHVybiBnZXRhdHRyKG9iaiwgc2VsZi5fbmFtZSkoKnNlbGYuX2FyZ3MsICoqc2VsZi5fa3dhcmdzKQ0KDQoNCmRlZiBpYWRkKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgKz0gYi4iDQogICAgYSArPSBiDQogICAgcmV0dXJuIGENCl9faWFkZF9fID0gaWFkZA0KDQpkZWYgaWFuZChhLCBiKToNCiAgICAiU2FtZSBhcyBhICY9IGIuIg0KICAgIGEgJj0gYg0KICAgIHJldHVybiBhDQpfX2lhbmRfXyA9IGlhbmQNCg0KZGVmIGljb25jYXQoYSwgYik6DQogICAgIlNhbWUgYXMgYSArPSBiLCBmb3IgYSBhbmQgYiBzZXF1ZW5jZXMuIg0KICAgIGlmIG5vdCAoaGFzYXR0cihhLCAnX19nZXRpdGVtX18nKSBhbmQgaGFzYXR0cihiLCAnX19nZXRpdGVtX18nKSk6DQogICAgICAgIHJhaXNlIFR5cGVFcnJvcignYSBhbmQgYiBtdXN0IGJlIHNlcXVlbmNlcycpDQogICAgYSArPSBiDQogICAgcmV0dXJuIGENCl9faWNvbmNhdF9fID0gaWNvbmNhdA0KDQpkZWYgaWZsb29yZGl2KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLy89IGIuIg0KICAgIGEgLy89IGINCiAgICByZXR1cm4gYQ0KX19pZmxvb3JkaXZfXyA9IGlmbG9vcmRpdg0KDQpkZWYgaWxzaGlmdChhLCBiKToNCiAgICAiU2FtZSBhcyBhIDw8PSBiLiINCiAgICBhIDw8PSBiDQogICAgcmV0dXJuIGENCl9faWxzaGlmdF9fID0gaWxzaGlmdA0KDQpkZWYgaW1vZChhLCBiKToNCiAgICAiU2FtZSBhcyBhICU9IGIuIg0KICAgIGEgJT0gYg0KICAgIHJldHVybiBhDQpfX2ltb2RfXyA9IGltb2QNCg0KZGVmIGltdWwoYSwgYik6DQogICAgIlNhbWUgYXMgYSAqPSBiLiINCiAgICBhICo9IGINCiAgICByZXR1cm4gYQ0KX19pbXVsX18gPSBpbXVsDQoNCmRlZiBpb3IoYSwgYik6DQogICAgIlNhbWUgYXMgYSB8PSBiLiINCiAgICBhIHw9IGINCiAgICByZXR1cm4gYQ0KX19pb3JfXyA9IGlvcg0KDQpkZWYgaXBvdyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICoqPSBiLiINCiAgICBhICoqPWINCiAgICByZXR1cm4gYQ0KX19pcG93X18gPSBpcG93DQoNCmRlZiBpcnNoaWZ0KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPj49IGIuIg0KICAgIGEgPj49IGINCiAgICByZXR1cm4gYQ0KX19pcnNoaWZ0X18gPSBpcnNoaWZ0DQoNCmRlZiBpc3ViKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLT0gYi4iDQogICAgYSAtPSBiDQogICAgcmV0dXJuIGENCl9faXN1Yl9fID0gaXN1Yg0KDQpkZWYgaXRydWVkaXYoYSwgYik6DQogICAgIlNhbWUgYXMgYSAvPSBiLiINCiAgICBhIC89IGINCiAgICByZXR1cm4gYQ0KX19pdHJ1ZWRpdl9fID0gaXRydWVkaXYNCg0KZGVmIGl4b3IoYSwgYik6DQogICAgIlNhbWUgYXMgYSBePSBiLiINCiAgICBhIF49IGINCiAgICByZXR1cm4gYQ0KX19peG9yX18gPSBpeG9yDQoNCmRlZiBsZW5ndGhfaGludChvYmosIGRlZmF1bHQ9MCk6DQogICAgIiIiDQogICAgUmV0dXJuIGFuIGVzdGltYXRlIG9mIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gb2JqLg0KICAgIFRoaXMgaXMgdXNlZnVsIGZvciBwcmVzaXppbmcgY29udGFpbmVycyB3aGVuIGJ1aWxkaW5nIGZyb20gYW4gaXRlcmFibGUuDQoNCiAgICBJZiB0aGUgb2JqZWN0IHN1cHBvcnRzIGxlbigpLCB0aGUgcmVzdWx0IHdpbGwgYmUgZXhhY3QuIE90aGVyd2lzZSwgaXQgbWF5DQogICAgb3Zlci0gb3IgdW5kZXItZXN0aW1hdGUgYnkgYW4gYXJiaXRyYXJ5IGFtb3VudC4gVGhlIHJlc3VsdCB3aWxsIGJlIGFuDQogICAgaW50ZWdlciA+PSAwLg0KICAgICIiIg0KICAgIHRyeToNCiAgICAgICAgcmV0dXJuIGxlbihvYmopDQogICAgZXhjZXB0IFR5cGVFcnJvcjoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgdmFsID0gb2JqLl9fbGVuZ3RoX2hpbnRfXygpDQogICAgICAgICAgICBpZiB2YWwgaXMgTm90SW1wbGVtZW50ZWQ6DQogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yDQogICAgICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsIFR5cGVFcnJvcik6DQogICAgICAgICAgICByZXR1cm4gZGVmYXVsdA0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgaWYgbm90IHZhbCA+IDA6DQogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignZGVmYXVsdCBtdXN0IGJlID4gMCcpDQogICAgICAgICAgICByZXR1cm4gdmFsDQoNCiN0cnk6DQojICAgIGZyb20gX29wZXJhdG9yIGltcG9ydCAqDQojICAgIGZyb20gX29wZXJhdG9yIGltcG9ydCBfX2RvY19fDQojZXhjZXB0IEltcG9ydEVycm9yOg0KIyAgIHBhc3MNCg==',
'/Lib/heapq.pyj':'JG1vZHVsZT0oZnVuY3Rpb24oKXt2YXIgJGdsb2JhbHM9X19CUllUSE9OX18uc2NvcGVbImhlYXBxLnB5Il0uX19kaWN0X187IkhlYXAgcXVldWUgYWxnb3JpdGhtIChhLmsuYS4gcHJpb3JpdHkgcXVldWUpLlxuXG5IZWFwcyBhcmUgYXJyYXlzIGZvciB3aGljaCBhW2tdIDw9IGFbMiprKzFdIGFuZCBhW2tdIDw9IGFbMiprKzJdIGZvclxuYWxsIGssIGNvdW50aW5nIGVsZW1lbnRzIGZyb20gMC4gIEZvciB0aGUgc2FrZSBvZiBjb21wYXJpc29uLFxubm9uLWV4aXN0aW5nIGVsZW1lbnRzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGluZmluaXRlLiAgVGhlIGludGVyZXN0aW5nXG5wcm9wZXJ0eSBvZiBhIGhlYXAgaXMgdGhhdCBhWzBdIGlzIGFsd2F5cyBpdHMgc21hbGxlc3QgZWxlbWVudC5cblxuVXNhZ2U6XG5cbmhlYXAgPSBbXSAgICAgICAgICAgICMgY3JlYXRlcyBhbiBlbXB0eSBoZWFwXG5oZWFwcHVzaChoZWFwLCBpdGVtKSAjIHB1c2hlcyBhIG5ldyBpdGVtIG9uIHRoZSBoZWFwXG5pdGVtID0gaGVhcHBvcChoZWFwKSAjIHBvcHMgdGhlIHNtYWxsZXN0IGl0ZW0gZnJvbSB0aGUgaGVhcFxuaXRlbSA9IGhlYXBbMF0gICAgICAgIyBzbWFsbGVzdCBpdGVtIG9uIHRoZSBoZWFwIHdpdGhvdXQgcG9wcGluZyBpdFxuaGVhcGlmeSh4KSAgICAgICAgICAgIyB0cmFuc2Zvcm1zIGxpc3QgaW50byBhIGhlYXAsIGluLXBsYWNlLCBpbiBsaW5lYXIgdGltZVxuaXRlbSA9IGhlYXByZXBsYWNlKGhlYXAsIGl0ZW0pICMgcG9wcyBhbmQgcmV0dXJucyBzbWFsbGVzdCBpdGVtLCBhbmQgYWRkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgbmV3IGl0ZW07IHRoZSBoZWFwIHNpemUgaXMgdW5jaGFuZ2VkXG5cbk91ciBBUEkgZGlmZmVycyBmcm9tIHRleHRib29rIGhlYXAgYWxnb3JpdGhtcyBhcyBmb2xsb3dzOlxuXG4tIFdlIHVzZSAwLWJhc2VkIGluZGV4aW5nLiAgVGhpcyBtYWtlcyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlXG4gIGluZGV4IGZvciBhIG5vZGUgYW5kIHRoZSBpbmRleGVzIGZvciBpdHMgY2hpbGRyZW4gc2xpZ2h0bHkgbGVzc1xuICBvYnZpb3VzLCBidXQgaXMgbW9yZSBzdWl0YWJsZSBzaW5jZSBQeXRob24gdXNlcyAwLWJhc2VkIGluZGV4aW5nLlxuXG4tIE91ciBoZWFwcG9wKCkgbWV0aG9kIHJldHVybnMgdGhlIHNtYWxsZXN0IGl0ZW0sIG5vdCB0aGUgbGFyZ2VzdC5cblxuVGhlc2UgdHdvIG1ha2UgaXQgcG9zc2libGUgdG8gdmlldyB0aGUgaGVhcCBhcyBhIHJlZ3VsYXIgUHl0aG9uIGxpc3RcbndpdGhvdXQgc3VycHJpc2VzOiBoZWFwWzBdIGlzIHRoZSBzbWFsbGVzdCBpdGVtLCBhbmQgaGVhcC5zb3J0KClcbm1haW50YWlucyB0aGUgaGVhcCBpbnZhcmlhbnQhXG4iO3ZhciBfX2Fib3V0X189JGdsb2JhbHMuX19hYm91dF9fPSJIZWFwIHF1ZXVlc1xuXG5bZXhwbGFuYXRpb24gYnkgRnJhbsOnb2lzIFBpbmFyZF1cblxuSGVhcHMgYXJlIGFycmF5cyBmb3Igd2hpY2ggYVtrXSA8PSBhWzIqaysxXSBhbmQgYVtrXSA8PSBhWzIqaysyXSBmb3JcbmFsbCBrLCBjb3VudGluZyBlbGVtZW50cyBmcm9tIDAuICBGb3IgdGhlIHNha2Ugb2YgY29tcGFyaXNvbixcbm5vbi1leGlzdGluZyBlbGVtZW50cyBhcmUgY29uc2lkZXJlZCB0byBiZSBpbmZpbml0ZS4gIFRoZSBpbnRlcmVzdGluZ1xucHJvcGVydHkgb2YgYSBoZWFwIGlzIHRoYXQgYVswXSBpcyBhbHdheXMgaXRzIHNtYWxsZXN0IGVsZW1lbnQuXG5cblRoZSBzdHJhbmdlIGludmFyaWFudCBhYm92ZSBpcyBtZWFudCB0byBiZSBhbiBlZmZpY2llbnQgbWVtb3J5XG5yZXByZXNlbnRhdGlvbiBmb3IgYSB0b3VybmFtZW50LiAgVGhlIG51bWJlcnMgYmVsb3cgYXJlIGBrJywgbm90IGFba106XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgICAgICAgICAgICAxICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuXG4gICAgICAgICAgMyAgICAgICAgICAgICAgIDQgICAgICAgICAgICAgICAgNSAgICAgICAgICAgICAgIDZcblxuICAgICAgNyAgICAgICA4ICAgICAgIDkgICAgICAgMTAgICAgICAxMSAgICAgIDEyICAgICAgMTMgICAgICAxNFxuXG4gICAgMTUgMTYgICAxNyAxOCAgIDE5IDIwICAgMjEgMjIgICAyMyAyNCAgIDI1IDI2ICAgMjcgMjggICAyOSAzMFxuXG5cbkluIHRoZSB0cmVlIGFib3ZlLCBlYWNoIGNlbGwgYGsnIGlzIHRvcHBpbmcgYDIqaysxJyBhbmQgYDIqaysyJy4gIEluXG5hbiB1c3VhbCBiaW5hcnkgdG91cm5hbWVudCB3ZSBzZWUgaW4gc3BvcnRzLCBlYWNoIGNlbGwgaXMgdGhlIHdpbm5lclxub3ZlciB0aGUgdHdvIGNlbGxzIGl0IHRvcHMsIGFuZCB3ZSBjYW4gdHJhY2UgdGhlIHdpbm5lciBkb3duIHRoZSB0cmVlXG50byBzZWUgYWxsIG9wcG9uZW50cyBzL2hlIGhhZC4gIEhvd2V2ZXIsIGluIG1hbnkgY29tcHV0ZXIgYXBwbGljYXRpb25zXG5vZiBzdWNoIHRvdXJuYW1lbnRzLCB3ZSBkbyBub3QgbmVlZCB0byB0cmFjZSB0aGUgaGlzdG9yeSBvZiBhIHdpbm5lci5cblRvIGJlIG1vcmUgbWVtb3J5IGVmZmljaWVudCwgd2hlbiBhIHdpbm5lciBpcyBwcm9tb3RlZCwgd2UgdHJ5IHRvXG5yZXBsYWNlIGl0IGJ5IHNvbWV0aGluZyBlbHNlIGF0IGEgbG93ZXIgbGV2ZWwsIGFuZCB0aGUgcnVsZSBiZWNvbWVzXG50aGF0IGEgY2VsbCBhbmQgdGhlIHR3byBjZWxscyBpdCB0b3BzIGNvbnRhaW4gdGhyZWUgZGlmZmVyZW50IGl0ZW1zLFxuYnV0IHRoZSB0b3AgY2VsbCBcIndpbnNcIiBvdmVyIHRoZSB0d28gdG9wcGVkIGNlbGxzLlxuXG5JZiB0aGlzIGhlYXAgaW52YXJpYW50IGlzIHByb3RlY3RlZCBhdCBhbGwgdGltZSwgaW5kZXggMCBpcyBjbGVhcmx5XG50aGUgb3ZlcmFsbCB3aW5uZXIuICBUaGUgc2ltcGxlc3QgYWxnb3JpdGhtaWMgd2F5IHRvIHJlbW92ZSBpdCBhbmRcbmZpbmQgdGhlIFwibmV4dFwiIHdpbm5lciBpcyB0byBtb3ZlIHNvbWUgbG9zZXIgKGxldCdzIHNheSBjZWxsIDMwIGluIHRoZVxuZGlhZ3JhbSBhYm92ZSkgaW50byB0aGUgMCBwb3NpdGlvbiwgYW5kIHRoZW4gcGVyY29sYXRlIHRoaXMgbmV3IDAgZG93blxudGhlIHRyZWUsIGV4Y2hhbmdpbmcgdmFsdWVzLCB1bnRpbCB0aGUgaW52YXJpYW50IGlzIHJlLWVzdGFibGlzaGVkLlxuVGhpcyBpcyBjbGVhcmx5IGxvZ2FyaXRobWljIG9uIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHRyZWUuXG5CeSBpdGVyYXRpbmcgb3ZlciBhbGwgaXRlbXMsIHlvdSBnZXQgYW4gTyhuIGxuIG4pIHNvcnQuXG5cbkEgbmljZSBmZWF0dXJlIG9mIHRoaXMgc29ydCBpcyB0aGF0IHlvdSBjYW4gZWZmaWNpZW50bHkgaW5zZXJ0IG5ld1xuaXRlbXMgd2hpbGUgdGhlIHNvcnQgaXMgZ29pbmcgb24sIHByb3ZpZGVkIHRoYXQgdGhlIGluc2VydGVkIGl0ZW1zIGFyZVxubm90IFwiYmV0dGVyXCIgdGhhbiB0aGUgbGFzdCAwJ3RoIGVsZW1lbnQgeW91IGV4dHJhY3RlZC4gIFRoaXMgaXNcbmVzcGVjaWFsbHkgdXNlZnVsIGluIHNpbXVsYXRpb24gY29udGV4dHMsIHdoZXJlIHRoZSB0cmVlIGhvbGRzIGFsbFxuaW5jb21pbmcgZXZlbnRzLCBhbmQgdGhlIFwid2luXCIgY29uZGl0aW9uIG1lYW5zIHRoZSBzbWFsbGVzdCBzY2hlZHVsZWRcbnRpbWUuICBXaGVuIGFuIGV2ZW50IHNjaGVkdWxlIG90aGVyIGV2ZW50cyBmb3IgZXhlY3V0aW9uLCB0aGV5IGFyZVxuc2NoZWR1bGVkIGludG8gdGhlIGZ1dHVyZSwgc28gdGhleSBjYW4gZWFzaWx5IGdvIGludG8gdGhlIGhlYXAuICBTbywgYVxuaGVhcCBpcyBhIGdvb2Qgc3RydWN0dXJlIGZvciBpbXBsZW1lbnRpbmcgc2NoZWR1bGVycyAodGhpcyBpcyB3aGF0IElcbnVzZWQgZm9yIG15IE1JREkgc2VxdWVuY2VyIDotKS5cblxuVmFyaW91cyBzdHJ1Y3R1cmVzIGZvciBpbXBsZW1lbnRpbmcgc2NoZWR1bGVycyBoYXZlIGJlZW4gZXh0ZW5zaXZlbHlcbnN0dWRpZWQsIGFuZCBoZWFwcyBhcmUgZ29vZCBmb3IgdGhpcywgYXMgdGhleSBhcmUgcmVhc29uYWJseSBzcGVlZHksXG50aGUgc3BlZWQgaXMgYWxtb3N0IGNvbnN0YW50LCBhbmQgdGhlIHdvcnN0IGNhc2UgaXMgbm90IG11Y2ggZGlmZmVyZW50XG50aGFuIHRoZSBhdmVyYWdlIGNhc2UuICBIb3dldmVyLCB0aGVyZSBhcmUgb3RoZXIgcmVwcmVzZW50YXRpb25zIHdoaWNoXG5hcmUgbW9yZSBlZmZpY2llbnQgb3ZlcmFsbCwgeWV0IHRoZSB3b3JzdCBjYXNlcyBtaWdodCBiZSB0ZXJyaWJsZS5cblxuSGVhcHMgYXJlIGFsc28gdmVyeSB1c2VmdWwgaW4gYmlnIGRpc2sgc29ydHMuICBZb3UgbW9zdCBwcm9iYWJseSBhbGxcbmtub3cgdGhhdCBhIGJpZyBzb3J0IGltcGxpZXMgcHJvZHVjaW5nIFwicnVuc1wiICh3aGljaCBhcmUgcHJlLXNvcnRlZFxuc2VxdWVuY2VzLCB3aGljaCBzaXplIGlzIHVzdWFsbHkgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIENQVSBtZW1vcnkpLFxuZm9sbG93ZWQgYnkgYSBtZXJnaW5nIHBhc3NlcyBmb3IgdGhlc2UgcnVucywgd2hpY2ggbWVyZ2luZyBpcyBvZnRlblxudmVyeSBjbGV2ZXJseSBvcmdhbmlzZWRbMV0uICBJdCBpcyB2ZXJ5IGltcG9ydGFudCB0aGF0IHRoZSBpbml0aWFsXG5zb3J0IHByb2R1Y2VzIHRoZSBsb25nZXN0IHJ1bnMgcG9zc2libGUuICBUb3VybmFtZW50cyBhcmUgYSBnb29kIHdheVxudG8gdGhhdC4gIElmLCB1c2luZyBhbGwgdGhlIG1lbW9yeSBhdmFpbGFibGUgdG8gaG9sZCBhIHRvdXJuYW1lbnQsIHlvdVxucmVwbGFjZSBhbmQgcGVyY29sYXRlIGl0ZW1zIHRoYXQgaGFwcGVuIHRvIGZpdCB0aGUgY3VycmVudCBydW4sIHlvdSdsbFxucHJvZHVjZSBydW5zIHdoaWNoIGFyZSB0d2ljZSB0aGUgc2l6ZSBvZiB0aGUgbWVtb3J5IGZvciByYW5kb20gaW5wdXQsXG5hbmQgbXVjaCBiZXR0ZXIgZm9yIGlucHV0IGZ1enppbHkgb3JkZXJlZC5cblxuTW9yZW92ZXIsIGlmIHlvdSBvdXRwdXQgdGhlIDAndGggaXRlbSBvbiBkaXNrIGFuZCBnZXQgYW4gaW5wdXQgd2hpY2hcbm1heSBub3QgZml0IGluIHRoZSBjdXJyZW50IHRvdXJuYW1lbnQgKGJlY2F1c2UgdGhlIHZhbHVlIFwid2luc1wiIG92ZXJcbnRoZSBsYXN0IG91dHB1dCB2YWx1ZSksIGl0IGNhbm5vdCBmaXQgaW4gdGhlIGhlYXAsIHNvIHRoZSBzaXplIG9mIHRoZVxuaGVhcCBkZWNyZWFzZXMuICBUaGUgZnJlZWQgbWVtb3J5IGNvdWxkIGJlIGNsZXZlcmx5IHJldXNlZCBpbW1lZGlhdGVseVxuZm9yIHByb2dyZXNzaXZlbHkgYnVpbGRpbmcgYSBzZWNvbmQgaGVhcCwgd2hpY2ggZ3Jvd3MgYXQgZXhhY3RseSB0aGVcbnNhbWUgcmF0ZSB0aGUgZmlyc3QgaGVhcCBpcyBtZWx0aW5nLiAgV2hlbiB0aGUgZmlyc3QgaGVhcCBjb21wbGV0ZWx5XG52YW5pc2hlcywgeW91IHN3aXRjaCBoZWFwcyBhbmQgc3RhcnQgYSBuZXcgcnVuLiAgQ2xldmVyIGFuZCBxdWl0ZVxuZWZmZWN0aXZlIVxuXG5JbiBhIHdvcmQsIGhlYXBzIGFyZSB1c2VmdWwgbWVtb3J5IHN0cnVjdHVyZXMgdG8ga25vdy4gIEkgdXNlIHRoZW0gaW5cbmEgZmV3IGFwcGxpY2F0aW9ucywgYW5kIEkgdGhpbmsgaXQgaXMgZ29vZCB0byBrZWVwIGEgYGhlYXAnIG1vZHVsZVxuYXJvdW5kLiA6LSlcblxuLS0tLS0tLS0tLS0tLS0tLS0tLS1cblsxXSBUaGUgZGlzayBiYWxhbmNpbmcgYWxnb3JpdGhtcyB3aGljaCBhcmUgY3VycmVudCwgbm93YWRheXMsIGFyZVxubW9yZSBhbm5veWluZyB0aGFuIGNsZXZlciwgYW5kIHRoaXMgaXMgYSBjb25zZXF1ZW5jZSBvZiB0aGUgc2Vla2luZ1xuY2FwYWJpbGl0aWVzIG9mIHRoZSBkaXNrcy4gIE9uIGRldmljZXMgd2hpY2ggY2Fubm90IHNlZWssIGxpa2UgYmlnXG50YXBlIGRyaXZlcywgdGhlIHN0b3J5IHdhcyBxdWl0ZSBkaWZmZXJlbnQsIGFuZCBvbmUgaGFkIHRvIGJlIHZlcnlcbmNsZXZlciB0byBlbnN1cmUgKGZhciBpbiBhZHZhbmNlKSB0aGF0IGVhY2ggdGFwZSBtb3ZlbWVudCB3aWxsIGJlIHRoZVxubW9zdCBlZmZlY3RpdmUgcG9zc2libGUgKHRoYXQgaXMsIHdpbGwgYmVzdCBwYXJ0aWNpcGF0ZSBhdFxuXCJwcm9ncmVzc2luZ1wiIHRoZSBtZXJnZSkuICBTb21lIHRhcGVzIHdlcmUgZXZlbiBhYmxlIHRvIHJlYWRcbmJhY2t3YXJkcywgYW5kIHRoaXMgd2FzIGFsc28gdXNlZCB0byBhdm9pZCB0aGUgcmV3aW5kaW5nIHRpbWUuXG5CZWxpZXZlIG1lLCByZWFsIGdvb2QgdGFwZSBzb3J0cyB3ZXJlIHF1aXRlIHNwZWN0YWN1bGFyIHRvIHdhdGNoIVxuRnJvbSBhbGwgdGltZXMsIHNvcnRpbmcgaGFzIGFsd2F5cyBiZWVuIGEgR3JlYXQgQXJ0ISA6LSlcbiI7dmFyIF9fYWxsX189JGdsb2JhbHMuX19hbGxfXz1saXN0KFsnaGVhcHB1c2gnLCdoZWFwcG9wJywnaGVhcGlmeScsJ2hlYXByZXBsYWNlJywnbWVyZ2UnLCdubGFyZ2VzdCcsJ25zbWFsbGVzdCcsJ2hlYXBwdXNocG9wJ10pOyRtb2Q9JGltcG9ydF9saXN0KFtbIml0ZXJ0b29scyIsIml0ZXJ0b29scyJdXSlbMF07aXNsaWNlPV9fQlJZVEhPTl9fLnNjb3BlWyJoZWFwcS5weSJdLl9fZGljdF9fLmlzbGljZT0kbW9kLl9fZ2V0YXR0cl9fKCJpc2xpY2UiKTtyZXBlYXQ9X19CUllUSE9OX18uc2NvcGVbImhlYXBxLnB5Il0uX19kaWN0X18ucmVwZWF0PSRtb2QuX19nZXRhdHRyX18oInJlcGVhdCIpO2NvdW50PV9fQlJZVEhPTl9fLnNjb3BlWyJoZWFwcS5weSJdLl9fZGljdF9fLmNvdW50PSRtb2QuX19nZXRhdHRyX18oImNvdW50Iik7dGVlPV9fQlJZVEhPTl9fLnNjb3BlWyJoZWFwcS5weSJdLl9fZGljdF9fLnRlZT0kbW9kLl9fZ2V0YXR0cl9fKCJ0ZWUiKTtjaGFpbj1fX0JSWVRIT05fXy5zY29wZVsiaGVhcHEucHkiXS5fX2RpY3RfXy5jaGFpbj0kbW9kLl9fZ2V0YXR0cl9fKCJjaGFpbiIpOyRtb2RzPSRpbXBvcnRfbGlzdChbWyJiaXNlY3QiLCJiaXNlY3QiXV0pO2Jpc2VjdD0kbW9kc1swXTs7Tm9uZTt2YXIgaGVhcHB1c2g9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJoZWFwcHVzaCIsYXJndW1lbnRzLFsiaGVhcCIsIml0ZW0iXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUuZXQwcGh0YXkuX19kaWN0X189JG5zOyJQdXNoIGl0ZW0gb250byBoZWFwLCBtYWludGFpbmluZyB0aGUgaGVhcCBpbnZhcmlhbnQuIjtoZWFwLl9fZ2V0YXR0cl9fKCJhcHBlbmQiKS5fX2NhbGxfXyhpdGVtKTtfc2lmdGRvd24uX19jYWxsX18oaGVhcCxOdW1iZXIoMCksbGVuLl9fY2FsbF9fKGhlYXApLl9fc3ViX18oTnVtYmVyKDEpKSk7fWNhdGNoKGVycjUyKXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTIpO319O30pKCk7aGVhcHB1c2guX19uYW1lX189ImhlYXBwdXNoIjskZ2xvYmFscy5oZWFwcHVzaD1oZWFwcHVzaDt2YXIgaGVhcHBvcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImhlYXBwb3AiLGFyZ3VtZW50cyxbImhlYXAiXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUudW8ybjYycTEuX19kaWN0X189JG5zOyJQb3AgdGhlIHNtYWxsZXN0IGl0ZW0gb2ZmIHRoZSBoZWFwLCBtYWludGFpbmluZyB0aGUgaGVhcCBpbnZhcmlhbnQuIjt2YXIgbGFzdGVsdD0kbG9jYWxzLmxhc3RlbHQ9aGVhcC5fX2dldGF0dHJfXygicG9wIikuX19jYWxsX18oKTtpZihib29sKGhlYXApKXt2YXIgcmV0dXJuaXRlbT0kbG9jYWxzLnJldHVybml0ZW09aGVhcC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpO2hlYXAuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoTnVtYmVyKDApLGxhc3RlbHQpO19zaWZ0dXAuX19jYWxsX18oaGVhcCxOdW1iZXIoMCkpO31lbHNlIHZhciByZXR1cm5pdGVtPSRsb2NhbHMucmV0dXJuaXRlbT1sYXN0ZWx0O3JldHVybiByZXR1cm5pdGVtO31jYXRjaChlcnI1Mil7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUyKTt9fTt9KSgpO2hlYXBwb3AuX19uYW1lX189ImhlYXBwb3AiOyRnbG9iYWxzLmhlYXBwb3A9aGVhcHBvcDt2YXIgaGVhcHJlcGxhY2U9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJoZWFwcmVwbGFjZSIsYXJndW1lbnRzLFsiaGVhcCIsIml0ZW0iXSx7fSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjZ6cGpjZGM0Il0uX19kaWN0X189JG5zOyJQb3AgYW5kIHJldHVybiB0aGUgY3VycmVudCBzbWFsbGVzdCB2YWx1ZSwgYW5kIGFkZCB0aGUgbmV3IGl0ZW0uXG5cbiAgICBUaGlzIGlzIG1vcmUgZWZmaWNpZW50IHRoYW4gaGVhcHBvcCgpIGZvbGxvd2VkIGJ5IGhlYXBwdXNoKCksIGFuZCBjYW4gYmVcbiAgICBtb3JlIGFwcHJvcHJpYXRlIHdoZW4gdXNpbmcgYSBmaXhlZC1zaXplIGhlYXAuICBOb3RlIHRoYXQgdGhlIHZhbHVlXG4gICAgcmV0dXJuZWQgbWF5IGJlIGxhcmdlciB0aGFuIGl0ZW0hICBUaGF0IGNvbnN0cmFpbnMgcmVhc29uYWJsZSB1c2VzIG9mXG4gICAgdGhpcyByb3V0aW5lIHVubGVzcyB3cml0dGVuIGFzIHBhcnQgb2YgYSBjb25kaXRpb25hbCByZXBsYWNlbWVudDpcblxuICAgICAgICBpZiBpdGVtID4gaGVhcFswXTpcbiAgICAgICAgICAgIGl0ZW0gPSBoZWFwcmVwbGFjZShoZWFwLCBpdGVtKVxuICAgICI7dmFyIHJldHVybml0ZW09JGxvY2Fscy5yZXR1cm5pdGVtPWhlYXAuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKTtoZWFwLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKE51bWJlcigwKSxpdGVtKTtfc2lmdHVwLl9fY2FsbF9fKGhlYXAsTnVtYmVyKDApKTtyZXR1cm4gcmV0dXJuaXRlbTt9Y2F0Y2goZXJyNTIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1Mik7fX07fSkoKTtoZWFwcmVwbGFjZS5fX25hbWVfXz0iaGVhcHJlcGxhY2UiOyRnbG9iYWxzLmhlYXByZXBsYWNlPWhlYXByZXBsYWNlO3ZhciBoZWFwcHVzaHBvcD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoImhlYXBwdXNocG9wIixhcmd1bWVudHMsWyJoZWFwIiwiaXRlbSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiOXJhMmU4Y2IiXS5fX2RpY3RfXz0kbnM7IkZhc3QgdmVyc2lvbiBvZiBhIGhlYXBwdXNoIGZvbGxvd2VkIGJ5IGEgaGVhcHBvcC4iO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGhlYXApJiYkdGVzdF9pdGVtKGhlYXAuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKDApKS5fX2x0X18oaXRlbSkpKSkpeyRyaWdodD10dXBsZShbaGVhcC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpLGl0ZW1dKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIGl0ZW09JGxvY2Fscy5pdGVtPSRyaWdodC5fX2l0ZW1fXygwKTtoZWFwLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKE51bWJlcigwKSwkcmlnaHQuX19pdGVtX18oMSkpO19zaWZ0dXAuX19jYWxsX18oaGVhcCxOdW1iZXIoMCkpO31yZXR1cm4gaXRlbTt9Y2F0Y2goZXJyNTIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1Mik7fX07fSkoKTtoZWFwcHVzaHBvcC5fX25hbWVfXz0iaGVhcHB1c2hwb3AiOyRnbG9iYWxzLmhlYXBwdXNocG9wPWhlYXBwdXNocG9wO3ZhciBoZWFwaWZ5PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygiaGVhcGlmeSIsYXJndW1lbnRzLFsieCJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5oZGRsNGNhMy5fX2RpY3RfXz0kbnM7IlRyYW5zZm9ybSBsaXN0IGludG8gYSBoZWFwLCBpbi1wbGFjZSwgaW4gTyhsZW4oeCkpIHRpbWUuIjt2YXIgbj0kbG9jYWxzLm49bGVuLl9fY2FsbF9fKHgpO3ZhciAkaXRlcjUyPXJldmVyc2VkLl9fY2FsbF9fKHJhbmdlLl9fY2FsbF9fKG4uX19mbG9vcmRpdl9fKE51bWJlcigyKSkpKTtmb3IodmFyICRpNTI9MDskaTUyPCRpdGVyNTIuX19sZW5fXygpOyRpNTIrKyl7dmFyIGk9JGxvY2Fscy5pPSRpdGVyNTIuX19pdGVtX18oJGk1Mik7X3NpZnR1cC5fX2NhbGxfXyh4LGkpO319Y2F0Y2goZXJyNTIpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1Mik7fX07fSkoKTtoZWFwaWZ5Ll9fbmFtZV9fPSJoZWFwaWZ5IjskZ2xvYmFscy5oZWFwaWZ5PWhlYXBpZnk7dmFyIG5sYXJnZXN0PShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibmxhcmdlc3QiLGFyZ3VtZW50cyxbIm4iLCJpdGVyYWJsZSJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiMDNjdXJqZDAiXS5fX2RpY3RfXz0kbnM7IkZpbmQgdGhlIG4gbGFyZ2VzdCBlbGVtZW50cyBpbiBhIGRhdGFzZXQuXG5cbiAgICBFcXVpdmFsZW50IHRvOiAgc29ydGVkKGl0ZXJhYmxlLCByZXZlcnNlPVRydWUpWzpuXVxuICAgICI7aWYoYm9vbChuLl9fbHRfXyhOdW1iZXIoMCkpKSlyZXR1cm4gbGlzdChbXSk7dmFyIGl0PSRsb2NhbHMuaXQ9aXRlci5fX2NhbGxfXyhpdGVyYWJsZSk7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD1saXN0Ll9fY2FsbF9fKGlzbGljZS5fX2NhbGxfXyhpdCxuKSk7aWYoYm9vbCghYm9vbChyZXN1bHQpKSlyZXR1cm4gcmVzdWx0O2hlYXBpZnkuX19jYWxsX18ocmVzdWx0KTt2YXIgX2hlYXBwdXNocG9wPSRsb2NhbHMuX2hlYXBwdXNocG9wPWhlYXBwdXNocG9wO3ZhciAkaXRlcjUzPWl0O2Zvcih2YXIgJGk1Mz0wOyRpNTM8JGl0ZXI1My5fX2xlbl9fKCk7JGk1MysrKXt2YXIgZWxlbT0kbG9jYWxzLmVsZW09JGl0ZXI1My5fX2l0ZW1fXygkaTUzKTtfaGVhcHB1c2hwb3AuX19jYWxsX18ocmVzdWx0LGVsZW0pO31yZXN1bHQuX19nZXRhdHRyX18oInNvcnQiKS5fX2NhbGxfXygkS3coInJldmVyc2UiLFRydWUpKTtyZXR1cm4gcmVzdWx0O31jYXRjaChlcnI1Myl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjUzKTt9fTt9KSgpO25sYXJnZXN0Ll9fbmFtZV9fPSJubGFyZ2VzdCI7JGdsb2JhbHMubmxhcmdlc3Q9bmxhcmdlc3Q7dmFyIG5zbWFsbGVzdD0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm5zbWFsbGVzdCIsYXJndW1lbnRzLFsibiIsIml0ZXJhYmxlIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLnA0czk1aDFjLl9fZGljdF9fPSRuczsiRmluZCB0aGUgbiBzbWFsbGVzdCBlbGVtZW50cyBpbiBhIGRhdGFzZXQuXG5cbiAgICBFcXVpdmFsZW50IHRvOiAgc29ydGVkKGl0ZXJhYmxlKVs6bl1cbiAgICAiO2lmKGJvb2wobi5fX2x0X18oTnVtYmVyKDApKSkpcmV0dXJuIGxpc3QoW10pO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKGhhc2F0dHIuX19jYWxsX18oaXRlcmFibGUsJ19fbGVuX18nKSkmJiR0ZXN0X2l0ZW0obi5fX211bF9fKE51bWJlcigxMCkpLl9fbGVfXyhsZW4uX19jYWxsX18oaXRlcmFibGUpKSkpKSl7dmFyIGl0PSRsb2NhbHMuaXQ9aXRlci5fX2NhbGxfXyhpdGVyYWJsZSk7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD1zb3J0ZWQuX19jYWxsX18oaXNsaWNlLl9fY2FsbF9fKGl0LE51bWJlcigwKSxuKSk7aWYoYm9vbCghYm9vbChyZXN1bHQpKSlyZXR1cm4gcmVzdWx0O3ZhciBpbnNvcnQ9JGxvY2Fscy5pbnNvcnQ9YmlzZWN0Ll9fZ2V0YXR0cl9fKCJpbnNvcnQiKTt2YXIgcG9wPSRsb2NhbHMucG9wPXJlc3VsdC5fX2dldGF0dHJfXygicG9wIik7dmFyIGxvcz0kbG9jYWxzLmxvcz1yZXN1bHQuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKC0xKSk7dmFyICRpdGVyNTQ9aXQ7Zm9yKHZhciAkaTU0PTA7JGk1NDwkaXRlcjU0Ll9fbGVuX18oKTskaTU0Kyspe3ZhciBlbGVtPSRsb2NhbHMuZWxlbT0kaXRlcjU0Ll9faXRlbV9fKCRpNTQpO2lmKGJvb2woZWxlbS5fX2x0X18obG9zKSkpe2luc29ydC5fX2NhbGxfXyhyZXN1bHQsZWxlbSk7cG9wLl9fY2FsbF9fKCk7dmFyIGxvcz0kbG9jYWxzLmxvcz1yZXN1bHQuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikoTnVtYmVyKC0xKSk7fX1yZXR1cm4gcmVzdWx0O312YXIgaD0kbG9jYWxzLmg9bGlzdC5fX2NhbGxfXyhpdGVyYWJsZSk7aGVhcGlmeS5fX2NhbGxfXyhoKTtyZXR1cm4gbGlzdC5fX2NhbGxfXyhtYXAuX19jYWxsX18oaGVhcHBvcCxyZXBlYXQuX19jYWxsX18oaCxtaW4uX19jYWxsX18obixsZW4uX19jYWxsX18oaCkpKSkpO31jYXRjaChlcnI1NCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjU0KTt9fTt9KSgpO25zbWFsbGVzdC5fX25hbWVfXz0ibnNtYWxsZXN0IjskZ2xvYmFscy5uc21hbGxlc3Q9bnNtYWxsZXN0O3ZhciBfc2lmdGRvd249KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfc2lmdGRvd24iLGFyZ3VtZW50cyxbImhlYXAiLCJzdGFydHBvcyIsInBvcyJdLHt9LG51bGwsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZS5iaHZiejc2bi5fX2RpY3RfXz0kbnM7dmFyIG5ld2l0ZW09JGxvY2Fscy5uZXdpdGVtPWhlYXAuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikocG9zKTt3aGlsZShib29sKHBvcy5fX2d0X18oc3RhcnRwb3MpKSl7dmFyIHBhcmVudHBvcz0kbG9jYWxzLnBhcmVudHBvcz1wb3MuX19zdWJfXyhOdW1iZXIoMSkpLl9fcnNoaWZ0X18oTnVtYmVyKDEpKTt2YXIgcGFyZW50PSRsb2NhbHMucGFyZW50PWhlYXAuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikocGFyZW50cG9zKTtpZihib29sKG5ld2l0ZW0uX19sdF9fKHBhcmVudCkpKXtoZWFwLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKHBvcyxwYXJlbnQpO3ZhciBwb3M9JGxvY2Fscy5wb3M9cGFyZW50cG9zO2NvbnRpbnVlO31icmVhazt9aGVhcC5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShwb3MsbmV3aXRlbSk7fWNhdGNoKGVycjU1KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTUpO319O30pKCk7X3NpZnRkb3duLl9fbmFtZV9fPSJfc2lmdGRvd24iOyRnbG9iYWxzLl9zaWZ0ZG93bj1fc2lmdGRvd247dmFyIF9zaWZ0dXA9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJfc2lmdHVwIixhcmd1bWVudHMsWyJoZWFwIiwicG9zIl0se30sbnVsbCxudWxsKTtmb3IoJHZhciBpbiAkbnMpZXZhbCgidmFyICIrJHZhcisiPSRuc1skdmFyXSIpO3ZhciAkbG9jYWxzPV9fQlJZVEhPTl9fLnNjb3BlLm9rYWtvYXNjLl9fZGljdF9fPSRuczt2YXIgZW5kcG9zPSRsb2NhbHMuZW5kcG9zPWxlbi5fX2NhbGxfXyhoZWFwKTt2YXIgc3RhcnRwb3M9JGxvY2Fscy5zdGFydHBvcz1wb3M7dmFyIG5ld2l0ZW09JGxvY2Fscy5uZXdpdGVtPWhlYXAuX19nZXRhdHRyX18oIl9fZ2V0aXRlbV9fIikocG9zKTt2YXIgY2hpbGRwb3M9JGxvY2Fscy5jaGlsZHBvcz1OdW1iZXIoMikuX19tdWxfXyhwb3MpLl9fYWRkX18oTnVtYmVyKDEpKTt3aGlsZShib29sKGNoaWxkcG9zLl9fbHRfXyhlbmRwb3MpKSl7dmFyIHJpZ2h0cG9zPSRsb2NhbHMucmlnaHRwb3M9Y2hpbGRwb3MuX19hZGRfXyhOdW1iZXIoMSkpO2lmKGJvb2woJHRlc3RfZXhwcigkdGVzdF9pdGVtKHJpZ2h0cG9zLl9fbHRfXyhlbmRwb3MpKSYmJHRlc3RfaXRlbSghYm9vbChoZWFwLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGNoaWxkcG9zKS5fX2x0X18oaGVhcC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShyaWdodHBvcykpKSkpKSl2YXIgY2hpbGRwb3M9JGxvY2Fscy5jaGlsZHBvcz1yaWdodHBvcztoZWFwLl9fZ2V0YXR0cl9fKCJfX3NldGl0ZW1fXyIpKHBvcyxoZWFwLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKGNoaWxkcG9zKSk7dmFyIHBvcz0kbG9jYWxzLnBvcz1jaGlsZHBvczt2YXIgY2hpbGRwb3M9JGxvY2Fscy5jaGlsZHBvcz1OdW1iZXIoMikuX19tdWxfXyhwb3MpLl9fYWRkX18oTnVtYmVyKDEpKTt9aGVhcC5fX2dldGF0dHJfXygiX19zZXRpdGVtX18iKShwb3MsbmV3aXRlbSk7X3NpZnRkb3duLl9fY2FsbF9fKGhlYXAsc3RhcnRwb3MscG9zKTt9Y2F0Y2goZXJyNTUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1NSk7fX07fSkoKTtfc2lmdHVwLl9fbmFtZV9fPSJfc2lmdHVwIjskZ2xvYmFscy5fc2lmdHVwPV9zaWZ0dXA7dmFyICRtZXJnZT0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyICRucz0kTWFrZUFyZ3MoIm1lcmdlIixhcmd1bWVudHMsW10se30sIml0ZXJhYmxlcyIsbnVsbCk7Zm9yKCR2YXIgaW4gJG5zKWV2YWwoInZhciAiKyR2YXIrIj0kbnNbJHZhcl0iKTt2YXIgJGxvY2Fscz1fX0JSWVRIT05fXy5zY29wZVsiNGxyYm9tM3EiXS5fX2RpY3RfXz0kbnM7J01lcmdlIG11bHRpcGxlIHNvcnRlZCBpbnB1dHMgaW50byBhIHNpbmdsZSBzb3J0ZWQgb3V0cHV0LlxuXG4gICAgU2ltaWxhciB0byBzb3J0ZWQoaXRlcnRvb2xzLmNoYWluKCppdGVyYWJsZXMpKSBidXQgcmV0dXJucyBhIGdlbmVyYXRvcixcbiAgICBkb2VzIG5vdCBwdWxsIHRoZSBkYXRhIGludG8gbWVtb3J5IGFsbCBhdCBvbmNlLCBhbmQgYXNzdW1lcyB0aGF0IGVhY2ggb2ZcbiAgICB0aGUgaW5wdXQgc3RyZWFtcyBpcyBhbHJlYWR5IHNvcnRlZCAoc21hbGxlc3QgdG8gbGFyZ2VzdCkuXG5cbiAgICA+Pj4gbGlzdChtZXJnZShbMSwzLDUsN10sIFswLDIsNCw4XSwgWzUsMTAsMTUsMjBdLCBbXSwgWzI1XSkpXG4gICAgWzAsIDEsIDIsIDMsIDQsIDUsIDUsIDcsIDgsIDEwLCAxNSwgMjAsIDI1XVxuXG4gICAgJzskcmlnaHQ9dHVwbGUoW2hlYXBwb3AsaGVhcHJlcGxhY2UsU3RvcEl0ZXJhdGlvbl0pO2lmKCRyaWdodC5fX2xlbl9fKCk+Myl0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAzKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwzKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgX2hlYXBwb3A9JGxvY2Fscy5faGVhcHBvcD0kcmlnaHQuX19pdGVtX18oMCk7dmFyIF9oZWFwcmVwbGFjZT0kbG9jYWxzLl9oZWFwcmVwbGFjZT0kcmlnaHQuX19pdGVtX18oMSk7dmFyIF9TdG9wSXRlcmF0aW9uPSRsb2NhbHMuX1N0b3BJdGVyYXRpb249JHJpZ2h0Ll9faXRlbV9fKDIpO3ZhciBoPSRsb2NhbHMuaD1saXN0KFtdKTt2YXIgaF9hcHBlbmQ9JGxvY2Fscy5oX2FwcGVuZD1oLl9fZ2V0YXR0cl9fKCJhcHBlbmQiKTt2YXIgJGl0ZXI1NT1lbnVtZXJhdGUuX19jYWxsX18obWFwLl9fY2FsbF9fKGl0ZXIsaXRlcmFibGVzKSk7Zm9yKHZhciAkaTU1PTA7JGk1NTwkaXRlcjU1Ll9fbGVuX18oKTskaTU1KyspeyRyaWdodD0kaXRlcjU1Ll9faXRlbV9fKCRpNTUpO2lmKCRyaWdodC5fX2xlbl9fKCk+Mil0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAyKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwyKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgaXRudW09JGxvY2Fscy5pdG51bT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGl0PSRsb2NhbHMuaXQ9JHJpZ2h0Ll9faXRlbV9fKDEpO3RyeXt2YXIgbmV4dD0kbG9jYWxzLm5leHQ9aXQuX19nZXRhdHRyX18oIl9fbmV4dF9fIik7aF9hcHBlbmQuX19jYWxsX18obGlzdChbbmV4dC5fX2NhbGxfXygpLGl0bnVtLG5leHRdKSk7fWNhdGNoKCRlcnI1Nil7aWYoZmFsc2Updm9pZCAwO2Vsc2UgaWYoWyJfU3RvcEl0ZXJhdGlvbiJdLmluZGV4T2YoJGVycjU2Ll9fbmFtZV9fKT4tMSl2b2lkIDA7ZWxzZSB0aHJvdyAkZXJyNTY7fX1oZWFwaWZ5Ll9fY2FsbF9fKGgpO3doaWxlKGJvb2woTnVtYmVyKDEpKSl0cnl7d2hpbGUoYm9vbChOdW1iZXIoMSkpKXt2YXIgcz0kbG9jYWxzLnM9aC5fX2dldGF0dHJfXygiX19nZXRpdGVtX18iKShOdW1iZXIoMCkpOyRyaWdodD1zO2lmKCRyaWdodC5fX2xlbl9fKCk+Myl0aHJvdyBWYWx1ZUVycm9yKCJ0b28gbWFueSB2YWx1ZXMgdG8gdW5wYWNrIChleHBlY3RlZCAzKSIpO2Vsc2UgaWYoJHJpZ2h0Ll9fbGVuX18oKTwzKXRocm93IFZhbHVlRXJyb3IoIm5lZWQgbW9yZSB0aGFuICIrJHJpZ2h0Ll9fbGVuX18oKSsiIHZhbHVlIisoJHJpZ2h0Ll9fbGVuX18oKT4xPyJzIjoiIikrIiB0byB1bnBhY2siKTt2YXIgdj0kbG9jYWxzLnY9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBpdG51bT0kbG9jYWxzLml0bnVtPSRyaWdodC5fX2l0ZW1fXygxKTt2YXIgbmV4dD0kbG9jYWxzLm5leHQ9JHJpZ2h0Ll9faXRlbV9fKDIpOyRtZXJnZS4kaXRlci5wdXNoKHYpO3MuX19nZXRhdHRyX18oIl9fc2V0aXRlbV9fIikoTnVtYmVyKDApLG5leHQuX19jYWxsX18oKSk7X2hlYXByZXBsYWNlLl9fY2FsbF9fKGgscyk7fX1jYXRjaCgkZXJyNTcpe2lmKGZhbHNlKXZvaWQgMDtlbHNlIGlmKFsiX1N0b3BJdGVyYXRpb24iXS5pbmRleE9mKCRlcnI1Ny5fX25hbWVfXyk+LTEpX2hlYXBwb3AuX19jYWxsX18oaCk7ZWxzZSBpZihbIkluZGV4RXJyb3IiXS5pbmRleE9mKCRlcnI1Ny5fX25hbWVfXyk+LTEpcmV0dXJuO2Vsc2UgdGhyb3cgJGVycjU3O319Y2F0Y2goZXJyNTUpe3Rocm93IF9fQlJZVEhPTl9fLmV4Y2VwdGlvbihlcnI1NSk7fX07fSkoKTt2YXIgbWVyZ2U9JGdsb2JhbHMubWVyZ2U9JGdlbmVyYXRvcigkbWVyZ2UpO21lcmdlLl9fbmFtZV9fPSJtZXJnZSI7JGdsb2JhbHMubWVyZ2U9bWVyZ2U7dmFyIF9uc21hbGxlc3Q9JGdsb2JhbHMuX25zbWFsbGVzdD1uc21hbGxlc3Q7dmFyIG5zbWFsbGVzdD0oZnVuY3Rpb24oTm9uZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciAkbnM9JE1ha2VBcmdzKCJuc21hbGxlc3QiLGFyZ3VtZW50cyxbIm4iLCJpdGVyYWJsZSJdLHsia2V5IjpOb25lfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGVbIjBndG40ZXFyIl0uX19kaWN0X189JG5zOyJGaW5kIHRoZSBuIHNtYWxsZXN0IGVsZW1lbnRzIGluIGEgZGF0YXNldC5cblxuICAgIEVxdWl2YWxlbnQgdG86ICBzb3J0ZWQoaXRlcmFibGUsIGtleT1rZXkpWzpuXVxuICAgICI7aWYoYm9vbChuLl9fZXFfXyhOdW1iZXIoMSkpKSl7dmFyIGl0PSRsb2NhbHMuaXQ9aXRlci5fX2NhbGxfXyhpdGVyYWJsZSk7dmFyIGhlYWQ9JGxvY2Fscy5oZWFkPWxpc3QuX19jYWxsX18oaXNsaWNlLl9fY2FsbF9fKGl0LE51bWJlcigxKSkpO2lmKGJvb2woIWJvb2woaGVhZCkpKXJldHVybiBsaXN0KFtdKTtpZihib29sKGtleT09PU5vbmUpKXJldHVybiBsaXN0KFttaW4uX19jYWxsX18oY2hhaW4uX19jYWxsX18oaGVhZCxpdCkpXSk7cmV0dXJuIGxpc3QoW21pbi5fX2NhbGxfXyhjaGFpbi5fX2NhbGxfXyhoZWFkLGl0KSwkS3coImtleSIsa2V5KSldKTt9dHJ5e3ZhciBzaXplPSRsb2NhbHMuc2l6ZT1sZW4uX19jYWxsX18oaXRlcmFibGUpO2lmKGJvb2wobi5fX2dlX18oc2l6ZSkpKXJldHVybiBzb3J0ZWQuX19jYWxsX18oaXRlcmFibGUsJEt3KCJrZXkiLGtleSkpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKHNsaWNlKG51bGwsbikpO31jYXRjaCgkZXJyNTgpe2lmKGZhbHNlKXZvaWQgMDtlbHNlIGlmKFsiVHlwZUVycm9yIiwiQXR0cmlidXRlRXJyb3IiXS5pbmRleE9mKCRlcnI1OC5fX25hbWVfXyk+LTEpdm9pZCAwO2Vsc2UgdGhyb3cgJGVycjU4O31pZihib29sKGtleT09PU5vbmUpKXt2YXIgaXQ9JGxvY2Fscy5pdD16aXAuX19jYWxsX18oaXRlcmFibGUsY291bnQuX19jYWxsX18oKSk7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD1fbnNtYWxsZXN0Ll9fY2FsbF9fKG4saXQpO3JldHVybiAkbGlzdF9jb21wKHsncmVzdWx0JzpyZXN1bHR9LCJyWzBdICIsImZvciByIGluIHJlc3VsdCIpO30kcmlnaHQ9dGVlLl9fY2FsbF9fKGl0ZXJhYmxlKTtpZigkcmlnaHQuX19sZW5fXygpPjIpdGhyb3cgVmFsdWVFcnJvcigidG9vIG1hbnkgdmFsdWVzIHRvIHVucGFjayAoZXhwZWN0ZWQgMikiKTtlbHNlIGlmKCRyaWdodC5fX2xlbl9fKCk8Mil0aHJvdyBWYWx1ZUVycm9yKCJuZWVkIG1vcmUgdGhhbiAiKyRyaWdodC5fX2xlbl9fKCkrIiB2YWx1ZSIrKCRyaWdodC5fX2xlbl9fKCk+MT8icyI6IiIpKyIgdG8gdW5wYWNrIik7dmFyIGluMT0kbG9jYWxzLmluMT0kcmlnaHQuX19pdGVtX18oMCk7dmFyIGluMj0kbG9jYWxzLmluMj0kcmlnaHQuX19pdGVtX18oMSk7dmFyIGl0PSRsb2NhbHMuaXQ9emlwLl9fY2FsbF9fKG1hcC5fX2NhbGxfXyhrZXksaW4xKSxjb3VudC5fX2NhbGxfXygpLGluMik7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD1fbnNtYWxsZXN0Ll9fY2FsbF9fKG4saXQpO3JldHVybiAkbGlzdF9jb21wKHsncmVzdWx0JzpyZXN1bHR9LCJyWzJdICIsImZvciByIGluIHJlc3VsdCIpO31jYXRjaChlcnI1OCl7dGhyb3cgX19CUllUSE9OX18uZXhjZXB0aW9uKGVycjU4KTt9fTt9KShOb25lKTtuc21hbGxlc3QuX19uYW1lX189Im5zbWFsbGVzdCI7JGdsb2JhbHMubnNtYWxsZXN0PW5zbWFsbGVzdDt2YXIgX25sYXJnZXN0PSRnbG9iYWxzLl9ubGFyZ2VzdD1ubGFyZ2VzdDt2YXIgbmxhcmdlc3Q9KGZ1bmN0aW9uKE5vbmUpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgJG5zPSRNYWtlQXJncygibmxhcmdlc3QiLGFyZ3VtZW50cyxbIm4iLCJpdGVyYWJsZSJdLHsia2V5IjpOb25lfSxudWxsLG51bGwpO2ZvcigkdmFyIGluICRucylldmFsKCJ2YXIgIiskdmFyKyI9JG5zWyR2YXJdIik7dmFyICRsb2NhbHM9X19CUllUSE9OX18uc2NvcGUubThqeTExeTguX19kaWN0X189JG5zOyJGaW5kIHRoZSBuIGxhcmdlc3QgZWxlbWVudHMgaW4gYSBkYXRhc2V0LlxuICAgIFxuICAgICBFcXVpdmFsZW50IHRvOiAgc29ydGVkKGl0ZXJhYmxlLCBrZXk9a2V5LCByZXZlcnNlPVRydWUpWzpuXVxuXG4gICAgIFNob3J0LWN1dCBmb3Igbj09MSBpcyB0byB1c2UgbWF4KCkgd2hlbiBsZW4oaXRlcmFibGUpPjBcbiAgICAiO2lmKGJvb2wobi5fX2VxX18oTnVtYmVyKDEpKSkpe3ZhciBpdD0kbG9jYWxzLml0PWl0ZXIuX19jYWxsX18oaXRlcmFibGUpO3ZhciBoZWFkPSRsb2NhbHMuaGVhZD1saXN0Ll9fY2FsbF9fKGlzbGljZS5fX2NhbGxfXyhpdCxOdW1iZXIoMSkpKTtpZihib29sKCFib29sKGhlYWQpKSlyZXR1cm4gbGlzdChbXSk7aWYoYm9vbChrZXk9PT1Ob25lKSlyZXR1cm4gbGlzdChbbWF4Ll9fY2FsbF9fKGNoYWluLl9fY2FsbF9fKGhlYWQsaXQpKV0pO3JldHVybiBsaXN0KFttYXguX19jYWxsX18oY2hhaW4uX19jYWxsX18oaGVhZCxpdCksJEt3KCJrZXkiLGtleSkpXSk7fXRyeXt2YXIgc2l6ZT0kbG9jYWxzLnNpemU9bGVuLl9fY2FsbF9fKGl0ZXJhYmxlKTtpZihib29sKG4uX19nZV9fKHNpemUpKSlyZXR1cm4gc29ydGVkLl9fY2FsbF9fKGl0ZXJhYmxlLCRLdygia2V5IixrZXkpLCRLdygicmV2ZXJzZSIsVHJ1ZSkpLl9fZ2V0YXR0cl9fKCJfX2dldGl0ZW1fXyIpKHNsaWNlKG51bGwsbikpO31jYXRjaCgkZXJyNTkpe2lmKGZhbHNlKXZvaWQgMDtlbHNlIGlmKFsiVHlwZUVycm9yIiwiQXR0cmlidXRlRXJyb3IiXS5pbmRleE9mKCRlcnI1OS5fX25hbWVfXyk+LTEpdm9pZCAwO2Vsc2UgdGhyb3cgJGVycjU5O31pZihib29sKGtleT09PU5vbmUpKXt2YXIgaXQ9JGxvY2Fscy5pdD16aXAuX19jYWxsX18oaXRlcmFibGUsY291bnQuX19jYWxsX18oTnVtYmVyKDApLE51bWJlcigtMSkpKTt2YXIgcmVzdWx0PSRsb2NhbHMucmVzdWx0PV9ubGFyZ2VzdC5fX2NhbGxfXyhuLGl0KTtyZXR1cm4gJGxpc3RfY29tcCh7J3Jlc3VsdCc6cmVzdWx0fSwiclswXSAiLCJmb3IgciBpbiByZXN1bHQiKTt9JHJpZ2h0PXRlZS5fX2NhbGxfXyhpdGVyYWJsZSk7aWYoJHJpZ2h0Ll9fbGVuX18oKT4yKXRocm93IFZhbHVlRXJyb3IoInRvbyBtYW55IHZhbHVlcyB0byB1bnBhY2sgKGV4cGVjdGVkIDIpIik7ZWxzZSBpZigkcmlnaHQuX19sZW5fXygpPDIpdGhyb3cgVmFsdWVFcnJvcigibmVlZCBtb3JlIHRoYW4gIiskcmlnaHQuX19sZW5fXygpKyIgdmFsdWUiKygkcmlnaHQuX19sZW5fXygpPjE/InMiOiIiKSsiIHRvIHVucGFjayIpO3ZhciBpbjE9JGxvY2Fscy5pbjE9JHJpZ2h0Ll9faXRlbV9fKDApO3ZhciBpbjI9JGxvY2Fscy5pbjI9JHJpZ2h0Ll9faXRlbV9fKDEpO3ZhciBpdD0kbG9jYWxzLml0PXppcC5fX2NhbGxfXyhtYXAuX19jYWxsX18oa2V5LGluMSksY291bnQuX19jYWxsX18oTnVtYmVyKDApLE51bWJlcigtMSkpLGluMik7dmFyIHJlc3VsdD0kbG9jYWxzLnJlc3VsdD1fbmxhcmdlc3QuX19jYWxsX18obixpdCk7cmV0dXJuICRsaXN0X2NvbXAoeydyZXN1bHQnOnJlc3VsdH0sInJbMl0gIiwiZm9yIHIgaW4gcmVzdWx0Iik7fWNhdGNoKGVycjU5KXt0aHJvdyBfX0JSWVRIT05fXy5leGNlcHRpb24oZXJyNTkpO319O30pKE5vbmUpO25sYXJnZXN0Ll9fbmFtZV9fPSJubGFyZ2VzdCI7JGdsb2JhbHMubmxhcmdlc3Q9bmxhcmdlc3Q7cmV0dXJue19fYWJvdXRfXzpfX2Fib3V0X18sX19hbGxfXzpfX2FsbF9fLGlzbGljZTppc2xpY2UscmVwZWF0OnJlcGVhdCxjb3VudDpjb3VudCx0ZWU6dGVlLGNoYWluOmNoYWluLGhlYXBwdXNoOmhlYXBwdXNoLGhlYXBwb3A6aGVhcHBvcCxoZWFwcmVwbGFjZTpoZWFwcmVwbGFjZSxoZWFwcHVzaHBvcDpoZWFwcHVzaHBvcCxoZWFwaWZ5OmhlYXBpZnksbmxhcmdlc3Q6bmxhcmdlc3QsbnNtYWxsZXN0Om5zbWFsbGVzdCxfc2lmdGRvd246X3NpZnRkb3duLF9zaWZ0dXA6X3NpZnR1cCxtZXJnZTptZXJnZSxfbnNtYWxsZXN0Ol9uc21hbGxlc3QsX25sYXJnZXN0Ol9ubGFyZ2VzdCxfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LF9fc2V0YXR0cl9fOmZ1bmN0aW9uKGF0dHIsdmFsdWUpe3RoaXNbYXR0cl09dmFsdWU7fX07fSkoKTs=',
'/Lib/unittest/suite.py':'IiIiVGVzdFN1aXRlIiIiCgppbXBvcnQgc3lzCgpmcm9tIC4gaW1wb3J0IGNhc2UKZnJvbSAuIGltcG9ydCB1dGlsCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmRlZiBfY2FsbF9pZl9leGlzdHMocGFyZW50LCBhdHRyKToKICAgIGZ1bmMgPSBnZXRhdHRyKHBhcmVudCwgYXR0ciwgbGFtYmRhOiBOb25lKQogICAgZnVuYygpCgoKY2xhc3MgQmFzZVRlc3RTdWl0ZShvYmplY3QpOgogICAgIiIiQSBzaW1wbGUgdGVzdCBzdWl0ZSB0aGF0IGRvZXNuJ3QgcHJvdmlkZSBjbGFzcyBvciBtb2R1bGUgc2hhcmVkIGZpeHR1cmVzLgogICAgIiIiCiAgICBkZWYgX19pbml0X18oc2VsZiwgdGVzdHM9KCkpOgogICAgICAgIHNlbGYuX3Rlc3RzID0gW10KICAgICAgICBzZWxmLmFkZFRlc3RzKHRlc3RzKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZXN0cz0lcz4iICUgKHV0aWwuc3RyY2xhc3Moc2VsZi5fX2NsYXNzX18pLCBsaXN0KHNlbGYpKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBzZWxmLl9fY2xhc3NfXyk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBsaXN0KHNlbGYpID09IGxpc3Qob3RoZXIpCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIG5vdCBzZWxmID09IG90aGVyCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBpdGVyKHNlbGYuX3Rlc3RzKQoKICAgIGRlZiBjb3VudFRlc3RDYXNlcyhzZWxmKToKICAgICAgICBjYXNlcyA9IDAKICAgICAgICBmb3IgdGVzdCBpbiBzZWxmOgogICAgICAgICAgICBjYXNlcyArPSB0ZXN0LmNvdW50VGVzdENhc2VzKCkKICAgICAgICByZXR1cm4gY2FzZXMKCiAgICBkZWYgYWRkVGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAjIHNhbml0eSBjaGVja3MKICAgICAgICBpZiBub3QgY2FsbGFibGUodGVzdCk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigie30gaXMgbm90IGNhbGxhYmxlIi5mb3JtYXQocmVwcih0ZXN0KSkpCiAgICAgICAgaWYgaXNpbnN0YW5jZSh0ZXN0LCB0eXBlKSBhbmQgaXNzdWJjbGFzcyh0ZXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhc2UuVGVzdENhc2UsIFRlc3RTdWl0ZSkpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIlRlc3RDYXNlcyBhbmQgVGVzdFN1aXRlcyBtdXN0IGJlIGluc3RhbnRpYXRlZCAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYmVmb3JlIHBhc3NpbmcgdGhlbSB0byBhZGRUZXN0KCkiKQogICAgICAgIHNlbGYuX3Rlc3RzLmFwcGVuZCh0ZXN0KQoKICAgIGRlZiBhZGRUZXN0cyhzZWxmLCB0ZXN0cyk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh0ZXN0cywgc3RyKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0ZXN0cyBtdXN0IGJlIGFuIGl0ZXJhYmxlIG9mIHRlc3RzLCBub3QgYSBzdHJpbmciKQogICAgICAgIGZvciB0ZXN0IGluIHRlc3RzOgogICAgICAgICAgICBzZWxmLmFkZFRlc3QodGVzdCkKCiAgICBkZWYgcnVuKHNlbGYsIHJlc3VsdCk6CiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgaWYgcmVzdWx0LnNob3VsZFN0b3A6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB0ZXN0KHJlc3VsdCkKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIF9fY2FsbF9fKHNlbGYsICphcmdzLCAqKmt3ZHMpOgogICAgICAgIHJldHVybiBzZWxmLnJ1bigqYXJncywgKiprd2RzKQoKICAgIGRlZiBkZWJ1ZyhzZWxmKToKICAgICAgICAiIiJSdW4gdGhlIHRlc3RzIHdpdGhvdXQgY29sbGVjdGluZyBlcnJvcnMgaW4gYSBUZXN0UmVzdWx0IiIiCiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgdGVzdC5kZWJ1ZygpCgoKY2xhc3MgVGVzdFN1aXRlKEJhc2VUZXN0U3VpdGUpOgogICAgIiIiQSB0ZXN0IHN1aXRlIGlzIGEgY29tcG9zaXRlIHRlc3QgY29uc2lzdGluZyBvZiBhIG51bWJlciBvZiBUZXN0Q2FzZXMuCgogICAgRm9yIHVzZSwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIFRlc3RTdWl0ZSwgdGhlbiBhZGQgdGVzdCBjYXNlIGluc3RhbmNlcy4KICAgIFdoZW4gYWxsIHRlc3RzIGhhdmUgYmVlbiBhZGRlZCwgdGhlIHN1aXRlIGNhbiBiZSBwYXNzZWQgdG8gYSB0ZXN0CiAgICBydW5uZXIsIHN1Y2ggYXMgVGV4dFRlc3RSdW5uZXIuIEl0IHdpbGwgcnVuIHRoZSBpbmRpdmlkdWFsIHRlc3QgY2FzZXMKICAgIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQsIGFnZ3JlZ2F0aW5nIHRoZSByZXN1bHRzLiBXaGVuCiAgICBzdWJjbGFzc2luZywgZG8gbm90IGZvcmdldCB0byBjYWxsIHRoZSBiYXNlIGNsYXNzIGNvbnN0cnVjdG9yLgogICAgIiIiCgogICAgZGVmIHJ1bihzZWxmLCByZXN1bHQsIGRlYnVnPUZhbHNlKToKICAgICAgICB0b3BMZXZlbCA9IEZhbHNlCiAgICAgICAgaWYgZ2V0YXR0cihyZXN1bHQsICdfdGVzdFJ1bkVudGVyZWQnLCBGYWxzZSkgaXMgRmFsc2U6CiAgICAgICAgICAgIHJlc3VsdC5fdGVzdFJ1bkVudGVyZWQgPSB0b3BMZXZlbCA9IFRydWUKCiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgaWYgcmVzdWx0LnNob3VsZFN0b3A6CiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgaWYgX2lzbm90c3VpdGUodGVzdCk6CiAgICAgICAgICAgICAgICBzZWxmLl90ZWFyRG93blByZXZpb3VzQ2xhc3ModGVzdCwgcmVzdWx0KQogICAgICAgICAgICAgICAgc2VsZi5faGFuZGxlTW9kdWxlRml4dHVyZSh0ZXN0LCByZXN1bHQpCiAgICAgICAgICAgICAgICBzZWxmLl9oYW5kbGVDbGFzc1NldFVwKHRlc3QsIHJlc3VsdCkKICAgICAgICAgICAgICAgIHJlc3VsdC5fcHJldmlvdXNUZXN0Q2xhc3MgPSB0ZXN0Ll9fY2xhc3NfXwoKICAgICAgICAgICAgICAgIGlmIChnZXRhdHRyKHRlc3QuX19jbGFzc19fLCAnX2NsYXNzU2V0dXBGYWlsZWQnLCBGYWxzZSkgb3IKICAgICAgICAgICAgICAgICAgICBnZXRhdHRyKHJlc3VsdCwgJ19tb2R1bGVTZXRVcEZhaWxlZCcsIEZhbHNlKSk6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGlmIG5vdCBkZWJ1ZzoKICAgICAgICAgICAgICAgIHRlc3QocmVzdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdGVzdC5kZWJ1ZygpCgogICAgICAgIGlmIHRvcExldmVsOgogICAgICAgICAgICBzZWxmLl90ZWFyRG93blByZXZpb3VzQ2xhc3MoTm9uZSwgcmVzdWx0KQogICAgICAgICAgICBzZWxmLl9oYW5kbGVNb2R1bGVUZWFyRG93bihyZXN1bHQpCiAgICAgICAgICAgIHJlc3VsdC5fdGVzdFJ1bkVudGVyZWQgPSBGYWxzZQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgZGVidWcoc2VsZik6CiAgICAgICAgIiIiUnVuIHRoZSB0ZXN0cyB3aXRob3V0IGNvbGxlY3RpbmcgZXJyb3JzIGluIGEgVGVzdFJlc3VsdCIiIgogICAgICAgIGRlYnVnID0gX0RlYnVnUmVzdWx0KCkKICAgICAgICBzZWxmLnJ1bihkZWJ1ZywgVHJ1ZSkKCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKICAgIGRlZiBfaGFuZGxlQ2xhc3NTZXRVcChzZWxmLCB0ZXN0LCByZXN1bHQpOgogICAgICAgIHByZXZpb3VzQ2xhc3MgPSBnZXRhdHRyKHJlc3VsdCwgJ19wcmV2aW91c1Rlc3RDbGFzcycsIE5vbmUpCiAgICAgICAgY3VycmVudENsYXNzID0gdGVzdC5fX2NsYXNzX18KICAgICAgICBpZiBjdXJyZW50Q2xhc3MgPT0gcHJldmlvdXNDbGFzczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgcmVzdWx0Ll9tb2R1bGVTZXRVcEZhaWxlZDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZ2V0YXR0cihjdXJyZW50Q2xhc3MsICJfX3VuaXR0ZXN0X3NraXBfXyIsIEZhbHNlKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgY3VycmVudENsYXNzLl9jbGFzc1NldHVwRmFpbGVkID0gRmFsc2UKICAgICAgICBleGNlcHQgVHlwZUVycm9yOgogICAgICAgICAgICAjIHRlc3QgbWF5IGFjdHVhbGx5IGJlIGEgZnVuY3Rpb24KICAgICAgICAgICAgIyBzbyBpdHMgY2xhc3Mgd2lsbCBiZSBhIGJ1aWx0aW4tdHlwZQogICAgICAgICAgICBwYXNzCgogICAgICAgIHNldFVwQ2xhc3MgPSBnZXRhdHRyKGN1cnJlbnRDbGFzcywgJ3NldFVwQ2xhc3MnLCBOb25lKQogICAgICAgIGlmIHNldFVwQ2xhc3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXRVcENsYXNzKCkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShyZXN1bHQsIF9EZWJ1Z1Jlc3VsdCk6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICAgICAgICAgIGN1cnJlbnRDbGFzcy5fY2xhc3NTZXR1cEZhaWxlZCA9IFRydWUKICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHV0aWwuc3RyY2xhc3MoY3VycmVudENsYXNzKQogICAgICAgICAgICAgICAgZXJyb3JOYW1lID0gJ3NldFVwQ2xhc3MgKCVzKScgJSBjbGFzc05hbWUKICAgICAgICAgICAgICAgIHNlbGYuX2FkZENsYXNzT3JNb2R1bGVMZXZlbEV4Y2VwdGlvbihyZXN1bHQsIGUsIGVycm9yTmFtZSkKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfcmVzdG9yZVN0ZG91dCcpCgogICAgZGVmIF9nZXRfcHJldmlvdXNfbW9kdWxlKHNlbGYsIHJlc3VsdCk6CiAgICAgICAgcHJldmlvdXNNb2R1bGUgPSBOb25lCiAgICAgICAgcHJldmlvdXNDbGFzcyA9IGdldGF0dHIocmVzdWx0LCAnX3ByZXZpb3VzVGVzdENsYXNzJywgTm9uZSkKICAgICAgICBpZiBwcmV2aW91c0NsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBwcmV2aW91c01vZHVsZSA9IHByZXZpb3VzQ2xhc3MuX19tb2R1bGVfXwogICAgICAgIHJldHVybiBwcmV2aW91c01vZHVsZQoKCiAgICBkZWYgX2hhbmRsZU1vZHVsZUZpeHR1cmUoc2VsZiwgdGVzdCwgcmVzdWx0KToKICAgICAgICBwcmV2aW91c01vZHVsZSA9IHNlbGYuX2dldF9wcmV2aW91c19tb2R1bGUocmVzdWx0KQogICAgICAgIGN1cnJlbnRNb2R1bGUgPSB0ZXN0Ll9fY2xhc3NfXy5fX21vZHVsZV9fCiAgICAgICAgaWYgY3VycmVudE1vZHVsZSA9PSBwcmV2aW91c01vZHVsZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuX2hhbmRsZU1vZHVsZVRlYXJEb3duKHJlc3VsdCkKCgogICAgICAgIHJlc3VsdC5fbW9kdWxlU2V0VXBGYWlsZWQgPSBGYWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgbW9kdWxlID0gc3lzLm1vZHVsZXNbY3VycmVudE1vZHVsZV0KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNldFVwTW9kdWxlID0gZ2V0YXR0cihtb2R1bGUsICdzZXRVcE1vZHVsZScsIE5vbmUpCiAgICAgICAgaWYgc2V0VXBNb2R1bGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXRVcE1vZHVsZSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICByZXN1bHQuX21vZHVsZVNldFVwRmFpbGVkID0gVHJ1ZQogICAgICAgICAgICAgICAgZXJyb3JOYW1lID0gJ3NldFVwTW9kdWxlICglcyknICUgY3VycmVudE1vZHVsZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCiAgICBkZWYgX2FkZENsYXNzT3JNb2R1bGVMZXZlbEV4Y2VwdGlvbihzZWxmLCByZXN1bHQsIGV4Y2VwdGlvbiwgZXJyb3JOYW1lKToKICAgICAgICBlcnJvciA9IF9FcnJvckhvbGRlcihlcnJvck5hbWUpCiAgICAgICAgYWRkU2tpcCA9IGdldGF0dHIocmVzdWx0LCAnYWRkU2tpcCcsIE5vbmUpCiAgICAgICAgaWYgYWRkU2tpcCBpcyBub3QgTm9uZSBhbmQgaXNpbnN0YW5jZShleGNlcHRpb24sIGNhc2UuU2tpcFRlc3QpOgogICAgICAgICAgICBhZGRTa2lwKGVycm9yLCBzdHIoZXhjZXB0aW9uKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXN1bHQuYWRkRXJyb3IoZXJyb3IsIHN5cy5leGNfaW5mbygpKQoKICAgIGRlZiBfaGFuZGxlTW9kdWxlVGVhckRvd24oc2VsZiwgcmVzdWx0KToKICAgICAgICBwcmV2aW91c01vZHVsZSA9IHNlbGYuX2dldF9wcmV2aW91c19tb2R1bGUocmVzdWx0KQogICAgICAgIGlmIHByZXZpb3VzTW9kdWxlIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIHJlc3VsdC5fbW9kdWxlU2V0VXBGYWlsZWQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIG1vZHVsZSA9IHN5cy5tb2R1bGVzW3ByZXZpb3VzTW9kdWxlXQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRlYXJEb3duTW9kdWxlID0gZ2V0YXR0cihtb2R1bGUsICd0ZWFyRG93bk1vZHVsZScsIE5vbmUpCiAgICAgICAgaWYgdGVhckRvd25Nb2R1bGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB0ZWFyRG93bk1vZHVsZSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICBlcnJvck5hbWUgPSAndGVhckRvd25Nb2R1bGUgKCVzKScgJSBwcmV2aW91c01vZHVsZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCiAgICBkZWYgX3RlYXJEb3duUHJldmlvdXNDbGFzcyhzZWxmLCB0ZXN0LCByZXN1bHQpOgogICAgICAgIHByZXZpb3VzQ2xhc3MgPSBnZXRhdHRyKHJlc3VsdCwgJ19wcmV2aW91c1Rlc3RDbGFzcycsIE5vbmUpCiAgICAgICAgY3VycmVudENsYXNzID0gdGVzdC5fX2NsYXNzX18KICAgICAgICBpZiBjdXJyZW50Q2xhc3MgPT0gcHJldmlvdXNDbGFzczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZ2V0YXR0cihwcmV2aW91c0NsYXNzLCAnX2NsYXNzU2V0dXBGYWlsZWQnLCBGYWxzZSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGdldGF0dHIocmVzdWx0LCAnX21vZHVsZVNldFVwRmFpbGVkJywgRmFsc2UpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBnZXRhdHRyKHByZXZpb3VzQ2xhc3MsICJfX3VuaXR0ZXN0X3NraXBfXyIsIEZhbHNlKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRlYXJEb3duQ2xhc3MgPSBnZXRhdHRyKHByZXZpb3VzQ2xhc3MsICd0ZWFyRG93bkNsYXNzJywgTm9uZSkKICAgICAgICBpZiB0ZWFyRG93bkNsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBfY2FsbF9pZl9leGlzdHMocmVzdWx0LCAnX3NldHVwU3Rkb3V0JykKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdGVhckRvd25DbGFzcygpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB1dGlsLnN0cmNsYXNzKHByZXZpb3VzQ2xhc3MpCiAgICAgICAgICAgICAgICBlcnJvck5hbWUgPSAndGVhckRvd25DbGFzcyAoJXMpJyAlIGNsYXNzTmFtZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCgpjbGFzcyBfRXJyb3JIb2xkZXIob2JqZWN0KToKICAgICIiIgogICAgUGxhY2Vob2xkZXIgZm9yIGEgVGVzdENhc2UgaW5zaWRlIGEgcmVzdWx0LiBBcyBmYXIgYXMgYSBUZXN0UmVzdWx0CiAgICBpcyBjb25jZXJuZWQsIHRoaXMgbG9va3MgZXhhY3RseSBsaWtlIGEgdW5pdCB0ZXN0LiBVc2VkIHRvIGluc2VydAogICAgYXJiaXRyYXJ5IGVycm9ycyBpbnRvIGEgdGVzdCBzdWl0ZSBydW4uCiAgICAiIiIKICAgICMgSW5zcGlyZWQgYnkgdGhlIEVycm9ySG9sZGVyIGZyb20gVHdpc3RlZDoKICAgICMgaHR0cDovL3R3aXN0ZWRtYXRyaXguY29tL3RyYWMvYnJvd3Nlci90cnVuay90d2lzdGVkL3RyaWFsL3J1bm5lci5weQoKICAgICMgYXR0cmlidXRlIHVzZWQgYnkgVGVzdFJlc3VsdC5fZXhjX2luZm9fdG9fc3RyaW5nCiAgICBmYWlsdXJlRXhjZXB0aW9uID0gTm9uZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkZXNjcmlwdGlvbik6CiAgICAgICAgc2VsZi5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uCgogICAgZGVmIGlkKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmRlc2NyaXB0aW9uCgogICAgZGVmIHNob3J0RGVzY3JpcHRpb24oc2VsZik6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICI8RXJyb3JIb2xkZXIgZGVzY3JpcHRpb249JXI+IiAlIChzZWxmLmRlc2NyaXB0aW9uLCkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pZCgpCgogICAgZGVmIHJ1bihzZWxmLCByZXN1bHQpOgogICAgICAgICMgY291bGQgY2FsbCByZXN1bHQuYWRkRXJyb3IoLi4uKSAtIGJ1dCB0aGlzIHRlc3QtbGlrZSBvYmplY3QKICAgICAgICAjIHNob3VsZG4ndCBiZSBydW4gYW55d2F5CiAgICAgICAgcGFzcwoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCByZXN1bHQpOgogICAgICAgIHJldHVybiBzZWxmLnJ1bihyZXN1bHQpCgogICAgZGVmIGNvdW50VGVzdENhc2VzKHNlbGYpOgogICAgICAgIHJldHVybiAwCgpkZWYgX2lzbm90c3VpdGUodGVzdCk6CiAgICAiQSBjcnVkZSB3YXkgdG8gdGVsbCBhcGFydCB0ZXN0Y2FzZXMgYW5kIHN1aXRlcyB3aXRoIGR1Y2stdHlwaW5nIgogICAgdHJ5OgogICAgICAgIGl0ZXIodGVzdCkKICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIHJldHVybiBGYWxzZQoKCmNsYXNzIF9EZWJ1Z1Jlc3VsdChvYmplY3QpOgogICAgIlVzZWQgYnkgdGhlIFRlc3RTdWl0ZSB0byBob2xkIHByZXZpb3VzIGNsYXNzIHdoZW4gcnVubmluZyBpbiBkZWJ1Zy4iCiAgICBfcHJldmlvdXNUZXN0Q2xhc3MgPSBOb25lCiAgICBfbW9kdWxlU2V0VXBGYWlsZWQgPSBGYWxzZQogICAgc2hvdWxkU3RvcCA9IEZhbHNlCg==',
'/Lib/unittest/runner.py':'IiIiUnVubmluZyB0ZXN0cyIiIgoKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgd2FybmluZ3MKCmZyb20gLiBpbXBvcnQgcmVzdWx0CmZyb20gLnNpZ25hbHMgaW1wb3J0IHJlZ2lzdGVyUmVzdWx0CgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmNsYXNzIF9Xcml0ZWxuRGVjb3JhdG9yKG9iamVjdCk6CiAgICAiIiJVc2VkIHRvIGRlY29yYXRlIGZpbGUtbGlrZSBvYmplY3RzIHdpdGggYSBoYW5keSAnd3JpdGVsbicgbWV0aG9kIiIiCiAgICBkZWYgX19pbml0X18oc2VsZixzdHJlYW0pOgogICAgICAgIHNlbGYuc3RyZWFtID0gc3RyZWFtCgogICAgZGVmIF9fZ2V0YXR0cl9fKHNlbGYsIGF0dHIpOgogICAgICAgIGlmIGF0dHIgaW4gKCdzdHJlYW0nLCAnX19nZXRzdGF0ZV9fJyk6CiAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKGF0dHIpCiAgICAgICAgcmV0dXJuIGdldGF0dHIoc2VsZi5zdHJlYW0sYXR0cikKCiAgICBkZWYgd3JpdGVsbihzZWxmLCBhcmc9Tm9uZSk6CiAgICAgICAgaWYgYXJnOgogICAgICAgICAgICBzZWxmLndyaXRlKGFyZykKICAgICAgICBzZWxmLndyaXRlKCdcbicpICMgdGV4dC1tb2RlIHN0cmVhbXMgdHJhbnNsYXRlIHRvIFxyXG4gaWYgbmVlZGVkCgoKY2xhc3MgVGV4dFRlc3RSZXN1bHQocmVzdWx0LlRlc3RSZXN1bHQpOgogICAgIiIiQSB0ZXN0IHJlc3VsdCBjbGFzcyB0aGF0IGNhbiBwcmludCBmb3JtYXR0ZWQgdGV4dCByZXN1bHRzIHRvIGEgc3RyZWFtLgoKICAgIFVzZWQgYnkgVGV4dFRlc3RSdW5uZXIuCiAgICAiIiIKICAgIHNlcGFyYXRvcjEgPSAnPScgKiA3MAogICAgc2VwYXJhdG9yMiA9ICctJyAqIDcwCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0cmVhbSwgZGVzY3JpcHRpb25zLCB2ZXJib3NpdHkpOgogICAgICAgIHN1cGVyKFRleHRUZXN0UmVzdWx0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5zdHJlYW0gPSBzdHJlYW0KICAgICAgICBzZWxmLnNob3dBbGwgPSB2ZXJib3NpdHkgPiAxCiAgICAgICAgc2VsZi5kb3RzID0gdmVyYm9zaXR5ID09IDEKICAgICAgICBzZWxmLmRlc2NyaXB0aW9ucyA9IGRlc2NyaXB0aW9ucwoKICAgIGRlZiBnZXREZXNjcmlwdGlvbihzZWxmLCB0ZXN0KToKICAgICAgICBkb2NfZmlyc3RfbGluZSA9IHRlc3Quc2hvcnREZXNjcmlwdGlvbigpCiAgICAgICAgaWYgc2VsZi5kZXNjcmlwdGlvbnMgYW5kIGRvY19maXJzdF9saW5lOgogICAgICAgICAgICByZXR1cm4gJ1xuJy5qb2luKChzdHIodGVzdCksIGRvY19maXJzdF9saW5lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc3RyKHRlc3QpCgogICAgZGVmIHN0YXJ0VGVzdChzZWxmLCB0ZXN0KToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuc3RhcnRUZXN0KHRlc3QpCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZShzZWxmLmdldERlc2NyaXB0aW9uKHRlc3QpKQogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZSgiIC4uLiAiKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZFN1Y2Nlc3Moc2VsZiwgdGVzdCk6CiAgICAgICAgc3VwZXIoVGV4dFRlc3RSZXN1bHQsIHNlbGYpLmFkZFN1Y2Nlc3ModGVzdCkKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIm9rIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJy4nKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEVycm9yKHNlbGYsIHRlc3QsIGVycik6CiAgICAgICAgc3VwZXIoVGV4dFRlc3RSZXN1bHQsIHNlbGYpLmFkZEVycm9yKHRlc3QsIGVycikKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIkVSUk9SIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJ0UnKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEZhaWx1cmUoc2VsZiwgdGVzdCwgZXJyKToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkRmFpbHVyZSh0ZXN0LCBlcnIpCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJGQUlMIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJ0YnKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZFNraXAoc2VsZiwgdGVzdCwgcmVhc29uKToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkU2tpcCh0ZXN0LCByZWFzb24pCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJza2lwcGVkIHswIXJ9Ii5mb3JtYXQocmVhc29uKSkKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoInMiKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEV4cGVjdGVkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgIHN1cGVyKFRleHRUZXN0UmVzdWx0LCBzZWxmKS5hZGRFeHBlY3RlZEZhaWx1cmUodGVzdCwgZXJyKQogICAgICAgIGlmIHNlbGYuc2hvd0FsbDoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiZXhwZWN0ZWQgZmFpbHVyZSIpCiAgICAgICAgZWxpZiBzZWxmLmRvdHM6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJ4IikKICAgICAgICAgICAgc2VsZi5zdHJlYW0uZmx1c2goKQoKICAgIGRlZiBhZGRVbmV4cGVjdGVkU3VjY2VzcyhzZWxmLCB0ZXN0KToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkVW5leHBlY3RlZFN1Y2Nlc3ModGVzdCkKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oInVuZXhwZWN0ZWQgc3VjY2VzcyIpCiAgICAgICAgZWxpZiBzZWxmLmRvdHM6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJ1IikKICAgICAgICAgICAgc2VsZi5zdHJlYW0uZmx1c2goKQoKICAgIGRlZiBwcmludEVycm9ycyhzZWxmKToKICAgICAgICBpZiBzZWxmLmRvdHMgb3Igc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCkKICAgICAgICBzZWxmLnByaW50RXJyb3JMaXN0KCdFUlJPUicsIHNlbGYuZXJyb3JzKQogICAgICAgIHNlbGYucHJpbnRFcnJvckxpc3QoJ0ZBSUwnLCBzZWxmLmZhaWx1cmVzKQoKICAgIGRlZiBwcmludEVycm9yTGlzdChzZWxmLCBmbGF2b3VyLCBlcnJvcnMpOgogICAgICAgIGZvciB0ZXN0LCBlcnIgaW4gZXJyb3JzOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKHNlbGYuc2VwYXJhdG9yMSkKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiJXM6ICVzIiAlIChmbGF2b3VyLHNlbGYuZ2V0RGVzY3JpcHRpb24odGVzdCkpKQogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKHNlbGYuc2VwYXJhdG9yMikKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiJXMiICUgZXJyKQoKCmNsYXNzIFRleHRUZXN0UnVubmVyKG9iamVjdCk6CiAgICAiIiJBIHRlc3QgcnVubmVyIGNsYXNzIHRoYXQgZGlzcGxheXMgcmVzdWx0cyBpbiB0ZXh0dWFsIGZvcm0uCgogICAgSXQgcHJpbnRzIG91dCB0aGUgbmFtZXMgb2YgdGVzdHMgYXMgdGhleSBhcmUgcnVuLCBlcnJvcnMgYXMgdGhleQogICAgb2NjdXIsIGFuZCBhIHN1bW1hcnkgb2YgdGhlIHJlc3VsdHMgYXQgdGhlIGVuZCBvZiB0aGUgdGVzdCBydW4uCiAgICAiIiIKICAgIHJlc3VsdGNsYXNzID0gVGV4dFRlc3RSZXN1bHQKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RyZWFtPU5vbmUsIGRlc2NyaXB0aW9ucz1UcnVlLCB2ZXJib3NpdHk9MSwKICAgICAgICAgICAgICAgICBmYWlsZmFzdD1GYWxzZSwgYnVmZmVyPUZhbHNlLCByZXN1bHRjbGFzcz1Ob25lLCB3YXJuaW5ncz1Ob25lKToKICAgICAgICBpZiBzdHJlYW0gaXMgTm9uZToKICAgICAgICAgICAgc3RyZWFtID0gc3lzLnN0ZGVycgogICAgICAgIHNlbGYuc3RyZWFtID0gX1dyaXRlbG5EZWNvcmF0b3Ioc3RyZWFtKQogICAgICAgIHNlbGYuZGVzY3JpcHRpb25zID0gZGVzY3JpcHRpb25zCiAgICAgICAgc2VsZi52ZXJib3NpdHkgPSB2ZXJib3NpdHkKICAgICAgICBzZWxmLmZhaWxmYXN0ID0gZmFpbGZhc3QKICAgICAgICBzZWxmLmJ1ZmZlciA9IGJ1ZmZlcgogICAgICAgIHNlbGYud2FybmluZ3MgPSB3YXJuaW5ncwogICAgICAgIGlmIHJlc3VsdGNsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnJlc3VsdGNsYXNzID0gcmVzdWx0Y2xhc3MKCiAgICBkZWYgX21ha2VSZXN1bHQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYucmVzdWx0Y2xhc3Moc2VsZi5zdHJlYW0sIHNlbGYuZGVzY3JpcHRpb25zLCBzZWxmLnZlcmJvc2l0eSkKCiAgICBkZWYgcnVuKHNlbGYsIHRlc3QpOgogICAgICAgICJSdW4gdGhlIGdpdmVuIHRlc3QgY2FzZSBvciB0ZXN0IHN1aXRlLiIKICAgICAgICByZXN1bHQgPSBzZWxmLl9tYWtlUmVzdWx0KCkKICAgICAgICByZWdpc3RlclJlc3VsdChyZXN1bHQpCiAgICAgICAgcmVzdWx0LmZhaWxmYXN0ID0gc2VsZi5mYWlsZmFzdAogICAgICAgIHJlc3VsdC5idWZmZXIgPSBzZWxmLmJ1ZmZlcgogICAgICAgIHdpdGggd2FybmluZ3MuY2F0Y2hfd2FybmluZ3MoKToKICAgICAgICAgICAgaWYgc2VsZi53YXJuaW5nczoKICAgICAgICAgICAgICAgICMgaWYgc2VsZi53YXJuaW5ncyBpcyBzZXQsIHVzZSBpdCB0byBmaWx0ZXIgYWxsIHRoZSB3YXJuaW5ncwogICAgICAgICAgICAgICAgd2FybmluZ3Muc2ltcGxlZmlsdGVyKHNlbGYud2FybmluZ3MpCiAgICAgICAgICAgICAgICAjIGlmIHRoZSBmaWx0ZXIgaXMgJ2RlZmF1bHQnIG9yICdhbHdheXMnLCBzcGVjaWFsLWNhc2UgdGhlCiAgICAgICAgICAgICAgICAjIHdhcm5pbmdzIGZyb20gdGhlIGRlcHJlY2F0ZWQgdW5pdHRlc3QgbWV0aG9kcyB0byBzaG93IHRoZW0KICAgICAgICAgICAgICAgICMgbm8gbW9yZSB0aGFuIG9uY2UgcGVyIG1vZHVsZSwgYmVjYXVzZSB0aGV5IGNhbiBiZSBmYWlybHkKICAgICAgICAgICAgICAgICMgbm9pc3kuICBUaGUgLVdkIGFuZCAtV2EgZmxhZ3MgY2FuIGJlIHVzZWQgdG8gYnlwYXNzIHRoaXMKICAgICAgICAgICAgICAgICMgb25seSB3aGVuIHNlbGYud2FybmluZ3MgaXMgTm9uZS4KICAgICAgICAgICAgICAgIGlmIHNlbGYud2FybmluZ3MgaW4gWydkZWZhdWx0JywgJ2Fsd2F5cyddOgogICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCdtb2R1bGUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9RGVwcmVjYXRpb25XYXJuaW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT0nUGxlYXNlIHVzZSBhc3NlcnRcdysgaW5zdGVhZC4nKQogICAgICAgICAgICBzdGFydFRpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBzdGFydFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0YXJ0VGVzdFJ1bicsIE5vbmUpCiAgICAgICAgICAgIGlmIHN0YXJ0VGVzdFJ1biBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHN0YXJ0VGVzdFJ1bigpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRlc3QocmVzdWx0KQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgc3RvcFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0b3BUZXN0UnVuJywgTm9uZSkKICAgICAgICAgICAgICAgIGlmIHN0b3BUZXN0UnVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHN0b3BUZXN0UnVuKCkKICAgICAgICAgICAgc3RvcFRpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHRpbWVUYWtlbiA9IHN0b3BUaW1lIC0gc3RhcnRUaW1lCiAgICAgICAgcmVzdWx0LnByaW50RXJyb3JzKCkKICAgICAgICBpZiBoYXNhdHRyKHJlc3VsdCwgJ3NlcGFyYXRvcjInKToKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbihyZXN1bHQuc2VwYXJhdG9yMikKICAgICAgICBydW4gPSByZXN1bHQudGVzdHNSdW4KICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJSYW4gJWQgdGVzdCVzIGluICUuM2ZzIiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocnVuLCBydW4gIT0gMSBhbmQgInMiIG9yICIiLCB0aW1lVGFrZW4pKQogICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oKQoKICAgICAgICBleHBlY3RlZEZhaWxzID0gdW5leHBlY3RlZFN1Y2Nlc3NlcyA9IHNraXBwZWQgPSAwCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXN1bHRzID0gbWFwKGxlbiwgKHJlc3VsdC5leHBlY3RlZEZhaWx1cmVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC51bmV4cGVjdGVkU3VjY2Vzc2VzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5za2lwcGVkKSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICBleHBlY3RlZEZhaWxzLCB1bmV4cGVjdGVkU3VjY2Vzc2VzLCBza2lwcGVkID0gcmVzdWx0cwoKICAgICAgICBpbmZvcyA9IFtdCiAgICAgICAgaWYgbm90IHJlc3VsdC53YXNTdWNjZXNzZnVsKCk6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJGQUlMRUQiKQogICAgICAgICAgICBmYWlsZWQsIGVycm9yZWQgPSBsZW4ocmVzdWx0LmZhaWx1cmVzKSwgbGVuKHJlc3VsdC5lcnJvcnMpCiAgICAgICAgICAgIGlmIGZhaWxlZDoKICAgICAgICAgICAgICAgIGluZm9zLmFwcGVuZCgiZmFpbHVyZXM9JWQiICUgZmFpbGVkKQogICAgICAgICAgICBpZiBlcnJvcmVkOgogICAgICAgICAgICAgICAgaW5mb3MuYXBwZW5kKCJlcnJvcnM9JWQiICUgZXJyb3JlZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZSgiT0siKQogICAgICAgIGlmIHNraXBwZWQ6CiAgICAgICAgICAgIGluZm9zLmFwcGVuZCgic2tpcHBlZD0lZCIgJSBza2lwcGVkKQogICAgICAgIGlmIGV4cGVjdGVkRmFpbHM6CiAgICAgICAgICAgIGluZm9zLmFwcGVuZCgiZXhwZWN0ZWQgZmFpbHVyZXM9JWQiICUgZXhwZWN0ZWRGYWlscykKICAgICAgICBpZiB1bmV4cGVjdGVkU3VjY2Vzc2VzOgogICAgICAgICAgICBpbmZvcy5hcHBlbmQoInVuZXhwZWN0ZWQgc3VjY2Vzc2VzPSVkIiAlIHVuZXhwZWN0ZWRTdWNjZXNzZXMpCiAgICAgICAgaWYgaW5mb3M6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIiAoJXMpIiAlICgiLCAiLmpvaW4oaW5mb3MpLCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoIlxuIikKICAgICAgICByZXR1cm4gcmVzdWx0Cg==',
'/Lib/unittest/result.py':'IiIiVGVzdCByZXN1bHQgb2JqZWN0IiIiCgppbXBvcnQgb3MKaW1wb3J0IF9weWlvIGFzIGlvICAgCmltcG9ydCBzeXMKaW1wb3J0IHRyYWNlYmFjawoKI2hlbHAgbWUhCiNmcm9tIC4gaW1wb3J0IHV0aWwKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHdyYXBzCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKZGVmIGZhaWxmYXN0KG1ldGhvZCk6CiAgICBAd3JhcHMobWV0aG9kKQogICAgZGVmIGlubmVyKHNlbGYsICphcmdzLCAqKmt3KToKICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICdmYWlsZmFzdCcsIEZhbHNlKToKICAgICAgICAgICAgc2VsZi5zdG9wKCkKICAgICAgICByZXR1cm4gbWV0aG9kKHNlbGYsICphcmdzLCAqKmt3KQogICAgcmV0dXJuIGlubmVyCgpTVERPVVRfTElORSA9ICdcblN0ZG91dDpcbiVzJwpTVERFUlJfTElORSA9ICdcblN0ZGVycjpcbiVzJwoKCmNsYXNzIFRlc3RSZXN1bHQob2JqZWN0KToKICAgICIiIkhvbGRlciBmb3IgdGVzdCByZXN1bHQgaW5mb3JtYXRpb24uCgogICAgVGVzdCByZXN1bHRzIGFyZSBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgdGhlIFRlc3RDYXNlIGFuZCBUZXN0U3VpdGUKICAgIGNsYXNzZXMsIGFuZCBkbyBub3QgbmVlZCB0byBiZSBleHBsaWNpdGx5IG1hbmlwdWxhdGVkIGJ5IHdyaXRlcnMgb2YgdGVzdHMuCgogICAgRWFjaCBpbnN0YW5jZSBob2xkcyB0aGUgdG90YWwgbnVtYmVyIG9mIHRlc3RzIHJ1biwgYW5kIGNvbGxlY3Rpb25zIG9mCiAgICBmYWlsdXJlcyBhbmQgZXJyb3JzIHRoYXQgb2NjdXJyZWQgYW1vbmcgdGhvc2UgdGVzdCBydW5zLiBUaGUgY29sbGVjdGlvbnMKICAgIGNvbnRhaW4gdHVwbGVzIG9mICh0ZXN0Y2FzZSwgZXhjZXB0aW9uaW5mbyksIHdoZXJlIGV4Y2VwdGlvbmluZm8gaXMgdGhlCiAgICBmb3JtYXR0ZWQgdHJhY2ViYWNrIG9mIHRoZSBlcnJvciB0aGF0IG9jY3VycmVkLgogICAgIiIiCiAgICBfcHJldmlvdXNUZXN0Q2xhc3MgPSBOb25lCiAgICBfdGVzdFJ1bkVudGVyZWQgPSBGYWxzZQogICAgX21vZHVsZVNldFVwRmFpbGVkID0gRmFsc2UKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdHJlYW09Tm9uZSwgZGVzY3JpcHRpb25zPU5vbmUsIHZlcmJvc2l0eT1Ob25lKToKICAgICAgICBzZWxmLmZhaWxmYXN0ID0gRmFsc2UKICAgICAgICBzZWxmLmZhaWx1cmVzID0gW10KICAgICAgICBzZWxmLmVycm9ycyA9IFtdCiAgICAgICAgc2VsZi50ZXN0c1J1biA9IDAKICAgICAgICBzZWxmLnNraXBwZWQgPSBbXQogICAgICAgIHNlbGYuZXhwZWN0ZWRGYWlsdXJlcyA9IFtdCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2Vzc2VzID0gW10KICAgICAgICBzZWxmLnNob3VsZFN0b3AgPSBGYWxzZQogICAgICAgIHNlbGYuYnVmZmVyID0gRmFsc2UKICAgICAgICBzZWxmLl9zdGRvdXRfYnVmZmVyID0gTm9uZQogICAgICAgIHNlbGYuX3N0ZGVycl9idWZmZXIgPSBOb25lCiAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3Rkb3V0ID0gc3lzLnN0ZG91dAogICAgICAgIHNlbGYuX29yaWdpbmFsX3N0ZGVyciA9IHN5cy5zdGRlcnIKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBGYWxzZQoKICAgIGRlZiBwcmludEVycm9ycyhzZWxmKToKICAgICAgICAiQ2FsbGVkIGJ5IFRlc3RSdW5uZXIgYWZ0ZXIgdGVzdCBydW4iCgogICAgZGVmIHN0YXJ0VGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAiQ2FsbGVkIHdoZW4gdGhlIGdpdmVuIHRlc3QgaXMgYWJvdXQgdG8gYmUgcnVuIgogICAgICAgIHNlbGYudGVzdHNSdW4gKz0gMQogICAgICAgIHNlbGYuX21pcnJvck91dHB1dCA9IEZhbHNlCiAgICAgICAgc2VsZi5fc2V0dXBTdGRvdXQoKQoKICAgIGRlZiBfc2V0dXBTdGRvdXQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5idWZmZXI6CiAgICAgICAgICAgIGlmIHNlbGYuX3N0ZGVycl9idWZmZXIgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0ZGVycl9idWZmZXIgPSBpby5TdHJpbmdJTygpCiAgICAgICAgICAgICAgICBzZWxmLl9zdGRvdXRfYnVmZmVyID0gaW8uU3RyaW5nSU8oKQogICAgICAgICAgICBzeXMuc3Rkb3V0ID0gc2VsZi5fc3Rkb3V0X2J1ZmZlcgogICAgICAgICAgICBzeXMuc3RkZXJyID0gc2VsZi5fc3RkZXJyX2J1ZmZlcgoKICAgIGRlZiBzdGFydFRlc3RSdW4oc2VsZik6CiAgICAgICAgIiIiQ2FsbGVkIG9uY2UgYmVmb3JlIGFueSB0ZXN0cyBhcmUgZXhlY3V0ZWQuCgogICAgICAgIFNlZSBzdGFydFRlc3QgZm9yIGEgbWV0aG9kIGNhbGxlZCBiZWZvcmUgZWFjaCB0ZXN0LgogICAgICAgICIiIgoKICAgIGRlZiBzdG9wVGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAiIiJDYWxsZWQgd2hlbiB0aGUgZ2l2ZW4gdGVzdCBoYXMgYmVlbiBydW4iIiIKICAgICAgICBzZWxmLl9yZXN0b3JlU3Rkb3V0KCkKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBGYWxzZQoKICAgIGRlZiBfcmVzdG9yZVN0ZG91dChzZWxmKToKICAgICAgICBpZiBzZWxmLmJ1ZmZlcjoKICAgICAgICAgICAgaWYgc2VsZi5fbWlycm9yT3V0cHV0OgogICAgICAgICAgICAgICAgb3V0cHV0ID0gc3lzLnN0ZG91dC5nZXR2YWx1ZSgpCiAgICAgICAgICAgICAgICBlcnJvciA9IHN5cy5zdGRlcnIuZ2V0dmFsdWUoKQogICAgICAgICAgICAgICAgaWYgb3V0cHV0OgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBvdXRwdXQuZW5kc3dpdGgoJ1xuJyk6CiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3Rkb3V0LndyaXRlKFNURE9VVF9MSU5FICUgb3V0cHV0KQogICAgICAgICAgICAgICAgaWYgZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGVycm9yLmVuZHN3aXRoKCdcbicpOgogICAgICAgICAgICAgICAgICAgICAgICBlcnJvciArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3RkZXJyLndyaXRlKFNUREVSUl9MSU5FICUgZXJyb3IpCgogICAgICAgICAgICBzeXMuc3Rkb3V0ID0gc2VsZi5fb3JpZ2luYWxfc3Rkb3V0CiAgICAgICAgICAgIHN5cy5zdGRlcnIgPSBzZWxmLl9vcmlnaW5hbF9zdGRlcnIKICAgICAgICAgICAgc2VsZi5fc3Rkb3V0X2J1ZmZlci5zZWVrKDApCiAgICAgICAgICAgIHNlbGYuX3N0ZG91dF9idWZmZXIudHJ1bmNhdGUoKQogICAgICAgICAgICBzZWxmLl9zdGRlcnJfYnVmZmVyLnNlZWsoMCkKICAgICAgICAgICAgc2VsZi5fc3RkZXJyX2J1ZmZlci50cnVuY2F0ZSgpCgogICAgZGVmIHN0b3BUZXN0UnVuKHNlbGYpOgogICAgICAgICIiIkNhbGxlZCBvbmNlIGFmdGVyIGFsbCB0ZXN0cyBhcmUgZXhlY3V0ZWQuCgogICAgICAgIFNlZSBzdG9wVGVzdCBmb3IgYSBtZXRob2QgY2FsbGVkIGFmdGVyIGVhY2ggdGVzdC4KICAgICAgICAiIiIKCiAgICBAZmFpbGZhc3QKICAgIGRlZiBhZGRFcnJvcihzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gJ2VycicgaXMgYSB0dXBsZSBvZiB2YWx1ZXMgYXMKICAgICAgICByZXR1cm5lZCBieSBzeXMuZXhjX2luZm8oKS4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmVycm9ycy5hcHBlbmQoKHRlc3QsIHNlbGYuX2V4Y19pbmZvX3RvX3N0cmluZyhlcnIsIHRlc3QpKSkKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBUcnVlCgogICAgQGZhaWxmYXN0CiAgICBkZWYgYWRkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gJ2VycicgaXMgYSB0dXBsZSBvZiB2YWx1ZXMgYXMKICAgICAgICByZXR1cm5lZCBieSBzeXMuZXhjX2luZm8oKS4iIiIKICAgICAgICBzZWxmLmZhaWx1cmVzLmFwcGVuZCgodGVzdCwgc2VsZi5fZXhjX2luZm9fdG9fc3RyaW5nKGVyciwgdGVzdCkpKQogICAgICAgIHNlbGYuX21pcnJvck91dHB1dCA9IFRydWUKCiAgICBkZWYgYWRkU3VjY2VzcyhzZWxmLCB0ZXN0KToKICAgICAgICAiQ2FsbGVkIHdoZW4gYSB0ZXN0IGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IgogICAgICAgIHBhc3MKCiAgICBkZWYgYWRkU2tpcChzZWxmLCB0ZXN0LCByZWFzb24pOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGEgdGVzdCBpcyBza2lwcGVkLiIiIgogICAgICAgIHNlbGYuc2tpcHBlZC5hcHBlbmQoKHRlc3QsIHJlYXNvbikpCgogICAgZGVmIGFkZEV4cGVjdGVkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGV4cGVjdGVkIGZhaWx1cmUvZXJyb3Igb2NjdXJlZC4iIiIKICAgICAgICBzZWxmLmV4cGVjdGVkRmFpbHVyZXMuYXBwZW5kKAogICAgICAgICAgICAodGVzdCwgc2VsZi5fZXhjX2luZm9fdG9fc3RyaW5nKGVyciwgdGVzdCkpKQoKICAgIEBmYWlsZmFzdAogICAgZGVmIGFkZFVuZXhwZWN0ZWRTdWNjZXNzKHNlbGYsIHRlc3QpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGEgdGVzdCB3YXMgZXhwZWN0ZWQgdG8gZmFpbCwgYnV0IHN1Y2NlZWQuIiIiCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2Vzc2VzLmFwcGVuZCh0ZXN0KQoKICAgIGRlZiB3YXNTdWNjZXNzZnVsKHNlbGYpOgogICAgICAgICJUZWxscyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJlc3VsdCB3YXMgYSBzdWNjZXNzIgogICAgICAgIHJldHVybiBsZW4oc2VsZi5mYWlsdXJlcykgPT0gbGVuKHNlbGYuZXJyb3JzKSA9PSAwCgogICAgZGVmIHN0b3Aoc2VsZik6CiAgICAgICAgIkluZGljYXRlcyB0aGF0IHRoZSB0ZXN0cyBzaG91bGQgYmUgYWJvcnRlZCIKICAgICAgICBzZWxmLnNob3VsZFN0b3AgPSBUcnVlCgogICAgZGVmIF9leGNfaW5mb190b19zdHJpbmcoc2VsZiwgZXJyLCB0ZXN0KToKICAgICAgICAiIiJDb252ZXJ0cyBhIHN5cy5leGNfaW5mbygpLXN0eWxlIHR1cGxlIG9mIHZhbHVlcyBpbnRvIGEgc3RyaW5nLiIiIgogICAgICAgIHBhc3MgICAjZml4bWUgYnJ5dGhvbgoKICAgICAgICAjZXhjdHlwZSwgdmFsdWUsIHRiID0gZXJyCiAgICAgICAgIyMgU2tpcCB0ZXN0IHJ1bm5lciB0cmFjZWJhY2sgbGV2ZWxzCiAgICAgICAgI3doaWxlIHRiIGFuZCBzZWxmLl9pc19yZWxldmFudF90Yl9sZXZlbCh0Yik6CiAgICAgICAgIyAgICB0YiA9IHRiLnRiX25leHQKCiAgICAgICAgI2lmIGV4Y3R5cGUgaXMgdGVzdC5mYWlsdXJlRXhjZXB0aW9uOgogICAgICAgICMgICAgIyBTa2lwIGFzc2VydCooKSB0cmFjZWJhY2sgbGV2ZWxzCiAgICAgICAgIyAgICBsZW5ndGggPSBzZWxmLl9jb3VudF9yZWxldmFudF90Yl9sZXZlbHModGIpCiAgICAgICAgIyAgICBtc2dMaW5lcyA9IHRyYWNlYmFjay5mb3JtYXRfZXhjZXB0aW9uKGV4Y3R5cGUsIHZhbHVlLCB0YiwgbGVuZ3RoKQogICAgICAgICNlbHNlOgogICAgICAgICMgICAgbXNnTGluZXMgPSB0cmFjZWJhY2suZm9ybWF0X2V4Y2VwdGlvbihleGN0eXBlLCB2YWx1ZSwgdGIpCgogICAgICAgICNpZiBzZWxmLmJ1ZmZlcjoKICAgICAgICAjICAgIG91dHB1dCA9IHN5cy5zdGRvdXQuZ2V0dmFsdWUoKQogICAgICAgICMgICAgZXJyb3IgPSBzeXMuc3RkZXJyLmdldHZhbHVlKCkKICAgICAgICAjICAgIGlmIG91dHB1dDoKICAgICAgICAjICAgICAgICBpZiBub3Qgb3V0cHV0LmVuZHN3aXRoKCdcbicpOgogICAgICAgICMgICAgICAgICAgICBvdXRwdXQgKz0gJ1xuJwogICAgICAgICMgICAgICAgIG1zZ0xpbmVzLmFwcGVuZChTVERPVVRfTElORSAlIG91dHB1dCkKICAgICAgICAjICAgIGlmIGVycm9yOgogICAgICAgICMgICAgICAgIGlmIG5vdCBlcnJvci5lbmRzd2l0aCgnXG4nKToKICAgICAgICAjICAgICAgICAgICAgZXJyb3IgKz0gJ1xuJwogICAgICAgICMgICAgICAgIG1zZ0xpbmVzLmFwcGVuZChTVERFUlJfTElORSAlIGVycm9yKQogICAgICAgICNyZXR1cm4gJycuam9pbihtc2dMaW5lcykKCgogICAgI2RlZiBfaXNfcmVsZXZhbnRfdGJfbGV2ZWwoc2VsZiwgdGIpOgogICAgIyAgICByZXR1cm4gJ19fdW5pdHRlc3QnIGluIHRiLnRiX2ZyYW1lLmZfZ2xvYmFscwoKICAgICNkZWYgX2NvdW50X3JlbGV2YW50X3RiX2xldmVscyhzZWxmLCB0Yik6CiAgICAjICAgIGxlbmd0aCA9IDAKICAgICMgICAgd2hpbGUgdGIgYW5kIG5vdCBzZWxmLl9pc19yZWxldmFudF90Yl9sZXZlbCh0Yik6CiAgICAjICAgICAgICBsZW5ndGggKz0gMQogICAgIyAgICAgICAgdGIgPSB0Yi50Yl9uZXh0CiAgICAjICAgIHJldHVybiBsZW5ndGgKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICgiPCVzIHJ1bj0laSBlcnJvcnM9JWkgZmFpbHVyZXM9JWk+IiAlCiAgICAgICAgICAgICAgICh1dGlsLnN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwgc2VsZi50ZXN0c1J1biwgbGVuKHNlbGYuZXJyb3JzKSwKICAgICAgICAgICAgICAgIGxlbihzZWxmLmZhaWx1cmVzKSkpCg==',
'/Lib/unittest/__init__.py':'IiIiClB5dGhvbiB1bml0IHRlc3RpbmcgZnJhbWV3b3JrLCBiYXNlZCBvbiBFcmljaCBHYW1tYSdzIEpVbml0IGFuZCBLZW50IEJlY2sncwpTbWFsbHRhbGsgdGVzdGluZyBmcmFtZXdvcmsuCgpUaGlzIG1vZHVsZSBjb250YWlucyB0aGUgY29yZSBmcmFtZXdvcmsgY2xhc3NlcyB0aGF0IGZvcm0gdGhlIGJhc2lzIG9mCnNwZWNpZmljIHRlc3QgY2FzZXMgYW5kIHN1aXRlcyAoVGVzdENhc2UsIFRlc3RTdWl0ZSBldGMuKSwgYW5kIGFsc28gYQp0ZXh0LWJhc2VkIHV0aWxpdHkgY2xhc3MgZm9yIHJ1bm5pbmcgdGhlIHRlc3RzIGFuZCByZXBvcnRpbmcgdGhlIHJlc3VsdHMKIChUZXh0VGVzdFJ1bm5lcikuCgpTaW1wbGUgdXNhZ2U6CgogICAgaW1wb3J0IHVuaXR0ZXN0CgogICAgY2xhc3MgSW50ZWdlckFyaXRobWVudGljVGVzdENhc2UodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgIGRlZiB0ZXN0QWRkKHNlbGYpOiAgIyMgdGVzdCBtZXRob2QgbmFtZXMgYmVnaW4gJ3Rlc3QqJwogICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCgxICsgMiksIDMpCiAgICAgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCArIDEsIDEpCiAgICAgICAgZGVmIHRlc3RNdWx0aXBseShzZWxmKToKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoMCAqIDEwKSwgMCkKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoNSAqIDgpLCA0MCkKCiAgICBpZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgICAgIHVuaXR0ZXN0Lm1haW4oKQoKRnVydGhlciBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgaW4gdGhlIGJ1bmRsZWQgZG9jdW1lbnRhdGlvbiwgYW5kIGZyb20KCiAgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3VuaXR0ZXN0Lmh0bWwKCkNvcHlyaWdodCAoYykgMTk5OS0yMDAzIFN0ZXZlIFB1cmNlbGwKQ29weXJpZ2h0IChjKSAyMDAzLTIwMTAgUHl0aG9uIFNvZnR3YXJlIEZvdW5kYXRpb24KVGhpcyBtb2R1bGUgaXMgZnJlZSBzb2Z0d2FyZSwgYW5kIHlvdSBtYXkgcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHNhbWUgdGVybXMgYXMgUHl0aG9uIGl0c2VsZiwgc28gbG9uZyBhcyB0aGlzIGNvcHlyaWdodCBtZXNzYWdlCmFuZCBkaXNjbGFpbWVyIGFyZSByZXRhaW5lZCBpbiB0aGVpciBvcmlnaW5hbCBmb3JtLgoKSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgVE8gQU5ZIFBBUlRZIEZPUiBESVJFQ1QsIElORElSRUNULApTUEVDSUFMLCBJTkNJREVOVEFMLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgQVJJU0lORyBPVVQgT0YgVEhFIFVTRSBPRgpUSElTIENPREUsIEVWRU4gSUYgVEhFIEFVVEhPUiBIQVMgQkVFTiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNICkRBTUFHRS4KClRIRSBBVVRIT1IgU1BFQ0lGSUNBTExZIERJU0NMQUlNUyBBTlkgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UCkxJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBClBBUlRJQ1VMQVIgUFVSUE9TRS4gIFRIRSBDT0RFIFBST1ZJREVEIEhFUkVVTkRFUiBJUyBPTiBBTiAiQVMgSVMiIEJBU0lTLApBTkQgVEhFUkUgSVMgTk8gT0JMSUdBVElPTiBXSEFUU09FVkVSIFRPIFBST1ZJREUgTUFJTlRFTkFOQ0UsClNVUFBPUlQsIFVQREFURVMsIEVOSEFOQ0VNRU5UUywgT1IgTU9ESUZJQ0FUSU9OUy4KIiIiCgojX19hbGxfXyA9IFsnVGVzdFJlc3VsdCcsICdUZXN0Q2FzZScsICdUZXN0U3VpdGUnLAojICAgICAgICAgICAnVGV4dFRlc3RSdW5uZXInLCAnVGVzdExvYWRlcicsICdGdW5jdGlvblRlc3RDYXNlJywgJ21haW4nLAojICAgICAgICAgICAnZGVmYXVsdFRlc3RMb2FkZXInLCAnU2tpcFRlc3QnLCAnc2tpcCcsICdza2lwSWYnLCAnc2tpcFVubGVzcycsCiMgICAgICAgICAgICdleHBlY3RlZEZhaWx1cmUnLCAnVGV4dFRlc3RSZXN1bHQnLCAnaW5zdGFsbEhhbmRsZXInLAojICAgICAgICAgICAncmVnaXN0ZXJSZXN1bHQnLCAncmVtb3ZlUmVzdWx0JywgJ3JlbW92ZUhhbmRsZXInXQoKIyBFeHBvc2Ugb2Jzb2xldGUgZnVuY3Rpb25zIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQojX19hbGxfXy5leHRlbmQoWydnZXRUZXN0Q2FzZU5hbWVzJywgJ21ha2VTdWl0ZScsICdmaW5kVGVzdENhc2VzJ10pCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKI2Zyb20gLnJlc3VsdCBpbXBvcnQgVGVzdFJlc3VsdAojZml4bWUgYnJ5dGhvbiBzeW50YXggZXJyb3IKZnJvbSAuY2FzZSBpbXBvcnQgVGVzdENhc2UKZnJvbSAubWFpbiBpbXBvcnQgVGVzdFByb2dyYW0sIG1haW4KI2Zyb20gLmNhc2UgaW1wb3J0IChUZXN0Q2FzZSwgRnVuY3Rpb25UZXN0Q2FzZSwgU2tpcFRlc3QsIHNraXAsIHNraXBJZiwKIyAgICAgICAgICAgICAgICAgICBza2lwVW5sZXNzLCBleHBlY3RlZEZhaWx1cmUpCiNmcm9tIC5zdWl0ZSBpbXBvcnQgQmFzZVRlc3RTdWl0ZSwgVGVzdFN1aXRlCiNmcm9tIC5sb2FkZXIgaW1wb3J0IChUZXN0TG9hZGVyLCBkZWZhdWx0VGVzdExvYWRlciwgbWFrZVN1aXRlLCBnZXRUZXN0Q2FzZU5hbWVzLAojICAgICAgICAgICAgICAgICAgICAgZmluZFRlc3RDYXNlcykKI2Zyb20gLm1haW4gaW1wb3J0IFRlc3RQcm9ncmFtLCBtYWluCiNmcm9tIC5ydW5uZXIgaW1wb3J0IFRleHRUZXN0UnVubmVyLCBUZXh0VGVzdFJlc3VsdAojZnJvbSAuc2lnbmFscyBpbXBvcnQgaW5zdGFsbEhhbmRsZXIsIHJlZ2lzdGVyUmVzdWx0LCByZW1vdmVSZXN1bHQsIHJlbW92ZUhhbmRsZXIKCiMgZGVwcmVjYXRlZAojX1RleHRUZXN0UmVzdWx0ID0gVGV4dFRlc3RSZXN1bHQK',
'/Lib/unittest/__main__.py':'IiIiTWFpbiBlbnRyeSBwb2ludCIiIgoKaW1wb3J0IHN5cwppZiBzeXMuYXJndlswXS5lbmRzd2l0aCgiX19tYWluX18ucHkiKToKICAgIHN5cy5hcmd2WzBdID0gInB5dGhvbiAtbSB1bml0dGVzdCIKCl9fdW5pdHRlc3QgPSBUcnVlCgpmcm9tIC5tYWluIGltcG9ydCBtYWluLCBUZXN0UHJvZ3JhbSwgVVNBR0VfQVNfTUFJTgpUZXN0UHJvZ3JhbS5VU0FHRSA9IFVTQUdFX0FTX01BSU4KCm1haW4obW9kdWxlPU5vbmUpCg==',
'/Lib/unittest/util.py':'IyAiVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucy4iCgojZml4bWUsIGJyeXRob24sIG5lZWQgdG8gZml4IG5hbWVkdHVwbGUKI2Zyb20gY29sbGVjdGlvbnMgaW1wb3J0IG5hbWVkdHVwbGUsIE9yZGVyZWREaWN0CiNmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBPcmRlcmVkRGljdAoKX191bml0dGVzdCA9IFRydWUKCiNfTUFYX0xFTkdUSCA9IDgwCiNkZWYgc2FmZV9yZXByKG9iaiwgc2hvcnQ9RmFsc2UpOgojICAgIHRyeToKIyAgICAgICAgcmVzdWx0ID0gcmVwcihvYmopCiMgICAgZXhjZXB0IEV4Y2VwdGlvbjoKIyAgICAgICAgcmVzdWx0ID0gb2JqZWN0Ll9fcmVwcl9fKG9iaikKIyAgICBpZiBub3Qgc2hvcnQgb3IgbGVuKHJlc3VsdCkgPCBfTUFYX0xFTkdUSDoKIyAgICAgICAgcmV0dXJuIHJlc3VsdAojICAgIHJldHVybiByZXN1bHRbOl9NQVhfTEVOR1RIXSArICcgW3RydW5jYXRlZF0uLi4nCgojZGVmIHN0cmNsYXNzKGNscyk6CiMgICAgcmV0dXJuICIlcy4lcyIgJSAoY2xzLl9fbW9kdWxlX18sIGNscy5fX25hbWVfXykKCiNkZWYgc29ydGVkX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwgYWN0dWFsKToKIyAgICAiIiJGaW5kcyBlbGVtZW50cyBpbiBvbmx5IG9uZSBvciB0aGUgb3RoZXIgb2YgdHdvLCBzb3J0ZWQgaW5wdXQgbGlzdHMuCiMKIyAgICBSZXR1cm5zIGEgdHdvLWVsZW1lbnQgdHVwbGUgb2YgbGlzdHMuICAgIFRoZSBmaXJzdCBsaXN0IGNvbnRhaW5zIHRob3NlCiMgICAgZWxlbWVudHMgaW4gdGhlICJleHBlY3RlZCIgbGlzdCBidXQgbm90IGluIHRoZSAiYWN0dWFsIiBsaXN0LCBhbmQgdGhlCiMgICAgc2Vjb25kIGNvbnRhaW5zIHRob3NlIGVsZW1lbnRzIGluIHRoZSAiYWN0dWFsIiBsaXN0IGJ1dCBub3QgaW4gdGhlCiMgICAgImV4cGVjdGVkIiBsaXN0LiAgICBEdXBsaWNhdGUgZWxlbWVudHMgaW4gZWl0aGVyIGlucHV0IGxpc3QgYXJlIGlnbm9yZWQuCiMgICAgIiIiCiMgICAgaSA9IGogPSAwCiMgICAgbWlzc2luZyA9IFtdCiMgICAgdW5leHBlY3RlZCA9IFtdCiMgICAgd2hpbGUgVHJ1ZToKIyAgICAgICAgdHJ5OgojICAgICAgICAgICAgZSA9IGV4cGVjdGVkW2ldCiMgICAgICAgICAgICBhID0gYWN0dWFsW2pdCiMgICAgICAgICAgICBpZiBlIDwgYToKIyAgICAgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChlKQojICAgICAgICAgICAgICAgIGkgKz0gMQojICAgICAgICAgICAgICAgIHdoaWxlIGV4cGVjdGVkW2ldID09IGU6CiMgICAgICAgICAgICAgICAgICAgIGkgKz0gMQojICAgICAgICAgICAgZWxpZiBlID4gYToKIyAgICAgICAgICAgICAgICB1bmV4cGVjdGVkLmFwcGVuZChhKQojICAgICAgICAgICAgICAgIGogKz0gMQojICAgICAgICAgICAgICAgIHdoaWxlIGFjdHVhbFtqXSA9PSBhOgojICAgICAgICAgICAgICAgICAgICBqICs9IDEKIyAgICAgICAgICAgIGVsc2U6CiMgICAgICAgICAgICAgICAgaSArPSAxCiMgICAgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICAgICB3aGlsZSBleHBlY3RlZFtpXSA9PSBlOgojICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxCiMgICAgICAgICAgICAgICAgZmluYWxseToKIyAgICAgICAgICAgICAgICAgICAgaiArPSAxCiMgICAgICAgICAgICAgICAgICAgIHdoaWxlIGFjdHVhbFtqXSA9PSBhOgojICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiMgICAgICAgIGV4Y2VwdCBJbmRleEVycm9yOgojICAgICAgICAgICAgbWlzc2luZy5leHRlbmQoZXhwZWN0ZWRbaTpdKQojICAgICAgICAgICAgdW5leHBlY3RlZC5leHRlbmQoYWN0dWFsW2o6XSkKIyAgICAgICAgICAgIGJyZWFrCiMgICAgcmV0dXJuIG1pc3NpbmcsIHVuZXhwZWN0ZWQKCgojZGVmIHVub3JkZXJhYmxlX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwgYWN0dWFsKToKIyAgICAiIiJTYW1lIGJlaGF2aW9yIGFzIHNvcnRlZF9saXN0X2RpZmZlcmVuY2UgYnV0CiMgICAgZm9yIGxpc3RzIG9mIHVub3JkZXJhYmxlIGl0ZW1zIChsaWtlIGRpY3RzKS4KIwojICAgIEFzIGl0IGRvZXMgYSBsaW5lYXIgc2VhcmNoIHBlciBpdGVtIChyZW1vdmUpIGl0CiMgICAgaGFzIE8obipuKSBwZXJmb3JtYW5jZS4iIiIKIyAgICBtaXNzaW5nID0gW10KIyAgICB3aGlsZSBleHBlY3RlZDoKIyAgICAgICAgaXRlbSA9IGV4cGVjdGVkLnBvcCgpCiMgICAgICAgIHRyeToKIyAgICAgICAgICAgIGFjdHVhbC5yZW1vdmUoaXRlbSkKIyAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiMgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChpdGVtKQoKICAgICMgYW55dGhpbmcgbGVmdCBpbiBhY3R1YWwgaXMgdW5leHBlY3RlZAojICAgIHJldHVybiBtaXNzaW5nLCBhY3R1YWwKCiNkZWYgdGhyZWVfd2F5X2NtcCh4LCB5KToKIyAgICAiIiJSZXR1cm4gLTEgaWYgeCA8IHksIDAgaWYgeCA9PSB5IGFuZCAxIGlmIHggPiB5IiIiCiMgICAgcmV0dXJuICh4ID4geSkgLSAoeCA8IHkpCgojIGZpeG1lLCBicnl0aG9uCiNuYW1lZHR1cGxlIGlzc3VlcyBpbiBjb2xsZWN0aW9ucy5weQojX01pc21hdGNoID0gbmFtZWR0dXBsZSgnTWlzbWF0Y2gnLCAnYWN0dWFsIGV4cGVjdGVkIHZhbHVlJykKCiNkZWYgX2NvdW50X2RpZmZfYWxsX3B1cnBvc2UoYWN0dWFsLCBleHBlY3RlZCk6CiMgICAgJ1JldHVybnMgbGlzdCBvZiAoY250X2FjdCwgY250X2V4cCwgZWxlbSkgdHJpcGxlcyB3aGVyZSB0aGUgY291bnRzIGRpZmZlcicKIyAgICAjIGVsZW1lbnRzIG5lZWQgbm90IGJlIGhhc2hhYmxlCiMgICAgcywgdCA9IGxpc3QoYWN0dWFsKSwgbGlzdChleHBlY3RlZCkKIyAgICBtLCBuID0gbGVuKHMpLCBsZW4odCkKIyAgICBOVUxMID0gb2JqZWN0KCkKIyAgICByZXN1bHQgPSBbXQojICAgIGZvciBpLCBlbGVtIGluIGVudW1lcmF0ZShzKToKIyAgICAgICAgaWYgZWxlbSBpcyBOVUxMOgojICAgICAgICAgICAgY29udGludWUKIyAgICAgICAgY250X3MgPSBjbnRfdCA9IDAKIyAgICAgICAgZm9yIGogaW4gcmFuZ2UoaSwgbSk6CiMgICAgICAgICAgICBpZiBzW2pdID09IGVsZW06CiMgICAgICAgICAgICAgICAgY250X3MgKz0gMQojICAgICAgICAgICAgICAgIHNbal0gPSBOVUxMCiMgICAgICAgIGZvciBqLCBvdGhlcl9lbGVtIGluIGVudW1lcmF0ZSh0KToKIyAgICAgICAgICAgIGlmIG90aGVyX2VsZW0gPT0gZWxlbToKIyAgICAgICAgICAgICAgICBjbnRfdCArPSAxCiMgICAgICAgICAgICAgICAgdFtqXSA9IE5VTEwKIyAgICAgICAgaWYgY250X3MgIT0gY250X3Q6CiMgICAgICAgICAgICBkaWZmID0gX01pc21hdGNoKGNudF9zLCBjbnRfdCwgZWxlbSkKIyAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoZGlmZikKIwojICAgIGZvciBpLCBlbGVtIGluIGVudW1lcmF0ZSh0KToKIyAgICAgICAgaWYgZWxlbSBpcyBOVUxMOgojICAgICAgICAgICAgY29udGludWUKIyAgICAgICAgY250X3QgPSAwCiMgICAgICAgIGZvciBqIGluIHJhbmdlKGksIG4pOgojICAgICAgICAgICAgaWYgdFtqXSA9PSBlbGVtOgojICAgICAgICAgICAgICAgIGNudF90ICs9IDEKIyAgICAgICAgICAgICAgICB0W2pdID0gTlVMTAojICAgICAgICBkaWZmID0gX01pc21hdGNoKDAsIGNudF90LCBlbGVtKQojICAgICAgICByZXN1bHQuYXBwZW5kKGRpZmYpCiMgICAgcmV0dXJuIHJlc3VsdAoKI2RlZiBfb3JkZXJlZF9jb3VudChpdGVyYWJsZSk6CiMgICAgJ1JldHVybiBkaWN0IG9mIGVsZW1lbnQgY291bnRzLCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGZpcnN0IHNlZW4nCiMgICAgYyA9IE9yZGVyZWREaWN0KCkKIyAgICBmb3IgZWxlbSBpbiBpdGVyYWJsZToKIyAgICAgICAgY1tlbGVtXSA9IGMuZ2V0KGVsZW0sIDApICsgMQojICAgIHJldHVybiBjCgojZGVmIF9jb3VudF9kaWZmX2hhc2hhYmxlKGFjdHVhbCwgZXhwZWN0ZWQpOgojICAgICdSZXR1cm5zIGxpc3Qgb2YgKGNudF9hY3QsIGNudF9leHAsIGVsZW0pIHRyaXBsZXMgd2hlcmUgdGhlIGNvdW50cyBkaWZmZXInCiMgICAgIyBlbGVtZW50cyBtdXN0IGJlIGhhc2hhYmxlCiMgICAgcywgdCA9IF9vcmRlcmVkX2NvdW50KGFjdHVhbCksIF9vcmRlcmVkX2NvdW50KGV4cGVjdGVkKQojICAgIHJlc3VsdCA9IFtdCiMgICAgZm9yIGVsZW0sIGNudF9zIGluIHMuaXRlbXMoKToKIyAgICAgICAgY250X3QgPSB0LmdldChlbGVtLCAwKQojICAgICAgICBpZiBjbnRfcyAhPSBjbnRfdDoKIyAgICAgICAgICAgIGRpZmYgPSBfTWlzbWF0Y2goY250X3MsIGNudF90LCBlbGVtKQojICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChkaWZmKQojICAgIGZvciBlbGVtLCBjbnRfdCBpbiB0Lml0ZW1zKCk6CiMgICAgICAgIGlmIGVsZW0gbm90IGluIHM6CiMgICAgICAgICAgICBkaWZmID0gX01pc21hdGNoKDAsIGNudF90LCBlbGVtKQojICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChkaWZmKQojICAgIHJldHVybiByZXN1bHQK',
'/Lib/unittest/loader.py':'IiIiTG9hZGluZyB1bml0dGVzdHMuIiIiCgppbXBvcnQgb3MKaW1wb3J0IHJlCmltcG9ydCBzeXMKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgdHlwZXMKaW1wb3J0IGZ1bmN0b29scwoKZnJvbSBmbm1hdGNoIGltcG9ydCBmbm1hdGNoCgpmcm9tIC4gaW1wb3J0IGNhc2UsIHN1aXRlLCB1dGlsCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKIyB3aGF0IGFib3V0IC5weWMgb3IgLnB5byAoZXRjKQojIHdlIHdvdWxkIG5lZWQgdG8gYXZvaWQgbG9hZGluZyB0aGUgc2FtZSB0ZXN0cyBtdWx0aXBsZSB0aW1lcwojIGZyb20gJy5weScsICcucHljJyAqYW5kKiAnLnB5bycKVkFMSURfTU9EVUxFX05BTUUgPSByZS5jb21waWxlKHInW19hLXpdXHcqXC5weSQnLCByZS5JR05PUkVDQVNFKQoKCmRlZiBfbWFrZV9mYWlsZWRfaW1wb3J0X3Rlc3QobmFtZSwgc3VpdGVDbGFzcyk6CiAgICBtZXNzYWdlID0gJ0ZhaWxlZCB0byBpbXBvcnQgdGVzdCBtb2R1bGU6ICVzXG4lcycgJSAobmFtZSwgdHJhY2ViYWNrLmZvcm1hdF9leGMoKSkKICAgIHJldHVybiBfbWFrZV9mYWlsZWRfdGVzdCgnTW9kdWxlSW1wb3J0RmFpbHVyZScsIG5hbWUsIEltcG9ydEVycm9yKG1lc3NhZ2UpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1aXRlQ2xhc3MpCgpkZWYgX21ha2VfZmFpbGVkX2xvYWRfdGVzdHMobmFtZSwgZXhjZXB0aW9uLCBzdWl0ZUNsYXNzKToKICAgIHJldHVybiBfbWFrZV9mYWlsZWRfdGVzdCgnTG9hZFRlc3RzRmFpbHVyZScsIG5hbWUsIGV4Y2VwdGlvbiwgc3VpdGVDbGFzcykKCmRlZiBfbWFrZV9mYWlsZWRfdGVzdChjbGFzc25hbWUsIG1ldGhvZG5hbWUsIGV4Y2VwdGlvbiwgc3VpdGVDbGFzcyk6CiAgICBkZWYgdGVzdEZhaWx1cmUoc2VsZik6CiAgICAgICAgcmFpc2UgZXhjZXB0aW9uCiAgICBhdHRycyA9IHttZXRob2RuYW1lOiB0ZXN0RmFpbHVyZX0KICAgIFRlc3RDbGFzcyA9IHR5cGUoY2xhc3NuYW1lLCAoY2FzZS5UZXN0Q2FzZSwpLCBhdHRycykKICAgIHJldHVybiBzdWl0ZUNsYXNzKChUZXN0Q2xhc3MobWV0aG9kbmFtZSksKSkKCmRlZiBfanl0aG9uX2F3YXJlX3NwbGl0ZXh0KHBhdGgpOgogICAgaWYgcGF0aC5sb3dlcigpLmVuZHN3aXRoKCckcHkuY2xhc3MnKToKICAgICAgICByZXR1cm4gcGF0aFs6LTldCiAgICByZXR1cm4gb3MucGF0aC5zcGxpdGV4dChwYXRoKVswXQoKCmNsYXNzIFRlc3RMb2FkZXIob2JqZWN0KToKICAgICIiIgogICAgVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyB0ZXN0cyBhY2NvcmRpbmcgdG8gdmFyaW91cyBjcml0ZXJpYQogICAgYW5kIHJldHVybmluZyB0aGVtIHdyYXBwZWQgaW4gYSBUZXN0U3VpdGUKICAgICIiIgogICAgdGVzdE1ldGhvZFByZWZpeCA9ICd0ZXN0JwogICAgc29ydFRlc3RNZXRob2RzVXNpbmcgPSBzdGF0aWNtZXRob2QodXRpbC50aHJlZV93YXlfY21wKQogICAgc3VpdGVDbGFzcyA9IHN1aXRlLlRlc3RTdWl0ZQogICAgX3RvcF9sZXZlbF9kaXIgPSBOb25lCgogICAgZGVmIGxvYWRUZXN0c0Zyb21UZXN0Q2FzZShzZWxmLCB0ZXN0Q2FzZUNsYXNzKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgY29udGFpbmVkIGluIHRlc3RDYXNlQ2xhc3MiIiIKICAgICAgICBpZiBpc3N1YmNsYXNzKHRlc3RDYXNlQ2xhc3MsIHN1aXRlLlRlc3RTdWl0ZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiVGVzdCBjYXNlcyBzaG91bGQgbm90IGJlIGRlcml2ZWQgZnJvbSBUZXN0U3VpdGUuIiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBNYXliZSB5b3UgbWVhbnQgdG8gZGVyaXZlIGZyb20gVGVzdENhc2U/IikKICAgICAgICB0ZXN0Q2FzZU5hbWVzID0gc2VsZi5nZXRUZXN0Q2FzZU5hbWVzKHRlc3RDYXNlQ2xhc3MpCiAgICAgICAgaWYgbm90IHRlc3RDYXNlTmFtZXMgYW5kIGhhc2F0dHIodGVzdENhc2VDbGFzcywgJ3J1blRlc3QnKToKICAgICAgICAgICAgdGVzdENhc2VOYW1lcyA9IFsncnVuVGVzdCddCiAgICAgICAgbG9hZGVkX3N1aXRlID0gc2VsZi5zdWl0ZUNsYXNzKG1hcCh0ZXN0Q2FzZUNsYXNzLCB0ZXN0Q2FzZU5hbWVzKSkKICAgICAgICByZXR1cm4gbG9hZGVkX3N1aXRlCgogICAgZGVmIGxvYWRUZXN0c0Zyb21Nb2R1bGUoc2VsZiwgbW9kdWxlLCB1c2VfbG9hZF90ZXN0cz1UcnVlKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgY29udGFpbmVkIGluIHRoZSBnaXZlbiBtb2R1bGUiIiIKICAgICAgICB0ZXN0cyA9IFtdCiAgICAgICAgZm9yIG5hbWUgaW4gZGlyKG1vZHVsZSk6CiAgICAgICAgICAgIG9iaiA9IGdldGF0dHIobW9kdWxlLCBuYW1lKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG9iaiwgdHlwZSkgYW5kIGlzc3ViY2xhc3Mob2JqLCBjYXNlLlRlc3RDYXNlKToKICAgICAgICAgICAgICAgIHRlc3RzLmFwcGVuZChzZWxmLmxvYWRUZXN0c0Zyb21UZXN0Q2FzZShvYmopKQoKICAgICAgICBsb2FkX3Rlc3RzID0gZ2V0YXR0cihtb2R1bGUsICdsb2FkX3Rlc3RzJywgTm9uZSkKICAgICAgICB0ZXN0cyA9IHNlbGYuc3VpdGVDbGFzcyh0ZXN0cykKICAgICAgICBpZiB1c2VfbG9hZF90ZXN0cyBhbmQgbG9hZF90ZXN0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRfdGVzdHMoc2VsZiwgdGVzdHMsIE5vbmUpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJldHVybiBfbWFrZV9mYWlsZWRfbG9hZF90ZXN0cyhtb2R1bGUuX19uYW1lX18sIGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWl0ZUNsYXNzKQogICAgICAgIHJldHVybiB0ZXN0cwoKICAgIGRlZiBsb2FkVGVzdHNGcm9tTmFtZShzZWxmLCBuYW1lLCBtb2R1bGU9Tm9uZSk6CiAgICAgICAgIiIiUmV0dXJuIGEgc3VpdGUgb2YgYWxsIHRlc3RzIGNhc2VzIGdpdmVuIGEgc3RyaW5nIHNwZWNpZmllci4KCiAgICAgICAgVGhlIG5hbWUgbWF5IHJlc29sdmUgZWl0aGVyIHRvIGEgbW9kdWxlLCBhIHRlc3QgY2FzZSBjbGFzcywgYQogICAgICAgIHRlc3QgbWV0aG9kIHdpdGhpbiBhIHRlc3QgY2FzZSBjbGFzcywgb3IgYSBjYWxsYWJsZSBvYmplY3Qgd2hpY2gKICAgICAgICByZXR1cm5zIGEgVGVzdENhc2Ugb3IgVGVzdFN1aXRlIGluc3RhbmNlLgoKICAgICAgICBUaGUgbWV0aG9kIG9wdGlvbmFsbHkgcmVzb2x2ZXMgdGhlIG5hbWVzIHJlbGF0aXZlIHRvIGEgZ2l2ZW4gbW9kdWxlLgogICAgICAgICIiIgogICAgICAgIHBhcnRzID0gbmFtZS5zcGxpdCgnLicpCiAgICAgICAgaWYgbW9kdWxlIGlzIE5vbmU6CiAgICAgICAgICAgIHBhcnRzX2NvcHkgPSBwYXJ0c1s6XQogICAgICAgICAgICB3aGlsZSBwYXJ0c19jb3B5OgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IF9faW1wb3J0X18oJy4nLmpvaW4ocGFydHNfY29weSkpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgICAgICAgICAgICAgICAgICBkZWwgcGFydHNfY29weVstMV0KICAgICAgICAgICAgICAgICAgICBpZiBub3QgcGFydHNfY29weToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICAgICAgcGFydHMgPSBwYXJ0c1sxOl0KICAgICAgICBvYmogPSBtb2R1bGUKICAgICAgICBmb3IgcGFydCBpbiBwYXJ0czoKICAgICAgICAgICAgcGFyZW50LCBvYmogPSBvYmosIGdldGF0dHIob2JqLCBwYXJ0KQoKICAgICAgICBpZiBpc2luc3RhbmNlKG9iaiwgdHlwZXMuTW9kdWxlVHlwZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmxvYWRUZXN0c0Zyb21Nb2R1bGUob2JqKQogICAgICAgIGVsaWYgaXNpbnN0YW5jZShvYmosIHR5cGUpIGFuZCBpc3N1YmNsYXNzKG9iaiwgY2FzZS5UZXN0Q2FzZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmxvYWRUZXN0c0Zyb21UZXN0Q2FzZShvYmopCiAgICAgICAgZWxpZiAoaXNpbnN0YW5jZShvYmosIHR5cGVzLkZ1bmN0aW9uVHlwZSkgYW5kCiAgICAgICAgICAgICAgaXNpbnN0YW5jZShwYXJlbnQsIHR5cGUpIGFuZAogICAgICAgICAgICAgIGlzc3ViY2xhc3MocGFyZW50LCBjYXNlLlRlc3RDYXNlKSk6CiAgICAgICAgICAgIG5hbWUgPSBvYmouX19uYW1lX18KICAgICAgICAgICAgaW5zdCA9IHBhcmVudChuYW1lKQogICAgICAgICAgICAjIHN0YXRpYyBtZXRob2RzIGZvbGxvdyBhIGRpZmZlcmVudCBwYXRoCiAgICAgICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGdldGF0dHIoaW5zdCwgbmFtZSksIHR5cGVzLkZ1bmN0aW9uVHlwZSk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zdWl0ZUNsYXNzKFtpbnN0XSkKICAgICAgICBlbGlmIGlzaW5zdGFuY2Uob2JqLCBzdWl0ZS5UZXN0U3VpdGUpOgogICAgICAgICAgICByZXR1cm4gb2JqCiAgICAgICAgaWYgY2FsbGFibGUob2JqKToKICAgICAgICAgICAgdGVzdCA9IG9iaigpCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodGVzdCwgc3VpdGUuVGVzdFN1aXRlKToKICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0CiAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZSh0ZXN0LCBjYXNlLlRlc3RDYXNlKToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN1aXRlQ2xhc3MoW3Rlc3RdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYWxsaW5nICVzIHJldHVybmVkICVzLCBub3QgYSB0ZXN0IiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9iaiwgdGVzdCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJkb24ndCBrbm93IGhvdyB0byBtYWtlIHRlc3QgZnJvbTogJXMiICUgb2JqKQoKICAgIGRlZiBsb2FkVGVzdHNGcm9tTmFtZXMoc2VsZiwgbmFtZXMsIG1vZHVsZT1Ob25lKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgZm91bmQgdXNpbmcgdGhlIGdpdmVuIHNlcXVlbmNlCiAgICAgICAgb2Ygc3RyaW5nIHNwZWNpZmllcnMuIFNlZSAnbG9hZFRlc3RzRnJvbU5hbWUoKScuCiAgICAgICAgIiIiCiAgICAgICAgc3VpdGVzID0gW3NlbGYubG9hZFRlc3RzRnJvbU5hbWUobmFtZSwgbW9kdWxlKSBmb3IgbmFtZSBpbiBuYW1lc10KICAgICAgICByZXR1cm4gc2VsZi5zdWl0ZUNsYXNzKHN1aXRlcykKCiAgICBkZWYgZ2V0VGVzdENhc2VOYW1lcyhzZWxmLCB0ZXN0Q2FzZUNsYXNzKToKICAgICAgICAiIiJSZXR1cm4gYSBzb3J0ZWQgc2VxdWVuY2Ugb2YgbWV0aG9kIG5hbWVzIGZvdW5kIHdpdGhpbiB0ZXN0Q2FzZUNsYXNzCiAgICAgICAgIiIiCiAgICAgICAgZGVmIGlzVGVzdE1ldGhvZChhdHRybmFtZSwgdGVzdENhc2VDbGFzcz10ZXN0Q2FzZUNsYXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4PXNlbGYudGVzdE1ldGhvZFByZWZpeCk6CiAgICAgICAgICAgIHJldHVybiBhdHRybmFtZS5zdGFydHN3aXRoKHByZWZpeCkgYW5kIFwKICAgICAgICAgICAgICAgIGNhbGxhYmxlKGdldGF0dHIodGVzdENhc2VDbGFzcywgYXR0cm5hbWUpKQogICAgICAgIHRlc3RGbk5hbWVzID0gbGlzdChmaWx0ZXIoaXNUZXN0TWV0aG9kLCBkaXIodGVzdENhc2VDbGFzcykpKQogICAgICAgIGlmIHNlbGYuc29ydFRlc3RNZXRob2RzVXNpbmc6CiAgICAgICAgICAgIHRlc3RGbk5hbWVzLnNvcnQoa2V5PWZ1bmN0b29scy5jbXBfdG9fa2V5KHNlbGYuc29ydFRlc3RNZXRob2RzVXNpbmcpKQogICAgICAgIHJldHVybiB0ZXN0Rm5OYW1lcwoKICAgIGRlZiBkaXNjb3ZlcihzZWxmLCBzdGFydF9kaXIsIHBhdHRlcm49J3Rlc3QqLnB5JywgdG9wX2xldmVsX2Rpcj1Ob25lKToKICAgICAgICAiIiJGaW5kIGFuZCByZXR1cm4gYWxsIHRlc3QgbW9kdWxlcyBmcm9tIHRoZSBzcGVjaWZpZWQgc3RhcnQKICAgICAgICBkaXJlY3RvcnksIHJlY3Vyc2luZyBpbnRvIHN1YmRpcmVjdG9yaWVzIHRvIGZpbmQgdGhlbSBhbmQgcmV0dXJuIGFsbAogICAgICAgIHRlc3RzIGZvdW5kIHdpdGhpbiB0aGVtLiBPbmx5IHRlc3QgZmlsZXMgdGhhdCBtYXRjaCB0aGUgcGF0dGVybiB3aWxsCiAgICAgICAgYmUgbG9hZGVkLiAoVXNpbmcgc2hlbGwgc3R5bGUgcGF0dGVybiBtYXRjaGluZy4pCgogICAgICAgIEFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcCBsZXZlbCBvZiB0aGUgcHJvamVjdC4KICAgICAgICBJZiB0aGUgc3RhcnQgZGlyZWN0b3J5IGlzIG5vdCB0aGUgdG9wIGxldmVsIGRpcmVjdG9yeSB0aGVuIHRoZSB0b3AKICAgICAgICBsZXZlbCBkaXJlY3RvcnkgbXVzdCBiZSBzcGVjaWZpZWQgc2VwYXJhdGVseS4KCiAgICAgICAgSWYgYSB0ZXN0IHBhY2thZ2UgbmFtZSAoZGlyZWN0b3J5IHdpdGggJ19faW5pdF9fLnB5JykgbWF0Y2hlcyB0aGUKICAgICAgICBwYXR0ZXJuIHRoZW4gdGhlIHBhY2thZ2Ugd2lsbCBiZSBjaGVja2VkIGZvciBhICdsb2FkX3Rlc3RzJyBmdW5jdGlvbi4gSWYKICAgICAgICB0aGlzIGV4aXN0cyB0aGVuIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggbG9hZGVyLCB0ZXN0cywgcGF0dGVybi4KCiAgICAgICAgSWYgbG9hZF90ZXN0cyBleGlzdHMgdGhlbiBkaXNjb3ZlcnkgZG9lcyAgKm5vdCogcmVjdXJzZSBpbnRvIHRoZSBwYWNrYWdlLAogICAgICAgIGxvYWRfdGVzdHMgaXMgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgYWxsIHRlc3RzIGluIHRoZSBwYWNrYWdlLgoKICAgICAgICBUaGUgcGF0dGVybiBpcyBkZWxpYmVyYXRlbHkgbm90IHN0b3JlZCBhcyBhIGxvYWRlciBhdHRyaWJ1dGUgc28gdGhhdAogICAgICAgIHBhY2thZ2VzIGNhbiBjb250aW51ZSBkaXNjb3ZlcnkgdGhlbXNlbHZlcy4gdG9wX2xldmVsX2RpciBpcyBzdG9yZWQgc28KICAgICAgICBsb2FkX3Rlc3RzIGRvZXMgbm90IG5lZWQgdG8gcGFzcyB0aGlzIGFyZ3VtZW50IGluIHRvIGxvYWRlci5kaXNjb3ZlcigpLgogICAgICAgICIiIgogICAgICAgIHNldF9pbXBsaWNpdF90b3AgPSBGYWxzZQogICAgICAgIGlmIHRvcF9sZXZlbF9kaXIgaXMgTm9uZSBhbmQgc2VsZi5fdG9wX2xldmVsX2RpciBpcyBub3QgTm9uZToKICAgICAgICAgICAgIyBtYWtlIHRvcF9sZXZlbF9kaXIgb3B0aW9uYWwgaWYgY2FsbGVkIGZyb20gbG9hZF90ZXN0cyBpbiBhIHBhY2thZ2UKICAgICAgICAgICAgdG9wX2xldmVsX2RpciA9IHNlbGYuX3RvcF9sZXZlbF9kaXIKICAgICAgICBlbGlmIHRvcF9sZXZlbF9kaXIgaXMgTm9uZToKICAgICAgICAgICAgc2V0X2ltcGxpY2l0X3RvcCA9IFRydWUKICAgICAgICAgICAgdG9wX2xldmVsX2RpciA9IHN0YXJ0X2RpcgoKICAgICAgICB0b3BfbGV2ZWxfZGlyID0gb3MucGF0aC5hYnNwYXRoKHRvcF9sZXZlbF9kaXIpCgogICAgICAgIGlmIG5vdCB0b3BfbGV2ZWxfZGlyIGluIHN5cy5wYXRoOgogICAgICAgICAgICAjIGFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcCBsZXZlbCBkaXJlY3RvcnkKICAgICAgICAgICAgIyBzaG91bGQgd2UgKnVuY29uZGl0aW9uYWxseSogcHV0IHRoZSBzdGFydCBkaXJlY3RvcnkgaW4gZmlyc3QKICAgICAgICAgICAgIyBpbiBzeXMucGF0aCB0byBtaW5pbWlzZSBsaWtlbGlob29kIG9mIGNvbmZsaWN0cyBiZXR3ZWVuIGluc3RhbGxlZAogICAgICAgICAgICAjIG1vZHVsZXMgYW5kIGRldmVsb3BtZW50IHZlcnNpb25zPwogICAgICAgICAgICBzeXMucGF0aC5pbnNlcnQoMCwgdG9wX2xldmVsX2RpcikKICAgICAgICBzZWxmLl90b3BfbGV2ZWxfZGlyID0gdG9wX2xldmVsX2RpcgoKICAgICAgICBpc19ub3RfaW1wb3J0YWJsZSA9IEZhbHNlCiAgICAgICAgaWYgb3MucGF0aC5pc2Rpcihvcy5wYXRoLmFic3BhdGgoc3RhcnRfZGlyKSk6CiAgICAgICAgICAgIHN0YXJ0X2RpciA9IG9zLnBhdGguYWJzcGF0aChzdGFydF9kaXIpCiAgICAgICAgICAgIGlmIHN0YXJ0X2RpciAhPSB0b3BfbGV2ZWxfZGlyOgogICAgICAgICAgICAgICAgaXNfbm90X2ltcG9ydGFibGUgPSBub3Qgb3MucGF0aC5pc2ZpbGUob3MucGF0aC5qb2luKHN0YXJ0X2RpciwgJ19faW5pdF9fLnB5JykpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBzdXBwb3J0IGZvciBkaXNjb3ZlcnkgZnJvbSBkb3R0ZWQgbW9kdWxlIG5hbWVzCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIF9faW1wb3J0X18oc3RhcnRfZGlyKQogICAgICAgICAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgICAgICAgICBpc19ub3RfaW1wb3J0YWJsZSA9IFRydWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRoZV9tb2R1bGUgPSBzeXMubW9kdWxlc1tzdGFydF9kaXJdCiAgICAgICAgICAgICAgICB0b3BfcGFydCA9IHN0YXJ0X2Rpci5zcGxpdCgnLicpWzBdCiAgICAgICAgICAgICAgICBzdGFydF9kaXIgPSBvcy5wYXRoLmFic3BhdGgob3MucGF0aC5kaXJuYW1lKCh0aGVfbW9kdWxlLl9fZmlsZV9fKSkpCiAgICAgICAgICAgICAgICBpZiBzZXRfaW1wbGljaXRfdG9wOgogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RvcF9sZXZlbF9kaXIgPSBzZWxmLl9nZXRfZGlyZWN0b3J5X2NvbnRhaW5pbmdfbW9kdWxlKHRvcF9wYXJ0KQogICAgICAgICAgICAgICAgICAgIHN5cy5wYXRoLnJlbW92ZSh0b3BfbGV2ZWxfZGlyKQoKICAgICAgICBpZiBpc19ub3RfaW1wb3J0YWJsZToKICAgICAgICAgICAgcmFpc2UgSW1wb3J0RXJyb3IoJ1N0YXJ0IGRpcmVjdG9yeSBpcyBub3QgaW1wb3J0YWJsZTogJXInICUgc3RhcnRfZGlyKQoKICAgICAgICB0ZXN0cyA9IGxpc3Qoc2VsZi5fZmluZF90ZXN0cyhzdGFydF9kaXIsIHBhdHRlcm4pKQogICAgICAgIHJldHVybiBzZWxmLnN1aXRlQ2xhc3ModGVzdHMpCgogICAgZGVmIF9nZXRfZGlyZWN0b3J5X2NvbnRhaW5pbmdfbW9kdWxlKHNlbGYsIG1vZHVsZV9uYW1lKToKICAgICAgICBtb2R1bGUgPSBzeXMubW9kdWxlc1ttb2R1bGVfbmFtZV0KICAgICAgICBmdWxsX3BhdGggPSBvcy5wYXRoLmFic3BhdGgobW9kdWxlLl9fZmlsZV9fKQoKICAgICAgICBpZiBvcy5wYXRoLmJhc2VuYW1lKGZ1bGxfcGF0aCkubG93ZXIoKS5zdGFydHN3aXRoKCdfX2luaXRfXy5weScpOgogICAgICAgICAgICByZXR1cm4gb3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShmdWxsX3BhdGgpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgaGVyZSB3ZSBoYXZlIGJlZW4gZ2l2ZW4gYSBtb2R1bGUgcmF0aGVyIHRoYW4gYSBwYWNrYWdlIC0gc28KICAgICAgICAgICAgIyBhbGwgd2UgY2FuIGRvIGlzIHNlYXJjaCB0aGUgKnNhbWUqIGRpcmVjdG9yeSB0aGUgbW9kdWxlIGlzIGluCiAgICAgICAgICAgICMgc2hvdWxkIGFuIGV4Y2VwdGlvbiBiZSByYWlzZWQgaW5zdGVhZAogICAgICAgICAgICByZXR1cm4gb3MucGF0aC5kaXJuYW1lKGZ1bGxfcGF0aCkKCiAgICBkZWYgX2dldF9uYW1lX2Zyb21fcGF0aChzZWxmLCBwYXRoKToKICAgICAgICBwYXRoID0gX2p5dGhvbl9hd2FyZV9zcGxpdGV4dChvcy5wYXRoLm5vcm1wYXRoKHBhdGgpKQoKICAgICAgICBfcmVscGF0aCA9IG9zLnBhdGgucmVscGF0aChwYXRoLCBzZWxmLl90b3BfbGV2ZWxfZGlyKQogICAgICAgIGFzc2VydCBub3Qgb3MucGF0aC5pc2FicyhfcmVscGF0aCksICJQYXRoIG11c3QgYmUgd2l0aGluIHRoZSBwcm9qZWN0IgogICAgICAgIGFzc2VydCBub3QgX3JlbHBhdGguc3RhcnRzd2l0aCgnLi4nKSwgIlBhdGggbXVzdCBiZSB3aXRoaW4gdGhlIHByb2plY3QiCgogICAgICAgIG5hbWUgPSBfcmVscGF0aC5yZXBsYWNlKG9zLnBhdGguc2VwLCAnLicpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgX2dldF9tb2R1bGVfZnJvbV9uYW1lKHNlbGYsIG5hbWUpOgogICAgICAgIF9faW1wb3J0X18obmFtZSkKICAgICAgICByZXR1cm4gc3lzLm1vZHVsZXNbbmFtZV0KCiAgICBkZWYgX21hdGNoX3BhdGgoc2VsZiwgcGF0aCwgZnVsbF9wYXRoLCBwYXR0ZXJuKToKICAgICAgICAjIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHVzZSBhbHRlcm5hdGl2ZSBtYXRjaGluZyBzdHJhdGVneQogICAgICAgIHJldHVybiBmbm1hdGNoKHBhdGgsIHBhdHRlcm4pCgogICAgZGVmIF9maW5kX3Rlc3RzKHNlbGYsIHN0YXJ0X2RpciwgcGF0dGVybik6CiAgICAgICAgIiIiVXNlZCBieSBkaXNjb3ZlcnkuIFlpZWxkcyB0ZXN0IHN1aXRlcyBpdCBsb2Fkcy4iIiIKICAgICAgICBwYXRocyA9IG9zLmxpc3RkaXIoc3RhcnRfZGlyKQoKICAgICAgICBmb3IgcGF0aCBpbiBwYXRoczoKICAgICAgICAgICAgZnVsbF9wYXRoID0gb3MucGF0aC5qb2luKHN0YXJ0X2RpciwgcGF0aCkKICAgICAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUoZnVsbF9wYXRoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBWQUxJRF9NT0RVTEVfTkFNRS5tYXRjaChwYXRoKToKICAgICAgICAgICAgICAgICAgICAjIHZhbGlkIFB5dGhvbiBpZGVudGlmaWVycyBvbmx5CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9tYXRjaF9wYXRoKHBhdGgsIGZ1bGxfcGF0aCwgcGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICMgaWYgdGhlIHRlc3QgZmlsZSBtYXRjaGVzLCBsb2FkIGl0CiAgICAgICAgICAgICAgICBuYW1lID0gc2VsZi5fZ2V0X25hbWVfZnJvbV9wYXRoKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBtb2R1bGUgPSBzZWxmLl9nZXRfbW9kdWxlX2Zyb21fbmFtZShuYW1lKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIHlpZWxkIF9tYWtlX2ZhaWxlZF9pbXBvcnRfdGVzdChuYW1lLCBzZWxmLnN1aXRlQ2xhc3MpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIG1vZF9maWxlID0gb3MucGF0aC5hYnNwYXRoKGdldGF0dHIobW9kdWxlLCAnX19maWxlX18nLCBmdWxsX3BhdGgpKQogICAgICAgICAgICAgICAgICAgIHJlYWxwYXRoID0gX2p5dGhvbl9hd2FyZV9zcGxpdGV4dChtb2RfZmlsZSkKICAgICAgICAgICAgICAgICAgICBmdWxscGF0aF9ub2V4dCA9IF9qeXRob25fYXdhcmVfc3BsaXRleHQoZnVsbF9wYXRoKQogICAgICAgICAgICAgICAgICAgIGlmIHJlYWxwYXRoLmxvd2VyKCkgIT0gZnVsbHBhdGhfbm9leHQubG93ZXIoKToKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlX2RpciA9IG9zLnBhdGguZGlybmFtZShyZWFscGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgbW9kX25hbWUgPSBfanl0aG9uX2F3YXJlX3NwbGl0ZXh0KG9zLnBhdGguYmFzZW5hbWUoZnVsbF9wYXRoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRfZGlyID0gb3MucGF0aC5kaXJuYW1lKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gKCIlciBtb2R1bGUgaW5jb3JyZWN0bHkgaW1wb3J0ZWQgZnJvbSAlci4gRXhwZWN0ZWQgJXIuICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJcyB0aGlzIG1vZHVsZSBnbG9iYWxseSBpbnN0YWxsZWQ/IikKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgSW1wb3J0RXJyb3IobXNnICUgKG1vZF9uYW1lLCBtb2R1bGVfZGlyLCBleHBlY3RlZF9kaXIpKQogICAgICAgICAgICAgICAgICAgIHlpZWxkIHNlbGYubG9hZFRlc3RzRnJvbU1vZHVsZShtb2R1bGUpCiAgICAgICAgICAgIGVsaWYgb3MucGF0aC5pc2RpcihmdWxsX3BhdGgpOgogICAgICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKG9zLnBhdGguam9pbihmdWxsX3BhdGgsICdfX2luaXRfXy5weScpKToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgIGxvYWRfdGVzdHMgPSBOb25lCiAgICAgICAgICAgICAgICB0ZXN0cyA9IE5vbmUKICAgICAgICAgICAgICAgIGlmIGZubWF0Y2gocGF0aCwgcGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgIyBvbmx5IGNoZWNrIGxvYWRfdGVzdHMgaWYgdGhlIHBhY2thZ2UgZGlyZWN0b3J5IGl0c2VsZiBtYXRjaGVzIHRoZSBmaWx0ZXIKICAgICAgICAgICAgICAgICAgICBuYW1lID0gc2VsZi5fZ2V0X25hbWVfZnJvbV9wYXRoKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgICAgICBwYWNrYWdlID0gc2VsZi5fZ2V0X21vZHVsZV9mcm9tX25hbWUobmFtZSkKICAgICAgICAgICAgICAgICAgICBsb2FkX3Rlc3RzID0gZ2V0YXR0cihwYWNrYWdlLCAnbG9hZF90ZXN0cycsIE5vbmUpCiAgICAgICAgICAgICAgICAgICAgdGVzdHMgPSBzZWxmLmxvYWRUZXN0c0Zyb21Nb2R1bGUocGFja2FnZSwgdXNlX2xvYWRfdGVzdHM9RmFsc2UpCgogICAgICAgICAgICAgICAgaWYgbG9hZF90ZXN0cyBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIGlmIHRlc3RzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAjIHRlc3RzIGxvYWRlZCBmcm9tIHBhY2thZ2UgZmlsZQogICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0cwogICAgICAgICAgICAgICAgICAgICMgcmVjdXJzZSBpbnRvIHRoZSBwYWNrYWdlCiAgICAgICAgICAgICAgICAgICAgZm9yIHRlc3QgaW4gc2VsZi5fZmluZF90ZXN0cyhmdWxsX3BhdGgsIHBhdHRlcm4pOgogICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0CiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgbG9hZF90ZXN0cyhzZWxmLCB0ZXN0cywgcGF0dGVybikKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIF9tYWtlX2ZhaWxlZF9sb2FkX3Rlc3RzKHBhY2thZ2UuX19uYW1lX18sIGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VpdGVDbGFzcykKCmRlZmF1bHRUZXN0TG9hZGVyID0gVGVzdExvYWRlcigpCgoKZGVmIF9tYWtlTG9hZGVyKHByZWZpeCwgc29ydFVzaW5nLCBzdWl0ZUNsYXNzPU5vbmUpOgogICAgbG9hZGVyID0gVGVzdExvYWRlcigpCiAgICBsb2FkZXIuc29ydFRlc3RNZXRob2RzVXNpbmcgPSBzb3J0VXNpbmcKICAgIGxvYWRlci50ZXN0TWV0aG9kUHJlZml4ID0gcHJlZml4CiAgICBpZiBzdWl0ZUNsYXNzOgogICAgICAgIGxvYWRlci5zdWl0ZUNsYXNzID0gc3VpdGVDbGFzcwogICAgcmV0dXJuIGxvYWRlcgoKZGVmIGdldFRlc3RDYXNlTmFtZXModGVzdENhc2VDbGFzcywgcHJlZml4LCBzb3J0VXNpbmc9dXRpbC50aHJlZV93YXlfY21wKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZykuZ2V0VGVzdENhc2VOYW1lcyh0ZXN0Q2FzZUNsYXNzKQoKZGVmIG1ha2VTdWl0ZSh0ZXN0Q2FzZUNsYXNzLCBwcmVmaXg9J3Rlc3QnLCBzb3J0VXNpbmc9dXRpbC50aHJlZV93YXlfY21wLAogICAgICAgICAgICAgIHN1aXRlQ2xhc3M9c3VpdGUuVGVzdFN1aXRlKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZywgc3VpdGVDbGFzcykubG9hZFRlc3RzRnJvbVRlc3RDYXNlKAogICAgICAgIHRlc3RDYXNlQ2xhc3MpCgpkZWYgZmluZFRlc3RDYXNlcyhtb2R1bGUsIHByZWZpeD0ndGVzdCcsIHNvcnRVc2luZz11dGlsLnRocmVlX3dheV9jbXAsCiAgICAgICAgICAgICAgICAgIHN1aXRlQ2xhc3M9c3VpdGUuVGVzdFN1aXRlKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZywgc3VpdGVDbGFzcykubG9hZFRlc3RzRnJvbU1vZHVsZShcCiAgICAgICAgbW9kdWxlKQo=',
'/Lib/unittest/signals.py':'aW1wb3J0IHNpZ25hbAppbXBvcnQgd2Vha3JlZgoKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHdyYXBzCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmNsYXNzIF9JbnRlcnJ1cHRIYW5kbGVyKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZGVmYXVsdF9oYW5kbGVyKToKICAgICAgICBzZWxmLmNhbGxlZCA9IEZhbHNlCiAgICAgICAgc2VsZi5kZWZhdWx0X2hhbmRsZXIgPSBkZWZhdWx0X2hhbmRsZXIKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgc2lnbnVtLCBmcmFtZSk6CiAgICAgICAgaW5zdGFsbGVkX2hhbmRsZXIgPSBzaWduYWwuZ2V0c2lnbmFsKHNpZ25hbC5TSUdJTlQpCiAgICAgICAgaWYgaW5zdGFsbGVkX2hhbmRsZXIgaXMgbm90IHNlbGY6CiAgICAgICAgICAgICMgaWYgd2UgYXJlbid0IHRoZSBpbnN0YWxsZWQgaGFuZGxlciwgdGhlbiBkZWxlZ2F0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICAjIHRvIHRoZSBkZWZhdWx0IGhhbmRsZXIKICAgICAgICAgICAgc2VsZi5kZWZhdWx0X2hhbmRsZXIoc2lnbnVtLCBmcmFtZSkKCiAgICAgICAgaWYgc2VsZi5jYWxsZWQ6CiAgICAgICAgICAgIHNlbGYuZGVmYXVsdF9oYW5kbGVyKHNpZ251bSwgZnJhbWUpCiAgICAgICAgc2VsZi5jYWxsZWQgPSBUcnVlCiAgICAgICAgZm9yIHJlc3VsdCBpbiBfcmVzdWx0cy5rZXlzKCk6CiAgICAgICAgICAgIHJlc3VsdC5zdG9wKCkKCl9yZXN1bHRzID0gd2Vha3JlZi5XZWFrS2V5RGljdGlvbmFyeSgpCmRlZiByZWdpc3RlclJlc3VsdChyZXN1bHQpOgogICAgX3Jlc3VsdHNbcmVzdWx0XSA9IDEKCmRlZiByZW1vdmVSZXN1bHQocmVzdWx0KToKICAgIHJldHVybiBib29sKF9yZXN1bHRzLnBvcChyZXN1bHQsIE5vbmUpKQoKX2ludGVycnVwdF9oYW5kbGVyID0gTm9uZQpkZWYgaW5zdGFsbEhhbmRsZXIoKToKICAgIGdsb2JhbCBfaW50ZXJydXB0X2hhbmRsZXIKICAgIGlmIF9pbnRlcnJ1cHRfaGFuZGxlciBpcyBOb25lOgogICAgICAgIGRlZmF1bHRfaGFuZGxlciA9IHNpZ25hbC5nZXRzaWduYWwoc2lnbmFsLlNJR0lOVCkKICAgICAgICBfaW50ZXJydXB0X2hhbmRsZXIgPSBfSW50ZXJydXB0SGFuZGxlcihkZWZhdWx0X2hhbmRsZXIpCiAgICAgICAgc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBfaW50ZXJydXB0X2hhbmRsZXIpCgoKZGVmIHJlbW92ZUhhbmRsZXIobWV0aG9kPU5vbmUpOgogICAgaWYgbWV0aG9kIGlzIG5vdCBOb25lOgogICAgICAgIEB3cmFwcyhtZXRob2QpCiAgICAgICAgZGVmIGlubmVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIGluaXRpYWwgPSBzaWduYWwuZ2V0c2lnbmFsKHNpZ25hbC5TSUdJTlQpCiAgICAgICAgICAgIHJlbW92ZUhhbmRsZXIoKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kKCphcmdzLCAqKmt3YXJncykKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIHNpZ25hbC5zaWduYWwoc2lnbmFsLlNJR0lOVCwgaW5pdGlhbCkKICAgICAgICByZXR1cm4gaW5uZXIKCiAgICBnbG9iYWwgX2ludGVycnVwdF9oYW5kbGVyCiAgICBpZiBfaW50ZXJydXB0X2hhbmRsZXIgaXMgbm90IE5vbmU6CiAgICAgICAgc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBfaW50ZXJydXB0X2hhbmRsZXIuZGVmYXVsdF9oYW5kbGVyKQo=',
'/Lib/unittest/case.py':'IiIiVGVzdCBjYXNlIGltcGxlbWVudGF0aW9uIiIiCgppbXBvcnQgc3lzCmltcG9ydCBmdW5jdG9vbHMKaW1wb3J0IGRpZmZsaWIKaW1wb3J0IHBwcmludAppbXBvcnQgcmUKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBjb2xsZWN0aW9ucwoKZnJvbSAuIGltcG9ydCByZXN1bHQKZnJvbSAudXRpbCBpbXBvcnQgKHN0cmNsYXNzLCBzYWZlX3JlcHIsIHNvcnRlZF9saXN0X2RpZmZlcmVuY2UsCiAgICAgICAgICAgICAgICAgICB1bm9yZGVyYWJsZV9saXN0X2RpZmZlcmVuY2UsIF9jb3VudF9kaWZmX2FsbF9wdXJwb3NlLAogICAgICAgICAgICAgICAgICAgX2NvdW50X2RpZmZfaGFzaGFibGUpCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCkRJRkZfT01JVFRFRCA9ICgnXG5EaWZmIGlzICVzIGNoYXJhY3RlcnMgbG9uZy4gJwogICAgICAgICAgICAgICAgICdTZXQgc2VsZi5tYXhEaWZmIHRvIE5vbmUgdG8gc2VlIGl0LicpCgpjbGFzcyBTa2lwVGVzdChFeGNlcHRpb24pOgogICAgIiIiCiAgICBSYWlzZSB0aGlzIGV4Y2VwdGlvbiBpbiBhIHRlc3QgdG8gc2tpcCBpdC4KCiAgICBVc3VhbGx5IHlvdSBjYW4gdXNlIFRlc3RSZXN1bHQuc2tpcCgpIG9yIG9uZSBvZiB0aGUgc2tpcHBpbmcgZGVjb3JhdG9ycwogICAgaW5zdGVhZCBvZiByYWlzaW5nIHRoaXMgZGlyZWN0bHkuCiAgICAiIiIKCmNsYXNzIF9FeHBlY3RlZEZhaWx1cmUoRXhjZXB0aW9uKToKICAgICIiIgogICAgUmFpc2UgdGhpcyB3aGVuIGEgdGVzdCBpcyBleHBlY3RlZCB0byBmYWlsLgoKICAgIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGV4Y19pbmZvKToKICAgICAgICBzdXBlcihfRXhwZWN0ZWRGYWlsdXJlLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5leGNfaW5mbyA9IGV4Y19pbmZvCgpjbGFzcyBfVW5leHBlY3RlZFN1Y2Nlc3MoRXhjZXB0aW9uKToKICAgICIiIgogICAgVGhlIHRlc3Qgd2FzIHN1cHBvc2VkIHRvIGZhaWwsIGJ1dCBpdCBkaWRuJ3QhCiAgICAiIiIKCgpjbGFzcyBfT3V0Y29tZShvYmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuc3VjY2VzcyA9IFRydWUKICAgICAgICBzZWxmLnNraXBwZWQgPSBOb25lCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2VzcyA9IE5vbmUKICAgICAgICBzZWxmLmV4cGVjdGVkRmFpbHVyZSA9IE5vbmUKICAgICAgICBzZWxmLmVycm9ycyA9IFtdCiAgICAgICAgc2VsZi5mYWlsdXJlcyA9IFtdCgoKZGVmIF9pZChvYmopOgogICAgcmV0dXJuIG9iagoKZGVmIHNraXAocmVhc29uKToKICAgICIiIgogICAgVW5jb25kaXRpb25hbGx5IHNraXAgYSB0ZXN0LgogICAgIiIiCiAgICBkZWYgZGVjb3JhdG9yKHRlc3RfaXRlbSk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGVzdF9pdGVtLCB0eXBlKToKICAgICAgICAgICAgQGZ1bmN0b29scy53cmFwcyh0ZXN0X2l0ZW0pCiAgICAgICAgICAgIGRlZiBza2lwX3dyYXBwZXIoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAgICAgICAgIHJhaXNlIFNraXBUZXN0KHJlYXNvbikKICAgICAgICAgICAgdGVzdF9pdGVtID0gc2tpcF93cmFwcGVyCgogICAgICAgIHRlc3RfaXRlbS5fX3VuaXR0ZXN0X3NraXBfXyA9IFRydWUKICAgICAgICB0ZXN0X2l0ZW0uX191bml0dGVzdF9za2lwX3doeV9fID0gcmVhc29uCiAgICAgICAgcmV0dXJuIHRlc3RfaXRlbQogICAgcmV0dXJuIGRlY29yYXRvcgoKZGVmIHNraXBJZihjb25kaXRpb24sIHJlYXNvbik6CiAgICAjIiIiCiAgICAjU2tpcCBhIHRlc3QgaWYgdGhlIGNvbmRpdGlvbiBpcyB0cnVlLgogICAgIyIiIgogICAgaWYgY29uZGl0aW9uOgogICAgICAgIHJldHVybiBza2lwKHJlYXNvbikKICAgIHJldHVybiBfaWQKCmRlZiBza2lwVW5sZXNzKGNvbmRpdGlvbiwgcmVhc29uKToKICAgICMiIiIKICAgICNTa2lwIGEgdGVzdCB1bmxlc3MgdGhlIGNvbmRpdGlvbiBpcyB0cnVlLgogICAgIyIiIgogICAgaWYgbm90IGNvbmRpdGlvbjoKICAgICAgICByZXR1cm4gc2tpcChyZWFzb24pCiAgICByZXR1cm4gX2lkCgoKZGVmIGV4cGVjdGVkRmFpbHVyZShmdW5jKToKICAgIEBmdW5jdG9vbHMud3JhcHMoZnVuYykKICAgIGRlZiB3cmFwcGVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByYWlzZSBfRXhwZWN0ZWRGYWlsdXJlKHN5cy5leGNfaW5mbygpKQogICAgICAgIHJhaXNlIF9VbmV4cGVjdGVkU3VjY2VzcwogICAgcmV0dXJuIHdyYXBwZXIKCgpjbGFzcyBfQXNzZXJ0UmFpc2VzQmFzZUNvbnRleHQob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZXhwZWN0ZWQsIHRlc3RfY2FzZSwgY2FsbGFibGVfb2JqPU5vbmUsCiAgICAgICAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4PU5vbmUpOgogICAgICAgIHNlbGYuZXhwZWN0ZWQgPSBleHBlY3RlZAogICAgICAgIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbiA9IHRlc3RfY2FzZS5mYWlsdXJlRXhjZXB0aW9uCiAgICAgICAgaWYgY2FsbGFibGVfb2JqIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLm9ial9uYW1lID0gY2FsbGFibGVfb2JqLl9fbmFtZV9fCiAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgIHNlbGYub2JqX25hbWUgPSBzdHIoY2FsbGFibGVfb2JqKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYub2JqX25hbWUgPSBOb25lCiAgICAgICAgaWYgaXNpbnN0YW5jZShleHBlY3RlZF9yZWdleCwgKGJ5dGVzLCBzdHIpKToKICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXggPSByZS5jb21waWxlKGV4cGVjdGVkX3JlZ2V4KQogICAgICAgIHNlbGYuZXhwZWN0ZWRfcmVnZXggPSBleHBlY3RlZF9yZWdleAoKCmNsYXNzIF9Bc3NlcnRSYWlzZXNDb250ZXh0KF9Bc3NlcnRSYWlzZXNCYXNlQ29udGV4dCk6CiAgICAiIiJBIGNvbnRleHQgbWFuYWdlciB1c2VkIHRvIGltcGxlbWVudCBUZXN0Q2FzZS5hc3NlcnRSYWlzZXMqIG1ldGhvZHMuIiIiCgogICAgZGVmIF9fZW50ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCBleGNfdHlwZSwgZXhjX3ZhbHVlLCB0Yik6CiAgICAgICAgaWYgZXhjX3R5cGUgaXMgTm9uZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZXhjX25hbWUgPSBzZWxmLmV4cGVjdGVkLl9fbmFtZV9fCiAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgIGV4Y19uYW1lID0gc3RyKHNlbGYuZXhwZWN0ZWQpCiAgICAgICAgICAgIGlmIHNlbGYub2JqX25hbWU6CiAgICAgICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oInswfSBub3QgcmFpc2VkIGJ5IHsxfSIKICAgICAgICAgICAgICAgICAgICAuZm9ybWF0KGV4Y19uYW1lLCBzZWxmLm9ial9uYW1lKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbigiezB9IG5vdCByYWlzZWQiCiAgICAgICAgICAgICAgICAgICAgLmZvcm1hdChleGNfbmFtZSkpCiAgICAgICAgaWYgbm90IGlzc3ViY2xhc3MoZXhjX3R5cGUsIHNlbGYuZXhwZWN0ZWQpOgogICAgICAgICAgICAjIGxldCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgcGFzcyB0aHJvdWdoCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICMgc3RvcmUgZXhjZXB0aW9uLCB3aXRob3V0IHRyYWNlYmFjaywgZm9yIGxhdGVyIHJldHJpZXZhbAogICAgICAgIHNlbGYuZXhjZXB0aW9uID0gZXhjX3ZhbHVlLndpdGhfdHJhY2ViYWNrKE5vbmUpCiAgICAgICAgaWYgc2VsZi5leHBlY3RlZF9yZWdleCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICBleHBlY3RlZF9yZWdleCA9IHNlbGYuZXhwZWN0ZWRfcmVnZXgKICAgICAgICBpZiBub3QgZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHN0cihleGNfdmFsdWUpKToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCciJXMiIGRvZXMgbm90IG1hdGNoICIlcyInICUKICAgICAgICAgICAgICAgICAgICAgKGV4cGVjdGVkX3JlZ2V4LnBhdHRlcm4sIHN0cihleGNfdmFsdWUpKSkKICAgICAgICByZXR1cm4gVHJ1ZQoKCmNsYXNzIF9Bc3NlcnRXYXJuc0NvbnRleHQoX0Fzc2VydFJhaXNlc0Jhc2VDb250ZXh0KToKICAgICIiIkEgY29udGV4dCBtYW5hZ2VyIHVzZWQgdG8gaW1wbGVtZW50IFRlc3RDYXNlLmFzc2VydFdhcm5zKiBtZXRob2RzLiIiIgoKICAgIGRlZiBfX2VudGVyX18oc2VsZik6CiAgICAgICAgIyBUaGUgX193YXJuaW5ncmVnaXN0cnlfXydzIG5lZWQgdG8gYmUgaW4gYSBwcmlzdGluZSBzdGF0ZSBmb3IgdGVzdHMKICAgICAgICAjIHRvIHdvcmsgcHJvcGVybHkuCiAgICAgICAgZm9yIHYgaW4gc3lzLm1vZHVsZXMudmFsdWVzKCk6CiAgICAgICAgICAgIGlmIGdldGF0dHIodiwgJ19fd2FybmluZ3JlZ2lzdHJ5X18nLCBOb25lKToKICAgICAgICAgICAgICAgIHYuX193YXJuaW5ncmVnaXN0cnlfXyA9IHt9CiAgICAgICAgc2VsZi53YXJuaW5nc19tYW5hZ2VyID0gd2FybmluZ3MuY2F0Y2hfd2FybmluZ3MocmVjb3JkPVRydWUpCiAgICAgICAgc2VsZi53YXJuaW5ncyA9IHNlbGYud2FybmluZ3NfbWFuYWdlci5fX2VudGVyX18oKQogICAgICAgIHdhcm5pbmdzLnNpbXBsZWZpbHRlcigiYWx3YXlzIiwgc2VsZi5leHBlY3RlZCkKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCBleGNfdHlwZSwgZXhjX3ZhbHVlLCB0Yik6CiAgICAgICAgc2VsZi53YXJuaW5nc19tYW5hZ2VyLl9fZXhpdF9fKGV4Y190eXBlLCBleGNfdmFsdWUsIHRiKQogICAgICAgIGlmIGV4Y190eXBlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAjIGxldCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgcGFzcyB0aHJvdWdoCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgZXhjX25hbWUgPSBzZWxmLmV4cGVjdGVkLl9fbmFtZV9fCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICBleGNfbmFtZSA9IHN0cihzZWxmLmV4cGVjdGVkKQogICAgICAgIGZpcnN0X21hdGNoaW5nID0gTm9uZQogICAgICAgIGZvciBtIGluIHNlbGYud2FybmluZ3M6CiAgICAgICAgICAgIHcgPSBtLm1lc3NhZ2UKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uodywgc2VsZi5leHBlY3RlZCk6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBmaXJzdF9tYXRjaGluZyBpcyBOb25lOgogICAgICAgICAgICAgICAgZmlyc3RfbWF0Y2hpbmcgPSB3CiAgICAgICAgICAgIGlmIChzZWxmLmV4cGVjdGVkX3JlZ2V4IGlzIG5vdCBOb25lIGFuZAogICAgICAgICAgICAgICAgbm90IHNlbGYuZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHN0cih3KSkpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgIyBzdG9yZSB3YXJuaW5nIGZvciBsYXRlciByZXRyaWV2YWwKICAgICAgICAgICAgc2VsZi53YXJuaW5nID0gdwogICAgICAgICAgICBzZWxmLmZpbGVuYW1lID0gbS5maWxlbmFtZQogICAgICAgICAgICBzZWxmLmxpbmVubyA9IG0ubGluZW5vCiAgICAgICAgICAgIHJldHVybgogICAgICAgICMgTm93IHdlIHNpbXBseSB0cnkgdG8gY2hvb3NlIGEgaGVscGZ1bCBmYWlsdXJlIG1lc3NhZ2UKICAgICAgICBpZiBmaXJzdF9tYXRjaGluZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCciJXMiIGRvZXMgbm90IG1hdGNoICIlcyInICUKICAgICAgICAgICAgICAgICAgICAgKHNlbGYuZXhwZWN0ZWRfcmVnZXgucGF0dGVybiwgc3RyKGZpcnN0X21hdGNoaW5nKSkpCiAgICAgICAgaWYgc2VsZi5vYmpfbmFtZToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCJ7MH0gbm90IHRyaWdnZXJlZCBieSB7MX0iCiAgICAgICAgICAgICAgICAuZm9ybWF0KGV4Y19uYW1lLCBzZWxmLm9ial9uYW1lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oInswfSBub3QgdHJpZ2dlcmVkIgogICAgICAgICAgICAgICAgLmZvcm1hdChleGNfbmFtZSkpCgoKY2xhc3MgVGVzdENhc2Uob2JqZWN0KToKICAgICIiIkEgY2xhc3Mgd2hvc2UgaW5zdGFuY2VzIGFyZSBzaW5nbGUgdGVzdCBjYXNlcy4KCiAgICBCeSBkZWZhdWx0LCB0aGUgdGVzdCBjb2RlIGl0c2VsZiBzaG91bGQgYmUgcGxhY2VkIGluIGEgbWV0aG9kIG5hbWVkCiAgICAncnVuVGVzdCcuCgogICAgSWYgdGhlIGZpeHR1cmUgbWF5IGJlIHVzZWQgZm9yIG1hbnkgdGVzdCBjYXNlcywgY3JlYXRlIGFzCiAgICBtYW55IHRlc3QgbWV0aG9kcyBhcyBhcmUgbmVlZGVkLiBXaGVuIGluc3RhbnRpYXRpbmcgc3VjaCBhIFRlc3RDYXNlCiAgICBzdWJjbGFzcywgc3BlY2lmeSBpbiB0aGUgY29uc3RydWN0b3IgYXJndW1lbnRzIHRoZSBuYW1lIG9mIHRoZSB0ZXN0IG1ldGhvZAogICAgdGhhdCB0aGUgaW5zdGFuY2UgaXMgdG8gZXhlY3V0ZS4KCiAgICBUZXN0IGF1dGhvcnMgc2hvdWxkIHN1YmNsYXNzIFRlc3RDYXNlIGZvciB0aGVpciBvd24gdGVzdHMuIENvbnN0cnVjdGlvbgogICAgYW5kIGRlY29uc3RydWN0aW9uIG9mIHRoZSB0ZXN0J3MgZW52aXJvbm1lbnQgKCdmaXh0dXJlJykgY2FuIGJlCiAgICBpbXBsZW1lbnRlZCBieSBvdmVycmlkaW5nIHRoZSAnc2V0VXAnIGFuZCAndGVhckRvd24nIG1ldGhvZHMgcmVzcGVjdGl2ZWx5LgoKICAgIElmIGl0IGlzIG5lY2Vzc2FyeSB0byBvdmVycmlkZSB0aGUgX19pbml0X18gbWV0aG9kLCB0aGUgYmFzZSBjbGFzcwogICAgX19pbml0X18gbWV0aG9kIG11c3QgYWx3YXlzIGJlIGNhbGxlZC4gSXQgaXMgaW1wb3J0YW50IHRoYXQgc3ViY2xhc3NlcwogICAgc2hvdWxkIG5vdCBjaGFuZ2UgdGhlIHNpZ25hdHVyZSBvZiB0aGVpciBfX2luaXRfXyBtZXRob2QsIHNpbmNlIGluc3RhbmNlcwogICAgb2YgdGhlIGNsYXNzZXMgYXJlIGluc3RhbnRpYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IHBhcnRzIG9mIHRoZSBmcmFtZXdvcmsKICAgIGluIG9yZGVyIHRvIGJlIHJ1bi4KICAgICIiIgoKICAgICMgVGhpcyBhdHRyaWJ1dGUgZGV0ZXJtaW5lcyB3aGljaCBleGNlcHRpb24gd2lsbCBiZSByYWlzZWQgd2hlbgogICAgIyB0aGUgaW5zdGFuY2UncyBhc3NlcnRpb24gbWV0aG9kcyBmYWlsOyB0ZXN0IG1ldGhvZHMgcmFpc2luZyB0aGlzCiAgICAjIGV4Y2VwdGlvbiB3aWxsIGJlIGRlZW1lZCB0byBoYXZlICdmYWlsZWQnIHJhdGhlciB0aGFuICdlcnJvcmVkJwoKICAgIGZhaWx1cmVFeGNlcHRpb24gPSBBc3NlcnRpb25FcnJvcgoKICAgICMgVGhpcyBhdHRyaWJ1dGUgZGV0ZXJtaW5lcyB3aGV0aGVyIGxvbmcgbWVzc2FnZXMgKGluY2x1ZGluZyByZXByIG9mCiAgICAjIG9iamVjdHMgdXNlZCBpbiBhc3NlcnQgbWV0aG9kcykgd2lsbCBiZSBwcmludGVkIG9uIGZhaWx1cmUgaW4gKmFkZGl0aW9uKgogICAgIyB0byBhbnkgZXhwbGljaXQgbWVzc2FnZSBwYXNzZWQuCgogICAgbG9uZ01lc3NhZ2UgPSBUcnVlCgogICAgIyBUaGlzIGF0dHJpYnV0ZSBzZXRzIHRoZSBtYXhpbXVtIGxlbmd0aCBvZiBhIGRpZmYgaW4gZmFpbHVyZSBtZXNzYWdlcwogICAgIyBieSBhc3NlcnQgbWV0aG9kcyB1c2luZyBkaWZmbGliLiBJdCBpcyBsb29rZWQgdXAgYXMgYW4gaW5zdGFuY2UgYXR0cmlidXRlCiAgICAjIHNvIGNhbiBiZSBjb25maWd1cmVkIGJ5IGluZGl2aWR1YWwgdGVzdHMgaWYgcmVxdWlyZWQuCgogICAgbWF4RGlmZiA9IDgwKjgKCiAgICAjIElmIGEgc3RyaW5nIGlzIGxvbmdlciB0aGFuIF9kaWZmVGhyZXNob2xkLCB1c2Ugbm9ybWFsIGNvbXBhcmlzb24gaW5zdGVhZAogICAgIyBvZiBkaWZmbGliLiAgU2VlICMxMTc2My4KICAgIF9kaWZmVGhyZXNob2xkID0gMioqMTYKCiAgICAjIEF0dHJpYnV0ZSB1c2VkIGJ5IFRlc3RTdWl0ZSBmb3IgY2xhc3NTZXRVcAoKICAgIF9jbGFzc1NldHVwRmFpbGVkID0gRmFsc2UKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbWV0aG9kTmFtZT0ncnVuVGVzdCcpOgogICAgICAgICIiIkNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgY2xhc3MgdGhhdCB3aWxsIHVzZSB0aGUgbmFtZWQgdGVzdAogICAgICAgICAgIG1ldGhvZCB3aGVuIGV4ZWN1dGVkLiBSYWlzZXMgYSBWYWx1ZUVycm9yIGlmIHRoZSBpbnN0YW5jZSBkb2VzCiAgICAgICAgICAgbm90IGhhdmUgYSBtZXRob2Qgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fdGVzdE1ldGhvZE5hbWUgPSBtZXRob2ROYW1lCiAgICAgICAgc2VsZi5fb3V0Y29tZUZvckRvQ2xlYW51cHMgPSBOb25lCiAgICAgICAgc2VsZi5fdGVzdE1ldGhvZERvYyA9ICdObyB0ZXN0JwogICAgICAgIHRyeToKICAgICAgICAgICAgdGVzdE1ldGhvZCA9IGdldGF0dHIoc2VsZiwgbWV0aG9kTmFtZSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgIGlmIG1ldGhvZE5hbWUgIT0gJ3J1blRlc3QnOgogICAgICAgICAgICAgICAgIyB3ZSBhbGxvdyBpbnN0YW50aWF0aW9uIHdpdGggbm8gZXhwbGljaXQgbWV0aG9kIG5hbWUKICAgICAgICAgICAgICAgICMgYnV0IG5vdCBhbiAqaW5jb3JyZWN0KiBvciBtaXNzaW5nIG1ldGhvZCBuYW1lCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJubyBzdWNoIHRlc3QgbWV0aG9kIGluICVzOiAlcyIgJQogICAgICAgICAgICAgICAgICAgICAgKHNlbGYuX19jbGFzc19fLCBtZXRob2ROYW1lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl90ZXN0TWV0aG9kRG9jID0gdGVzdE1ldGhvZC5fX2RvY19fCiAgICAgICAgc2VsZi5fY2xlYW51cHMgPSBbXQoKICAgICAgICAjIE1hcCB0eXBlcyB0byBjdXN0b20gYXNzZXJ0RXF1YWwgZnVuY3Rpb25zIHRoYXQgd2lsbCBjb21wYXJlCiAgICAgICAgIyBpbnN0YW5jZXMgb2Ygc2FpZCB0eXBlIGluIG1vcmUgZGV0YWlsIHRvIGdlbmVyYXRlIGEgbW9yZSB1c2VmdWwKICAgICAgICAjIGVycm9yIG1lc3NhZ2UuCiAgICAgICAgc2VsZi5fdHlwZV9lcXVhbGl0eV9mdW5jcyA9IHt9CiAgICAgICAgc2VsZi5hZGRUeXBlRXF1YWxpdHlGdW5jKGRpY3QsICdhc3NlcnREaWN0RXF1YWwnKQogICAgICAgIHNlbGYuYWRkVHlwZUVxdWFsaXR5RnVuYyhsaXN0LCAnYXNzZXJ0TGlzdEVxdWFsJykKICAgICAgICBzZWxmLmFkZFR5cGVFcXVhbGl0eUZ1bmModHVwbGUsICdhc3NlcnRUdXBsZUVxdWFsJykKICAgICAgICBzZWxmLmFkZFR5cGVFcXVhbGl0eUZ1bmMoc2V0LCAnYXNzZXJ0U2V0RXF1YWwnKQogICAgICAgIHNlbGYuYWRkVHlwZUVxdWFsaXR5RnVuYyhmcm96ZW5zZXQsICdhc3NlcnRTZXRFcXVhbCcpCiAgICAgICAgc2VsZi5hZGRUeXBlRXF1YWxpdHlGdW5jKHN0ciwgJ2Fzc2VydE11bHRpTGluZUVxdWFsJykKCiAgICBkZWYgYWRkVHlwZUVxdWFsaXR5RnVuYyhzZWxmLCB0eXBlb2JqLCBmdW5jdGlvbik6CiAgICAgICAgIiIiQWRkIGEgdHlwZSBzcGVjaWZpYyBhc3NlcnRFcXVhbCBzdHlsZSBmdW5jdGlvbiB0byBjb21wYXJlIGEgdHlwZS4KCiAgICAgICAgVGhpcyBtZXRob2QgaXMgZm9yIHVzZSBieSBUZXN0Q2FzZSBzdWJjbGFzc2VzIHRoYXQgbmVlZCB0byByZWdpc3RlcgogICAgICAgIHRoZWlyIG93biB0eXBlIGVxdWFsaXR5IGZ1bmN0aW9ucyB0byBwcm92aWRlIG5pY2VyIGVycm9yIG1lc3NhZ2VzLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICB0eXBlb2JqOiBUaGUgZGF0YSB0eXBlIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBvbiB3aGVuIGJvdGggdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgYXJlIG9mIHRoZSBzYW1lIHR5cGUgaW4gYXNzZXJ0RXF1YWwoKS4KICAgICAgICAgICAgZnVuY3Rpb246IFRoZSBjYWxsYWJsZSB0YWtpbmcgdHdvIGFyZ3VtZW50cyBhbmQgYW4gb3B0aW9uYWwKICAgICAgICAgICAgICAgICAgICBtc2c9IGFyZ3VtZW50IHRoYXQgcmFpc2VzIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbiB3aXRoIGEKICAgICAgICAgICAgICAgICAgICB1c2VmdWwgZXJyb3IgbWVzc2FnZSB3aGVuIHRoZSB0d28gYXJndW1lbnRzIGFyZSBub3QgZXF1YWwuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fdHlwZV9lcXVhbGl0eV9mdW5jc1t0eXBlb2JqXSA9IGZ1bmN0aW9uCgogICAgZGVmIGFkZENsZWFudXAoc2VsZiwgZnVuY3Rpb24sICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiQWRkIGEgZnVuY3Rpb24sIHdpdGggYXJndW1lbnRzLCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgdGVzdCBpcwogICAgICAgIGNvbXBsZXRlZC4gRnVuY3Rpb25zIGFkZGVkIGFyZSBjYWxsZWQgb24gYSBMSUZPIGJhc2lzIGFuZCBhcmUKICAgICAgICBjYWxsZWQgYWZ0ZXIgdGVhckRvd24gb24gdGVzdCBmYWlsdXJlIG9yIHN1Y2Nlc3MuCgogICAgICAgIENsZWFudXAgaXRlbXMgYXJlIGNhbGxlZCBldmVuIGlmIHNldFVwIGZhaWxzICh1bmxpa2UgdGVhckRvd24pLiIiIgogICAgICAgIHNlbGYuX2NsZWFudXBzLmFwcGVuZCgoZnVuY3Rpb24sIGFyZ3MsIGt3YXJncykpCgogICAgZGVmIHNldFVwKHNlbGYpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3Igc2V0dGluZyB1cCB0aGUgdGVzdCBmaXh0dXJlIGJlZm9yZSBleGVyY2lzaW5nIGl0LiIKICAgICAgICBwYXNzCgogICAgZGVmIHRlYXJEb3duKHNlbGYpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3IgZGVjb25zdHJ1Y3RpbmcgdGhlIHRlc3QgZml4dHVyZSBhZnRlciB0ZXN0aW5nIGl0LiIKICAgICAgICBwYXNzCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgc2V0VXBDbGFzcyhjbHMpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3Igc2V0dGluZyB1cCBjbGFzcyBmaXh0dXJlIGJlZm9yZSBydW5uaW5nIHRlc3RzIGluIHRoZSBjbGFzcy4iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdGVhckRvd25DbGFzcyhjbHMpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3IgZGVjb25zdHJ1Y3RpbmcgdGhlIGNsYXNzIGZpeHR1cmUgYWZ0ZXIgcnVubmluZyBhbGwgdGVzdHMgaW4gdGhlIGNsYXNzLiIKCiAgICBkZWYgY291bnRUZXN0Q2FzZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIDEKCiAgICBkZWYgZGVmYXVsdFRlc3RSZXN1bHQoc2VsZik6CiAgICAgICAgcmV0dXJuIHJlc3VsdC5UZXN0UmVzdWx0KCkKCiAgICBkZWYgc2hvcnREZXNjcmlwdGlvbihzZWxmKToKICAgICAgICAiIiJSZXR1cm5zIGEgb25lLWxpbmUgZGVzY3JpcHRpb24gb2YgdGhlIHRlc3QsIG9yIE5vbmUgaWYgbm8KICAgICAgICBkZXNjcmlwdGlvbiBoYXMgYmVlbiBwcm92aWRlZC4KCiAgICAgICAgVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgbGluZSBvZgogICAgICAgIHRoZSBzcGVjaWZpZWQgdGVzdCBtZXRob2QncyBkb2NzdHJpbmcuCiAgICAgICAgIiIiCiAgICAgICAgZG9jID0gc2VsZi5fdGVzdE1ldGhvZERvYwogICAgICAgIHJldHVybiBkb2MgYW5kIGRvYy5zcGxpdCgiXG4iKVswXS5zdHJpcCgpIG9yIE5vbmUKCgogICAgZGVmIGlkKHNlbGYpOgogICAgICAgIHJldHVybiAiJXMuJXMiICUgKHN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwgc2VsZi5fdGVzdE1ldGhvZE5hbWUpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgdHlwZShzZWxmKSBpcyBub3QgdHlwZShvdGhlcik6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgICAgICByZXR1cm4gc2VsZi5fdGVzdE1ldGhvZE5hbWUgPT0gb3RoZXIuX3Rlc3RNZXRob2ROYW1lCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKCh0eXBlKHNlbGYpLCBzZWxmLl90ZXN0TWV0aG9kTmFtZSkpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuICIlcyAoJXMpIiAlIChzZWxmLl90ZXN0TWV0aG9kTmFtZSwgc3RyY2xhc3Moc2VsZi5fX2NsYXNzX18pKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZXN0TWV0aG9kPSVzPiIgJSBcCiAgICAgICAgICAgICAgIChzdHJjbGFzcyhzZWxmLl9fY2xhc3NfXyksIHNlbGYuX3Rlc3RNZXRob2ROYW1lKQoKICAgIGRlZiBfYWRkU2tpcChzZWxmLCByZXN1bHQsIHJlYXNvbik6CiAgICAgICAgYWRkU2tpcCA9IGdldGF0dHIocmVzdWx0LCAnYWRkU2tpcCcsIE5vbmUpCiAgICAgICAgaWYgYWRkU2tpcCBpcyBub3QgTm9uZToKICAgICAgICAgICAgYWRkU2tpcChzZWxmLCByZWFzb24pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2FybmluZ3Mud2FybigiVGVzdFJlc3VsdCBoYXMgbm8gYWRkU2tpcCBtZXRob2QsIHNraXBzIG5vdCByZXBvcnRlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVdhcm5pbmcsIDIpCiAgICAgICAgICAgIHJlc3VsdC5hZGRTdWNjZXNzKHNlbGYpCgogICAgZGVmIF9leGVjdXRlVGVzdFBhcnQoc2VsZiwgZnVuY3Rpb24sIG91dGNvbWUsIGlzVGVzdD1GYWxzZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICByYWlzZQogICAgICAgIGV4Y2VwdCBTa2lwVGVzdCBhcyBlOgogICAgICAgICAgICBvdXRjb21lLnN1Y2Nlc3MgPSBGYWxzZQogICAgICAgICAgICBvdXRjb21lLnNraXBwZWQgPSBzdHIoZSkKICAgICAgICBleGNlcHQgX1VuZXhwZWN0ZWRTdWNjZXNzOgogICAgICAgICAgICBleGNfaW5mbyA9IHN5cy5leGNfaW5mbygpCiAgICAgICAgICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgICAgIGlmIGlzVGVzdDoKICAgICAgICAgICAgICAgIG91dGNvbWUudW5leHBlY3RlZFN1Y2Nlc3MgPSBleGNfaW5mbwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb3V0Y29tZS5lcnJvcnMuYXBwZW5kKGV4Y19pbmZvKQogICAgICAgIGV4Y2VwdCBfRXhwZWN0ZWRGYWlsdXJlOgogICAgICAgICAgICBvdXRjb21lLnN1Y2Nlc3MgPSBGYWxzZQogICAgICAgICAgICBleGNfaW5mbyA9IHN5cy5leGNfaW5mbygpCiAgICAgICAgICAgIGlmIGlzVGVzdDoKICAgICAgICAgICAgICAgIG91dGNvbWUuZXhwZWN0ZWRGYWlsdXJlID0gZXhjX2luZm8KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dGNvbWUuZXJyb3JzLmFwcGVuZChleGNfaW5mbykKICAgICAgICAjZml4bWUgYnJ5dGhvbiBTeW50YXggZXJyb3IKICAgICAgICAjZXhjZXB0IHNlbGYuZmFpbHVyZUV4Y2VwdGlvbjoKICAgICAgICAjICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgIyAgICBvdXRjb21lLmZhaWx1cmVzLmFwcGVuZChzeXMuZXhjX2luZm8oKSkKICAgICAgICAjICAgIGV4Y19pbmZvID0gc3lzLmV4Y19pbmZvKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgICAgIG91dGNvbWUuZXJyb3JzLmFwcGVuZChzeXMuZXhjX2luZm8oKSkKCiAgICBkZWYgcnVuKHNlbGYsIHJlc3VsdD1Ob25lKToKICAgICAgICBvcmlnX3Jlc3VsdCA9IHJlc3VsdAogICAgICAgIGlmIHJlc3VsdCBpcyBOb25lOgogICAgICAgICAgICByZXN1bHQgPSBzZWxmLmRlZmF1bHRUZXN0UmVzdWx0KCkKICAgICAgICAgICAgc3RhcnRUZXN0UnVuID0gZ2V0YXR0cihyZXN1bHQsICdzdGFydFRlc3RSdW4nLCBOb25lKQogICAgICAgICAgICBpZiBzdGFydFRlc3RSdW4gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBzdGFydFRlc3RSdW4oKQoKICAgICAgICByZXN1bHQuc3RhcnRUZXN0KHNlbGYpCgogICAgICAgIHRlc3RNZXRob2QgPSBnZXRhdHRyKHNlbGYsIHNlbGYuX3Rlc3RNZXRob2ROYW1lKQogICAgICAgIGlmIChnZXRhdHRyKHNlbGYuX19jbGFzc19fLCAiX191bml0dGVzdF9za2lwX18iLCBGYWxzZSkgb3IKICAgICAgICAgICAgZ2V0YXR0cih0ZXN0TWV0aG9kLCAiX191bml0dGVzdF9za2lwX18iLCBGYWxzZSkpOgogICAgICAgICAgICAjIElmIHRoZSBjbGFzcyBvciBtZXRob2Qgd2FzIHNraXBwZWQuCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNraXBfd2h5ID0gKGdldGF0dHIoc2VsZi5fX2NsYXNzX18sICdfX3VuaXR0ZXN0X3NraXBfd2h5X18nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGdldGF0dHIodGVzdE1ldGhvZCwgJ19fdW5pdHRlc3Rfc2tpcF93aHlfXycsICcnKSkKICAgICAgICAgICAgICAgIHNlbGYuX2FkZFNraXAocmVzdWx0LCBza2lwX3doeSkKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIHJlc3VsdC5zdG9wVGVzdChzZWxmKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dGNvbWUgPSBfT3V0Y29tZSgpCiAgICAgICAgICAgIHNlbGYuX291dGNvbWVGb3JEb0NsZWFudXBzID0gb3V0Y29tZQoKICAgICAgICAgICAgc2VsZi5fZXhlY3V0ZVRlc3RQYXJ0KHNlbGYuc2V0VXAsIG91dGNvbWUpCiAgICAgICAgICAgIGlmIG91dGNvbWUuc3VjY2VzczoKICAgICAgICAgICAgICAgIHNlbGYuX2V4ZWN1dGVUZXN0UGFydCh0ZXN0TWV0aG9kLCBvdXRjb21lLCBpc1Rlc3Q9VHJ1ZSkKICAgICAgICAgICAgICAgIHNlbGYuX2V4ZWN1dGVUZXN0UGFydChzZWxmLnRlYXJEb3duLCBvdXRjb21lKQoKICAgICAgICAgICAgc2VsZi5kb0NsZWFudXBzKCkKICAgICAgICAgICAgaWYgb3V0Y29tZS5zdWNjZXNzOgogICAgICAgICAgICAgICAgcmVzdWx0LmFkZFN1Y2Nlc3Moc2VsZikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIG91dGNvbWUuc2tpcHBlZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZGRTa2lwKHJlc3VsdCwgb3V0Y29tZS5za2lwcGVkKQogICAgICAgICAgICAgICAgZm9yIGV4Y19pbmZvIGluIG91dGNvbWUuZXJyb3JzOgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcihzZWxmLCBleGNfaW5mbykKICAgICAgICAgICAgICAgIGZvciBleGNfaW5mbyBpbiBvdXRjb21lLmZhaWx1cmVzOgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRGYWlsdXJlKHNlbGYsIGV4Y19pbmZvKQogICAgICAgICAgICAgICAgaWYgb3V0Y29tZS51bmV4cGVjdGVkU3VjY2VzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhZGRVbmV4cGVjdGVkU3VjY2VzcyA9IGdldGF0dHIocmVzdWx0LCAnYWRkVW5leHBlY3RlZFN1Y2Nlc3MnLCBOb25lKQogICAgICAgICAgICAgICAgICAgIGlmIGFkZFVuZXhwZWN0ZWRTdWNjZXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBhZGRVbmV4cGVjdGVkU3VjY2VzcyhzZWxmKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLndhcm4oIlRlc3RSZXN1bHQgaGFzIG5vIGFkZFVuZXhwZWN0ZWRTdWNjZXNzIG1ldGhvZCwgcmVwb3J0aW5nIGFzIGZhaWx1cmVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdW50aW1lV2FybmluZykKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZEZhaWx1cmUoc2VsZiwgb3V0Y29tZS51bmV4cGVjdGVkU3VjY2VzcykKCiAgICAgICAgICAgICAgICBpZiBvdXRjb21lLmV4cGVjdGVkRmFpbHVyZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhZGRFeHBlY3RlZEZhaWx1cmUgPSBnZXRhdHRyKHJlc3VsdCwgJ2FkZEV4cGVjdGVkRmFpbHVyZScsIE5vbmUpCiAgICAgICAgICAgICAgICAgICAgaWYgYWRkRXhwZWN0ZWRGYWlsdXJlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBhZGRFeHBlY3RlZEZhaWx1cmUoc2VsZiwgb3V0Y29tZS5leHBlY3RlZEZhaWx1cmUpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3Mud2FybigiVGVzdFJlc3VsdCBoYXMgbm8gYWRkRXhwZWN0ZWRGYWlsdXJlIG1ldGhvZCwgcmVwb3J0aW5nIGFzIHBhc3NlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVdhcm5pbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRTdWNjZXNzKHNlbGYpCgogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHJlc3VsdC5zdG9wVGVzdChzZWxmKQogICAgICAgICAgICBpZiBvcmlnX3Jlc3VsdCBpcyBOb25lOgogICAgICAgICAgICAgICAgc3RvcFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0b3BUZXN0UnVuJywgTm9uZSkKICAgICAgICAgICAgICAgIGlmIHN0b3BUZXN0UnVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHN0b3BUZXN0UnVuKCkKCiAgICBkZWYgZG9DbGVhbnVwcyhzZWxmKToKICAgICAgICAiIiJFeGVjdXRlIGFsbCBjbGVhbnVwIGZ1bmN0aW9ucy4gTm9ybWFsbHkgY2FsbGVkIGZvciB5b3UgYWZ0ZXIKICAgICAgICB0ZWFyRG93bi4iIiIKICAgICAgICBvdXRjb21lID0gc2VsZi5fb3V0Y29tZUZvckRvQ2xlYW51cHMgb3IgX091dGNvbWUoKQogICAgICAgIHdoaWxlIHNlbGYuX2NsZWFudXBzOgogICAgICAgICAgICBmdW5jdGlvbiwgYXJncywga3dhcmdzID0gc2VsZi5fY2xlYW51cHMucG9wKCkKICAgICAgICAgICAgcGFydCA9IGxhbWJkYTogZnVuY3Rpb24oKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICBzZWxmLl9leGVjdXRlVGVzdFBhcnQocGFydCwgb3V0Y29tZSkKCiAgICAgICAgIyByZXR1cm4gdGhpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkKICAgICAgICAjIGV2ZW4gdGhvdWdoIHdlIG5vIGxvbmdlciB1cyBpdCBpbnRlcm5hbGx5CiAgICAgICAgcmV0dXJuIG91dGNvbWUuc3VjY2VzcwoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCAqYXJncywgKiprd2RzKToKICAgICAgICByZXR1cm4gc2VsZi5ydW4oKmFyZ3MsICoqa3dkcykKCiAgICBkZWYgZGVidWcoc2VsZik6CiAgICAgICAgIiIiUnVuIHRoZSB0ZXN0IHdpdGhvdXQgY29sbGVjdGluZyBlcnJvcnMgaW4gYSBUZXN0UmVzdWx0IiIiCiAgICAgICAgc2VsZi5zZXRVcCgpCiAgICAgICAgZ2V0YXR0cihzZWxmLCBzZWxmLl90ZXN0TWV0aG9kTmFtZSkoKQogICAgICAgIHNlbGYudGVhckRvd24oKQogICAgICAgIHdoaWxlIHNlbGYuX2NsZWFudXBzOgogICAgICAgICAgICBmdW5jdGlvbiwgYXJncywga3dhcmdzID0gc2VsZi5fY2xlYW51cHMucG9wKC0xKQogICAgICAgICAgICBmdW5jdGlvbigqYXJncywgKiprd2FyZ3MpCgogICAgZGVmIHNraXBUZXN0KHNlbGYsIHJlYXNvbik6CiAgICAgICAgIiIiU2tpcCB0aGlzIHRlc3QuIiIiCiAgICAgICAgcmFpc2UgU2tpcFRlc3QocmVhc29uKQoKICAgIGRlZiBmYWlsKHNlbGYsIG1zZz1Ob25lKToKICAgICAgICAiIiJGYWlsIGltbWVkaWF0ZWx5LCB3aXRoIHRoZSBnaXZlbiBtZXNzYWdlLiIiIgogICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbihtc2cpCgogICAgZGVmIGFzc2VydEZhbHNlKHNlbGYsIGV4cHIsIG1zZz1Ob25lKToKICAgICAgICAiIiJDaGVjayB0aGF0IHRoZSBleHByZXNzaW9uIGlzIGZhbHNlLiIiIgogICAgICAgIGlmIGV4cHI6CiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCAiJXMgaXMgbm90IGZhbHNlIiAlIHNhZmVfcmVwcihleHByKSkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0VHJ1ZShzZWxmLCBleHByLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiQ2hlY2sgdGhhdCB0aGUgZXhwcmVzc2lvbiBpcyB0cnVlLiIiIgogICAgICAgIGlmIG5vdCBleHByOgogICAgICAgICAgICBtc2cgPSBzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgIiVzIGlzIG5vdCB0cnVlIiAlIHNhZmVfcmVwcihleHByKSkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgX2Zvcm1hdE1lc3NhZ2Uoc2VsZiwgbXNnLCBzdGFuZGFyZE1zZyk6CiAgICAgICAgIiIiSG9ub3VyIHRoZSBsb25nTWVzc2FnZSBhdHRyaWJ1dGUgd2hlbiBnZW5lcmF0aW5nIGZhaWx1cmUgbWVzc2FnZXMuCiAgICAgICAgSWYgbG9uZ01lc3NhZ2UgaXMgRmFsc2UgdGhpcyBtZWFuczoKICAgICAgICAqIFVzZSBvbmx5IGFuIGV4cGxpY2l0IG1lc3NhZ2UgaWYgaXQgaXMgcHJvdmlkZWQKICAgICAgICAqIE90aGVyd2lzZSB1c2UgdGhlIHN0YW5kYXJkIG1lc3NhZ2UgZm9yIHRoZSBhc3NlcnQKCiAgICAgICAgSWYgbG9uZ01lc3NhZ2UgaXMgVHJ1ZToKICAgICAgICAqIFVzZSB0aGUgc3RhbmRhcmQgbWVzc2FnZQogICAgICAgICogSWYgYW4gZXhwbGljaXQgbWVzc2FnZSBpcyBwcm92aWRlZCwgcGx1cyAnIDogJyBhbmQgdGhlIGV4cGxpY2l0IG1lc3NhZ2UKICAgICAgICAiIiIKICAgICAgICBpZiBub3Qgc2VsZi5sb25nTWVzc2FnZToKICAgICAgICAgICAgcmV0dXJuIG1zZyBvciBzdGFuZGFyZE1zZwogICAgICAgIGlmIG1zZyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gc3RhbmRhcmRNc2cKICAgICAgICB0cnk6CiAgICAgICAgICAgICMgZG9uJ3Qgc3dpdGNoIHRvICd7fScgZm9ybWF0dGluZyBpbiBQeXRob24gMi5YCiAgICAgICAgICAgICMgaXQgY2hhbmdlcyB0aGUgd2F5IHVuaWNvZGUgaW5wdXQgaXMgaGFuZGxlZAogICAgICAgICAgICByZXR1cm4gJyVzIDogJXMnICUgKHN0YW5kYXJkTXNnLCBtc2cpCiAgICAgICAgZXhjZXB0IFVuaWNvZGVEZWNvZGVFcnJvcjoKICAgICAgICAgICAgcmV0dXJuICAnJXMgOiAlcycgJSAoc2FmZV9yZXByKHN0YW5kYXJkTXNnKSwgc2FmZV9yZXByKG1zZykpCgoKICAgIGRlZiBhc3NlcnRSYWlzZXMoc2VsZiwgZXhjQ2xhc3MsIGNhbGxhYmxlT2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiRmFpbCB1bmxlc3MgYW4gZXhjZXB0aW9uIG9mIGNsYXNzIGV4Y0NsYXNzIGlzIHRocm93bgogICAgICAgICAgIGJ5IGNhbGxhYmxlT2JqIHdoZW4gaW52b2tlZCB3aXRoIGFyZ3VtZW50cyBhcmdzIGFuZCBrZXl3b3JkCiAgICAgICAgICAgYXJndW1lbnRzIGt3YXJncy4gSWYgYSBkaWZmZXJlbnQgdHlwZSBvZiBleGNlcHRpb24gaXMKICAgICAgICAgICB0aHJvd24sIGl0IHdpbGwgbm90IGJlIGNhdWdodCwgYW5kIHRoZSB0ZXN0IGNhc2Ugd2lsbCBiZQogICAgICAgICAgIGRlZW1lZCB0byBoYXZlIHN1ZmZlcmVkIGFuIGVycm9yLCBleGFjdGx5IGFzIGZvciBhbgogICAgICAgICAgIHVuZXhwZWN0ZWQgZXhjZXB0aW9uLgoKICAgICAgICAgICBJZiBjYWxsZWQgd2l0aCBjYWxsYWJsZU9iaiBvbWl0dGVkIG9yIE5vbmUsIHdpbGwgcmV0dXJuIGEKICAgICAgICAgICBjb250ZXh0IG9iamVjdCB1c2VkIGxpa2UgdGhpczo6CgogICAgICAgICAgICAgICAgd2l0aCBzZWxmLmFzc2VydFJhaXNlcyhTb21lRXhjZXB0aW9uKToKICAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQoKICAgICAgICAgICBUaGUgY29udGV4dCBtYW5hZ2VyIGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBleGNlcHRpb24gYXMKICAgICAgICAgICB0aGUgJ2V4Y2VwdGlvbicgYXR0cmlidXRlLiBUaGlzIGFsbG93cyB5b3UgdG8gaW5zcGVjdCB0aGUKICAgICAgICAgICBleGNlcHRpb24gYWZ0ZXIgdGhlIGFzc2VydGlvbjo6CgogICAgICAgICAgICAgICB3aXRoIHNlbGYuYXNzZXJ0UmFpc2VzKFNvbWVFeGNlcHRpb24pIGFzIGNtOgogICAgICAgICAgICAgICAgICAgZG9fc29tZXRoaW5nKCkKICAgICAgICAgICAgICAgdGhlX2V4Y2VwdGlvbiA9IGNtLmV4Y2VwdGlvbgogICAgICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHRoZV9leGNlcHRpb24uZXJyb3JfY29kZSwgMykKICAgICAgICAiIiIKICAgICAgICBjb250ZXh0ID0gX0Fzc2VydFJhaXNlc0NvbnRleHQoZXhjQ2xhc3MsIHNlbGYsIGNhbGxhYmxlT2JqKQogICAgICAgIGlmIGNhbGxhYmxlT2JqIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBjb250ZXh0CiAgICAgICAgI2ZpeG1lIGJyeXRob24gc3ludGF4IGVycm9yCiAgICAgICAgI3dpdGggY29udGV4dDoKICAgICAgICAjICAgIGNhbGxhYmxlT2JqKCphcmdzLCAqKmt3YXJncykKCiAgICBkZWYgYXNzZXJ0V2FybnMoc2VsZiwgZXhwZWN0ZWRfd2FybmluZywgY2FsbGFibGVfb2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiRmFpbCB1bmxlc3MgYSB3YXJuaW5nIG9mIGNsYXNzIHdhcm5DbGFzcyBpcyB0cmlnZ2VyZWQKICAgICAgICAgICBieSBjYWxsYWJsZU9iaiB3aGVuIGludm9rZWQgd2l0aCBhcmd1bWVudHMgYXJncyBhbmQga2V5d29yZAogICAgICAgICAgIGFyZ3VtZW50cyBrd2FyZ3MuICBJZiBhIGRpZmZlcmVudCB0eXBlIG9mIHdhcm5pbmcgaXMKICAgICAgICAgICB0cmlnZ2VyZWQsIGl0IHdpbGwgbm90IGJlIGhhbmRsZWQ6IGRlcGVuZGluZyBvbiB0aGUgb3RoZXIKICAgICAgICAgICB3YXJuaW5nIGZpbHRlcmluZyBydWxlcyBpbiBlZmZlY3QsIGl0IG1pZ2h0IGJlIHNpbGVuY2VkLCBwcmludGVkCiAgICAgICAgICAgb3V0LCBvciByYWlzZWQgYXMgYW4gZXhjZXB0aW9uLgoKICAgICAgICAgICBJZiBjYWxsZWQgd2l0aCBjYWxsYWJsZU9iaiBvbWl0dGVkIG9yIE5vbmUsIHdpbGwgcmV0dXJuIGEKICAgICAgICAgICBjb250ZXh0IG9iamVjdCB1c2VkIGxpa2UgdGhpczo6CgogICAgICAgICAgICAgICAgd2l0aCBzZWxmLmFzc2VydFdhcm5zKFNvbWVXYXJuaW5nKToKICAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQoKICAgICAgICAgICBUaGUgY29udGV4dCBtYW5hZ2VyIGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBmaXJzdCBtYXRjaGluZwogICAgICAgICAgIHdhcm5pbmcgYXMgdGhlICd3YXJuaW5nJyBhdHRyaWJ1dGU7IHNpbWlsYXJseSwgdGhlICdmaWxlbmFtZScKICAgICAgICAgICBhbmQgJ2xpbmVubycgYXR0cmlidXRlcyBnaXZlIHlvdSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluZQogICAgICAgICAgIG9mIFB5dGhvbiBjb2RlIGZyb20gd2hpY2ggdGhlIHdhcm5pbmcgd2FzIHRyaWdnZXJlZC4KICAgICAgICAgICBUaGlzIGFsbG93cyB5b3UgdG8gaW5zcGVjdCB0aGUgd2FybmluZyBhZnRlciB0aGUgYXNzZXJ0aW9uOjoKCiAgICAgICAgICAgICAgIHdpdGggc2VsZi5hc3NlcnRXYXJucyhTb21lV2FybmluZykgYXMgY206CiAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQogICAgICAgICAgICAgICB0aGVfd2FybmluZyA9IGNtLndhcm5pbmcKICAgICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh0aGVfd2FybmluZy5zb21lX2F0dHJpYnV0ZSwgMTQ3KQogICAgICAgICIiIgogICAgICAgIGNvbnRleHQgPSBfQXNzZXJ0V2FybnNDb250ZXh0KGV4cGVjdGVkX3dhcm5pbmcsIHNlbGYsIGNhbGxhYmxlX29iaikKICAgICAgICBpZiBjYWxsYWJsZV9vYmogaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQKICAgICAgICAjZml4bWUgYnJ5dGhvbiBzeW50YXggZXJyb3IKICAgICAgICAjd2l0aCBjb250ZXh0OgogICAgICAgICMgICAgY2FsbGFibGVfb2JqKCphcmdzLCAqKmt3YXJncykKCiAgICBkZWYgX2dldEFzc2VydEVxdWFsaXR5RnVuYyhzZWxmLCBmaXJzdCwgc2Vjb25kKToKICAgICAgICAiIiJHZXQgYSBkZXRhaWxlZCBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciB0aGUgdHlwZXMgb2YgdGhlIHR3byBhcmdzLgoKICAgICAgICBSZXR1cm5zOiBBIGNhbGxhYmxlIGFjY2VwdGluZyAoZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpIHRoYXQgd2lsbAogICAgICAgIHJhaXNlIGEgZmFpbHVyZSBleGNlcHRpb24gaWYgZmlyc3QgIT0gc2Vjb25kIHdpdGggYSB1c2VmdWwgaHVtYW4KICAgICAgICByZWFkYWJsZSBlcnJvciBtZXNzYWdlIGZvciB0aG9zZSB0eXBlcy4KICAgICAgICAiIiIKICAgICAgICAjCiAgICAgICAgIyBOT1RFKGdyZWdvcnkucC5zbWl0aCk6IEkgY29uc2lkZXJlZCBpc2luc3RhbmNlKGZpcnN0LCB0eXBlKHNlY29uZCkpCiAgICAgICAgIyBhbmQgdmljZSB2ZXJzYS4gIEkgb3B0ZWQgZm9yIHRoZSBjb25zZXJ2YXRpdmUgYXBwcm9hY2ggaW4gY2FzZQogICAgICAgICMgc3ViY2xhc3NlcyBhcmUgbm90IGludGVuZGVkIHRvIGJlIGNvbXBhcmVkIGluIGRldGFpbCB0byB0aGVpciBzdXBlcgogICAgICAgICMgY2xhc3MgaW5zdGFuY2VzIHVzaW5nIGEgdHlwZSBlcXVhbGl0eSBmdW5jLiAgVGhpcyBtZWFucyB0ZXN0aW5nCiAgICAgICAgIyBzdWJ0eXBlcyB3b24ndCBhdXRvbWFnaWNhbGx5IHVzZSB0aGUgZGV0YWlsZWQgY29tcGFyaXNvbi4gIENhbGxlcnMKICAgICAgICAjIHNob3VsZCB1c2UgdGhlaXIgdHlwZSBzcGVjaWZpYyBhc3NlcnRTcGFtRXF1YWwgbWV0aG9kIHRvIGNvbXBhcmUKICAgICAgICAjIHN1YmNsYXNzZXMgaWYgdGhlIGRldGFpbGVkIGNvbXBhcmlzb24gaXMgZGVzaXJlZCBhbmQgYXBwcm9wcmlhdGUuCiAgICAgICAgIyBTZWUgdGhlIGRpc2N1c3Npb24gaW4gaHR0cDovL2J1Z3MucHl0aG9uLm9yZy9pc3N1ZTI1NzguCiAgICAgICAgIwogICAgICAgIGlmIHR5cGUoZmlyc3QpIGlzIHR5cGUoc2Vjb25kKToKICAgICAgICAgICAgYXNzZXJ0ZXIgPSBzZWxmLl90eXBlX2VxdWFsaXR5X2Z1bmNzLmdldCh0eXBlKGZpcnN0KSkKICAgICAgICAgICAgaWYgYXNzZXJ0ZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGFzc2VydGVyLCBzdHIpOgogICAgICAgICAgICAgICAgICAgIGFzc2VydGVyID0gZ2V0YXR0cihzZWxmLCBhc3NlcnRlcikKICAgICAgICAgICAgICAgIHJldHVybiBhc3NlcnRlcgoKICAgICAgICByZXR1cm4gc2VsZi5fYmFzZUFzc2VydEVxdWFsCgogICAgZGVmIF9iYXNlQXNzZXJ0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpOgogICAgICAgICIiIlRoZSBkZWZhdWx0IGFzc2VydEVxdWFsIGltcGxlbWVudGF0aW9uLCBub3QgdHlwZSBzcGVjaWZpYy4iIiIKICAgICAgICBpZiBub3QgZmlyc3QgPT0gc2Vjb25kOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyAhPSAlcycgJSAoc2FmZV9yZXByKGZpcnN0KSwgc2FmZV9yZXByKHNlY29uZCkpCiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgaWYgdGhlIHR3byBvYmplY3RzIGFyZSB1bmVxdWFsIGFzIGRldGVybWluZWQgYnkgdGhlICc9PScKICAgICAgICAgICBvcGVyYXRvci4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnRpb25fZnVuYyA9IHNlbGYuX2dldEFzc2VydEVxdWFsaXR5RnVuYyhmaXJzdCwgc2Vjb25kKQogICAgICAgIGFzc2VydGlvbl9mdW5jKGZpcnN0LCBzZWNvbmQsIG1zZz1tc2cpCgogICAgZGVmIGFzc2VydE5vdEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIG1zZz1Ob25lKToKICAgICAgICAiIiJGYWlsIGlmIHRoZSB0d28gb2JqZWN0cyBhcmUgZXF1YWwgYXMgZGV0ZXJtaW5lZCBieSB0aGUgJz09JwogICAgICAgICAgIG9wZXJhdG9yLgogICAgICAgICIiIgogICAgICAgIGlmIG5vdCBmaXJzdCAhPSBzZWNvbmQ6CiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCAnJXMgPT0gJXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoc2Vjb25kKSkpCiAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbihtc2cpCgogICAgZGVmIGFzc2VydEFsbW9zdEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIHBsYWNlcz1Ob25lLCBtc2c9Tm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YT1Ob25lKToKICAgICAgICAiIiJGYWlsIGlmIHRoZSB0d28gb2JqZWN0cyBhcmUgdW5lcXVhbCBhcyBkZXRlcm1pbmVkIGJ5IHRoZWlyCiAgICAgICAgICAgZGlmZmVyZW5jZSByb3VuZGVkIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMKICAgICAgICAgICAoZGVmYXVsdCA3KSBhbmQgY29tcGFyaW5nIHRvIHplcm8sIG9yIGJ5IGNvbXBhcmluZyB0aGF0IHRoZQogICAgICAgICAgIGJldHdlZW4gdGhlIHR3byBvYmplY3RzIGlzIG1vcmUgdGhhbiB0aGUgZ2l2ZW4gZGVsdGEuCgogICAgICAgICAgIE5vdGUgdGhhdCBkZWNpbWFsIHBsYWNlcyAoZnJvbSB6ZXJvKSBhcmUgdXN1YWxseSBub3QgdGhlIHNhbWUKICAgICAgICAgICBhcyBzaWduaWZpY2FudCBkaWdpdHMgKG1lYXN1cmVkIGZyb20gdGhlIG1vc3Qgc2lnbmZpY2FudCBkaWdpdCkuCgogICAgICAgICAgIElmIHRoZSB0d28gb2JqZWN0cyBjb21wYXJlIGVxdWFsIHRoZW4gdGhleSB3aWxsIGF1dG9tYXRpY2FsbHkKICAgICAgICAgICBjb21wYXJlIGFsbW9zdCBlcXVhbC4KICAgICAgICAiIiIKICAgICAgICBpZiBmaXJzdCA9PSBzZWNvbmQ6CiAgICAgICAgICAgICMgc2hvcnRjdXQKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZGVsdGEgaXMgbm90IE5vbmUgYW5kIHBsYWNlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJzcGVjaWZ5IGRlbHRhIG9yIHBsYWNlcyBub3QgYm90aCIpCgogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBhYnMoZmlyc3QgLSBzZWNvbmQpIDw9IGRlbHRhOgogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyAhPSAlcyB3aXRoaW4gJXMgZGVsdGEnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGRlbHRhKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBwbGFjZXMgaXMgTm9uZToKICAgICAgICAgICAgICAgIHBsYWNlcyA9IDcKCiAgICAgICAgICAgIGlmIHJvdW5kKGFicyhzZWNvbmQtZmlyc3QpLCBwbGFjZXMpID09IDA6CiAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzICE9ICVzIHdpdGhpbiAlciBwbGFjZXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoc2Vjb25kKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlcykKICAgICAgICBtc2cgPSBzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpCiAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0Tm90QWxtb3N0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgcGxhY2VzPU5vbmUsIG1zZz1Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhPU5vbmUpOgogICAgICAgICIiIkZhaWwgaWYgdGhlIHR3byBvYmplY3RzIGFyZSBlcXVhbCBhcyBkZXRlcm1pbmVkIGJ5IHRoZWlyCiAgICAgICAgICAgZGlmZmVyZW5jZSByb3VuZGVkIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMKICAgICAgICAgICAoZGVmYXVsdCA3KSBhbmQgY29tcGFyaW5nIHRvIHplcm8sIG9yIGJ5IGNvbXBhcmluZyB0aGF0IHRoZQogICAgICAgICAgIGJldHdlZW4gdGhlIHR3byBvYmplY3RzIGlzIGxlc3MgdGhhbiB0aGUgZ2l2ZW4gZGVsdGEuCgogICAgICAgICAgIE5vdGUgdGhhdCBkZWNpbWFsIHBsYWNlcyAoZnJvbSB6ZXJvKSBhcmUgdXN1YWxseSBub3QgdGhlIHNhbWUKICAgICAgICAgICBhcyBzaWduaWZpY2FudCBkaWdpdHMgKG1lYXN1cmVkIGZyb20gdGhlIG1vc3Qgc2lnbmZpY2FudCBkaWdpdCkuCgogICAgICAgICAgIE9iamVjdHMgdGhhdCBhcmUgZXF1YWwgYXV0b21hdGljYWxseSBmYWlsLgogICAgICAgICIiIgogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lIGFuZCBwbGFjZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigic3BlY2lmeSBkZWx0YSBvciBwbGFjZXMgbm90IGJvdGgiKQogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBub3QgKGZpcnN0ID09IHNlY29uZCkgYW5kIGFicyhmaXJzdCAtIHNlY29uZCkgPiBkZWx0YToKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyA9PSAlcyB3aXRoaW4gJXMgZGVsdGEnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGRlbHRhKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBwbGFjZXMgaXMgTm9uZToKICAgICAgICAgICAgICAgIHBsYWNlcyA9IDcKICAgICAgICAgICAgaWYgbm90IChmaXJzdCA9PSBzZWNvbmQpIGFuZCByb3VuZChhYnMoc2Vjb25kLWZpcnN0KSwgcGxhY2VzKSAhPSAwOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzID09ICVzIHdpdGhpbiAlciBwbGFjZXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihzZWNvbmQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZXMpCgogICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24obXNnKQoKCiAgICBkZWYgYXNzZXJ0U2VxdWVuY2VFcXVhbChzZWxmLCBzZXExLCBzZXEyLCBtc2c9Tm9uZSwgc2VxX3R5cGU9Tm9uZSk6CiAgICAgICAgIiIiQW4gZXF1YWxpdHkgYXNzZXJ0aW9uIGZvciBvcmRlcmVkIHNlcXVlbmNlcyAobGlrZSBsaXN0cyBhbmQgdHVwbGVzKS4KCiAgICAgICAgRm9yIHRoZSBwdXJwb3NlcyBvZiB0aGlzIGZ1bmN0aW9uLCBhIHZhbGlkIG9yZGVyZWQgc2VxdWVuY2UgdHlwZSBpcyBvbmUKICAgICAgICB3aGljaCBjYW4gYmUgaW5kZXhlZCwgaGFzIGEgbGVuZ3RoLCBhbmQgaGFzIGFuIGVxdWFsaXR5IG9wZXJhdG9yLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZXExOiBUaGUgZmlyc3Qgc2VxdWVuY2UgdG8gY29tcGFyZS4KICAgICAgICAgICAgc2VxMjogVGhlIHNlY29uZCBzZXF1ZW5jZSB0byBjb21wYXJlLgogICAgICAgICAgICBzZXFfdHlwZTogVGhlIGV4cGVjdGVkIGRhdGF0eXBlIG9mIHRoZSBzZXF1ZW5jZXMsIG9yIE5vbmUgaWYgbm8KICAgICAgICAgICAgICAgICAgICBkYXRhdHlwZSBzaG91bGQgYmUgZW5mb3JjZWQuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgogICAgICAgICIiIgogICAgICAgIGlmIHNlcV90eXBlICE9IE5vbmU6CiAgICAgICAgICAgIHNlcV90eXBlX25hbWUgPSBzZXFfdHlwZS5fX25hbWVfXwogICAgICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShzZXExLCBzZXFfdHlwZSk6CiAgICAgICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oJ0ZpcnN0IHNlcXVlbmNlIGlzIG5vdCBhICVzOiAlcycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgKHNlcV90eXBlX25hbWUsIHNhZmVfcmVwcihzZXExKSkpCiAgICAgICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHNlcTIsIHNlcV90eXBlKToKICAgICAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbignU2Vjb25kIHNlcXVlbmNlIGlzIG5vdCBhICVzOiAlcycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgKHNlcV90eXBlX25hbWUsIHNhZmVfcmVwcihzZXEyKSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VxX3R5cGVfbmFtZSA9ICJzZXF1ZW5jZSIKCiAgICAgICAgZGlmZmVyaW5nID0gTm9uZQogICAgICAgIHRyeToKICAgICAgICAgICAgbGVuMSA9IGxlbihzZXExKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgZGlmZmVyaW5nID0gJ0ZpcnN0ICVzIGhhcyBubyBsZW5ndGguICAgIE5vbi1zZXF1ZW5jZT8nICUgKAogICAgICAgICAgICAgICAgICAgIHNlcV90eXBlX25hbWUpCgogICAgICAgIGlmIGRpZmZlcmluZyBpcyBOb25lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBsZW4yID0gbGVuKHNlcTIpCiAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgIGRpZmZlcmluZyA9ICdTZWNvbmQgJXMgaGFzIG5vIGxlbmd0aC4gICAgTm9uLXNlcXVlbmNlPycgJSAoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcV90eXBlX25hbWUpCgogICAgICAgIGlmIGRpZmZlcmluZyBpcyBOb25lOgogICAgICAgICAgICBpZiBzZXExID09IHNlcTI6CiAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgIHNlcTFfcmVwciA9IHNhZmVfcmVwcihzZXExKQogICAgICAgICAgICBzZXEyX3JlcHIgPSBzYWZlX3JlcHIoc2VxMikKICAgICAgICAgICAgaWYgbGVuKHNlcTFfcmVwcikgPiAzMDoKICAgICAgICAgICAgICAgIHNlcTFfcmVwciA9IHNlcTFfcmVwcls6MzBdICsgJy4uLicKICAgICAgICAgICAgaWYgbGVuKHNlcTJfcmVwcikgPiAzMDoKICAgICAgICAgICAgICAgIHNlcTJfcmVwciA9IHNlcTJfcmVwcls6MzBdICsgJy4uLicKICAgICAgICAgICAgZWxlbWVudHMgPSAoc2VxX3R5cGVfbmFtZS5jYXBpdGFsaXplKCksIHNlcTFfcmVwciwgc2VxMl9yZXByKQogICAgICAgICAgICBkaWZmZXJpbmcgPSAnJXNzIGRpZmZlcjogJXMgIT0gJXNcbicgJSBlbGVtZW50cwoKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobWluKGxlbjEsIGxlbjIpKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBpdGVtMSA9IHNlcTFbaV0KICAgICAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBJbmRleEVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdcblVuYWJsZSB0byBpbmRleCBlbGVtZW50ICVkIG9mIGZpcnN0ICVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGksIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGl0ZW0yID0gc2VxMltpXQogICAgICAgICAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIEluZGV4RXJyb3IsIE5vdEltcGxlbWVudGVkRXJyb3IpOgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmluZyArPSAoJ1xuVW5hYmxlIHRvIGluZGV4IGVsZW1lbnQgJWQgb2Ygc2Vjb25kICVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGksIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgaWYgaXRlbTEgIT0gaXRlbTI6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnXG5GaXJzdCBkaWZmZXJpbmcgZWxlbWVudCAlZDpcbiVzXG4lc1xuJyAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpLCBpdGVtMSwgaXRlbTIpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiAobGVuMSA9PSBsZW4yIGFuZCBzZXFfdHlwZSBpcyBOb25lIGFuZAogICAgICAgICAgICAgICAgICAgIHR5cGUoc2VxMSkgIT0gdHlwZShzZXEyKSk6CiAgICAgICAgICAgICAgICAgICAgIyBUaGUgc2VxdWVuY2VzIGFyZSB0aGUgc2FtZSwgYnV0IGhhdmUgZGlmZmVyaW5nIHR5cGVzLgogICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgaWYgbGVuMSA+IGxlbjI6CiAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdcbkZpcnN0ICVzIGNvbnRhaW5zICVkIGFkZGl0aW9uYWwgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtZW50cy5cbicgJSAoc2VxX3R5cGVfbmFtZSwgbGVuMSAtIGxlbjIpKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmluZyArPSAoJ0ZpcnN0IGV4dHJhIGVsZW1lbnQgJWQ6XG4lc1xuJyAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobGVuMiwgc2VxMVtsZW4yXSkpCiAgICAgICAgICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwgSW5kZXhFcnJvciwgTm90SW1wbGVtZW50ZWRFcnJvcik6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnVW5hYmxlIHRvIGluZGV4IGVsZW1lbnQgJWQgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29mIGZpcnN0ICVzXG4nICUgKGxlbjIsIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICBlbGlmIGxlbjEgPCBsZW4yOgogICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnXG5TZWNvbmQgJXMgY29udGFpbnMgJWQgYWRkaXRpb25hbCAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VsZW1lbnRzLlxuJyAlIChzZXFfdHlwZV9uYW1lLCBsZW4yIC0gbGVuMSkpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnRmlyc3QgZXh0cmEgZWxlbWVudCAlZDpcbiVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsZW4xLCBzZXEyW2xlbjFdKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBJbmRleEVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdVbmFibGUgdG8gaW5kZXggZWxlbWVudCAlZCAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2Ygc2Vjb25kICVzXG4nICUgKGxlbjEsIHNlcV90eXBlX25hbWUpKQogICAgICAgIHN0YW5kYXJkTXNnID0gZGlmZmVyaW5nCiAgICAgICAgZGlmZk1zZyA9ICdcbicgKyAnXG4nLmpvaW4oCiAgICAgICAgICAgIGRpZmZsaWIubmRpZmYocHByaW50LnBmb3JtYXQoc2VxMSkuc3BsaXRsaW5lcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBwcmludC5wZm9ybWF0KHNlcTIpLnNwbGl0bGluZXMoKSkpCgogICAgICAgIHN0YW5kYXJkTXNnID0gc2VsZi5fdHJ1bmNhdGVNZXNzYWdlKHN0YW5kYXJkTXNnLCBkaWZmTXNnKQogICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICBzZWxmLmZhaWwobXNnKQoKICAgIGRlZiBfdHJ1bmNhdGVNZXNzYWdlKHNlbGYsIG1lc3NhZ2UsIGRpZmYpOgogICAgICAgIG1heF9kaWZmID0gc2VsZi5tYXhEaWZmCiAgICAgICAgaWYgbWF4X2RpZmYgaXMgTm9uZSBvciBsZW4oZGlmZikgPD0gbWF4X2RpZmY6CiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlICsgZGlmZgogICAgICAgIHJldHVybiBtZXNzYWdlICsgKERJRkZfT01JVFRFRCAlIGxlbihkaWZmKSkKCiAgICBkZWYgYXNzZXJ0TGlzdEVxdWFsKHNlbGYsIGxpc3QxLCBsaXN0MiwgbXNnPU5vbmUpOgogICAgICAgICIiIkEgbGlzdC1zcGVjaWZpYyBlcXVhbGl0eSBhc3NlcnRpb24uCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGxpc3QxOiBUaGUgZmlyc3QgbGlzdCB0byBjb21wYXJlLgogICAgICAgICAgICBsaXN0MjogVGhlIHNlY29uZCBsaXN0IHRvIGNvbXBhcmUuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgoKICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2VydFNlcXVlbmNlRXF1YWwobGlzdDEsIGxpc3QyLCBtc2csIHNlcV90eXBlPWxpc3QpCgogICAgZGVmIGFzc2VydFR1cGxlRXF1YWwoc2VsZiwgdHVwbGUxLCB0dXBsZTIsIG1zZz1Ob25lKToKICAgICAgICAiIiJBIHR1cGxlLXNwZWNpZmljIGVxdWFsaXR5IGFzc2VydGlvbi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgdHVwbGUxOiBUaGUgZmlyc3QgdHVwbGUgdG8gY29tcGFyZS4KICAgICAgICAgICAgdHVwbGUyOiBUaGUgc2Vjb25kIHR1cGxlIHRvIGNvbXBhcmUuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuYXNzZXJ0U2VxdWVuY2VFcXVhbCh0dXBsZTEsIHR1cGxlMiwgbXNnLCBzZXFfdHlwZT10dXBsZSkKCiAgICBkZWYgYXNzZXJ0U2V0RXF1YWwoc2VsZiwgc2V0MSwgc2V0MiwgbXNnPU5vbmUpOgogICAgICAgICIiIkEgc2V0LXNwZWNpZmljIGVxdWFsaXR5IGFzc2VydGlvbi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgc2V0MTogVGhlIGZpcnN0IHNldCB0byBjb21wYXJlLgogICAgICAgICAgICBzZXQyOiBUaGUgc2Vjb25kIHNldCB0byBjb21wYXJlLgogICAgICAgICAgICBtc2c6IE9wdGlvbmFsIG1lc3NhZ2UgdG8gdXNlIG9uIGZhaWx1cmUgaW5zdGVhZCBvZiBhIGxpc3Qgb2YKICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlcy4KCiAgICAgICAgYXNzZXJ0U2V0RXF1YWwgdXNlcyBkdWNrdHlwaW5nIHRvIHN1cHBvcnQgZGlmZmVyZW50IHR5cGVzIG9mIHNldHMsIGFuZAogICAgICAgIGlzIG9wdGltaXplZCBmb3Igc2V0cyBzcGVjaWZpY2FsbHkgKHBhcmFtZXRlcnMgbXVzdCBzdXBwb3J0IGEKICAgICAgICBkaWZmZXJlbmNlIG1ldGhvZCkuCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkaWZmZXJlbmNlMSA9IHNldDEuZGlmZmVyZW5jZShzZXQyKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3IgYXMgZToKICAgICAgICAgICAgc2VsZi5mYWlsKCdpbnZhbGlkIHR5cGUgd2hlbiBhdHRlbXB0aW5nIHNldCBkaWZmZXJlbmNlOiAlcycgJSBlKQogICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvciBhcyBlOgogICAgICAgICAgICBzZWxmLmZhaWwoJ2ZpcnN0IGFyZ3VtZW50IGRvZXMgbm90IHN1cHBvcnQgc2V0IGRpZmZlcmVuY2U6ICVzJyAlIGUpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZGlmZmVyZW5jZTIgPSBzZXQyLmRpZmZlcmVuY2Uoc2V0MSkKICAgICAgICBleGNlcHQgVHlwZUVycm9yIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZmFpbCgnaW52YWxpZCB0eXBlIHdoZW4gYXR0ZW1wdGluZyBzZXQgZGlmZmVyZW5jZTogJXMnICUgZSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3IgYXMgZToKICAgICAgICAgICAgc2VsZi5mYWlsKCdzZWNvbmQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBzZXQgZGlmZmVyZW5jZTogJXMnICUgZSkKCiAgICAgICAgaWYgbm90IChkaWZmZXJlbmNlMSBvciBkaWZmZXJlbmNlMik6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgaWYgZGlmZmVyZW5jZTE6CiAgICAgICAgICAgIGxpbmVzLmFwcGVuZCgnSXRlbXMgaW4gdGhlIGZpcnN0IHNldCBidXQgbm90IHRoZSBzZWNvbmQ6JykKICAgICAgICAgICAgZm9yIGl0ZW0gaW4gZGlmZmVyZW5jZTE6CiAgICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQocmVwcihpdGVtKSkKICAgICAgICBpZiBkaWZmZXJlbmNlMjoKICAgICAgICAgICAgbGluZXMuYXBwZW5kKCdJdGVtcyBpbiB0aGUgc2Vjb25kIHNldCBidXQgbm90IHRoZSBmaXJzdDonKQogICAgICAgICAgICBmb3IgaXRlbSBpbiBkaWZmZXJlbmNlMjoKICAgICAgICAgICAgICAgIGxpbmVzLmFwcGVuZChyZXByKGl0ZW0pKQoKICAgICAgICBzdGFuZGFyZE1zZyA9ICdcbicuam9pbihsaW5lcykKICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SW4oc2VsZiwgbWVtYmVyLCBjb250YWluZXIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgaW4gYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIG1lbWJlciBub3QgaW4gY29udGFpbmVyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgZm91bmQgaW4gJXMnICUgKHNhZmVfcmVwcihtZW1iZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihjb250YWluZXIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0Tm90SW4oc2VsZiwgbWVtYmVyLCBjb250YWluZXIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgbm90IGluIGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBtZW1iZXIgaW4gY29udGFpbmVyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyB1bmV4cGVjdGVkbHkgZm91bmQgaW4gJXMnICUgKHNhZmVfcmVwcihtZW1iZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihjb250YWluZXIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SXMoc2VsZiwgZXhwcjEsIGV4cHIyLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSnVzdCBsaWtlIHNlbGYuYXNzZXJ0VHJ1ZShhIGlzIGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBleHByMSBpcyBub3QgZXhwcjI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCAlcycgJSAoc2FmZV9yZXByKGV4cHIxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGV4cHIyKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydElzTm90KHNlbGYsIGV4cHIxLCBleHByMiwgbXNnPU5vbmUpOgogICAgICAgICIiIkp1c3QgbGlrZSBzZWxmLmFzc2VydFRydWUoYSBpcyBub3QgYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIGV4cHIxIGlzIGV4cHIyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICd1bmV4cGVjdGVkbHkgaWRlbnRpY2FsOiAlcycgJSAoc2FmZV9yZXByKGV4cHIxKSwpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnREaWN0RXF1YWwoc2VsZiwgZDEsIGQyLCBtc2c9Tm9uZSk6CiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGQxLCBkaWN0LCAnRmlyc3QgYXJndW1lbnQgaXMgbm90IGEgZGljdGlvbmFyeScpCiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGQyLCBkaWN0LCAnU2Vjb25kIGFyZ3VtZW50IGlzIG5vdCBhIGRpY3Rpb25hcnknKQoKICAgICAgICBpZiBkMSAhPSBkMjoKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSAnJXMgIT0gJXMnICUgKHNhZmVfcmVwcihkMSwgVHJ1ZSksIHNhZmVfcmVwcihkMiwgVHJ1ZSkpCiAgICAgICAgICAgIGRpZmYgPSAoJ1xuJyArICdcbicuam9pbihkaWZmbGliLm5kaWZmKAogICAgICAgICAgICAgICAgICAgICAgICAgICBwcHJpbnQucGZvcm1hdChkMSkuc3BsaXRsaW5lcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgICBwcHJpbnQucGZvcm1hdChkMikuc3BsaXRsaW5lcygpKSkpCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gc2VsZi5fdHJ1bmNhdGVNZXNzYWdlKHN0YW5kYXJkTXNnLCBkaWZmKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0RGljdENvbnRhaW5zU3Vic2V0KHNlbGYsIHN1YnNldCwgZGljdGlvbmFyeSwgbXNnPU5vbmUpOgogICAgICAgICIiIkNoZWNrcyB3aGV0aGVyIGRpY3Rpb25hcnkgaXMgYSBzdXBlcnNldCBvZiBzdWJzZXQuIiIiCiAgICAgICAgd2FybmluZ3Mud2FybignYXNzZXJ0RGljdENvbnRhaW5zU3Vic2V0IGlzIGRlcHJlY2F0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgRGVwcmVjYXRpb25XYXJuaW5nKQogICAgICAgIG1pc3NpbmcgPSBbXQogICAgICAgIG1pc21hdGNoZWQgPSBbXQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIHN1YnNldC5pdGVtcygpOgogICAgICAgICAgICBpZiBrZXkgbm90IGluIGRpY3Rpb25hcnk6CiAgICAgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChrZXkpCiAgICAgICAgICAgIGVsaWYgdmFsdWUgIT0gZGljdGlvbmFyeVtrZXldOgogICAgICAgICAgICAgICAgbWlzbWF0Y2hlZC5hcHBlbmQoJyVzLCBleHBlY3RlZDogJXMsIGFjdHVhbDogJXMnICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzYWZlX3JlcHIoa2V5KSwgc2FmZV9yZXByKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoZGljdGlvbmFyeVtrZXldKSkpCgogICAgICAgIGlmIG5vdCAobWlzc2luZyBvciBtaXNtYXRjaGVkKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHN0YW5kYXJkTXNnID0gJycKICAgICAgICBpZiBtaXNzaW5nOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICdNaXNzaW5nOiAlcycgJSAnLCcuam9pbihzYWZlX3JlcHIobSkgZm9yIG0gaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmcpCiAgICAgICAgaWYgbWlzbWF0Y2hlZDoKICAgICAgICAgICAgaWYgc3RhbmRhcmRNc2c6CiAgICAgICAgICAgICAgICBzdGFuZGFyZE1zZyArPSAnOyAnCiAgICAgICAgICAgIHN0YW5kYXJkTXNnICs9ICdNaXNtYXRjaGVkIHZhbHVlczogJXMnICUgJywnLmpvaW4obWlzbWF0Y2hlZCkKCiAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydFNhbWVFbGVtZW50cyhzZWxmLCBleHBlY3RlZF9zZXEsIGFjdHVhbF9zZXEsIG1zZz1Ob25lKToKICAgICAgICAiIiJBbiB1bm9yZGVyZWQgc2VxdWVuY2Ugc3BlY2lmaWMgY29tcGFyaXNvbi4KCiAgICAgICAgUmFpc2VzIHdpdGggYW4gZXJyb3IgbWVzc2FnZSBsaXN0aW5nIHdoaWNoIGVsZW1lbnRzIG9mIGV4cGVjdGVkX3NlcQogICAgICAgIGFyZSBtaXNzaW5nIGZyb20gYWN0dWFsX3NlcSBhbmQgdmljZSB2ZXJzYSBpZiBhbnkuCgogICAgICAgIER1cGxpY2F0ZSBlbGVtZW50cyBhcmUgaWdub3JlZCB3aGVuIGNvbXBhcmluZyAqZXhwZWN0ZWRfc2VxKiBhbmQKICAgICAgICAqYWN0dWFsX3NlcSouIEl0IGlzIHRoZSBlcXVpdmFsZW50IG9mIGBgYXNzZXJ0RXF1YWwoc2V0KGV4cGVjdGVkKSwKICAgICAgICBzZXQoYWN0dWFsKSlgYCBidXQgaXQgd29ya3Mgd2l0aCBzZXF1ZW5jZXMgb2YgdW5oYXNoYWJsZSBvYmplY3RzIGFzCiAgICAgICAgd2VsbC4KICAgICAgICAiIiIKICAgICAgICB3YXJuaW5ncy53YXJuKCdhc3NlcnRTYW1lRWxlbWVudHMgaXMgZGVwcmVjYXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICBEZXByZWNhdGlvbldhcm5pbmcpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBleHBlY3RlZCA9IHNldChleHBlY3RlZF9zZXEpCiAgICAgICAgICAgIGFjdHVhbCA9IHNldChhY3R1YWxfc2VxKQogICAgICAgICAgICBtaXNzaW5nID0gc29ydGVkKGV4cGVjdGVkLmRpZmZlcmVuY2UoYWN0dWFsKSkKICAgICAgICAgICAgdW5leHBlY3RlZCA9IHNvcnRlZChhY3R1YWwuZGlmZmVyZW5jZShleHBlY3RlZCkpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgIyBGYWxsIGJhY2sgdG8gc2xvd2VyIGxpc3QtY29tcGFyZSBpZiBhbnkgb2YgdGhlIG9iamVjdHMgYXJlCiAgICAgICAgICAgICMgbm90IGhhc2hhYmxlLgogICAgICAgICAgICBleHBlY3RlZCA9IGxpc3QoZXhwZWN0ZWRfc2VxKQogICAgICAgICAgICBhY3R1YWwgPSBsaXN0KGFjdHVhbF9zZXEpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGV4cGVjdGVkLnNvcnQoKQogICAgICAgICAgICAgICAgYWN0dWFsLnNvcnQoKQogICAgICAgICAgICBleGNlcHQgVHlwZUVycm9yOgogICAgICAgICAgICAgICAgbWlzc2luZywgdW5leHBlY3RlZCA9IHVub3JkZXJhYmxlX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbWlzc2luZywgdW5leHBlY3RlZCA9IHNvcnRlZF9saXN0X2RpZmZlcmVuY2UoZXhwZWN0ZWQsIGFjdHVhbCkKICAgICAgICBlcnJvcnMgPSBbXQogICAgICAgIGlmIG1pc3Npbmc6CiAgICAgICAgICAgIGVycm9ycy5hcHBlbmQoJ0V4cGVjdGVkLCBidXQgbWlzc2luZzpcbiAgICAlcycgJQogICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihtaXNzaW5nKSkKICAgICAgICBpZiB1bmV4cGVjdGVkOgogICAgICAgICAgICBlcnJvcnMuYXBwZW5kKCdVbmV4cGVjdGVkLCBidXQgcHJlc2VudDpcbiAgICAlcycgJQogICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcih1bmV4cGVjdGVkKSkKICAgICAgICBpZiBlcnJvcnM6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJ1xuJy5qb2luKGVycm9ycykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgoKICAgIGRlZiBhc3NlcnRDb3VudEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIG1zZz1Ob25lKToKICAgICAgICAiIiJBbiB1bm9yZGVyZWQgc2VxdWVuY2UgY29tcGFyaXNvbiBhc3NlcnRpbmcgdGhhdCB0aGUgc2FtZSBlbGVtZW50cywKICAgICAgICByZWdhcmRsZXNzIG9mIG9yZGVyLiAgSWYgdGhlIHNhbWUgZWxlbWVudCBvY2N1cnMgbW9yZSB0aGFuIG9uY2UsCiAgICAgICAgaXQgdmVyaWZpZXMgdGhhdCB0aGUgZWxlbWVudHMgb2NjdXIgdGhlIHNhbWUgbnVtYmVyIG9mIHRpbWVzLgoKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChDb3VudGVyKGxpc3QoZmlyc3QpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3VudGVyKGxpc3Qoc2Vjb25kKSkpCgogICAgICAgICBFeGFtcGxlOgogICAgICAgICAgICAtIFswLCAxLCAxXSBhbmQgWzEsIDAsIDFdIGNvbXBhcmUgZXF1YWwuCiAgICAgICAgICAgIC0gWzAsIDAsIDFdIGFuZCBbMCwgMV0gY29tcGFyZSB1bmVxdWFsLgoKICAgICAgICAiIiIKICAgICAgICBmaXJzdF9zZXEsIHNlY29uZF9zZXEgPSBsaXN0KGZpcnN0KSwgbGlzdChzZWNvbmQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmaXJzdCA9IGNvbGxlY3Rpb25zLkNvdW50ZXIoZmlyc3Rfc2VxKQogICAgICAgICAgICBzZWNvbmQgPSBjb2xsZWN0aW9ucy5Db3VudGVyKHNlY29uZF9zZXEpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgIyBIYW5kbGUgY2FzZSB3aXRoIHVuaGFzaGFibGUgZWxlbWVudHMKICAgICAgICAgICAgZGlmZmVyZW5jZXMgPSBfY291bnRfZGlmZl9hbGxfcHVycG9zZShmaXJzdF9zZXEsIHNlY29uZF9zZXEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgZmlyc3QgPT0gc2Vjb25kOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGRpZmZlcmVuY2VzID0gX2NvdW50X2RpZmZfaGFzaGFibGUoZmlyc3Rfc2VxLCBzZWNvbmRfc2VxKQoKICAgICAgICBpZiBkaWZmZXJlbmNlczoKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSAnRWxlbWVudCBjb3VudHMgd2VyZSBub3QgZXF1YWw6XG4nCiAgICAgICAgICAgIGxpbmVzID0gWydGaXJzdCBoYXMgJWQsIFNlY29uZCBoYXMgJWQ6ICAlcicgJSBkaWZmIGZvciBkaWZmIGluIGRpZmZlcmVuY2VzXQogICAgICAgICAgICBkaWZmTXNnID0gJ1xuJy5qb2luKGxpbmVzKQogICAgICAgICAgICBzdGFuZGFyZE1zZyA9IHNlbGYuX3RydW5jYXRlTWVzc2FnZShzdGFuZGFyZE1zZywgZGlmZk1zZykKICAgICAgICAgICAgbXNnID0gc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKQogICAgICAgICAgICBzZWxmLmZhaWwobXNnKQoKICAgIGRlZiBhc3NlcnRNdWx0aUxpbmVFcXVhbChzZWxmLCBmaXJzdCwgc2Vjb25kLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiQXNzZXJ0IHRoYXQgdHdvIG11bHRpLWxpbmUgc3RyaW5ncyBhcmUgZXF1YWwuIiIiCiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGZpcnN0LCBzdHIsICdGaXJzdCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcnKQogICAgICAgIHNlbGYuYXNzZXJ0SXNJbnN0YW5jZShzZWNvbmQsIHN0ciwgJ1NlY29uZCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcnKQoKICAgICAgICBpZiBmaXJzdCAhPSBzZWNvbmQ6CiAgICAgICAgICAgICMgZG9uJ3QgdXNlIGRpZmZsaWIgaWYgdGhlIHN0cmluZ3MgYXJlIHRvbyBsb25nCiAgICAgICAgICAgIGlmIChsZW4oZmlyc3QpID4gc2VsZi5fZGlmZlRocmVzaG9sZCBvcgogICAgICAgICAgICAgICAgbGVuKHNlY29uZCkgPiBzZWxmLl9kaWZmVGhyZXNob2xkKToKICAgICAgICAgICAgICAgIHNlbGYuX2Jhc2VBc3NlcnRFcXVhbChmaXJzdCwgc2Vjb25kLCBtc2cpCiAgICAgICAgICAgIGZpcnN0bGluZXMgPSBmaXJzdC5zcGxpdGxpbmVzKFRydWUpCiAgICAgICAgICAgIHNlY29uZGxpbmVzID0gc2Vjb25kLnNwbGl0bGluZXMoVHJ1ZSkKICAgICAgICAgICAgaWYgbGVuKGZpcnN0bGluZXMpID09IDEgYW5kIGZpcnN0LnN0cmlwKCdcclxuJykgPT0gZmlyc3Q6CiAgICAgICAgICAgICAgICBmaXJzdGxpbmVzID0gW2ZpcnN0ICsgJ1xuJ10KICAgICAgICAgICAgICAgIHNlY29uZGxpbmVzID0gW3NlY29uZCArICdcbiddCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzICE9ICVzJyAlIChzYWZlX3JlcHIoZmlyc3QsIFRydWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCwgVHJ1ZSkpCiAgICAgICAgICAgIGRpZmYgPSAnXG4nICsgJycuam9pbihkaWZmbGliLm5kaWZmKGZpcnN0bGluZXMsIHNlY29uZGxpbmVzKSkKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSBzZWxmLl90cnVuY2F0ZU1lc3NhZ2Uoc3RhbmRhcmRNc2csIGRpZmYpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnRMZXNzKHNlbGYsIGEsIGIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgPCBiKSwgYnV0IHdpdGggYSBuaWNlciBkZWZhdWx0IG1lc3NhZ2UuIiIiCiAgICAgICAgaWYgbm90IGEgPCBiOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgbGVzcyB0aGFuICVzJyAlIChzYWZlX3JlcHIoYSksIHNhZmVfcmVwcihiKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydExlc3NFcXVhbChzZWxmLCBhLCBiLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSnVzdCBsaWtlIHNlbGYuYXNzZXJ0VHJ1ZShhIDw9IGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgYSA8PSBiOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICVzJyAlIChzYWZlX3JlcHIoYSksIHNhZmVfcmVwcihiKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydEdyZWF0ZXIoc2VsZiwgYSwgYiwgbXNnPU5vbmUpOgogICAgICAgICIiIkp1c3QgbGlrZSBzZWxmLmFzc2VydFRydWUoYSA+IGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgYSA+IGI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIG5vdCBncmVhdGVyIHRoYW4gJXMnICUgKHNhZmVfcmVwcihhKSwgc2FmZV9yZXByKGIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0R3JlYXRlckVxdWFsKHNlbGYsIGEsIGIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgPj0gYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIG5vdCBhID49IGI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIG5vdCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJXMnICUgKHNhZmVfcmVwcihhKSwgc2FmZV9yZXByKGIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SXNOb25lKHNlbGYsIG9iaiwgbXNnPU5vbmUpOgogICAgICAgICIiIlNhbWUgYXMgc2VsZi5hc3NlcnRUcnVlKG9iaiBpcyBOb25lKSwgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBvYmogaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCBOb25lJyAlIChzYWZlX3JlcHIob2JqKSwpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnRJc05vdE5vbmUoc2VsZiwgb2JqLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSW5jbHVkZWQgZm9yIHN5bW1ldHJ5IHdpdGggYXNzZXJ0SXNOb25lLiIiIgogICAgICAgIGlmIG9iaiBpcyBOb25lOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICd1bmV4cGVjdGVkbHkgTm9uZScKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydElzSW5zdGFuY2Uoc2VsZiwgb2JqLCBjbHMsIG1zZz1Ob25lKToKICAgICAgICAiIiJTYW1lIGFzIHNlbGYuYXNzZXJ0VHJ1ZShpc2luc3RhbmNlKG9iaiwgY2xzKSksIHdpdGggYSBuaWNlcgogICAgICAgIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvYmosIGNscyk6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiAlcicgJSAoc2FmZV9yZXByKG9iaiksIGNscykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydE5vdElzSW5zdGFuY2Uoc2VsZiwgb2JqLCBjbHMsIG1zZz1Ob25lKToKICAgICAgICAiIiJJbmNsdWRlZCBmb3Igc3ltbWV0cnkgd2l0aCBhc3NlcnRJc0luc3RhbmNlLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uob2JqLCBjbHMpOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBpcyBhbiBpbnN0YW5jZSBvZiAlcicgJSAoc2FmZV9yZXByKG9iaiksIGNscykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydFJhaXNlc1JlZ2V4KHNlbGYsIGV4cGVjdGVkX2V4Y2VwdGlvbiwgZXhwZWN0ZWRfcmVnZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVfb2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiQXNzZXJ0cyB0aGF0IHRoZSBtZXNzYWdlIGluIGEgcmFpc2VkIGV4Y2VwdGlvbiBtYXRjaGVzIGEgcmVnZXguCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGV4cGVjdGVkX2V4Y2VwdGlvbjogRXhjZXB0aW9uIGNsYXNzIGV4cGVjdGVkIHRvIGJlIHJhaXNlZC4KICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXg6IFJlZ2V4IChyZSBwYXR0ZXJuIG9iamVjdCBvciBzdHJpbmcpIGV4cGVjdGVkCiAgICAgICAgICAgICAgICAgICAgdG8gYmUgZm91bmQgaW4gZXJyb3IgbWVzc2FnZS4KICAgICAgICAgICAgY2FsbGFibGVfb2JqOiBGdW5jdGlvbiB0byBiZSBjYWxsZWQuCiAgICAgICAgICAgIGFyZ3M6IEV4dHJhIGFyZ3MuCiAgICAgICAgICAgIGt3YXJnczogRXh0cmEga3dhcmdzLgogICAgICAgICIiIgogICAgICAgIGNvbnRleHQgPSBfQXNzZXJ0UmFpc2VzQ29udGV4dChleHBlY3RlZF9leGNlcHRpb24sIHNlbGYsIGNhbGxhYmxlX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXgpCiAgICAgICAgaWYgY2FsbGFibGVfb2JqIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBjb250ZXh0CiAgICAgICAgI2ZpeG1lIGJyeXRob24gc3ludGF4IGVycm9yCiAgICAgICAgI3dpdGggY29udGV4dDoKICAgICAgICAjICAgIGNhbGxhYmxlX29iaigqYXJncywgKiprd2FyZ3MpCgogICAgZGVmIGFzc2VydFdhcm5zUmVnZXgoc2VsZiwgZXhwZWN0ZWRfd2FybmluZywgZXhwZWN0ZWRfcmVnZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYWJsZV9vYmo9Tm9uZSwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAiIiJBc3NlcnRzIHRoYXQgdGhlIG1lc3NhZ2UgaW4gYSB0cmlnZ2VyZWQgd2FybmluZyBtYXRjaGVzIGEgcmVnZXhwLgogICAgICAgIEJhc2ljIGZ1bmN0aW9uaW5nIGlzIHNpbWlsYXIgdG8gYXNzZXJ0V2FybnMoKSB3aXRoIHRoZSBhZGRpdGlvbgogICAgICAgIHRoYXQgb25seSB3YXJuaW5ncyB3aG9zZSBtZXNzYWdlcyBhbHNvIG1hdGNoIHRoZSByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgICBhcmUgY29uc2lkZXJlZCBzdWNjZXNzZnVsIG1hdGNoZXMuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGV4cGVjdGVkX3dhcm5pbmc6IFdhcm5pbmcgY2xhc3MgZXhwZWN0ZWQgdG8gYmUgdHJpZ2dlcmVkLgogICAgICAgICAgICBleHBlY3RlZF9yZWdleDogUmVnZXggKHJlIHBhdHRlcm4gb2JqZWN0IG9yIHN0cmluZykgZXhwZWN0ZWQKICAgICAgICAgICAgICAgICAgICB0byBiZSBmb3VuZCBpbiBlcnJvciBtZXNzYWdlLgogICAgICAgICAgICBjYWxsYWJsZV9vYmo6IEZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4KICAgICAgICAgICAgYXJnczogRXh0cmEgYXJncy4KICAgICAgICAgICAga3dhcmdzOiBFeHRyYSBrd2FyZ3MuCiAgICAgICAgIiIiCiAgICAgICAgY29udGV4dCA9IF9Bc3NlcnRXYXJuc0NvbnRleHQoZXhwZWN0ZWRfd2FybmluZywgc2VsZiwgY2FsbGFibGVfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4KQogICAgICAgIGlmIGNhbGxhYmxlX29iaiBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gY29udGV4dAogICAgICAgICNmaXhtZSBicnl0aG9uIHN5bnRheCBlcnJvcgogICAgICAgICN3aXRoIGNvbnRleHQ6CiAgICAgICAgIyAgICBjYWxsYWJsZV9vYmooKmFyZ3MsICoqa3dhcmdzKQoKICAgIGRlZiBhc3NlcnRSZWdleChzZWxmLCB0ZXh0LCBleHBlY3RlZF9yZWdleCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgdGhlIHRlc3QgdW5sZXNzIHRoZSB0ZXh0IG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4iIiIKICAgICAgICBpZiBpc2luc3RhbmNlKGV4cGVjdGVkX3JlZ2V4LCAoc3RyLCBieXRlcykpOgogICAgICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfcmVnZXgsICJleHBlY3RlZF9yZWdleCBtdXN0IG5vdCBiZSBlbXB0eS4iCiAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4ID0gcmUuY29tcGlsZShleHBlY3RlZF9yZWdleCkKICAgICAgICBpZiBub3QgZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHRleHQpOgogICAgICAgICAgICBtc2cgPSBtc2cgb3IgIlJlZ2V4IGRpZG4ndCBtYXRjaCIKICAgICAgICAgICAgbXNnID0gJyVzOiAlciBub3QgZm91bmQgaW4gJXInICUgKG1zZywgZXhwZWN0ZWRfcmVnZXgucGF0dGVybiwgdGV4dCkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0Tm90UmVnZXgoc2VsZiwgdGV4dCwgdW5leHBlY3RlZF9yZWdleCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgdGhlIHRlc3QgaWYgdGhlIHRleHQgbWF0Y2hlcyB0aGUgcmVndWxhciBleHByZXNzaW9uLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2UodW5leHBlY3RlZF9yZWdleCwgKHN0ciwgYnl0ZXMpKToKICAgICAgICAgICAgdW5leHBlY3RlZF9yZWdleCA9IHJlLmNvbXBpbGUodW5leHBlY3RlZF9yZWdleCkKICAgICAgICBtYXRjaCA9IHVuZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHRleHQpCiAgICAgICAgaWYgbWF0Y2g6CiAgICAgICAgICAgIG1zZyA9IG1zZyBvciAiUmVnZXggbWF0Y2hlZCIKICAgICAgICAgICAgbXNnID0gJyVzOiAlciBtYXRjaGVzICVyIGluICVyJyAlIChtc2csCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFttYXRjaC5zdGFydCgpOm1hdGNoLmVuZCgpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmV4cGVjdGVkX3JlZ2V4LnBhdHRlcm4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCgogICAgZGVmIF9kZXByZWNhdGUob3JpZ2luYWxfZnVuYyk6CiAgICAgICAgZGVmIGRlcHJlY2F0ZWRfZnVuYygqYXJncywgKiprd2FyZ3MpOgogICAgICAgICAgICB3YXJuaW5ncy53YXJuKAogICAgICAgICAgICAgICAgJ1BsZWFzZSB1c2UgezB9IGluc3RlYWQuJy5mb3JtYXQob3JpZ2luYWxfZnVuYy5fX25hbWVfXyksCiAgICAgICAgICAgICAgICBEZXByZWNhdGlvbldhcm5pbmcsIDIpCiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9mdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICByZXR1cm4gZGVwcmVjYXRlZF9mdW5jCgogICAgIyBzZWUgIzk0MjQKICAgIGZhaWxVbmxlc3NFcXVhbCA9IGFzc2VydEVxdWFscyA9IF9kZXByZWNhdGUoYXNzZXJ0RXF1YWwpCiAgICBmYWlsSWZFcXVhbCA9IGFzc2VydE5vdEVxdWFscyA9IF9kZXByZWNhdGUoYXNzZXJ0Tm90RXF1YWwpCiAgICBmYWlsVW5sZXNzQWxtb3N0RXF1YWwgPSBhc3NlcnRBbG1vc3RFcXVhbHMgPSBfZGVwcmVjYXRlKGFzc2VydEFsbW9zdEVxdWFsKQogICAgZmFpbElmQWxtb3N0RXF1YWwgPSBhc3NlcnROb3RBbG1vc3RFcXVhbHMgPSBfZGVwcmVjYXRlKGFzc2VydE5vdEFsbW9zdEVxdWFsKQogICAgZmFpbFVubGVzcyA9IGFzc2VydF8gPSBfZGVwcmVjYXRlKGFzc2VydFRydWUpCiAgICBmYWlsVW5sZXNzUmFpc2VzID0gX2RlcHJlY2F0ZShhc3NlcnRSYWlzZXMpCiAgICBmYWlsSWYgPSBfZGVwcmVjYXRlKGFzc2VydEZhbHNlKQogICAgYXNzZXJ0UmFpc2VzUmVnZXhwID0gX2RlcHJlY2F0ZShhc3NlcnRSYWlzZXNSZWdleCkKICAgIGFzc2VydFJlZ2V4cE1hdGNoZXMgPSBfZGVwcmVjYXRlKGFzc2VydFJlZ2V4KQoKCgpjbGFzcyBGdW5jdGlvblRlc3RDYXNlKFRlc3RDYXNlKToKICAgICIiIkEgdGVzdCBjYXNlIHRoYXQgd3JhcHMgYSB0ZXN0IGZ1bmN0aW9uLgoKICAgIFRoaXMgaXMgdXNlZnVsIGZvciBzbGlwcGluZyBwcmUtZXhpc3RpbmcgdGVzdCBmdW5jdGlvbnMgaW50byB0aGUKICAgIHVuaXR0ZXN0IGZyYW1ld29yay4gT3B0aW9uYWxseSwgc2V0LXVwIGFuZCB0aWR5LXVwIGZ1bmN0aW9ucyBjYW4gYmUKICAgIHN1cHBsaWVkLiBBcyB3aXRoIFRlc3RDYXNlLCB0aGUgdGlkeS11cCAoJ3RlYXJEb3duJykgZnVuY3Rpb24gd2lsbAogICAgYWx3YXlzIGJlIGNhbGxlZCBpZiB0aGUgc2V0LXVwICgnc2V0VXAnKSBmdW5jdGlvbiByYW4gc3VjY2Vzc2Z1bGx5LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRlc3RGdW5jLCBzZXRVcD1Ob25lLCB0ZWFyRG93bj1Ob25lLCBkZXNjcmlwdGlvbj1Ob25lKToKICAgICAgICBzdXBlcihGdW5jdGlvblRlc3RDYXNlLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5fc2V0VXBGdW5jID0gc2V0VXAKICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMgPSB0ZWFyRG93bgogICAgICAgIHNlbGYuX3Rlc3RGdW5jID0gdGVzdEZ1bmMKICAgICAgICBzZWxmLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uCgogICAgZGVmIHNldFVwKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX3NldFVwRnVuYyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5fc2V0VXBGdW5jKCkKCiAgICBkZWYgdGVhckRvd24oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fdGVhckRvd25GdW5jIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMoKQoKICAgIGRlZiBydW5UZXN0KHNlbGYpOgogICAgICAgIHNlbGYuX3Rlc3RGdW5jKCkKCiAgICBkZWYgaWQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX3Rlc3RGdW5jLl9fbmFtZV9fCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHNlbGYuX19jbGFzc19fKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgICAgIHJldHVybiBzZWxmLl9zZXRVcEZ1bmMgPT0gb3RoZXIuX3NldFVwRnVuYyBhbmQgXAogICAgICAgICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMgPT0gb3RoZXIuX3RlYXJEb3duRnVuYyBhbmQgXAogICAgICAgICAgICAgICBzZWxmLl90ZXN0RnVuYyA9PSBvdGhlci5fdGVzdEZ1bmMgYW5kIFwKICAgICAgICAgICAgICAgc2VsZi5fZGVzY3JpcHRpb24gPT0gb3RoZXIuX2Rlc2NyaXB0aW9uCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIG5vdCBzZWxmID09IG90aGVyCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKCh0eXBlKHNlbGYpLCBzZWxmLl9zZXRVcEZ1bmMsIHNlbGYuX3RlYXJEb3duRnVuYywKICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdGVzdEZ1bmMsIHNlbGYuX2Rlc2NyaXB0aW9uKSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIiVzICglcykiICUgKHN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3Rlc3RGdW5jLl9fbmFtZV9fKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZWM9JXM+IiAlIChzdHJjbGFzcyhzZWxmLl9fY2xhc3NfXyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl90ZXN0RnVuYykKCiAgICBkZWYgc2hvcnREZXNjcmlwdGlvbihzZWxmKToKICAgICAgICBpZiBzZWxmLl9kZXNjcmlwdGlvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2Rlc2NyaXB0aW9uCiAgICAgICAgZG9jID0gc2VsZi5fdGVzdEZ1bmMuX19kb2NfXwogICAgICAgIHJldHVybiBkb2MgYW5kIGRvYy5zcGxpdCgiXG4iKVswXS5zdHJpcCgpIG9yIE5vbmUK',
'/Lib/unittest/main.py':'IiIiVW5pdHRlc3QgbWFpbiBwcm9ncmFtIiIiCgppbXBvcnQgc3lzCmltcG9ydCBvcwojaW1wb3J0IHR5cGVzICAgIDwtLSBpcyB0aGlzIG1vZHVsZSBuZWVkZWQgZm9yIHRoaXMgbW9kdWxlPwoKZnJvbSAuIGltcG9ydCBsb2FkZXIsIHJ1bm5lcgpmcm9tIC5zaWduYWxzIGltcG9ydCBpbnN0YWxsSGFuZGxlcgoKX191bml0dGVzdCA9IFRydWUKCkZBSUxGQVNUICAgICA9ICIgIC1mLCAtLWZhaWxmYXN0ICAgU3RvcCBvbiBmaXJzdCBmYWlsdXJlXG4iCkNBVENIQlJFQUsgICA9ICIgIC1jLCAtLWNhdGNoICAgICAgQ2F0Y2ggY29udHJvbC1DIGFuZCBkaXNwbGF5IHJlc3VsdHNcbiIKQlVGRkVST1VUUFVUID0gIiAgLWIsIC0tYnVmZmVyICAgICBCdWZmZXIgc3Rkb3V0IGFuZCBzdGRlcnIgZHVyaW5nIHRlc3QgcnVuc1xuIgoKVVNBR0VfQVNfTUFJTiA9ICIiIlwKVXNhZ2U6ICUocHJvZ05hbWUpcyBbb3B0aW9uc10gW3Rlc3RzXQoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgIFNob3cgdGhpcyBtZXNzYWdlCiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAogIC1xLCAtLXF1aWV0ICAgICAgTWluaW1hbCBvdXRwdXQKJShmYWlsZmFzdClzJShjYXRjaGJyZWFrKXMlKGJ1ZmZlcilzCkV4YW1wbGVzOgogICUocHJvZ05hbWUpcyB0ZXN0X21vZHVsZSAgICAgICAgICAgICAgIC0gcnVuIHRlc3RzIGZyb20gdGVzdF9tb2R1bGUKICAlKHByb2dOYW1lKXMgbW9kdWxlLlRlc3RDbGFzcyAgICAgICAgICAtIHJ1biB0ZXN0cyBmcm9tIG1vZHVsZS5UZXN0Q2xhc3MKICAlKHByb2dOYW1lKXMgbW9kdWxlLkNsYXNzLnRlc3RfbWV0aG9kICAtIHJ1biBzcGVjaWZpZWQgdGVzdCBtZXRob2QKClt0ZXN0c10gY2FuIGJlIGEgbGlzdCBvZiBhbnkgbnVtYmVyIG9mIHRlc3QgbW9kdWxlcywgY2xhc3NlcyBhbmQgdGVzdAptZXRob2RzLgoKQWx0ZXJuYXRpdmUgVXNhZ2U6ICUocHJvZ05hbWUpcyBkaXNjb3ZlciBbb3B0aW9uc10KCk9wdGlvbnM6CiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAolKGZhaWxmYXN0KXMlKGNhdGNoYnJlYWspcyUoYnVmZmVyKXMgIC1zIGRpcmVjdG9yeSAgICAgRGlyZWN0b3J5IHRvIHN0YXJ0IGRpc2NvdmVyeSAoJy4nIGRlZmF1bHQpCiAgLXAgcGF0dGVybiAgICAgICBQYXR0ZXJuIHRvIG1hdGNoIHRlc3QgZmlsZXMgKCd0ZXN0Ki5weScgZGVmYXVsdCkKICAtdCBkaXJlY3RvcnkgICAgIFRvcCBsZXZlbCBkaXJlY3Rvcnkgb2YgcHJvamVjdCAoZGVmYXVsdCB0bwogICAgICAgICAgICAgICAgICAgc3RhcnQgZGlyZWN0b3J5KQoKRm9yIHRlc3QgZGlzY292ZXJ5IGFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcApsZXZlbCBkaXJlY3Rvcnkgb2YgdGhlIHByb2plY3QuCiIiIgoKVVNBR0VfRlJPTV9NT0RVTEUgPSAiIiJcClVzYWdlOiAlKHByb2dOYW1lKXMgW29wdGlvbnNdIFt0ZXN0XSBbLi4uXQoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgIFNob3cgdGhpcyBtZXNzYWdlCiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAogIC1xLCAtLXF1aWV0ICAgICAgTWluaW1hbCBvdXRwdXQKJShmYWlsZmFzdClzJShjYXRjaGJyZWFrKXMlKGJ1ZmZlcilzCkV4YW1wbGVzOgogICUocHJvZ05hbWUpcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHJ1biBkZWZhdWx0IHNldCBvZiB0ZXN0cwogICUocHJvZ05hbWUpcyBNeVRlc3RTdWl0ZSAgICAgICAgICAgICAgICAgICAtIHJ1biBzdWl0ZSAnTXlUZXN0U3VpdGUnCiAgJShwcm9nTmFtZSlzIE15VGVzdENhc2UudGVzdFNvbWV0aGluZyAgICAgIC0gcnVuIE15VGVzdENhc2UudGVzdFNvbWV0aGluZwogICUocHJvZ05hbWUpcyBNeVRlc3RDYXNlICAgICAgICAgICAgICAgICAgICAtIHJ1biBhbGwgJ3Rlc3QqJyB0ZXN0IG1ldGhvZHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBNeVRlc3RDYXNlCiIiIgoKZGVmIF9jb252ZXJ0X25hbWUobmFtZSk6CiAgICAjIG9uIExpbnV4IC8gTWFjIE9TIFggJ2Zvby5QWScgaXMgbm90IGltcG9ydGFibGUsIGJ1dCBvbgogICAgIyBXaW5kb3dzIGl0IGlzLiBTaW1wbGVyIHRvIGRvIGEgY2FzZSBpbnNlbnNpdGl2ZSBtYXRjaAogICAgIyBhIGJldHRlciBjaGVjayB3b3VsZCBiZSB0byBjaGVjayB0aGF0IHRoZSBuYW1lIGlzIGEKICAgICMgdmFsaWQgUHl0aG9uIG1vZHVsZSBuYW1lLgogICAgaWYgb3MucGF0aC5pc2ZpbGUobmFtZSkgYW5kIG5hbWUubG93ZXIoKS5lbmRzd2l0aCgnLnB5Jyk6CiAgICAgICAgaWYgb3MucGF0aC5pc2FicyhuYW1lKToKICAgICAgICAgICAgcmVsX3BhdGggPSBvcy5wYXRoLnJlbHBhdGgobmFtZSwgb3MuZ2V0Y3dkKCkpCiAgICAgICAgICAgIGlmIG9zLnBhdGguaXNhYnMocmVsX3BhdGgpIG9yIHJlbF9wYXRoLnN0YXJ0c3dpdGgob3MucGFyZGlyKToKICAgICAgICAgICAgICAgIHJldHVybiBuYW1lCiAgICAgICAgICAgIG5hbWUgPSByZWxfcGF0aAogICAgICAgICMgb24gV2luZG93cyBib3RoICdcJyBhbmQgJy8nIGFyZSB1c2VkIGFzIHBhdGgKICAgICAgICAjIHNlcGFyYXRvcnMuIEJldHRlciB0byByZXBsYWNlIGJvdGggdGhhbiByZWx5IG9uIG9zLnBhdGguc2VwCiAgICAgICAgcmV0dXJuIG5hbWVbOi0zXS5yZXBsYWNlKCdcXCcsICcuJykucmVwbGFjZSgnLycsICcuJykKICAgIHJldHVybiBuYW1lCgpkZWYgX2NvbnZlcnRfbmFtZXMobmFtZXMpOgogICAgcmV0dXJuIFtfY29udmVydF9uYW1lKG5hbWUpIGZvciBuYW1lIGluIG5hbWVzXQoKY2xhc3MgVGVzdFByb2dyYW0ob2JqZWN0KToKICAgICIiIkEgY29tbWFuZC1saW5lIHByb2dyYW0gdGhhdCBydW5zIGEgc2V0IG9mIHRlc3RzOyB0aGlzIGlzIHByaW1hcmlseQogICAgICAgZm9yIG1ha2luZyB0ZXN0IG1vZHVsZXMgY29udmVuaWVudGx5IGV4ZWN1dGFibGUuCiAgICAiIiIKICAgIFVTQUdFID0gVVNBR0VfRlJPTV9NT0RVTEUKCiAgICAjIGRlZmF1bHRzIGZvciB0ZXN0aW5nCiAgICBmYWlsZmFzdCA9IGNhdGNoYnJlYWsgPSBidWZmZXIgPSBwcm9nTmFtZSA9IHdhcm5pbmdzID0gTm9uZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtb2R1bGU9J19fbWFpbl9fJywgZGVmYXVsdFRlc3Q9Tm9uZSwgYXJndj1Ob25lLAogICAgICAgICAgICAgICAgICAgIHRlc3RSdW5uZXI9Tm9uZSwgdGVzdExvYWRlcj1sb2FkZXIuZGVmYXVsdFRlc3RMb2FkZXIsCiAgICAgICAgICAgICAgICAgICAgZXhpdD1UcnVlLCB2ZXJib3NpdHk9MSwgZmFpbGZhc3Q9Tm9uZSwgY2F0Y2hicmVhaz1Ob25lLAogICAgICAgICAgICAgICAgICAgIGJ1ZmZlcj1Ob25lLCB3YXJuaW5ncz1Ob25lKToKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZHVsZSwgc3RyKToKICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBfX2ltcG9ydF9fKG1vZHVsZSkKICAgICAgICAgICAgZm9yIHBhcnQgaW4gbW9kdWxlLnNwbGl0KCcuJylbMTpdOgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBnZXRhdHRyKHNlbGYubW9kdWxlLCBwYXJ0KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYubW9kdWxlID0gbW9kdWxlCiAgICAgICAgaWYgYXJndiBpcyBOb25lOgogICAgICAgICAgICBhcmd2ID0gc3lzLmFyZ3YKCiAgICAgICAgc2VsZi5leGl0ID0gZXhpdAogICAgICAgIHNlbGYuZmFpbGZhc3QgPSBmYWlsZmFzdAogICAgICAgIHNlbGYuY2F0Y2hicmVhayA9IGNhdGNoYnJlYWsKICAgICAgICBzZWxmLnZlcmJvc2l0eSA9IHZlcmJvc2l0eQogICAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyCiAgICAgICAgaWYgd2FybmluZ3MgaXMgTm9uZSBhbmQgbm90IHN5cy53YXJub3B0aW9uczoKICAgICAgICAgICAgIyBldmVuIGlmIERyZXByZWNhdGlvbldhcm5pbmdzIGFyZSBpZ25vcmVkIGJ5IGRlZmF1bHQKICAgICAgICAgICAgIyBwcmludCB0aGVtIGFueXdheSB1bmxlc3Mgb3RoZXIgd2FybmluZ3Mgc2V0dGluZ3MgYXJlCiAgICAgICAgICAgICMgc3BlY2lmaWVkIGJ5IHRoZSB3YXJuaW5ncyBhcmcgb3IgdGhlIC1XIHB5dGhvbiBmbGFnCiAgICAgICAgICAgIHNlbGYud2FybmluZ3MgPSAnZGVmYXVsdCcKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIGhlcmUgc2VsZi53YXJuaW5ncyBpcyBzZXQgZWl0aGVyIHRvIHRoZSB2YWx1ZSBwYXNzZWQKICAgICAgICAgICAgIyB0byB0aGUgd2FybmluZ3MgYXJncyBvciB0byBOb25lLgogICAgICAgICAgICAjIElmIHRoZSB1c2VyIGRpZG4ndCBwYXNzIGEgdmFsdWUgc2VsZi53YXJuaW5ncyB3aWxsCiAgICAgICAgICAgICMgYmUgTm9uZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBiZWhhdmlvciBpcyB1bmNoYW5nZWQKICAgICAgICAgICAgIyBhbmQgZGVwZW5kcyBvbiB0aGUgdmFsdWVzIHBhc3NlZCB0byAtVy4KICAgICAgICAgICAgc2VsZi53YXJuaW5ncyA9IHdhcm5pbmdzCiAgICAgICAgc2VsZi5kZWZhdWx0VGVzdCA9IGRlZmF1bHRUZXN0CiAgICAgICAgc2VsZi50ZXN0UnVubmVyID0gdGVzdFJ1bm5lcgogICAgICAgIHNlbGYudGVzdExvYWRlciA9IHRlc3RMb2FkZXIKICAgICAgICBzZWxmLnByb2dOYW1lID0gb3MucGF0aC5iYXNlbmFtZShhcmd2WzBdKQogICAgICAgIHNlbGYucGFyc2VBcmdzKGFyZ3YpCiAgICAgICAgc2VsZi5ydW5UZXN0cygpCgogICAgZGVmIHVzYWdlRXhpdChzZWxmLCBtc2c9Tm9uZSk6CiAgICAgICAgaWYgbXNnOgogICAgICAgICAgICBwcmludChtc2cpCiAgICAgICAgdXNhZ2UgPSB7J3Byb2dOYW1lJzogc2VsZi5wcm9nTmFtZSwgJ2NhdGNoYnJlYWsnOiAnJywgJ2ZhaWxmYXN0JzogJycsCiAgICAgICAgICAgICAgICAgJ2J1ZmZlcic6ICcnfQogICAgICAgIGlmIHNlbGYuZmFpbGZhc3QgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydmYWlsZmFzdCddID0gRkFJTEZBU1QKICAgICAgICBpZiBzZWxmLmNhdGNoYnJlYWsgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydjYXRjaGJyZWFrJ10gPSBDQVRDSEJSRUFLCiAgICAgICAgaWYgc2VsZi5idWZmZXIgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydidWZmZXInXSA9IEJVRkZFUk9VVFBVVAogICAgICAgIHByaW50KHNlbGYuVVNBR0UgJSB1c2FnZSkKICAgICAgICBzeXMuZXhpdCgyKQoKICAgIGRlZiBwYXJzZUFyZ3Moc2VsZiwgYXJndik6CiAgICAgICAgaWYgKChsZW4oYXJndikgPiAxIGFuZCBhcmd2WzFdLmxvd2VyKCkgPT0gJ2Rpc2NvdmVyJykgb3IKICAgICAgICAgICAgKGxlbihhcmd2KSA9PSAxIGFuZCBzZWxmLm1vZHVsZSBpcyBOb25lKSk6CiAgICAgICAgICAgIHNlbGYuX2RvX2Rpc2NvdmVyeShhcmd2WzI6XSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGltcG9ydCBnZXRvcHQKICAgICAgICAjZml4bWUgYnJ5dGhvbiwgZXhjZXB0IHN0YXRlbWVudCBiZWxvdyBkb24ndCBsaWtlIGdldG9wdC4KICAgICAgICBnZXRvcHRfZXJyb3I9Z2V0b3B0LmVycm9yCiAgICAgICAgbG9uZ19vcHRzID0gWydoZWxwJywgJ3ZlcmJvc2UnLCAncXVpZXQnLCAnZmFpbGZhc3QnLCAnY2F0Y2gnLCAnYnVmZmVyJ10KICAgICAgICB0cnk6CiAgICAgICAgICAgIG9wdGlvbnMsIGFyZ3MgPSBnZXRvcHQuZ2V0b3B0KGFyZ3ZbMTpdLCAnaEh2cWZjYicsIGxvbmdfb3B0cykKICAgICAgICAjZml4bWUgYnJ5dGhvbiBpbnZhbGlkIHN5bnRheAogICAgICAgICNleGNlcHQgZ2V0b3B0LmVycm9yIGFzIG1zZzoKICAgICAgICBleGNlcHQgZ2V0b3B0X2Vycm9yIGFzIG1zZzoKICAgICAgICAgICAgc2VsZi51c2FnZUV4aXQobXNnKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgZm9yIG9wdCwgdmFsdWUgaW4gb3B0aW9uczoKICAgICAgICAgICAgaWYgb3B0IGluICgnLWgnLCctSCcsJy0taGVscCcpOgogICAgICAgICAgICAgICAgc2VsZi51c2FnZUV4aXQoKQogICAgICAgICAgICBpZiBvcHQgaW4gKCctcScsJy0tcXVpZXQnKToKICAgICAgICAgICAgICAgIHNlbGYudmVyYm9zaXR5ID0gMAogICAgICAgICAgICBpZiBvcHQgaW4gKCctdicsJy0tdmVyYm9zZScpOgogICAgICAgICAgICAgICAgc2VsZi52ZXJib3NpdHkgPSAyCiAgICAgICAgICAgIGlmIG9wdCBpbiAoJy1mJywnLS1mYWlsZmFzdCcpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5mYWlsZmFzdCBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHNlbGYuZmFpbGZhc3QgPSBUcnVlCiAgICAgICAgICAgICAgICAjIFNob3VsZCB0aGlzIHJhaXNlIGFuIGV4Y2VwdGlvbiBpZiAtZiBpcyBub3QgdmFsaWQ/CiAgICAgICAgICAgIGlmIG9wdCBpbiAoJy1jJywnLS1jYXRjaCcpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5jYXRjaGJyZWFrIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRjaGJyZWFrID0gVHJ1ZQogICAgICAgICAgICAgICAgIyBTaG91bGQgdGhpcyByYWlzZSBhbiBleGNlcHRpb24gaWYgLWMgaXMgbm90IHZhbGlkPwogICAgICAgICAgICBpZiBvcHQgaW4gKCctYicsJy0tYnVmZmVyJyk6CiAgICAgICAgICAgICAgICBpZiBzZWxmLmJ1ZmZlciBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHNlbGYuYnVmZmVyID0gVHJ1ZQogICAgICAgICAgICAgICAgIyBTaG91bGQgdGhpcyByYWlzZSBhbiBleGNlcHRpb24gaWYgLWIgaXMgbm90IHZhbGlkPwoKICAgICAgICBpZiBsZW4oYXJncykgPT0gMCBhbmQgc2VsZi5tb2R1bGUgaXMgTm9uZToKICAgICAgICAgICAgIyB0aGlzIGFsbG93cyAicHl0aG9uIC1tIHVuaXR0ZXN0IC12IiB0byBzdGlsbCB3b3JrIGZvcgogICAgICAgICAgICAjIHRlc3QgZGlzY292ZXJ5LiBUaGlzIG1lYW5zIC1jIC8gLWIgLyAtdiAvIC1mIG9wdGlvbnMgd2lsbAogICAgICAgICAgICAjIGJlIGhhbmRsZWQgdHdpY2UsIHdoaWNoIGlzIGhhcm1sZXNzIGJ1dCBub3QgaWRlYWwuCiAgICAgICAgICAgIHNlbGYuX2RvX2Rpc2NvdmVyeShhcmd2WzE6XSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxlbihhcmdzKSA9PSAwIGFuZCBzZWxmLmRlZmF1bHRUZXN0IGlzIE5vbmU6CiAgICAgICAgICAgICMgY3JlYXRlVGVzdHMgd2lsbCBsb2FkIHRlc3RzIGZyb20gc2VsZi5tb2R1bGUKICAgICAgICAgICAgc2VsZi50ZXN0TmFtZXMgPSBOb25lCiAgICAgICAgZWxpZiBsZW4oYXJncykgPiAwOgogICAgICAgICAgICBzZWxmLnRlc3ROYW1lcyA9IF9jb252ZXJ0X25hbWVzKGFyZ3MpCiAgICAgICAgICAgIGlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICAgICAgICAgICAgICAjIHRvIHN1cHBvcnQgcHl0aG9uIC1tIHVuaXR0ZXN0IC4uLgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZXN0TmFtZXMgPSAoc2VsZi5kZWZhdWx0VGVzdCwpCiAgICAgICAgc2VsZi5jcmVhdGVUZXN0cygpCgogICAgZGVmIGNyZWF0ZVRlc3RzKHNlbGYpOgogICAgICAgIGlmIHNlbGYudGVzdE5hbWVzIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudGVzdCA9IHNlbGYudGVzdExvYWRlci5sb2FkVGVzdHNGcm9tTW9kdWxlKHNlbGYubW9kdWxlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudGVzdCA9IHNlbGYudGVzdExvYWRlci5sb2FkVGVzdHNGcm9tTmFtZXMoc2VsZi50ZXN0TmFtZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUpCgogICAgZGVmIF9kb19kaXNjb3Zlcnkoc2VsZiwgYXJndiwgTG9hZGVyPWxvYWRlci5UZXN0TG9hZGVyKToKICAgICAgICAjIGhhbmRsZSBjb21tYW5kIGxpbmUgYXJncyBmb3IgdGVzdCBkaXNjb3ZlcnkKICAgICAgICBzZWxmLnByb2dOYW1lID0gJyVzIGRpc2NvdmVyJyAlIHNlbGYucHJvZ05hbWUKICAgICAgICBpbXBvcnQgb3B0cGFyc2UKICAgICAgICBwYXJzZXIgPSBvcHRwYXJzZS5PcHRpb25QYXJzZXIoKQogICAgICAgIHBhcnNlci5wcm9nID0gc2VsZi5wcm9nTmFtZQogICAgICAgIHBhcnNlci5hZGRfb3B0aW9uKCctdicsICctLXZlcmJvc2UnLCBkZXN0PSd2ZXJib3NlJywgZGVmYXVsdD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdWZXJib3NlIG91dHB1dCcsIGFjdGlvbj0nc3RvcmVfdHJ1ZScpCiAgICAgICAgaWYgc2VsZi5mYWlsZmFzdCAhPSBGYWxzZToKICAgICAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy1mJywgJy0tZmFpbGZhc3QnLCBkZXN0PSdmYWlsZmFzdCcsIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9J1N0b3Agb24gZmlyc3QgZmFpbCBvciBlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbj0nc3RvcmVfdHJ1ZScpCiAgICAgICAgaWYgc2VsZi5jYXRjaGJyZWFrICE9IEZhbHNlOgogICAgICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLWMnLCAnLS1jYXRjaCcsIGRlc3Q9J2NhdGNoYnJlYWsnLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdDYXRjaCBjdHJsLUMgYW5kIGRpc3BsYXkgcmVzdWx0cyBzbyBmYXInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249J3N0b3JlX3RydWUnKQogICAgICAgIGlmIHNlbGYuYnVmZmVyICE9IEZhbHNlOgogICAgICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLWInLCAnLS1idWZmZXInLCBkZXN0PSdidWZmZXInLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdCdWZmZXIgc3Rkb3V0IGFuZCBzdGRlcnIgZHVyaW5nIHRlc3RzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPSdzdG9yZV90cnVlJykKICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLXMnLCAnLS1zdGFydC1kaXJlY3RvcnknLCBkZXN0PSdzdGFydCcsIGRlZmF1bHQ9Jy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IkRpcmVjdG9yeSB0byBzdGFydCBkaXNjb3ZlcnkgKCcuJyBkZWZhdWx0KSIpCiAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy1wJywgJy0tcGF0dGVybicsIGRlc3Q9J3BhdHRlcm4nLCBkZWZhdWx0PSd0ZXN0Ki5weScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUGF0dGVybiB0byBtYXRjaCB0ZXN0cyAoJ3Rlc3QqLnB5JyBkZWZhdWx0KSIpCiAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy10JywgJy0tdG9wLWxldmVsLWRpcmVjdG9yeScsIGRlc3Q9J3RvcCcsIGRlZmF1bHQ9Tm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdUb3AgbGV2ZWwgZGlyZWN0b3J5IG9mIHByb2plY3QgKGRlZmF1bHRzIHRvIHN0YXJ0IGRpcmVjdG9yeSknKQoKICAgICAgICBvcHRpb25zLCBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoYXJndikKICAgICAgICBpZiBsZW4oYXJncykgPiAzOgogICAgICAgICAgICBzZWxmLnVzYWdlRXhpdCgpCgogICAgICAgIGZvciBuYW1lLCB2YWx1ZSBpbiB6aXAoKCdzdGFydCcsICdwYXR0ZXJuJywgJ3RvcCcpLCBhcmdzKToKICAgICAgICAgICAgc2V0YXR0cihvcHRpb25zLCBuYW1lLCB2YWx1ZSkKCiAgICAgICAgIyBvbmx5IHNldCBvcHRpb25zIGZyb20gdGhlIHBhcnNpbmcgaGVyZQogICAgICAgICMgaWYgdGhleSB3ZXJlbid0IHNldCBleHBsaWNpdGx5IGluIHRoZSBjb25zdHJ1Y3RvcgogICAgICAgIGlmIHNlbGYuZmFpbGZhc3QgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5mYWlsZmFzdCA9IG9wdGlvbnMuZmFpbGZhc3QKICAgICAgICBpZiBzZWxmLmNhdGNoYnJlYWsgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5jYXRjaGJyZWFrID0gb3B0aW9ucy5jYXRjaGJyZWFrCiAgICAgICAgaWYgc2VsZi5idWZmZXIgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5idWZmZXIgPSBvcHRpb25zLmJ1ZmZlcgoKICAgICAgICBpZiBvcHRpb25zLnZlcmJvc2U6CiAgICAgICAgICAgIHNlbGYudmVyYm9zaXR5ID0gMgoKICAgICAgICBzdGFydF9kaXIgPSBvcHRpb25zLnN0YXJ0CiAgICAgICAgcGF0dGVybiA9IG9wdGlvbnMucGF0dGVybgogICAgICAgIHRvcF9sZXZlbF9kaXIgPSBvcHRpb25zLnRvcAoKICAgICAgICBsb2FkZXIgPSBMb2FkZXIoKQogICAgICAgIHNlbGYudGVzdCA9IGxvYWRlci5kaXNjb3ZlcihzdGFydF9kaXIsIHBhdHRlcm4sIHRvcF9sZXZlbF9kaXIpCgogICAgZGVmIHJ1blRlc3RzKHNlbGYpOgogICAgICAgIGlmIHNlbGYuY2F0Y2hicmVhazoKICAgICAgICAgICAgaW5zdGFsbEhhbmRsZXIoKQogICAgICAgIGlmIHNlbGYudGVzdFJ1bm5lciBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnRlc3RSdW5uZXIgPSBydW5uZXIuVGV4dFRlc3RSdW5uZXIKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYudGVzdFJ1bm5lciwgdHlwZSk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRlc3RSdW5uZXIgPSBzZWxmLnRlc3RSdW5uZXIodmVyYm9zaXR5PXNlbGYudmVyYm9zaXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsZmFzdD1zZWxmLmZhaWxmYXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI9c2VsZi5idWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzPXNlbGYud2FybmluZ3MpCiAgICAgICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICAgICAjIGRpZG4ndCBhY2NlcHQgdGhlIHZlcmJvc2l0eSwgYnVmZmVyIG9yIGZhaWxmYXN0IGFyZ3VtZW50cwogICAgICAgICAgICAgICAgdGVzdFJ1bm5lciA9IHNlbGYudGVzdFJ1bm5lcigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBpdCBpcyBhc3N1bWVkIHRvIGJlIGEgVGVzdFJ1bm5lciBpbnN0YW5jZQogICAgICAgICAgICB0ZXN0UnVubmVyID0gc2VsZi50ZXN0UnVubmVyCiAgICAgICAgc2VsZi5yZXN1bHQgPSB0ZXN0UnVubmVyLnJ1bihzZWxmLnRlc3QpCiAgICAgICAgaWYgc2VsZi5leGl0OgogICAgICAgICAgICBzeXMuZXhpdChub3Qgc2VsZi5yZXN1bHQud2FzU3VjY2Vzc2Z1bCgpKQoKbWFpbiA9IFRlc3RQcm9ncmFtCg=='
}


function readFromVFS(lib){
   //borrowed code from http://stackoverflow.com/questions/1119722/base-62-conversion-in-python
   if (window.atob === undefined) {
      // browser is not chrome, firefox or safari :(
      window.atob=function(s) {
        var e={},i,k,v=[],r='',w=String.fromCharCode;
        var n=[[65,91],[97,123],[48,58],[43,44],[47,48]];

        for(z in n){for(i=n[z][0];i<n[z][1];i++){v.push(w(i));}}
        for(i=0;i<64;i++){e[v[i]]=i;}

        for(i=0;i<s.length;i+=72){
           var b=0,c,x,l=0,o=s.substring(i,i+72);
           for(x=0;x<o.length;x++){
              c=e[o.charAt(x)];b=(b<<6)+c;l+=6;
              while(l>=8){r+=w((b>>>(l-=8))%256);}
           }
        }
        return r;
      }
   }

   if (__BRYTHON__.$py_VFS[lib] === undefined) return undefined
   //retrieve module from virutal file system and return contents
   return window.atob(__BRYTHON__.$py_VFS[lib])
}


function $import_pyj_module(module,alias,names,path,module_contents) {
    __BRYTHON__.$py_module_path[module]=path
    __BRYTHON__.$py_module_alias[module]=alias
    __BRYTHON__.scope[module+'.py']={}
    __BRYTHON__.scope[module+'.py'].__dict__={}

   try {
     eval(module_contents);
     // add names defined in the module as attributes of $module
     for(var attr in __BRYTHON__.scope[module].__dict__){
       $module[attr] = __BRYTHON__.scope[module].__dict__[attr]
     }
        
     // add class and __str__
     $module.__class__ = $type
     $module.__repr__ = function(){return "<module '"+module+"' from "+path+" >"}
     $module.__str__ = function(){return "<module '"+module+"' from "+path+" >"}
     $module.__file__ = path
     return $module
   } catch(err) {
     eval('throw '+err.name+'(err.message)')
   }
}

//define import procedure to look up module in VFS
$import_via_VFS=function(module,alias,names){
  var ext=['.js', '.pyj', '.py']
  var search_path=__BRYTHON__.path
  var root = __BRYTHON__.brython_path;
  if (root.endswith('/')) {
     root=root.substring(0,root.length-1); 
  }
  if (search_path.indexOf(root+'/libs') == -1) {
     search_path.unshift(root+'/libs')
  }

  if (search_path.indexOf(root+'/Lib') == -1) {
     search_path.unshift(root+'/Lib')
  }

  for(var i=0; i<search_path.length; i++) {
     for (var j=0; j<ext.length; j++) {
         var path=search_path[i].replace(root, '')
         path+='/'+module+ext[j]
         
         //console.log("searching for " + path + " in VFS");
         var module_contents=readFromVFS(path)
         if(module_contents !== undefined) {
           console.log("imported ("+module+") via VFS:" + path)
           if (ext[j] == '.js') {
              return $import_js_module(module,alias,names,path,module_contents)
           }
           if (ext[j] == '.pyj') {
              return $import_pyj_module(module,alias,names,path,module_contents)
           }
           return $import_py_module(module,alias,names,path,module_contents)
         }
     }
  }
  res = Error()
  res.name = 'NotFoundError'
  res.message = "No module named '"+module+"'"
  throw res
}
$import_funcs.unshift($import_via_VFS)
  