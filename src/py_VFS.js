__BRYTHON__.$py_VFS={
'/libs/svg.js':'JG1vZHVsZT0oZnVuY3Rpb24oKXskc3ZnTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjskeGxpbmtOUz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI7ZnVuY3Rpb24gJFNWR1RhZyh0YWdfbmFtZSxhcmdzKXt2YXIgJGk9bnVsbDt2YXIgJG9iaj10aGlzO2VsdD0kRE9NTm9kZShkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJHN2Z05TLHRhZ19uYW1lKSk7aWYoYXJncyE9dW5kZWZpbmVkJiZhcmdzLmxlbmd0aD4wKXskc3RhcnQ9MDskZmlyc3Q9YXJnc1swXTtpZighaXNpbnN0YW5jZSgkZmlyc3QsJEt3KSl7JHN0YXJ0PTE7aWYoaXNpbnN0YW5jZSgkZmlyc3QsW3N0cixpbnQsZmxvYXRdKSl7dHh0PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cigkZmlyc3QpKTtlbHQuYXBwZW5kQ2hpbGQodHh0KTt9ZWxzZSBpZihpc2luc3RhbmNlKCRmaXJzdCwkQWJzdHJhY3RUYWcpKWZvcigkaT0wOyRpPCRmaXJzdC5jaGlsZHJlbi5sZW5ndGg7JGkrKyllbHQuYXBwZW5kQ2hpbGQoJGZpcnN0LmNoaWxkcmVuWyRpXSk7ZWxzZSB0cnl7ZWx0LmFwcGVuZENoaWxkKCRmaXJzdCk7fWNhdGNoKGVycil7JHJhaXNlKCdWYWx1ZUVycm9yJywnd3JvbmcgZWxlbWVudCAnKyRmaXJzdCk7fX1mb3IoJGk9JHN0YXJ0OyRpPGFyZ3MubGVuZ3RoOyRpKyspeyRhcmc9YXJnc1skaV07aWYoaXNpbnN0YW5jZSgkYXJnLCRLdykpaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkuc3Vic3RyKDAsMik9PSJvbiIpZXZhbCgnZWx0LicrJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkrJz1mdW5jdGlvbigpeycrJGFyZy52YWx1ZSsnfScpO2Vsc2UgaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCk9PSJzdHlsZSIpZWx0LnNldF9zdHlsZSgkYXJnLnZhbHVlKTtlbHNlIGlmKCRhcmcubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImhyZWYiKSE9PS0xKWVsdC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsImhyZWYiLCRhcmcudmFsdWUpO2Vsc2UgaWYoJGFyZy52YWx1ZSE9PWZhbHNlKWVsdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCRhcmcubmFtZS5yZXBsYWNlKCdfJywnLScpLCRhcmcudmFsdWUpO319cmV0dXJuIGVsdDt9dmFyICRzdmdfdGFncz1bJ2EnLCdhbHRHbHlwaCcsJ2FsdEdseXBoRGVmJywnYWx0R2x5cGhJdGVtJywnYW5pbWF0ZScsJ2FuaW1hdGVDb2xvcicsJ2FuaW1hdGVNb3Rpb24nLCdhbmltYXRlVHJhbnNmb3JtJywnY2lyY2xlJywnY2xpcFBhdGgnLCdjb2xvcl9wcm9maWxlJywnY3Vyc29yJywnZGVmcycsJ2Rlc2MnLCdlbGxpcHNlJywnZmVCbGVuZCcsJ2cnLCdpbWFnZScsJ2xpbmUnLCdsaW5lYXJHcmFkaWVudCcsJ21hcmtlcicsJ21hc2snLCdwYXRoJywncGF0dGVybicsJ3BvbHlnb24nLCdwb2x5bGluZScsJ3JhZGlhbEdyYWRpZW50JywncmVjdCcsJ3N0b3AnLCdzdmcnLCd0ZXh0JywndHJlZicsJ3RzcGFuJywndXNlJ107JHN2Zz1mdW5jdGlvbigpe3JldHVybiAkU1ZHVGFnKCdYJyxhcmd1bWVudHMpO307JHN2Zys9Jyc7dmFyIG9iaj1uZXcgT2JqZWN0KCk7Zm9yKHZhciBpPTA7aTwkc3ZnX3RhZ3MubGVuZ3RoO2krKyl7dmFyIHRhZz0kc3ZnX3RhZ3NbaV07ZXZhbCgnb2JqLicrdGFnKyc9Jyskc3ZnLnJlcGxhY2UoJ1gnLHRhZykpO31vYmouX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fTtyZXR1cm4gb2JqO30pKCk7',
'/libs/json.js':'ZnVuY3Rpb24gX3B5KG9iail7aWYob2JqPT09bnVsbClyZXR1cm4gTm9uZTtpZihpc2luc3RhbmNlKG9iaixsaXN0KSl7dmFyIHJlcz1bXTtmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKXJlcy5wdXNoKF9weShvYmpbaV0pKTtyZXR1cm4gcmVzO31pZihvYmouX19jbGFzc19fIT09dW5kZWZpbmVkJiYodHlwZW9mIG9iaiE9PSdmdW5jdGlvbicpKXJldHVybiBvYmo7aWYodHlwZW9mIG9iaj09PSdvYmplY3QnJiZvYmouX19jbGFzc19fPT09dW5kZWZpbmVkKXt2YXIgcmVzPWRpY3QoKTtmb3IodmFyIGF0dHIgaW4gb2JqKXJlcy5fX3NldGl0ZW1fXyhhdHRyLF9weShvYmpbYXR0cl0pKTtyZXR1cm4gcmVzO31yZXR1cm4gSlNPYmplY3Qob2JqKTt9ZnVuY3Rpb24gX2pzKG9iail7aWYoaXNpbnN0YW5jZShvYmosW2ludCxzdHJdKSlyZXR1cm4gb2JqO2Vsc2UgaWYob2JqPT09Tm9uZSlyZXR1cm4gbnVsbDtlbHNlIGlmKG9iaj09PVRydWUpcmV0dXJuIHRydWU7ZWxzZSBpZihvYmo9PT1GYWxzZSlyZXR1cm4gZmFsc2U7ZWxzZSBpZihpc2luc3RhbmNlKG9iaixmbG9hdCkpcmV0dXJuIG9iai52YWx1ZTtlbHNlIGlmKGlzaW5zdGFuY2Uob2JqLFtsaXN0LHR1cGxlXSkpe3ZhciByZXM9W107Zm9yKHZhciBpPTA7aTxvYmoubGVuZ3RoO2krKylyZXMucHVzaChfanMob2JqW2ldKSk7cmV0dXJuIHJlczt9ZWxzZSBpZihpc2luc3RhbmNlKG9iaixkaWN0KSl7dmFyIHJlcz1uZXcgT2JqZWN0KCk7Zm9yKHZhciBpPTA7aTxvYmouJGtleXMubGVuZ3RoO2krKylyZXNbb2JqLiRrZXlzW2ldXT1vYmouJHZhbHVlc1tpXTtyZXR1cm4gcmVzO31lbHNlIHRocm93IFR5cGVFcnJvcihzdHIob2JqKSsnIGlzIG5vdCBKU09OIHNlcmlhbGl6YWJsZScpO30kbW9kdWxlPXtfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXtyZXR1cm4gdGhpc1thdHRyXTt9LGxvYWRzOmZ1bmN0aW9uKGpzb25fb2JqKXtyZXR1cm4gX3B5KEpTT04ucGFyc2UoanNvbl9vYmopKTt9LGR1bXBzOmZ1bmN0aW9uKG9iail7cmV0dXJuIEpTT04uc3RyaW5naWZ5KF9qcyhvYmopKTt9fTs=',
'/libs/datetime.js':'dmFyIG1zZWNQZXJNaW49NjAwMDA7dmFyIG1zZWNQZXJIcj1tc2VjUGVyTWluKjYwO3ZhciBtc2VjUGVyRGF5PW1zZWNQZXJIcioyNDt2YXIgbXNlY1BlcldrPW1zZWNQZXJEYXkqMjQqNzt2YXIgZnJvbV9tc2Vjcz1mdW5jdGlvbihtc2Vjcyl7dmFyIHdlZWtzPX5+KG1zZWNzL21zZWNQZXJXayk7bXNlY3MlPW1zZWNQZXJXazt2YXIgZGF5cz1+fihtc2Vjcy9tc2VjUGVyRGF5KTttc2VjcyU9bXNlY1BlckRheTt2YXIgaG91cnM9fn4obXNlY3MvbXNlY1BlckhyKTttc2VjcyU9bXNlY1BlckhyO3ZhciBtaW51dGVzPX5+KG1zZWNzL21zZWNQZXJNaW4pO21zZWNzJT1tc2VjUGVyTWluO3ZhciBzZWNvbmRzPU1hdGguZmxvb3IobXNlY3MvMTAwMCk7bXNlY3MlPTEwMDA7cmV0dXJuIFt3ZWVrcyxkYXlzLGhvdXJzLG1pbnV0ZXMsc2Vjb25kcyxtc2Vjc107fTt2YXIgdG9fbXNlY3M9ZnVuY3Rpb24od2Vla3MsZGF5cyxob3VycyxtaW51dGVzLHNlY29uZHMsbXNlY3Mpe3JldHVybiB3ZWVrcyptc2VjUGVyV2srZGF5cyptc2VjUGVyRGF5K2hvdXJzKm1zZWNQZXJIcittaW51dGVzKm1zZWNQZXJNaW4rbXNlY3M7fTtmdW5jdGlvbiAkVGltZURlbHRhQ2xhc3MoKXtyZXR1cm4gbmV3ICRUaW1lRGVsdGEoYXJndW1lbnRzKTt9JFRpbWVEZWx0YUNsYXNzLl9fY2xhc3NfXz0kdHlwZTskVGltZURlbHRhQ2xhc3MuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiAiPGNsYXNzICdkYXRldGltZS50aW1lZGVsdGEnPiI7fTskVGltZURlbHRhQ2xhc3MuX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7aWYoYXR0cj09J21pbicpcmV0dXJuIG5ldyB0aW1lZGVsdGEoLTk5OTk5OTk5OSk7aWYoYXR0cj09J21heCcpcmV0dXJuIG5ldyB0aW1lZGVsdGEoOTk5OTk5OTk5LDI0KjM2MDAtMSwxZTYtMSk7aWYoYXR0cj09J3Jlc29sdXRpb24nKXJldHVybiBuZXcgdGltZWRlbHRhKDAsMCwxKTt9O2Z1bmN0aW9uICRUaW1lRGVsdGEoYXJncyl7dmFyICRucz0kTWFrZUFyZ3MoInRpbWVkZWx0YSIsYXJncyxbXSx7J2RheXMnOjAsJ3NlY29uZHMnOjAsJ21pY3Jvc2Vjb25kcyc6MCwnbWlsbGlzZWNvbmRzJzowLCdtaW51dGVzJzowLCdob3Vycyc6MCwnd2Vla3MnOjB9LG51bGwsbnVsbCk7dGhpcy5kYXlzPSRucy5kYXlzO3RoaXMuc2Vjcz0kbnMuc2Vjb25kczt0aGlzLnVzPSRucy5taWNyb3NlY29uZHM7dmFyIG1zZWNzPSRucy5taWxsaXNlY29uZHM7dGhpcy51cys9bXNlY3MqMTAwMDt2YXIgbWludXRlcz0kbnMubWludXRlczt0aGlzLnNlY3MrPW1pbnV0ZXMqNjA7dmFyIGhvdXJzPSRucy5ob3Vyczt0aGlzLnNlY3MrPWhvdXJzKjM2MDA7dmFyIHdlZWtzPSRucy53ZWVrczt0aGlzLmRheXMrPXdlZWtzKjc7dGhpcy5zZWNzKz1+fih0aGlzLnVzLzEwMDAwMDApO3RoaXMudXMlPTEwMDAwMDA7dGhpcy5kYXlzKz1+fih0aGlzLnNlY3MvODY0MDApO3RoaXMuc2VjcyU9ODY0MDA7aWYodGhpcy5kYXlzPC05OTk5OTk5OTl8fHRoaXMuZGF5cz45OTk5OTk5OTkpJHJhaXNlKCdPdmVyZmxvd0Vycm9yJywnZGF5cyBpcyBhbiBpbnZhbGlkIHZhbHVlOiBkYXlzPScrdGhpcy5kYXlzKTt0aGlzLl9fYWJzX189ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRpbWVkZWx0YShhYnModGhpcy5kYXlzKSxhYnModGhpcy5zZWNzKSxhYnModGhpcy51cykpO307dGhpcy5fX2NsYXNzX189JFRpbWVEZWx0YUNsYXNzO3RoaXMuX19tc2Vjc19fPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXMvMTAwMCt0aGlzLnNlY3MqMTAwMCt0aGlzLmRheXMqbXNlY1BlckRheTt9O3RoaXMuX19hZGRfXz1mdW5jdGlvbihvdGhlcil7aWYoaXNpbnN0YW5jZShvdGhlciwkRGF0ZSl8fGlzaW5zdGFuY2Uob3RoZXIsJERhdGVUaW1lKSl7dmFyIGQ9bmV3IERhdGUoKTtkLnNldHRpbWUodGhpcy5fX21zZWNzX18oKStvdGhlci4kanNfZGF0ZS5nZXRUaW1lKCkpO3JldHVybiBuZXcgJERhdGVUaW1lKGQueWVhcixkLm1vbnRoLGQuZGF5LGQuaG91cixkLm1pbnV0ZSxkLnNlY29uZCxkLm1pbGxpc2Vjb25kcyoxMDAwKTt9ZWxzZSBpZihpc2luc3RhbmNlKG90aGVyLHRpbWVkZWx0YSkpcmV0dXJuIG5ldyB0aW1lZGVsdGEoMCwwLDAsdGhpcy5fX21zZWNzX18oKStvdGhlci5fX21zZWNzX18oKSk7JHJhaXNlKCdUeXBlRXJyb3InLCJ1bnN1cHBvcnRlZCBvcGVyYW5kIHR5cGUocykgZm9yICs6ICdkYXRldGltZS50aW1lZGVsdGEnIGFuZCAnIitvdGhlci5fX2NsYXNzX18rIiciKTt9O3RoaXMuX19kaXZfXz1mdW5jdGlvbihvdGhlcil7aWYoaXNpbnN0YW5jZShvdGhlcixpbnQpfHxpc2luc3RhbmNlKG90aGVyLGZsb2F0KSlyZXR1cm4gbmV3IHRpbWVkZWx0YSgwLDAsMCx0aGlzLl9fbXNlY3NfXygpL290aGVyLnZhbHVlT2YoKSk7ZWxzZSBpZihpc2luc3RhbmNlKG90aGVyLHRpbWVkZWx0YSkpcmV0dXJuIG5ldyB0aW1lZGVsdGEoMCwwLDAsdGhpcy5fX21zZWNzX18oKS9vdGhlci5fX21zZWNzX18oKSk7JHJhaXNlKCdUeXBlRXJyb3InLCJ1bnN1cHBvcnRlZCBvcGVyYW5kIHR5cGUocykgZm9yIC86ICdkYXRldGltZS50aW1lZGVsdGEnIGFuZCAnIitvdGhlci5fX2NsYXNzX18rIiciKTt9O3RoaXMuX19lcV9fPWZ1bmN0aW9uKG90aGVyKXtyZXR1cm4gdGhpcy5fX21zZWNzX18oKT09b3RoZXIuX19tc2Vjc19fKCk7fTt0aGlzLl9fZ2V0YXR0cl9fPWZ1bmN0aW9uKGF0dHIpe2lmKGF0dHI9PSdtaWNyb3NlY29uZHMnKXJldHVybiAkZ2V0YXR0cih0aGlzLCd1cycpO2lmKGF0dHI9PSdzZWNvbmRzJylyZXR1cm4gJGdldGF0dHIodGhpcywnc2VjcycpO3JldHVybiAkZ2V0YXR0cih0aGlzLGF0dHIpO307dGhpcy5fX2d0X189ZnVuY3Rpb24ob3RoZXIpe3JldHVybiB0aGlzLl9fbXNlY3NfXygpPm90aGVyLl9fbXNlY3NfXygpO307dGhpcy5fX2x0X189ZnVuY3Rpb24ob3RoZXIpe3JldHVybiB0aGlzLl9fbXNlY3NfXygpPG90aGVyLl9fbXNlY3NfXygpO307dGhpcy5fX211bF9fPWZ1bmN0aW9uKG90aGVyKXtpZihpc2luc3RhbmNlKG90aGVyLGludCl8fGlzaW5zdGFuY2Uob3RoZXIsZmxvYXQpKXJldHVybiBuZXcgdGltZWRlbHRhKDAsMCwwLHRoaXMuX19tc2Vjc19fKCkqb3RoZXIudmFsdWVPZigpKTtlbHNlIGlmKGlzaW5zdGFuY2Uob3RoZXIsdGltZWRlbHRhKSlyZXR1cm4gbmV3IHRpbWVkZWx0YSgwLDAsMCx0aGlzLl9fbXNlY3NfXygpKm90aGVyLl9fbXNlY3NfXygpKTskcmFpc2UoJ1R5cGVFcnJvcicsInVuc3VwcG9ydGVkIG9wZXJhbmQgdHlwZShzKSBmb3IgKjogJ2RhdGV0aW1lLnRpbWVkZWx0YScgYW5kICciK290aGVyLl9fY2xhc3NfXysiJyIpO307dGhpcy5fX25lZ19fPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aW1lZGVsdGEoLXRoaXMuZGF5cywtdGhpcy5zZWNzLC10aGlzLnVzKTt9O3RoaXMudG90YWxfc2Vjb25kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fbXNlY3NfXygpLzEwMDA7fTt0aGlzLl9fc3ViX189ZnVuY3Rpb24ob3RoZXIpe2lmKGlzaW5zdGFuY2Uob3RoZXIsdGltZWRlbHRhKSlyZXR1cm4gbmV3IHRpbWVkZWx0YSgwLDAsMCx0aGlzLl9fbXNlY3NfXygpLW90aGVyLl9fbXNlY3NfXygpKTskcmFpc2UoJ1R5cGVFcnJvcicsInVuc3VwcG9ydGVkIG9wZXJhbmQgdHlwZShzKSBmb3IgLTogJ2RhdGV0aW1lLnRpbWVkZWx0YScgYW5kICciK290aGVyLl9fY2xhc3NfXysiJyIpO307dGhpcy5fX3N0cl9fPWZ1bmN0aW9uKCl7dmFyIHdlZWtzLGRheXMsaG91cnMsbWludXRlcyxzZWNvbmRzLG1zZWNzO3ZhciBhPWZyb21fbXNlY3ModGhpcy5fX21zZWNzX18oKSk7Y29uc29sZS5sb2coYSk7dmFyIGE9bmV3IEFycmF5KGRheXMsc2Vjb25kcywwLG1zZWNzLG1pbnV0ZXMsaG91cnMsd2Vla3MpO3ZhciBwb3M9MDtpZih3ZWVrcz4wKXBvcz03O2Vsc2UgaWYoaG91cnM+MClwb3M9NjtlbHNlIGlmKG1pbnV0ZXM+MClwb3M9NTtlbHNlIGlmKG1zZWNzPjApcG9zPTQ7ZWxzZSBpZihzZWNvbmRzPjApcG9zPTM7ZWxzZSBpZihkYXlzPjApcG9zPTE7dmFyIG15YXJncz1hLnNwbGljZSgwLHBvcyk7Y29uc29sZS5sb2cobXlhcmdzKTtyZXR1cm4gJ2RhdGV0aW1lLnRpbWVkZWx0YSgnK215YXJncy5qb2luKCcsJykrJyknO307fWZ1bmN0aW9uICREYXRlQ2xhc3MoKXtyZXR1cm4gbmV3ICREYXRlKGFyZ3VtZW50cyk7fSREYXRlQ2xhc3MuX19jbGFzc19fPSR0eXBlOyREYXRlQ2xhc3MuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiAiPGNsYXNzICdkYXRldGltZS5kYXRlJz4iO307ZnVuY3Rpb24gJERhdGUoYXJncyl7aWYoYXJncy5sZW5ndGg+MykkcmFpc2UoJ1R5cGVFcnJvcicsIlRvbyBtYW55IGFyZ3VtZW50cyAtIHJlcXVpcmVkIDMsIGdvdCAiK2FyZ3MubGVuZ3RoKTt2YXIgb2JqPW5ldyAkRGF0ZVRpbWUoYXJncyk7dGhpcy55ZWFyPW9iai55ZWFyO3RoaXMubW9udGg9b2JqLm1vbnRoO3RoaXMuZGF5PW9iai5kYXk7dGhpcy4kZHQ9b2JqO3RoaXMuX19hZGRfXz1mdW5jdGlvbihvdGhlcil7aWYoaXNpbnN0YW5jZShvdGhlcix0aW1lZGVsdGEpKXt2YXIgZD1uZXcgRGF0ZSgpO2Quc2V0VGltZShvYmouJGpzX2RhdGUuZ2V0VGltZSgpK290aGVyLl9fbXNlY3NfXygpKTtyZXR1cm4gbmV3IGRhdGV0aW1lKGQuZ2V0RnVsbFllYXIoKSxkLmdldE1vbnRoKCkrMSxkLmdldERhdGUoKSxkLmdldEhvdXJzKCksZC5nZXRNaW51dGVzKCksZC5nZXRTZWNvbmRzKCksZC5nZXRNaWxsaXNlY29uZHMoKSk7fSRyYWlzZSgnVHlwZUVycm9yJywidW5vcmRlcmFibGUgdHlwZXM6IGRhdGV0aW1lLmRhdGUoKSA8ICIrb3RoZXIuX19jbGFzc19fKyIoKSIpO307dGhpcy5fX2NsYXNzX189JERhdGVDbGFzczt0aGlzLl9fZGl2X189ZnVuY3Rpb24ob3RoZXIpeyRyYWlzZSgnVHlwZUVycm9yJywidW5zdXBwb3J0ZWQgb3BlcmFuZCB0eXBlKHMpIGZvciAvOiAnZGF0ZXRpbWUuZGF0ZScgYW5kICciK290aGVyLl9fY2xhc3NfXysiJyIpO307dGhpcy5fX2dldGF0dHJfXz1mdW5jdGlvbihhdHRyKXtyZXR1cm4gJGdldGF0dHIodGhpcyxhdHRyKTt9O3RoaXMuX19ndF9fPWZ1bmN0aW9uKG90aGVyKXtpZighaXNpbnN0YW5jZShvdGhlcixkYXRlKSkkcmFpc2UoJ1R5cGVFcnJvcicsInVub3JkZXJhYmxlIHR5cGVzOiBkYXRldGltZS5kYXRlKCkgPCAiK290aGVyLl9fY2xhc3NfXysiKCkiKTtyZXR1cm4gb2JqLiRqc19kYXRlLmdldFRpbWUoKT5vdGhlci4kanNfZGF0ZS5nZXRUaW1lKCk7fTt0aGlzLl9faGFzaF9fPWZ1bmN0aW9uKCl7cmV0dXJuIGhhc2godHVwbGUodGhpcy55ZWFyLHRoaXMubW9udGgsdGhpcy5kYXkpKTt9O3RoaXMuX19sdF9fPWZ1bmN0aW9uKG90aGVyKXtpZighaXNpbnN0YW5jZShvdGhlciwkRGF0ZSkpJHJhaXNlKCdUeXBlRXJyb3InLCJ1bm9yZGVyYWJsZSB0eXBlczogZGF0ZXRpbWUuZGF0ZSgpIDwgIitvdGhlci5fX2NsYXNzX18rIigpIik7cmV0dXJuIG9iai4kanNfZGF0ZS5nZXRUaW1lKCk8b3RoZXIuJGpzX2RhdGUuZ2V0VGltZSgpO307dGhpcy5fX211bF9fPWZ1bmN0aW9uKG90aGVyKXskcmFpc2UoJ1R5cGVFcnJvcicsInVuc3VwcG9ydGVkIG9wZXJhbmQgdHlwZShzKSBmb3IgKjogJ2RhdGV0aW1lLmRhdGUnIGFuZCAnIitvdGhlci5fX2NsYXNzX18rIiciKTt9O3RoaXMuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmZ0aW1lKCclWS0lbS0lZCcpO307dGhpcy5fX3N1Yl9fPWZ1bmN0aW9uKG90aGVyKXtpZihpc2luc3RhbmNlKG90aGVyLGRhdGUpKXt2YXIgbXNlY3M9b2JqLiRqc19kYXRlLmdldFRpbWUoKS1vdGhlci4kanNfZGF0ZS5nZXRUaW1lKCk7dmFyIHdlZWtzLGRheXMsaG91cnMsbWludXRlcyxzZWNvbmRzLG1zZWNzPWZyb21fbXNlY3MobXNlY3MpO3JldHVybiBuZXcgdGltZWRlbHRhKGRheXMsc2Vjb25kcywwLG1zZWNzLG1pbnV0ZXMsaG91cnMsd2Vla3MpO31pZihpc2luc3RhbmNlKG90aGVyLHRpbWVkZWx0YSkpe3ZhciBkPW5ldyBEYXRlKCk7ZC5zZXRUaW1lKG9iai4kanNfZGF0ZS5nZXRUaW1lKCktb3RoZXIuX19tc2Vjc19fKCkpO3JldHVybiBuZXcgZGF0ZXRpbWUoZC5nZXRGdWxsWWVhcigpLGQuZ2V0TW9udGgoKSsxLGQuZ2V0RGF0ZSgpLGQuZ2V0SG91cnMoKSxkLmdldE1pbnV0ZXMoKSxkLmdldFNlY29uZHMoKSxkLmdldE1pbGxpc2Vjb25kcygpKTt9JHJhaXNlKCdUeXBlRXJyb3InLCJ1bm9yZGVyYWJsZSB0eXBlczogZGF0ZXRpbWUuZGF0ZSgpIDwgIitvdGhlci5fX2NsYXNzX18rIigpIik7fTt0aGlzLnN0cmZ0aW1lPWZ1bmN0aW9uKGZtdCl7cmV0dXJuIHRoaXMuJGR0LnN0cmZ0aW1lKGZtdCk7fTt0aGlzLndlZWtkYXk9ZnVuY3Rpb24oZm10KXtyZXR1cm4gdGhpcy4kZHQud2Vla2RheShmbXQpO307fWZ1bmN0aW9uICREYXRlVGltZUNsYXNzKCl7cmV0dXJuIG5ldyAkRGF0ZVRpbWUoYXJndW1lbnRzKTt9JERhdGVUaW1lQ2xhc3MuX19jbGFzc19fPSR0eXBlOyREYXRlVGltZUNsYXNzLl9fc3RyX189ZnVuY3Rpb24oKXtyZXR1cm4gIjxjbGFzcyAnZGF0ZXRpbWUuZGF0ZXRpbWUnPiI7fTtmdW5jdGlvbiAkRGF0ZVRpbWUoYXJncyl7dGhpcy5fX2NsYXNzX189JERhdGVUaW1lQ2xhc3M7dmFyIGRheXNQZXJNb250aD1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2lmKGFyZ3MubGVuZ3RoPT0wKSRyYWlzZSgnVHlwZUVycm9yJywiUmVxdWlyZWQgYXJndW1lbnQgJ3llYXInIChwb3MgMSkgbm90IGZvdW5kIik7eWVhcj1hcmdzWzBdO2lmKGFyZ3MubGVuZ3RoPT0xKSRyYWlzZSgnVHlwZUVycm9yJywiUmVxdWlyZWQgYXJndW1lbnQgJ21vbnRoJyAocG9zIDIpIG5vdCBmb3VuZCIpO21vbnRoPWFyZ3NbMV07aWYoYXJncy5sZW5ndGg9PTIpJHJhaXNlKCdUeXBlRXJyb3InLCJSZXF1aXJlZCBhcmd1bWVudCAnZGF5JyAocG9zIDMpIG5vdCBmb3VuZCIpO2RheT1hcmdzWzJdO2lmKGFyZ3MubGVuZ3RoPjcpJHJhaXNlKCdUeXBlRXJyb3InLCJUb28gbWFueSBhcmd1bWVudHMgLSByZXF1aXJlZCA2LCBnb3QgIithcmdzLmxlbmd0aCk7aWYoYXJncy5sZW5ndGg+Mylob3VyPWFyZ3NbM107ZWxzZSBob3VyPTA7aWYoYXJncy5sZW5ndGg+NCltaW51dGU9YXJnc1s0XTtlbHNlIG1pbnV0ZT0wO2lmKGFyZ3MubGVuZ3RoPjUpc2Vjb25kPWFyZ3NbNV07ZWxzZSBzZWNvbmQ9MDtpZihhcmdzLmxlbmd0aD42KW1pY3Jvc2Vjb25kPWFyZ3NbNl07ZWxzZSBtaWNyb3NlY29uZD0wO2lmKCFpc2luc3RhbmNlKHllYXIsaW50KXx8IWlzaW5zdGFuY2UobW9udGgsaW50KXx8IWlzaW5zdGFuY2UoZGF5LGludCl8fCFpc2luc3RhbmNlKGhvdXIsaW50KXx8IWlzaW5zdGFuY2UobWludXRlLGludCl8fCFpc2luc3RhbmNlKHNlY29uZCxpbnQpfHwhaXNpbnN0YW5jZShtaWNyb3NlY29uZCxpbnQpKSRyYWlzZSgnVHlwZUVycm9yJywiYW4gaW50ZWdlciBpcyByZXF1aXJlZCIpO2lmKG1vbnRoPDF8fG1vbnRoPjEyKSRyYWlzZSgnVmFsdWVFcnJvcicsIm1vbnRoIG11c3QgYmUgaW4gMS4uMTIiKTt2YXIgbmJfZGF5cz1kYXlzUGVyTW9udGhbbW9udGgtMV07aWYobW9udGg9PTImJih5ZWFyJTQ9PTAmJih5ZWFyJTEwMD4wfHx5ZWFyJTQwMD09MCkpKW5iX2RheXM9Mjk7aWYoZGF5PDF8fGRheT5uYl9kYXlzKSRyYWlzZSgnVmFsdWVFcnJvcicsImRheSBpcyBvdXQgb2YgcmFuZ2UgZm9yIG1vbnRoIik7aWYoaG91cjwwfHxob3VyPjIzKSRyYWlzZSgnVmFsdWVFcnJvcicsImhvdXIgbXVzdCBiZSBpbiAwLi4yMyIpO2lmKG1pbnV0ZTwwfHxtaW51dGU+NTkpJHJhaXNlKCdWYWx1ZUVycm9yJywibWludXRlIG11c3QgYmUgaW4gMC4uNTkiKTtpZihzZWNvbmQ8MHx8c2Vjb25kPjU5KSRyYWlzZSgnVmFsdWVFcnJvcicsInNlY29uZCBtdXN0IGJlIGluIDAuLjU5Iik7aWYobWljcm9zZWNvbmQ8MHx8bWljcm9zZWNvbmQ+OTk5OTk5KSRyYWlzZSgnVmFsdWVFcnJvcicsIm1pY3Jvc2Vjb25kIG11c3QgYmUgaW4gMC4uOTk5OTk5Iik7dGhpcy55ZWFyPXllYXI7dGhpcy5tb250aD1tb250aDt0aGlzLmRheT1kYXk7dGhpcy5ob3VyPWhvdXI7dGhpcy5taW51dGU9bWludXRlO3RoaXMuc2Vjb25kPXNlY29uZDt0aGlzLm1pY3Jvc2Vjb25kPW1pY3Jvc2Vjb25kO3RoaXMuJGpzX2RhdGU9bmV3IERhdGUoeWVhcixtb250aC0xLGRheSxob3VyLG1pbnV0ZSxzZWNvbmQsbWljcm9zZWNvbmQvMTAwMCk7dGhpcy5fX2dldGF0dHJfXz1mdW5jdGlvbihhdHRyKXtyZXR1cm4gJGdldGF0dHIodGhpcyxhdHRyKTt9O3RoaXMuX19oYXNoX189ZnVuY3Rpb24oKXtyZXR1cm4gaGFzaCh0dXBsZSh0aGlzLnllYXIsdGhpcy5tb250aCx0aGlzLmRheSx0aGlzLmhvdXIsdGhpcy5taW51dGUsdGhpcy5zZWNvbmQsdGhpcy5taWNyb3NlY29uZCkpO307dGhpcy5fX2VxX189ZnVuY3Rpb24ob3RoZXIpe3JldHVybiB0aGlzLiRqc19kYXRlLmdldFRpbWUoKT09b3RoZXIuJGpzX2RhdGUuZ2V0VGltZSgpO307dGhpcy5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLm1pY3Jvc2Vjb25kP3RoaXMuc3RyZnRpbWUoJyVZLSVtLSVkICVIOiVNOiVTJyk6dGhpcy5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMuJWYnKTt9O3RoaXMubm9ybV9zdHI9ZnVuY3Rpb24oYXJnLG5iKXt2YXIgcmVzPXN0cihhcmcpO3doaWxlKHJlcy5sZW5ndGg8bmIpcmVzPScwJytyZXM7cmV0dXJuIHJlczt9O3RoaXMuc3RyZnRpbWU9ZnVuY3Rpb24oZm10KXtpZighaXNpbnN0YW5jZShmbXQsc3RyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJzdHJmdGltZSgpIGFyZ3VtZW50IHNob3VsZCBiZSBzdHIsIG5vdCAiKyRzdHIoZm10Ll9fY2xhc3NfXykpO3ZhciByZXM9Zm10O3Jlcz1yZXMucmVwbGFjZSgnJWQnLHRoaXMubm9ybV9zdHIodGhpcy5kYXksMikpO3Jlcz1yZXMucmVwbGFjZSgnJWYnLHRoaXMubm9ybV9zdHIodGhpcy5taWNyb3NlY29uZCw2KSk7cmVzPXJlcy5yZXBsYWNlKCclSCcsdGhpcy5ub3JtX3N0cih0aGlzLmhvdXIsMikpO3Jlcz1yZXMucmVwbGFjZSgnJUknLHRoaXMubm9ybV9zdHIoaW50KHRoaXMuaG91ci52YWx1ZSUxMiksMikpO3Jlcz1yZXMucmVwbGFjZSgnJW0nLHRoaXMubm9ybV9zdHIodGhpcy5tb250aCwyKSk7cmVzPXJlcy5yZXBsYWNlKCclTScsdGhpcy5ub3JtX3N0cih0aGlzLm1pbnV0ZSwyKSk7cmVzPXJlcy5yZXBsYWNlKCclUycsdGhpcy5ub3JtX3N0cih0aGlzLnNlY29uZCwyKSk7cmVzPXJlcy5yZXBsYWNlKCcleScsdGhpcy5ub3JtX3N0cih0aGlzLnllYXIsNCkuc3Vic3RyKDIpKTtyZXM9cmVzLnJlcGxhY2UoJyVZJyx0aGlzLm5vcm1fc3RyKHRoaXMueWVhciw0KSk7cmVzPXJlcy5yZXBsYWNlKCcldycsdGhpcy4kanNfZGF0ZS5nZXREYXkoKSk7cmV0dXJuIHN0cihyZXMpO307dGhpcy53ZWVrZGF5PWZ1bmN0aW9uKCl7dmFyIHdkPXRoaXMuJGpzX2RhdGUuZ2V0RGF5KCk7cmV0dXJuIHdkPT0wPzY6d2QtMTt9O31mdW5jdGlvbiAkVGltZUNsYXNzKCl7cmV0dXJuIG5ldyAkVGltZShhcmd1bWVudHMpO30kVGltZUNsYXNzLl9fY2xhc3NfXz0kdHlwZTskVGltZUNsYXNzLl9fc3RyX189ZnVuY3Rpb24oKXtyZXR1cm4gIjxjbGFzcyAnZGF0ZXRpbWUudGltZSc+Ijt9O2Z1bmN0aW9uICRUaW1lKGFyZ3Mpe3RoaXMuX19jbGFzc19fPSRUaW1lQ2xhc3M7aWYoYXJncy5sZW5ndGg+NCkkcmFpc2UoJ1R5cGVFcnJvcicsIlRvbyBtYW55IGFyZ3VtZW50cyAtIHJlcXVpcmVkIDQsIGdvdCAiK2FyZ3MubGVuZ3RoKTtpZihhcmdzLmxlbmd0aD4wKWhvdXI9YXJnc1swXTtlbHNlIGhvdXI9MDtpZihhcmdzLmxlbmd0aD4xKW1pbnV0ZT1hcmdzWzFdO2Vsc2UgbWludXRlPTA7aWYoYXJncy5sZW5ndGg+MilzZWNvbmQ9YXJnc1syXTtlbHNlIHNlY29uZD0wO2lmKGFyZ3MubGVuZ3RoPjMpbWljcm9zZWNvbmQ9YXJnc1szXTtlbHNlIG1pY3Jvc2Vjb25kPTA7aWYoIWlzaW5zdGFuY2UoaG91cixpbnQpfHwhaXNpbnN0YW5jZShtaW51dGUsaW50KXx8IWlzaW5zdGFuY2Uoc2Vjb25kLGludCl8fCFpc2luc3RhbmNlKG1pY3Jvc2Vjb25kLGludCkpJHJhaXNlKCdUeXBlRXJyb3InLCJhbiBpbnRlZ2VyIGlzIHJlcXVpcmVkIik7aWYoaG91cjwwfHxob3VyPjIzKSRyYWlzZSgnVmFsdWVFcnJvcicsImhvdXIgbXVzdCBiZSBpbiAwLi4yMyIpO2lmKG1pbnV0ZTwwfHxtaW51dGU+NTkpJHJhaXNlKCdWYWx1ZUVycm9yJywibWludXRlIG11c3QgYmUgaW4gMC4uNTkiKTtpZihzZWNvbmQ8MHx8c2Vjb25kPjU5KSRyYWlzZSgnVmFsdWVFcnJvcicsInNlY29uZCBtdXN0IGJlIGluIDAuLjU5Iik7aWYobWljcm9zZWNvbmQ8MHx8bWljcm9zZWNvbmQ+OTk5OTk5KSRyYWlzZSgnVmFsdWVFcnJvcicsIm1pY3Jvc2Vjb25kIG11c3QgYmUgaW4gMC4uOTk5OTk5Iik7dGhpcy5ob3VyPWhvdXI7dGhpcy5taW51dGU9bWludXRlO3RoaXMuc2Vjb25kPXNlY29uZDt0aGlzLm1pY3Jvc2Vjb25kPW1pY3Jvc2Vjb25kO3RoaXMuJGpzX2RhdGU9bmV3IERhdGUoaG91cixtaW51dGUsc2Vjb25kLG1pY3Jvc2Vjb25kLzEwMDApO3RoaXMuX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7cmV0dXJuICRnZXRhdHRyKHRoaXMsYXR0cik7fTt0aGlzLl9faGFzaF9fPWZ1bmN0aW9uKCl7cmV0dXJuIGhhc2godHVwbGUodGhpcy5ob3VyLHRoaXMubWludXRlLHRoaXMuc2Vjb25kLHRoaXMubWljcm9zZWNvbmQpKTt9O3RoaXMuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMubWljcm9zZWNvbmQ/dGhpcy5zdHJmdGltZSgnJUg6JU06JVMuJWYnKTp0aGlzLnN0cmZ0aW1lKCclSDolTTolUycpO307dGhpcy5ub3JtX3N0cj1mdW5jdGlvbihhcmcsbmIpe3ZhciByZXM9c3RyKGFyZyk7d2hpbGUocmVzLmxlbmd0aDxuYilyZXM9JzAnK3JlcztyZXR1cm4gcmVzO307dGhpcy5zdHJmdGltZT1mdW5jdGlvbihmbXQpe2lmKCFpc2luc3RhbmNlKGZtdCxzdHIpKXRocm93IG5ldyBUeXBlRXJyb3IoInN0cmZ0aW1lKCkgYXJndW1lbnQgc2hvdWxkIGJlIHN0ciwgbm90ICIrJHN0cihmbXQuX19jbGFzc19fKSk7dmFyIHJlcz1mbXQ7cmVzPXJlcy5yZXBsYWNlKCclZicsdGhpcy5ub3JtX3N0cih0aGlzLm1pY3Jvc2Vjb25kLDYpKTtyZXM9cmVzLnJlcGxhY2UoJyVIJyx0aGlzLm5vcm1fc3RyKHRoaXMuaG91ciwyKSk7cmVzPXJlcy5yZXBsYWNlKCclSScsdGhpcy5ub3JtX3N0cihpbnQodGhpcy5ob3VyLnZhbHVlJTEyKSwyKSk7cmVzPXJlcy5yZXBsYWNlKCclTScsdGhpcy5ub3JtX3N0cih0aGlzLm1pbnV0ZSwyKSk7cmVzPXJlcy5yZXBsYWNlKCclUycsdGhpcy5ub3JtX3N0cih0aGlzLnNlY29uZCwyKSk7cmV0dXJuIHN0cihyZXMpO307fWZ1bmN0aW9uICR0aW1lKGhvdXIsbWludXRlLHNlY29uZCxtaWNyb3NlY29uZCl7cmV0dXJuIG5ldyAkVGltZShob3VyLG1pbnV0ZSxzZWNvbmQsbWljcm9zZWNvbmQpO31mdW5jdGlvbiAkZGF0ZSh5ZWFyLG1vbnRoLGRheSl7aWYoeWVhcj09PXVuZGVmaW5lZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJSZXF1aXJlZCBhcmd1bWVudCAneWVhcicgKHBvcyAxKSBub3QgZm91bmQiKTtpZihtb250aD09PXVuZGVmaW5lZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJSZXF1aXJlZCBhcmd1bWVudCAnbW9udGgnIChwb3MgMikgbm90IGZvdW5kIik7aWYoZGF5PT09dW5kZWZpbmVkKXRocm93IG5ldyBUeXBlRXJyb3IoIlJlcXVpcmVkIGFyZ3VtZW50ICdkYXknIChwb3MgMykgbm90IGZvdW5kIik7cmV0dXJuIG5ldyAkRGF0ZSh5ZWFyLG1vbnRoLGRheSk7fWZ1bmN0aW9uICRkYXRldGltZSh5ZWFyLG1vbnRoLGRheSxob3VyLG1pbnV0ZSxzZWNvbmQsbWljcm9zZWNvbmQpe2lmKHllYXI9PT11bmRlZmluZWQpJHJhaXNlKCdUeXBlRXJyb3InLCJSZXF1aXJlZCBhcmd1bWVudCAneWVhcicgKHBvcyAxKSBub3QgZm91bmQiKTtpZihtb250aD09PXVuZGVmaW5lZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJSZXF1aXJlZCBhcmd1bWVudCAnbW9udGgnIChwb3MgMikgbm90IGZvdW5kIik7aWYoZGF5PT09dW5kZWZpbmVkKXRocm93IG5ldyBUeXBlRXJyb3IoIlJlcXVpcmVkIGFyZ3VtZW50ICdkYXknIChwb3MgMykgbm90IGZvdW5kIik7cmV0dXJuIG5ldyAkRGF0ZVRpbWUoeWVhcixtb250aCxkYXksaG91cixtaW51dGUsc2Vjb25kLG1pY3Jvc2Vjb25kKTt9JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxkYXRlOiREYXRlQ2xhc3MsZGF0ZXRpbWU6JERhdGVUaW1lQ2xhc3MsdGltZTokVGltZUNsYXNzLHRpbWVkZWx0YTokVGltZURlbHRhQ2xhc3MsTUFYWUVBUjo5OTk5LE1JTllFQVI6MX07JG1vZHVsZS5kYXRldGltZS5fX2dldGF0dHJfXz1mdW5jdGlvbihhdHRyKXtpZihhdHRyPT0nbm93JylyZXR1cm4gZnVuY3Rpb24oKXt2YXIgb2JqPW5ldyBEYXRlKCk7dmFyIGFyZ3M9W2ludChvYmouZ2V0RnVsbFllYXIoKSksaW50KG9iai5nZXRNb250aCgpKzEpLGludChvYmouZ2V0RGF0ZSgpKSxpbnQob2JqLmdldEhvdXJzKCkpLGludChvYmouZ2V0TWludXRlcygpKSxpbnQob2JqLmdldFNlY29uZHMoKSksaW50KG9iai5nZXRNaWxsaXNlY29uZHMoKSoxMDAwKV07cmV0dXJuIG5ldyAkRGF0ZVRpbWUoYXJncyk7fTskcmFpc2UoJ0F0dHJpYnV0ZUVycm9yJywnZGF0ZXRpbWUuZGF0ZXRpbWUgaGFzIG5vIGF0dHJpYnV0ZSAnK2F0dHIpO307JG1vZHVsZS5kYXRlLl9fZ2V0YXR0cl9fPWZ1bmN0aW9uKGF0dHIpe2lmKGF0dHI9PSd0b2RheScpcmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG9iaj1uZXcgRGF0ZSgpO3ZhciBhcmdzPVtpbnQob2JqLmdldEZ1bGxZZWFyKCkpLGludChvYmouZ2V0TW9udGgoKSsxKSxpbnQob2JqLmdldERhdGUoKSldO3JldHVybiBuZXcgJERhdGUoYXJncyk7fTskcmFpc2UoJ0F0dHJpYnV0ZUVycm9yJywnZGF0ZXRpbWUuZGF0ZXRpbWUgaGFzIG5vIGF0dHJpYnV0ZSAnK2F0dHIpO307JG1vZHVsZS50aW1lLl9fZ2V0YXR0cl9fPWZ1bmN0aW9uKGF0dHIpeyRyYWlzZSgnQXR0cmlidXRlRXJyb3InLCdkYXRldGltZS5kYXRldGltZSBoYXMgbm8gYXR0cmlidXRlICcrYXR0cik7fTs=',
'/libs/time.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxjbGVhcl9pbnRlcnZhbDpmdW5jdGlvbihpbnRfaWQpe3dpbmRvdy5jbGVhckludGVydmFsKGludF9pZCk7fSxjdGltZTpmdW5jdGlvbih0aW1lc3RhbXApe2lmKHRpbWVzdGFtcD09PXVuZGVmaW5lZCl0aW1lc3RhbXA9aW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApO3ZhciBkPW5ldyBEYXRlKDApO2Quc2V0VVRDU2Vjb25kcyh0aW1lc3RhbXApO3JldHVybiBkLnRvVVRDU3RyaW5nKCk7fSxwZXJmX2NvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZmxvYXQobmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMC4wKTt9LHNldF9pbnRlcnZhbDpmdW5jdGlvbihmdW5jLGludGVydmFsKXtyZXR1cm4gaW50KHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jLGludGVydmFsKSk7fSxzZXRfdGltZW91dDpmdW5jdGlvbihmdW5jLGludGVydmFsKXt3aW5kb3cuc2V0VGltZW91dChmdW5jLGludGVydmFsKTt9LGxvY2FsdGltZTpmdW5jdGlvbihzZWNzKXt2YXIgZD1uZXcgRGF0ZSgpO2lmKHNlY3M9PT11bmRlZmluZWR8fHNlY3M9PT1Ob25lKXJldHVybiBkLmdldFRpbWUoKTt2YXIgamFuPW5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwwLDEpO3ZhciBqdWw9bmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLDYsMSk7dmFyIGRzdD1pbnQoZC5nZXRUaW1lem9uZU9mZnNldCgpPE1hdGgubWF4KGphbi5nZXRUaW1lem9uZU9mZnNldCgpLGp1bC5nZXRUaW1lem9uZU9mZnNldCgpKSk7cmV0dXJuIGxpc3QoW2QuZ2V0RnVsbFllYXIoKSxkLmdldE1vbnRoKCkrMSxkLmdldERhdGUoKSxkLmdldEhvdXJzKCksZC5nZXRNaW51dGVzKCksZC5nZXRTZWNvbmRzKCksZC5nZXREYXkoKSwwLGRzdF0pO30sdGltZTpmdW5jdGlvbigpe3JldHVybiBpbnQobmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMCk7fSxzdHJmdGltZTpmdW5jdGlvbihmb3JtYXQsYXJnKXtmdW5jdGlvbiBucyhhcmcsbmIpe3ZhciByZXM9YXJnLnRvU3RyaW5nKCk7d2hpbGUocmVzLmxlbmd0aDxuYilyZXM9JzAnK3JlcztyZXR1cm4gcmVzO31pZihhcmcpdmFyIG9iaj1uZXcgRGF0ZShhcmcpO2Vsc2UgdmFyIG9iaj1uZXcgRGF0ZSgpO3ZhciByZXM9Zm9ybWF0O3Jlcz1yZXMucmVwbGFjZSgvJUgvLG5zKG9iai5nZXRIb3VycygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVNLyxucyhvYmouZ2V0TWludXRlcygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVTLyxucyhvYmouZ2V0U2Vjb25kcygpLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVZLyxucyhvYmouZ2V0RnVsbFllYXIoKSw0KSk7cmVzPXJlcy5yZXBsYWNlKC8leS8sbnMob2JqLmdldEZ1bGxZZWFyKCksNCkuc3Vic3RyKDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVtLyxucyhvYmouZ2V0TW9udGgoKSsxLDIpKTtyZXM9cmVzLnJlcGxhY2UoLyVkLyxucyhvYmouZ2V0RGF0ZSgpLDIpKTtyZXR1cm4gcmVzO319Ow==',
'/libs/random.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxyYW5kb206ZnVuY3Rpb24oKXtyZXR1cm4gZmxvYXQoTWF0aC5yYW5kb20oKSk7fSxyYW5kaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGItYSkrYSkpO319OyRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdyYW5kb20nPiI7fTs=',
'/libs/math.js':'dmFyIGZsb2F0X2NoZWNrPWZ1bmN0aW9uKHgpe2lmKGlzaW5zdGFuY2UoeCxmbG9hdCkpcmV0dXJuIHgudmFsdWU7cmV0dXJuIHg7fTt2YXIgaXNpbmY9ZnVuY3Rpb24oeCl7dmFyIHgxPWZsb2F0X2NoZWNrKHgpO3JldHVybiB4MT09LUluZmluaXR5fHx4MT09SW5maW5pdHl8fHgxPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fHgxPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7fTskbW9kdWxlPXtfX2dldGF0dHJfXzpmdW5jdGlvbihhdHRyKXt2YXIgcmVzPXRoaXNbYXR0cl07aWYocmVzPT09dW5kZWZpbmVkKSRyYWlzZSgnQXR0cmlidXRlRXJyb3InLCdtb2R1bGUgbWF0aCBoYXMgbm8gYXR0cmlidXRlICcrYXR0cik7cmV0dXJuIHJlczt9LGFjb3M6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguYWNvcyhmbG9hdF9jaGVjayh4KSkpO30sYWNvc2g6ZnVuY3Rpb24oeCl7aWYoaXNpbmYoeCkpcmV0dXJuIGZsb2F0KCdpbmYnKTt2YXIgeT1mbG9hdF9jaGVjayh4KTtyZXR1cm4gTWF0aC5sb2coeStNYXRoLnNxcnQoeSp5LTEpKTt9LGFzaW46ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguYXNpbihmbG9hdF9jaGVjayh4KSkpO30sYXNpbmg6ZnVuY3Rpb24oeCl7aWYoaXNpbmYoeCkpcmV0dXJuIGZsb2F0KCdpbmYnKTt2YXIgeT1mbG9hdF9jaGVjayh4KTtyZXR1cm4gTWF0aC5sb2coeStNYXRoLnNxcnQoeSp5KzEpKTt9LGF0YW46ZnVuY3Rpb24oeCl7aWYoaXNpbmYoeCkpcmV0dXJuIGZsb2F0KE1hdGguUEkvMik7cmV0dXJuIGZsb2F0KE1hdGguYXRhbihmbG9hdF9jaGVjayh4KSkpO30sYXRhbjI6ZnVuY3Rpb24oeSx4KXtyZXR1cm4gZmxvYXQoTWF0aC5hdGFuMih5LHgpKTt9LGF0YW5oOmZ1bmN0aW9uKHgpe3ZhciB5PWZsb2F0X2NoZWNrKHgpO2lmKHk9PTApcmV0dXJuIDA7cmV0dXJuIDAuNSpNYXRoLmxvZygoMS95KzEpLygxL3ktMSkpO30sY2VpbDpmdW5jdGlvbih4KXt2YXIgeT1mbG9hdF9jaGVjayh4KTtpZighaXNOYU4ocGFyc2VGbG9hdCh5KSkmJmlzRmluaXRlKHkpKXJldHVybiBpbnQoTWF0aC5jZWlsKHkpKTtpZih5Ll9fY2VpbF9fIT09dW5kZWZpbmVkKXJldHVybiB5Ll9fY2VpbF9fKCk7JHJhaXNlKCdWYWx1ZUVycm9yJywnb2JqZWN0IGlzIG5vdCBhIG51bWJlciBhbmQgZG9lcyBub3QgY29udGFpbiBfX2NlaWxfXycpO30sY29weXNpZ246ZnVuY3Rpb24oeCx5KXt2YXIgeDE9ZmxvYXRfY2hlY2soeCk7dmFyIHkxPWZsb2F0X2NoZWNrKHkpO3ZhciBzaWduPXkxP3kxPDA/LTE6MToxO3JldHVybiBNYXRoLmFicyh4MSkqc2lnbjt9LGNvczpmdW5jdGlvbih4KXtyZXR1cm4gZmxvYXQoTWF0aC5jb3MoZmxvYXRfY2hlY2soeCkpKTt9LGRlZ3JlZXM6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0X2NoZWNrKHgpKjE4MC9NYXRoLlBJO30sZTpmbG9hdChNYXRoLkUpLGVyZjpmdW5jdGlvbih4KXt2YXIgeT1mbG9hdF9jaGVjayh4KTt2YXIgdD0xLjAvKDEuMCswLjUqTWF0aC5hYnMoeSkpO3ZhciBhbnM9MS10Kk1hdGguZXhwKC15KnktMS4yNjU1MTIyMyt0KigxLjAwMDAyMzY4K3QqKDAuMzc0MDkxOTYrdCooMC4wOTY3ODQxOCt0KigtMC4xODYyODgwNit0KigwLjI3ODg2ODA3K3QqKC0xLjEzNTIwMzk4K3QqKDEuNDg4NTE1ODcrdCooLTAuODIyMTUyMjMrdCowLjE3MDg3Mjc3KSkpKSkpKSkpO2lmKHk+PTAuMClyZXR1cm4gYW5zO3JldHVybiAtYW5zO30sZXJmYzpmdW5jdGlvbih4KXt2YXIgeT1mbG9hdF9jaGVjayh4KTt2YXIgdD0xLjAvKDEuMCswLjUqTWF0aC5hYnMoeSkpO3ZhciBhbnM9MS10Kk1hdGguZXhwKC15KnktMS4yNjU1MTIyMyt0KigxLjAwMDAyMzY4K3QqKDAuMzc0MDkxOTYrdCooMC4wOTY3ODQxOCt0KigtMC4xODYyODgwNit0KigwLjI3ODg2ODA3K3QqKC0xLjEzNTIwMzk4K3QqKDEuNDg4NTE1ODcrdCooLTAuODIyMTUyMjMrdCowLjE3MDg3Mjc3KSkpKSkpKSkpO2lmKHk+PTAuMClyZXR1cm4gMS1hbnM7cmV0dXJuIDErYW5zO30sZXhwOmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLmV4cChmbG9hdF9jaGVjayh4KSkpO30sZXhwbTE6ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguZXhwKGZsb2F0X2NoZWNrKHgpKS0xKTt9LGZhYnM6ZnVuY3Rpb24oeCl7cmV0dXJuIHg+MD9mbG9hdCh4KTpmbG9hdCgteCk7fSxmYWN0b3JpYWw6ZnVuY3Rpb24oeCl7dmFyIHk9ZmxvYXRfY2hlY2soeCk7dmFyIHI9MTtmb3IodmFyIGk9MjtpPD15O2krKylyKj1pO3JldHVybiByO30sZmxvb3I6ZnVuY3Rpb24oeCl7cmV0dXJuIE1hdGguZmxvb3IoZmxvYXRfY2hlY2soeCkpO30sZm1vZDpmdW5jdGlvbih4LHkpe3JldHVybiBmbG9hdChmbG9hdF9jaGVjayh4KSVmbG9hdF9jaGVjayh5KSk7fSxmcmV4cDpmdW5jdGlvbih4KXt2YXIgeDE9ZmxvYXRfY2hlY2soeCk7dmFyIGV4PU1hdGguZmxvb3IoTWF0aC5sb2coeDEpL01hdGgubG9nKDIpKSsxO2ZyYWM9eDEvTWF0aC5wb3coMixleCk7cmV0dXJuIFtmcmFjLGV4XTt9LGdhbW1hOmZ1bmN0aW9uKHgpe3ZhciB5PWZsb2F0X2NoZWNrKHgpO3ZhciB6PXkrMTt2YXIgZDE9TWF0aC5zcXJ0KDIqTWF0aC5QSSkvejt2YXIgZDI9MS4wMDAwMDAwMDAxOTAwMTU7ZDIrPTc2LjE4MDA5MTcyOTQ3MTQ2Lyh6KzEpO2QyKz0tODYuNTA1MzIwMzI5NDE2NzcvKHorMik7ZDIrPTI0LjAxNDA5ODI0MDgzMDkxLyh6KzMpO2QyKz0tMS4yMzE3Mzk1NzI0NTAxNTUvKHorNCk7ZDIrPTEuMjA4NjUwOTczODY2MTc5RS0zLyh6KzUpO2QyKz0tNS4zOTUyMzkzODQ5NTNFLTYvKHorNik7cmV0dXJuIGQxKmQyKk1hdGgucG93KHorNS41LHorMC41KSpNYXRoLmV4cCgtKHorNS41KSk7fSxoeXBvdDpmdW5jdGlvbih4LHkpe3ZhciB4MT1mbG9hdF9jaGVjayh4KTt2YXIgeTE9ZmxvYXRfY2hlY2soeSk7cmV0dXJuIE1hdGguc3FydCh4MSp4MSt5MSp5MSk7fSxpc2Zpbml0ZTpmdW5jdGlvbih4KXtyZXR1cm4gaXNGaW5pdGUoZmxvYXRfY2hlY2soeCkpO30saXNpbmY6ZnVuY3Rpb24oeCl7cmV0dXJuIGlzaW5mKHgpO30saXNuYW46ZnVuY3Rpb24oeCl7cmV0dXJuIGlzTmFOKGZsb2F0X2NoZWNrKHgpKTt9LGxkZXhwOmZ1bmN0aW9uKHgsaSl7cmV0dXJuIGZsb2F0X2NoZWNrKHgpKk1hdGgucG93KDIsZmxvYXRfY2hlY2soaSkpO30sbGdhbW1hOmZ1bmN0aW9uKHgpe3ZhciB5PWZsb2F0X2NoZWNrKHgpO3ZhciB6PXkrMTt2YXIgZDE9TWF0aC5zcXJ0KDIqTWF0aC5QSSkvejt2YXIgZDI9MS4wMDAwMDAwMDAxOTAwMTU7ZDIrPTc2LjE4MDA5MTcyOTQ3MTQ2Lyh6KzEpO2QyKz0tODYuNTA1MzIwMzI5NDE2NzcvKHorMik7ZDIrPTI0LjAxNDA5ODI0MDgzMDkxLyh6KzMpO2QyKz0tMS4yMzE3Mzk1NzI0NTAxNTUvKHorNCk7ZDIrPTEuMjA4NjUwOTczODY2MTc5RS0zLyh6KzUpO2QyKz0tNS4zOTUyMzkzODQ5NTNFLTYvKHorNik7cmV0dXJuIE1hdGgubG9nKE1hdGguYWJzKGQxKmQyKk1hdGgucG93KHorNS41LHorMC41KSpNYXRoLmV4cCgtKHorNS41KSkpKTt9LGxvZzpmdW5jdGlvbih4LGJhc2Upe3ZhciB4MT1mbG9hdF9jaGVjayh4KTtpZihiYXNlPT09dW5kZWZpbmVkKXJldHVybiBNYXRoLmxvZyh4MSk7cmV0dXJuIE1hdGgubG9nKHgxKS9NYXRoLmxvZyhmbG9hdF9jaGVjayhiYXNlKSk7fSxsb2cxcDpmdW5jdGlvbih4KXtyZXR1cm4gTWF0aC5sb2coMS4wK2Zsb2F0X2NoZWNrKHgpKTt9LGxvZzI6ZnVuY3Rpb24oeCl7cmV0dXJuIE1hdGgubG9nKGZsb2F0X2NoZWNrKHgpKS9NYXRoLkxOMjt9LGxvZzEwOmZ1bmN0aW9uKHgpe3JldHVybiBNYXRoLmxvZyhmbG9hdF9jaGVjayh4KSkvTWF0aC5MTjEwO30sbW9kZjpmdW5jdGlvbih4KXt2YXIgeDE9ZmxvYXRfY2hlY2soeCk7aWYoeDE+MCl7dmFyIGk9ZmxvYXQoeDEtTWF0aC5mbG9vcih4MSkpO3JldHVybiBbaSxmbG9hdCh4MS1pKV07fXZhciBpPWZsb2F0KHgxLU1hdGguY2VpbCh4MSkpO3JldHVybiBbaSxmbG9hdChNYXRoLmNlaWwoeDEpKV07fSxwaTpmbG9hdChNYXRoLlBJKSxwb3c6ZnVuY3Rpb24oeCx5KXtyZXR1cm4gTWF0aC5wb3coZmxvYXRfY2hlY2soeCksZmxvYXRfY2hlY2soeSkpO30scmFkaWFuczpmdW5jdGlvbih4KXtyZXR1cm4gZmxvYXRfY2hlY2soeCkqTWF0aC5QSS8xODA7fSxzaW46ZnVuY3Rpb24oeCl7cmV0dXJuIGZsb2F0KE1hdGguc2luKGZsb2F0X2NoZWNrKHgpKSk7fSxzcXJ0OmZ1bmN0aW9uKHgpe3JldHVybiBmbG9hdChNYXRoLnNxcnQoZmxvYXRfY2hlY2soeCkpKTt9LHRydW5jOmZ1bmN0aW9uKHgpe3ZhciB4MT1mbG9hdF9jaGVjayh4KTtpZighaXNOYU4ocGFyc2VGbG9hdCh4MSkpJiZpc0Zpbml0ZSh4MSkpcmV0dXJuIGludChNYXRoLmZsb29yKHgxKSk7aWYoeC5fX3RydW5jX18hPT11bmRlZmluZWQpcmV0dXJuIHguX190cnVuY19fKCk7JHJhaXNlKCdWYWx1ZUVycm9yJywnb2JqZWN0IGlzIG5vdCBhIG51bWJlciBhbmQgZG9lcyBub3QgY29udGFpbiBfX3RydW5jX18nKTt9fTskbW9kdWxlLl9fY2xhc3NfXz0kbW9kdWxlOyRtb2R1bGUuX19zdHJfXz1mdW5jdGlvbigpe3JldHVybiAiPG1vZHVsZSAnbWF0aCc+Ijt9O2Zvcih2YXIgJGF0dHIgaW4gJG1vZHVsZSlpZih0eXBlb2YgJG1vZHVsZVskYXR0cl09PT0nZnVuY3Rpb24nKXskbW9kdWxlWyRhdHRyXS5fX3JlcHJfXz0oZnVuY3Rpb24oZnVuYyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuICc8YnVpbHQtaW4gZnVuY3Rpb24gJytmdW5jKyc+Jzt9O30pKCRhdHRyKTskbW9kdWxlWyRhdHRyXS5fX3N0cl9fPShmdW5jdGlvbihmdW5jKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gJzxidWlsdC1pbiBmdW5jdGlvbiAnK2Z1bmMrJz4nO307fSkoJGF0dHIpO30=',
'/libs/html.js':'JG1vZHVsZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiAkVGFnKHRhZ05hbWUsYXJncyl7dmFyICRpPW51bGw7dmFyIGVsdD1udWxsO3ZhciBlbHQ9JERPTU5vZGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKSk7ZWx0LnBhcmVudD10aGlzO2lmKGFyZ3MhPXVuZGVmaW5lZCYmYXJncy5sZW5ndGg+MCl7JHN0YXJ0PTA7JGZpcnN0PWFyZ3NbMF07aWYoIWlzaW5zdGFuY2UoJGZpcnN0LCRLdykpeyRzdGFydD0xO2lmKGlzaW5zdGFuY2UoJGZpcnN0LFtzdHIsaW50LGZsb2F0XSkpe3R4dD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgkZmlyc3QudG9TdHJpbmcoKSk7ZWx0LmFwcGVuZENoaWxkKHR4dCk7fWVsc2UgaWYoaXNpbnN0YW5jZSgkZmlyc3QsJFRhZ1N1bSkpZm9yKCRpPTA7JGk8JGZpcnN0LmNoaWxkcmVuLmxlbmd0aDskaSsrKWVsdC5hcHBlbmRDaGlsZCgkZmlyc3QuY2hpbGRyZW5bJGldKTtlbHNlIHRyeXtlbHQuYXBwZW5kQ2hpbGQoJGZpcnN0KTt9Y2F0Y2goZXJyKXt0aHJvdyBWYWx1ZUVycm9yKCd3cm9uZyBlbGVtZW50ICcrJGZpcnN0KTt9fWZvcigkaT0kc3RhcnQ7JGk8YXJncy5sZW5ndGg7JGkrKyl7JGFyZz1hcmdzWyRpXTtpZihpc2luc3RhbmNlKCRhcmcsJEt3KSlpZigkYXJnLm5hbWUudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwyKT09PSJvbiIpZXZhbCgnZWx0LicrJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCkrJz1mdW5jdGlvbigpeycrJGFyZy52YWx1ZSsnfScpO2Vsc2UgaWYoJGFyZy5uYW1lLnRvTG93ZXJDYXNlKCk9PSJzdHlsZSIpZWx0LnNldF9zdHlsZSgkYXJnLnZhbHVlKTtlbHNlIGlmKCRhcmcudmFsdWUhPT1mYWxzZSl0cnl7dmFyIGFyZz0kYXJnLm5hbWUudG9Mb3dlckNhc2UoKTtlbHQuc2V0QXR0cmlidXRlKGFyZywkYXJnLnZhbHVlKTtpZihhcmc9PSJjbGFzcyIpZWx0LnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwkYXJnLnZhbHVlKTt9Y2F0Y2goZXJyKXt0aHJvdyBWYWx1ZUVycm9yKCJjYW4ndCBzZXQgYXR0cmlidXRlICIrJGFyZy5uYW1lKTt9fX1yZXR1cm4gZWx0O31mdW5jdGlvbiBBKCl7cmV0dXJuICRUYWcoJ0EnLGFyZ3VtZW50cyk7fUEuX19uYW1lX189J2h0bWwuQSc7dmFyICRzcmM9QSsnJzskdGFncz1bJ0EnLCdBQkJSJywnQUNST05ZTScsJ0FERFJFU1MnLCdBUFBMRVQnLCdCJywnQkRPJywnQklHJywnQkxPQ0tRVU9URScsJ0JVVFRPTicsJ0NBUFRJT04nLCdDRU5URVInLCdDSVRFJywnQ09ERScsJ0RFTCcsJ0RGTicsJ0RJUicsJ0RJVicsJ0RMJywnRU0nLCdGSUVMRFNFVCcsJ0ZPTlQnLCdGT1JNJywnRlJBTUVTRVQnLCdIMScsJ0gyJywnSDMnLCdINCcsJ0g1JywnSDYnLCdJJywnSUZSQU1FJywnSU5TJywnS0JEJywnTEFCRUwnLCdMRUdFTkQnLCdNQVAnLCdNRU5VJywnTk9GUkFNRVMnLCdOT1NDUklQVCcsJ09CSkVDVCcsJ09MJywnT1BUR1JPVVAnLCdQUkUnLCdRJywnUycsJ1NBTVAnLCdTQ1JJUFQnLCdTRUxFQ1QnLCdTTUFMTCcsJ1NQQU4nLCdTVFJJS0UnLCdTVFJPTkcnLCdTVFlMRScsJ1NVQicsJ1NVUCcsJ1RBQkxFJywnVEVYVEFSRUEnLCdUSVRMRScsJ1RUJywnVScsJ1VMJywnVkFSJywnQk9EWScsJ0NPTEdST1VQJywnREQnLCdEVCcsJ0hFQUQnLCdIVE1MJywnTEknLCdQJywnVEJPRFknLCdPUFRJT04nLCdURCcsJ1RGT09UJywnVEgnLCdUSEVBRCcsJ1RSJywnQVJFQScsJ0JBU0UnLCdCQVNFRk9OVCcsJ0JSJywnQ09MJywnRlJBTUUnLCdIUicsJ0lNRycsJ0lOUFVUJywnSVNJTkRFWCcsJ0xJTksnLCdNRVRBJywnUEFSQU0nXTskdGFncz0kdGFncy5jb25jYXQoWydBUlRJQ0xFJywnQVNJREUnLCdGSUdVUkUnLCdGT09URVInLCdIRUFERVInLCdOQVYnLCdTRUNUSU9OJywnQVVESU8nLCdWSURFTycsJ0NBTlZBUycsJ0NPTU1BTkQnLCdEQVRBTElTVCcsJ0RFVEFJTFMnLCdPVVRQVVQnLCdQUk9HUkVTUycsJ0hHUk9VUCcsJ01BUksnLCdNRVRFUicsJ1RJTUUnLCdSUCcsJ1JUJywnUlVCWSddKTt2YXIgb2JqPW5ldyBPYmplY3QoKTtmb3IoJGk9MDskaTwkdGFncy5sZW5ndGg7JGkrKyl7JGNvZGU9JHNyYy5yZXBsYWNlKC9BL2dtLCR0YWdzWyRpXSk7ZXZhbCgib2JqLiIrJHRhZ3NbJGldKyI9IiskY29kZSk7ZXZhbCgib2JqLiIrJHRhZ3NbJGldKycuX19uYW1lX189Imh0bWwuJyskdGFnc1skaV0rJyInKTt9b2JqLl9fZ2V0YXR0cl9fPWZ1bmN0aW9uKGF0dHIpe3JldHVybiB0aGlzW2F0dHJdO307cmV0dXJuIG9iajt9KSgpOw==',
'/libs/hashlib.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7aWYoYXR0cj09J25ldycpcmV0dXJuICRoYXNobGliX25ldztyZXR1cm4gdGhpc1thdHRyXTt9LG1kNTpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ21kNScpO30sc2hhMTpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTEnKTt9LHNoYTIyNDpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTIyNCcpO30sc2hhMjU2OmZ1bmN0aW9uKCl7cmV0dXJuICRoYXNobGliX25ldygnc2hhMjU2Jyk7fSxzaGEzODQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGhhc2hsaWJfbmV3KCdzaGEzODQnKTt9LHNoYTUxMjpmdW5jdGlvbigpe3JldHVybiAkaGFzaGxpYl9uZXcoJ3NoYTUxMicpO30sYWxnb3JpdGhtc19ndWFyYW50ZWVkOlsnbWQ1Jywnc2hhMScsJ3NoYTIyNCcsJ3NoYTI1NicsJ3NoYTM4NCcsJ3NoYTUxMiddLGFsZ29yaXRobXNfYXZhaWxhYmxlOlsnbWQ1Jywnc2hhMScsJ3NoYTIyNCcsJ3NoYTI1NicsJ3NoYTM4NCcsJ3NoYTUxMiddfTtmdW5jdGlvbiAkZ2V0X0NyeXB0b0pTX2xpYihhbGcpe3ZhciBpbXA9JGltcG9ydGVyKCk7dmFyICR4bWxodHRwPWltcFswXSxmYWtlX3FzPWltcFsxXSx0aW1lcj1pbXBbMl0scmVzPW51bGw7JHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoJHhtbGh0dHAucmVhZHlTdGF0ZT09NCl7d2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7aWYoJHhtbGh0dHAuc3RhdHVzPT0yMDB8fCR4bWxodHRwLnN0YXR1cz09MClyZXM9JHhtbGh0dHAucmVzcG9uc2VUZXh0O2Vsc2V7cmVzPUVycm9yKCk7cmVzLm5hbWU9J05vdEZvdW5kRXJyb3InO3Jlcy5tZXNzYWdlPSJObyBDcnlwdG9KUyBsaWIgbmFtZWQgJyIrYWxnKyInIjt9fX07JHhtbGh0dHAub3BlbignR0VUJyxfX0JSWVRIT05fXy5icnl0aG9uX3BhdGgrJ2xpYnMvY3J5cHRvX2pzL3JvbGx1cHMvJythbGcrJy5qcycrZmFrZV9xcyxmYWxzZSk7aWYoJ292ZXJyaWRlTWltZVR5cGUnIGluICR4bWxodHRwKSR4bWxodHRwLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW4iKTskeG1saHR0cC5zZW5kKCk7aWYocmVzLmNvbnN0cnVjdG9yPT09RXJyb3IpdGhyb3cgcmVzO3RyeXtldmFsKHJlcysiOyBfX0JSWVRIT05fXy5DcnlwdG9KUz1DcnlwdG9KUzsiKTt9Y2F0Y2goZXJyKXt0aHJvdyBFcnJvcigiSlMgRXZhbCBFcnJvciIsIkNhbm5vdCBldmFsIENyeXB0b0pTIGFsZ29yaXRobSAnIithbGcrIicgOiBlcnJvcjoiK2Vycik7fX1mdW5jdGlvbiAkaGFzaGxpYl9uZXcoYWxnKXtpZihhbGc9PSdtZDUnKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uTUQ1PT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdtZDUnKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5NRDUuY3JlYXRlKCk7fWVsc2UgaWYoYWxnPT0nc2hhMScpe2lmKF9fQlJZVEhPTl9fLkNyeXB0bz09PXVuZGVmaW5lZHx8X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEExPT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGExJyk7dGhpcy5oYXNoPV9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMS5jcmVhdGUoKTt9ZWxzZSBpZihhbGc9PSdzaGEyMjQnKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMjI0PT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGEyMjQnKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEEyMjQuY3JlYXRlKCk7fWVsc2UgaWYoYWxnPT0nc2hhMjU2Jyl7aWYoX19CUllUSE9OX18uQ3J5cHRvPT09dW5kZWZpbmVkfHxfX0JSWVRIT05fXy5DcnlwdG9KUy5hbGdvLlNIQTI1Nj09PXVuZGVmaW5lZCkkZ2V0X0NyeXB0b0pTX2xpYignc2hhMjU2Jyk7dGhpcy5oYXNoPV9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBMjU2LmNyZWF0ZSgpO31lbHNlIGlmKGFsZz09J3NoYTM4NCcpe2lmKF9fQlJZVEhPTl9fLkNyeXB0bz09PXVuZGVmaW5lZHx8X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEEzODQ9PT11bmRlZmluZWQpJGdldF9DcnlwdG9KU19saWIoJ3NoYTM4NCcpO3RoaXMuaGFzaD1fX0JSWVRIT05fXy5DcnlwdG9KUy5hbGdvLlNIQTM4NC5jcmVhdGUoKTt9ZWxzZSBpZihhbGc9PSdzaGE1MTInKXtpZihfX0JSWVRIT05fXy5DcnlwdG89PT11bmRlZmluZWR8fF9fQlJZVEhPTl9fLkNyeXB0b0pTLmFsZ28uU0hBNTEyPT09dW5kZWZpbmVkKSRnZXRfQ3J5cHRvSlNfbGliKCdzaGE1MTInKTt0aGlzLmhhc2g9X19CUllUSE9OX18uQ3J5cHRvSlMuYWxnby5TSEE1MTIuY3JlYXRlKCk7fWVsc2UgJHJhaXNlKCdBdHRyaWJ1dGVFcnJvcicsJ0ludmFsaWQgaGFzaCBhbGdvcml0aG06JythbGcpO3RoaXMuX19jbGFzc19fPSR0eXBlO3RoaXMuX19nZXRhdHRyX189ZnVuY3Rpb24oYXR0cil7cmV0dXJuICRnZXRhdHRyKHRoaXMsYXR0cik7fTt0aGlzLl9fc3RyX189ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZXhkaWdlc3QoKTt9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKG1zZyl7dGhpcy5oYXNoLnVwZGF0ZShtc2cpO307dGhpcy5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzaC5jbG9uZSgpO307dGhpcy5oZXhkaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdGVtcD10aGlzLmhhc2guY2xvbmUoKTt0ZW1wPXRlbXAuZmluYWxpemUoKTtyZXR1cm4gdGVtcC50b1N0cmluZygpO307cmV0dXJuIHRoaXM7fSRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdoYXNobGliJz4iO307',
'/libs/_os.js':'JG1vZHVsZT17X19nZXRhdHRyX186ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXNbYXR0cl07fSxyYW5kb206ZnVuY3Rpb24oKXtyZXR1cm4gZmxvYXQoTWF0aC5yYW5kb20oKSk7fSxyYW5kaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGItYSkrYSkpO319OyRtb2R1bGUuX19jbGFzc19fPSRtb2R1bGU7JG1vZHVsZS5fX3N0cl9fPWZ1bmN0aW9uKCl7cmV0dXJuICI8bW9kdWxlICdfb3MnPiI7fTs=',
'/libs/crypto_js/rollups/sha1.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihlLG0pe3ZhciBwPXt9LGo9cC5saWI9e30sbD1mdW5jdGlvbigpe30sZj1qLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtsLnByb3RvdHlwZT10aGlzO3ZhciBjPW5ldyBsKCk7YSYmYy5taXhJbihhKTtjLmhhc093blByb3BlcnR5KCJpbml0Iil8fChjLmluaXQ9ZnVuY3Rpb24oKXtjLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtjLmluaXQucHJvdG90eXBlPWM7Yy4kc3VwZXI9dGhpcztyZXR1cm4gYzt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJih0aGlzW2NdPWFbY10pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0sbj1qLldvcmRBcnJheT1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWMhPW0/Yzo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fGgpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndvcmRzLHE9YS53b3JkcyxkPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihkJTQpZm9yKHZhciBiPTA7YjxhO2IrKyljW2QrYj4+PjJdfD0ocVtiPj4+Ml0+Pj4yNC04KihiJTQpJjI1NSk8PDI0LTgqKChkK2IpJTQpO2Vsc2UgaWYoNjU1MzU8cS5sZW5ndGgpZm9yKGI9MDtiPGE7Yis9NCljW2QrYj4+PjJdPXFbYj4+PjJdO2Vsc2UgYy5wdXNoLmFwcGx5KGMscSk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YVtjPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGMlNCk7YS5sZW5ndGg9ZS5jZWlsKGMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGI9MDtiPGE7Yis9NCljLnB1c2goNDI5NDk2NzI5NiplLnJhbmRvbSgpfDApO3JldHVybiBuZXcgbi5pbml0KGMsYSk7fX0pLGI9cC5lbmM9e30saD1iLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBjPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgYj1bXSxkPTA7ZDxhO2QrKyl7dmFyIGY9Y1tkPj4+Ml0+Pj4yNC04KihkJTQpJjI1NTtiLnB1c2goKGY+Pj40KS50b1N0cmluZygxNikpO2IucHVzaCgoZiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGIuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGM9YS5sZW5ndGgsYj1bXSxkPTA7ZDxjO2QrPTIpYltkPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGQsMiksMTYpPDwyNC00KihkJTgpO3JldHVybiBuZXcgbi5pbml0KGIsYy8yKTt9fSxnPWIuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGM9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBiPVtdLGQ9MDtkPGE7ZCsrKWIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNbZD4+PjJdPj4+MjQtOCooZCU0KSYyNTUpKTtyZXR1cm4gYi5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hLmxlbmd0aCxiPVtdLGQ9MDtkPGM7ZCsrKWJbZD4+PjJdfD0oYS5jaGFyQ29kZUF0KGQpJjI1NSk8PDI0LTgqKGQlNCk7cmV0dXJuIG5ldyBuLmluaXQoYixjKTt9fSxyPWIuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShnLnN0cmluZ2lmeShhKSkpO31jYXRjaChjKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZy5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSxrPWouQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1mLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBuLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9ci5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2RhdGEsYj1jLndvcmRzLGQ9Yy5zaWdCeXRlcyxmPXRoaXMuYmxvY2tTaXplLGg9ZC8oNCpmKSxoPWE/ZS5jZWlsKGgpOmUubWF4KChofDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1oKmY7ZD1lLm1pbig0KmEsZCk7aWYoYSl7Zm9yKHZhciBnPTA7ZzxhO2crPWYpdGhpcy5fZG9Qcm9jZXNzQmxvY2soYixnKTtnPWIuc3BsaWNlKDAsYSk7Yy5zaWdCeXRlcy09ZDt9cmV0dXJuIG5ldyBuLmluaXQoZyxkKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9Zi5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO2ouSGFzaGVyPWsuZXh0ZW5kKHtjZmc6Zi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe2sucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsYil7cmV0dXJuIG5ldyBhLmluaXQoYikuZmluYWxpemUoYyk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGYpe3JldHVybiBuZXcgcy5ITUFDLmluaXQoYSxmKS5maW5hbGl6ZShiKTt9O319KTt2YXIgcz1wLmFsZ289e307cmV0dXJuIHA7fShNYXRoKTsoZnVuY3Rpb24oKXt2YXIgZT1DcnlwdG9KUyxtPWUubGliLHA9bS5Xb3JkQXJyYXksaj1tLkhhc2hlcixsPVtdLG09ZS5hbGdvLlNIQTE9ai5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgcC5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGYsbil7Zm9yKHZhciBiPXRoaXMuX2hhc2gud29yZHMsaD1iWzBdLGc9YlsxXSxlPWJbMl0saz1iWzNdLGo9Yls0XSxhPTA7ODA+YTthKyspe2lmKDE2PmEpbFthXT1mW24rYV18MDtlbHNle3ZhciBjPWxbYS0zXV5sW2EtOF1ebFthLTE0XV5sW2EtMTZdO2xbYV09Yzw8MXxjPj4+MzE7fWM9KGg8PDV8aD4+PjI3KStqK2xbYV07Yz0yMD5hP2MrKChnJmV8fmcmaykrMTUxODUwMDI0OSk6NDA+YT9jKygoZ15lXmspKzE4NTk3NzUzOTMpOjYwPmE/YysoKGcmZXxnJmt8ZSZrKS0xODk0MDA3NTg4KTpjKygoZ15lXmspLTg5OTQ5NzUxNCk7aj1rO2s9ZTtlPWc8PDMwfGc+Pj4yO2c9aDtoPWM7fWJbMF09YlswXStofDA7YlsxXT1iWzFdK2d8MDtiWzJdPWJbMl0rZXwwO2JbM109YlszXStrfDA7Yls0XT1iWzRdK2p8MDt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGY9dGhpcy5fZGF0YSxlPWYud29yZHMsYj04KnRoaXMuX25EYXRhQnl0ZXMsaD04KmYuc2lnQnl0ZXM7ZVtoPj4+NV18PTEyODw8MjQtaCUzMjtlWyhoKzY0Pj4+OTw8NCkrMTRdPU1hdGguZmxvb3IoYi80Mjk0OTY3Mjk2KTtlWyhoKzY0Pj4+OTw8NCkrMTVdPWI7Zi5zaWdCeXRlcz00KmUubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpcy5faGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9ai5jbG9uZS5jYWxsKHRoaXMpO2UuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBlO319KTtlLlNIQTE9ai5fY3JlYXRlSGVscGVyKG0pO2UuSG1hY1NIQTE9ai5fY3JlYXRlSG1hY0hlbHBlcihtKTt9KSgpOw==',
'/libs/crypto_js/rollups/sha3.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbih2LHApe3ZhciBkPXt9LHU9ZC5saWI9e30scj1mdW5jdGlvbigpe30sZj11LkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtyLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyByKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scz11LldvcmRBcnJheT1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPXA/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHkpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGM9YS53b3JkcyxqPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihqJTQpZm9yKHZhciBuPTA7bjxhO24rKyliW2orbj4+PjJdfD0oY1tuPj4+Ml0+Pj4yNC04KihuJTQpJjI1NSk8PDI0LTgqKChqK24pJTQpO2Vsc2UgaWYoNjU1MzU8Yy5sZW5ndGgpZm9yKG49MDtuPGE7bis9NCliW2orbj4+PjJdPWNbbj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsYyk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7YVtiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7YS5sZW5ndGg9di5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGE7Yys9NCliLnB1c2goNDI5NDk2NzI5Nip2LnJhbmRvbSgpfDApO3JldHVybiBuZXcgcy5pbml0KGIsYSk7fX0pLHg9ZC5lbmM9e30seT14LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgYz1bXSxqPTA7ajxhO2orKyl7dmFyIG49YltqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NTtjLnB1c2goKG4+Pj40KS50b1N0cmluZygxNikpO2MucHVzaCgobiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGMuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1bXSxqPTA7ajxiO2orPTIpY1tqPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGosMiksMTYpPDwyNC00KihqJTgpO3JldHVybiBuZXcgcy5pbml0KGMsYi8yKTt9fSxlPXguTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBjPVtdLGo9MDtqPGE7aisrKWMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbaj4+PjJdPj4+MjQtOCooaiU0KSYyNTUpKTtyZXR1cm4gYy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPVtdLGo9MDtqPGI7aisrKWNbaj4+PjJdfD0oYS5jaGFyQ29kZUF0KGopJjI1NSk8PDI0LTgqKGolNCk7cmV0dXJuIG5ldyBzLmluaXQoYyxiKTt9fSxxPXguVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShlLnN0cmluZ2lmeShhKSkpO31jYXRjaChiKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSx0PXUuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1mLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBzLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9cS5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2RhdGEsYz1iLndvcmRzLGo9Yi5zaWdCeXRlcyxuPXRoaXMuYmxvY2tTaXplLGU9ai8oNCpuKSxlPWE/di5jZWlsKGUpOnYubWF4KChlfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1lKm47aj12Lm1pbig0KmEsaik7aWYoYSl7Zm9yKHZhciBmPTA7ZjxhO2YrPW4pdGhpcy5fZG9Qcm9jZXNzQmxvY2soYyxmKTtmPWMuc3BsaWNlKDAsYSk7Yi5zaWdCeXRlcy09ajt9cmV0dXJuIG5ldyBzLmluaXQoZixqKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9Zi5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO3UuSGFzaGVyPXQuZXh0ZW5kKHtjZmc6Zi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe3QucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG5ldyBhLmluaXQoYykuZmluYWxpemUoYik7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBuZXcgdy5ITUFDLmluaXQoYSxjKS5maW5hbGl6ZShiKTt9O319KTt2YXIgdz1kLmFsZ289e307cmV0dXJuIGQ7fShNYXRoKTsoZnVuY3Rpb24odil7dmFyIHA9Q3J5cHRvSlMsZD1wLmxpYix1PWQuQmFzZSxyPWQuV29yZEFycmF5LHA9cC54NjQ9e307cC5Xb3JkPXUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGYscyl7dGhpcy5oaWdoPWY7dGhpcy5sb3c9czt9fSk7cC5Xb3JkQXJyYXk9dS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZixzKXtmPXRoaXMud29yZHM9Znx8W107dGhpcy5zaWdCeXRlcz1zIT12P3M6OCpmLmxlbmd0aDt9LHRvWDMyOmZ1bmN0aW9uKCl7Zm9yKHZhciBmPXRoaXMud29yZHMscz1mLmxlbmd0aCxkPVtdLHA9MDtwPHM7cCsrKXt2YXIgZT1mW3BdO2QucHVzaChlLmhpZ2gpO2QucHVzaChlLmxvdyk7fXJldHVybiByLmNyZWF0ZShkLHRoaXMuc2lnQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIGY9dS5jbG9uZS5jYWxsKHRoaXMpLGQ9Zi53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHA9ZC5sZW5ndGgscj0wO3I8cDtyKyspZFtyXT1kW3JdLmNsb25lKCk7cmV0dXJuIGY7fX0pO30pKCk7KGZ1bmN0aW9uKHYpe2Zvcih2YXIgcD1DcnlwdG9KUyxkPXAubGliLHU9ZC5Xb3JkQXJyYXkscj1kLkhhc2hlcixmPXAueDY0LldvcmQsZD1wLmFsZ28scz1bXSx4PVtdLHk9W10sZT0xLHE9MCx0PTA7MjQ+dDt0Kyspe3NbZSs1KnFdPSh0KzEpKih0KzIpLzIlNjQ7dmFyIHc9KDIqZSszKnEpJTUsZT1xJTUscT13O31mb3IoZT0wOzU+ZTtlKyspZm9yKHE9MDs1PnE7cSsrKXhbZSs1KnFdPXErNSooKDIqZSszKnEpJTUpO2U9MTtmb3IocT0wOzI0PnE7cSsrKXtmb3IodmFyIGE9dz10PTA7Nz5hO2ErKyl7aWYoZSYxKXt2YXIgYj0oMTw8YSktMTszMj5iP3dePTE8PGI6dF49MTw8Yi0zMjt9ZT1lJjEyOD9lPDwxXjExMzplPDwxO315W3FdPWYuY3JlYXRlKHQsdyk7fWZvcih2YXIgYz1bXSxlPTA7MjU+ZTtlKyspY1tlXT1mLmNyZWF0ZSgpO2Q9ZC5TSEEzPXIuZXh0ZW5kKHtjZmc6ci5jZmcuZXh0ZW5kKHtvdXRwdXRMZW5ndGg6NTEyfSksX2RvUmVzZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fc3RhdGU9W10sYj0wOzI1PmI7YisrKWFbYl09bmV3IGYuaW5pdCgpO3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMjt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZT10aGlzLl9zdGF0ZSxmPXRoaXMuYmxvY2tTaXplLzIsaD0wO2g8ZjtoKyspe3ZhciBsPWFbYisyKmhdLG09YVtiKzIqaCsxXSxsPShsPDw4fGw+Pj4yNCkmMTY3MTE5MzV8KGw8PDI0fGw+Pj44KSY0Mjc4MjU1MzYwLG09KG08PDh8bT4+PjI0KSYxNjcxMTkzNXwobTw8MjR8bT4+PjgpJjQyNzgyNTUzNjAsZz1lW2hdO2cuaGlnaF49bTtnLmxvd149bDt9Zm9yKGY9MDsyND5mO2YrKyl7Zm9yKGg9MDs1Pmg7aCsrKXtmb3IodmFyIGQ9bD0wLGs9MDs1Pms7aysrKWc9ZVtoKzUqa10sbF49Zy5oaWdoLGRePWcubG93O2c9Y1toXTtnLmhpZ2g9bDtnLmxvdz1kO31mb3IoaD0wOzU+aDtoKyspe2c9Y1soaCs0KSU1XTtsPWNbKGgrMSklNV07bT1sLmhpZ2g7az1sLmxvdztsPWcuaGlnaF4obTw8MXxrPj4+MzEpO2Q9Zy5sb3deKGs8PDF8bT4+PjMxKTtmb3Ioaz0wOzU+aztrKyspZz1lW2grNSprXSxnLmhpZ2hePWwsZy5sb3dePWQ7fWZvcihtPTE7MjU+bTttKyspZz1lW21dLGg9Zy5oaWdoLGc9Zy5sb3csaz1zW21dLDMyPms/KGw9aDw8a3xnPj4+MzItayxkPWc8PGt8aD4+PjMyLWspOihsPWc8PGstMzJ8aD4+PjY0LWssZD1oPDxrLTMyfGc+Pj42NC1rKSxnPWNbeFttXV0sZy5oaWdoPWwsZy5sb3c9ZDtnPWNbMF07aD1lWzBdO2cuaGlnaD1oLmhpZ2g7Zy5sb3c9aC5sb3c7Zm9yKGg9MDs1Pmg7aCsrKWZvcihrPTA7NT5rO2srKyltPWgrNSprLGc9ZVttXSxsPWNbbV0sbT1jWyhoKzEpJTUrNSprXSxkPWNbKGgrMiklNSs1KmtdLGcuaGlnaD1sLmhpZ2hefm0uaGlnaCZkLmhpZ2gsZy5sb3c9bC5sb3defm0ubG93JmQubG93O2c9ZVswXTtoPXlbZl07Zy5oaWdoXj1oLmhpZ2g7Zy5sb3dePWgubG93O319LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxiPWEud29yZHMsYz04KmEuc2lnQnl0ZXMsZT0zMip0aGlzLmJsb2NrU2l6ZTtiW2M+Pj41XXw9MTw8MjQtYyUzMjtiWyh2LmNlaWwoKGMrMSkvZSkqZT4+PjUpLTFdfD0xMjg7YS5zaWdCeXRlcz00KmIubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIGE9dGhpcy5fc3RhdGUsYj10aGlzLmNmZy5vdXRwdXRMZW5ndGgvOCxjPWIvOCxlPVtdLGg9MDtoPGM7aCsrKXt2YXIgZD1hW2hdLGY9ZC5oaWdoLGQ9ZC5sb3csZj0oZjw8OHxmPj4+MjQpJjE2NzExOTM1fChmPDwyNHxmPj4+OCkmNDI3ODI1NTM2MCxkPShkPDw4fGQ+Pj4yNCkmMTY3MTE5MzV8KGQ8PDI0fGQ+Pj44KSY0Mjc4MjU1MzYwO2UucHVzaChkKTtlLnB1c2goZik7fXJldHVybiBuZXcgdS5pbml0KGUsYik7fSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1yLmNsb25lLmNhbGwodGhpcyksYj1hLl9zdGF0ZT10aGlzLl9zdGF0ZS5zbGljZSgwKSxjPTA7MjU+YztjKyspYltjXT1iW2NdLmNsb25lKCk7cmV0dXJuIGE7fX0pO3AuU0hBMz1yLl9jcmVhdGVIZWxwZXIoZCk7cC5IbWFjU0hBMz1yLl9jcmVhdGVIbWFjSGVscGVyKGQpO30pKE1hdGgpOw==',
'/libs/crypto_js/rollups/sha224.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihnLGwpe3ZhciBmPXt9LGs9Zi5saWI9e30saD1mdW5jdGlvbigpe30sbT1rLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtoLnByb3RvdHlwZT10aGlzO3ZhciBjPW5ldyBoKCk7YSYmYy5taXhJbihhKTtjLmhhc093blByb3BlcnR5KCJpbml0Iil8fChjLmluaXQ9ZnVuY3Rpb24oKXtjLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtjLmluaXQucHJvdG90eXBlPWM7Yy4kc3VwZXI9dGhpcztyZXR1cm4gYzt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJih0aGlzW2NdPWFbY10pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scT1rLldvcmRBcnJheT1tLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWMhPWw/Yzo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHMpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndvcmRzLGQ9YS53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihiJTQpZm9yKHZhciBlPTA7ZTxhO2UrKyljW2IrZT4+PjJdfD0oZFtlPj4+Ml0+Pj4yNC04KihlJTQpJjI1NSk8PDI0LTgqKChiK2UpJTQpO2Vsc2UgaWYoNjU1MzU8ZC5sZW5ndGgpZm9yKGU9MDtlPGE7ZSs9NCljW2IrZT4+PjJdPWRbZT4+PjJdO2Vsc2UgYy5wdXNoLmFwcGx5KGMsZCk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YVtjPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGMlNCk7YS5sZW5ndGg9Zy5jZWlsKGMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW0uY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGQ9MDtkPGE7ZCs9NCljLnB1c2goNDI5NDk2NzI5NipnLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcS5pbml0KGMsYSk7fX0pLHQ9Zi5lbmM9e30scz10LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBjPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZD1bXSxiPTA7YjxhO2IrKyl7dmFyIGU9Y1tiPj4+Ml0+Pj4yNC04KihiJTQpJjI1NTtkLnB1c2goKGU+Pj40KS50b1N0cmluZygxNikpO2QucHVzaCgoZSYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGQuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGM9YS5sZW5ndGgsZD1bXSxiPTA7YjxjO2IrPTIpZFtiPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGIsMiksMTYpPDwyNC00KihiJTgpO3JldHVybiBuZXcgcS5pbml0KGQsYy8yKTt9fSxuPXQuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGM9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBkPVtdLGI9MDtiPGE7YisrKWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNbYj4+PjJdPj4+MjQtOCooYiU0KSYyNTUpKTtyZXR1cm4gZC5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hLmxlbmd0aCxkPVtdLGI9MDtiPGM7YisrKWRbYj4+PjJdfD0oYS5jaGFyQ29kZUF0KGIpJjI1NSk8PDI0LTgqKGIlNCk7cmV0dXJuIG5ldyBxLmluaXQoZCxjKTt9fSxqPXQuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShuLnN0cmluZ2lmeShhKSkpO31jYXRjaChjKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gbi5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTt9fSx3PWsuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1tLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBxLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9ai5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2RhdGEsZD1jLndvcmRzLGI9Yy5zaWdCeXRlcyxlPXRoaXMuYmxvY2tTaXplLGY9Yi8oNCplKSxmPWE/Zy5jZWlsKGYpOmcubWF4KChmfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7YT1mKmU7Yj1nLm1pbig0KmEsYik7aWYoYSl7Zm9yKHZhciB1PTA7dTxhO3UrPWUpdGhpcy5fZG9Qcm9jZXNzQmxvY2soZCx1KTt1PWQuc3BsaWNlKDAsYSk7Yy5zaWdCeXRlcy09Yjt9cmV0dXJuIG5ldyBxLmluaXQodSxiKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bS5jbG9uZS5jYWxsKHRoaXMpO2EuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBhO30sX21pbkJ1ZmZlclNpemU6MH0pO2suSGFzaGVyPXcuZXh0ZW5kKHtjZmc6bS5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChhKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe3cucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwZW5kKGEpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe2EmJnRoaXMuX2FwcGVuZChhKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIG5ldyBhLmluaXQoZCkuZmluYWxpemUoYyk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVybiBuZXcgdi5ITUFDLmluaXQoYSxkKS5maW5hbGl6ZShjKTt9O319KTt2YXIgdj1mLmFsZ289e307cmV0dXJuIGY7fShNYXRoKTsoZnVuY3Rpb24oZyl7Zm9yKHZhciBsPUNyeXB0b0pTLGY9bC5saWIsaz1mLldvcmRBcnJheSxoPWYuSGFzaGVyLGY9bC5hbGdvLG09W10scT1bXSx0PWZ1bmN0aW9uKGEpe3JldHVybiA0Mjk0OTY3Mjk2KihhLShhfDApKXwwO30scz0yLG49MDs2ND5uOyl7dmFyIGo7YTp7aj1zO2Zvcih2YXIgdz1nLnNxcnQoaiksdj0yO3Y8PXc7disrKWlmKCEoaiV2KSl7aj0hMTticmVhayBhO31qPSEwO31qJiYoOD5uJiYobVtuXT10KGcucG93KHMsMC41KSkpLHFbbl09dChnLnBvdyhzLDEvMykpLG4rKyk7cysrO312YXIgYT1bXSxmPWYuU0hBMjU2PWguZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGsuaW5pdChtLnNsaWNlKDApKTt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihjLGQpe2Zvcih2YXIgYj10aGlzLl9oYXNoLndvcmRzLGU9YlswXSxmPWJbMV0sZz1iWzJdLGs9YlszXSxoPWJbNF0sbD1iWzVdLG09Yls2XSxuPWJbN10scD0wOzY0PnA7cCsrKXtpZigxNj5wKWFbcF09Y1tkK3BdfDA7ZWxzZXt2YXIgaj1hW3AtMTVdLHI9YVtwLTJdO2FbcF09KChqPDwyNXxqPj4+NyleKGo8PDE0fGo+Pj4xOCleaj4+PjMpK2FbcC03XSsoKHI8PDE1fHI+Pj4xNyleKHI8PDEzfHI+Pj4xOSlecj4+PjEwKSthW3AtMTZdO31qPW4rKChoPDwyNnxoPj4+NileKGg8PDIxfGg+Pj4xMSleKGg8PDd8aD4+PjI1KSkrKGgmbF5+aCZtKStxW3BdK2FbcF07cj0oKGU8PDMwfGU+Pj4yKV4oZTw8MTl8ZT4+PjEzKV4oZTw8MTB8ZT4+PjIyKSkrKGUmZl5lJmdeZiZnKTtuPW07bT1sO2w9aDtoPWsranwwO2s9ZztnPWY7Zj1lO2U9aityfDA7fWJbMF09YlswXStlfDA7YlsxXT1iWzFdK2Z8MDtiWzJdPWJbMl0rZ3wwO2JbM109YlszXStrfDA7Yls0XT1iWzRdK2h8MDtiWzVdPWJbNV0rbHwwO2JbNl09Yls2XSttfDA7Yls3XT1iWzddK258MDt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxkPWEud29yZHMsYj04KnRoaXMuX25EYXRhQnl0ZXMsZT04KmEuc2lnQnl0ZXM7ZFtlPj4+NV18PTEyODw8MjQtZSUzMjtkWyhlKzY0Pj4+OTw8NCkrMTRdPWcuZmxvb3IoYi80Mjk0OTY3Mjk2KTtkWyhlKzY0Pj4+OTw8NCkrMTVdPWI7YS5zaWdCeXRlcz00KmQubGVuZ3RoO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpcy5faGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9aC5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO319KTtsLlNIQTI1Nj1oLl9jcmVhdGVIZWxwZXIoZik7bC5IbWFjU0hBMjU2PWguX2NyZWF0ZUhtYWNIZWxwZXIoZik7fSkoTWF0aCk7KGZ1bmN0aW9uKCl7dmFyIGc9Q3J5cHRvSlMsbD1nLmxpYi5Xb3JkQXJyYXksZj1nLmFsZ28saz1mLlNIQTI1NixmPWYuU0hBMjI0PWsuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGwuaW5pdChbMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0pO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZj1rLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7Zi5zaWdCeXRlcy09NDtyZXR1cm4gZjt9fSk7Zy5TSEEyMjQ9ay5fY3JlYXRlSGVscGVyKGYpO2cuSG1hY1NIQTIyND1rLl9jcmVhdGVIbWFjSGVscGVyKGYpO30pKCk7',
'/libs/crypto_js/rollups/sha512.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihhLG0pe3ZhciByPXt9LGY9ci5saWI9e30sZz1mdW5jdGlvbigpe30sbD1mLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtnLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyBnKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scD1mLldvcmRBcnJheT1sLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPW0/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHEpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGQ9YS53b3JkcyxjPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihjJTQpZm9yKHZhciBqPTA7ajxhO2orKyliW2Mraj4+PjJdfD0oZFtqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NSk8PDI0LTgqKChjK2opJTQpO2Vsc2UgaWYoNjU1MzU8ZC5sZW5ndGgpZm9yKGo9MDtqPGE7ais9NCliW2Mraj4+PjJdPWRbaj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsZCk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7bltiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7bi5sZW5ndGg9YS5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWwuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24obil7Zm9yKHZhciBiPVtdLGQ9MDtkPG47ZCs9NCliLnB1c2goNDI5NDk2NzI5NiphLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcC5pbml0KGIsbik7fX0pLHk9ci5lbmM9e30scT15LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZD1bXSxjPTA7YzxhO2MrKyl7dmFyIGo9YltjPj4+Ml0+Pj4yNC04KihjJTQpJjI1NTtkLnB1c2goKGo+Pj40KS50b1N0cmluZygxNikpO2QucHVzaCgoaiYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGQuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsZD1bXSxjPTA7YzxiO2MrPTIpZFtjPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGMsMiksMTYpPDwyNC00KihjJTgpO3JldHVybiBuZXcgcC5pbml0KGQsYi8yKTt9fSxHPXkuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBkPVtdLGM9MDtjPGE7YysrKWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbYz4+PjJdPj4+MjQtOCooYyU0KSYyNTUpKTtyZXR1cm4gZC5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxkPVtdLGM9MDtjPGI7YysrKWRbYz4+PjJdfD0oYS5jaGFyQ29kZUF0KGMpJjI1NSk8PDI0LTgqKGMlNCk7cmV0dXJuIG5ldyBwLmluaXQoZCxiKTt9fSxmYT15LlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoRy5zdHJpbmdpZnkoYSkpKTt9Y2F0Y2goYil7dGhyb3cgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIik7fX0scGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIEcucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSk7fX0saD1mLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09bC5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgcC5pbml0KCk7dGhpcy5fbkRhdGFCeXRlcz0wO30sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWZhLnBhcnNlKGEpKTt0aGlzLl9kYXRhLmNvbmNhdChhKTt0aGlzLl9uRGF0YUJ5dGVzKz1hLnNpZ0J5dGVzO30sX3Byb2Nlc3M6ZnVuY3Rpb24obil7dmFyIGI9dGhpcy5fZGF0YSxkPWIud29yZHMsYz1iLnNpZ0J5dGVzLGo9dGhpcy5ibG9ja1NpemUsbD1jLyg0KmopLGw9bj9hLmNlaWwobCk6YS5tYXgoKGx8MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTtuPWwqajtjPWEubWluKDQqbixjKTtpZihuKXtmb3IodmFyIGg9MDtoPG47aCs9ail0aGlzLl9kb1Byb2Nlc3NCbG9jayhkLGgpO2g9ZC5zcGxpY2UoMCxuKTtiLnNpZ0J5dGVzLT1jO31yZXR1cm4gbmV3IHAuaW5pdChoLGMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1sLmNsb25lLmNhbGwodGhpcyk7YS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGE7fSxfbWluQnVmZmVyU2l6ZTowfSk7Zi5IYXNoZXI9aC5leHRlbmQoe2NmZzpsLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGEpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7aC5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCk7fSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXtyZXR1cm4gbmV3IGEuaW5pdChkKS5maW5hbGl6ZShiKTt9O30sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIG5ldyBnYS5ITUFDLmluaXQoYSxkKS5maW5hbGl6ZShiKTt9O319KTt2YXIgZ2E9ci5hbGdvPXt9O3JldHVybiByO30oTWF0aCk7KGZ1bmN0aW9uKGEpe3ZhciBtPUNyeXB0b0pTLHI9bS5saWIsZj1yLkJhc2UsZz1yLldvcmRBcnJheSxtPW0ueDY0PXt9O20uV29yZD1mLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLHApe3RoaXMuaGlnaD1hO3RoaXMubG93PXA7fX0pO20uV29yZEFycmF5PWYuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGwscCl7bD10aGlzLndvcmRzPWx8fFtdO3RoaXMuc2lnQnl0ZXM9cCE9YT9wOjgqbC5sZW5ndGg7fSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLndvcmRzLHA9YS5sZW5ndGgsZj1bXSxxPTA7cTxwO3ErKyl7dmFyIEc9YVtxXTtmLnB1c2goRy5oaWdoKTtmLnB1c2goRy5sb3cpO31yZXR1cm4gZy5jcmVhdGUoZix0aGlzLnNpZ0J5dGVzKTt9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWYuY2xvbmUuY2FsbCh0aGlzKSxwPWEud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxnPXAubGVuZ3RoLHE9MDtxPGc7cSsrKXBbcV09cFtxXS5jbG9uZSgpO3JldHVybiBhO319KTt9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZy5jcmVhdGUuYXBwbHkoZyxhcmd1bWVudHMpO31mb3IodmFyIG09Q3J5cHRvSlMscj1tLmxpYi5IYXNoZXIsZj1tLng2NCxnPWYuV29yZCxsPWYuV29yZEFycmF5LGY9bS5hbGdvLHA9W2EoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxhKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxhKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSksYSgzOTIxMDA5NTczLDIxNzMyOTU1NDgpLGEoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLGEoMTUwODk3MDk5MywzMDUzODM0MjY1KSxhKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSksYSgyODcwNzYzMjIxLDM2NjQ2MDk1NjApLGEoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxhKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxhKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxhKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCksYSgxOTI1MDc4Mzg4LDQwNjgxODIzODMpLGEoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLGEoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLGEoMzI0ODIyMjU4MCwzNDc5Nzc0ODY4KSxhKDM4MzUzOTA0MDEsMjY2NjYxMzQ1OCksYSg0MDIyMjI0Nzc0LDk0NDcxMTEzOSksYSgyNjQzNDcwNzgsMjM0MTI2Mjc3MyksYSg2MDQ4MDc2MjgsMjAwNzgwMDkzMyksYSg3NzAyNTU5ODMsMTQ5NTk5MDkwMSksYSgxMjQ5MTUwMTIyLDE4NTY0MzEyMzUpLGEoMTU1NTA4MTY5MiwzMTc1MjE4MTMyKSxhKDE5OTYwNjQ5ODYsMjE5ODk1MDgzNyksYSgyNTU0MjIwODgyLDM5OTk3MTkzMzkpLGEoMjgyMTgzNDM0OSw3NjY3ODQwMTYpLGEoMjk1Mjk5NjgwOCwyNTY2NTk0ODc5KSxhKDMyMTAzMTM2NzEsMzIwMzMzNzk1NiksYSgzMzM2NTcxODkxLDEwMzQ0NTcwMjYpLGEoMzU4NDUyODcxMSwyNDY2OTQ4OTAxKSxhKDExMzkyNjk5MywzNzU4MzI2MzgzKSxhKDMzODI0MTg5NSwxNjg3MTc5MzYpLGEoNjY2MzA3MjA1LDExODgxNzk5NjQpLGEoNzczNTI5OTEyLDE1NDYwNDU3MzQpLGEoMTI5NDc1NzM3MiwxNTIyODA1NDg1KSxhKDEzOTYxODIyOTEsMjY0MzgzMzgyMyksYSgxNjk1MTgzNzAwLDIzNDM1MjczOTApLGEoMTk4NjY2MTA1MSwxMDE0NDc3NDgwKSxhKDIxNzcwMjYzNTAsMTIwNjc1OTE0MiksYSgyNDU2OTU2MDM3LDM0NDA3NzYyNyksYSgyNzMwNDg1OTIxLDEyOTA4NjM0NjApLGEoMjgyMDMwMjQxMSwzMTU4NDU0MjczKSxhKDMyNTk3MzA4MDAsMzUwNTk1MjY1NyksYSgzMzQ1NzY0NzcxLDEwNjIxNzAwOCksYSgzNTE2MDY1ODE3LDM2MDYwMDgzNDQpLGEoMzYwMDM1MjgwNCwxNDMyNzI1Nzc2KSxhKDQwOTQ1NzE5MDksMTQ2NzAzMTU5NCksYSgyNzU0MjMzNDQsODUxMTY5NzIwKSxhKDQzMDIyNzczNCwzMTAwODIzNzUyKSxhKDUwNjk0ODYxNiwxMzYzMjU4MTk1KSxhKDY1OTA2MDU1NiwzNzUwNjg1NTkzKSxhKDg4Mzk5Nzg3NywzNzg1MDUwMjgwKSxhKDk1ODEzOTU3MSwzMzE4MzA3NDI3KSxhKDEzMjI4MjIyMTgsMzgxMjcyMzQwMyksYSgxNTM3MDAyMDYzLDIwMDMwMzQ5OTUpLGEoMTc0Nzg3Mzc3OSwzNjAyMDM2ODk5KSxhKDE5NTU1NjIyMjIsMTU3NTk5MDAxMiksYSgyMDI0MTA0ODE1LDExMjU1OTI5MjgpLGEoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxhKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxhKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxhKDI3NTY3MzQxODcsMzczMzExMDI0OSksYSgzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLGEoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxhKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksYSgzNTE1MjY3MjcxLDU2NjI4MDcxMSksYSgzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLGEoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxhKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxhKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxhKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxhKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLGEoNjg1NDcxNzMzLDU4NzQ5NjgzNiksYSg4NTIxNDI5NzEsMTA4Njc5Mjg1MSksYSgxMDE3MDM2Mjk4LDM2NTU0MzEwMCksYSgxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLGEoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxhKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksYSgxNjA3MTY3OTE1LDk4NzE2NzQ2OCksYSgxODE2NDAyMzE2LDEyNDYxODk1OTEpXSx5PVtdLHE9MDs4MD5xO3ErKyl5W3FdPWEoKTtmPWYuU0hBNTEyPXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGwuaW5pdChbbmV3IGcuaW5pdCgxNzc5MDMzNzAzLDQwODkyMzU3MjApLG5ldyBnLmluaXQoMzE0NDEzNDI3NywyMjI3ODczNTk1KSxuZXcgZy5pbml0KDEwMTM5MDQyNDIsNDI3MTE3NTcyMyksbmV3IGcuaW5pdCgyNzczNDgwNzYyLDE1OTU3NTAxMjkpLG5ldyBnLmluaXQoMTM1OTg5MzExOSwyOTE3NTY1MTM3KSxuZXcgZy5pbml0KDI2MDA4MjI5MjQsNzI1NTExMTk5KSxuZXcgZy5pbml0KDUyODczNDYzNSw0MjE1Mzg5NTQ3KSxuZXcgZy5pbml0KDE1NDE0NTkyMjUsMzI3MDMzMjA5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBoPXRoaXMuX2hhc2gud29yZHMsZz1oWzBdLG49aFsxXSxiPWhbMl0sZD1oWzNdLGM9aFs0XSxqPWhbNV0sbD1oWzZdLGg9aFs3XSxxPWcuaGlnaCxtPWcubG93LHI9bi5oaWdoLE49bi5sb3csWj1iLmhpZ2gsTz1iLmxvdywkPWQuaGlnaCxQPWQubG93LGFhPWMuaGlnaCxRPWMubG93LGJhPWouaGlnaCxSPWoubG93LGNhPWwuaGlnaCxTPWwubG93LGRhPWguaGlnaCxUPWgubG93LHY9cSxzPW0sSD1yLEU9TixJPVosRj1PLFc9JCxKPVAsdz1hYSx0PVEsVT1iYSxLPVIsVj1jYSxMPVMsWD1kYSxNPVQseD0wOzgwPng7eCsrKXt2YXIgQj15W3hdO2lmKDE2PngpdmFyIHU9Qi5oaWdoPWFbZisyKnhdfDAsZT1CLmxvdz1hW2YrMip4KzFdfDA7ZWxzZXt2YXIgdT15W3gtMTVdLGU9dS5oaWdoLHo9dS5sb3csdT0oZT4+PjF8ejw8MzEpXihlPj4+OHx6PDwyNCleZT4+Pjcsej0oej4+PjF8ZTw8MzEpXih6Pj4+OHxlPDwyNCleKHo+Pj43fGU8PDI1KSxEPXlbeC0yXSxlPUQuaGlnaCxrPUQubG93LEQ9KGU+Pj4xOXxrPDwxMyleKGU8PDN8az4+PjI5KV5lPj4+NixrPShrPj4+MTl8ZTw8MTMpXihrPDwzfGU+Pj4yOSleKGs+Pj42fGU8PDI2KSxlPXlbeC03XSxZPWUuaGlnaCxDPXlbeC0xNl0sQT1DLmhpZ2gsQz1DLmxvdyxlPXorZS5sb3csdT11K1krKGU+Pj4wPHo+Pj4wPzE6MCksZT1lK2ssdT11K0QrKGU+Pj4wPGs+Pj4wPzE6MCksZT1lK0MsdT11K0ErKGU+Pj4wPEM+Pj4wPzE6MCk7Qi5oaWdoPXU7Qi5sb3c9ZTt9dmFyIFk9dyZVXn53JlYsQz10JktefnQmTCxCPXYmSF52JkleSCZJLGhhPXMmRV5zJkZeRSZGLHo9KHY+Pj4yOHxzPDw0KV4odjw8MzB8cz4+PjIpXih2PDwyNXxzPj4+NyksRD0ocz4+PjI4fHY8PDQpXihzPDwzMHx2Pj4+MileKHM8PDI1fHY+Pj43KSxrPXBbeF0saWE9ay5oaWdoLGVhPWsubG93LGs9TSsoKHQ+Pj4xNHx3PDwxOCleKHQ+Pj4xOHx3PDwxNCleKHQ8PDIzfHc+Pj45KSksQT1YKygodz4+PjE0fHQ8PDE4KV4odz4+PjE4fHQ8PDE0KV4odzw8MjN8dD4+PjkpKSsoaz4+PjA8TT4+PjA/MTowKSxrPWsrQyxBPUErWSsoaz4+PjA8Qz4+PjA/MTowKSxrPWsrZWEsQT1BK2lhKyhrPj4+MDxlYT4+PjA/MTowKSxrPWsrZSxBPUErdSsoaz4+PjA8ZT4+PjA/MTowKSxlPUQraGEsQj16K0IrKGU+Pj4wPEQ+Pj4wPzE6MCksWD1WLE09TCxWPVUsTD1LLFU9dyxLPXQsdD1KK2t8MCx3PVcrQSsodD4+PjA8Sj4+PjA/MTowKXwwLFc9SSxKPUYsST1ILEY9RSxIPXYsRT1zLHM9aytlfDAsdj1BK0IrKHM+Pj4wPGs+Pj4wPzE6MCl8MDt9bT1nLmxvdz1tK3M7Zy5oaWdoPXErdisobT4+PjA8cz4+PjA/MTowKTtOPW4ubG93PU4rRTtuLmhpZ2g9citIKyhOPj4+MDxFPj4+MD8xOjApO089Yi5sb3c9TytGO2IuaGlnaD1aK0krKE8+Pj4wPEY+Pj4wPzE6MCk7UD1kLmxvdz1QK0o7ZC5oaWdoPSQrVysoUD4+PjA8Sj4+PjA/MTowKTtRPWMubG93PVErdDtjLmhpZ2g9YWErdysoUT4+PjA8dD4+PjA/MTowKTtSPWoubG93PVIrSztqLmhpZ2g9YmErVSsoUj4+PjA8Sz4+PjA/MTowKTtTPWwubG93PVMrTDtsLmhpZ2g9Y2ErVisoUz4+PjA8TD4+PjA/MTowKTtUPWgubG93PVQrTTtoLmhpZ2g9ZGErWCsoVD4+PjA8TT4+PjA/MTowKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxmPWEud29yZHMsaD04KnRoaXMuX25EYXRhQnl0ZXMsZz04KmEuc2lnQnl0ZXM7ZltnPj4+NV18PTEyODw8MjQtZyUzMjtmWyhnKzEyOD4+PjEwPDw1KSszMF09TWF0aC5mbG9vcihoLzQyOTQ5NjcyOTYpO2ZbKGcrMTI4Pj4+MTA8PDUpKzMxXT1oO2Euc2lnQnl0ZXM9NCpmLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2gudG9YMzIoKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ci5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO30sYmxvY2tTaXplOjMyfSk7bS5TSEE1MTI9ci5fY3JlYXRlSGVscGVyKGYpO20uSG1hY1NIQTUxMj1yLl9jcmVhdGVIbWFjSGVscGVyKGYpO30pKCk7',
'/libs/crypto_js/rollups/sha384.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihhLGMpe3ZhciBkPXt9LGo9ZC5saWI9e30sZj1mdW5jdGlvbigpe30sbT1qLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtmLnByb3RvdHlwZT10aGlzO3ZhciBiPW5ldyBmKCk7YSYmYi5taXhJbihhKTtiLmhhc093blByb3BlcnR5KCJpbml0Iil8fChiLmluaXQ9ZnVuY3Rpb24oKXtiLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtiLmluaXQucHJvdG90eXBlPWI7Yi4kc3VwZXI9dGhpcztyZXR1cm4gYjt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXh0ZW5kKCk7YS5pbml0LmFwcGx5KGEsYXJndW1lbnRzKTtyZXR1cm4gYTt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0sQj1qLldvcmRBcnJheT1tLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe2E9dGhpcy53b3Jkcz1hfHxbXTt0aGlzLnNpZ0J5dGVzPWIhPWM/Yjo0KmEubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHkpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmRzLGc9YS53b3JkcyxlPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihlJTQpZm9yKHZhciBrPTA7azxhO2srKyliW2Uraz4+PjJdfD0oZ1trPj4+Ml0+Pj4yNC04KihrJTQpJjI1NSk8PDI0LTgqKChlK2spJTQpO2Vsc2UgaWYoNjU1MzU8Zy5sZW5ndGgpZm9yKGs9MDtrPGE7ays9NCliW2Uraz4+PjJdPWdbaz4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsZyk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy53b3JkcyxiPXRoaXMuc2lnQnl0ZXM7bltiPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGIlNCk7bi5sZW5ndGg9YS5jZWlsKGIvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW0uY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7fSxyYW5kb206ZnVuY3Rpb24obil7Zm9yKHZhciBiPVtdLGc9MDtnPG47Zys9NCliLnB1c2goNDI5NDk2NzI5NiphLnJhbmRvbSgpfDApO3JldHVybiBuZXcgQi5pbml0KGIsbik7fX0pLHY9ZC5lbmM9e30seT12LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEud29yZHM7YT1hLnNpZ0J5dGVzO2Zvcih2YXIgZz1bXSxlPTA7ZTxhO2UrKyl7dmFyIGs9YltlPj4+Ml0+Pj4yNC04KihlJTQpJjI1NTtnLnB1c2goKGs+Pj40KS50b1N0cmluZygxNikpO2cucHVzaCgoayYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGcuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsZz1bXSxlPTA7ZTxiO2UrPTIpZ1tlPj4+M118PXBhcnNlSW50KGEuc3Vic3RyKGUsMiksMTYpPDwyNC00KihlJTgpO3JldHVybiBuZXcgQi5pbml0KGcsYi8yKTt9fSxGPXYuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JkczthPWEuc2lnQnl0ZXM7Zm9yKHZhciBnPVtdLGU9MDtlPGE7ZSsrKWcucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJbZT4+PjJdPj4+MjQtOCooZSU0KSYyNTUpKTtyZXR1cm4gZy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxnPVtdLGU9MDtlPGI7ZSsrKWdbZT4+PjJdfD0oYS5jaGFyQ29kZUF0KGUpJjI1NSk8PDI0LTgqKGUlNCk7cmV0dXJuIG5ldyBCLmluaXQoZyxiKTt9fSxoYT12LlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoRi5zdHJpbmdpZnkoYSkpKTt9Y2F0Y2goYil7dGhyb3cgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIik7fX0scGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIEYucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSk7fX0sWj1qLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09bS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgQi5pbml0KCk7dGhpcy5fbkRhdGFCeXRlcz0wO30sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWhhLnBhcnNlKGEpKTt0aGlzLl9kYXRhLmNvbmNhdChhKTt0aGlzLl9uRGF0YUJ5dGVzKz1hLnNpZ0J5dGVzO30sX3Byb2Nlc3M6ZnVuY3Rpb24obil7dmFyIGI9dGhpcy5fZGF0YSxnPWIud29yZHMsZT1iLnNpZ0J5dGVzLGs9dGhpcy5ibG9ja1NpemUsbT1lLyg0KmspLG09bj9hLmNlaWwobSk6YS5tYXgoKG18MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTtuPW0qaztlPWEubWluKDQqbixlKTtpZihuKXtmb3IodmFyIGM9MDtjPG47Yys9ayl0aGlzLl9kb1Byb2Nlc3NCbG9jayhnLGMpO2M9Zy5zcGxpY2UoMCxuKTtiLnNpZ0J5dGVzLT1lO31yZXR1cm4gbmV3IEIuaW5pdChjLGUpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1tLmNsb25lLmNhbGwodGhpcyk7YS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGE7fSxfbWluQnVmZmVyU2l6ZTowfSk7ai5IYXNoZXI9Wi5leHRlbmQoe2NmZzptLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGEpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7Wi5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCk7fSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixnKXtyZXR1cm4gbmV3IGEuaW5pdChnKS5maW5hbGl6ZShiKTt9O30sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZyl7cmV0dXJuIG5ldyBpYS5ITUFDLmluaXQoYSxnKS5maW5hbGl6ZShiKTt9O319KTt2YXIgaWE9ZC5hbGdvPXt9O3JldHVybiBkO30oTWF0aCk7KGZ1bmN0aW9uKGEpe3ZhciBjPUNyeXB0b0pTLGQ9Yy5saWIsaj1kLkJhc2UsZj1kLldvcmRBcnJheSxjPWMueDY0PXt9O2MuV29yZD1qLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGMpe3RoaXMuaGlnaD1hO3RoaXMubG93PWM7fX0pO2MuV29yZEFycmF5PWouZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGMsZCl7Yz10aGlzLndvcmRzPWN8fFtdO3RoaXMuc2lnQnl0ZXM9ZCE9YT9kOjgqYy5sZW5ndGg7fSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLndvcmRzLGM9YS5sZW5ndGgsZD1bXSxqPTA7ajxjO2orKyl7dmFyIEY9YVtqXTtkLnB1c2goRi5oaWdoKTtkLnB1c2goRi5sb3cpO31yZXR1cm4gZi5jcmVhdGUoZCx0aGlzLnNpZ0J5dGVzKTt9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWouY2xvbmUuY2FsbCh0aGlzKSxjPWEud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxkPWMubGVuZ3RoLGY9MDtmPGQ7ZisrKWNbZl09Y1tmXS5jbG9uZSgpO3JldHVybiBhO319KTt9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZi5jcmVhdGUuYXBwbHkoZixhcmd1bWVudHMpO31mb3IodmFyIGM9Q3J5cHRvSlMsZD1jLmxpYi5IYXNoZXIsaj1jLng2NCxmPWouV29yZCxtPWouV29yZEFycmF5LGo9Yy5hbGdvLEI9W2EoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxhKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxhKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSksYSgzOTIxMDA5NTczLDIxNzMyOTU1NDgpLGEoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLGEoMTUwODk3MDk5MywzMDUzODM0MjY1KSxhKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSksYSgyODcwNzYzMjIxLDM2NjQ2MDk1NjApLGEoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxhKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxhKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxhKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCksYSgxOTI1MDc4Mzg4LDQwNjgxODIzODMpLGEoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLGEoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLGEoMzI0ODIyMjU4MCwzNDc5Nzc0ODY4KSxhKDM4MzUzOTA0MDEsMjY2NjYxMzQ1OCksYSg0MDIyMjI0Nzc0LDk0NDcxMTEzOSksYSgyNjQzNDcwNzgsMjM0MTI2Mjc3MyksYSg2MDQ4MDc2MjgsMjAwNzgwMDkzMyksYSg3NzAyNTU5ODMsMTQ5NTk5MDkwMSksYSgxMjQ5MTUwMTIyLDE4NTY0MzEyMzUpLGEoMTU1NTA4MTY5MiwzMTc1MjE4MTMyKSxhKDE5OTYwNjQ5ODYsMjE5ODk1MDgzNyksYSgyNTU0MjIwODgyLDM5OTk3MTkzMzkpLGEoMjgyMTgzNDM0OSw3NjY3ODQwMTYpLGEoMjk1Mjk5NjgwOCwyNTY2NTk0ODc5KSxhKDMyMTAzMTM2NzEsMzIwMzMzNzk1NiksYSgzMzM2NTcxODkxLDEwMzQ0NTcwMjYpLGEoMzU4NDUyODcxMSwyNDY2OTQ4OTAxKSxhKDExMzkyNjk5MywzNzU4MzI2MzgzKSxhKDMzODI0MTg5NSwxNjg3MTc5MzYpLGEoNjY2MzA3MjA1LDExODgxNzk5NjQpLGEoNzczNTI5OTEyLDE1NDYwNDU3MzQpLGEoMTI5NDc1NzM3MiwxNTIyODA1NDg1KSxhKDEzOTYxODIyOTEsMjY0MzgzMzgyMyksYSgxNjk1MTgzNzAwLDIzNDM1MjczOTApLGEoMTk4NjY2MTA1MSwxMDE0NDc3NDgwKSxhKDIxNzcwMjYzNTAsMTIwNjc1OTE0MiksYSgyNDU2OTU2MDM3LDM0NDA3NzYyNyksYSgyNzMwNDg1OTIxLDEyOTA4NjM0NjApLGEoMjgyMDMwMjQxMSwzMTU4NDU0MjczKSxhKDMyNTk3MzA4MDAsMzUwNTk1MjY1NyksYSgzMzQ1NzY0NzcxLDEwNjIxNzAwOCksYSgzNTE2MDY1ODE3LDM2MDYwMDgzNDQpLGEoMzYwMDM1MjgwNCwxNDMyNzI1Nzc2KSxhKDQwOTQ1NzE5MDksMTQ2NzAzMTU5NCksYSgyNzU0MjMzNDQsODUxMTY5NzIwKSxhKDQzMDIyNzczNCwzMTAwODIzNzUyKSxhKDUwNjk0ODYxNiwxMzYzMjU4MTk1KSxhKDY1OTA2MDU1NiwzNzUwNjg1NTkzKSxhKDg4Mzk5Nzg3NywzNzg1MDUwMjgwKSxhKDk1ODEzOTU3MSwzMzE4MzA3NDI3KSxhKDEzMjI4MjIyMTgsMzgxMjcyMzQwMyksYSgxNTM3MDAyMDYzLDIwMDMwMzQ5OTUpLGEoMTc0Nzg3Mzc3OSwzNjAyMDM2ODk5KSxhKDE5NTU1NjIyMjIsMTU3NTk5MDAxMiksYSgyMDI0MTA0ODE1LDExMjU1OTI5MjgpLGEoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxhKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxhKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxhKDI3NTY3MzQxODcsMzczMzExMDI0OSksYSgzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLGEoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxhKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksYSgzNTE1MjY3MjcxLDU2NjI4MDcxMSksYSgzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLGEoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxhKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxhKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxhKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxhKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLGEoNjg1NDcxNzMzLDU4NzQ5NjgzNiksYSg4NTIxNDI5NzEsMTA4Njc5Mjg1MSksYSgxMDE3MDM2Mjk4LDM2NTU0MzEwMCksYSgxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLGEoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxhKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksYSgxNjA3MTY3OTE1LDk4NzE2NzQ2OCksYSgxODE2NDAyMzE2LDEyNDYxODk1OTEpXSx2PVtdLHk9MDs4MD55O3krKyl2W3ldPWEoKTtqPWouU0hBNTEyPWQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IG0uaW5pdChbbmV3IGYuaW5pdCgxNzc5MDMzNzAzLDQwODkyMzU3MjApLG5ldyBmLmluaXQoMzE0NDEzNDI3NywyMjI3ODczNTk1KSxuZXcgZi5pbml0KDEwMTM5MDQyNDIsNDI3MTE3NTcyMyksbmV3IGYuaW5pdCgyNzczNDgwNzYyLDE1OTU3NTAxMjkpLG5ldyBmLmluaXQoMTM1OTg5MzExOSwyOTE3NTY1MTM3KSxuZXcgZi5pbml0KDI2MDA4MjI5MjQsNzI1NTExMTk5KSxuZXcgZi5pbml0KDUyODczNDYzNSw0MjE1Mzg5NTQ3KSxuZXcgZi5pbml0KDE1NDE0NTkyMjUsMzI3MDMzMjA5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPXRoaXMuX2hhc2gud29yZHMsZj1kWzBdLGo9ZFsxXSxiPWRbMl0sZz1kWzNdLGU9ZFs0XSxrPWRbNV0sbT1kWzZdLGQ9ZFs3XSx5PWYuaGlnaCxNPWYubG93LCQ9ai5oaWdoLE49ai5sb3csYWE9Yi5oaWdoLE89Yi5sb3csYmE9Zy5oaWdoLFA9Zy5sb3csY2E9ZS5oaWdoLFE9ZS5sb3csZGE9ay5oaWdoLFI9ay5sb3csZWE9bS5oaWdoLFM9bS5sb3csZmE9ZC5oaWdoLFQ9ZC5sb3cscz15LHA9TSxHPSQsRD1OLEg9YWEsRT1PLFc9YmEsST1QLHQ9Y2EscT1RLFU9ZGEsSj1SLFY9ZWEsSz1TLFg9ZmEsTD1ULHU9MDs4MD51O3UrKyl7dmFyIHo9dlt1XTtpZigxNj51KXZhciByPXouaGlnaD1hW2MrMip1XXwwLGg9ei5sb3c9YVtjKzIqdSsxXXwwO2Vsc2V7dmFyIHI9dlt1LTE1XSxoPXIuaGlnaCx3PXIubG93LHI9KGg+Pj4xfHc8PDMxKV4oaD4+Pjh8dzw8MjQpXmg+Pj43LHc9KHc+Pj4xfGg8PDMxKV4odz4+Pjh8aDw8MjQpXih3Pj4+N3xoPDwyNSksQz12W3UtMl0saD1DLmhpZ2gsbD1DLmxvdyxDPShoPj4+MTl8bDw8MTMpXihoPDwzfGw+Pj4yOSleaD4+PjYsbD0obD4+PjE5fGg8PDEzKV4obDw8M3xoPj4+MjkpXihsPj4+NnxoPDwyNiksaD12W3UtN10sWT1oLmhpZ2gsQT12W3UtMTZdLHg9QS5oaWdoLEE9QS5sb3csaD13K2gubG93LHI9citZKyhoPj4+MDx3Pj4+MD8xOjApLGg9aCtsLHI9citDKyhoPj4+MDxsPj4+MD8xOjApLGg9aCtBLHI9cit4KyhoPj4+MDxBPj4+MD8xOjApO3ouaGlnaD1yO3oubG93PWg7fXZhciBZPXQmVV5+dCZWLEE9cSZKXn5xJkssej1zJkdecyZIXkcmSCxqYT1wJkRecCZFXkQmRSx3PShzPj4+Mjh8cDw8NCleKHM8PDMwfHA+Pj4yKV4oczw8MjV8cD4+PjcpLEM9KHA+Pj4yOHxzPDw0KV4ocDw8MzB8cz4+PjIpXihwPDwyNXxzPj4+NyksbD1CW3VdLGthPWwuaGlnaCxnYT1sLmxvdyxsPUwrKChxPj4+MTR8dDw8MTgpXihxPj4+MTh8dDw8MTQpXihxPDwyM3x0Pj4+OSkpLHg9WCsoKHQ+Pj4xNHxxPDwxOCleKHQ+Pj4xOHxxPDwxNCleKHQ8PDIzfHE+Pj45KSkrKGw+Pj4wPEw+Pj4wPzE6MCksbD1sK0EseD14K1krKGw+Pj4wPEE+Pj4wPzE6MCksbD1sK2dhLHg9eCtrYSsobD4+PjA8Z2E+Pj4wPzE6MCksbD1sK2gseD14K3IrKGw+Pj4wPGg+Pj4wPzE6MCksaD1DK2phLHo9dyt6KyhoPj4+MDxDPj4+MD8xOjApLFg9VixMPUssVj1VLEs9SixVPXQsSj1xLHE9SStsfDAsdD1XK3grKHE+Pj4wPEk+Pj4wPzE6MCl8MCxXPUgsST1FLEg9RyxFPUQsRz1zLEQ9cCxwPWwraHwwLHM9eCt6KyhwPj4+MDxsPj4+MD8xOjApfDA7fU09Zi5sb3c9TStwO2YuaGlnaD15K3MrKE0+Pj4wPHA+Pj4wPzE6MCk7Tj1qLmxvdz1OK0Q7ai5oaWdoPSQrRysoTj4+PjA8RD4+PjA/MTowKTtPPWIubG93PU8rRTtiLmhpZ2g9YWErSCsoTz4+PjA8RT4+PjA/MTowKTtQPWcubG93PVArSTtnLmhpZ2g9YmErVysoUD4+PjA8ST4+PjA/MTowKTtRPWUubG93PVErcTtlLmhpZ2g9Y2ErdCsoUT4+PjA8cT4+PjA/MTowKTtSPWsubG93PVIrSjtrLmhpZ2g9ZGErVSsoUj4+PjA8Sj4+PjA/MTowKTtTPW0ubG93PVMrSzttLmhpZ2g9ZWErVisoUz4+PjA8Sz4+PjA/MTowKTtUPWQubG93PVQrTDtkLmhpZ2g9ZmErWCsoVD4+PjA8TD4+PjA/MTowKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxjPWEud29yZHMsZD04KnRoaXMuX25EYXRhQnl0ZXMsZj04KmEuc2lnQnl0ZXM7Y1tmPj4+NV18PTEyODw8MjQtZiUzMjtjWyhmKzEyOD4+PjEwPDw1KSszMF09TWF0aC5mbG9vcihkLzQyOTQ5NjcyOTYpO2NbKGYrMTI4Pj4+MTA8PDUpKzMxXT1kO2Euc2lnQnl0ZXM9NCpjLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2gudG9YMzIoKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpO2EuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO30sYmxvY2tTaXplOjMyfSk7Yy5TSEE1MTI9ZC5fY3JlYXRlSGVscGVyKGopO2MuSG1hY1NIQTUxMj1kLl9jcmVhdGVIbWFjSGVscGVyKGopO30pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9Q3J5cHRvSlMsYz1hLng2NCxkPWMuV29yZCxqPWMuV29yZEFycmF5LGM9YS5hbGdvLGY9Yy5TSEE1MTIsYz1jLlNIQTM4ND1mLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBqLmluaXQoW25ldyBkLmluaXQoMzQxODA3MDM2NSwzMjM4MzcxMDMyKSxuZXcgZC5pbml0KDE2NTQyNzAyNTAsOTE0MTUwNjYzKSxuZXcgZC5pbml0KDI0Mzg1MjkzNzAsODEyNzAyOTk5KSxuZXcgZC5pbml0KDM1NTQ2MjM2MCw0MTQ0OTEyNjk3KSxuZXcgZC5pbml0KDE3MzE0MDU0MTUsNDI5MDc3NTg1NyksbmV3IGQuaW5pdCgyMzk0MTgwMjMxLDE3NTA2MDMwMjUpLG5ldyBkLmluaXQoMzY3NTAwODUyNSwxNjk0MDc2ODM5KSxuZXcgZC5pbml0KDEyMDMwNjI4MTMsMzIwNDA3NTQyOCldKTt9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Zi5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO2Euc2lnQnl0ZXMtPTE2O3JldHVybiBhO319KTthLlNIQTM4ND1mLl9jcmVhdGVIZWxwZXIoYyk7YS5IbWFjU0hBMzg0PWYuX2NyZWF0ZUhtYWNIZWxwZXIoYyk7fSkoKTs=',
'/libs/crypto_js/rollups/md5.js':'dmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbihzLHApe3ZhciBtPXt9LGw9bS5saWI9e30sbj1mdW5jdGlvbigpe30scj1sLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihiKXtuLnByb3RvdHlwZT10aGlzO3ZhciBoPW5ldyBuKCk7YiYmaC5taXhJbihiKTtoLmhhc093blByb3BlcnR5KCJpbml0Iil8fChoLmluaXQ9ZnVuY3Rpb24oKXtoLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9KTtoLmluaXQucHJvdG90eXBlPWg7aC4kc3VwZXI9dGhpcztyZXR1cm4gaDt9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZXh0ZW5kKCk7Yi5pbml0LmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gYjt9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGIpe2Zvcih2YXIgaCBpbiBiKWIuaGFzT3duUHJvcGVydHkoaCkmJih0aGlzW2hdPWJbaF0pO2IuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWIudG9TdHJpbmcpO30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7fX0scT1sLldvcmRBcnJheT1yLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihiLGgpe2I9dGhpcy53b3Jkcz1ifHxbXTt0aGlzLnNpZ0J5dGVzPWghPXA/aDo0KmIubGVuZ3RoO30sdG9TdHJpbmc6ZnVuY3Rpb24oYil7cmV0dXJuKGJ8fHQpLnN0cmluZ2lmeSh0aGlzKTt9LGNvbmNhdDpmdW5jdGlvbihiKXt2YXIgaD10aGlzLndvcmRzLGE9Yi53b3JkcyxqPXRoaXMuc2lnQnl0ZXM7Yj1iLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihqJTQpZm9yKHZhciBnPTA7ZzxiO2crKyloW2orZz4+PjJdfD0oYVtnPj4+Ml0+Pj4yNC04KihnJTQpJjI1NSk8PDI0LTgqKChqK2cpJTQpO2Vsc2UgaWYoNjU1MzU8YS5sZW5ndGgpZm9yKGc9MDtnPGI7Zys9NCloW2orZz4+PjJdPWFbZz4+PjJdO2Vsc2UgaC5wdXNoLmFwcGx5KGgsYSk7dGhpcy5zaWdCeXRlcys9YjtyZXR1cm4gdGhpczt9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53b3JkcyxoPXRoaXMuc2lnQnl0ZXM7YltoPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLTgqKGglNCk7Yi5sZW5ndGg9cy5jZWlsKGgvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBiPXIuY2xvbmUuY2FsbCh0aGlzKTtiLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGI7fSxyYW5kb206ZnVuY3Rpb24oYil7Zm9yKHZhciBoPVtdLGE9MDthPGI7YSs9NCloLnB1c2goNDI5NDk2NzI5NipzLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcS5pbml0KGgsYik7fX0pLHY9bS5lbmM9e30sdD12LkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGIpe3ZhciBhPWIud29yZHM7Yj1iLnNpZ0J5dGVzO2Zvcih2YXIgZz1bXSxqPTA7ajxiO2orKyl7dmFyIGs9YVtqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NTtnLnB1c2goKGs+Pj40KS50b1N0cmluZygxNikpO2cucHVzaCgoayYxNSkudG9TdHJpbmcoMTYpKTt9cmV0dXJuIGcuam9pbigiIik7fSxwYXJzZTpmdW5jdGlvbihiKXtmb3IodmFyIGE9Yi5sZW5ndGgsZz1bXSxqPTA7ajxhO2orPTIpZ1tqPj4+M118PXBhcnNlSW50KGIuc3Vic3RyKGosMiksMTYpPDwyNC00KihqJTgpO3JldHVybiBuZXcgcS5pbml0KGcsYS8yKTt9fSxhPXYuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oYil7dmFyIGE9Yi53b3JkcztiPWIuc2lnQnl0ZXM7Zm9yKHZhciBnPVtdLGo9MDtqPGI7aisrKWcucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGFbaj4+PjJdPj4+MjQtOCooaiU0KSYyNTUpKTtyZXR1cm4gZy5qb2luKCIiKTt9LHBhcnNlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYT1iLmxlbmd0aCxnPVtdLGo9MDtqPGE7aisrKWdbaj4+PjJdfD0oYi5jaGFyQ29kZUF0KGopJjI1NSk8PDI0LTgqKGolNCk7cmV0dXJuIG5ldyBxLmluaXQoZyxhKTt9fSx1PXYuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhLnN0cmluZ2lmeShiKSkpO31jYXRjaChnKXt0aHJvdyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKTt9fSxwYXJzZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYikpKTt9fSxnPWwuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1yLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBxLmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGIpeyJzdHJpbmciPT10eXBlb2YgYiYmKGI9dS5wYXJzZShiKSk7dGhpcy5fZGF0YS5jb25jYXQoYik7dGhpcy5fbkRhdGFCeXRlcys9Yi5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuX2RhdGEsZz1hLndvcmRzLGo9YS5zaWdCeXRlcyxrPXRoaXMuYmxvY2tTaXplLG09ai8oNCprKSxtPWI/cy5jZWlsKG0pOnMubWF4KChtfDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCk7Yj1tKms7aj1zLm1pbig0KmIsaik7aWYoYil7Zm9yKHZhciBsPTA7bDxiO2wrPWspdGhpcy5fZG9Qcm9jZXNzQmxvY2soZyxsKTtsPWcuc3BsaWNlKDAsYik7YS5zaWdCeXRlcy09ajt9cmV0dXJuIG5ldyBxLmluaXQobCxqKTt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGI9ci5jbG9uZS5jYWxsKHRoaXMpO2IuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBiO30sX21pbkJ1ZmZlclNpemU6MH0pO2wuSGFzaGVyPWcuZXh0ZW5kKHtjZmc6ci5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGIpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChiKTt0aGlzLnJlc2V0KCk7fSxyZXNldDpmdW5jdGlvbigpe2cucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCk7fSx1cGRhdGU6ZnVuY3Rpb24oYil7dGhpcy5fYXBwZW5kKGIpO3RoaXMuX3Byb2Nlc3MoKTtyZXR1cm4gdGhpczt9LGZpbmFsaXplOmZ1bmN0aW9uKGIpe2ImJnRoaXMuX2FwcGVuZChiKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO30sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGEsZyl7cmV0dXJuIG5ldyBiLmluaXQoZykuZmluYWxpemUoYSk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihhLGcpe3JldHVybiBuZXcgay5ITUFDLmluaXQoYixnKS5maW5hbGl6ZShhKTt9O319KTt2YXIgaz1tLmFsZ289e307cmV0dXJuIG07fShNYXRoKTsoZnVuY3Rpb24ocyl7ZnVuY3Rpb24gcChhLGssYixoLGwsaixtKXthPWErKGsmYnx+ayZoKStsK207cmV0dXJuKGE8PGp8YT4+PjMyLWopK2s7fWZ1bmN0aW9uIG0oYSxrLGIsaCxsLGosbSl7YT1hKyhrJmh8YiZ+aCkrbCttO3JldHVybihhPDxqfGE+Pj4zMi1qKStrO31mdW5jdGlvbiBsKGEsayxiLGgsbCxqLG0pe2E9YSsoa15iXmgpK2wrbTtyZXR1cm4oYTw8anxhPj4+MzItaikrazt9ZnVuY3Rpb24gbihhLGssYixoLGwsaixtKXthPWErKGJeKGt8fmgpKStsK207cmV0dXJuKGE8PGp8YT4+PjMyLWopK2s7fWZvcih2YXIgcj1DcnlwdG9KUyxxPXIubGliLHY9cS5Xb3JkQXJyYXksdD1xLkhhc2hlcixxPXIuYWxnbyxhPVtdLHU9MDs2ND51O3UrKylhW3VdPTQyOTQ5NjcyOTYqcy5hYnMocy5zaW4odSsxKSl8MDtxPXEuTUQ1PXQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHYuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oZyxrKXtmb3IodmFyIGI9MDsxNj5iO2IrKyl7dmFyIGg9aytiLHc9Z1toXTtnW2hdPSh3PDw4fHc+Pj4yNCkmMTY3MTE5MzV8KHc8PDI0fHc+Pj44KSY0Mjc4MjU1MzYwO312YXIgYj10aGlzLl9oYXNoLndvcmRzLGg9Z1trKzBdLHc9Z1trKzFdLGo9Z1trKzJdLHE9Z1trKzNdLHI9Z1trKzRdLHM9Z1trKzVdLHQ9Z1trKzZdLHU9Z1trKzddLHY9Z1trKzhdLHg9Z1trKzldLHk9Z1trKzEwXSx6PWdbaysxMV0sQT1nW2srMTJdLEI9Z1trKzEzXSxDPWdbaysxNF0sRD1nW2srMTVdLGM9YlswXSxkPWJbMV0sZT1iWzJdLGY9YlszXSxjPXAoYyxkLGUsZixoLDcsYVswXSksZj1wKGYsYyxkLGUsdywxMixhWzFdKSxlPXAoZSxmLGMsZCxqLDE3LGFbMl0pLGQ9cChkLGUsZixjLHEsMjIsYVszXSksYz1wKGMsZCxlLGYsciw3LGFbNF0pLGY9cChmLGMsZCxlLHMsMTIsYVs1XSksZT1wKGUsZixjLGQsdCwxNyxhWzZdKSxkPXAoZCxlLGYsYyx1LDIyLGFbN10pLGM9cChjLGQsZSxmLHYsNyxhWzhdKSxmPXAoZixjLGQsZSx4LDEyLGFbOV0pLGU9cChlLGYsYyxkLHksMTcsYVsxMF0pLGQ9cChkLGUsZixjLHosMjIsYVsxMV0pLGM9cChjLGQsZSxmLEEsNyxhWzEyXSksZj1wKGYsYyxkLGUsQiwxMixhWzEzXSksZT1wKGUsZixjLGQsQywxNyxhWzE0XSksZD1wKGQsZSxmLGMsRCwyMixhWzE1XSksYz1tKGMsZCxlLGYsdyw1LGFbMTZdKSxmPW0oZixjLGQsZSx0LDksYVsxN10pLGU9bShlLGYsYyxkLHosMTQsYVsxOF0pLGQ9bShkLGUsZixjLGgsMjAsYVsxOV0pLGM9bShjLGQsZSxmLHMsNSxhWzIwXSksZj1tKGYsYyxkLGUseSw5LGFbMjFdKSxlPW0oZSxmLGMsZCxELDE0LGFbMjJdKSxkPW0oZCxlLGYsYyxyLDIwLGFbMjNdKSxjPW0oYyxkLGUsZix4LDUsYVsyNF0pLGY9bShmLGMsZCxlLEMsOSxhWzI1XSksZT1tKGUsZixjLGQscSwxNCxhWzI2XSksZD1tKGQsZSxmLGMsdiwyMCxhWzI3XSksYz1tKGMsZCxlLGYsQiw1LGFbMjhdKSxmPW0oZixjLGQsZSxqLDksYVsyOV0pLGU9bShlLGYsYyxkLHUsMTQsYVszMF0pLGQ9bShkLGUsZixjLEEsMjAsYVszMV0pLGM9bChjLGQsZSxmLHMsNCxhWzMyXSksZj1sKGYsYyxkLGUsdiwxMSxhWzMzXSksZT1sKGUsZixjLGQseiwxNixhWzM0XSksZD1sKGQsZSxmLGMsQywyMyxhWzM1XSksYz1sKGMsZCxlLGYsdyw0LGFbMzZdKSxmPWwoZixjLGQsZSxyLDExLGFbMzddKSxlPWwoZSxmLGMsZCx1LDE2LGFbMzhdKSxkPWwoZCxlLGYsYyx5LDIzLGFbMzldKSxjPWwoYyxkLGUsZixCLDQsYVs0MF0pLGY9bChmLGMsZCxlLGgsMTEsYVs0MV0pLGU9bChlLGYsYyxkLHEsMTYsYVs0Ml0pLGQ9bChkLGUsZixjLHQsMjMsYVs0M10pLGM9bChjLGQsZSxmLHgsNCxhWzQ0XSksZj1sKGYsYyxkLGUsQSwxMSxhWzQ1XSksZT1sKGUsZixjLGQsRCwxNixhWzQ2XSksZD1sKGQsZSxmLGMsaiwyMyxhWzQ3XSksYz1uKGMsZCxlLGYsaCw2LGFbNDhdKSxmPW4oZixjLGQsZSx1LDEwLGFbNDldKSxlPW4oZSxmLGMsZCxDLDE1LGFbNTBdKSxkPW4oZCxlLGYsYyxzLDIxLGFbNTFdKSxjPW4oYyxkLGUsZixBLDYsYVs1Ml0pLGY9bihmLGMsZCxlLHEsMTAsYVs1M10pLGU9bihlLGYsYyxkLHksMTUsYVs1NF0pLGQ9bihkLGUsZixjLHcsMjEsYVs1NV0pLGM9bihjLGQsZSxmLHYsNixhWzU2XSksZj1uKGYsYyxkLGUsRCwxMCxhWzU3XSksZT1uKGUsZixjLGQsdCwxNSxhWzU4XSksZD1uKGQsZSxmLGMsQiwyMSxhWzU5XSksYz1uKGMsZCxlLGYsciw2LGFbNjBdKSxmPW4oZixjLGQsZSx6LDEwLGFbNjFdKSxlPW4oZSxmLGMsZCxqLDE1LGFbNjJdKSxkPW4oZCxlLGYsYyx4LDIxLGFbNjNdKTtiWzBdPWJbMF0rY3wwO2JbMV09YlsxXStkfDA7YlsyXT1iWzJdK2V8MDtiWzNdPWJbM10rZnwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9kYXRhLGs9YS53b3JkcyxiPTgqdGhpcy5fbkRhdGFCeXRlcyxoPTgqYS5zaWdCeXRlcztrW2g+Pj41XXw9MTI4PDwyNC1oJTMyO3ZhciBsPXMuZmxvb3IoYi80Mjk0OTY3Mjk2KTtrWyhoKzY0Pj4+OTw8NCkrMTVdPShsPDw4fGw+Pj4yNCkmMTY3MTE5MzV8KGw8PDI0fGw+Pj44KSY0Mjc4MjU1MzYwO2tbKGgrNjQ+Pj45PDw0KSsxNF09KGI8PDh8Yj4+PjI0KSYxNjcxMTkzNXwoYjw8MjR8Yj4+PjgpJjQyNzgyNTUzNjA7YS5zaWdCeXRlcz00KihrLmxlbmd0aCsxKTt0aGlzLl9wcm9jZXNzKCk7YT10aGlzLl9oYXNoO2s9YS53b3Jkcztmb3IoYj0wOzQ+YjtiKyspaD1rW2JdLGtbYl09KGg8PDh8aD4+PjI0KSYxNjcxMTkzNXwoaDw8MjR8aD4+PjgpJjQyNzgyNTUzNjA7cmV0dXJuIGE7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPXQuY2xvbmUuY2FsbCh0aGlzKTthLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gYTt9fSk7ci5NRDU9dC5fY3JlYXRlSGVscGVyKHEpO3IuSG1hY01ENT10Ll9jcmVhdGVIbWFjSGVscGVyKHEpO30pKE1hdGgpOw==',
'/Lib/heapq.py':'IiIiSGVhcCBxdWV1ZSBhbGdvcml0aG0gKGEuay5hLiBwcmlvcml0eSBxdWV1ZSkuCgpIZWFwcyBhcmUgYXJyYXlzIGZvciB3aGljaCBhW2tdIDw9IGFbMiprKzFdIGFuZCBhW2tdIDw9IGFbMiprKzJdIGZvcgphbGwgaywgY291bnRpbmcgZWxlbWVudHMgZnJvbSAwLiAgRm9yIHRoZSBzYWtlIG9mIGNvbXBhcmlzb24sCm5vbi1leGlzdGluZyBlbGVtZW50cyBhcmUgY29uc2lkZXJlZCB0byBiZSBpbmZpbml0ZS4gIFRoZSBpbnRlcmVzdGluZwpwcm9wZXJ0eSBvZiBhIGhlYXAgaXMgdGhhdCBhWzBdIGlzIGFsd2F5cyBpdHMgc21hbGxlc3QgZWxlbWVudC4KClVzYWdlOgoKaGVhcCA9IFtdICAgICAgICAgICAgIyBjcmVhdGVzIGFuIGVtcHR5IGhlYXAKaGVhcHB1c2goaGVhcCwgaXRlbSkgIyBwdXNoZXMgYSBuZXcgaXRlbSBvbiB0aGUgaGVhcAppdGVtID0gaGVhcHBvcChoZWFwKSAjIHBvcHMgdGhlIHNtYWxsZXN0IGl0ZW0gZnJvbSB0aGUgaGVhcAppdGVtID0gaGVhcFswXSAgICAgICAjIHNtYWxsZXN0IGl0ZW0gb24gdGhlIGhlYXAgd2l0aG91dCBwb3BwaW5nIGl0CmhlYXBpZnkoeCkgICAgICAgICAgICMgdHJhbnNmb3JtcyBsaXN0IGludG8gYSBoZWFwLCBpbi1wbGFjZSwgaW4gbGluZWFyIHRpbWUKaXRlbSA9IGhlYXByZXBsYWNlKGhlYXAsIGl0ZW0pICMgcG9wcyBhbmQgcmV0dXJucyBzbWFsbGVzdCBpdGVtLCBhbmQgYWRkcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBuZXcgaXRlbTsgdGhlIGhlYXAgc2l6ZSBpcyB1bmNoYW5nZWQKCk91ciBBUEkgZGlmZmVycyBmcm9tIHRleHRib29rIGhlYXAgYWxnb3JpdGhtcyBhcyBmb2xsb3dzOgoKLSBXZSB1c2UgMC1iYXNlZCBpbmRleGluZy4gIFRoaXMgbWFrZXMgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZQogIGluZGV4IGZvciBhIG5vZGUgYW5kIHRoZSBpbmRleGVzIGZvciBpdHMgY2hpbGRyZW4gc2xpZ2h0bHkgbGVzcwogIG9idmlvdXMsIGJ1dCBpcyBtb3JlIHN1aXRhYmxlIHNpbmNlIFB5dGhvbiB1c2VzIDAtYmFzZWQgaW5kZXhpbmcuCgotIE91ciBoZWFwcG9wKCkgbWV0aG9kIHJldHVybnMgdGhlIHNtYWxsZXN0IGl0ZW0sIG5vdCB0aGUgbGFyZ2VzdC4KClRoZXNlIHR3byBtYWtlIGl0IHBvc3NpYmxlIHRvIHZpZXcgdGhlIGhlYXAgYXMgYSByZWd1bGFyIFB5dGhvbiBsaXN0CndpdGhvdXQgc3VycHJpc2VzOiBoZWFwWzBdIGlzIHRoZSBzbWFsbGVzdCBpdGVtLCBhbmQgaGVhcC5zb3J0KCkKbWFpbnRhaW5zIHRoZSBoZWFwIGludmFyaWFudCEKIiIiCgojIE9yaWdpbmFsIGNvZGUgYnkgS2V2aW4gTydDb25ub3IsIGF1Z21lbnRlZCBieSBUaW0gUGV0ZXJzIGFuZCBSYXltb25kIEhldHRpbmdlcgoKX19hYm91dF9fID0gIiIiSGVhcCBxdWV1ZXMKCltleHBsYW5hdGlvbiBieSBGcmFuw6dvaXMgUGluYXJkXQoKSGVhcHMgYXJlIGFycmF5cyBmb3Igd2hpY2ggYVtrXSA8PSBhWzIqaysxXSBhbmQgYVtrXSA8PSBhWzIqaysyXSBmb3IKYWxsIGssIGNvdW50aW5nIGVsZW1lbnRzIGZyb20gMC4gIEZvciB0aGUgc2FrZSBvZiBjb21wYXJpc29uLApub24tZXhpc3RpbmcgZWxlbWVudHMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgaW5maW5pdGUuICBUaGUgaW50ZXJlc3RpbmcKcHJvcGVydHkgb2YgYSBoZWFwIGlzIHRoYXQgYVswXSBpcyBhbHdheXMgaXRzIHNtYWxsZXN0IGVsZW1lbnQuCgpUaGUgc3RyYW5nZSBpbnZhcmlhbnQgYWJvdmUgaXMgbWVhbnQgdG8gYmUgYW4gZWZmaWNpZW50IG1lbW9yeQpyZXByZXNlbnRhdGlvbiBmb3IgYSB0b3VybmFtZW50LiAgVGhlIG51bWJlcnMgYmVsb3cgYXJlIGBrJywgbm90IGFba106CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAKCiAgICAgICAgICAgICAgICAgIDEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyCgogICAgICAgICAgMyAgICAgICAgICAgICAgIDQgICAgICAgICAgICAgICAgNSAgICAgICAgICAgICAgIDYKCiAgICAgIDcgICAgICAgOCAgICAgICA5ICAgICAgIDEwICAgICAgMTEgICAgICAxMiAgICAgIDEzICAgICAgMTQKCiAgICAxNSAxNiAgIDE3IDE4ICAgMTkgMjAgICAyMSAyMiAgIDIzIDI0ICAgMjUgMjYgICAyNyAyOCAgIDI5IDMwCgoKSW4gdGhlIHRyZWUgYWJvdmUsIGVhY2ggY2VsbCBgaycgaXMgdG9wcGluZyBgMiprKzEnIGFuZCBgMiprKzInLiAgSW4KYW4gdXN1YWwgYmluYXJ5IHRvdXJuYW1lbnQgd2Ugc2VlIGluIHNwb3J0cywgZWFjaCBjZWxsIGlzIHRoZSB3aW5uZXIKb3ZlciB0aGUgdHdvIGNlbGxzIGl0IHRvcHMsIGFuZCB3ZSBjYW4gdHJhY2UgdGhlIHdpbm5lciBkb3duIHRoZSB0cmVlCnRvIHNlZSBhbGwgb3Bwb25lbnRzIHMvaGUgaGFkLiAgSG93ZXZlciwgaW4gbWFueSBjb21wdXRlciBhcHBsaWNhdGlvbnMKb2Ygc3VjaCB0b3VybmFtZW50cywgd2UgZG8gbm90IG5lZWQgdG8gdHJhY2UgdGhlIGhpc3Rvcnkgb2YgYSB3aW5uZXIuClRvIGJlIG1vcmUgbWVtb3J5IGVmZmljaWVudCwgd2hlbiBhIHdpbm5lciBpcyBwcm9tb3RlZCwgd2UgdHJ5IHRvCnJlcGxhY2UgaXQgYnkgc29tZXRoaW5nIGVsc2UgYXQgYSBsb3dlciBsZXZlbCwgYW5kIHRoZSBydWxlIGJlY29tZXMKdGhhdCBhIGNlbGwgYW5kIHRoZSB0d28gY2VsbHMgaXQgdG9wcyBjb250YWluIHRocmVlIGRpZmZlcmVudCBpdGVtcywKYnV0IHRoZSB0b3AgY2VsbCAid2lucyIgb3ZlciB0aGUgdHdvIHRvcHBlZCBjZWxscy4KCklmIHRoaXMgaGVhcCBpbnZhcmlhbnQgaXMgcHJvdGVjdGVkIGF0IGFsbCB0aW1lLCBpbmRleCAwIGlzIGNsZWFybHkKdGhlIG92ZXJhbGwgd2lubmVyLiAgVGhlIHNpbXBsZXN0IGFsZ29yaXRobWljIHdheSB0byByZW1vdmUgaXQgYW5kCmZpbmQgdGhlICJuZXh0IiB3aW5uZXIgaXMgdG8gbW92ZSBzb21lIGxvc2VyIChsZXQncyBzYXkgY2VsbCAzMCBpbiB0aGUKZGlhZ3JhbSBhYm92ZSkgaW50byB0aGUgMCBwb3NpdGlvbiwgYW5kIHRoZW4gcGVyY29sYXRlIHRoaXMgbmV3IDAgZG93bgp0aGUgdHJlZSwgZXhjaGFuZ2luZyB2YWx1ZXMsIHVudGlsIHRoZSBpbnZhcmlhbnQgaXMgcmUtZXN0YWJsaXNoZWQuClRoaXMgaXMgY2xlYXJseSBsb2dhcml0aG1pYyBvbiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSB0cmVlLgpCeSBpdGVyYXRpbmcgb3ZlciBhbGwgaXRlbXMsIHlvdSBnZXQgYW4gTyhuIGxuIG4pIHNvcnQuCgpBIG5pY2UgZmVhdHVyZSBvZiB0aGlzIHNvcnQgaXMgdGhhdCB5b3UgY2FuIGVmZmljaWVudGx5IGluc2VydCBuZXcKaXRlbXMgd2hpbGUgdGhlIHNvcnQgaXMgZ29pbmcgb24sIHByb3ZpZGVkIHRoYXQgdGhlIGluc2VydGVkIGl0ZW1zIGFyZQpub3QgImJldHRlciIgdGhhbiB0aGUgbGFzdCAwJ3RoIGVsZW1lbnQgeW91IGV4dHJhY3RlZC4gIFRoaXMgaXMKZXNwZWNpYWxseSB1c2VmdWwgaW4gc2ltdWxhdGlvbiBjb250ZXh0cywgd2hlcmUgdGhlIHRyZWUgaG9sZHMgYWxsCmluY29taW5nIGV2ZW50cywgYW5kIHRoZSAid2luIiBjb25kaXRpb24gbWVhbnMgdGhlIHNtYWxsZXN0IHNjaGVkdWxlZAp0aW1lLiAgV2hlbiBhbiBldmVudCBzY2hlZHVsZSBvdGhlciBldmVudHMgZm9yIGV4ZWN1dGlvbiwgdGhleSBhcmUKc2NoZWR1bGVkIGludG8gdGhlIGZ1dHVyZSwgc28gdGhleSBjYW4gZWFzaWx5IGdvIGludG8gdGhlIGhlYXAuICBTbywgYQpoZWFwIGlzIGEgZ29vZCBzdHJ1Y3R1cmUgZm9yIGltcGxlbWVudGluZyBzY2hlZHVsZXJzICh0aGlzIGlzIHdoYXQgSQp1c2VkIGZvciBteSBNSURJIHNlcXVlbmNlciA6LSkuCgpWYXJpb3VzIHN0cnVjdHVyZXMgZm9yIGltcGxlbWVudGluZyBzY2hlZHVsZXJzIGhhdmUgYmVlbiBleHRlbnNpdmVseQpzdHVkaWVkLCBhbmQgaGVhcHMgYXJlIGdvb2QgZm9yIHRoaXMsIGFzIHRoZXkgYXJlIHJlYXNvbmFibHkgc3BlZWR5LAp0aGUgc3BlZWQgaXMgYWxtb3N0IGNvbnN0YW50LCBhbmQgdGhlIHdvcnN0IGNhc2UgaXMgbm90IG11Y2ggZGlmZmVyZW50CnRoYW4gdGhlIGF2ZXJhZ2UgY2FzZS4gIEhvd2V2ZXIsIHRoZXJlIGFyZSBvdGhlciByZXByZXNlbnRhdGlvbnMgd2hpY2gKYXJlIG1vcmUgZWZmaWNpZW50IG92ZXJhbGwsIHlldCB0aGUgd29yc3QgY2FzZXMgbWlnaHQgYmUgdGVycmlibGUuCgpIZWFwcyBhcmUgYWxzbyB2ZXJ5IHVzZWZ1bCBpbiBiaWcgZGlzayBzb3J0cy4gIFlvdSBtb3N0IHByb2JhYmx5IGFsbAprbm93IHRoYXQgYSBiaWcgc29ydCBpbXBsaWVzIHByb2R1Y2luZyAicnVucyIgKHdoaWNoIGFyZSBwcmUtc29ydGVkCnNlcXVlbmNlcywgd2hpY2ggc2l6ZSBpcyB1c3VhbGx5IHJlbGF0ZWQgdG8gdGhlIGFtb3VudCBvZiBDUFUgbWVtb3J5KSwKZm9sbG93ZWQgYnkgYSBtZXJnaW5nIHBhc3NlcyBmb3IgdGhlc2UgcnVucywgd2hpY2ggbWVyZ2luZyBpcyBvZnRlbgp2ZXJ5IGNsZXZlcmx5IG9yZ2FuaXNlZFsxXS4gIEl0IGlzIHZlcnkgaW1wb3J0YW50IHRoYXQgdGhlIGluaXRpYWwKc29ydCBwcm9kdWNlcyB0aGUgbG9uZ2VzdCBydW5zIHBvc3NpYmxlLiAgVG91cm5hbWVudHMgYXJlIGEgZ29vZCB3YXkKdG8gdGhhdC4gIElmLCB1c2luZyBhbGwgdGhlIG1lbW9yeSBhdmFpbGFibGUgdG8gaG9sZCBhIHRvdXJuYW1lbnQsIHlvdQpyZXBsYWNlIGFuZCBwZXJjb2xhdGUgaXRlbXMgdGhhdCBoYXBwZW4gdG8gZml0IHRoZSBjdXJyZW50IHJ1biwgeW91J2xsCnByb2R1Y2UgcnVucyB3aGljaCBhcmUgdHdpY2UgdGhlIHNpemUgb2YgdGhlIG1lbW9yeSBmb3IgcmFuZG9tIGlucHV0LAphbmQgbXVjaCBiZXR0ZXIgZm9yIGlucHV0IGZ1enppbHkgb3JkZXJlZC4KCk1vcmVvdmVyLCBpZiB5b3Ugb3V0cHV0IHRoZSAwJ3RoIGl0ZW0gb24gZGlzayBhbmQgZ2V0IGFuIGlucHV0IHdoaWNoCm1heSBub3QgZml0IGluIHRoZSBjdXJyZW50IHRvdXJuYW1lbnQgKGJlY2F1c2UgdGhlIHZhbHVlICJ3aW5zIiBvdmVyCnRoZSBsYXN0IG91dHB1dCB2YWx1ZSksIGl0IGNhbm5vdCBmaXQgaW4gdGhlIGhlYXAsIHNvIHRoZSBzaXplIG9mIHRoZQpoZWFwIGRlY3JlYXNlcy4gIFRoZSBmcmVlZCBtZW1vcnkgY291bGQgYmUgY2xldmVybHkgcmV1c2VkIGltbWVkaWF0ZWx5CmZvciBwcm9ncmVzc2l2ZWx5IGJ1aWxkaW5nIGEgc2Vjb25kIGhlYXAsIHdoaWNoIGdyb3dzIGF0IGV4YWN0bHkgdGhlCnNhbWUgcmF0ZSB0aGUgZmlyc3QgaGVhcCBpcyBtZWx0aW5nLiAgV2hlbiB0aGUgZmlyc3QgaGVhcCBjb21wbGV0ZWx5CnZhbmlzaGVzLCB5b3Ugc3dpdGNoIGhlYXBzIGFuZCBzdGFydCBhIG5ldyBydW4uICBDbGV2ZXIgYW5kIHF1aXRlCmVmZmVjdGl2ZSEKCkluIGEgd29yZCwgaGVhcHMgYXJlIHVzZWZ1bCBtZW1vcnkgc3RydWN0dXJlcyB0byBrbm93LiAgSSB1c2UgdGhlbSBpbgphIGZldyBhcHBsaWNhdGlvbnMsIGFuZCBJIHRoaW5rIGl0IGlzIGdvb2QgdG8ga2VlcCBhIGBoZWFwJyBtb2R1bGUKYXJvdW5kLiA6LSkKCi0tLS0tLS0tLS0tLS0tLS0tLS0tClsxXSBUaGUgZGlzayBiYWxhbmNpbmcgYWxnb3JpdGhtcyB3aGljaCBhcmUgY3VycmVudCwgbm93YWRheXMsIGFyZQptb3JlIGFubm95aW5nIHRoYW4gY2xldmVyLCBhbmQgdGhpcyBpcyBhIGNvbnNlcXVlbmNlIG9mIHRoZSBzZWVraW5nCmNhcGFiaWxpdGllcyBvZiB0aGUgZGlza3MuICBPbiBkZXZpY2VzIHdoaWNoIGNhbm5vdCBzZWVrLCBsaWtlIGJpZwp0YXBlIGRyaXZlcywgdGhlIHN0b3J5IHdhcyBxdWl0ZSBkaWZmZXJlbnQsIGFuZCBvbmUgaGFkIHRvIGJlIHZlcnkKY2xldmVyIHRvIGVuc3VyZSAoZmFyIGluIGFkdmFuY2UpIHRoYXQgZWFjaCB0YXBlIG1vdmVtZW50IHdpbGwgYmUgdGhlCm1vc3QgZWZmZWN0aXZlIHBvc3NpYmxlICh0aGF0IGlzLCB3aWxsIGJlc3QgcGFydGljaXBhdGUgYXQKInByb2dyZXNzaW5nIiB0aGUgbWVyZ2UpLiAgU29tZSB0YXBlcyB3ZXJlIGV2ZW4gYWJsZSB0byByZWFkCmJhY2t3YXJkcywgYW5kIHRoaXMgd2FzIGFsc28gdXNlZCB0byBhdm9pZCB0aGUgcmV3aW5kaW5nIHRpbWUuCkJlbGlldmUgbWUsIHJlYWwgZ29vZCB0YXBlIHNvcnRzIHdlcmUgcXVpdGUgc3BlY3RhY3VsYXIgdG8gd2F0Y2ghCkZyb20gYWxsIHRpbWVzLCBzb3J0aW5nIGhhcyBhbHdheXMgYmVlbiBhIEdyZWF0IEFydCEgOi0pCiIiIgoKX19hbGxfXyA9IFsnaGVhcHB1c2gnLCAnaGVhcHBvcCcsICdoZWFwaWZ5JywgJ2hlYXByZXBsYWNlJywgJ21lcmdlJywKICAgICAgICAgICAnbmxhcmdlc3QnLCAnbnNtYWxsZXN0JywgJ2hlYXBwdXNocG9wJ10KCmZyb20gaXRlcnRvb2xzIGltcG9ydCBpc2xpY2UsIHJlcGVhdCwgY291bnQsIHRlZSwgY2hhaW4KaW1wb3J0IGJpc2VjdAoKZGVmIGhlYXBwdXNoKGhlYXAsIGl0ZW0pOgogICAgIiIiUHVzaCBpdGVtIG9udG8gaGVhcCwgbWFpbnRhaW5pbmcgdGhlIGhlYXAgaW52YXJpYW50LiIiIgogICAgaGVhcC5hcHBlbmQoaXRlbSkKICAgIF9zaWZ0ZG93bihoZWFwLCAwLCBsZW4oaGVhcCktMSkKCmRlZiBoZWFwcG9wKGhlYXApOgogICAgIiIiUG9wIHRoZSBzbWFsbGVzdCBpdGVtIG9mZiB0aGUgaGVhcCwgbWFpbnRhaW5pbmcgdGhlIGhlYXAgaW52YXJpYW50LiIiIgogICAgbGFzdGVsdCA9IGhlYXAucG9wKCkgICAgIyByYWlzZXMgYXBwcm9wcmlhdGUgSW5kZXhFcnJvciBpZiBoZWFwIGlzIGVtcHR5CiAgICBpZiBoZWFwOgogICAgICAgIHJldHVybml0ZW0gPSBoZWFwWzBdCiAgICAgICAgaGVhcFswXSA9IGxhc3RlbHQKICAgICAgICBfc2lmdHVwKGhlYXAsIDApCiAgICBlbHNlOgogICAgICAgIHJldHVybml0ZW0gPSBsYXN0ZWx0CiAgICByZXR1cm4gcmV0dXJuaXRlbQoKZGVmIGhlYXByZXBsYWNlKGhlYXAsIGl0ZW0pOgogICAgIiIiUG9wIGFuZCByZXR1cm4gdGhlIGN1cnJlbnQgc21hbGxlc3QgdmFsdWUsIGFuZCBhZGQgdGhlIG5ldyBpdGVtLgoKICAgIFRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBoZWFwcG9wKCkgZm9sbG93ZWQgYnkgaGVhcHB1c2goKSwgYW5kIGNhbiBiZQogICAgbW9yZSBhcHByb3ByaWF0ZSB3aGVuIHVzaW5nIGEgZml4ZWQtc2l6ZSBoZWFwLiAgTm90ZSB0aGF0IHRoZSB2YWx1ZQogICAgcmV0dXJuZWQgbWF5IGJlIGxhcmdlciB0aGFuIGl0ZW0hICBUaGF0IGNvbnN0cmFpbnMgcmVhc29uYWJsZSB1c2VzIG9mCiAgICB0aGlzIHJvdXRpbmUgdW5sZXNzIHdyaXR0ZW4gYXMgcGFydCBvZiBhIGNvbmRpdGlvbmFsIHJlcGxhY2VtZW50OgoKICAgICAgICBpZiBpdGVtID4gaGVhcFswXToKICAgICAgICAgICAgaXRlbSA9IGhlYXByZXBsYWNlKGhlYXAsIGl0ZW0pCiAgICAiIiIKICAgIHJldHVybml0ZW0gPSBoZWFwWzBdICAgICMgcmFpc2VzIGFwcHJvcHJpYXRlIEluZGV4RXJyb3IgaWYgaGVhcCBpcyBlbXB0eQogICAgaGVhcFswXSA9IGl0ZW0KICAgIF9zaWZ0dXAoaGVhcCwgMCkKICAgIHJldHVybiByZXR1cm5pdGVtCgpkZWYgaGVhcHB1c2hwb3AoaGVhcCwgaXRlbSk6CiAgICAiIiJGYXN0IHZlcnNpb24gb2YgYSBoZWFwcHVzaCBmb2xsb3dlZCBieSBhIGhlYXBwb3AuIiIiCiAgICBpZiBoZWFwIGFuZCBoZWFwWzBdIDwgaXRlbToKICAgICAgICBpdGVtLCBoZWFwWzBdID0gaGVhcFswXSwgaXRlbQogICAgICAgIF9zaWZ0dXAoaGVhcCwgMCkKICAgIHJldHVybiBpdGVtCgpkZWYgaGVhcGlmeSh4KToKICAgICIiIlRyYW5zZm9ybSBsaXN0IGludG8gYSBoZWFwLCBpbi1wbGFjZSwgaW4gTyhsZW4oeCkpIHRpbWUuIiIiCiAgICBuID0gbGVuKHgpCiAgICAjIFRyYW5zZm9ybSBib3R0b20tdXAuICBUaGUgbGFyZ2VzdCBpbmRleCB0aGVyZSdzIGFueSBwb2ludCB0byBsb29raW5nIGF0CiAgICAjIGlzIHRoZSBsYXJnZXN0IHdpdGggYSBjaGlsZCBpbmRleCBpbi1yYW5nZSwgc28gbXVzdCBoYXZlIDIqaSArIDEgPCBuLAogICAgIyBvciBpIDwgKG4tMSkvMi4gIElmIG4gaXMgZXZlbiA9IDIqaiwgdGhpcyBpcyAoMipqLTEpLzIgPSBqLTEvMiBzbwogICAgIyBqLTEgaXMgdGhlIGxhcmdlc3QsIHdoaWNoIGlzIG4vLzIgLSAxLiAgSWYgbiBpcyBvZGQgPSAyKmorMSwgdGhpcyBpcwogICAgIyAoMipqKzEtMSkvMiA9IGogc28gai0xIGlzIHRoZSBsYXJnZXN0LCBhbmQgdGhhdCdzIGFnYWluIG4vLzItMS4KICAgIGZvciBpIGluIHJldmVyc2VkKHJhbmdlKG4vLzIpKToKICAgICAgICBfc2lmdHVwKHgsIGkpCgpkZWYgbmxhcmdlc3QobiwgaXRlcmFibGUpOgogICAgIiIiRmluZCB0aGUgbiBsYXJnZXN0IGVsZW1lbnRzIGluIGEgZGF0YXNldC4KCiAgICBFcXVpdmFsZW50IHRvOiAgc29ydGVkKGl0ZXJhYmxlLCByZXZlcnNlPVRydWUpWzpuXQogICAgIiIiCiAgICBpZiBuIDwgMDoKICAgICAgICByZXR1cm4gW10KICAgIGl0ID0gaXRlcihpdGVyYWJsZSkKICAgIHJlc3VsdCA9IGxpc3QoaXNsaWNlKGl0LCBuKSkKICAgIGlmIG5vdCByZXN1bHQ6CiAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgaGVhcGlmeShyZXN1bHQpCiAgICBfaGVhcHB1c2hwb3AgPSBoZWFwcHVzaHBvcAogICAgZm9yIGVsZW0gaW4gaXQ6CiAgICAgICAgX2hlYXBwdXNocG9wKHJlc3VsdCwgZWxlbSkKICAgIHJlc3VsdC5zb3J0KHJldmVyc2U9VHJ1ZSkKICAgIHJldHVybiByZXN1bHQKCmRlZiBuc21hbGxlc3QobiwgaXRlcmFibGUpOgogICAgIiIiRmluZCB0aGUgbiBzbWFsbGVzdCBlbGVtZW50cyBpbiBhIGRhdGFzZXQuCgogICAgRXF1aXZhbGVudCB0bzogIHNvcnRlZChpdGVyYWJsZSlbOm5dCiAgICAiIiIKICAgIGlmIG4gPCAwOgogICAgICAgIHJldHVybiBbXQogICAgaWYgaGFzYXR0cihpdGVyYWJsZSwgJ19fbGVuX18nKSBhbmQgbiAqIDEwIDw9IGxlbihpdGVyYWJsZSk6CiAgICAgICAgIyBGb3Igc21hbGxlciB2YWx1ZXMgb2YgbiwgdGhlIGJpc2VjdCBtZXRob2QgaXMgZmFzdGVyIHRoYW4gYSBtaW5oZWFwLgogICAgICAgICMgSXQgaXMgYWxzbyBtZW1vcnkgZWZmaWNpZW50LCBjb25zdW1pbmcgb25seSBuIGVsZW1lbnRzIG9mIHNwYWNlLgogICAgICAgIGl0ID0gaXRlcihpdGVyYWJsZSkKICAgICAgICByZXN1bHQgPSBzb3J0ZWQoaXNsaWNlKGl0LCAwLCBuKSkKICAgICAgICBpZiBub3QgcmVzdWx0OgogICAgICAgICAgICByZXR1cm4gcmVzdWx0CiAgICAgICAgaW5zb3J0ID0gYmlzZWN0Lmluc29ydAogICAgICAgIHBvcCA9IHJlc3VsdC5wb3AKICAgICAgICBsb3MgPSByZXN1bHRbLTFdICAgICMgbG9zIC0tPiBMYXJnZXN0IG9mIHRoZSBuc21hbGxlc3QKICAgICAgICBmb3IgZWxlbSBpbiBpdDoKICAgICAgICAgICAgaWYgZWxlbSA8IGxvczoKICAgICAgICAgICAgICAgIGluc29ydChyZXN1bHQsIGVsZW0pCiAgICAgICAgICAgICAgICBwb3AoKQogICAgICAgICAgICAgICAgbG9zID0gcmVzdWx0Wy0xXQogICAgICAgIHJldHVybiByZXN1bHQKICAgICMgQW4gYWx0ZXJuYXRpdmUgYXBwcm9hY2ggbWFuaWZlc3RzIHRoZSB3aG9sZSBpdGVyYWJsZSBpbiBtZW1vcnkgYnV0CiAgICAjIHNhdmVzIGNvbXBhcmlzb25zIGJ5IGhlYXBpZnlpbmcgYWxsIGF0IG9uY2UuICBBbHNvLCBzYXZlcyB0aW1lCiAgICAjIG92ZXIgYmlzZWN0Lmluc29ydCgpIHdoaWNoIGhhcyBPKG4pIGRhdGEgbW92ZW1lbnQgdGltZSBmb3IgZXZlcnkKICAgICMgaW5zZXJ0aW9uLiAgRmluZGluZyB0aGUgbiBzbWFsbGVzdCBvZiBhbiBtIGxlbmd0aCBpdGVyYWJsZSByZXF1aXJlcwogICAgIyAgICBPKG0pICsgTyhuIGxvZyBtKSBjb21wYXJpc29ucy4KICAgIGggPSBsaXN0KGl0ZXJhYmxlKQogICAgaGVhcGlmeShoKQogICAgcmV0dXJuIGxpc3QobWFwKGhlYXBwb3AsIHJlcGVhdChoLCBtaW4obiwgbGVuKGgpKSkpKQoKIyAnaGVhcCcgaXMgYSBoZWFwIGF0IGFsbCBpbmRpY2VzID49IHN0YXJ0cG9zLCBleGNlcHQgcG9zc2libHkgZm9yIHBvcy4gIHBvcwojIGlzIHRoZSBpbmRleCBvZiBhIGxlYWYgd2l0aCBhIHBvc3NpYmx5IG91dC1vZi1vcmRlciB2YWx1ZS4gIFJlc3RvcmUgdGhlCiMgaGVhcCBpbnZhcmlhbnQuCmRlZiBfc2lmdGRvd24oaGVhcCwgc3RhcnRwb3MsIHBvcyk6CiAgICBuZXdpdGVtID0gaGVhcFtwb3NdCiAgICAjIEZvbGxvdyB0aGUgcGF0aCB0byB0aGUgcm9vdCwgbW92aW5nIHBhcmVudHMgZG93biB1bnRpbCBmaW5kaW5nIGEgcGxhY2UKICAgICMgbmV3aXRlbSBmaXRzLgogICAgd2hpbGUgcG9zID4gc3RhcnRwb3M6CiAgICAgICAgcGFyZW50cG9zID0gKHBvcyAtIDEpID4+IDEKICAgICAgICBwYXJlbnQgPSBoZWFwW3BhcmVudHBvc10KICAgICAgICBpZiBuZXdpdGVtIDwgcGFyZW50OgogICAgICAgICAgICBoZWFwW3Bvc10gPSBwYXJlbnQKICAgICAgICAgICAgcG9zID0gcGFyZW50cG9zCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgYnJlYWsKICAgIGhlYXBbcG9zXSA9IG5ld2l0ZW0KCiMgVGhlIGNoaWxkIGluZGljZXMgb2YgaGVhcCBpbmRleCBwb3MgYXJlIGFscmVhZHkgaGVhcHMsIGFuZCB3ZSB3YW50IHRvIG1ha2UKIyBhIGhlYXAgYXQgaW5kZXggcG9zIHRvby4gIFdlIGRvIHRoaXMgYnkgYnViYmxpbmcgdGhlIHNtYWxsZXIgY2hpbGQgb2YKIyBwb3MgdXAgKGFuZCBzbyBvbiB3aXRoIHRoYXQgY2hpbGQncyBjaGlsZHJlbiwgZXRjKSB1bnRpbCBoaXR0aW5nIGEgbGVhZiwKIyB0aGVuIHVzaW5nIF9zaWZ0ZG93biB0byBtb3ZlIHRoZSBvZGRiYWxsIG9yaWdpbmFsbHkgYXQgaW5kZXggcG9zIGludG8gcGxhY2UuCiMKIyBXZSAqY291bGQqIGJyZWFrIG91dCBvZiB0aGUgbG9vcCBhcyBzb29uIGFzIHdlIGZpbmQgYSBwb3Mgd2hlcmUgbmV3aXRlbSA8PQojIGJvdGggaXRzIGNoaWxkcmVuLCBidXQgdHVybnMgb3V0IHRoYXQncyBub3QgYSBnb29kIGlkZWEsIGFuZCBkZXNwaXRlIHRoYXQKIyBtYW55IGJvb2tzIHdyaXRlIHRoZSBhbGdvcml0aG0gdGhhdCB3YXkuICBEdXJpbmcgYSBoZWFwIHBvcCwgdGhlIGxhc3QgYXJyYXkKIyBlbGVtZW50IGlzIHNpZnRlZCBpbiwgYW5kIHRoYXQgdGVuZHMgdG8gYmUgbGFyZ2UsIHNvIHRoYXQgY29tcGFyaW5nIGl0CiMgYWdhaW5zdCB2YWx1ZXMgc3RhcnRpbmcgZnJvbSB0aGUgcm9vdCB1c3VhbGx5IGRvZXNuJ3QgcGF5ICg9IHVzdWFsbHkgZG9lc24ndAojIGdldCB1cyBvdXQgb2YgdGhlIGxvb3AgZWFybHkpLiAgU2VlIEtudXRoLCBWb2x1bWUgMywgd2hlcmUgdGhpcyBpcwojIGV4cGxhaW5lZCBhbmQgcXVhbnRpZmllZCBpbiBhbiBleGVyY2lzZS4KIwojIEN1dHRpbmcgdGhlICMgb2YgY29tcGFyaXNvbnMgaXMgaW1wb3J0YW50LCBzaW5jZSB0aGVzZSByb3V0aW5lcyBoYXZlIG5vCiMgd2F5IHRvIGV4dHJhY3QgInRoZSBwcmlvcml0eSIgZnJvbSBhbiBhcnJheSBlbGVtZW50LCBzbyB0aGF0IGludGVsbGlnZW5jZQojIGlzIGxpa2VseSB0byBiZSBoaWRpbmcgaW4gY3VzdG9tIGNvbXBhcmlzb24gbWV0aG9kcywgb3IgaW4gYXJyYXkgZWxlbWVudHMKIyBzdG9yaW5nIChwcmlvcml0eSwgcmVjb3JkKSB0dXBsZXMuICBDb21wYXJpc29ucyBhcmUgdGh1cyBwb3RlbnRpYWxseQojIGV4cGVuc2l2ZS4KIwojIE9uIHJhbmRvbSBhcnJheXMgb2YgbGVuZ3RoIDEwMDAsIG1ha2luZyB0aGlzIGNoYW5nZSBjdXQgdGhlIG51bWJlciBvZgojIGNvbXBhcmlzb25zIG1hZGUgYnkgaGVhcGlmeSgpIGEgbGl0dGxlLCBhbmQgdGhvc2UgbWFkZSBieSBleGhhdXN0aXZlCiMgaGVhcHBvcCgpIGEgbG90LCBpbiBhY2NvcmQgd2l0aCB0aGVvcnkuICBIZXJlIGFyZSB0eXBpY2FsIHJlc3VsdHMgZnJvbSAzCiMgcnVucyAoMyBqdXN0IHRvIGRlbW9uc3RyYXRlIGhvdyBzbWFsbCB0aGUgdmFyaWFuY2UgaXMpOgojCiMgQ29tcGFyZXMgbmVlZGVkIGJ5IGhlYXBpZnkgICAgIENvbXBhcmVzIG5lZWRlZCBieSAxMDAwIGhlYXBwb3BzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgMTgzNyBjdXQgdG8gMTY2MyAgICAgICAgICAgICAgIDE0OTk2IGN1dCB0byA4NjgwCiMgMTg1NSBjdXQgdG8gMTY1OSAgICAgICAgICAgICAgIDE0OTY2IGN1dCB0byA4Njc4CiMgMTg0NyBjdXQgdG8gMTY2MCAgICAgICAgICAgICAgIDE1MDI0IGN1dCB0byA4NzAzCiMKIyBCdWlsZGluZyB0aGUgaGVhcCBieSB1c2luZyBoZWFwcHVzaCgpIDEwMDAgdGltZXMgaW5zdGVhZCByZXF1aXJlZAojIDIxOTgsIDIxNDgsIGFuZCAyMjE5IGNvbXBhcmVzOiAgaGVhcGlmeSgpIGlzIG1vcmUgZWZmaWNpZW50LCB3aGVuCiMgeW91IGNhbiB1c2UgaXQuCiMKIyBUaGUgdG90YWwgY29tcGFyZXMgbmVlZGVkIGJ5IGxpc3Quc29ydCgpIG9uIHRoZSBzYW1lIGxpc3RzIHdlcmUgODYyNywKIyA4NjI3LCBhbmQgODYzMiAodGhpcyBzaG91bGQgYmUgY29tcGFyZWQgdG8gdGhlIHN1bSBvZiBoZWFwaWZ5KCkgYW5kCiMgaGVhcHBvcCgpIGNvbXBhcmVzKTogIGxpc3Quc29ydCgpIGlzICh1bnN1cnByaXNpbmdseSEpIG1vcmUgZWZmaWNpZW50CiMgZm9yIHNvcnRpbmcuCgpkZWYgX3NpZnR1cChoZWFwLCBwb3MpOgogICAgZW5kcG9zID0gbGVuKGhlYXApCiAgICBzdGFydHBvcyA9IHBvcwogICAgbmV3aXRlbSA9IGhlYXBbcG9zXQogICAgIyBCdWJibGUgdXAgdGhlIHNtYWxsZXIgY2hpbGQgdW50aWwgaGl0dGluZyBhIGxlYWYuCiAgICBjaGlsZHBvcyA9IDIqcG9zICsgMSAgICAjIGxlZnRtb3N0IGNoaWxkIHBvc2l0aW9uCiAgICB3aGlsZSBjaGlsZHBvcyA8IGVuZHBvczoKICAgICAgICAjIFNldCBjaGlsZHBvcyB0byBpbmRleCBvZiBzbWFsbGVyIGNoaWxkLgogICAgICAgIHJpZ2h0cG9zID0gY2hpbGRwb3MgKyAxCiAgICAgICAgaWYgcmlnaHRwb3MgPCBlbmRwb3MgYW5kIG5vdCBoZWFwW2NoaWxkcG9zXSA8IGhlYXBbcmlnaHRwb3NdOgogICAgICAgICAgICBjaGlsZHBvcyA9IHJpZ2h0cG9zCiAgICAgICAgIyBNb3ZlIHRoZSBzbWFsbGVyIGNoaWxkIHVwLgogICAgICAgIGhlYXBbcG9zXSA9IGhlYXBbY2hpbGRwb3NdCiAgICAgICAgcG9zID0gY2hpbGRwb3MKICAgICAgICBjaGlsZHBvcyA9IDIqcG9zICsgMQogICAgIyBUaGUgbGVhZiBhdCBwb3MgaXMgZW1wdHkgbm93LiAgUHV0IG5ld2l0ZW0gdGhlcmUsIGFuZCBidWJibGUgaXQgdXAKICAgICMgdG8gaXRzIGZpbmFsIHJlc3RpbmcgcGxhY2UgKGJ5IHNpZnRpbmcgaXRzIHBhcmVudHMgZG93bikuCiAgICBoZWFwW3Bvc10gPSBuZXdpdGVtCiAgICBfc2lmdGRvd24oaGVhcCwgc3RhcnRwb3MsIHBvcykKCiMgbm90IGF2YWlsYWJsZSBpbiBicnl0aG9uCiMgSWYgYXZhaWxhYmxlLCB1c2UgQyBpbXBsZW1lbnRhdGlvbgojdHJ5OgojICAgIGZyb20gX2hlYXBxIGltcG9ydCAqCiNleGNlcHQgSW1wb3J0RXJyb3I6CiMgICAgcGFzcwoKZGVmIG1lcmdlKCppdGVyYWJsZXMpOgogICAgJycnTWVyZ2UgbXVsdGlwbGUgc29ydGVkIGlucHV0cyBpbnRvIGEgc2luZ2xlIHNvcnRlZCBvdXRwdXQuCgogICAgU2ltaWxhciB0byBzb3J0ZWQoaXRlcnRvb2xzLmNoYWluKCppdGVyYWJsZXMpKSBidXQgcmV0dXJucyBhIGdlbmVyYXRvciwKICAgIGRvZXMgbm90IHB1bGwgdGhlIGRhdGEgaW50byBtZW1vcnkgYWxsIGF0IG9uY2UsIGFuZCBhc3N1bWVzIHRoYXQgZWFjaCBvZgogICAgdGhlIGlucHV0IHN0cmVhbXMgaXMgYWxyZWFkeSBzb3J0ZWQgKHNtYWxsZXN0IHRvIGxhcmdlc3QpLgoKICAgID4+PiBsaXN0KG1lcmdlKFsxLDMsNSw3XSwgWzAsMiw0LDhdLCBbNSwxMCwxNSwyMF0sIFtdLCBbMjVdKSkKICAgIFswLCAxLCAyLCAzLCA0LCA1LCA1LCA3LCA4LCAxMCwgMTUsIDIwLCAyNV0KCiAgICAnJycKICAgIF9oZWFwcG9wLCBfaGVhcHJlcGxhY2UsIF9TdG9wSXRlcmF0aW9uID0gaGVhcHBvcCwgaGVhcHJlcGxhY2UsIFN0b3BJdGVyYXRpb24KCiAgICBoID0gW10KICAgIGhfYXBwZW5kID0gaC5hcHBlbmQKICAgIGZvciBpdG51bSwgaXQgaW4gZW51bWVyYXRlKG1hcChpdGVyLCBpdGVyYWJsZXMpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG5leHQgPSBpdC5fX25leHRfXwogICAgICAgICAgICBoX2FwcGVuZChbbmV4dCgpLCBpdG51bSwgbmV4dF0pCiAgICAgICAgZXhjZXB0IF9TdG9wSXRlcmF0aW9uOgogICAgICAgICAgICBwYXNzCiAgICBoZWFwaWZ5KGgpCgogICAgd2hpbGUgMToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgICAgICB2LCBpdG51bSwgbmV4dCA9IHMgPSBoWzBdICAgIyByYWlzZXMgSW5kZXhFcnJvciB3aGVuIGggaXMgZW1wdHkKICAgICAgICAgICAgICAgIHlpZWxkIHYKICAgICAgICAgICAgICAgIHNbMF0gPSBuZXh0KCkgICAgICAgICAgICAgICAjIHJhaXNlcyBTdG9wSXRlcmF0aW9uIHdoZW4gZXhoYXVzdGVkCiAgICAgICAgICAgICAgICBfaGVhcHJlcGxhY2UoaCwgcykgICAgICAgICAgIyByZXN0b3JlIGhlYXAgY29uZGl0aW9uCiAgICAgICAgZXhjZXB0IF9TdG9wSXRlcmF0aW9uOgogICAgICAgICAgICBfaGVhcHBvcChoKSAgICAgICAgICAgICAgICAgICAgICMgcmVtb3ZlIGVtcHR5IGl0ZXJhdG9yCiAgICAgICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgICAgIHJldHVybgoKIyBFeHRlbmQgdGhlIGltcGxlbWVudGF0aW9ucyBvZiBuc21hbGxlc3QgYW5kIG5sYXJnZXN0IHRvIHVzZSBhIGtleT0gYXJndW1lbnQKX25zbWFsbGVzdCA9IG5zbWFsbGVzdApkZWYgbnNtYWxsZXN0KG4sIGl0ZXJhYmxlLCBrZXk9Tm9uZSk6CiAgICAiIiJGaW5kIHRoZSBuIHNtYWxsZXN0IGVsZW1lbnRzIGluIGEgZGF0YXNldC4KCiAgICBFcXVpdmFsZW50IHRvOiAgc29ydGVkKGl0ZXJhYmxlLCBrZXk9a2V5KVs6bl0KICAgICIiIgogICAgIyBTaG9ydC1jdXQgZm9yIG49PTEgaXMgdG8gdXNlIG1pbigpIHdoZW4gbGVuKGl0ZXJhYmxlKT4wCiAgICBpZiBuID09IDE6CiAgICAgICAgaXQgPSBpdGVyKGl0ZXJhYmxlKQogICAgICAgIGhlYWQgPSBsaXN0KGlzbGljZShpdCwgMSkpCiAgICAgICAgaWYgbm90IGhlYWQ6CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGlmIGtleSBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gW21pbihjaGFpbihoZWFkLCBpdCkpXQogICAgICAgIHJldHVybiBbbWluKGNoYWluKGhlYWQsIGl0KSwga2V5PWtleSldCgogICAgIyBXaGVuIG4+PXNpemUsIGl0J3MgZmFzdGVyIHRvIHVzZSBzb3J0ZWQoKQogICAgdHJ5OgogICAgICAgIHNpemUgPSBsZW4oaXRlcmFibGUpCiAgICBleGNlcHQgKFR5cGVFcnJvciwgQXR0cmlidXRlRXJyb3IpOgogICAgICAgIHBhc3MKICAgIGVsc2U6CiAgICAgICAgaWYgbiA+PSBzaXplOgogICAgICAgICAgICByZXR1cm4gc29ydGVkKGl0ZXJhYmxlLCBrZXk9a2V5KVs6bl0KCiAgICAjIFdoZW4ga2V5IGlzIG5vbmUsIHVzZSBzaW1wbGVyIGRlY29yYXRpb24KICAgIGlmIGtleSBpcyBOb25lOgogICAgICAgIGl0ID0gemlwKGl0ZXJhYmxlLCBjb3VudCgpKSAgICAgICAgICAgICAgICAgICAgICAgICAjIGRlY29yYXRlCiAgICAgICAgcmVzdWx0ID0gX25zbWFsbGVzdChuLCBpdCkKICAgICAgICByZXR1cm4gW3JbMF0gZm9yIHIgaW4gcmVzdWx0XSAgICAgICAgICAgICAgICAgICAgICAgIyB1bmRlY29yYXRlCgogICAgIyBHZW5lcmFsIGNhc2UsIHNsb3dlc3QgbWV0aG9kCiAgICBpbjEsIGluMiA9IHRlZShpdGVyYWJsZSkKICAgIGl0ID0gemlwKG1hcChrZXksIGluMSksIGNvdW50KCksIGluMikgICAgICAgICAgICAgICAgICAgIyBkZWNvcmF0ZQogICAgcmVzdWx0ID0gX25zbWFsbGVzdChuLCBpdCkKICAgIHJldHVybiBbclsyXSBmb3IgciBpbiByZXN1bHRdICAgICAgICAgICAgICAgICAgICAgICAgICAgIyB1bmRlY29yYXRlCgoKX25sYXJnZXN0ID0gbmxhcmdlc3QKZGVmIG5sYXJnZXN0KG4sIGl0ZXJhYmxlLCBrZXk9Tm9uZSk6CiAgICAiIiJGaW5kIHRoZSBuIGxhcmdlc3QgZWxlbWVudHMgaW4gYSBkYXRhc2V0LgogICAgCiAgICAgRXF1aXZhbGVudCB0bzogIHNvcnRlZChpdGVyYWJsZSwga2V5PWtleSwgcmV2ZXJzZT1UcnVlKVs6bl0KCiAgICAgU2hvcnQtY3V0IGZvciBuPT0xIGlzIHRvIHVzZSBtYXgoKSB3aGVuIGxlbihpdGVyYWJsZSk+MAogICAgIiIiCiAgICBpZiBuID09IDE6CiAgICAgICAgaXQgPSBpdGVyKGl0ZXJhYmxlKQogICAgICAgIGhlYWQgPSBsaXN0KGlzbGljZShpdCwgMSkpCiAgICAgICAgaWYgbm90IGhlYWQ6CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGlmIGtleSBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gW21heChjaGFpbihoZWFkLCBpdCkpXQogICAgICAgIHJldHVybiBbbWF4KGNoYWluKGhlYWQsIGl0KSwga2V5PWtleSldCgogICAgIyBXaGVuIG4+PXNpemUsIGl0J3MgZmFzdGVyIHRvIHVzZSBzb3J0ZWQoKQogICAgdHJ5OgogICAgICAgIHNpemUgPSBsZW4oaXRlcmFibGUpCiAgICBleGNlcHQgKFR5cGVFcnJvciwgQXR0cmlidXRlRXJyb3IpOgogICAgICAgIHBhc3MKICAgIGVsc2U6CiAgICAgICAgaWYgbiA+PSBzaXplOgogICAgICAgICAgICByZXR1cm4gc29ydGVkKGl0ZXJhYmxlLCBrZXk9a2V5LCByZXZlcnNlPVRydWUpWzpuXQoKICAgICMgV2hlbiBrZXkgaXMgbm9uZSwgdXNlIHNpbXBsZXIgZGVjb3JhdGlvbgogICAgaWYga2V5IGlzIE5vbmU6CiAgICAgICAgaXQgPSB6aXAoaXRlcmFibGUsIGNvdW50KDAsLTEpKSAgICAgICAgICAgICAgICAgICAgICMgZGVjb3JhdGUKICAgICAgICByZXN1bHQgPSBfbmxhcmdlc3QobiwgaXQpCiAgICAgICAgcmV0dXJuIFtyWzBdIGZvciByIGluIHJlc3VsdF0gICAgICAgICAgICAgICAgICAgICAgICMgdW5kZWNvcmF0ZQoKICAgICMgR2VuZXJhbCBjYXNlLCBzbG93ZXN0IG1ldGhvZAogICAgaW4xLCBpbjIgPSB0ZWUoaXRlcmFibGUpCiAgICBpdCA9IHppcChtYXAoa2V5LCBpbjEpLCBjb3VudCgwLC0xKSwgaW4yKSAgICAgICAgICAgICAgICMgZGVjb3JhdGUKICAgIHJlc3VsdCA9IF9ubGFyZ2VzdChuLCBpdCkKICAgIHJldHVybiBbclsyXSBmb3IgciBpbiByZXN1bHRdICAgICAgICAgICAgICAgICAgICAgICAgICAgIyB1bmRlY29yYXRlCg==',
'/Lib/markdown.py':'aW1wb3J0IGh0bWwKaW1wb3J0IHJlCgpjbGFzcyBVUkw6CiAgICBkZWYgX19pbml0X18oc2VsZixzcmMpOgogICAgICAgIGVsdHMgPSBzcmMuc3BsaXQobWF4c3BsaXQ9MSkKICAgICAgICBzZWxmLmhyZWYgPSBlbHRzWzBdCiAgICAgICAgc2VsZi5hbHQgPSAnJwogICAgICAgIGlmIGxlbihlbHRzKT09MjoKICAgICAgICAgICAgYWx0ID0gZWx0c1sxXQogICAgICAgICAgICBpZiBhbHRbMF09PSciJyBhbmQgYWx0Wy0xXT09JyInOnNlbGYuYWx0PWFsdFsxOi0xXQogICAgICAgICAgICBlbGlmIGFsdFswXT09IiciIGFuZCBhbHRbLTFdPT0iJyI6c2VsZi5hbHQ9YWx0WzE6LTFdCiAgICAgICAgICAgIGVsaWYgYWx0WzBdPT0iKCIgYW5kIGFsdFstMV09PSIpIjpzZWxmLmFsdD1hbHRbMTotMV0KICAgICAgICAKY2xhc3MgQ29kZUJsb2NrOgogICAgZGVmIF9faW5pdF9fKHNlbGYsbGluZSk6CiAgICAgICAgc2VsZi5saW5lcyA9IFtsaW5lXQogICAgCiAgICBkZWYgdG9faHRtbChzZWxmKToKICAgICAgICByZXMgPSBlc2NhcGUoJ1xuJy5qb2luKHNlbGYubGluZXMpKQogICAgICAgIHJlcyA9IHVubWFyayhyZXMpCiAgICAgICAgcmVzID0gJzxwcmUgY2xhc3M9Im1hcmtlZCI+JXM8L3ByZT5cbicgJXJlcwogICAgICAgIHJldHVybiByZXMsW10KCmNsYXNzIE1hcmtlZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmxpbmVzID0gW10KICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KCiAgICBkZWYgdG9faHRtbChzZWxmKToKICAgICAgICByZXR1cm4gYXBwbHlfbWFya2Rvd24oJ1xuJy5qb2luKHNlbGYubGluZXMpKQogICAgICAgIAojIGdldCByZWZlcmVuY2VzCnJlZnMgPSB7fQpyZWZfcGF0dGVybiA9IHIiXlxbKC4qKVxdOlxzKyguKikiCgpkZWYgbWFyayhzcmMpOgoKICAgIGdsb2JhbCByZWZzCiAgICByZWZzID0ge30KICAgICMgc3BsaXQgc291cmNlIGluIHNlY3Rpb25zCiAgICAjIHNlY3Rpb25zIGNhbiBiZSA6CiAgICAjIC0gYSBibG9jay1sZXZlbCBIVE1MIGVsZW1lbnQgKG1hcmtkb3duIHN5bnRheCB3aWxsIG5vdCBiZSBwcm9jZXNzZWQpCiAgICAjIC0gYSBzY3JpcHQKICAgICMgLSBhIHNwYW4tbGV2ZWwgSFRNTCB0YWcgKG1hcmtkb3duIHN5bnRheCB3aWxsIGJlIHByb2Nlc3NlZCkKICAgICMgLSBhIGNvZGUgYmxvY2sKICAgIAogICAgbGluZXMgPSBzcmMuc3BsaXQoJ1xuJykKICAgIAogICAgc2VjdGlvbnMgPSBbXQogICAgc2NyaXB0cyA9IFtdCiAgICBzZWN0aW9uID0gTWFya2VkKCkKCiAgICBpID0gMAogICAgd2hpbGUgaTxsZW4obGluZXMpOgogICAgICAgIGxpbmUgPSBsaW5lc1tpXQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VjdGlvbixNYXJrZWQpOgogICAgICAgICAgICBpZiBsaW5lLmxvd2VyKCkuc3RhcnRzd2l0aCgnPHNjcmlwdCcpOgogICAgICAgICAgICAgICAgaiA9IGkrMQogICAgICAgICAgICAgICAgd2hpbGUgajxsZW4obGluZXMpOgogICAgICAgICAgICAgICAgICAgIGlmIGxpbmVzW2pdLmxvd2VyKCkuc3RhcnRzd2l0aCgnPC9zY3JpcHQ+Jyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdHMuYXBwZW5kKCdcbicuam9pbihsaW5lc1tpKzE6al0pKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgayBpbiByYW5nZShpLGorMSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1trXSA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICBpID0gaisxCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBsaW5lLnN0cmlwKCkgYW5kIGxpbmUuc3RhcnRzd2l0aCgnICAgICcpOgogICAgICAgICAgICAgICAgaWYgc2VjdGlvbi5saW5lczoKICAgICAgICAgICAgICAgICAgICBzZWN0aW9ucy5hcHBlbmQoc2VjdGlvbikKICAgICAgICAgICAgICAgIHNlY3Rpb24gPSBDb2RlQmxvY2sobGluZVs0Ol0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBtbyA9IHJlLnNlYXJjaChyZWZfcGF0dGVybixsaW5lKQogICAgICAgICAgICAgICAgaWYgbW8gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAga2V5ID0gbW8uZ3JvdXBzKClbMF0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFVSTChtby5ncm91cHMoKVsxXSkKICAgICAgICAgICAgICAgICAgICByZWZzW2tleS5sb3dlcigpXSA9IHZhbHVlCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ubGluZXMuYXBwZW5kKGxpbmUpCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKHNlY3Rpb24sQ29kZUJsb2NrKToKICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKCcgICAgJykgb3Igbm90IGxpbmUuc3RyaXAoKToKICAgICAgICAgICAgICAgIHNlY3Rpb24ubGluZXMuYXBwZW5kKGxpbmVbNDpdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VjdGlvbnMuYXBwZW5kKHNlY3Rpb24pCiAgICAgICAgICAgICAgICBzZWN0aW9uID0gTWFya2VkKCkgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZWN0aW9uLmxpbmVzLmFwcGVuZChsaW5lKQogICAgICAgIGkgKz0gMQogICAgaWYgc2VjdGlvbi5saW5lczoKICAgICAgICBzZWN0aW9ucy5hcHBlbmQoc2VjdGlvbikKCiAgICByZXMgPSAnJwogICAgZm9yIHNlY3Rpb24gaW4gc2VjdGlvbnM6CiAgICAgICAgbWssX3NjcmlwdHMgPSBzZWN0aW9uLnRvX2h0bWwoKQogICAgICAgIHJlcyArPSBtawogICAgICAgIHNjcmlwdHMgKz0gX3NjcmlwdHMKICAgIHJldHVybiByZXMsc2NyaXB0cwoKZGVmIGVzY2FwZShjem9uZSk6CiAgICBjem9uZSA9IGN6b25lLnJlcGxhY2UoJyYnLCcmYW1wOycpCiAgICBjem9uZSA9IGN6b25lLnJlcGxhY2UoJzwnLCcmbHQ7JykKICAgIGN6b25lID0gY3pvbmUucmVwbGFjZSgnPicsJyZndDsnKQogICAgcmV0dXJuIGN6b25lCgpkZWYgc19lc2NhcGUobW8pOgogICAgIyB1c2VkIGluIHJlLnN1YgogICAgY3pvbmUgPSBtby5zdHJpbmdbbW8uc3RhcnQoKTptby5lbmQoKV0KICAgIHJldHVybiBlc2NhcGUoY3pvbmUpCgpkZWYgdW5tYXJrKGNvZGVfem9uZSk6CiAgICAjIGNvbnZlcnQgXyB0byAmIzk1OyBpbnNpZGUgaW5saW5lIGNvZGUKICAgIGNvZGVfem9uZSA9IGNvZGVfem9uZS5yZXBsYWNlKCdfJywnJiM5NTsnKQogICAgcmV0dXJuIGNvZGVfem9uZQoKZGVmIHNfdW5tYXJrKG1vKToKICAgICMgY29udmVydCBfIHRvICYjOTU7IGluc2lkZSBpbmxpbmUgY29kZQogICAgY29kZV96b25lID0gbW8uc3RyaW5nW21vLnN0YXJ0KCk6bW8uZW5kKCldCiAgICBjb2RlX3pvbmUgPSBjb2RlX3pvbmUucmVwbGFjZSgnXycsJyYjOTU7JykKICAgIHJldHVybiBjb2RlX3pvbmUKCmRlZiBhcHBseV9tYXJrZG93bihzcmMpOgoKICAgIHNjcmlwdHMgPSBbXQoKICAgICMgYmxvY2txdW90ZXMKICAgIGxpbmVzID0gc3JjLnNwbGl0KCdcbicpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG5iID0gMAogICAgICAgIGkgPSAwCiAgICAgICAgd2hpbGUgaTxsZW4obGluZXMpOgogICAgICAgICAgICBpZiBsaW5lc1tpXS5zdGFydHN3aXRoKCc+Jyk6CiAgICAgICAgICAgICAgICBoZWFkID0gJ1xuJy5qb2luKGxpbmVzWzppXSkKICAgICAgICAgICAgICAgIGJxbGluZXMgPSBbXQogICAgICAgICAgICAgICAgbmIgKz0gMQogICAgICAgICAgICAgICAgcmVzdCA9IGxpbmVzW2ldWzE6XQogICAgICAgICAgICAgICAgaWYgcmVzdC5sc3RyaXAoKS5zdGFydHN3aXRoKCc+Jyk6CiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHJlc3QubHN0cmlwKCkKICAgICAgICAgICAgICAgIGJxbGluZXMuYXBwZW5kKHJlc3QpCiAgICAgICAgICAgICAgICBqID0gaSsxCiAgICAgICAgICAgICAgICB3aGlsZSBqPGxlbihsaW5lcyk6CiAgICAgICAgICAgICAgICAgICAgaWYgbGluZXNbal0uc3RhcnRzd2l0aCgnPicpOgogICAgICAgICAgICAgICAgICAgICAgICByZXN0ID0gbGluZXNbal1bMTpdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3QubHN0cmlwKCkuc3RhcnRzd2l0aCgnPicpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHJlc3QubHN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgYnFsaW5lcy5hcHBlbmQocmVzdCkKICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxpZiBsaW5lc1tqXS5zdHJpcCgpIGFuZCBsaW5lc1tqXVswXSE9JyAnOgogICAgICAgICAgICAgICAgICAgICAgICBicWxpbmVzLmFwcGVuZChsaW5lc1tqXSkKICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICMgYnFsaW5lcyBob2xkcyB0aGUgbGluZXMgaW4gdGhlIGJsb2NrcXVvdGUsIHN0cmlwcGVkIG9mCiAgICAgICAgICAgICAgICAjIHRoZSBsZWFkaW5nID4KICAgICAgICAgICAgICAgICMgd2UgYXBwbHkgdGhlIHdob2xlIG1hcmtkb3duIHByb2Nlc3MgdG8gdGhlc2UgbGluZXMKICAgICAgICAgICAgICAgIG1rLF9zY3JpcHRzID0gbWFyaygnXG4nLmpvaW4oYnFsaW5lcykpCiAgICAgICAgICAgICAgICBzY3JpcHRzICs9IF9zY3JpcHRzCiAgICAgICAgICAgICAgICBzcmMgPSBoZWFkCiAgICAgICAgICAgICAgICBzcmMgKz0gJzxibG9ja3F1b3RlPicgKyBtayArICc8L2Jsb2NrcXVvdGU+JwogICAgICAgICAgICAgICAgc3JjICs9ICdcbicuam9pbihsaW5lc1tqOl0pCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBpICs9IDEKICAgICAgICBpZiBuYj09MDpicmVhawogICAgICAgIGxpbmVzID0gc3JjLnNwbGl0bGluZXMoKQoKICAgICMgcmVwbGFjZSBcYCBieSAmIzk2OwogICAgc3JjID0gcmUuc3ViKHInXFxcYCcsJyYjOTY7JyxzcmMpCgogICAgIyBlc2NhcGUgPCA+ICYgaW4gaW5saW5lIGNvZGUKICAgIGNvZGVfcGF0dGVybiA9IHInXGAoXFMuKj9cUylcYCcKICAgIHNyYyA9IHJlLnN1Yihjb2RlX3BhdHRlcm4sc19lc2NhcGUsc3JjKQogICAgIyBhbHNvIGNvbnZlcnQgXwogICAgc3JjID0gcmUuc3ViKGNvZGVfcGF0dGVybixzX3VubWFyayxzcmMpICAgIAogICAgCiAgICAjIGlubGluZSBsaW5rcwogICAgbGlua19wYXR0ZXJuMSA9IHInXFsoLis/KVxdXHM/XCgoLis/KVwpJwogICAgZGVmIHJlcGwobW8pOgogICAgICAgIGcxLGcyID0gbW8uZ3JvdXBzKCkKICAgICAgICBnMiA9IHJlLnN1YignXycsJyYjOTU7JyxnMikKICAgICAgICByZXR1cm4gJzxhIGhyZWY9IiVzIj4lczwvYT4nICUoZzIsZzEpCiAgICBzcmMgPSByZS5zdWIobGlua19wYXR0ZXJuMSxyZXBsLHNyYykKCiAgICAjIHJlZmVyZW5jZSBsaW5rcwogICAgbGlua19wYXR0ZXJuMiA9IHInXFsoLis/KVxdXHM/XFsoLio/KVxdJwogICAgd2hpbGUgVHJ1ZToKICAgICAgICBtbyA9IHJlLnNlYXJjaChsaW5rX3BhdHRlcm4yLHNyYykKICAgICAgICBpZiBtbyBpcyBOb25lOmJyZWFrCiAgICAgICAgdGV4dCxrZXkgPSBtby5ncm91cHMoKQogICAgICAgIHByaW50KHRleHQsa2V5KQogICAgICAgIGlmIG5vdCBrZXk6a2V5PXRleHQgIyBpbXBsaWNpdCBsaW5rIG5hbWUKICAgICAgICBpZiBrZXkubG93ZXIoKSBub3QgaW4gcmVmczoKICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ3Vua25vdyByZWZlcmVuY2UgJXMnICVrZXkpCiAgICAgICAgdXJsID0gcmVmc1trZXkubG93ZXIoKV0KICAgICAgICByZXBsID0gJzxhIGhyZWY9IicrdXJsLmhyZWYrJyInCiAgICAgICAgaWYgdXJsLmFsdDoKICAgICAgICAgICAgcmVwbCArPSAnIHRpdGxlPSInK3VybC5hbHQrJyInCiAgICAgICAgcmVwbCArPSAnPiVzPC9hPicgJXRleHQKICAgICAgICBzcmMgPSByZS5zdWIobGlua19wYXR0ZXJuMixyZXBsLHNyYyxjb3VudD0xKQoKICAgICMgZW1waGFzaXMKCiAgICAjIHJlcGxhY2UgXCogYnkgJiM0MjsKICAgIHNyYyA9IHJlLnN1YihyJ1xcXConLCcmIzQyOycsc3JjKQogICAgIyByZXBsYWNlIFxfIGJ5ICYjOTU7CiAgICBzcmMgPSByZS5zdWIocidcXFxfJywnJiM5NTsnLHNyYykKICAgICMgXyBhbmQgKiBzdXJyb3VuZGVkIGJ5IHNwYWNlcyBhcmUgbm90IG1hcmt1cAogICAgc3JjID0gcmUuc3ViKHInIF8gJywnICYjOTU7ICcsc3JjKQogICAgc3JjID0gcmUuc3ViKHInIFwqICcsJyAmIzQyOyAnLHNyYykKCiAgICBzdHJvbmdfcGF0dGVybnMgPSBbcidcKlwqKC4qPylcKlwqJyxyJ19fKC4qPylfXyddCiAgICBmb3Igc3Ryb25nX3BhdHRlcm4gaW4gc3Ryb25nX3BhdHRlcm5zOgogICAgICAgIHNyYyA9IHJlLnN1YihzdHJvbmdfcGF0dGVybixyJzxzdHJvbmc+XDE8L3N0cm9uZz4nLHNyYykKCiAgICBlbV9wYXR0ZXJucyA9IFtyJ1wqKC4qPylcKicscidcXyguKj8pXF8nXQogICAgZm9yIGVtX3BhdHRlcm4gaW4gZW1fcGF0dGVybnM6CiAgICAgICAgc3JjID0gcmUuc3ViKGVtX3BhdHRlcm4scic8ZW0+XDE8L2VtPicsc3JjKQoKICAgICMgaW5saW5lIGNvZGUKICAgICMgcmVwbGFjZSBcYCBieSAmIzk2OwogICAgc3JjID0gcmUuc3ViKHInXFxcYCcsJyYjOTY7JyxzcmMpCgogICAgY29kZV9wYXR0ZXJuID0gcidcYCguKj8pXGAnCiAgICBzcmMgPSByZS5zdWIoY29kZV9wYXR0ZXJuLHInPGNvZGU+XDE8L2NvZGU+JyxzcmMpCgogICAgIyB1bm9yZGVyZWQgbGlzdHMKICAgIGxpbmVzID0gc3JjLnNwbGl0KCdcbicpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG5iID0gMAogICAgICAgIGkgPSAwCiAgICAgICAgd2hpbGUgaTxsZW4obGluZXMpOgogICAgICAgICAgICBtbyA9IHJlLnNlYXJjaChyJ14oICpbKyotXSknLGxpbmVzW2ldKQogICAgICAgICAgICBpZiBtbzoKICAgICAgICAgICAgICAgIHN0YXJ0ZXIgPSBtby5ncm91cHMoKVswXQogICAgICAgICAgICAgICAgaWYgbm90IGxpbmVzW2ldLnN0cmlwKHN0YXJ0ZXIpOgogICAgICAgICAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBuYiArPSAxCiAgICAgICAgICAgICAgICBsaW5lc1tpXSA9ICc8dWw+XG48bGk+JytsaW5lc1tpXVtsZW4oc3RhcnRlcik6XQogICAgICAgICAgICAgICAgaiA9IGkrMQogICAgICAgICAgICAgICAgd2hpbGUgajxsZW4obGluZXMpOgogICAgICAgICAgICAgICAgICAgIGlmIGxpbmVzW2pdLnN0YXJ0c3dpdGgoc3RhcnRlcik6CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2pdID0gJzxsaT4nK2xpbmVzW2pdW2xlbihzdGFydGVyKTpdCiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMQogICAgICAgICAgICAgICAgICAgIGVsaWYgbGluZXNbal0uc3RhcnRzd2l0aCgnICcpIGFuZCBsaW5lc1tqXS5sc3RyaXAoKS5zdGFydHN3aXRoKHN0YXJ0ZXIpOgogICAgICAgICAgICAgICAgICAgICAgICBqICs9IDEKICAgICAgICAgICAgICAgICAgICBlbGlmIG5vdCBsaW5lc1tqXS5zdHJpcCgpOgogICAgICAgICAgICAgICAgICAgICAgICBqKz0xCiAgICAgICAgICAgICAgICAgICAgZWxpZiBsaW5lc1tqXS5zdGFydHN3aXRoKCcgJypsZW4oc3RhcnRlcikpOgogICAgICAgICAgICAgICAgICAgICAgICBqKz0xCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGxpbmVzW2otMV0gKz0gJ1xuPC91bD4nCiAgICAgICAgICAgIGkgKz0gMQogICAgICAgIHNyYyA9ICdcbicuam9pbihsaW5lcykKICAgICAgICBpZiBuYj09MDpicmVhawogICAgICAgIGxpbmVzID0gc3JjLnNwbGl0bGluZXMoKQoKICAgICMgb3JkZXJlZCBsaXN0cwogICAgbGluZXMgPSBzcmMuc3BsaXQoJ1xuJykKICAgIHdoaWxlIFRydWU6CiAgICAgICAgbmIgPSAwCiAgICAgICAgaSA9IDAKICAgICAgICB3aGlsZSBpPGxlbihsaW5lcyk6CiAgICAgICAgICAgIGlmIHJlLnNlYXJjaChyJ15cZCtcLicsbGluZXNbaV0pOgogICAgICAgICAgICAgICAgbmIgKz0gMQogICAgICAgICAgICAgICAgbGluZXNbaV0gPSAnPG9sPlxuPGxpPicrbGluZXNbaV1bbGluZXNbaV0uZmluZCgnLicpKzE6XQogICAgICAgICAgICAgICAgaiA9IGkrMQogICAgICAgICAgICAgICAgd2hpbGUgajxsZW4obGluZXMpOgogICAgICAgICAgICAgICAgICAgIGlmIHJlLnNlYXJjaChyJ15cZCtcLicsbGluZXNbal0pOgogICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tqXSA9ICc8bGk+JytsaW5lc1tqXVtsaW5lc1tqXS5maW5kKCcuJykrMTpdCiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBsaW5lc1tqLTFdICs9ICdcbjwvb2w+JwogICAgICAgICAgICBpICs9IDEKICAgICAgICBzcmMgPSAnXG4nLmpvaW4obGluZXMpCiAgICAgICAgaWYgbmI9PTA6YnJlYWsKICAgICAgICBsaW5lcyA9IHNyYy5zcGxpdGxpbmVzKCkKCiAgICAjIGhlYWRlcnMKICAgIGkgPSAxCiAgICB3aGlsZSBpPGxlbihsaW5lcyk6CiAgICAgICAgbGluZSA9IGxpbmVzW2ldCiAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKCc9JykgYW5kIG5vdCBsaW5lLnN0cmlwKCc9Jykuc3RyaXAoKToKICAgICAgICAgICAgbGluZXNbaS0xXSA9ICc8SDE+JXM8L0gxPicgJWxpbmVzW2ktMV0KICAgICAgICAgICAgZGVsIGxpbmVzW2ldCiAgICAgICAgZWxpZiBsaW5lLnN0YXJ0c3dpdGgoJy0nKSBhbmQgbm90IGxpbmUuc3RyaXAoJy0nKS5zdHJpcCgpOgogICAgICAgICAgICBsaW5lc1tpLTFdID0gJzxIMj4lczwvSDI+JyAlbGluZXNbaS0xXQogICAgICAgICAgICBkZWwgbGluZXNbaV0KICAgICAgICBlbHNlOgogICAgICAgICAgICBpICs9IDEKICAgICAgICAgICAKICAgIGF0eF9oZWFkZXJfcGF0dGVybiA9ICdeKCMrKSguKikoIyopJwogICAgZm9yIGksbGluZSBpbiBlbnVtZXJhdGUobGluZXMpOgogICAgICAgIG1vID0gcmUuc2VhcmNoKGF0eF9oZWFkZXJfcGF0dGVybixsaW5lKQogICAgICAgIGlmIG5vdCBtbzpjb250aW51ZQogICAgICAgIGxldmVsID0gbGVuKG1vLmdyb3VwcygpWzBdKQogICAgICAgIGxpbmVzW2ldID0gcmUuc3ViKGF0eF9oZWFkZXJfcGF0dGVybiwKICAgICAgICAgICAgJzxIJXM+JXM8L0glcz5cbicgJShsZXZlbCxtby5ncm91cHMoKVsxXSxsZXZlbCksCiAgICAgICAgICAgIGxpbmUsY291bnQ9MSkKCiAgICBzcmMgPSAnXG4nLmpvaW4obGluZXMpICAgICAgCiAgICBzcmMgPSByZS5zdWIoJ1xuXG4rJywnXG48cD4nLHNyYykrJ1xuJwoKICAgIHJldHVybiBzcmMsc2NyaXB0cwo=',
'/Lib/sre_parse.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyBjb252ZXJ0IHJlLXN0eWxlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBzcmUgcGF0dGVybgojCiMgQ29weXJpZ2h0IChjKSAxOTk4LTIwMDEgYnkgU2VjcmV0IExhYnMgQUIuICBBbGwgcmlnaHRzIHJlc2VydmVkLgojCiMgU2VlIHRoZSBzcmUucHkgZmlsZSBmb3IgaW5mb3JtYXRpb24gb24gdXNhZ2UgYW5kIHJlZGlzdHJpYnV0aW9uLgojCgoiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgojIFhYWDogc2hvdyBzdHJpbmcgb2Zmc2V0IGFuZCBvZmZlbmRpbmcgY2hhcmFjdGVyIGZvciBhbGwgZXJyb3JzCgppbXBvcnQgc3lzCmZyb20gc3JlX2NvbnN0YW50cyBpbXBvcnQgKgoKCgpTUEVDSUFMX0NIQVJTID0gIi5cXFt7KCkqKz9eJHwiClJFUEVBVF9DSEFSUyA9ICIqKz97IgoKRElHSVRTID0gc2V0KCIwMTIzNDU2Nzg5IikKCk9DVERJR0lUUyA9IHNldCgiMDEyMzQ1NjciKQpIRVhESUdJVFMgPSBzZXQoIjAxMjM0NTY3ODlhYmNkZWZBQkNERUYiKQoKV0hJVEVTUEFDRSA9IHNldCgiIFx0XG5cclx2XGYiKQoKRVNDQVBFUyA9IHsKICAgIHIiXGEiOiAoTElURVJBTCwgb3JkKCJcYSIpKSwKICAgIHIiXGIiOiAoTElURVJBTCwgb3JkKCJcYiIpKSwKICAgIHIiXGYiOiAoTElURVJBTCwgb3JkKCJcZiIpKSwKICAgIHIiXG4iOiAoTElURVJBTCwgb3JkKCJcbiIpKSwKICAgIHIiXHIiOiAoTElURVJBTCwgb3JkKCJcciIpKSwKICAgIHIiXHQiOiAoTElURVJBTCwgb3JkKCJcdCIpKSwKICAgIHIiXHYiOiAoTElURVJBTCwgb3JkKCJcdiIpKSwKICAgIHIiXFwiOiAoTElURVJBTCwgb3JkKCJcXCIpKQp9CgpDQVRFR09SSUVTID0gewogICAgciJcQSI6IChBVCwgQVRfQkVHSU5OSU5HX1NUUklORyksICMgc3RhcnQgb2Ygc3RyaW5nCiAgICByIlxiIjogKEFULCBBVF9CT1VOREFSWSksCiAgICByIlxCIjogKEFULCBBVF9OT05fQk9VTkRBUlkpLAogICAgciJcZCI6IChJTiwgWyhDQVRFR09SWSwgQ0FURUdPUllfRElHSVQpXSksCiAgICByIlxEIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9OT1RfRElHSVQpXSksCiAgICByIlxzIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9TUEFDRSldKSwKICAgIHIiXFMiOiAoSU4sIFsoQ0FURUdPUlksIENBVEVHT1JZX05PVF9TUEFDRSldKSwKICAgIHIiXHciOiAoSU4sIFsoQ0FURUdPUlksIENBVEVHT1JZX1dPUkQpXSksCiAgICByIlxXIjogKElOLCBbKENBVEVHT1JZLCBDQVRFR09SWV9OT1RfV09SRCldKSwKICAgICNmaXhtZSBicnl0aG9uCiAgICAjciJcWiI6IChBVCwgQVRfRU5EX1NUUklORyksICMgZW5kIG9mIHN0cmluZwogICAgciJcWiI6IChBVCwgQVRfRU5EX1NUUklORykgIyBlbmQgb2Ygc3RyaW5nCn0KCkZMQUdTID0gewogICAgIyBzdGFuZGFyZCBmbGFncwogICAgImkiOiBTUkVfRkxBR19JR05PUkVDQVNFLAogICAgIkwiOiBTUkVfRkxBR19MT0NBTEUsCiAgICAibSI6IFNSRV9GTEFHX01VTFRJTElORSwKICAgICJzIjogU1JFX0ZMQUdfRE9UQUxMLAogICAgIngiOiBTUkVfRkxBR19WRVJCT1NFLAogICAgIyBleHRlbnNpb25zCiAgICAiYSI6IFNSRV9GTEFHX0FTQ0lJLAogICAgInQiOiBTUkVfRkxBR19URU1QTEFURSwKICAgICNmaXhtZSBicnl0aG9uCiAgICAjInUiOiBTUkVfRkxBR19VTklDT0RFLAogICAgInUiOiBTUkVfRkxBR19VTklDT0RFCn0KCmNsYXNzIFBhdHRlcm46CiAgICAjIG1hc3RlciBwYXR0ZXJuIG9iamVjdC4gIGtlZXBzIHRyYWNrIG9mIGdsb2JhbCBhdHRyaWJ1dGVzCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5mbGFncyA9IDAKICAgICAgICBzZWxmLm9wZW4gPSBbXQogICAgICAgIHNlbGYuZ3JvdXBzID0gMQogICAgICAgIHNlbGYuZ3JvdXBkaWN0ID0ge30KICAgIGRlZiBvcGVuZ3JvdXAoc2VsZiwgbmFtZT1Ob25lKToKICAgICAgICBnaWQgPSBzZWxmLmdyb3VwcwogICAgICAgIHNlbGYuZ3JvdXBzID0gZ2lkICsgMQogICAgICAgIGlmIG5hbWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG9naWQgPSBzZWxmLmdyb3VwZGljdC5nZXQobmFtZSwgTm9uZSkKICAgICAgICAgICAgaWYgb2dpZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJyZWRlZmluaXRpb24gb2YgZ3JvdXAgbmFtZSAlcyBhcyBncm91cCAlZDsgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndhcyBncm91cCAlZCIgJSAocmVwcihuYW1lKSwgZ2lkLCAgb2dpZCkpCiAgICAgICAgICAgIHNlbGYuZ3JvdXBkaWN0W25hbWVdID0gZ2lkCiAgICAgICAgc2VsZi5vcGVuLmFwcGVuZChnaWQpCiAgICAgICAgcmV0dXJuIGdpZAogICAgZGVmIGNsb3NlZ3JvdXAoc2VsZiwgZ2lkKToKICAgICAgICBzZWxmLm9wZW4ucmVtb3ZlKGdpZCkKICAgIGRlZiBjaGVja2dyb3VwKHNlbGYsIGdpZCk6CiAgICAgICAgcmV0dXJuIGdpZCA8IHNlbGYuZ3JvdXBzIGFuZCBnaWQgbm90IGluIHNlbGYub3BlbgoKY2xhc3MgU3ViUGF0dGVybjoKICAgICMgYSBzdWJwYXR0ZXJuLCBpbiBpbnRlcm1lZGlhdGUgZm9ybQogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdHRlcm4sIGRhdGE9Tm9uZSk6CiAgICAgICAgc2VsZi5wYXR0ZXJuID0gcGF0dGVybgogICAgICAgIGlmIGRhdGEgaXMgTm9uZToKICAgICAgICAgICAgZGF0YSA9IFtdCiAgICAgICAgc2VsZi5kYXRhID0gZGF0YQogICAgICAgIHNlbGYud2lkdGggPSBOb25lCiAgICBkZWYgZHVtcChzZWxmLCBsZXZlbD0wKToKICAgICAgICBubCA9IDEKICAgICAgICBzZXF0eXBlcyA9ICh0dXBsZSwgbGlzdCkKICAgICAgICBmb3Igb3AsIGF2IGluIHNlbGYuZGF0YToKICAgICAgICAgICAgcHJpbnQobGV2ZWwqIiAgIiArIG9wLCBlbmQ9JyAnKTsgbmwgPSAwCiAgICAgICAgICAgIGlmIG9wID09ICJpbiI6CiAgICAgICAgICAgICAgICAjIG1lbWJlciBzdWJsYW5ndWFnZQogICAgICAgICAgICAgICAgcHJpbnQoKTsgbmwgPSAxCiAgICAgICAgICAgICAgICBmb3Igb3AsIGEgaW4gYXY6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoKGxldmVsKzEpKiIgICIgKyBvcCwgYSkKICAgICAgICAgICAgZWxpZiBvcCA9PSAiYnJhbmNoIjoKICAgICAgICAgICAgICAgIHByaW50KCk7IG5sID0gMQogICAgICAgICAgICAgICAgaSA9IDAKICAgICAgICAgICAgICAgIGZvciBhIGluIGF2WzFdOgogICAgICAgICAgICAgICAgICAgIGlmIGkgPiAwOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChsZXZlbCoiICAiICsgIm9yIikKICAgICAgICAgICAgICAgICAgICBhLmR1bXAobGV2ZWwrMSk7IG5sID0gMQogICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMQogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoYXYsIHNlcXR5cGVzKToKICAgICAgICAgICAgICAgIGZvciBhIGluIGF2OgogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYSwgU3ViUGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBubDogcHJpbnQoKQogICAgICAgICAgICAgICAgICAgICAgICBhLmR1bXAobGV2ZWwrMSk7IG5sID0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGEsIGVuZD0nICcpIDsgbmwgPSAwCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChhdiwgZW5kPScgJykgOyBubCA9IDAKICAgICAgICAgICAgaWYgbm90IG5sOiBwcmludCgpCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHJlcHIoc2VsZi5kYXRhKQogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGRlbCBzZWxmLmRhdGFbaW5kZXhdCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoaW5kZXgsIHNsaWNlKToKICAgICAgICAgICAgcmV0dXJuIFN1YlBhdHRlcm4oc2VsZi5wYXR0ZXJuLCBzZWxmLmRhdGFbaW5kZXhdKQogICAgICAgIHJldHVybiBzZWxmLmRhdGFbaW5kZXhdCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgaW5kZXgsIGNvZGUpOgogICAgICAgIHNlbGYuZGF0YVtpbmRleF0gPSBjb2RlCiAgICBkZWYgaW5zZXJ0KHNlbGYsIGluZGV4LCBjb2RlKToKICAgICAgICBzZWxmLmRhdGEuaW5zZXJ0KGluZGV4LCBjb2RlKQogICAgZGVmIGFwcGVuZChzZWxmLCBjb2RlKToKICAgICAgICBzZWxmLmRhdGEuYXBwZW5kKGNvZGUpCiAgICBkZWYgZ2V0d2lkdGgoc2VsZik6CiAgICAgICAgIyBkZXRlcm1pbmUgdGhlIHdpZHRoIChtaW4sIG1heCkgZm9yIHRoaXMgc3VicGF0dGVybgogICAgICAgIGlmIHNlbGYud2lkdGg6CiAgICAgICAgICAgIHJldHVybiBzZWxmLndpZHRoCiAgICAgICAgbG8gPSBoaSA9IDAKICAgICAgICBVTklUQ09ERVMgPSAoQU5ZLCBSQU5HRSwgSU4sIExJVEVSQUwsIE5PVF9MSVRFUkFMLCBDQVRFR09SWSkKICAgICAgICBSRVBFQVRDT0RFUyA9IChNSU5fUkVQRUFULCBNQVhfUkVQRUFUKQogICAgICAgIGZvciBvcCwgYXYgaW4gc2VsZi5kYXRhOgogICAgICAgICAgICBpZiBvcCBpcyBCUkFOQ0g6CiAgICAgICAgICAgICAgICBpID0gc3lzLm1heHNpemUKICAgICAgICAgICAgICAgIGogPSAwCiAgICAgICAgICAgICAgICBmb3IgYXYgaW4gYXZbMV06CiAgICAgICAgICAgICAgICAgICAgbCwgaCA9IGF2LmdldHdpZHRoKCkKICAgICAgICAgICAgICAgICAgICBpID0gbWluKGksIGwpCiAgICAgICAgICAgICAgICAgICAgaiA9IG1heChqLCBoKQogICAgICAgICAgICAgICAgbG8gPSBsbyArIGkKICAgICAgICAgICAgICAgIGhpID0gaGkgKyBqCiAgICAgICAgICAgIGVsaWYgb3AgaXMgQ0FMTDoKICAgICAgICAgICAgICAgIGksIGogPSBhdi5nZXR3aWR0aCgpCiAgICAgICAgICAgICAgICBsbyA9IGxvICsgaQogICAgICAgICAgICAgICAgaGkgPSBoaSArIGoKICAgICAgICAgICAgZWxpZiBvcCBpcyBTVUJQQVRURVJOOgogICAgICAgICAgICAgICAgaSwgaiA9IGF2WzFdLmdldHdpZHRoKCkKICAgICAgICAgICAgICAgIGxvID0gbG8gKyBpCiAgICAgICAgICAgICAgICBoaSA9IGhpICsgagogICAgICAgICAgICBlbGlmIG9wIGluIFJFUEVBVENPREVTOgogICAgICAgICAgICAgICAgaSwgaiA9IGF2WzJdLmdldHdpZHRoKCkKICAgICAgICAgICAgICAgIGxvID0gbG8gKyBpbnQoaSkgKiBhdlswXQogICAgICAgICAgICAgICAgaGkgPSBoaSArIGludChqKSAqIGF2WzFdCiAgICAgICAgICAgIGVsaWYgb3AgaW4gVU5JVENPREVTOgogICAgICAgICAgICAgICAgbG8gPSBsbyArIDEKICAgICAgICAgICAgICAgIGhpID0gaGkgKyAxCiAgICAgICAgICAgIGVsaWYgb3AgPT0gU1VDQ0VTUzoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgc2VsZi53aWR0aCA9IGludChtaW4obG8sIHN5cy5tYXhzaXplKSksIGludChtaW4oaGksIHN5cy5tYXhzaXplKSkKICAgICAgICByZXR1cm4gc2VsZi53aWR0aAoKY2xhc3MgVG9rZW5pemVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0cmluZyk6CiAgICAgICAgc2VsZi5zdHJpbmcgPSBzdHJpbmcKICAgICAgICBzZWxmLmluZGV4ID0gMAogICAgICAgIHNlbGYuX19uZXh0KCkKICAgIGRlZiBfX25leHQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5pbmRleCA+PSBsZW4oc2VsZi5zdHJpbmcpOgogICAgICAgICAgICBzZWxmLm5leHQgPSBOb25lCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGNoYXIgPSBzZWxmLnN0cmluZ1tzZWxmLmluZGV4OnNlbGYuaW5kZXgrMV0KICAgICAgICAjIFNwZWNpYWwgY2FzZSBmb3IgdGhlIHN0cjgsIHNpbmNlIGluZGV4aW5nIHJldHVybnMgYSBpbnRlZ2VyCiAgICAgICAgIyBYWFggVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgdGVzdF9idWdfOTI2MDc1IGluIHRlc3RfcmUucHkKICAgICAgICBpZiBjaGFyIGFuZCBpc2luc3RhbmNlKGNoYXIsIGJ5dGVzKToKICAgICAgICAgICAgY2hhciA9IGNocihjaGFyWzBdKQogICAgICAgIGlmIGNoYXIgPT0gIlxcIjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYyA9IHNlbGYuc3RyaW5nW3NlbGYuaW5kZXggKyAxXQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGUgKGVuZCBvZiBsaW5lKSIpCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5zdHJpbmcsIGJ5dGVzKToKICAgICAgICAgICAgICAgIGMgPSBjaHIoYykKICAgICAgICAgICAgY2hhciA9IGNoYXIgKyBjCiAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuaW5kZXggKyBsZW4oY2hhcikKICAgICAgICBzZWxmLm5leHQgPSBjaGFyCiAgICBkZWYgbWF0Y2goc2VsZiwgY2hhciwgc2tpcD0xKToKICAgICAgICBpZiBjaGFyID09IHNlbGYubmV4dDoKICAgICAgICAgICAgaWYgc2tpcDoKICAgICAgICAgICAgICAgIHNlbGYuX19uZXh0KCkKICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICByZXR1cm4gMAogICAgZGVmIGdldChzZWxmKToKICAgICAgICB0aGlzID0gc2VsZi5uZXh0CiAgICAgICAgc2VsZi5fX25leHQoKQogICAgICAgIHJldHVybiB0aGlzCiAgICBkZWYgdGVsbChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pbmRleCwgc2VsZi5uZXh0CiAgICBkZWYgc2VlayhzZWxmLCBpbmRleCk6CiAgICAgICAgc2VsZi5pbmRleCwgc2VsZi5uZXh0ID0gaW5kZXgKCiAgICAjZml4bWUgYnJ5dGhvbgogICAgI2RlZiBfX2luX18oc2VsZiwgb3RoZXIpOgogICAgIyAgICByZXR1cm4gc2VsZi5zdHJpbmcuX19jb250YWluc19fKG90aGVyKQoKICAgICNmaXhtZSBicnl0aG9uCiAgICAjZGVmIF9fY29udGFpbnNfXyhzZWxmLCBvdGhlcik6CiAgICAjICAgIHJldHVybiBzZWxmLnN0cmluZy5fX2NvbnRhaW5zX18ob3RoZXIpCgpkZWYgaXNpZGVudChjaGFyKToKICAgIHJldHVybiAiYSIgPD0gY2hhciA8PSAieiIgb3IgIkEiIDw9IGNoYXIgPD0gIloiIG9yIGNoYXIgPT0gIl8iCgpkZWYgaXNkaWdpdChjaGFyKToKICAgIHJldHVybiAiMCIgPD0gY2hhciA8PSAiOSIKCmRlZiBpc25hbWUobmFtZSk6CiAgICAjIGNoZWNrIHRoYXQgZ3JvdXAgbmFtZSBpcyBhIHZhbGlkIHN0cmluZwogICAgaWYgbm90IGlzaWRlbnQobmFtZVswXSk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBmb3IgY2hhciBpbiBuYW1lWzE6XToKICAgICAgICBpZiBub3QgaXNpZGVudChjaGFyKSBhbmQgbm90IGlzZGlnaXQoY2hhcik6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCmRlZiBfY2xhc3NfZXNjYXBlKHNvdXJjZSwgZXNjYXBlKToKICAgICMgaGFuZGxlIGVzY2FwZSBjb2RlIGluc2lkZSBjaGFyYWN0ZXIgY2xhc3MKICAgIGNvZGUgPSBFU0NBUEVTLmdldChlc2NhcGUpCiAgICBpZiBjb2RlOgogICAgICAgIHJldHVybiBjb2RlCiAgICBjb2RlID0gQ0FURUdPUklFUy5nZXQoZXNjYXBlKQogICAgaWYgY29kZToKICAgICAgICByZXR1cm4gY29kZQogICAgdHJ5OgogICAgICAgIGMgPSBlc2NhcGVbMToyXQogICAgICAgIGlmIGMgPT0gIngiOgogICAgICAgICAgICAjIGhleGFkZWNpbWFsIGVzY2FwZSAoZXhhY3RseSB0d28gZGlnaXRzKQogICAgICAgICAgICB3aGlsZSBzb3VyY2UubmV4dCBpbiBIRVhESUdJVFMgYW5kIGxlbihlc2NhcGUpIDwgNDoKICAgICAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZSArIHNvdXJjZS5nZXQoKQogICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGVbMjpdCiAgICAgICAgICAgIGlmIGxlbihlc2NhcGUpICE9IDI6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYm9ndXMgZXNjYXBlOiAlcyIgJSByZXByKCJcXCIgKyBlc2NhcGUpKQogICAgICAgICAgICByZXR1cm4gTElURVJBTCwgaW50KGVzY2FwZSwgMTYpICYgMHhmZgogICAgICAgIGVsaWYgYyBpbiBPQ1RESUdJVFM6CiAgICAgICAgICAgICMgb2N0YWwgZXNjYXBlICh1cCB0byB0aHJlZSBkaWdpdHMpCiAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIE9DVERJR0lUUyBhbmQgbGVuKGVzY2FwZSkgPCA0OgogICAgICAgICAgICAgICAgZXNjYXBlID0gZXNjYXBlICsgc291cmNlLmdldCgpCiAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZVsxOl0KICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGUsIDgpICYgMHhmZgogICAgICAgIGVsaWYgYyBpbiBESUdJVFM6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGU6ICVzIiAlIHJlcHIoZXNjYXBlKSkKICAgICAgICBpZiBsZW4oZXNjYXBlKSA9PSAyOgogICAgICAgICAgICByZXR1cm4gTElURVJBTCwgb3JkKGVzY2FwZVsxXSkKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIHBhc3MKICAgIHJhaXNlIGVycm9yKCJib2d1cyBlc2NhcGU6ICVzIiAlIHJlcHIoZXNjYXBlKSkKCmRlZiBfZXNjYXBlKHNvdXJjZSwgZXNjYXBlLCBzdGF0ZSk6CiAgICAjIGhhbmRsZSBlc2NhcGUgY29kZSBpbiBleHByZXNzaW9uCiAgICBjb2RlID0gQ0FURUdPUklFUy5nZXQoZXNjYXBlKQogICAgaWYgY29kZToKICAgICAgICByZXR1cm4gY29kZQogICAgY29kZSA9IEVTQ0FQRVMuZ2V0KGVzY2FwZSkKICAgIGlmIGNvZGU6CiAgICAgICAgcmV0dXJuIGNvZGUKICAgIHRyeToKICAgICAgICBjID0gZXNjYXBlWzE6Ml0KICAgICAgICBpZiBjID09ICJ4IjoKICAgICAgICAgICAgIyBoZXhhZGVjaW1hbCBlc2NhcGUKICAgICAgICAgICAgd2hpbGUgc291cmNlLm5leHQgaW4gSEVYRElHSVRTIGFuZCBsZW4oZXNjYXBlKSA8IDQ6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgaWYgbGVuKGVzY2FwZSkgIT0gNDoKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGVbMjpdLCAxNikgJiAweGZmCiAgICAgICAgZWxpZiBjID09ICIwIjoKICAgICAgICAgICAgIyBvY3RhbCBlc2NhcGUKICAgICAgICAgICAgd2hpbGUgc291cmNlLm5leHQgaW4gT0NURElHSVRTIGFuZCBsZW4oZXNjYXBlKSA8IDQ6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIGludChlc2NhcGVbMTpdLCA4KSAmIDB4ZmYKICAgICAgICBlbGlmIGMgaW4gRElHSVRTOgogICAgICAgICAgICAjIG9jdGFsIGVzY2FwZSAqb3IqIGRlY2ltYWwgZ3JvdXAgcmVmZXJlbmNlIChzaWdoKQogICAgICAgICAgICBpZiBzb3VyY2UubmV4dCBpbiBESUdJVFM6CiAgICAgICAgICAgICAgICBlc2NhcGUgPSBlc2NhcGUgKyBzb3VyY2UuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIChlc2NhcGVbMV0gaW4gT0NURElHSVRTIGFuZCBlc2NhcGVbMl0gaW4gT0NURElHSVRTIGFuZAogICAgICAgICAgICAgICAgICAgIHNvdXJjZS5uZXh0IGluIE9DVERJR0lUUyk6CiAgICAgICAgICAgICAgICAgICAgIyBnb3QgdGhyZWUgb2N0YWwgZGlnaXRzOyB0aGlzIGlzIGFuIG9jdGFsIGVzY2FwZQogICAgICAgICAgICAgICAgICAgIGVzY2FwZSA9IGVzY2FwZSArIHNvdXJjZS5nZXQoKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVRFUkFMLCBpbnQoZXNjYXBlWzE6XSwgOCkgJiAweGZmCiAgICAgICAgICAgICMgbm90IGFuIG9jdGFsIGVzY2FwZSwgc28gdGhpcyBpcyBhIGdyb3VwIHJlZmVyZW5jZQogICAgICAgICAgICBncm91cCA9IGludChlc2NhcGVbMTpdKQogICAgICAgICAgICBpZiBncm91cCA8IHN0YXRlLmdyb3VwczoKICAgICAgICAgICAgICAgIGlmIG5vdCBzdGF0ZS5jaGVja2dyb3VwKGdyb3VwKToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiY2Fubm90IHJlZmVyIHRvIG9wZW4gZ3JvdXAiKQogICAgICAgICAgICAgICAgcmV0dXJuIEdST1VQUkVGLCBncm91cAogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yCiAgICAgICAgaWYgbGVuKGVzY2FwZSkgPT0gMjoKICAgICAgICAgICAgcmV0dXJuIExJVEVSQUwsIG9yZChlc2NhcGVbMV0pCiAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICBwYXNzCiAgICByYWlzZSBlcnJvcigiYm9ndXMgZXNjYXBlOiAlcyIgJSByZXByKGVzY2FwZSkpCgpkZWYgX3BhcnNlX3N1Yihzb3VyY2UsIHN0YXRlLCBuZXN0ZWQ9MSk6CiAgICAjIHBhcnNlIGFuIGFsdGVybmF0aW9uOiBhfGJ8YwoKICAgIGl0ZW1zID0gW10KICAgIGl0ZW1zYXBwZW5kID0gaXRlbXMuYXBwZW5kCiAgICBzb3VyY2VtYXRjaCA9IHNvdXJjZS5tYXRjaAogICAgd2hpbGUgMToKICAgICAgICBpdGVtc2FwcGVuZChfcGFyc2Uoc291cmNlLCBzdGF0ZSkpCiAgICAgICAgaWYgc291cmNlbWF0Y2goInwiKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBpZiBub3QgbmVzdGVkOgogICAgICAgICAgICBicmVhawogICAgICAgIGlmIG5vdCBzb3VyY2UubmV4dCBvciBzb3VyY2VtYXRjaCgiKSIsIDApOgogICAgICAgICAgICBicmVhawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJwYXR0ZXJuIG5vdCBwcm9wZXJseSBjbG9zZWQiKQoKICAgIGlmIGxlbihpdGVtcykgPT0gMToKICAgICAgICByZXR1cm4gaXRlbXNbMF0KCiAgICBzdWJwYXR0ZXJuID0gU3ViUGF0dGVybihzdGF0ZSkKICAgIHN1YnBhdHRlcm5hcHBlbmQgPSBzdWJwYXR0ZXJuLmFwcGVuZAoKICAgICMgY2hlY2sgaWYgYWxsIGl0ZW1zIHNoYXJlIGEgY29tbW9uIHByZWZpeAogICAgd2hpbGUgMToKICAgICAgICBwcmVmaXggPSBOb25lCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICBfZmxhZz1UcnVlCiAgICAgICAgZm9yIGl0ZW0gaW4gaXRlbXM6CiAgICAgICAgICAgIGlmIG5vdCBpdGVtOgogICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIHByZWZpeCBpcyBOb25lOgogICAgICAgICAgICAgICAgcHJlZml4ID0gaXRlbVswXQogICAgICAgICAgICBlbGlmIGl0ZW1bMF0gIT0gcHJlZml4OgogICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAjZWxzZToKICAgICAgICBpZiBfZmxhZzoKICAgICAgICAgICAgIyBhbGwgc3ViaXRlbXMgc3RhcnQgd2l0aCBhIGNvbW1vbiAicHJlZml4Ii4KICAgICAgICAgICAgIyBtb3ZlIGl0IG91dCBvZiB0aGUgYnJhbmNoCiAgICAgICAgICAgIGZvciBpdGVtIGluIGl0ZW1zOgogICAgICAgICAgICAgICAgZGVsIGl0ZW1bMF0KICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZChwcmVmaXgpCiAgICAgICAgICAgIGNvbnRpbnVlICMgY2hlY2sgbmV4dCBvbmUKICAgICAgICBicmVhawoKICAgICMgY2hlY2sgaWYgdGhlIGJyYW5jaCBjYW4gYmUgcmVwbGFjZWQgYnkgYSBjaGFyYWN0ZXIgc2V0CiAgICBfZmxhZz1UcnVlCiAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICBpZiBsZW4oaXRlbSkgIT0gMSBvciBpdGVtWzBdWzBdICE9IExJVEVSQUw6CiAgICAgICAgICAgIF9mbGFnPUZhbHNlCiAgICAgICAgICAgIGJyZWFrCiAgICAjZml4bWUgYnJ5dGhvbgogICAgI2Vsc2U6CiAgICBpZiBfZmxhZzoKICAgICAgICAjIHdlIGNhbiBzdG9yZSB0aGlzIGFzIGEgY2hhcmFjdGVyIHNldCBpbnN0ZWFkIG9mIGEKICAgICAgICAjIGJyYW5jaCAodGhlIGNvbXBpbGVyIG1heSBvcHRpbWl6ZSB0aGlzIGV2ZW4gbW9yZSkKICAgICAgICBzZXQgPSBbXQogICAgICAgIHNldGFwcGVuZCA9IHNldC5hcHBlbmQKICAgICAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICAgICAgc2V0YXBwZW5kKGl0ZW1bMF0pCiAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoSU4sIHNldCkpCiAgICAgICAgcmV0dXJuIHN1YnBhdHRlcm4KCiAgICBzdWJwYXR0ZXJuLmFwcGVuZCgoQlJBTkNILCAoTm9uZSwgaXRlbXMpKSkKICAgIHJldHVybiBzdWJwYXR0ZXJuCgpkZWYgX3BhcnNlX3N1Yl9jb25kKHNvdXJjZSwgc3RhdGUsIGNvbmRncm91cCk6CiAgICBpdGVtX3llcyA9IF9wYXJzZShzb3VyY2UsIHN0YXRlKQogICAgaWYgc291cmNlLm1hdGNoKCJ8Iik6CiAgICAgICAgaXRlbV9ubyA9IF9wYXJzZShzb3VyY2UsIHN0YXRlKQogICAgICAgIGlmIHNvdXJjZS5tYXRjaCgifCIpOgogICAgICAgICAgICByYWlzZSBlcnJvcigiY29uZGl0aW9uYWwgYmFja3JlZiB3aXRoIG1vcmUgdGhhbiB0d28gYnJhbmNoZXMiKQogICAgZWxzZToKICAgICAgICBpdGVtX25vID0gTm9uZQogICAgaWYgc291cmNlLm5leHQgYW5kIG5vdCBzb3VyY2UubWF0Y2goIikiLCAwKToKICAgICAgICByYWlzZSBlcnJvcigicGF0dGVybiBub3QgcHJvcGVybHkgY2xvc2VkIikKICAgIHN1YnBhdHRlcm4gPSBTdWJQYXR0ZXJuKHN0YXRlKQogICAgc3VicGF0dGVybi5hcHBlbmQoKEdST1VQUkVGX0VYSVNUUywgKGNvbmRncm91cCwgaXRlbV95ZXMsIGl0ZW1fbm8pKSkKICAgIHJldHVybiBzdWJwYXR0ZXJuCgpfUEFUVEVSTkVOREVSUyA9IHNldCgifCkiKQpfQVNTRVJUQ0hBUlMgPSBzZXQoIj0hPCIpCl9MT09LQkVISU5EQVNTRVJUQ0hBUlMgPSBzZXQoIj0hIikKX1JFUEVBVENPREVTID0gc2V0KFtNSU5fUkVQRUFULCBNQVhfUkVQRUFUXSkKCmRlZiBfcGFyc2Uoc291cmNlLCBzdGF0ZSk6CiAgICAjIHBhcnNlIGEgc2ltcGxlIHBhdHRlcm4KICAgIHN1YnBhdHRlcm4gPSBTdWJQYXR0ZXJuKHN0YXRlKQoKICAgICMgcHJlY29tcHV0ZSBjb25zdGFudHMgaW50byBsb2NhbCB2YXJpYWJsZXMKICAgIHN1YnBhdHRlcm5hcHBlbmQgPSBzdWJwYXR0ZXJuLmFwcGVuZAogICAgc291cmNlZ2V0ID0gc291cmNlLmdldAogICAgc291cmNlbWF0Y2ggPSBzb3VyY2UubWF0Y2gKICAgIF9sZW4gPSBsZW4KICAgIFBBVFRFUk5FTkRFUlMgPSBfUEFUVEVSTkVOREVSUwogICAgQVNTRVJUQ0hBUlMgPSBfQVNTRVJUQ0hBUlMKICAgIExPT0tCRUhJTkRBU1NFUlRDSEFSUyA9IF9MT09LQkVISU5EQVNTRVJUQ0hBUlMKICAgIFJFUEVBVENPREVTID0gX1JFUEVBVENPREVTCgogICAgd2hpbGUgMToKICAgICAgICBpZiBzb3VyY2UubmV4dCBpbiBQQVRURVJORU5ERVJTOgogICAgICAgICAgICBicmVhayAjIGVuZCBvZiBzdWJwYXR0ZXJuCiAgICAgICAgdGhpcyA9IHNvdXJjZWdldCgpCiAgICAgICAgaWYgdGhpcyBpcyBOb25lOgogICAgICAgICAgICBicmVhayAjIGVuZCBvZiBwYXR0ZXJuCgogICAgICAgIGlmIHN0YXRlLmZsYWdzICYgU1JFX0ZMQUdfVkVSQk9TRToKICAgICAgICAgICAgIyBza2lwIHdoaXRlc3BhY2UgYW5kIGNvbW1lbnRzCiAgICAgICAgICAgIGlmIHRoaXMgaW4gV0hJVEVTUEFDRToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGlmIHRoaXMgPT0gIiMiOgogICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICB0aGlzID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiB0aGlzIGluIChOb25lLCAiXG4iKToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGlmIHRoaXMgYW5kIHRoaXNbMF0gbm90IGluIFNQRUNJQUxfQ0hBUlM6CiAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKExJVEVSQUwsIG9yZCh0aGlzKSkpCgogICAgICAgIGVsaWYgdGhpcyA9PSAiWyI6CiAgICAgICAgICAgICMgY2hhcmFjdGVyIHNldAogICAgICAgICAgICBzZXQgPSBbXQogICAgICAgICAgICBzZXRhcHBlbmQgPSBzZXQuYXBwZW5kCiMjICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCI6Iik6CiMjICAgICAgICAgICAgICBwYXNzICMgaGFuZGxlIGNoYXJhY3RlciBjbGFzc2VzCiAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCJeIik6CiAgICAgICAgICAgICAgICBzZXRhcHBlbmQoKE5FR0FURSwgTm9uZSkpCiAgICAgICAgICAgICMgY2hlY2sgcmVtYWluaW5nIGNoYXJhY3RlcnMKICAgICAgICAgICAgc3RhcnQgPSBzZXRbOl0KICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgIHRoaXMgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgaWYgdGhpcyA9PSAiXSIgYW5kIHNldCAhPSBzdGFydDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiB0aGlzIGFuZCB0aGlzWzBdID09ICJcXCI6CiAgICAgICAgICAgICAgICAgICAgY29kZTEgPSBfY2xhc3NfZXNjYXBlKHNvdXJjZSwgdGhpcykKICAgICAgICAgICAgICAgIGVsaWYgdGhpczoKICAgICAgICAgICAgICAgICAgICBjb2RlMSA9IExJVEVSQUwsIG9yZCh0aGlzKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5leHBlY3RlZCBlbmQgb2YgcmVndWxhciBleHByZXNzaW9uIikKICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCItIik6CiAgICAgICAgICAgICAgICAgICAgIyBwb3RlbnRpYWwgcmFuZ2UKICAgICAgICAgICAgICAgICAgICB0aGlzID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiB0aGlzID09ICJdIjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29kZTFbMF0gaXMgSU46CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlMSA9IGNvZGUxWzFdWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIHNldGFwcGVuZChjb2RlMSkKICAgICAgICAgICAgICAgICAgICAgICAgc2V0YXBwZW5kKChMSVRFUkFMLCBvcmQoIi0iKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZWxpZiB0aGlzOgogICAgICAgICAgICAgICAgICAgICAgICBpZiB0aGlzWzBdID09ICJcXCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlMiA9IF9jbGFzc19lc2NhcGUoc291cmNlLCB0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTIgPSBMSVRFUkFMLCBvcmQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29kZTFbMF0gIT0gTElURVJBTCBvciBjb2RlMlswXSAhPSBMSVRFUkFMOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgcmFuZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICBsbyA9IGNvZGUxWzFdCiAgICAgICAgICAgICAgICAgICAgICAgIGhpID0gY29kZTJbMV0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaGkgPCBsbzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgY2hhcmFjdGVyIHJhbmdlIikKICAgICAgICAgICAgICAgICAgICAgICAgc2V0YXBwZW5kKChSQU5HRSwgKGxvLCBoaSkpKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiByZWd1bGFyIGV4cHJlc3Npb24iKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiBjb2RlMVswXSBpcyBJTjoKICAgICAgICAgICAgICAgICAgICAgICAgY29kZTEgPSBjb2RlMVsxXVswXQogICAgICAgICAgICAgICAgICAgIHNldGFwcGVuZChjb2RlMSkKCiAgICAgICAgICAgICMgWFhYOiA8Zmw+IHNob3VsZCBtb3ZlIHNldCBvcHRpbWl6YXRpb24gdG8gY29tcGlsZXIhCiAgICAgICAgICAgIGlmIF9sZW4oc2V0KT09MSBhbmQgc2V0WzBdWzBdIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKHNldFswXSkgIyBvcHRpbWl6YXRpb24KICAgICAgICAgICAgZWxpZiBfbGVuKHNldCk9PTIgYW5kIHNldFswXVswXSBpcyBORUdBVEUgYW5kIHNldFsxXVswXSBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoTk9UX0xJVEVSQUwsIHNldFsxXVsxXSkpICMgb3B0aW1pemF0aW9uCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIFhYWDogPGZsPiBzaG91bGQgYWRkIGNoYXJtYXAgb3B0aW1pemF0aW9uIGhlcmUKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKElOLCBzZXQpKQoKICAgICAgICBlbGlmIHRoaXMgYW5kIHRoaXNbMF0gaW4gUkVQRUFUX0NIQVJTOgogICAgICAgICAgICAjIHJlcGVhdCBwcmV2aW91cyBpdGVtCiAgICAgICAgICAgIGlmIHRoaXMgPT0gIj8iOgogICAgICAgICAgICAgICAgbWluLCBtYXggPSAwLCAxCiAgICAgICAgICAgIGVsaWYgdGhpcyA9PSAiKiI6CiAgICAgICAgICAgICAgICBtaW4sIG1heCA9IDAsIE1BWFJFUEVBVAoKICAgICAgICAgICAgZWxpZiB0aGlzID09ICIrIjoKICAgICAgICAgICAgICAgIG1pbiwgbWF4ID0gMSwgTUFYUkVQRUFUCiAgICAgICAgICAgIGVsaWYgdGhpcyA9PSAieyI6CiAgICAgICAgICAgICAgICBpZiBzb3VyY2UubmV4dCA9PSAifSI6CiAgICAgICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoTElURVJBTCwgb3JkKHRoaXMpKSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgaGVyZSA9IHNvdXJjZS50ZWxsKCkKICAgICAgICAgICAgICAgIG1pbiwgbWF4ID0gMCwgTUFYUkVQRUFUCiAgICAgICAgICAgICAgICBsbyA9IGhpID0gIiIKICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIERJR0lUUzoKICAgICAgICAgICAgICAgICAgICBsbyA9IGxvICsgc291cmNlLmdldCgpCiAgICAgICAgICAgICAgICBpZiBzb3VyY2VtYXRjaCgiLCIpOgogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIERJR0lUUzoKICAgICAgICAgICAgICAgICAgICAgICAgaGkgPSBoaSArIHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGhpID0gbG8KICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2VtYXRjaCgifSIpOgogICAgICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKExJVEVSQUwsIG9yZCh0aGlzKSkpCiAgICAgICAgICAgICAgICAgICAgc291cmNlLnNlZWsoaGVyZSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgaWYgbG86CiAgICAgICAgICAgICAgICAgICAgbWluID0gaW50KGxvKQogICAgICAgICAgICAgICAgaWYgaGk6CiAgICAgICAgICAgICAgICAgICAgbWF4ID0gaW50KGhpKQogICAgICAgICAgICAgICAgaWYgbWF4IDwgbWluOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgcmVwZWF0IGludGVydmFsIikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJub3Qgc3VwcG9ydGVkIikKICAgICAgICAgICAgIyBmaWd1cmUgb3V0IHdoaWNoIGl0ZW0gdG8gcmVwZWF0CiAgICAgICAgICAgIGlmIHN1YnBhdHRlcm46CiAgICAgICAgICAgICAgICBpdGVtID0gc3VicGF0dGVyblstMTpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpdGVtID0gTm9uZQogICAgICAgICAgICBpZiBub3QgaXRlbSBvciAoX2xlbihpdGVtKSA9PSAxIGFuZCBpdGVtWzBdWzBdID09IEFUKToKICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJub3RoaW5nIHRvIHJlcGVhdCIpCiAgICAgICAgICAgIGlmIGl0ZW1bMF1bMF0gaW4gUkVQRUFUQ09ERVM6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigibXVsdGlwbGUgcmVwZWF0IikKICAgICAgICAgICAgaWYgc291cmNlbWF0Y2goIj8iKToKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5bLTFdID0gKE1JTl9SRVBFQVQsIChtaW4sIG1heCwgaXRlbSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuWy0xXSA9IChNQVhfUkVQRUFULCAobWluLCBtYXgsIGl0ZW0pKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIi4iOgogICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBTlksIE5vbmUpKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIigiOgogICAgICAgICAgICBncm91cCA9IDEKICAgICAgICAgICAgbmFtZSA9IE5vbmUKICAgICAgICAgICAgY29uZGdyb3VwID0gTm9uZQogICAgICAgICAgICBpZiBzb3VyY2VtYXRjaCgiPyIpOgogICAgICAgICAgICAgICAgZ3JvdXAgPSAwCiAgICAgICAgICAgICAgICAjIG9wdGlvbnMKICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCJQIik6CiAgICAgICAgICAgICAgICAgICAgIyBweXRob24gZXh0ZW5zaW9ucwogICAgICAgICAgICAgICAgICAgIGlmIHNvdXJjZW1hdGNoKCI8Iik6CiAgICAgICAgICAgICAgICAgICAgICAgICMgbmFtZWQgZ3JvdXA6IHNraXAgZm9yd2FyZCB0byBlbmQgb2YgbmFtZQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hhciBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICI+IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgKyBjaGFyCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwID0gMQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNuYW1lKG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgaW4gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgZWxpZiBzb3VyY2VtYXRjaCgiPSIpOgogICAgICAgICAgICAgICAgICAgICAgICAjIG5hbWVkIGJhY2tyZWZlcmVuY2UKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW50ZXJtaW5hdGVkIG5hbWUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hhciA9PSAiKSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lICsgY2hhcgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNuYW1lKG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImJhZCBjaGFyYWN0ZXIgaW4gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGdpZCA9IHN0YXRlLmdyb3VwZGljdC5nZXQobmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5rbm93biBncm91cCBuYW1lIikKICAgICAgICAgICAgICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZCgoR1JPVVBSRUYsIGdpZCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBwYXR0ZXJuIikKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVua25vd24gc3BlY2lmaWVyOiA/UCVzIiAlIGNoYXIpCiAgICAgICAgICAgICAgICBlbGlmIHNvdXJjZW1hdGNoKCI6Iik6CiAgICAgICAgICAgICAgICAgICAgIyBub24tY2FwdHVyaW5nIGdyb3VwCiAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSAyCiAgICAgICAgICAgICAgICBlbGlmIHNvdXJjZW1hdGNoKCIjIik6CiAgICAgICAgICAgICAgICAgICAgIyBjb21tZW50CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc291cmNlLm5leHQgaXMgTm9uZSBvciBzb3VyY2UubmV4dCA9PSAiKSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2VtYXRjaCgiKSIpOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5iYWxhbmNlZCBwYXJlbnRoZXNpcyIpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsaWYgc291cmNlLm5leHQgaW4gQVNTRVJUQ0hBUlM6CiAgICAgICAgICAgICAgICAgICAgIyBsb29rYWhlYWQgYXNzZXJ0aW9ucwogICAgICAgICAgICAgICAgICAgIGNoYXIgPSBzb3VyY2VnZXQoKQogICAgICAgICAgICAgICAgICAgIGRpciA9IDEKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICI8IjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc291cmNlLm5leHQgbm90IGluIExPT0tCRUhJTkRBU1NFUlRDSEFSUzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJzeW50YXggZXJyb3IiKQogICAgICAgICAgICAgICAgICAgICAgICBkaXIgPSAtMSAjIGxvb2tiZWhpbmQKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgcCA9IF9wYXJzZV9zdWIoc291cmNlLCBzdGF0ZSkKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc291cmNlbWF0Y2goIikiKToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIj0iOgogICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBU1NFUlQsIChkaXIsIHApKSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBU1NFUlRfTk9ULCAoZGlyLCBwKSkpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsaWYgc291cmNlbWF0Y2goIigiKToKICAgICAgICAgICAgICAgICAgICAjIGNvbmRpdGlvbmFsIGJhY2tyZWZlcmVuY2UgZ3JvdXAKICAgICAgICAgICAgICAgICAgICBjb25kbmFtZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICAgICAgY2hhciA9IHNvdXJjZWdldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIikiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgY29uZG5hbWUgPSBjb25kbmFtZSArIGNoYXIKICAgICAgICAgICAgICAgICAgICBncm91cCA9IDIKICAgICAgICAgICAgICAgICAgICBpZiBpc25hbWUoY29uZG5hbWUpOgogICAgICAgICAgICAgICAgICAgICAgICBjb25kZ3JvdXAgPSBzdGF0ZS5ncm91cGRpY3QuZ2V0KGNvbmRuYW1lKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBjb25kZ3JvdXAgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmtub3duIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRncm91cCA9IGludChjb25kbmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYmFkIGNoYXJhY3RlciBpbiBncm91cCBuYW1lIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgIyBmbGFncwogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzb3VyY2UubmV4dCBpbiBGTEFHUzoKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuZXhwZWN0ZWQgZW5kIG9mIHBhdHRlcm4iKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNvdXJjZS5uZXh0IGluIEZMQUdTOgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5mbGFncyA9IHN0YXRlLmZsYWdzIHwgRkxBR1Nbc291cmNlZ2V0KCldCiAgICAgICAgICAgIGlmIGdyb3VwOgogICAgICAgICAgICAgICAgIyBwYXJzZSBncm91cCBjb250ZW50cwogICAgICAgICAgICAgICAgaWYgZ3JvdXAgPT0gMjoKICAgICAgICAgICAgICAgICAgICAjIGFub255bW91cyBncm91cAogICAgICAgICAgICAgICAgICAgIGdyb3VwID0gTm9uZQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBncm91cCA9IHN0YXRlLm9wZW5ncm91cChuYW1lKQogICAgICAgICAgICAgICAgaWYgY29uZGdyb3VwOgogICAgICAgICAgICAgICAgICAgIHAgPSBfcGFyc2Vfc3ViX2NvbmQoc291cmNlLCBzdGF0ZSwgY29uZGdyb3VwKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwID0gX3BhcnNlX3N1Yihzb3VyY2UsIHN0YXRlKQogICAgICAgICAgICAgICAgaWYgbm90IHNvdXJjZW1hdGNoKCIpIik6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgICAgICAgICAgICAgaWYgZ3JvdXAgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2xvc2Vncm91cChncm91cCkKICAgICAgICAgICAgICAgIHN1YnBhdHRlcm5hcHBlbmQoKFNVQlBBVFRFUk4sIChncm91cCwgcCkpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgICAgICAgICBjaGFyID0gc291cmNlZ2V0KCkKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBwYXR0ZXJuIikKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyID09ICIpIjoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5rbm93biBleHRlbnNpb24iKQoKICAgICAgICBlbGlmIHRoaXMgPT0gIl4iOgogICAgICAgICAgICBzdWJwYXR0ZXJuYXBwZW5kKChBVCwgQVRfQkVHSU5OSU5HKSkKCiAgICAgICAgZWxpZiB0aGlzID09ICIkIjoKICAgICAgICAgICAgc3VicGF0dGVybi5hcHBlbmQoKEFULCBBVF9FTkQpKQoKICAgICAgICBlbGlmIHRoaXMgYW5kIHRoaXNbMF0gPT0gIlxcIjoKICAgICAgICAgICAgY29kZSA9IF9lc2NhcGUoc291cmNlLCB0aGlzLCBzdGF0ZSkKICAgICAgICAgICAgc3VicGF0dGVybmFwcGVuZChjb2RlKQoKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBlcnJvcigicGFyc2VyIGVycm9yIikKCiAgICByZXR1cm4gc3VicGF0dGVybgoKZGVmIGZpeF9mbGFncyhzcmMsIGZsYWdzKToKICAgICMgQ2hlY2sgYW5kIGZpeCBmbGFncyBhY2NvcmRpbmcgdG8gdGhlIHR5cGUgb2YgcGF0dGVybiAoc3RyIG9yIGJ5dGVzKQogICAgaWYgaXNpbnN0YW5jZShzcmMsIHN0cik6CiAgICAgICAgaWYgbm90IGZsYWdzICYgU1JFX0ZMQUdfQVNDSUk6CiAgICAgICAgICAgIGZsYWdzIHw9IFNSRV9GTEFHX1VOSUNPREUKICAgICAgICBlbGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiQVNDSUkgYW5kIFVOSUNPREUgZmxhZ3MgYXJlIGluY29tcGF0aWJsZSIpCiAgICBlbHNlOgogICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiY2FuJ3QgdXNlIFVOSUNPREUgZmxhZyB3aXRoIGEgYnl0ZXMgcGF0dGVybiIpCiAgICByZXR1cm4gZmxhZ3MKCmRlZiBwYXJzZShzdHIsIGZsYWdzPTAsIHBhdHRlcm49Tm9uZSk6CiAgICAjIHBhcnNlICdyZScgcGF0dGVybiBpbnRvIGxpc3Qgb2YgKG9wY29kZSwgYXJndW1lbnQpIHR1cGxlcwoKICAgIHNvdXJjZSA9IFRva2VuaXplcihzdHIpCgogICAgaWYgcGF0dGVybiBpcyBOb25lOgogICAgICAgIHBhdHRlcm4gPSBQYXR0ZXJuKCkKICAgIHBhdHRlcm4uZmxhZ3MgPSBmbGFncwogICAgcGF0dGVybi5zdHIgPSBzdHIKCiAgICBwID0gX3BhcnNlX3N1Yihzb3VyY2UsIHBhdHRlcm4sIDApCiAgICBwLnBhdHRlcm4uZmxhZ3MgPSBmaXhfZmxhZ3Moc3RyLCBwLnBhdHRlcm4uZmxhZ3MpCgogICAgdGFpbCA9IHNvdXJjZS5nZXQoKQogICAgaWYgdGFpbCA9PSAiKSI6CiAgICAgICAgcmFpc2UgZXJyb3IoInVuYmFsYW5jZWQgcGFyZW50aGVzaXMiKQogICAgZWxpZiB0YWlsOgogICAgICAgIHJhaXNlIGVycm9yKCJib2d1cyBjaGFyYWN0ZXJzIGF0IGVuZCBvZiByZWd1bGFyIGV4cHJlc3Npb24iKQoKICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfREVCVUc6CiAgICAgICAgcC5kdW1wKCkKCiAgICBpZiBub3QgKGZsYWdzICYgU1JFX0ZMQUdfVkVSQk9TRSkgYW5kIHAucGF0dGVybi5mbGFncyAmIFNSRV9GTEFHX1ZFUkJPU0U6CiAgICAgICAgIyB0aGUgVkVSQk9TRSBmbGFnIHdhcyBzd2l0Y2hlZCBvbiBpbnNpZGUgdGhlIHBhdHRlcm4uICB0byBiZQogICAgICAgICMgb24gdGhlIHNhZmUgc2lkZSwgd2UnbGwgcGFyc2UgdGhlIHdob2xlIHRoaW5nIGFnYWluLi4uCiAgICAgICAgcmV0dXJuIHBhcnNlKHN0ciwgcC5wYXR0ZXJuLmZsYWdzKQoKICAgIHJldHVybiBwCgpkZWYgcGFyc2VfdGVtcGxhdGUoc291cmNlLCBwYXR0ZXJuKToKICAgICMgcGFyc2UgJ3JlJyByZXBsYWNlbWVudCBzdHJpbmcgaW50byBsaXN0IG9mIGxpdGVyYWxzIGFuZAogICAgIyBncm91cCByZWZlcmVuY2VzCiAgICBzID0gVG9rZW5pemVyKHNvdXJjZSkKICAgIHNnZXQgPSBzLmdldAogICAgcCA9IFtdCiAgICBhID0gcC5hcHBlbmQKICAgIGRlZiBsaXRlcmFsKGxpdGVyYWwsIHA9cCwgcGFwcGVuZD1hKToKICAgICAgICBpZiBwIGFuZCBwWy0xXVswXSBpcyBMSVRFUkFMOgogICAgICAgICAgICBwWy0xXSA9IExJVEVSQUwsIHBbLTFdWzFdICsgbGl0ZXJhbAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcHBlbmQoKExJVEVSQUwsIGxpdGVyYWwpKQogICAgc2VwID0gc291cmNlWzowXQogICAgaWYgaXNpbnN0YW5jZShzZXAsIHN0cik6CiAgICAgICAgbWFrZWNoYXIgPSBjaHIKICAgIGVsc2U6CiAgICAgICAgbWFrZWNoYXIgPSBjaHIKICAgIHdoaWxlIDE6CiAgICAgICAgdGhpcyA9IHNnZXQoKQogICAgICAgIGlmIHRoaXMgaXMgTm9uZToKICAgICAgICAgICAgYnJlYWsgIyBlbmQgb2YgcmVwbGFjZW1lbnQgc3RyaW5nCiAgICAgICAgaWYgdGhpcyBhbmQgdGhpc1swXSA9PSAiXFwiOgogICAgICAgICAgICAjIGdyb3VwCiAgICAgICAgICAgIGMgPSB0aGlzWzE6Ml0KICAgICAgICAgICAgaWYgYyA9PSAiZyI6CiAgICAgICAgICAgICAgICBuYW1lID0gIiIKICAgICAgICAgICAgICAgIGlmIHMubWF0Y2goIjwiKToKICAgICAgICAgICAgICAgICAgICB3aGlsZSAxOgogICAgICAgICAgICAgICAgICAgICAgICBjaGFyID0gc2dldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJ1bnRlcm1pbmF0ZWQgZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgPT0gIj4iOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgKyBjaGFyCiAgICAgICAgICAgICAgICBpZiBub3QgbmFtZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigiYmFkIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaW50KG5hbWUpCiAgICAgICAgICAgICAgICAgICAgaWYgaW5kZXggPCAwOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigibmVnYXRpdmUgZ3JvdXAgbnVtYmVyIikKICAgICAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBpc25hbWUobmFtZSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIGVycm9yKCJiYWQgY2hhcmFjdGVyIGluIGdyb3VwIG5hbWUiKQogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwYXR0ZXJuLmdyb3VwaW5kZXhbbmFtZV0KICAgICAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoInVua25vd24gZ3JvdXAgbmFtZSIpCiAgICAgICAgICAgICAgICBhKChNQVJLLCBpbmRleCkpCiAgICAgICAgICAgIGVsaWYgYyA9PSAiMCI6CiAgICAgICAgICAgICAgICBpZiBzLm5leHQgaW4gT0NURElHSVRTOgogICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgaWYgcy5uZXh0IGluIE9DVERJR0lUUzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyA9IHRoaXMgKyBzZ2V0KCkKICAgICAgICAgICAgICAgIGxpdGVyYWwobWFrZWNoYXIoaW50KHRoaXNbMTpdLCA4KSAmIDB4ZmYpKQogICAgICAgICAgICBlbGlmIGMgaW4gRElHSVRTOgogICAgICAgICAgICAgICAgaXNvY3RhbCA9IEZhbHNlCiAgICAgICAgICAgICAgICBpZiBzLm5leHQgaW4gRElHSVRTOgogICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgaWYgKGMgaW4gT0NURElHSVRTIGFuZCB0aGlzWzJdIGluIE9DVERJR0lUUyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgcy5uZXh0IGluIE9DVERJR0lUUyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgPSB0aGlzICsgc2dldCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlzb2N0YWwgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWwobWFrZWNoYXIoaW50KHRoaXNbMTpdLCA4KSAmIDB4ZmYpKQogICAgICAgICAgICAgICAgaWYgbm90IGlzb2N0YWw6CiAgICAgICAgICAgICAgICAgICAgYSgoTUFSSywgaW50KHRoaXNbMTpdKSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgdGhpcyA9IG1ha2VjaGFyKEVTQ0FQRVNbdGhpc11bMV0pCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgbGl0ZXJhbCh0aGlzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxpdGVyYWwodGhpcykKICAgICMgY29udmVydCB0ZW1wbGF0ZSB0byBncm91cHMgYW5kIGxpdGVyYWxzIGxpc3RzCiAgICBpID0gMAogICAgZ3JvdXBzID0gW10KICAgIGdyb3Vwc2FwcGVuZCA9IGdyb3Vwcy5hcHBlbmQKICAgIGxpdGVyYWxzID0gW05vbmVdICogbGVuKHApCiAgICBpZiBpc2luc3RhbmNlKHNvdXJjZSwgc3RyKToKICAgICAgICBlbmNvZGUgPSBsYW1iZGEgeDogeAogICAgZWxzZToKICAgICAgICAjIFRoZSB0b2tlbml6ZXIgaW1wbGljaXRseSBkZWNvZGVzIGJ5dGVzIG9iamVjdHMgYXMgbGF0aW4tMSwgd2UgbXVzdAogICAgICAgICMgdGhlcmVmb3JlIHJlLWVuY29kZSB0aGUgZmluYWwgcmVwcmVzZW50YXRpb24uCiAgICAgICAgZW5jb2RlID0gbGFtYmRhIHg6IHguZW5jb2RlKCdsYXRpbjEnKQogICAgZm9yIGMsIHMgaW4gcDoKICAgICAgICBpZiBjIGlzIE1BUks6CiAgICAgICAgICAgIGdyb3Vwc2FwcGVuZCgoaSwgcykpCiAgICAgICAgICAgICMgbGl0ZXJhbFtpXSBpcyBhbHJlYWR5IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBsaXRlcmFsc1tpXSA9IGVuY29kZShzKQogICAgICAgIGkgPSBpICsgMQogICAgcmV0dXJuIGdyb3VwcywgbGl0ZXJhbHMKCmRlZiBleHBhbmRfdGVtcGxhdGUodGVtcGxhdGUsIG1hdGNoKToKICAgIGcgPSBtYXRjaC5ncm91cAogICAgc2VwID0gbWF0Y2guc3RyaW5nWzowXQogICAgZ3JvdXBzLCBsaXRlcmFscyA9IHRlbXBsYXRlCiAgICBsaXRlcmFscyA9IGxpdGVyYWxzWzpdCiAgICB0cnk6CiAgICAgICAgZm9yIGluZGV4LCBncm91cCBpbiBncm91cHM6CiAgICAgICAgICAgIGxpdGVyYWxzW2luZGV4XSA9IHMgPSBnKGdyb3VwKQogICAgICAgICAgICBpZiBzIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBlcnJvcigidW5tYXRjaGVkIGdyb3VwIikKICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgIHJhaXNlIGVycm9yKCJpbnZhbGlkIGdyb3VwIHJlZmVyZW5jZSIpCiAgICByZXR1cm4gc2VwLmpvaW4obGl0ZXJhbHMpCgo=',
'/Lib/errno.py':'IlRoaXMgbW9kdWxlIG1ha2VzIGF2YWlsYWJsZSBzdGFuZGFyZCBlcnJubyBzeXN0ZW0gc3ltYm9scy5cblxuVGhlIHZhbHVlIG9mIGVhY2ggc3ltYm9sIGlzIHRoZSBjb3JyZXNwb25kaW5nIGludGVnZXIgdmFsdWUsXG5lLmcuLCBvbiBtb3N0IHN5c3RlbXMsIGVycm5vLkVOT0VOVCBlcXVhbHMgdGhlIGludGVnZXIgMi5cblxuVGhlIGRpY3Rpb25hcnkgZXJybm8uZXJyb3Jjb2RlIG1hcHMgbnVtZXJpYyBjb2RlcyB0byBzeW1ib2wgbmFtZXMsXG5lLmcuLCBlcnJuby5lcnJvcmNvZGVbMl0gY291bGQgYmUgdGhlIHN0cmluZyAnRU5PRU5UJy5cblxuU3ltYm9scyB0aGF0IGFyZSBub3QgcmVsZXZhbnQgdG8gdGhlIHVuZGVybHlpbmcgc3lzdGVtIGFyZSBub3QgZGVmaW5lZC5cblxuVG8gbWFwIGVycm9yIGNvZGVzIHRvIGVycm9yIG1lc3NhZ2VzLCB1c2UgdGhlIGZ1bmN0aW9uIG9zLnN0cmVycm9yKCksXG5lLmcuIG9zLnN0cmVycm9yKDIpIGNvdWxkIHJldHVybiAnTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeScuIgoKRTJCSUcgPSA3CkVBQ0NFUyA9IDEzCkVBRERSSU5VU0UgPSA5OApFQUREUk5PVEFWQUlMID0gOTkKRUFEViA9IDY4CkVBRk5PU1VQUE9SVCA9IDk3CkVBR0FJTiA9IDExCkVBTFJFQURZID0gMTE0CkVCQURFID0gNTIKRUJBREYgPSA5CkVCQURGRCA9IDc3CkVCQURNU0cgPSA3NApFQkFEUiA9IDUzCkVCQURSUUMgPSA1NgpFQkFEU0xUID0gNTcKRUJGT05UID0gNTkKRUJVU1kgPSAxNgpFQ0hJTEQgPSAxMApFQ0hSTkcgPSA0NApFQ09NTSA9IDcwCkVDT05OQUJPUlRFRCA9IDEwMwpFQ09OTlJFRlVTRUQgPSAxMTEKRUNPTk5SRVNFVCA9IDEwNApFREVBRExLID0gMzUKRURFQURMT0NLID0gMzUKRURFU1RBRERSUkVRID0gODkKRURPTSA9IDMzCkVET1RET1QgPSA3MwpFRFFVT1QgPSAxMjIKRUVYSVNUID0gMTcKRUZBVUxUID0gMTQKRUZCSUcgPSAyNwpFSE9TVERPV04gPSAxMTIKRUhPU1RVTlJFQUNIID0gMTEzCkVJRFJNID0gNDMKRUlMU0VRID0gODQKRUlOUFJPR1JFU1MgPSAxMTUKRUlOVFIgPSA0CkVJTlZBTCA9IDIyCkVJTyA9IDUKRUlTQ09OTiA9IDEwNgpFSVNESVIgPSAyMQpFSVNOQU0gPSAxMjAKRUwySExUID0gNTEKRUwyTlNZTkMgPSA0NQpFTDNITFQgPSA0NgpFTDNSU1QgPSA0NwpFTElCQUNDID0gNzkKRUxJQkJBRCA9IDgwCkVMSUJFWEVDID0gODMKRUxJQk1BWCA9IDgyCkVMSUJTQ04gPSA4MQpFTE5STkcgPSA0OApFTE9PUCA9IDQwCkVNRklMRSA9IDI0CkVNTElOSyA9IDMxCkVNU0dTSVpFID0gOTAKRU1VTFRJSE9QID0gNzIKRU5BTUVUT09MT05HID0gMzYKRU5BVkFJTCA9IDExOQpFTkVURE9XTiA9IDEwMApFTkVUUkVTRVQgPSAxMDIKRU5FVFVOUkVBQ0ggPSAxMDEKRU5GSUxFID0gMjMKRU5PQU5PID0gNTUKRU5PQlVGUyA9IDEwNQpFTk9DU0kgPSA1MApFTk9EQVRBID0gNjEKRU5PREVWID0gMTkKRU5PRU5UID0gMgpFTk9FWEVDID0gOApFTk9MQ0sgPSAzNwpFTk9MSU5LID0gNjcKRU5PTUVNID0gMTIKRU5PTVNHID0gNDIKRU5PTkVUID0gNjQKRU5PUEtHID0gNjUKRU5PUFJPVE9PUFQgPSA5MgpFTk9TUEMgPSAyOApFTk9TUiA9IDYzCkVOT1NUUiA9IDYwCkVOT1NZUyA9IDM4CkVOT1RCTEsgPSAxNQpFTk9UQ09OTiA9IDEwNwpFTk9URElSID0gMjAKRU5PVEVNUFRZID0gMzkKRU5PVE5BTSA9IDExOApFTk9UU09DSyA9IDg4CkVOT1RUWSA9IDI1CkVOT1RVTklRID0gNzYKRU5YSU8gPSA2CkVPUE5PVFNVUFAgPSA5NQpFT1ZFUkZMT1cgPSA3NQpFUEVSTSA9IDEKRVBGTk9TVVBQT1JUID0gOTYKRVBJUEUgPSAzMgpFUFJPVE8gPSA3MQpFUFJPVE9OT1NVUFBPUlQgPSA5MwpFUFJPVE9UWVBFID0gOTEKRVJBTkdFID0gMzQKRVJFTUNIRyA9IDc4CkVSRU1PVEUgPSA2NgpFUkVNT1RFSU8gPSAxMjEKRVJFU1RBUlQgPSA4NQpFUk9GUyA9IDMwCkVTSFVURE9XTiA9IDEwOApFU09DS1ROT1NVUFBPUlQgPSA5NApFU1BJUEUgPSAyOQpFU1JDSCA9IDMKRVNSTU5UID0gNjkKRVNUQUxFID0gMTE2CkVTVFJQSVBFID0gODYKRVRJTUUgPSA2MgpFVElNRURPVVQgPSAxMTAKRVRPT01BTllSRUZTID0gMTA5CkVUWFRCU1kgPSAyNgpFVUNMRUFOID0gMTE3CkVVTkFUQ0ggPSA0OQpFVVNFUlMgPSA4NwpFV09VTERCTE9DSyA9IDExCkVYREVWID0gMTgKRVhGVUxMID0gNTQKIyBlcnJvcmNvZGUK',
'/Lib/itertools.py':'IyBkb3dubG9hZGVkIGZyb20gaHR0cDovL3NoZWRza2luLmdvb2dsZWNvZGUuY29tL3N2bi1oaXN0b3J5L3IxMjc5L3RydW5rL3NoZWRza2luL2xpYi9pdGVydG9vbHMucHkKIyBodHRwOi8vZG9jcy5weXRob24ub3JnL2Rldi9fc291cmNlcy9saWJyYXJ5L2l0ZXJ0b29scy50eHQKCiMgSW5maW5pdGUgSXRlcmF0b3JzCgpkZWYgY291bnQoc3RhcnQgPSAwLCBzdGVwID0gMSk6CiAgICB5aWVsZCBzdGFydAoKZGVmIGN5Y2xlKGl0ZXJhYmxlKToKICAgIHlpZWxkIGl0ZXIoaXRlcmFibGUpLm5leHQoKQoKZGVmIHJlcGVhdChvYmplY3QsIHRpbWVzID0gMCk6CiAgICB5aWVsZCBvYmplY3QKCiMgSXRlcmF0b3JzIHRlcm1pbmF0aW5nIG9uIHRoZSBzaG9ydGVzdCBpbnB1dCBpdGVyYWJsZXVlbmNlCgpkZWYgY2hhaW4oKml0ZXJhYmxlcyk6CiAgICB5aWVsZCBpdGVyKGl0ZXJhYmxlcykubmV4dCgpCgpkZWYgY29tcHJlc3MoZGF0YSwgc2VsZWN0b3JzKToKICAgIGl0ZXIoc2VsZWN0b3JzKS5uZXh0KCkKICAgIHlpZWxkIGl0ZXIoZGF0YSkubmV4dCgpCgpkZWYgX19wcmVkX2VsZW0ocHJlZGljYXRlLCBpdGVyYWJsZSk6CiAgICBlbGVtID0gaXRlcihpdGVyYWJsZSkubmV4dCgpCiAgICBwcmVkaWNhdGUoZWxlbSkKICAgIHJldHVybiBlbGVtCgpkZWYgZHJvcHdoaWxlKHByZWRpY2F0ZSwgaXRlcmFibGUpOgogICAgeWllbGQgX19wcmVkX2VsZW0ocHJlZGljYXRlLCBpdGVyYWJsZSkKCmRlZiBncm91cGJ5KGl0ZXJhYmxlLCBrZXkgPSBsYW1iZGEgeDogeCk6CiAgICB5aWVsZCBrZXkoaXRlcihpdGVyYWJsZSkubmV4dCgpKSwgaXRlcihpdGVyYWJsZSkKCmRlZiBpZmlsdGVyKHByZWRpY2F0ZSwgaXRlcmFibGUpOgogICAgeWllbGQgX19wcmVkX2VsZW0ocHJlZGljYXRlLCBpdGVyYWJsZSkKCmRlZiBpZmlsdGVyZmFsc2UocHJlZGljYXRlLCBpdGVyYWJsZSk6CiAgICB5aWVsZCBfX3ByZWRfZWxlbShwcmVkaWNhdGUsIGl0ZXJhYmxlKQoKZGVmIHRha2V3aGlsZShwcmVkaWNhdGUsIGl0ZXJhYmxlKToKICAgIHlpZWxkIF9fcHJlZF9lbGVtKHByZWRpY2F0ZSwgaXRlcmFibGUpCgpkZWYgaXNsaWNlKGl0ZXJhYmxlLCBzdGFydCwgc3RvcCA9IC0xLCBzdGVwID0gLTEpOgogICAgJ0tub3duIGxpbWl0YXRpb25zOiBjYW5ub3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiAwIGFuZCBOb25lIGZvciB0aGUgc3RvcCBhcmd1bWVudCcKICAgIHlpZWxkIGl0ZXIoaXRlcmFibGUpLm5leHQoKQoKZGVmIGltYXAoZnVuY3Rpb24sICppdGVyYWJsZXMpOgogICAgJ0tub3duIGxpbWl0YXRpb25zOiBubyBtb3JlIHRoYW4gNSBpdGVyYWJsZXMgYXJlIHN1cHBvcnRlZCcKICAgIHlpZWxkIGZ1bmN0aW9uKCppdGVyKGl0ZXJhYmxlcykubmV4dCgpKQoKZGVmIF9faW1hcDMoZnVuY3Rpb24sIGl0ZXIxLCBpdGVyMik6CiAgICB5aWVsZCBmdW5jdGlvbihpdGVyKGl0ZXIxKS5uZXh0KCksIGl0ZXIoaXRlcjIpLm5leHQoKSkKCmRlZiBfX2ltYXA0KGZ1bmN0aW9uLCBpdGVyMSwgaXRlcjIsIGl0ZXIzKToKICAgIHlpZWxkIGZ1bmN0aW9uKGl0ZXIoaXRlcjEpLm5leHQoKSwgaXRlcihpdGVyMikubmV4dCgpLCBpdGVyKGl0ZXIzKS5uZXh0KCkpCgpkZWYgX19pbWFwNShmdW5jdGlvbiwgaXRlcjEsIGl0ZXIyLCBpdGVyMywgaXRlcjQpOgogICAgeWllbGQgZnVuY3Rpb24oaXRlcihpdGVyMSkubmV4dCgpLCBpdGVyKGl0ZXIyKS5uZXh0KCksIGl0ZXIoaXRlcjMpLm5leHQoKSwgaXRlcihpdGVyNCkubmV4dCgpKQoKZGVmIF9faW1hcDYoZnVuY3Rpb24sIGl0ZXIxLCBpdGVyMiwgaXRlcjMsIGl0ZXI0LCBpdGVyNSk6CiAgICB5aWVsZCBmdW5jdGlvbihpdGVyKGl0ZXIxKS5uZXh0KCksIGl0ZXIoaXRlcjIpLm5leHQoKSwgaXRlcihpdGVyMykubmV4dCgpLCBpdGVyKGl0ZXI0KS5uZXh0KCksIGl0ZXIoaXRlcjUpLm5leHQoKSkKCmRlZiBzdGFybWFwKGZ1bmN0aW9uLCBpdGVyYWJsZSk6CiAgICB5aWVsZCBmdW5jKCppdGVyYWJsZVswXSkKCmRlZiB0ZWUoaXRlcmFibGUsIG4gPSAyKToKICAgIHJldHVybiBpdGVyKGl0ZXJhYmxlKSwgaXRlcihpdGVyYWJsZSkKCmRlZiBpemlwKCppdGVyYWJsZXMpOgogICAgJ0tub3duIGxpbWl0YXRpb25zOiBpdGVyYWJsZXMgbXVzdCBhbGwgYmUgb2YgdGhlIHNhbWUgdHlwZSBpZiB0aGV5IGFyZSBtb3JlIHRoYW4gdHdvJwogICAgeWllbGQgaXRlcihpdGVyYWJsZXMpLm5leHQoKSwKCmRlZiBfX2l6aXAyKGl0ZXJhYmxlMSwgaXRlcmFibGUyKToKICAgIHlpZWxkIGl0ZXIoaXRlcmFibGUxKS5uZXh0KCksIGl0ZXIoaXRlcmFibGUyKS5uZXh0KCkKCmRlZiBpemlwX2xvbmdlc3QoX19rd19maWxsdmFsdWU9Tm9uZSwgKml0ZXJhYmxlcyk6CiAgICAnS25vd24gbGltaXRhdGlvbnM6IGl0ZXJhYmxlcyBtdXN0IGFsbCBiZSBvZiB0aGUgc2FtZSB0eXBlLCBjYW5ub3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiAwIGFuZCBOb25lIGZvciB0aGUgcmV0dXJuIHZhbHVlJwogICAgeWllbGQgaXRlcihpdGVyYWJsZXMpLm5leHQoKSwKCmRlZiBfX2l6aXBfbG9uZ2VzdDIoaXRlcmFibGUxLCBpdGVyYWJsZTIsIF9fa3dfZmlsbHZhbHVlPU5vbmUpOgogICAgeWllbGQgaXRlcihpdGVyYWJsZTEpLm5leHQoKSwgaXRlcihpdGVyYWJsZTIpLm5leHQoKQoKIyBDb21iaW5hdG9yaWMgZ2VuZXJhdG9ycwoKZGVmIHByb2R1Y3QoX19rd19yZXBlYXQ9MSwgKml0ZXJhYmxlcyk6CiAgICAnS25vd24gbGltaXRhdGlvbnM6IGl0ZXJhYmxlcyBtdXN0IGFsbCBiZSBvZiB0aGUgc2FtZSB0eXBlIGlmIHRoZXkgYXJlIG1vcmUgdGhhbiB0d28nCiAgICB5aWVsZCBpdGVyKGl0ZXJhYmxlcykubmV4dCgpLAoKZGVmIF9fcHJvZHVjdDIoaXRlcmFibGUxLCBpdGVyYWJsZTIsIF9fa3dfcmVwZWF0PTEpOgogICAgeWllbGQgaXRlcihpdGVyYWJsZTEpLm5leHQoKSwgaXRlcihpdGVyYWJsZTIpLm5leHQoKQoKZGVmIHBlcm11dGF0aW9ucyhpdGVyYWJsZSwgciA9IE5vbmUpOgogICAgeWllbGQgaXRlcihpdGVyYWJsZSkubmV4dCgpLAoKZGVmIGNvbWJpbmF0aW9ucyhpdGVyYWJsZSwgcik6CiAgICB5aWVsZCBpdGVyKGl0ZXJhYmxlKS5uZXh0KCksCgpkZWYgY29tYmluYXRpb25zX3dpdGhfcmVwbGFjZW1lbnQoaXRlcmFibGUsIHIpOgogICAgeWllbGQgaXRlcihpdGVyYWJsZSkubmV4dCgpLAo=',
'/Lib/_sre.py':'IyBOT1RfUlBZVEhPTgoiIiIKQSBwdXJlIFB5dGhvbiByZWltcGxlbWVudGF0aW9uIG9mIHRoZSBfc3JlIG1vZHVsZSBmcm9tIENQeXRob24gMi40CkNvcHlyaWdodCAyMDA1IE5payBIYWxkaW1hbm4sIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQoKVGhpcyBjb2RlIGlzIGJhc2VkIG9uIG1hdGVyaWFsIGxpY2Vuc2VkIHVuZGVyIENOUkkncyBQeXRob24gMS42IGxpY2Vuc2UgYW5kCmNvcHlyaWdodGVkIGJ5OiBDb3B5cmlnaHQgKGMpIDE5OTctMjAwMSBieSBTZWNyZXQgTGFicyBBQgoiIiIKCiNpbXBvcnQgYXJyYXkKaW1wb3J0IG9wZXJhdG9yICMsIHN5cwpmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IEFUQ09ERVMsIE9QQ09ERVMsIENIQ09ERVMsIE1BWFJFUEVBVApmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IFNSRV9JTkZPX1BSRUZJWCwgU1JFX0lORk9fTElURVJBTApmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IFNSRV9GTEFHX1VOSUNPREUsIFNSRV9GTEFHX0xPQ0FMRQoKc3lzX21heGludD0yKiozMi0xCiNpbXBvcnQgc3lzCgojIElkZW50aWZ5aW5nIGFzIF9zcmUgZnJvbSBQeXRob24gMi4zIG9yIDIuNAojaWYgc3lzLnZlcnNpb25faW5mb1s6Ml0gPj0gKDIsIDQpOgpNQUdJQyA9IDIwMDMxMDE3CiNlbHNlOgojICAgIE1BR0lDID0gMjAwMzA0MTkKCiMgSW4gX3NyZS5jIHRoaXMgaXMgYnl0ZXNpemUgb2YgdGhlIGNvZGUgd29yZCB0eXBlIG9mIHRoZSBDIGltcGxlbWVudGF0aW9uLgojIFRoZXJlIGl0J3MgMiBmb3Igbm9ybWFsIFB5dGhvbiBidWlsZHMgYW5kIG1vcmUgZm9yIHdpZGUgdW5pY29kZSBidWlsZHMgKGxhcmdlIAojIGVub3VnaCB0byBob2xkIGEgMzItYml0IFVDUy00IGVuY29kZWQgY2hhcmFjdGVyKS4gU2luY2UgaGVyZSBpbiBwdXJlIFB5dGhvbgojIHdlIG9ubHkgc2VlIHJlIGJ5dGVjb2RlcyBhcyBQeXRob24gbG9uZ3MsIHdlIHNob3VsZG4ndCBoYXZlIHRvIGNhcmUgYWJvdXQgdGhlCiMgY29kZXNpemUuIEJ1dCBzcmVfY29tcGlsZSB3aWxsIGNvbXBpbGUgc29tZSBzdHVmZiBkaWZmZXJlbnRseSBkZXBlbmRpbmcgb24gdGhlCiMgY29kZXNpemUgKGUuZy4sIGNoYXJzZXRzKS4KIyBzdGFydGluZyB3aXRoIHB5dGhvbiAzLjMgIENPREVTSVpFIGlzIDQKI2lmIHN5cy5tYXh1bmljb2RlID09IDY1NTM1OgojICAgIENPREVTSVpFID0gMgojZWxzZToKQ09ERVNJWkUgPSA0Cgpjb3B5cmlnaHQgPSAiX3NyZS5weSAyLjRjIENvcHlyaWdodCAyMDA1IGJ5IE5payBIYWxkaW1hbm4iCgoKZGVmIGdldGNvZGVzaXplKCk6CiAgICByZXR1cm4gQ09ERVNJWkUKCgpkZWYgY29tcGlsZShwYXR0ZXJuLCBmbGFncywgY29kZSwgZ3JvdXBzPTAsIGdyb3VwaW5kZXg9e30sIGluZGV4Z3JvdXA9W05vbmVdKToKICAgICIiIkNvbXBpbGVzIChvciByYXRoZXIganVzdCBjb252ZXJ0cykgYSBwYXR0ZXJuIGRlc2NyaXB0b3IgdG8gYSBTUkVfUGF0dGVybgogICAgb2JqZWN0LiBBY3R1YWwgY29tcGlsYXRpb24gdG8gb3Bjb2RlcyBoYXBwZW5zIGluIHNyZV9jb21waWxlLiIiIgogICAgcmV0dXJuIFNSRV9QYXR0ZXJuKHBhdHRlcm4sIGZsYWdzLCBjb2RlLCBncm91cHMsIGdyb3VwaW5kZXgsIGluZGV4Z3JvdXApCiAgICAKZGVmIGdldGxvd2VyKGNoYXJfb3JkLCBmbGFncyk6CiAgICBpZiAoY2hhcl9vcmQgPCAxMjgpIG9yIChmbGFncyAmIFNSRV9GTEFHX1VOSUNPREUpIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgKGZsYWdzICYgU1JFX0ZMQUdfTE9DQUxFIGFuZCBjaGFyX29yZCA8IDI1Nik6CiAgICAgICAgcmV0dXJuIG9yZCh1bmljaHIoY2hhcl9vcmQpLmxvd2VyKCkpCiAgICBlbHNlOgogICAgICAgIHJldHVybiBjaGFyX29yZAoKCmNsYXNzIFNSRV9QYXR0ZXJuKG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdHRlcm4sIGZsYWdzLCBjb2RlLCBncm91cHM9MCwgZ3JvdXBpbmRleD17fSwgaW5kZXhncm91cD1bTm9uZV0pOgogICAgICAgIHNlbGYucGF0dGVybiA9IHBhdHRlcm4KICAgICAgICBzZWxmLmZsYWdzID0gZmxhZ3MKICAgICAgICBzZWxmLmdyb3VwcyA9IGdyb3VwcwogICAgICAgIHNlbGYuZ3JvdXBpbmRleCA9IGdyb3VwaW5kZXggIyBNYXBzIGdyb3VwIG5hbWVzIHRvIGdyb3VwIGluZGljZXMKICAgICAgICBzZWxmLl9pbmRleGdyb3VwID0gaW5kZXhncm91cCAjIE1hcHMgaW5kaWNlcyB0byBncm91cCBuYW1lcwogICAgICAgIHNlbGYuX2NvZGUgPSBjb2RlCiAgICAKICAgICNkZWYgbWF0Y2goc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5cy5tYXhpbnQpOgogICAgZGVmIG1hdGNoKHNlbGYsIHN0cmluZywgcG9zPTAsIGVuZHBvcz1zeXNfbWF4aW50KToKICAgICAgICAiIiJJZiB6ZXJvIG9yIG1vcmUgY2hhcmFjdGVycyBhdCB0aGUgYmVnaW5uaW5nIG9mIHN0cmluZyBtYXRjaCB0aGlzCiAgICAgICAgcmVndWxhciBleHByZXNzaW9uLCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIE1hdGNoT2JqZWN0IGluc3RhbmNlLiBSZXR1cm4KICAgICAgICBOb25lIGlmIHRoZSBzdHJpbmcgZG9lcyBub3QgbWF0Y2ggdGhlIHBhdHRlcm4uIiIiCiAgICAgICAgc3RhdGUgPSBfU3RhdGUoc3RyaW5nLCBwb3MsIGVuZHBvcywgc2VsZi5mbGFncykKICAgICAgICBpZiBzdGF0ZS5tYXRjaChzZWxmLl9jb2RlKToKICAgICAgICAgICAgcmV0dXJuIFNSRV9NYXRjaChzZWxmLCBzdGF0ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICNkZWYgc2VhcmNoKHNlbGYsIHN0cmluZywgcG9zPTAsIGVuZHBvcz1zeXMubWF4aW50KToKICAgIGRlZiBzZWFyY2goc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5c19tYXhpbnQpOgogICAgICAgICIiIlNjYW4gdGhyb3VnaCBzdHJpbmcgbG9va2luZyBmb3IgYSBsb2NhdGlvbiB3aGVyZSB0aGlzIHJlZ3VsYXIKICAgICAgICBleHByZXNzaW9uIHByb2R1Y2VzIGEgbWF0Y2gsIGFuZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIE1hdGNoT2JqZWN0CiAgICAgICAgaW5zdGFuY2UuIFJldHVybiBOb25lIGlmIG5vIHBvc2l0aW9uIGluIHRoZSBzdHJpbmcgbWF0Y2hlcyB0aGUKICAgICAgICBwYXR0ZXJuLiIiIgogICAgICAgIHN0YXRlID0gX1N0YXRlKHN0cmluZywgcG9zLCBlbmRwb3MsIHNlbGYuZmxhZ3MpCiAgICAgICAgaWYgc3RhdGUuc2VhcmNoKHNlbGYuX2NvZGUpOgogICAgICAgICAgICByZXR1cm4gU1JFX01hdGNoKHNlbGYsIHN0YXRlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgI2RlZiBmaW5kYWxsKHNlbGYsIHN0cmluZywgcG9zPTAsIGVuZHBvcz1zeXMubWF4aW50KToKICAgIGRlZiBmaW5kYWxsKHNlbGYsIHN0cmluZywgcG9zPTAsIGVuZHBvcz1zeXNfbWF4aW50KToKICAgICAgICAiIiJSZXR1cm4gYSBsaXN0IG9mIGFsbCBub24tb3ZlcmxhcHBpbmcgbWF0Y2hlcyBvZiBwYXR0ZXJuIGluIHN0cmluZy4iIiIKICAgICAgICBtYXRjaGxpc3QgPSBbXQogICAgICAgIHN0YXRlID0gX1N0YXRlKHN0cmluZywgcG9zLCBlbmRwb3MsIHNlbGYuZmxhZ3MpCiAgICAgICAgd2hpbGUgc3RhdGUuc3RhcnQgPD0gc3RhdGUuZW5kOgogICAgICAgICAgICBzdGF0ZS5yZXNldCgpCiAgICAgICAgICAgIHN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IHN0YXRlLnN0YXJ0CiAgICAgICAgICAgIGlmIG5vdCBzdGF0ZS5zZWFyY2goc2VsZi5fY29kZSk6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBtYXRjaCA9IFNSRV9NYXRjaChzZWxmLCBzdGF0ZSkKICAgICAgICAgICAgaWYgc2VsZi5ncm91cHMgPT0gMCBvciBzZWxmLmdyb3VwcyA9PSAxOgogICAgICAgICAgICAgICAgaXRlbSA9IG1hdGNoLmdyb3VwKHNlbGYuZ3JvdXBzKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaXRlbSA9IG1hdGNoLmdyb3VwcygiIikKICAgICAgICAgICAgbWF0Y2hsaXN0LmFwcGVuZChpdGVtKQogICAgICAgICAgICBpZiBzdGF0ZS5zdHJpbmdfcG9zaXRpb24gPT0gc3RhdGUuc3RhcnQ6CiAgICAgICAgICAgICAgICBzdGF0ZS5zdGFydCArPSAxCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzdGF0ZS5zdGFydCA9IHN0YXRlLnN0cmluZ19wb3NpdGlvbgogICAgICAgIHJldHVybiBtYXRjaGxpc3QgICAgICAgIAogICAgICAgIAogICAgZGVmIF9zdWJ4KHNlbGYsIHRlbXBsYXRlLCBzdHJpbmcsIGNvdW50PTAsIHN1Ym49RmFsc2UpOgogICAgICAgIGZpbHRlciA9IHRlbXBsYXRlCiAgICAgICAgaWYgbm90IGNhbGxhYmxlKHRlbXBsYXRlKSBhbmQgIlxcIiBpbiB0ZW1wbGF0ZToKICAgICAgICAgICAgIyBoYW5kbGUgbm9uLWxpdGVyYWwgc3RyaW5ncyA7IGhhbmQgaXQgb3ZlciB0byB0aGUgdGVtcGxhdGUgY29tcGlsZXIKICAgICAgICAgICAgaW1wb3J0IHNyZQogICAgICAgICAgICBmaWx0ZXIgPSBzcmUuX3N1Yngoc2VsZiwgdGVtcGxhdGUpCiAgICAgICAgI3N0YXRlID0gX1N0YXRlKHN0cmluZywgMCwgc3lzLm1heGludCwgc2VsZi5mbGFncykKICAgICAgICBzdGF0ZSA9IF9TdGF0ZShzdHJpbmcsIDAsIHN5c19tYXhpbnQsIHNlbGYuZmxhZ3MpCiAgICAgICAgc3VibGlzdCA9IFtdCiAgICAgICAgCiAgICAgICAgbiA9IGxhc3RfcG9zID0gMAogICAgICAgIHdoaWxlIG5vdCBjb3VudCBvciBuIDwgY291bnQ6CiAgICAgICAgICAgIHN0YXRlLnJlc2V0KCkKICAgICAgICAgICAgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gc3RhdGUuc3RhcnQKICAgICAgICAgICAgaWYgbm90IHN0YXRlLnNlYXJjaChzZWxmLl9jb2RlKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIGxhc3RfcG9zIDwgc3RhdGUuc3RhcnQ6CiAgICAgICAgICAgICAgICBzdWJsaXN0LmFwcGVuZChzdHJpbmdbbGFzdF9wb3M6c3RhdGUuc3RhcnRdKQogICAgICAgICAgICBpZiBub3QgKGxhc3RfcG9zID09IHN0YXRlLnN0YXJ0IGFuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfcG9zID09IHN0YXRlLnN0cmluZ19wb3NpdGlvbiBhbmQgbiA+IDApOgogICAgICAgICAgICAgICAgIyB0aGUgYWJvdmUgaWdub3JlcyBlbXB0eSBtYXRjaGVzIG9uIGxhdGVzdCBwb3NpdGlvbgogICAgICAgICAgICAgICAgaWYgY2FsbGFibGUoZmlsdGVyKToKICAgICAgICAgICAgICAgICAgICBzdWJsaXN0LmFwcGVuZChmaWx0ZXIoU1JFX01hdGNoKHNlbGYsIHN0YXRlKSkpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHN1Ymxpc3QuYXBwZW5kKGZpbHRlcikKICAgICAgICAgICAgICAgIGxhc3RfcG9zID0gc3RhdGUuc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgICAgICBuICs9IDEKICAgICAgICAgICAgaWYgc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID09IHN0YXRlLnN0YXJ0OgogICAgICAgICAgICAgICAgc3RhdGUuc3RhcnQgKz0gMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc3RhdGUuc3RhcnQgPSBzdGF0ZS5zdHJpbmdfcG9zaXRpb24KCiAgICAgICAgaWYgbGFzdF9wb3MgPCBzdGF0ZS5lbmQ6CiAgICAgICAgICAgIHN1Ymxpc3QuYXBwZW5kKHN0cmluZ1tsYXN0X3BvczpzdGF0ZS5lbmRdKQogICAgICAgIGl0ZW0gPSAiIi5qb2luKHN1Ymxpc3QpCiAgICAgICAgaWYgc3VibjoKICAgICAgICAgICAgcmV0dXJuIGl0ZW0sIG4KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gaXRlbQoKICAgIGRlZiBzdWIoc2VsZiwgcmVwbCwgc3RyaW5nLCBjb3VudD0wKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHN0cmluZyBvYnRhaW5lZCBieSByZXBsYWNpbmcgdGhlIGxlZnRtb3N0IG5vbi1vdmVybGFwcGluZwogICAgICAgIG9jY3VycmVuY2VzIG9mIHBhdHRlcm4gaW4gc3RyaW5nIGJ5IHRoZSByZXBsYWNlbWVudCByZXBsLiIiIgogICAgICAgIHJldHVybiBzZWxmLl9zdWJ4KHJlcGwsIHN0cmluZywgY291bnQsIEZhbHNlKQoKICAgIGRlZiBzdWJuKHNlbGYsIHJlcGwsIHN0cmluZywgY291bnQ9MCk6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0dXBsZSAobmV3X3N0cmluZywgbnVtYmVyX29mX3N1YnNfbWFkZSkgZm91bmQgYnkgcmVwbGFjaW5nCiAgICAgICAgdGhlIGxlZnRtb3N0IG5vbi1vdmVybGFwcGluZyBvY2N1cnJlbmNlcyBvZiBwYXR0ZXJuIHdpdGggdGhlIHJlcGxhY2VtZW50CiAgICAgICAgcmVwbC4iIiIKICAgICAgICByZXR1cm4gc2VsZi5fc3VieChyZXBsLCBzdHJpbmcsIGNvdW50LCBUcnVlKQogICAgICAgIAogICAgZGVmIHNwbGl0KHNlbGYsIHN0cmluZywgbWF4c3BsaXQ9MCk6CiAgICAgICAgIiIiU3BsaXQgc3RyaW5nIGJ5IHRoZSBvY2N1cnJlbmNlcyBvZiBwYXR0ZXJuLiIiIgogICAgICAgIHNwbGl0bGlzdCA9IFtdCiAgICAgICAgI3N0YXRlID0gX1N0YXRlKHN0cmluZywgMCwgc3lzLm1heGludCwgc2VsZi5mbGFncykKICAgICAgICBzdGF0ZSA9IF9TdGF0ZShzdHJpbmcsIDAsIHN5c19tYXhpbnQsIHNlbGYuZmxhZ3MpCiAgICAgICAgbiA9IDAKICAgICAgICBsYXN0ID0gc3RhdGUuc3RhcnQKICAgICAgICB3aGlsZSBub3QgbWF4c3BsaXQgb3IgbiA8IG1heHNwbGl0OgogICAgICAgICAgICBzdGF0ZS5yZXNldCgpCiAgICAgICAgICAgIHN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IHN0YXRlLnN0YXJ0CiAgICAgICAgICAgIGlmIG5vdCBzdGF0ZS5zZWFyY2goc2VsZi5fY29kZSk6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBpZiBzdGF0ZS5zdGFydCA9PSBzdGF0ZS5zdHJpbmdfcG9zaXRpb246ICMgemVyby13aWR0aCBtYXRjaAogICAgICAgICAgICAgICAgaWYgbGFzdCA9PSBzdGF0ZS5lbmQ6ICAgICAgICAgICAgICAgICMgb3IgZW5kIG9mIHN0cmluZwogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBzdGF0ZS5zdGFydCArPSAxCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzcGxpdGxpc3QuYXBwZW5kKHN0cmluZ1tsYXN0OnN0YXRlLnN0YXJ0XSkKICAgICAgICAgICAgIyBhZGQgZ3JvdXBzIChpZiBhbnkpCiAgICAgICAgICAgIGlmIHNlbGYuZ3JvdXBzOgogICAgICAgICAgICAgICAgbWF0Y2ggPSBTUkVfTWF0Y2goc2VsZiwgc3RhdGUpCiAgICAgICAgICAgICAgICBzcGxpdGxpc3QuZXh0ZW5kKGxpc3QobWF0Y2guZ3JvdXBzKE5vbmUpKSkKICAgICAgICAgICAgbiArPSAxCiAgICAgICAgICAgIGxhc3QgPSBzdGF0ZS5zdGFydCA9IHN0YXRlLnN0cmluZ19wb3NpdGlvbgogICAgICAgIHNwbGl0bGlzdC5hcHBlbmQoc3RyaW5nW2xhc3Q6c3RhdGUuZW5kXSkKICAgICAgICByZXR1cm4gc3BsaXRsaXN0CgogICAgI2RlZiBmaW5kaXRlcihzZWxmLCBzdHJpbmcsIHBvcz0wLCBlbmRwb3M9c3lzLm1heGludCk6CiAgICBkZWYgZmluZGl0ZXIoc2VsZiwgc3RyaW5nLCBwb3M9MCwgZW5kcG9zPXN5c19tYXhpbnQpOgogICAgICAgICIiIlJldHVybiBhIGxpc3Qgb2YgYWxsIG5vbi1vdmVybGFwcGluZyBtYXRjaGVzIG9mIHBhdHRlcm4gaW4gc3RyaW5nLiIiIgogICAgICAgIHNjYW5uZXIgPSBzZWxmLnNjYW5uZXIoc3RyaW5nLCBwb3MsIGVuZHBvcykKICAgICAgICByZXR1cm4gaXRlcihzY2FubmVyLnNlYXJjaCwgTm9uZSkKCiAgICAjZGVmIHNjYW5uZXIoc2VsZiwgc3RyaW5nLCBzdGFydD0wLCBlbmQ9c3lzLm1heGludCk6CiAgICBkZWYgc2Nhbm5lcihzZWxmLCBzdHJpbmcsIHN0YXJ0PTAsIGVuZD1zeXNfbWF4aW50KToKICAgICAgICByZXR1cm4gU1JFX1NjYW5uZXIoc2VsZiwgc3RyaW5nLCBzdGFydCwgZW5kKQogICAgCiAgICBkZWYgX19jb3B5X18oc2VsZik6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29weSB0aGlzIHBhdHRlcm4gb2JqZWN0IikKCiAgICBkZWYgX19kZWVwY29weV9fKHNlbGYpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2Fubm90IGNvcHkgdGhpcyBwYXR0ZXJuIG9iamVjdCIpCgoKY2xhc3MgU1JFX1NjYW5uZXIob2JqZWN0KToKICAgICIiIlVuZG9jdW1lbnRlZCBzY2FubmVyIGludGVyZmFjZSBvZiBzcmUuIiIiCiAgICAKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXR0ZXJuLCBzdHJpbmcsIHN0YXJ0LCBlbmQpOgogICAgICAgIHNlbGYucGF0dGVybiA9IHBhdHRlcm4KICAgICAgICBzZWxmLl9zdGF0ZSA9IF9TdGF0ZShzdHJpbmcsIHN0YXJ0LCBlbmQsIHNlbGYucGF0dGVybi5mbGFncykKCiAgICBkZWYgX21hdGNoX3NlYXJjaChzZWxmLCBtYXRjaGVyKToKICAgICAgICBzdGF0ZSA9IHNlbGYuX3N0YXRlCiAgICAgICAgc3RhdGUucmVzZXQoKQogICAgICAgIHN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IHN0YXRlLnN0YXJ0CiAgICAgICAgbWF0Y2ggPSBOb25lCiAgICAgICAgaWYgbWF0Y2hlcihzZWxmLnBhdHRlcm4uX2NvZGUpOgogICAgICAgICAgICBtYXRjaCA9IFNSRV9NYXRjaChzZWxmLnBhdHRlcm4sIHN0YXRlKQogICAgICAgIGlmIG1hdGNoIGlzIE5vbmUgb3Igc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID09IHN0YXRlLnN0YXJ0OgogICAgICAgICAgICBzdGF0ZS5zdGFydCArPSAxCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3RhdGUuc3RhcnQgPSBzdGF0ZS5zdHJpbmdfcG9zaXRpb24KICAgICAgICByZXR1cm4gbWF0Y2gKCiAgICBkZWYgbWF0Y2goc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX21hdGNoX3NlYXJjaChzZWxmLl9zdGF0ZS5tYXRjaCkKCiAgICBkZWYgc2VhcmNoKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9tYXRjaF9zZWFyY2goc2VsZi5fc3RhdGUuc2VhcmNoKQoKCmNsYXNzIFNSRV9NYXRjaChvYmplY3QpOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXR0ZXJuLCBzdGF0ZSk6CiAgICAgICAgc2VsZi5yZSA9IHBhdHRlcm4KICAgICAgICBzZWxmLnN0cmluZyA9IHN0YXRlLnN0cmluZwogICAgICAgIHNlbGYucG9zID0gc3RhdGUucG9zCiAgICAgICAgc2VsZi5lbmRwb3MgPSBzdGF0ZS5lbmQKICAgICAgICBzZWxmLmxhc3RpbmRleCA9IHN0YXRlLmxhc3RpbmRleAogICAgICAgIGlmIHNlbGYubGFzdGluZGV4IDwgMDoKICAgICAgICAgICAgc2VsZi5sYXN0aW5kZXggPSBOb25lCiAgICAgICAgc2VsZi5yZWdzID0gc2VsZi5fY3JlYXRlX3JlZ3Moc3RhdGUpCiAgICAgICAgaWYgcGF0dGVybi5faW5kZXhncm91cCBhbmQgMCA8PSBzZWxmLmxhc3RpbmRleCA8IGxlbihwYXR0ZXJuLl9pbmRleGdyb3VwKToKICAgICAgICAgICAgIyBUaGUgYWJvdmUgdXBwZXItYm91bmQgY2hlY2sgc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnksIGFzIHRoZSByZQogICAgICAgICAgICAjIGNvbXBpbGVyIGlzIHN1cHBvc2VkIHRvIGFsd2F5cyBwcm92aWRlIGFuIF9pbmRleGdyb3VwIGxpc3QgbG9uZwogICAgICAgICAgICAjIGVub3VnaC4gQnV0IHRoZSByZS5TY2FubmVyIGNsYXNzIHNlZW1zIHRvIHNjcmV3IHVwIHNvbWV0aGluZwogICAgICAgICAgICAjIHRoZXJlLCB0ZXN0X3NjYW5uZXIgaW4gdGVzdF9yZSB3b24ndCB3b3JrIHdpdGhvdXQgdXBwZXItYm91bmQKICAgICAgICAgICAgIyBjaGVja2luZy4gWFhYIGludmVzdGlnYXRlIHRoaXMgYW5kIHJlcG9ydCBidWcgdG8gQ1B5dGhvbi4KICAgICAgICAgICAgc2VsZi5sYXN0Z3JvdXAgPSBwYXR0ZXJuLl9pbmRleGdyb3VwW3NlbGYubGFzdGluZGV4XQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYubGFzdGdyb3VwID0gTm9uZQoKICAgIGRlZiBfY3JlYXRlX3JlZ3Moc2VsZiwgc3RhdGUpOgogICAgICAgICIiIkNyZWF0ZXMgYSB0dXBsZSBvZiBpbmRleCBwYWlycyByZXByZXNlbnRpbmcgbWF0Y2hlZCBncm91cHMuIiIiCiAgICAgICAgcmVncyA9IFsoc3RhdGUuc3RhcnQsIHN0YXRlLnN0cmluZ19wb3NpdGlvbildCiAgICAgICAgZm9yIGdyb3VwIGluIHJhbmdlKHNlbGYucmUuZ3JvdXBzKToKICAgICAgICAgICAgbWFya19pbmRleCA9IDIgKiBncm91cAogICAgICAgICAgICBpZiBtYXJrX2luZGV4ICsgMSA8IGxlbihzdGF0ZS5tYXJrcykgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgc3RhdGUubWFya3NbbWFya19pbmRleF0gaXMgbm90IE5vbmUgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgc3RhdGUubWFya3NbbWFya19pbmRleCArIDFdIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmVncy5hcHBlbmQoKHN0YXRlLm1hcmtzW21hcmtfaW5kZXhdLCBzdGF0ZS5tYXJrc1ttYXJrX2luZGV4ICsgMV0pKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmVncy5hcHBlbmQoKC0xLCAtMSkpCiAgICAgICAgcmV0dXJuIHR1cGxlKHJlZ3MpCgogICAgZGVmIF9nZXRfaW5kZXgoc2VsZiwgZ3JvdXApOgogICAgICAgIGlmIGlzaW5zdGFuY2UoZ3JvdXAsIGludCk6CiAgICAgICAgICAgIGlmIGdyb3VwID49IDAgYW5kIGdyb3VwIDw9IHNlbGYucmUuZ3JvdXBzOgogICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgc2VsZi5yZS5ncm91cGluZGV4Lmhhc19rZXkoZ3JvdXApOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYucmUuZ3JvdXBpbmRleFtncm91cF0KICAgICAgICByYWlzZSBJbmRleEVycm9yKCJubyBzdWNoIGdyb3VwIikKCiAgICBkZWYgX2dldF9zbGljZShzZWxmLCBncm91cCwgZGVmYXVsdCk6CiAgICAgICAgZ3JvdXBfaW5kaWNlcyA9IHNlbGYucmVnc1tncm91cF0KICAgICAgICBpZiBncm91cF9pbmRpY2VzWzBdID49IDA6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0cmluZ1tncm91cF9pbmRpY2VzWzBdOmdyb3VwX2luZGljZXNbMV1dCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHQKCiAgICBkZWYgc3RhcnQoc2VsZiwgZ3JvdXA9MCk6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgaW5kaWNlcyBvZiB0aGUgc3RhcnQgb2YgdGhlIHN1YnN0cmluZyBtYXRjaGVkIGJ5IGdyb3VwOwogICAgICAgIGdyb3VwIGRlZmF1bHRzIHRvIHplcm8gKG1lYW5pbmcgdGhlIHdob2xlIG1hdGNoZWQgc3Vic3RyaW5nKS4gUmV0dXJucyAtMQogICAgICAgIGlmIGdyb3VwIGV4aXN0cyBidXQgZGlkIG5vdCBjb250cmlidXRlIHRvIHRoZSBtYXRjaC4iIiIKICAgICAgICByZXR1cm4gc2VsZi5yZWdzW3NlbGYuX2dldF9pbmRleChncm91cCldWzBdCgogICAgZGVmIGVuZChzZWxmLCBncm91cD0wKToKICAgICAgICAiIiJSZXR1cm5zIHRoZSBpbmRpY2VzIG9mIHRoZSBlbmQgb2YgdGhlIHN1YnN0cmluZyBtYXRjaGVkIGJ5IGdyb3VwOwogICAgICAgIGdyb3VwIGRlZmF1bHRzIHRvIHplcm8gKG1lYW5pbmcgdGhlIHdob2xlIG1hdGNoZWQgc3Vic3RyaW5nKS4gUmV0dXJucyAtMQogICAgICAgIGlmIGdyb3VwIGV4aXN0cyBidXQgZGlkIG5vdCBjb250cmlidXRlIHRvIHRoZSBtYXRjaC4iIiIKICAgICAgICByZXR1cm4gc2VsZi5yZWdzW3NlbGYuX2dldF9pbmRleChncm91cCldWzFdCgogICAgZGVmIHNwYW4oc2VsZiwgZ3JvdXA9MCk6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgMi10dXBsZSAobS5zdGFydChncm91cCksIG0uZW5kKGdyb3VwKSkuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuc3RhcnQoZ3JvdXApLCBzZWxmLmVuZChncm91cCkKICAgICAgICAKICAgIGRlZiBleHBhbmQoc2VsZiwgdGVtcGxhdGUpOgogICAgICAgICIiIlJldHVybiB0aGUgc3RyaW5nIG9idGFpbmVkIGJ5IGRvaW5nIGJhY2tzbGFzaCBzdWJzdGl0dXRpb24gYW5kCiAgICAgICAgcmVzb2x2aW5nIGdyb3VwIHJlZmVyZW5jZXMgb24gdGVtcGxhdGUuIiIiCiAgICAgICAgaW1wb3J0IHNyZQogICAgICAgIHJldHVybiBzcmUuX2V4cGFuZChzZWxmLnJlLCBzZWxmLCB0ZW1wbGF0ZSkKICAgICAgICAKICAgIGRlZiBncm91cHMoc2VsZiwgZGVmYXVsdD1Ob25lKToKICAgICAgICAiIiJSZXR1cm5zIGEgdHVwbGUgY29udGFpbmluZyBhbGwgdGhlIHN1Ymdyb3VwcyBvZiB0aGUgbWF0Y2guIFRoZQogICAgICAgIGRlZmF1bHQgYXJndW1lbnQgaXMgdXNlZCBmb3IgZ3JvdXBzIHRoYXQgZGlkIG5vdCBwYXJ0aWNpcGF0ZSBpbiB0aGUKICAgICAgICBtYXRjaCAoZGVmYXVsdHMgdG8gTm9uZSkuIiIiCiAgICAgICAgZ3JvdXBzID0gW10KICAgICAgICBmb3IgaW5kaWNlcyBpbiBzZWxmLnJlZ3NbMTpdOgogICAgICAgICAgICBpZiBpbmRpY2VzWzBdID49IDA6CiAgICAgICAgICAgICAgICBncm91cHMuYXBwZW5kKHNlbGYuc3RyaW5nW2luZGljZXNbMF06aW5kaWNlc1sxXV0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBncm91cHMuYXBwZW5kKGRlZmF1bHQpCiAgICAgICAgcmV0dXJuIHR1cGxlKGdyb3VwcykKICAgICAgICAKICAgIGRlZiBncm91cGRpY3Qoc2VsZiwgZGVmYXVsdD1Ob25lKToKICAgICAgICAiIiJSZXR1cm4gYSBkaWN0aW9uYXJ5IGNvbnRhaW5pbmcgYWxsIHRoZSBuYW1lZCBzdWJncm91cHMgb2YgdGhlIG1hdGNoLgogICAgICAgIFRoZSBkZWZhdWx0IGFyZ3VtZW50IGlzIHVzZWQgZm9yIGdyb3VwcyB0aGF0IGRpZCBub3QgcGFydGljaXBhdGUgaW4gdGhlCiAgICAgICAgbWF0Y2ggKGRlZmF1bHRzIHRvIE5vbmUpLiIiIgogICAgICAgIGdyb3VwZGljdCA9IHt9CiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gc2VsZi5yZS5ncm91cGluZGV4Lml0ZW1zKCk6CiAgICAgICAgICAgIGdyb3VwZGljdFtrZXldID0gc2VsZi5fZ2V0X3NsaWNlKHZhbHVlLCBkZWZhdWx0KQogICAgICAgIHJldHVybiBncm91cGRpY3QKCiAgICBkZWYgZ3JvdXAoc2VsZiwgKmFyZ3MpOgogICAgICAgICIiIlJldHVybnMgb25lIG9yIG1vcmUgc3ViZ3JvdXBzIG9mIHRoZSBtYXRjaC4gRWFjaCBhcmd1bWVudCBpcyBlaXRoZXIgYQogICAgICAgIGdyb3VwIGluZGV4IG9yIGEgZ3JvdXAgbmFtZS4iIiIKICAgICAgICBpZiBsZW4oYXJncykgPT0gMDoKICAgICAgICAgICAgYXJncyA9ICgwLCkKICAgICAgICBncm91cGxpc3QgPSBbXQogICAgICAgIGZvciBncm91cCBpbiBhcmdzOgogICAgICAgICAgICBncm91cGxpc3QuYXBwZW5kKHNlbGYuX2dldF9zbGljZShzZWxmLl9nZXRfaW5kZXgoZ3JvdXApLCBOb25lKSkKICAgICAgICBpZiBsZW4oZ3JvdXBsaXN0KSA9PSAxOgogICAgICAgICAgICByZXR1cm4gZ3JvdXBsaXN0WzBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHR1cGxlKGdyb3VwbGlzdCkKCiAgICBkZWYgX19jb3B5X18oKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImNhbm5vdCBjb3B5IHRoaXMgcGF0dGVybiBvYmplY3QiKQoKICAgIGRlZiBfX2RlZXBjb3B5X18oKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImNhbm5vdCBjb3B5IHRoaXMgcGF0dGVybiBvYmplY3QiKQoKCmNsYXNzIF9TdGF0ZShvYmplY3QpOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdHJpbmcsIHN0YXJ0LCBlbmQsIGZsYWdzKToKICAgICAgICBzZWxmLnN0cmluZyA9IHN0cmluZwogICAgICAgIGlmIHN0YXJ0IDwgMDoKICAgICAgICAgICAgc3RhcnQgPSAwCiAgICAgICAgaWYgZW5kID4gbGVuKHN0cmluZyk6CiAgICAgICAgICAgIGVuZCA9IGxlbihzdHJpbmcpCiAgICAgICAgc2VsZi5zdGFydCA9IHN0YXJ0CiAgICAgICAgc2VsZi5zdHJpbmdfcG9zaXRpb24gPSBzZWxmLnN0YXJ0CiAgICAgICAgc2VsZi5lbmQgPSBlbmQKICAgICAgICBzZWxmLnBvcyA9IHN0YXJ0CiAgICAgICAgc2VsZi5mbGFncyA9IGZsYWdzCiAgICAgICAgc2VsZi5yZXNldCgpCgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHNlbGYubWFya3MgPSBbXQogICAgICAgIHNlbGYubGFzdGluZGV4ID0gLTEKICAgICAgICBzZWxmLm1hcmtzX3N0YWNrID0gW10KICAgICAgICBzZWxmLmNvbnRleHRfc3RhY2sgPSBbXQogICAgICAgIHNlbGYucmVwZWF0ID0gTm9uZQoKICAgIGRlZiBtYXRjaChzZWxmLCBwYXR0ZXJuX2NvZGVzKToKICAgICAgICAjIE9wdGltaXphdGlvbjogQ2hlY2sgc3RyaW5nIGxlbmd0aC4gcGF0dGVybl9jb2Rlc1szXSBjb250YWlucyB0aGUKICAgICAgICAjIG1pbmltdW0gbGVuZ3RoIGZvciBhIHN0cmluZyB0byBwb3NzaWJseSBtYXRjaC4KICAgICAgICBpZiBwYXR0ZXJuX2NvZGVzWzBdID09IE9QQ09ERVNbImluZm8iXSBhbmQgcGF0dGVybl9jb2Rlc1szXToKICAgICAgICAgICAgaWYgc2VsZi5lbmQgLSBzZWxmLnN0cmluZ19wb3NpdGlvbiA8IHBhdHRlcm5fY29kZXNbM106CiAgICAgICAgICAgICAgICAjX2xvZygicmVqZWN0IChnb3QgJWQgY2hhcnMsIG5lZWQgJWQpIgogICAgICAgICAgICAgICAgIyAgICAgICAgICUgKHNlbGYuZW5kIC0gc2VsZi5zdHJpbmdfcG9zaXRpb24sIHBhdHRlcm5fY29kZXNbM10pKQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgCiAgICAgICAgZGlzcGF0Y2hlciA9IF9PcGNvZGVEaXNwYXRjaGVyKCkKICAgICAgICBzZWxmLmNvbnRleHRfc3RhY2suYXBwZW5kKF9NYXRjaENvbnRleHQoc2VsZiwgcGF0dGVybl9jb2RlcykpCiAgICAgICAgaGFzX21hdGNoZWQgPSBOb25lCiAgICAgICAgd2hpbGUgbGVuKHNlbGYuY29udGV4dF9zdGFjaykgPiAwOgogICAgICAgICAgICBjb250ZXh0ID0gc2VsZi5jb250ZXh0X3N0YWNrWy0xXQogICAgICAgICAgICBoYXNfbWF0Y2hlZCA9IGRpc3BhdGNoZXIubWF0Y2goY29udGV4dCkKICAgICAgICAgICAgaWYgaGFzX21hdGNoZWQgaXMgbm90IE5vbmU6ICMgZG9uJ3QgcG9wIGlmIGNvbnRleHQgaXNuJ3QgZG9uZQogICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0X3N0YWNrLnBvcCgpCiAgICAgICAgcmV0dXJuIGhhc19tYXRjaGVkCgogICAgZGVmIHNlYXJjaChzZWxmLCBwYXR0ZXJuX2NvZGVzKToKICAgICAgICBmbGFncyA9IDAKICAgICAgICBpZiBwYXR0ZXJuX2NvZGVzWzBdID09IE9QQ09ERVNbImluZm8iXToKICAgICAgICAgICAgIyBvcHRpbWl6YXRpb24gaW5mbyBibG9jawogICAgICAgICAgICAjIDxJTkZPPiA8MT1za2lwPiA8Mj1mbGFncz4gPDM9bWluPiA8ND1tYXg+IDw1PXByZWZpeCBpbmZvPgogICAgICAgICAgICBpZiBwYXR0ZXJuX2NvZGVzWzJdICYgU1JFX0lORk9fUFJFRklYIGFuZCBwYXR0ZXJuX2NvZGVzWzVdID4gMToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmZhc3Rfc2VhcmNoKHBhdHRlcm5fY29kZXMpCiAgICAgICAgICAgIGZsYWdzID0gcGF0dGVybl9jb2Rlc1syXQogICAgICAgICAgICBwYXR0ZXJuX2NvZGVzID0gcGF0dGVybl9jb2Rlc1twYXR0ZXJuX2NvZGVzWzFdICsgMTpdCgogICAgICAgIHN0cmluZ19wb3NpdGlvbiA9IHNlbGYuc3RhcnQKICAgICAgICBpZiBwYXR0ZXJuX2NvZGVzWzBdID09IE9QQ09ERVNbImxpdGVyYWwiXToKICAgICAgICAgICAgIyBTcGVjaWFsIGNhc2U6IFBhdHRlcm4gc3RhcnRzIHdpdGggYSBsaXRlcmFsIGNoYXJhY3Rlci4gVGhpcyBpcwogICAgICAgICAgICAjIHVzZWQgZm9yIHNob3J0IHByZWZpeGVzCiAgICAgICAgICAgIGNoYXJhY3RlciA9IHBhdHRlcm5fY29kZXNbMV0KICAgICAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgICAgIHdoaWxlIHN0cmluZ19wb3NpdGlvbiA8IHNlbGYuZW5kIFwKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIG9yZChzZWxmLnN0cmluZ1tzdHJpbmdfcG9zaXRpb25dKSAhPSBjaGFyYWN0ZXI6CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nX3Bvc2l0aW9uICs9IDEKICAgICAgICAgICAgICAgIGlmIHN0cmluZ19wb3NpdGlvbiA+PSBzZWxmLmVuZDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAgICAgICAgIHNlbGYuc3RhcnQgPSBzdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgICAgIHN0cmluZ19wb3NpdGlvbiArPSAxCiAgICAgICAgICAgICAgICBzZWxmLnN0cmluZ19wb3NpdGlvbiA9IHN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICAgICAgaWYgZmxhZ3MgJiBTUkVfSU5GT19MSVRFUkFMOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgICAgICBpZiBzZWxmLm1hdGNoKHBhdHRlcm5fY29kZXNbMjpdKToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICAgICAgIyBHZW5lcmFsIGNhc2UKICAgICAgICB3aGlsZSBzdHJpbmdfcG9zaXRpb24gPD0gc2VsZi5lbmQ6CiAgICAgICAgICAgIHNlbGYucmVzZXQoKQogICAgICAgICAgICBzZWxmLnN0YXJ0ID0gc2VsZi5zdHJpbmdfcG9zaXRpb24gPSBzdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgaWYgc2VsZi5tYXRjaChwYXR0ZXJuX2NvZGVzKToKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIHN0cmluZ19wb3NpdGlvbiArPSAxCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIGZhc3Rfc2VhcmNoKHNlbGYsIHBhdHRlcm5fY29kZXMpOgogICAgICAgICIiIlNraXBzIGZvcndhcmQgaW4gYSBzdHJpbmcgYXMgZmFzdCBhcyBwb3NzaWJsZSB1c2luZyBpbmZvcm1hdGlvbiBmcm9tCiAgICAgICAgYW4gb3B0aW1pemF0aW9uIGluZm8gYmxvY2suIiIiCiAgICAgICAgIyBwYXR0ZXJuIHN0YXJ0cyB3aXRoIGEga25vd24gcHJlZml4CiAgICAgICAgIyA8NT1sZW5ndGg+IDw2PXNraXA+IDw3PXByZWZpeCBkYXRhPiA8b3ZlcmxhcCBkYXRhPgogICAgICAgIGZsYWdzID0gcGF0dGVybl9jb2Rlc1syXQogICAgICAgIHByZWZpeF9sZW4gPSBwYXR0ZXJuX2NvZGVzWzVdCiAgICAgICAgcHJlZml4X3NraXAgPSBwYXR0ZXJuX2NvZGVzWzZdICMgZG9uJ3QgcmVhbGx5IGtub3cgd2hhdCB0aGlzIGlzIGdvb2QgZm9yCiAgICAgICAgcHJlZml4ID0gcGF0dGVybl9jb2Rlc1s3OjcgKyBwcmVmaXhfbGVuXQogICAgICAgIG92ZXJsYXAgPSBwYXR0ZXJuX2NvZGVzWzcgKyBwcmVmaXhfbGVuIC0gMTpwYXR0ZXJuX2NvZGVzWzFdICsgMV0KICAgICAgICBwYXR0ZXJuX2NvZGVzID0gcGF0dGVybl9jb2Rlc1twYXR0ZXJuX2NvZGVzWzFdICsgMTpdCiAgICAgICAgaSA9IDAKICAgICAgICBzdHJpbmdfcG9zaXRpb24gPSBzZWxmLnN0cmluZ19wb3NpdGlvbgogICAgICAgIHdoaWxlIHN0cmluZ19wb3NpdGlvbiA8IHNlbGYuZW5kOgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgaWYgb3JkKHNlbGYuc3RyaW5nW3N0cmluZ19wb3NpdGlvbl0pICE9IHByZWZpeFtpXToKICAgICAgICAgICAgICAgICAgICBpZiBpID09IDA6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG92ZXJsYXBbaV0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgaSArPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgaSA9PSBwcmVmaXhfbGVuOgogICAgICAgICAgICAgICAgICAgICAgICAjIGZvdW5kIGEgcG90ZW50aWFsIG1hdGNoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnQgPSBzdHJpbmdfcG9zaXRpb24gKyAxIC0gcHJlZml4X2xlbgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0cmluZ19wb3NpdGlvbiA9IHN0cmluZ19wb3NpdGlvbiArIDEgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJlZml4X2xlbiArIHByZWZpeF9za2lwCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0lORk9fTElURVJBTDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlICMgbWF0Y2hlZCBhbGwgb2YgcHVyZSBsaXRlcmFsIHBhdHRlcm4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5tYXRjaChwYXR0ZXJuX2NvZGVzWzIgKiBwcmVmaXhfc2tpcDpdKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBvdmVybGFwW2ldCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgc3RyaW5nX3Bvc2l0aW9uICs9IDEKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgc2V0X21hcmsoc2VsZiwgbWFya19uciwgcG9zaXRpb24pOgogICAgICAgIGlmIG1hcmtfbnIgJiAxOgogICAgICAgICAgICAjIFRoaXMgaWQgbWFya3MgdGhlIGVuZCBvZiBhIGdyb3VwLgogICAgICAgICAgICBzZWxmLmxhc3RpbmRleCA9IG1hcmtfbnIgLyAyICsgMQogICAgICAgIGlmIG1hcmtfbnIgPj0gbGVuKHNlbGYubWFya3MpOgogICAgICAgICAgICBzZWxmLm1hcmtzLmV4dGVuZChbTm9uZV0gKiAobWFya19uciAtIGxlbihzZWxmLm1hcmtzKSArIDEpKQogICAgICAgIHNlbGYubWFya3NbbWFya19ucl0gPSBwb3NpdGlvbgoKICAgIGRlZiBnZXRfbWFya3Moc2VsZiwgZ3JvdXBfaW5kZXgpOgogICAgICAgIG1hcmtzX2luZGV4ID0gMiAqIGdyb3VwX2luZGV4CiAgICAgICAgaWYgbGVuKHNlbGYubWFya3MpID4gbWFya3NfaW5kZXggKyAxOgogICAgICAgICAgICByZXR1cm4gc2VsZi5tYXJrc1ttYXJrc19pbmRleF0sIHNlbGYubWFya3NbbWFya3NfaW5kZXggKyAxXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb25lLCBOb25lCgogICAgZGVmIG1hcmtzX3B1c2goc2VsZik6CiAgICAgICAgc2VsZi5tYXJrc19zdGFjay5hcHBlbmQoKHNlbGYubWFya3NbOl0sIHNlbGYubGFzdGluZGV4KSkKCiAgICBkZWYgbWFya3NfcG9wKHNlbGYpOgogICAgICAgIHNlbGYubWFya3MsIHNlbGYubGFzdGluZGV4ID0gc2VsZi5tYXJrc19zdGFjay5wb3AoKQoKICAgIGRlZiBtYXJrc19wb3Bfa2VlcChzZWxmKToKICAgICAgICBzZWxmLm1hcmtzLCBzZWxmLmxhc3RpbmRleCA9IHNlbGYubWFya3Nfc3RhY2tbLTFdCgogICAgZGVmIG1hcmtzX3BvcF9kaXNjYXJkKHNlbGYpOgogICAgICAgIHNlbGYubWFya3Nfc3RhY2sucG9wKCkKCiAgICBkZWYgbG93ZXIoc2VsZiwgY2hhcl9vcmQpOgogICAgICAgIHJldHVybiBnZXRsb3dlcihjaGFyX29yZCwgc2VsZi5mbGFncykKCgpjbGFzcyBfTWF0Y2hDb250ZXh0KG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0YXRlLCBwYXR0ZXJuX2NvZGVzKToKICAgICAgICBzZWxmLnN0YXRlID0gc3RhdGUKICAgICAgICBzZWxmLnBhdHRlcm5fY29kZXMgPSBwYXR0ZXJuX2NvZGVzCiAgICAgICAgc2VsZi5zdHJpbmdfcG9zaXRpb24gPSBzdGF0ZS5zdHJpbmdfcG9zaXRpb24KICAgICAgICBzZWxmLmNvZGVfcG9zaXRpb24gPSAwCiAgICAgICAgc2VsZi5oYXNfbWF0Y2hlZCA9IE5vbmUKCiAgICBkZWYgcHVzaF9uZXdfY29udGV4dChzZWxmLCBwYXR0ZXJuX29mZnNldCk6CiAgICAgICAgIiIiQ3JlYXRlcyBhIG5ldyBjaGlsZCBjb250ZXh0IG9mIHRoaXMgY29udGV4dCBhbmQgcHVzaGVzIGl0IG9uIHRoZQogICAgICAgIHN0YWNrLiBwYXR0ZXJuX29mZnNldCBpcyB0aGUgb2Zmc2V0IG9mZiB0aGUgY3VycmVudCBjb2RlIHBvc2l0aW9uIHRvCiAgICAgICAgc3RhcnQgaW50ZXJwcmV0aW5nIGZyb20uIiIiCiAgICAgICAgY2hpbGRfY29udGV4dCA9IF9NYXRjaENvbnRleHQoc2VsZi5zdGF0ZSwKICAgICAgICAgICAgc2VsZi5wYXR0ZXJuX2NvZGVzW3NlbGYuY29kZV9wb3NpdGlvbiArIHBhdHRlcm5fb2Zmc2V0Ol0pCiAgICAgICAgc2VsZi5zdGF0ZS5jb250ZXh0X3N0YWNrLmFwcGVuZChjaGlsZF9jb250ZXh0KQogICAgICAgIHJldHVybiBjaGlsZF9jb250ZXh0CgogICAgZGVmIHBlZWtfY2hhcihzZWxmLCBwZWVrPTApOgogICAgICAgIHJldHVybiBzZWxmLnN0YXRlLnN0cmluZ1tzZWxmLnN0cmluZ19wb3NpdGlvbiArIHBlZWtdCgogICAgZGVmIHNraXBfY2hhcihzZWxmLCBza2lwX2NvdW50KToKICAgICAgICBzZWxmLnN0cmluZ19wb3NpdGlvbiArPSBza2lwX2NvdW50CgogICAgZGVmIHJlbWFpbmluZ19jaGFycyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zdGF0ZS5lbmQgLSBzZWxmLnN0cmluZ19wb3NpdGlvbgoKICAgIGRlZiBwZWVrX2NvZGUoc2VsZiwgcGVlaz0wKToKICAgICAgICByZXR1cm4gc2VsZi5wYXR0ZXJuX2NvZGVzW3NlbGYuY29kZV9wb3NpdGlvbiArIHBlZWtdCgogICAgZGVmIHNraXBfY29kZShzZWxmLCBza2lwX2NvdW50KToKICAgICAgICBzZWxmLmNvZGVfcG9zaXRpb24gKz0gc2tpcF9jb3VudAoKICAgIGRlZiByZW1haW5pbmdfY29kZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLnBhdHRlcm5fY29kZXMpIC0gc2VsZi5jb2RlX3Bvc2l0aW9uCgogICAgZGVmIGF0X2JlZ2lubmluZyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zdHJpbmdfcG9zaXRpb24gPT0gMAoKICAgIGRlZiBhdF9lbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuc3RyaW5nX3Bvc2l0aW9uID09IHNlbGYuc3RhdGUuZW5kCgogICAgZGVmIGF0X2xpbmVicmVhayhzZWxmKToKICAgICAgICByZXR1cm4gbm90IHNlbGYuYXRfZW5kKCkgYW5kIF9pc19saW5lYnJlYWsoc2VsZi5wZWVrX2NoYXIoKSkKCiAgICBkZWYgYXRfYm91bmRhcnkoc2VsZiwgd29yZF9jaGVja2VyKToKICAgICAgICBpZiBzZWxmLmF0X2JlZ2lubmluZygpIGFuZCBzZWxmLmF0X2VuZCgpOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICB0aGF0ID0gbm90IHNlbGYuYXRfYmVnaW5uaW5nKCkgYW5kIHdvcmRfY2hlY2tlcihzZWxmLnBlZWtfY2hhcigtMSkpCiAgICAgICAgdGhpcyA9IG5vdCBzZWxmLmF0X2VuZCgpIGFuZCB3b3JkX2NoZWNrZXIoc2VsZi5wZWVrX2NoYXIoKSkKICAgICAgICByZXR1cm4gdGhpcyAhPSB0aGF0CgoKY2xhc3MgX1JlcGVhdENvbnRleHQoX01hdGNoQ29udGV4dCk6CiAgICAKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjb250ZXh0KToKICAgICAgICBfTWF0Y2hDb250ZXh0Ll9faW5pdF9fKHNlbGYsIGNvbnRleHQuc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhdHRlcm5fY29kZXNbY29udGV4dC5jb2RlX3Bvc2l0aW9uOl0pCiAgICAgICAgc2VsZi5jb3VudCA9IC0xCiAgICAgICAgc2VsZi5wcmV2aW91cyA9IGNvbnRleHQuc3RhdGUucmVwZWF0CiAgICAgICAgc2VsZi5sYXN0X3Bvc2l0aW9uID0gTm9uZQoKCmNsYXNzIF9EaXNwYXRjaGVyKG9iamVjdCk6CgogICAgRElTUEFUQ0hfVEFCTEUgPSBOb25lCgogICAgZGVmIGRpc3BhdGNoKHNlbGYsIGNvZGUsIGNvbnRleHQpOgogICAgICAgIG1ldGhvZCA9IHNlbGYuRElTUEFUQ0hfVEFCTEUuZ2V0KGNvZGUsIHNlbGYuX19jbGFzc19fLnVua25vd24pCiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmLCBjb250ZXh0KQoKICAgIGRlZiB1bmtub3duKHNlbGYsIGNvZGUsIGN0eCk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIGJ1aWxkX2Rpc3BhdGNoX3RhYmxlKGNscywgY29kZV9kaWN0LCBtZXRob2RfcHJlZml4KToKICAgICAgICBpZiBjbHMuRElTUEFUQ0hfVEFCTEUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRhYmxlID0ge30KICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBjb2RlX2RpY3QuaXRlbXMoKToKICAgICAgICAgICAgaWYgaGFzYXR0cihjbHMsICIlcyVzIiAlIChtZXRob2RfcHJlZml4LCBrZXkpKToKICAgICAgICAgICAgICAgIHRhYmxlW3ZhbHVlXSA9IGdldGF0dHIoY2xzLCAiJXMlcyIgJSAobWV0aG9kX3ByZWZpeCwga2V5KSkKICAgICAgICBjbHMuRElTUEFUQ0hfVEFCTEUgPSB0YWJsZQoKICAgIGJ1aWxkX2Rpc3BhdGNoX3RhYmxlID0gY2xhc3NtZXRob2QoYnVpbGRfZGlzcGF0Y2hfdGFibGUpCgoKY2xhc3MgX09wY29kZURpc3BhdGNoZXIoX0Rpc3BhdGNoZXIpOgogICAgCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5leGVjdXRpbmdfY29udGV4dHMgPSB7fQogICAgICAgIHNlbGYuYXRfZGlzcGF0Y2hlciA9IF9BdGNvZGVEaXNwYXRjaGVyKCkKICAgICAgICBzZWxmLmNoX2Rpc3BhdGNoZXIgPSBfQ2hjb2RlRGlzcGF0Y2hlcigpCiAgICAgICAgc2VsZi5zZXRfZGlzcGF0Y2hlciA9IF9DaGFyc2V0RGlzcGF0Y2hlcigpCiAgICAgICAgCiAgICBkZWYgbWF0Y2goc2VsZiwgY29udGV4dCk6CiAgICAgICAgIiIiUmV0dXJucyBUcnVlIGlmIHRoZSBjdXJyZW50IGNvbnRleHQgbWF0Y2hlcywgRmFsc2UgaWYgaXQgZG9lc24ndCBhbmQKICAgICAgICBOb25lIGlmIG1hdGNoaW5nIGlzIG5vdCBmaW5pc2hlZCwgaWUgbXVzdCBiZSByZXN1bWVkIGFmdGVyIGNoaWxkCiAgICAgICAgY29udGV4dHMgaGF2ZSBiZWVuIG1hdGNoZWQuIiIiCiAgICAgICAgd2hpbGUgY29udGV4dC5yZW1haW5pbmdfY29kZXMoKSA+IDAgYW5kIGNvbnRleHQuaGFzX21hdGNoZWQgaXMgTm9uZToKICAgICAgICAgICAgb3Bjb2RlID0gY29udGV4dC5wZWVrX2NvZGUoKQogICAgICAgICAgICBpZiBub3Qgc2VsZi5kaXNwYXRjaChvcGNvZGUsIGNvbnRleHQpOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBpZiBjb250ZXh0Lmhhc19tYXRjaGVkIGlzIE5vbmU6CiAgICAgICAgICAgIGNvbnRleHQuaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgIHJldHVybiBjb250ZXh0Lmhhc19tYXRjaGVkCgogICAgZGVmIGRpc3BhdGNoKHNlbGYsIG9wY29kZSwgY29udGV4dCk6CiAgICAgICAgIiIiRGlzcGF0Y2hlcyBhIGNvbnRleHQgb24gYSBnaXZlbiBvcGNvZGUuIFJldHVybnMgVHJ1ZSBpZiB0aGUgY29udGV4dAogICAgICAgIGlzIGRvbmUgbWF0Y2hpbmcsIEZhbHNlIGlmIGl0IG11c3QgYmUgcmVzdW1lZCB3aGVuIG5leHQgZW5jb3VudGVyZWQuIiIiCiAgICAgICAgaWYgc2VsZi5leGVjdXRpbmdfY29udGV4dHMuaGFzX2tleShpZChjb250ZXh0KSk6CiAgICAgICAgICAgIGdlbmVyYXRvciA9IHNlbGYuZXhlY3V0aW5nX2NvbnRleHRzW2lkKGNvbnRleHQpXQogICAgICAgICAgICBkZWwgc2VsZi5leGVjdXRpbmdfY29udGV4dHNbaWQoY29udGV4dCldCiAgICAgICAgICAgIGhhc19maW5pc2hlZCA9IGdlbmVyYXRvci5uZXh0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBtZXRob2QgPSBzZWxmLkRJU1BBVENIX1RBQkxFLmdldChvcGNvZGUsIF9PcGNvZGVEaXNwYXRjaGVyLnVua25vd24pCiAgICAgICAgICAgIGhhc19maW5pc2hlZCA9IG1ldGhvZChzZWxmLCBjb250ZXh0KQogICAgICAgICAgICBpZiBoYXNhdHRyKGhhc19maW5pc2hlZCwgIm5leHQiKTogIyBhdm9pZCB1c2luZyB0aGUgdHlwZXMgbW9kdWxlCiAgICAgICAgICAgICAgICBnZW5lcmF0b3IgPSBoYXNfZmluaXNoZWQKICAgICAgICAgICAgICAgIGhhc19maW5pc2hlZCA9IGdlbmVyYXRvci5uZXh0KCkKICAgICAgICBpZiBub3QgaGFzX2ZpbmlzaGVkOgogICAgICAgICAgICBzZWxmLmV4ZWN1dGluZ19jb250ZXh0c1tpZChjb250ZXh0KV0gPSBnZW5lcmF0b3IKICAgICAgICByZXR1cm4gaGFzX2ZpbmlzaGVkCgogICAgZGVmIG9wX3N1Y2Nlc3Moc2VsZiwgY3R4KToKICAgICAgICAjIGVuZCBvZiBwYXR0ZXJuCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJTVUNDRVNTIikKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9mYWlsdXJlKHNlbGYsIGN0eCk6CiAgICAgICAgIyBpbW1lZGlhdGUgZmFpbHVyZQogICAgICAgICNzZWxmLl9sb2coY3R4LCAiRkFJTFVSRSIpCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBnZW5lcmFsX29wX2xpdGVyYWwoc2VsZiwgY3R4LCBjb21wYXJlLCBkZWNvcmF0ZT1sYW1iZGEgeDogeCk6CiAgICAgICAgaWYgY3R4LmF0X2VuZCgpIG9yIG5vdCBjb21wYXJlKGRlY29yYXRlKG9yZChjdHgucGVla19jaGFyKCkpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0ZShjdHgucGVla19jb2RlKDEpKSk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgY3R4LnNraXBfY29kZSgyKQogICAgICAgIGN0eC5za2lwX2NoYXIoMSkKCiAgICBkZWYgb3BfbGl0ZXJhbChzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggbGl0ZXJhbCBzdHJpbmcKICAgICAgICAjIDxMSVRFUkFMPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkxJVEVSQUwiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIHNlbGYuZ2VuZXJhbF9vcF9saXRlcmFsKGN0eCwgb3BlcmF0b3IuZXEpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3Bfbm90X2xpdGVyYWwoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGFueXRoaW5nIHRoYXQgaXMgbm90IHRoZSBnaXZlbiBsaXRlcmFsIGNoYXJhY3RlcgogICAgICAgICMgPE5PVF9MSVRFUkFMPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIk5PVF9MSVRFUkFMIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfbGl0ZXJhbChjdHgsIG9wZXJhdG9yLm5lKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX2xpdGVyYWxfaWdub3JlKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBsaXRlcmFsIHJlZ2FyZGxlc3Mgb2YgY2FzZQogICAgICAgICMgPExJVEVSQUxfSUdOT1JFPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkxJVEVSQUxfSUdOT1JFIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfbGl0ZXJhbChjdHgsIG9wZXJhdG9yLmVxLCBjdHguc3RhdGUubG93ZXIpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3Bfbm90X2xpdGVyYWxfaWdub3JlKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBsaXRlcmFsIHJlZ2FyZGxlc3Mgb2YgY2FzZQogICAgICAgICMgPExJVEVSQUxfSUdOT1JFPiA8Y29kZT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkxJVEVSQUxfSUdOT1JFIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfbGl0ZXJhbChjdHgsIG9wZXJhdG9yLm5lLCBjdHguc3RhdGUubG93ZXIpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3BfYXQoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGF0IGdpdmVuIHBvc2l0aW9uCiAgICAgICAgIyA8QVQ+IDxjb2RlPgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiQVQiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIGlmIG5vdCBzZWxmLmF0X2Rpc3BhdGNoZXIuZGlzcGF0Y2goY3R4LnBlZWtfY29kZSgxKSwgY3R4KToKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBjdHguc2tpcF9jb2RlKDIpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgb3BfY2F0ZWdvcnkoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGF0IGdpdmVuIGNhdGVnb3J5CiAgICAgICAgIyA8Q0FURUdPUlk+IDxjb2RlPgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiQ0FURUdPUlkiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIGlmIGN0eC5hdF9lbmQoKSBvciBub3Qgc2VsZi5jaF9kaXNwYXRjaGVyLmRpc3BhdGNoKGN0eC5wZWVrX2NvZGUoMSksIGN0eCk6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgY3R4LnNraXBfY29kZSgyKQogICAgICAgIGN0eC5za2lwX2NoYXIoMSkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9hbnkoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGFueXRoaW5nIChleGNlcHQgYSBuZXdsaW5lKQogICAgICAgICMgPEFOWT4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkFOWSIpCiAgICAgICAgaWYgY3R4LmF0X2VuZCgpIG9yIGN0eC5hdF9saW5lYnJlYWsoKToKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBjdHguc2tpcF9jb2RlKDEpCiAgICAgICAgY3R4LnNraXBfY2hhcigxKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX2FueV9hbGwoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGFueXRoaW5nCiAgICAgICAgIyA8QU5ZX0FMTD4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkFOWV9BTEwiKQogICAgICAgIGlmIGN0eC5hdF9lbmQoKToKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBjdHguc2tpcF9jb2RlKDEpCiAgICAgICAgY3R4LnNraXBfY2hhcigxKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGdlbmVyYWxfb3BfaW4oc2VsZiwgY3R4LCBkZWNvcmF0ZT1sYW1iZGEgeDogeCk6CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJPUF9JTiIpCiAgICAgICAgaWYgY3R4LmF0X2VuZCgpOgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICByZXR1cm4KICAgICAgICBza2lwID0gY3R4LnBlZWtfY29kZSgxKQogICAgICAgIGN0eC5za2lwX2NvZGUoMikgIyBzZXQgb3AgcG9pbnRlciB0byB0aGUgc2V0IGNvZGUKICAgICAgICBpZiBub3Qgc2VsZi5jaGVja19jaGFyc2V0KGN0eCwgZGVjb3JhdGUob3JkKGN0eC5wZWVrX2NoYXIoKSkpKToKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgY3R4LnNraXBfY29kZShza2lwIC0gMSkKICAgICAgICBjdHguc2tpcF9jaGFyKDEpCgogICAgZGVmIG9wX2luKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBzZXQgbWVtYmVyIChvciBub25fbWVtYmVyKQogICAgICAgICMgPElOPiA8c2tpcD4gPHNldD4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIk9QX0lOIikKICAgICAgICBzZWxmLmdlbmVyYWxfb3BfaW4oY3R4KQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG9wX2luX2lnbm9yZShzZWxmLCBjdHgpOgogICAgICAgICMgbWF0Y2ggc2V0IG1lbWJlciAob3Igbm9uX21lbWJlciksIGRpc3JlZ2FyZGluZyBjYXNlIG9mIGN1cnJlbnQgY2hhcgogICAgICAgICMgPElOX0lHTk9SRT4gPHNraXA+IDxzZXQ+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJPUF9JTl9JR05PUkUiKQogICAgICAgIHNlbGYuZ2VuZXJhbF9vcF9pbihjdHgsIGN0eC5zdGF0ZS5sb3dlcikKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBvcF9qdW1wKHNlbGYsIGN0eCk6CiAgICAgICAgIyBqdW1wIGZvcndhcmQKICAgICAgICAjIDxKVU1QPiA8b2Zmc2V0PgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiSlVNUCIsIGN0eC5wZWVrX2NvZGUoMSkpCiAgICAgICAgY3R4LnNraXBfY29kZShjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICMgc2tpcCBpbmZvCiAgICAjIDxJTkZPPiA8c2tpcD4KICAgIG9wX2luZm8gPSBvcF9qdW1wCgogICAgZGVmIG9wX21hcmsoc2VsZiwgY3R4KToKICAgICAgICAjIHNldCBtYXJrCiAgICAgICAgIyA8TUFSSz4gPGdpZD4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIk9QX01BUksiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIGN0eC5zdGF0ZS5zZXRfbWFyayhjdHgucGVla19jb2RlKDEpLCBjdHguc3RyaW5nX3Bvc2l0aW9uKQogICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICNmdW5jdGlvbiBiZWxvdyBjYXVzZXMgVHlwZUVycm9yOiBzY29wZS5jb250ZXh0LnRyZWVbMF0uYWRkX2dlbmVyYXRvcl9kZWNsYXJhdGlvbiBpcyBub3QgYSBmdW5jdGlvbgogICAgJycnCiAgICBkZWYgb3BfYnJhbmNoKHNlbGYsIGN0eCk6CiAgICAgICAgIyBhbHRlcm5hdGlvbgogICAgICAgICMgPEJSQU5DSD4gPDA9c2tpcD4gY29kZSA8SlVNUD4gLi4uIDxOVUxMPgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiQlJBTkNIIikKICAgICAgICBjdHguc3RhdGUubWFya3NfcHVzaCgpCiAgICAgICAgY3R4LnNraXBfY29kZSgxKQogICAgICAgIGN1cnJlbnRfYnJhbmNoX2xlbmd0aCA9IGN0eC5wZWVrX2NvZGUoMCkKICAgICAgICB3aGlsZSBjdXJyZW50X2JyYW5jaF9sZW5ndGg6CiAgICAgICAgICAgICMgVGhlIGZvbGxvd2luZyB0cmllcyB0byBzaG9ydGN1dCBicmFuY2hlcyBzdGFydGluZyB3aXRoIGEKICAgICAgICAgICAgIyAodW5tYXRjaGVkKSBsaXRlcmFsLiBfc3JlLmMgYWxzbyBzaG9ydGN1dHMgY2hhcnNldHMgaGVyZS4KICAgICAgICAgICAgaWYgbm90IChjdHgucGVla19jb2RlKDEpID09IE9QQ09ERVNbImxpdGVyYWwiXSBhbmQgXAogICAgICAgICAgICAgICAgICAgIChjdHguYXRfZW5kKCkgb3IgY3R4LnBlZWtfY29kZSgyKSAhPSBvcmQoY3R4LnBlZWtfY2hhcigpKSkpOgogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgICAgIGNoaWxkX2NvbnRleHQgPSBjdHgucHVzaF9uZXdfY29udGV4dCgxKQogICAgICAgICAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICAgICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gVHJ1ZQogICAgICAgICAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3Bfa2VlcCgpCiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoY3VycmVudF9icmFuY2hfbGVuZ3RoKQogICAgICAgICAgICBjdXJyZW50X2JyYW5jaF9sZW5ndGggPSBjdHgucGVla19jb2RlKDApCiAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9kaXNjYXJkKCkKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgIHlpZWxkIFRydWUKICAgIAoKICAgIGRlZiBvcF9yZXBlYXRfb25lKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCByZXBlYXRlZCBzZXF1ZW5jZSAobWF4aW1pemluZykuCiAgICAgICAgIyB0aGlzIG9wZXJhdG9yIG9ubHkgd29ya3MgaWYgdGhlIHJlcGVhdGVkIGl0ZW0gaXMgZXhhY3RseSBvbmUgY2hhcmFjdGVyCiAgICAgICAgIyB3aWRlLCBhbmQgd2UncmUgbm90IGFscmVhZHkgY29sbGVjdGluZyBiYWNrdHJhY2tpbmcgcG9pbnRzLgogICAgICAgICMgPFJFUEVBVF9PTkU+IDxza2lwPiA8MT1taW4+IDwyPW1heD4gaXRlbSA8U1VDQ0VTUz4gdGFpbAogICAgICAgIG1pbmNvdW50ID0gY3R4LnBlZWtfY29kZSgyKQogICAgICAgIG1heGNvdW50ID0gY3R4LnBlZWtfY29kZSgzKQogICAgICAgICNzZWxmLl9sb2coY3R4LCAiUkVQRUFUX09ORSIsIG1pbmNvdW50LCBtYXhjb3VudCkKCiAgICAgICAgaWYgY3R4LnJlbWFpbmluZ19jaGFycygpIDwgbWluY291bnQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGNvdW50ID0gc2VsZi5jb3VudF9yZXBldGl0aW9ucyhjdHgsIG1heGNvdW50KQogICAgICAgIGN0eC5za2lwX2NoYXIoY291bnQpCiAgICAgICAgaWYgY291bnQgPCBtaW5jb3VudDoKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIGlmIGN0eC5wZWVrX2NvZGUoY3R4LnBlZWtfY29kZSgxKSArIDEpID09IE9QQ09ERVNbInN1Y2Nlc3MiXToKICAgICAgICAgICAgIyB0YWlsIGlzIGVtcHR5LiAgd2UncmUgZmluaXNoZWQKICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gVHJ1ZQogICAgICAgICAgICB5aWVsZCBUcnVlCgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wdXNoKCkKICAgICAgICBpZiBjdHgucGVla19jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAxKSA9PSBPUENPREVTWyJsaXRlcmFsIl06CiAgICAgICAgICAgICMgU3BlY2lhbCBjYXNlOiBUYWlsIHN0YXJ0cyB3aXRoIGEgbGl0ZXJhbC4gU2tpcCBwb3NpdGlvbnMgd2hlcmUKICAgICAgICAgICAgIyB0aGUgcmVzdCBvZiB0aGUgcGF0dGVybiBjYW5ub3QgcG9zc2libHkgbWF0Y2guCiAgICAgICAgICAgIGNoYXIgPSBjdHgucGVla19jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAyKQogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgd2hpbGUgY291bnQgPj0gbWluY291bnQgYW5kIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3R4LmF0X2VuZCgpIG9yIG9yZChjdHgucGVla19jaGFyKCkpICE9IGNoYXIpOgogICAgICAgICAgICAgICAgICAgIGN0eC5za2lwX2NoYXIoLTEpCiAgICAgICAgICAgICAgICAgICAgY291bnQgLT0gMQogICAgICAgICAgICAgICAgaWYgY291bnQgPCBtaW5jb3VudDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgICAgIGNoaWxkX2NvbnRleHQgPSBjdHgucHVzaF9uZXdfY29udGV4dChjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgICAgICBpZiBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkOgogICAgICAgICAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgICAgICAgICBjdHguc2tpcF9jaGFyKC0xKQogICAgICAgICAgICAgICAgY291bnQgLT0gMQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9rZWVwKCkKICAgICAgICAKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIEdlbmVyYWwgY2FzZTogYmFja3RyYWNraW5nCiAgICAgICAgICAgIHdoaWxlIGNvdW50ID49IG1pbmNvdW50OgogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgICAgIGNoaWxkX2NvbnRleHQgPSBjdHgucHVzaF9uZXdfY29udGV4dChjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgICAgICBpZiBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkOgogICAgICAgICAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgICAgICAgICBjdHguc2tpcF9jaGFyKC0xKQogICAgICAgICAgICAgICAgY291bnQgLT0gMQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9rZWVwKCkKCiAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9kaXNjYXJkKCkKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgIHlpZWxkIFRydWUKICAgIAogICAgZGVmIG9wX21pbl9yZXBlYXRfb25lKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCByZXBlYXRlZCBzZXF1ZW5jZSAobWluaW1pemluZykKICAgICAgICAjIDxNSU5fUkVQRUFUX09ORT4gPHNraXA+IDwxPW1pbj4gPDI9bWF4PiBpdGVtIDxTVUNDRVNTPiB0YWlsCiAgICAgICAgbWluY291bnQgPSBjdHgucGVla19jb2RlKDIpCiAgICAgICAgbWF4Y291bnQgPSBjdHgucGVla19jb2RlKDMpCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJNSU5fUkVQRUFUX09ORSIsIG1pbmNvdW50LCBtYXhjb3VudCkKCiAgICAgICAgaWYgY3R4LnJlbWFpbmluZ19jaGFycygpIDwgbWluY291bnQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGlmIG1pbmNvdW50ID09IDA6CiAgICAgICAgICAgIGNvdW50ID0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvdW50ID0gc2VsZi5jb3VudF9yZXBldGl0aW9ucyhjdHgsIG1pbmNvdW50KQogICAgICAgICAgICBpZiBjb3VudCA8IG1pbmNvdW50OgogICAgICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICAgICAgY3R4LnNraXBfY2hhcihjb3VudCkKICAgICAgICBpZiBjdHgucGVla19jb2RlKGN0eC5wZWVrX2NvZGUoMSkgKyAxKSA9PSBPUENPREVTWyJzdWNjZXNzIl06CiAgICAgICAgICAgICMgdGFpbCBpcyBlbXB0eS4gIHdlJ3JlIGZpbmlzaGVkCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICBjdHguc3RhdGUubWFya3NfcHVzaCgpCiAgICAgICAgd2hpbGUgbWF4Y291bnQgPT0gTUFYUkVQRUFUIG9yIGNvdW50IDw9IG1heGNvdW50OgogICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICB5aWVsZCBUcnVlCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGlmIHNlbGYuY291bnRfcmVwZXRpdGlvbnMoY3R4LCAxKSA9PSAwOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgY3R4LnNraXBfY2hhcigxKQogICAgICAgICAgICBjb3VudCArPSAxCiAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3Bfa2VlcCgpCgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3BfZGlzY2FyZCgpCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICB5aWVsZCBUcnVlCiAgICAKICAgIGRlZiBvcF9yZXBlYXQoc2VsZiwgY3R4KToKICAgICAgICAjIGNyZWF0ZSByZXBlYXQgY29udGV4dC4gIGFsbCB0aGUgaGFyZCB3b3JrIGlzIGRvbmUgYnkgdGhlIFVOVElMCiAgICAgICAgIyBvcGVyYXRvciAoTUFYX1VOVElMLCBNSU5fVU5USUwpCiAgICAgICAgIyA8UkVQRUFUPiA8c2tpcD4gPDE9bWluPiA8Mj1tYXg+IGl0ZW0gPFVOVElMPiB0YWlsCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJSRVBFQVQiLCBjdHgucGVla19jb2RlKDIpLCBjdHgucGVla19jb2RlKDMpKQogICAgICAgIHJlcGVhdCA9IF9SZXBlYXRDb250ZXh0KGN0eCkKICAgICAgICBjdHguc3RhdGUucmVwZWF0ID0gcmVwZWF0CiAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICBjdHguc3RhdGUucmVwZWF0ID0gcmVwZWF0LnByZXZpb3VzCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZAogICAgICAgIHlpZWxkIFRydWUKCiAgICAKICAgIGRlZiBvcF9tYXhfdW50aWwoc2VsZiwgY3R4KToKICAgICAgICAjIG1heGltaXppbmcgcmVwZWF0CiAgICAgICAgIyA8UkVQRUFUPiA8c2tpcD4gPDE9bWluPiA8Mj1tYXg+IGl0ZW0gPE1BWF9VTlRJTD4gdGFpbAogICAgICAgIHJlcGVhdCA9IGN0eC5zdGF0ZS5yZXBlYXQKICAgICAgICBpZiByZXBlYXQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJJbnRlcm5hbCByZSBlcnJvcjogTUFYX1VOVElMIHdpdGhvdXQgUkVQRUFULiIpCiAgICAgICAgbWluY291bnQgPSByZXBlYXQucGVla19jb2RlKDIpCiAgICAgICAgbWF4Y291bnQgPSByZXBlYXQucGVla19jb2RlKDMpCiAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBjb3VudCA9IHJlcGVhdC5jb3VudCArIDEKICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIk1BWF9VTlRJTCIsIGNvdW50KQoKICAgICAgICBpZiBjb3VudCA8IG1pbmNvdW50OgogICAgICAgICAgICAjIG5vdCBlbm91Z2ggbWF0Y2hlcwogICAgICAgICAgICByZXBlYXQuY291bnQgPSBjb3VudAogICAgICAgICAgICBjaGlsZF9jb250ZXh0ID0gcmVwZWF0LnB1c2hfbmV3X2NvbnRleHQoNCkKICAgICAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZAogICAgICAgICAgICBpZiBub3QgY3R4Lmhhc19tYXRjaGVkOgogICAgICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQgLSAxCiAgICAgICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgICAgICB5aWVsZCBUcnVlCgogICAgICAgIGlmIChjb3VudCA8IG1heGNvdW50IG9yIG1heGNvdW50ID09IE1BWFJFUEVBVCkgXAogICAgICAgICAgICAgICAgICAgICAgYW5kIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gIT0gcmVwZWF0Lmxhc3RfcG9zaXRpb246CiAgICAgICAgICAgICMgd2UgbWF5IGhhdmUgZW5vdWdoIG1hdGNoZXMsIGlmIHdlIGNhbiBtYXRjaCBhbm90aGVyIGl0ZW0sIGRvIHNvCiAgICAgICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50CiAgICAgICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wdXNoKCkKICAgICAgICAgICAgc2F2ZV9sYXN0X3Bvc2l0aW9uID0gcmVwZWF0Lmxhc3RfcG9zaXRpb24gIyB6ZXJvLXdpZHRoIG1hdGNoIHByb3RlY3Rpb24KICAgICAgICAgICAgcmVwZWF0Lmxhc3RfcG9zaXRpb24gPSBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgICAgIGNoaWxkX2NvbnRleHQgPSByZXBlYXQucHVzaF9uZXdfY29udGV4dCg0KQogICAgICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgICAgICByZXBlYXQubGFzdF9wb3NpdGlvbiA9IHNhdmVfbGFzdF9wb3NpdGlvbgogICAgICAgICAgICBpZiBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkOgogICAgICAgICAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcF9kaXNjYXJkKCkKICAgICAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgICAgIHlpZWxkIFRydWUKICAgICAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3BvcCgpCiAgICAgICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50IC0gMQogICAgICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgoKICAgICAgICAjIGNhbm5vdCBtYXRjaCBtb3JlIHJlcGVhdGVkIGl0ZW1zIGhlcmUuICBtYWtlIHN1cmUgdGhlIHRhaWwgbWF0Y2hlcwogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQucHJldmlvdXMKICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoMSkKICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQKICAgICAgICBpZiBub3QgY3R4Lmhhc19tYXRjaGVkOgogICAgICAgICAgICBjdHguc3RhdGUucmVwZWF0ID0gcmVwZWF0CiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgeWllbGQgVHJ1ZQogICAgCiAgICBkZWYgb3BfbWluX3VudGlsKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtaW5pbWl6aW5nIHJlcGVhdAogICAgICAgICMgPFJFUEVBVD4gPHNraXA+IDwxPW1pbj4gPDI9bWF4PiBpdGVtIDxNSU5fVU5USUw+IHRhaWwKICAgICAgICByZXBlYXQgPSBjdHguc3RhdGUucmVwZWF0CiAgICAgICAgaWYgcmVwZWF0IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiSW50ZXJuYWwgcmUgZXJyb3I6IE1JTl9VTlRJTCB3aXRob3V0IFJFUEVBVC4iKQogICAgICAgIG1pbmNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgyKQogICAgICAgIG1heGNvdW50ID0gcmVwZWF0LnBlZWtfY29kZSgzKQogICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgY291bnQgPSByZXBlYXQuY291bnQgKyAxCiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJNSU5fVU5USUwiLCBjb3VudCkKCiAgICAgICAgaWYgY291bnQgPCBtaW5jb3VudDoKICAgICAgICAgICAgIyBub3QgZW5vdWdoIG1hdGNoZXMKICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQKICAgICAgICAgICAgY2hpbGRfY29udGV4dCA9IHJlcGVhdC5wdXNoX25ld19jb250ZXh0KDQpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQKICAgICAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50IC0gMQogICAgICAgICAgICAgICAgY3R4LnN0YXRlLnN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICAgICAgeWllbGQgVHJ1ZQoKICAgICAgICAjIHNlZSBpZiB0aGUgdGFpbCBtYXRjaGVzCiAgICAgICAgY3R4LnN0YXRlLm1hcmtzX3B1c2goKQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQucHJldmlvdXMKICAgICAgICBjaGlsZF9jb250ZXh0ID0gY3R4LnB1c2hfbmV3X2NvbnRleHQoMSkKICAgICAgICB5aWVsZCBGYWxzZQogICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IFRydWUKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIGN0eC5zdGF0ZS5yZXBlYXQgPSByZXBlYXQKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbgogICAgICAgIGN0eC5zdGF0ZS5tYXJrc19wb3AoKQoKICAgICAgICAjIG1hdGNoIG1vcmUgdW50aWwgdGFpbCBtYXRjaGVzCiAgICAgICAgaWYgY291bnQgPj0gbWF4Y291bnQgYW5kIG1heGNvdW50ICE9IE1BWFJFUEVBVDoKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIHJlcGVhdC5jb3VudCA9IGNvdW50CiAgICAgICAgY2hpbGRfY29udGV4dCA9IHJlcGVhdC5wdXNoX25ld19jb250ZXh0KDQpCiAgICAgICAgeWllbGQgRmFsc2UKICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBjaGlsZF9jb250ZXh0Lmhhc19tYXRjaGVkCiAgICAgICAgaWYgbm90IGN0eC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgcmVwZWF0LmNvdW50ID0gY291bnQgLSAxCiAgICAgICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uCiAgICAgICAgeWllbGQgVHJ1ZQogICAgJycnCgogICAgZGVmIGdlbmVyYWxfb3BfZ3JvdXByZWYoc2VsZiwgY3R4LCBkZWNvcmF0ZT1sYW1iZGEgeDogeCk6CiAgICAgICAgZ3JvdXBfc3RhcnQsIGdyb3VwX2VuZCA9IGN0eC5zdGF0ZS5nZXRfbWFya3MoY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBpZiBncm91cF9zdGFydCBpcyBOb25lIG9yIGdyb3VwX2VuZCBpcyBOb25lIG9yIGdyb3VwX2VuZCA8IGdyb3VwX3N0YXJ0OgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHdoaWxlIGdyb3VwX3N0YXJ0IDwgZ3JvdXBfZW5kOgogICAgICAgICAgICBpZiBjdHguYXRfZW5kKCkgb3IgZGVjb3JhdGUob3JkKGN0eC5wZWVrX2NoYXIoKSkpIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhPSBkZWNvcmF0ZShvcmQoY3R4LnN0YXRlLnN0cmluZ1tncm91cF9zdGFydF0pKToKICAgICAgICAgICAgICAgIGN0eC5oYXNfbWF0Y2hlZCA9IEZhbHNlCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICBncm91cF9zdGFydCArPSAxCiAgICAgICAgICAgIGN0eC5za2lwX2NoYXIoMSkKICAgICAgICBjdHguc2tpcF9jb2RlKDIpCiAgICAgICAgcmV0dXJuIFRydWUKICAgIAogICAgZGVmIG9wX2dyb3VwcmVmKHNlbGYsIGN0eCk6CiAgICAgICAgIyBtYXRjaCBiYWNrcmVmZXJlbmNlCiAgICAgICAgIyA8R1JPVVBSRUY+IDx6ZXJvLWJhc2VkIGdyb3VwIGluZGV4PgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiR1JPVVBSRUYiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIHJldHVybiBzZWxmLmdlbmVyYWxfb3BfZ3JvdXByZWYoY3R4KQoKICAgIGRlZiBvcF9ncm91cHJlZl9pZ25vcmUoc2VsZiwgY3R4KToKICAgICAgICAjIG1hdGNoIGJhY2tyZWZlcmVuY2UgY2FzZS1pbnNlbnNpdGl2ZQogICAgICAgICMgPEdST1VQUkVGX0lHTk9SRT4gPHplcm8tYmFzZWQgZ3JvdXAgaW5kZXg+CiAgICAgICAgI3NlbGYuX2xvZyhjdHgsICJHUk9VUFJFRl9JR05PUkUiLCBjdHgucGVla19jb2RlKDEpKQogICAgICAgIHJldHVybiBzZWxmLmdlbmVyYWxfb3BfZ3JvdXByZWYoY3R4LCBjdHguc3RhdGUubG93ZXIpCgogICAgZGVmIG9wX2dyb3VwcmVmX2V4aXN0cyhzZWxmLCBjdHgpOgogICAgICAgICMgPEdST1VQUkVGX0VYSVNUUz4gPGdyb3VwPiA8c2tpcD4gY29kZXllcyA8SlVNUD4gY29kZW5vIC4uLgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiR1JPVVBSRUZfRVhJU1RTIiwgY3R4LnBlZWtfY29kZSgxKSkKICAgICAgICBncm91cF9zdGFydCwgZ3JvdXBfZW5kID0gY3R4LnN0YXRlLmdldF9tYXJrcyhjdHgucGVla19jb2RlKDEpKQogICAgICAgIGlmIGdyb3VwX3N0YXJ0IGlzIE5vbmUgb3IgZ3JvdXBfZW5kIGlzIE5vbmUgb3IgZ3JvdXBfZW5kIDwgZ3JvdXBfc3RhcnQ6CiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoY3R4LnBlZWtfY29kZSgyKSArIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3R4LnNraXBfY29kZSgzKQogICAgICAgIHJldHVybiBUcnVlCgogICAgI2Z1bmN0aW9uIGJlbG93IGNhdXNlcyBUeXBlRXJyb3I6IHNjb3BlLmNvbnRleHQudHJlZVswXS5hZGRfZ2VuZXJhdG9yX2RlY2xhcmF0aW9uIGlzIG5vdCBhIGZ1bmN0aW9uCiAgICAKICAgIGRlZiBvcF9hc3NlcnQoc2VsZiwgY3R4KToKICAgICAgICAjIGFzc2VydCBzdWJwYXR0ZXJuCiAgICAgICAgIyA8QVNTRVJUPiA8c2tpcD4gPGJhY2s+IDxwYXR0ZXJuPgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiQVNTRVJUIiwgY3R4LnBlZWtfY29kZSgyKSkKICAgICAgICBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uID0gY3R4LnN0cmluZ19wb3NpdGlvbiAtIGN0eC5wZWVrX2NvZGUoMikKICAgICAgICBpZiBjdHguc3RhdGUuc3RyaW5nX3Bvc2l0aW9uIDwgMDoKICAgICAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gRmFsc2UKICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIGNoaWxkX2NvbnRleHQgPSBjdHgucHVzaF9uZXdfY29udGV4dCgzKQogICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgaWYgY2hpbGRfY29udGV4dC5oYXNfbWF0Y2hlZDoKICAgICAgICAgICAgY3R4LnNraXBfY29kZShjdHgucGVla19jb2RlKDEpICsgMSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgIHlpZWxkIFRydWUKICAgIAoKICAgICNmdW5jdGlvbiBiZWxvdyBjYXVzZXMgVHlwZUVycm9yOiBzY29wZS5jb250ZXh0LnRyZWVbMF0uYWRkX2dlbmVyYXRvcl9kZWNsYXJhdGlvbiBpcyBub3QgYSBmdW5jdGlvbgogICAgJycnCiAgICBkZWYgb3BfYXNzZXJ0X25vdChzZWxmLCBjdHgpOgogICAgICAgICMgYXNzZXJ0IG5vdCBzdWJwYXR0ZXJuCiAgICAgICAgIyA8QVNTRVJUX05PVD4gPHNraXA+IDxiYWNrPiA8cGF0dGVybj4KICAgICAgICAjc2VsZi5fbG9nKGN0eCwgIkFTU0VSVF9OT1QiLCBjdHgucGVla19jb2RlKDIpKQogICAgICAgIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPSBjdHguc3RyaW5nX3Bvc2l0aW9uIC0gY3R4LnBlZWtfY29kZSgyKQogICAgICAgIGlmIGN0eC5zdGF0ZS5zdHJpbmdfcG9zaXRpb24gPj0gMDoKICAgICAgICAgICAgY2hpbGRfY29udGV4dCA9IGN0eC5wdXNoX25ld19jb250ZXh0KDMpCiAgICAgICAgICAgIHlpZWxkIEZhbHNlCiAgICAgICAgICAgIGlmIGNoaWxkX2NvbnRleHQuaGFzX21hdGNoZWQ6CiAgICAgICAgICAgICAgICBjdHguaGFzX21hdGNoZWQgPSBGYWxzZQogICAgICAgICAgICAgICAgeWllbGQgVHJ1ZQogICAgICAgIGN0eC5za2lwX2NvZGUoY3R4LnBlZWtfY29kZSgxKSArIDEpCiAgICAgICAgeWllbGQgVHJ1ZQogICAgJycnCiAgICBkZWYgdW5rbm93bihzZWxmLCBjdHgpOgogICAgICAgICNzZWxmLl9sb2coY3R4LCAiVU5LTk9XTiIsIGN0eC5wZWVrX2NvZGUoKSkKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkludGVybmFsIHJlIGVycm9yLiBVbmtub3duIG9wY29kZTogJXMiICUgY3R4LnBlZWtfY29kZSgpKQogICAgICAgICAgICAgICAgCiAgICBkZWYgY2hlY2tfY2hhcnNldChzZWxmLCBjdHgsIGNoYXIpOgogICAgICAgICIiIkNoZWNrcyB3aGV0aGVyIGEgY2hhcmFjdGVyIG1hdGNoZXMgc2V0IG9mIGFyYml0cmFyeSBsZW5ndGguIEFzc3VtZXMKICAgICAgICB0aGUgY29kZSBwb2ludGVyIGlzIGF0IHRoZSBmaXJzdCBtZW1iZXIgb2YgdGhlIHNldC4iIiIKICAgICAgICBzZWxmLnNldF9kaXNwYXRjaGVyLnJlc2V0KGNoYXIpCiAgICAgICAgc2F2ZV9wb3NpdGlvbiA9IGN0eC5jb2RlX3Bvc2l0aW9uCiAgICAgICAgcmVzdWx0ID0gTm9uZQogICAgICAgIHdoaWxlIHJlc3VsdCBpcyBOb25lOgogICAgICAgICAgICByZXN1bHQgPSBzZWxmLnNldF9kaXNwYXRjaGVyLmRpc3BhdGNoKGN0eC5wZWVrX2NvZGUoKSwgY3R4KQogICAgICAgIGN0eC5jb2RlX3Bvc2l0aW9uID0gc2F2ZV9wb3NpdGlvbgogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgY291bnRfcmVwZXRpdGlvbnMoc2VsZiwgY3R4LCBtYXhjb3VudCk6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2luZ2xlIGl0ZW0sIHN0YXJ0aW5nIGZyb20gdGhlCiAgICAgICAgY3VycmVudCBzdHJpbmcgcG9zaXRpb24uIFRoZSBjb2RlIHBvaW50ZXIgaXMgZXhwZWN0ZWQgdG8gcG9pbnQgdG8gYQogICAgICAgIFJFUEVBVF9PTkUgb3BlcmF0aW9uICh3aXRoIHRoZSByZXBlYXRlZCA0IGFoZWFkKS4iIiIKICAgICAgICBjb3VudCA9IDAKICAgICAgICByZWFsX21heGNvdW50ID0gY3R4LnN0YXRlLmVuZCAtIGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBpZiBtYXhjb3VudCA8IHJlYWxfbWF4Y291bnQgYW5kIG1heGNvdW50ICE9IE1BWFJFUEVBVDoKICAgICAgICAgICAgcmVhbF9tYXhjb3VudCA9IG1heGNvdW50CiAgICAgICAgIyBYWFggY291bGQgc3BlY2lhbCBjYXNlIGV2ZXJ5IHNpbmdsZSBjaGFyYWN0ZXIgcGF0dGVybiBoZXJlLCBhcyBpbiBDLgogICAgICAgICMgVGhpcyBpcyBhIGdlbmVyYWwgc29sdXRpb24sIGEgYml0IGhhY2tpc2NoLCBidXQgd29ya3MgYW5kIHNob3VsZCBiZQogICAgICAgICMgZWZmaWNpZW50LgogICAgICAgIGNvZGVfcG9zaXRpb24gPSBjdHguY29kZV9wb3NpdGlvbgogICAgICAgIHN0cmluZ19wb3NpdGlvbiA9IGN0eC5zdHJpbmdfcG9zaXRpb24KICAgICAgICBjdHguc2tpcF9jb2RlKDQpCiAgICAgICAgcmVzZXRfcG9zaXRpb24gPSBjdHguY29kZV9wb3NpdGlvbgogICAgICAgIHdoaWxlIGNvdW50IDwgcmVhbF9tYXhjb3VudDoKICAgICAgICAgICAgIyB0aGlzIHdvcmtzIGJlY2F1c2UgdGhlIHNpbmdsZSBjaGFyYWN0ZXIgcGF0dGVybiBpcyBmb2xsb3dlZCBieQogICAgICAgICAgICAjIGEgc3VjY2VzcyBvcGNvZGUKICAgICAgICAgICAgY3R4LmNvZGVfcG9zaXRpb24gPSByZXNldF9wb3NpdGlvbgogICAgICAgICAgICBzZWxmLmRpc3BhdGNoKGN0eC5wZWVrX2NvZGUoKSwgY3R4KQogICAgICAgICAgICBpZiBjdHguaGFzX21hdGNoZWQgaXMgRmFsc2U6ICMgY291bGQgYmUgTm9uZSBhcyB3ZWxsCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBjb3VudCArPSAxCiAgICAgICAgY3R4Lmhhc19tYXRjaGVkID0gTm9uZQogICAgICAgIGN0eC5jb2RlX3Bvc2l0aW9uID0gY29kZV9wb3NpdGlvbgogICAgICAgIGN0eC5zdHJpbmdfcG9zaXRpb24gPSBzdHJpbmdfcG9zaXRpb24KICAgICAgICByZXR1cm4gY291bnQKCiAgICBkZWYgX2xvZyhzZWxmLCBjb250ZXh0LCBvcG5hbWUsICphcmdzKToKICAgICAgICBhcmdfc3RyaW5nID0gKCIlcyAiICogbGVuKGFyZ3MpKSAlIGFyZ3MKICAgICAgICBfbG9nKCJ8JXN8JXN8JXMgJXMiICUgKGNvbnRleHQucGF0dGVybl9jb2RlcywKICAgICAgICAgICAgY29udGV4dC5zdHJpbmdfcG9zaXRpb24sIG9wbmFtZSwgYXJnX3N0cmluZykpCgojX09wY29kZURpc3BhdGNoZXIuYnVpbGRfZGlzcGF0Y2hfdGFibGUoT1BDT0RFUywgIm9wXyIpCgoKY2xhc3MgX0NoYXJzZXREaXNwYXRjaGVyKF9EaXNwYXRjaGVyKToKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5jaF9kaXNwYXRjaGVyID0gX0NoY29kZURpc3BhdGNoZXIoKQoKICAgIGRlZiByZXNldChzZWxmLCBjaGFyKToKICAgICAgICBzZWxmLmNoYXIgPSBjaGFyCiAgICAgICAgc2VsZi5vayA9IFRydWUKCiAgICBkZWYgc2V0X2ZhaWx1cmUoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gbm90IHNlbGYub2sKICAgIGRlZiBzZXRfbGl0ZXJhbChzZWxmLCBjdHgpOgogICAgICAgICMgPExJVEVSQUw+IDxjb2RlPgogICAgICAgIGlmIGN0eC5wZWVrX2NvZGUoMSkgPT0gc2VsZi5jaGFyOgogICAgICAgICAgICByZXR1cm4gc2VsZi5vawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgIGRlZiBzZXRfY2F0ZWdvcnkoc2VsZiwgY3R4KToKICAgICAgICAjIDxDQVRFR09SWT4gPGNvZGU+CiAgICAgICAgaWYgc2VsZi5jaF9kaXNwYXRjaGVyLmRpc3BhdGNoKGN0eC5wZWVrX2NvZGUoMSksIGN0eCk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLm9rCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY3R4LnNraXBfY29kZSgyKQogICAgZGVmIHNldF9jaGFyc2V0KHNlbGYsIGN0eCk6CiAgICAgICAgIyA8Q0hBUlNFVD4gPGJpdG1hcD4gKDE2IGJpdHMgcGVyIGNvZGUgd29yZCkKICAgICAgICBjaGFyX2NvZGUgPSBzZWxmLmNoYXIKICAgICAgICBjdHguc2tpcF9jb2RlKDEpICMgcG9pbnQgdG8gYmVnaW5uaW5nIG9mIGJpdG1hcAogICAgICAgIGlmIENPREVTSVpFID09IDI6CiAgICAgICAgICAgIGlmIGNoYXJfY29kZSA8IDI1NiBhbmQgY3R4LnBlZWtfY29kZShjaGFyX2NvZGUgPj4gNCkgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYgKDEgPDwgKGNoYXJfY29kZSAmIDE1KSk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vawogICAgICAgICAgICBjdHguc2tpcF9jb2RlKDE2KSAjIHNraXAgYml0bWFwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgY2hhcl9jb2RlIDwgMjU2IGFuZCBjdHgucGVla19jb2RlKGNoYXJfY29kZSA+PiA1KSBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiAoMSA8PCAoY2hhcl9jb2RlICYgMzEpKToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLm9rCiAgICAgICAgICAgIGN0eC5za2lwX2NvZGUoOCkgIyBza2lwIGJpdG1hcAogICAgZGVmIHNldF9yYW5nZShzZWxmLCBjdHgpOgogICAgICAgICMgPFJBTkdFPiA8bG93ZXI+IDx1cHBlcj4KICAgICAgICBpZiBjdHgucGVla19jb2RlKDEpIDw9IHNlbGYuY2hhciA8PSBjdHgucGVla19jb2RlKDIpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5vawogICAgICAgIGN0eC5za2lwX2NvZGUoMykKICAgIGRlZiBzZXRfbmVnYXRlKHNlbGYsIGN0eCk6CiAgICAgICAgc2VsZi5vayA9IG5vdCBzZWxmLm9rCiAgICAgICAgY3R4LnNraXBfY29kZSgxKQogICAgIiIiCiAgICAjZml4bWUgYnJ5dGhvbi4gICBhcnJheSBtb2R1bGUgZG9lc24ndCBleGlzdAogICAgZGVmIHNldF9iaWdjaGFyc2V0KHNlbGYsIGN0eCk6CiAgICAgICAgIyA8QklHQ0hBUlNFVD4gPGJsb2NrY291bnQ+IDwyNTYgYmxvY2tpbmRpY2VzPiA8YmxvY2tzPgogICAgICAgIGNoYXJfY29kZSA9IHNlbGYuY2hhcgogICAgICAgIGNvdW50ID0gY3R4LnBlZWtfY29kZSgxKQogICAgICAgIGN0eC5za2lwX2NvZGUoMikKICAgICAgICBpZiBjaGFyX2NvZGUgPCA2NTUzNjoKICAgICAgICAgICAgYmxvY2tfaW5kZXggPSBjaGFyX2NvZGUgPj4gOAogICAgICAgICAgICAjIE5COiB0aGVyZSBhcmUgQ09ERVNJWkUgYmxvY2sgaW5kaWNlcyBwZXIgYnl0ZWNvZGUKICAgICAgICAgICAgYSA9IGFycmF5LmFycmF5KCJCIikKICAgICAgICAgICAgYS5mcm9tc3RyaW5nKGFycmF5LmFycmF5KENPREVTSVpFID09IDIgYW5kICJIIiBvciAiSSIsCiAgICAgICAgICAgICAgICAgICAgW2N0eC5wZWVrX2NvZGUoYmxvY2tfaW5kZXggLyBDT0RFU0laRSldKS50b3N0cmluZygpKQogICAgICAgICAgICBibG9jayA9IGFbYmxvY2tfaW5kZXggJSBDT0RFU0laRV0KICAgICAgICAgICAgY3R4LnNraXBfY29kZSgyNTYgLyBDT0RFU0laRSkgIyBza2lwIGJsb2NrIGluZGljZXMKICAgICAgICAgICAgYmxvY2tfdmFsdWUgPSBjdHgucGVla19jb2RlKGJsb2NrICogKDMyIC8gQ09ERVNJWkUpCiAgICAgICAgICAgICAgICAgICAgKyAoKGNoYXJfY29kZSAmIDI1NSkgPj4gKENPREVTSVpFID09IDIgYW5kIDQgb3IgNSkpKQogICAgICAgICAgICBpZiBibG9ja192YWx1ZSAmICgxIDw8IChjaGFyX2NvZGUgJiAoKDggKiBDT0RFU0laRSkgLSAxKSkpOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYub2sKICAgICAgICBlbHNlOgogICAgICAgICAgICBjdHguc2tpcF9jb2RlKDI1NiAvIENPREVTSVpFKSAjIHNraXAgYmxvY2sgaW5kaWNlcwogICAgICAgIGN0eC5za2lwX2NvZGUoY291bnQgKiAoMzIgLyBDT0RFU0laRSkpICMgc2tpcCBibG9ja3MKICAgICIiIgogICAgZGVmIHVua25vd24oc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gRmFsc2UKI2ZpeG1lIGJyeXRob24KI19DaGFyc2V0RGlzcGF0Y2hlci5idWlsZF9kaXNwYXRjaF90YWJsZShPUENPREVTLCAic2V0XyIpCgoKY2xhc3MgX0F0Y29kZURpc3BhdGNoZXIoX0Rpc3BhdGNoZXIpOgoKICAgIGRlZiBhdF9iZWdpbm5pbmcoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2JlZ2lubmluZygpCiAgICBhdF9iZWdpbm5pbmdfc3RyaW5nID0gYXRfYmVnaW5uaW5nCiAgICBkZWYgYXRfYmVnaW5uaW5nX2xpbmUoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2JlZ2lubmluZygpIG9yIF9pc19saW5lYnJlYWsoY3R4LnBlZWtfY2hhcigtMSkpCiAgICBkZWYgYXRfZW5kKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIChjdHgucmVtYWluaW5nX2NoYXJzKCkgPT0gMSBhbmQgY3R4LmF0X2xpbmVicmVhaygpKSBvciBjdHguYXRfZW5kKCkKICAgIGRlZiBhdF9lbmRfbGluZShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHguYXRfbGluZWJyZWFrKCkgb3IgY3R4LmF0X2VuZCgpCiAgICBkZWYgYXRfZW5kX3N0cmluZyhzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHguYXRfZW5kKCkKICAgIGRlZiBhdF9ib3VuZGFyeShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHguYXRfYm91bmRhcnkoX2lzX3dvcmQpCiAgICBkZWYgYXRfbm9uX2JvdW5kYXJ5KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBjdHguYXRfYm91bmRhcnkoX2lzX3dvcmQpCiAgICBkZWYgYXRfbG9jX2JvdW5kYXJ5KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIGN0eC5hdF9ib3VuZGFyeShfaXNfbG9jX3dvcmQpCiAgICBkZWYgYXRfbG9jX25vbl9ib3VuZGFyeShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgY3R4LmF0X2JvdW5kYXJ5KF9pc19sb2Nfd29yZCkKICAgIGRlZiBhdF91bmlfYm91bmRhcnkoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gY3R4LmF0X2JvdW5kYXJ5KF9pc191bmlfd29yZCkKICAgIGRlZiBhdF91bmlfbm9uX2JvdW5kYXJ5KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBjdHguYXRfYm91bmRhcnkoX2lzX3VuaV93b3JkKQogICAgZGVmIHVua25vd24oc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gRmFsc2UKCiNmaXhtZSBicnl0aG9uCiNfQXRjb2RlRGlzcGF0Y2hlci5idWlsZF9kaXNwYXRjaF90YWJsZShBVENPREVTLCAiIikKCgpjbGFzcyBfQ2hjb2RlRGlzcGF0Y2hlcihfRGlzcGF0Y2hlcik6CgogICAgZGVmIGNhdGVnb3J5X2RpZ2l0KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc19kaWdpdChjdHgucGVla19jaGFyKCkpCiAgICBkZWYgY2F0ZWdvcnlfbm90X2RpZ2l0KHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfZGlnaXQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X3NwYWNlKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc19zcGFjZShjdHgucGVla19jaGFyKCkpCiAgICBkZWYgY2F0ZWdvcnlfbm90X3NwYWNlKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfc3BhY2UoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X3dvcmQoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gX2lzX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X25vdF93b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfd29yZChjdHgucGVla19jaGFyKCkpCiAgICBkZWYgY2F0ZWdvcnlfbGluZWJyZWFrKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc19saW5lYnJlYWsoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X25vdF9saW5lYnJlYWsoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gbm90IF9pc19saW5lYnJlYWsoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X2xvY193b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc19sb2Nfd29yZChjdHgucGVla19jaGFyKCkpCiAgICBkZWYgY2F0ZWdvcnlfbG9jX25vdF93b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfbG9jX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X3VuaV9kaWdpdChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHgucGVla19jaGFyKCkuaXNkaWdpdCgpCiAgICBkZWYgY2F0ZWdvcnlfdW5pX25vdF9kaWdpdChzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgY3R4LnBlZWtfY2hhcigpLmlzZGlnaXQoKQogICAgZGVmIGNhdGVnb3J5X3VuaV9zcGFjZShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBjdHgucGVla19jaGFyKCkuaXNzcGFjZSgpCiAgICBkZWYgY2F0ZWdvcnlfdW5pX25vdF9zcGFjZShzZWxmLCBjdHgpOgogICAgICAgIHJldHVybiBub3QgY3R4LnBlZWtfY2hhcigpLmlzc3BhY2UoKQogICAgZGVmIGNhdGVnb3J5X3VuaV93b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIF9pc191bmlfd29yZChjdHgucGVla19jaGFyKCkpCiAgICBkZWYgY2F0ZWdvcnlfdW5pX25vdF93b3JkKHNlbGYsIGN0eCk6CiAgICAgICAgcmV0dXJuIG5vdCBfaXNfdW5pX3dvcmQoY3R4LnBlZWtfY2hhcigpKQogICAgZGVmIGNhdGVnb3J5X3VuaV9saW5lYnJlYWsoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gb3JkKGN0eC5wZWVrX2NoYXIoKSkgaW4gX3VuaV9saW5lYnJlYWtzCiAgICBkZWYgY2F0ZWdvcnlfdW5pX25vdF9saW5lYnJlYWsoc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gb3JkKGN0eC5wZWVrX2NoYXIoKSkgbm90IGluIF91bmlfbGluZWJyZWFrcwogICAgZGVmIHVua25vd24oc2VsZiwgY3R4KToKICAgICAgICByZXR1cm4gRmFsc2UKCiNmaXhtZSBicnl0aG9uCiNfQ2hjb2RlRGlzcGF0Y2hlci5idWlsZF9kaXNwYXRjaF90YWJsZShDSENPREVTLCAiIikKCgpfYXNjaWlfY2hhcl9pbmZvID0gWyAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAyLCA2LCAyLAoyLCAyLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAyLCAwLCAwLAowLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAyNSwgMjUsIDI1LCAyNSwgMjUsIDI1LCAyNSwgMjUsCjI1LCAyNSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsCjI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAwLCAwLAowLCAwLCAxNiwgMCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LAoyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAwLCAwLCAwLCAwLCAwIF0KCmRlZiBfaXNfZGlnaXQoY2hhcik6CiAgICBjb2RlID0gb3JkKGNoYXIpCiAgICByZXR1cm4gY29kZSA8IDEyOCBhbmQgX2FzY2lpX2NoYXJfaW5mb1tjb2RlXSAmIDEKCmRlZiBfaXNfc3BhY2UoY2hhcik6CiAgICBjb2RlID0gb3JkKGNoYXIpCiAgICByZXR1cm4gY29kZSA8IDEyOCBhbmQgX2FzY2lpX2NoYXJfaW5mb1tjb2RlXSAmIDIKCmRlZiBfaXNfd29yZChjaGFyKToKICAgICMgTkI6IG5vbi1BU0NJSSBjaGFycyBhcmVuJ3Qgd29yZHMgYWNjb3JkaW5nIHRvIF9zcmUuYwogICAgY29kZSA9IG9yZChjaGFyKQogICAgcmV0dXJuIGNvZGUgPCAxMjggYW5kIF9hc2NpaV9jaGFyX2luZm9bY29kZV0gJiAxNgoKZGVmIF9pc19sb2Nfd29yZChjaGFyKToKICAgIHJldHVybiAobm90IChvcmQoY2hhcikgJiB+MjU1KSBhbmQgY2hhci5pc2FsbnVtKCkpIG9yIGNoYXIgPT0gJ18nCgpkZWYgX2lzX3VuaV93b3JkKGNoYXIpOgogICAgcmV0dXJuIHVuaWNocihvcmQoY2hhcikpLmlzYWxudW0oKSBvciBjaGFyID09ICdfJwoKZGVmIF9pc19saW5lYnJlYWsoY2hhcik6CiAgICByZXR1cm4gY2hhciA9PSAiXG4iCgojIFN0YXRpYyBsaXN0IG9mIGFsbCB1bmljb2RlIGNvZGVwb2ludHMgcmVwb3J0ZWQgYnkgUHlfVU5JQ09ERV9JU0xJTkVCUkVBSy4KX3VuaV9saW5lYnJlYWtzID0gWzEwLCAxMywgMjgsIDI5LCAzMCwgMTMzLCA4MjMyLCA4MjMzXQoKZGVmIF9sb2cobWVzc2FnZSk6CiAgICBpZiAwOgogICAgICAgIHByaW50KG1lc3NhZ2UpCg==',
'/Lib/random.py':'IiIiUmFuZG9tIHZhcmlhYmxlIGdlbmVyYXRvcnMuCgogICAgaW50ZWdlcnMKICAgIC0tLS0tLS0tCiAgICAgICAgICAgdW5pZm9ybSB3aXRoaW4gcmFuZ2UKCiAgICBzZXF1ZW5jZXMKICAgIC0tLS0tLS0tLQogICAgICAgICAgIHBpY2sgcmFuZG9tIGVsZW1lbnQKICAgICAgICAgICBwaWNrIHJhbmRvbSBzYW1wbGUKICAgICAgICAgICBnZW5lcmF0ZSByYW5kb20gcGVybXV0YXRpb24KCiAgICBkaXN0cmlidXRpb25zIG9uIHRoZSByZWFsIGxpbmU6CiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICB1bmlmb3JtCiAgICAgICAgICAgdHJpYW5ndWxhcgogICAgICAgICAgIG5vcm1hbCAoR2F1c3NpYW4pCiAgICAgICAgICAgbG9nbm9ybWFsCiAgICAgICAgICAgbmVnYXRpdmUgZXhwb25lbnRpYWwKICAgICAgICAgICBnYW1tYQogICAgICAgICAgIGJldGEKICAgICAgICAgICBwYXJldG8KICAgICAgICAgICBXZWlidWxsCgogICAgZGlzdHJpYnV0aW9ucyBvbiB0aGUgY2lyY2xlIChhbmdsZXMgMCB0byAycGkpCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICBjaXJjdWxhciB1bmlmb3JtCiAgICAgICAgICAgdm9uIE1pc2VzCgpHZW5lcmFsIG5vdGVzIG9uIHRoZSB1bmRlcmx5aW5nIE1lcnNlbm5lIFR3aXN0ZXIgY29yZSBnZW5lcmF0b3I6CgoqIFRoZSBwZXJpb2QgaXMgMioqMTk5MzctMS4KKiBJdCBpcyBvbmUgb2YgdGhlIG1vc3QgZXh0ZW5zaXZlbHkgdGVzdGVkIGdlbmVyYXRvcnMgaW4gZXhpc3RlbmNlLgoqIFRoZSByYW5kb20oKSBtZXRob2QgaXMgaW1wbGVtZW50ZWQgaW4gQywgZXhlY3V0ZXMgaW4gYSBzaW5nbGUgUHl0aG9uIHN0ZXAsCiAgYW5kIGlzLCB0aGVyZWZvcmUsIHRocmVhZHNhZmUuCgoiIiIKCmZyb20gd2FybmluZ3MgaW1wb3J0IHdhcm4gYXMgX3dhcm4KZnJvbSB0eXBlcyBpbXBvcnQgTWV0aG9kVHlwZSBhcyBfTWV0aG9kVHlwZSwgQnVpbHRpbk1ldGhvZFR5cGUgYXMgX0J1aWx0aW5NZXRob2RUeXBlCmZyb20gbWF0aCBpbXBvcnQgbG9nIGFzIF9sb2csIGV4cCBhcyBfZXhwLCBwaSBhcyBfcGksIGUgYXMgX2UsIGNlaWwgYXMgX2NlaWwKZnJvbSBtYXRoIGltcG9ydCBzcXJ0IGFzIF9zcXJ0LCBhY29zIGFzIF9hY29zLCBjb3MgYXMgX2Nvcywgc2luIGFzIF9zaW4KZnJvbSBvcyBpbXBvcnQgdXJhbmRvbSBhcyBfdXJhbmRvbQpmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBTZXQgYXMgX1NldCwgU2VxdWVuY2UgYXMgX1NlcXVlbmNlCmZyb20gaGFzaGxpYiBpbXBvcnQgc2hhNTEyIGFzIF9zaGE1MTIKCl9fYWxsX18gPSBbIlJhbmRvbSIsInNlZWQiLCJyYW5kb20iLCJ1bmlmb3JtIiwicmFuZGludCIsImNob2ljZSIsInNhbXBsZSIsCiAgICAgICAgICAgInJhbmRyYW5nZSIsInNodWZmbGUiLCJub3JtYWx2YXJpYXRlIiwibG9nbm9ybXZhcmlhdGUiLAogICAgICAgICAgICJleHBvdmFyaWF0ZSIsInZvbm1pc2VzdmFyaWF0ZSIsImdhbW1hdmFyaWF0ZSIsInRyaWFuZ3VsYXIiLAogICAgICAgICAgICJnYXVzcyIsImJldGF2YXJpYXRlIiwicGFyZXRvdmFyaWF0ZSIsIndlaWJ1bGx2YXJpYXRlIiwKICAgICAgICAgICAiZ2V0c3RhdGUiLCJzZXRzdGF0ZSIsICJnZXRyYW5kYml0cyIsCiAgICAgICAgICAgIlN5c3RlbVJhbmRvbSJdCgpOVl9NQUdJQ0NPTlNUID0gNCAqIF9leHAoLTAuNSkvX3NxcnQoMi4wKQpUV09QSSA9IDIuMCpfcGkKTE9HNCA9IF9sb2coNC4wKQpTR19NQUdJQ0NPTlNUID0gMS4wICsgX2xvZyg0LjUpCkJQRiA9IDUzICAgICAgICAjIE51bWJlciBvZiBiaXRzIGluIGEgZmxvYXQKUkVDSVBfQlBGID0gMioqLUJQRgoKCiMgVHJhbnNsYXRlZCBieSBHdWlkbyB2YW4gUm9zc3VtIGZyb20gQyBzb3VyY2UgcHJvdmlkZWQgYnkKIyBBZHJpYW4gQmFkZGVsZXkuICBBZGFwdGVkIGJ5IFJheW1vbmQgSGV0dGluZ2VyIGZvciB1c2Ugd2l0aAojIHRoZSBNZXJzZW5uZSBUd2lzdGVyICBhbmQgb3MudXJhbmRvbSgpIGNvcmUgZ2VuZXJhdG9ycy4KCmltcG9ydCBfcmFuZG9tCgpjbGFzcyBSYW5kb20oX3JhbmRvbS5SYW5kb20pOgogICAgIiIiUmFuZG9tIG51bWJlciBnZW5lcmF0b3IgYmFzZSBjbGFzcyB1c2VkIGJ5IGJvdW5kIG1vZHVsZSBmdW5jdGlvbnMuCgogICAgVXNlZCB0byBpbnN0YW50aWF0ZSBpbnN0YW5jZXMgb2YgUmFuZG9tIHRvIGdldCBnZW5lcmF0b3JzIHRoYXQgZG9uJ3QKICAgIHNoYXJlIHN0YXRlLgoKICAgIENsYXNzIFJhbmRvbSBjYW4gYWxzbyBiZSBzdWJjbGFzc2VkIGlmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBiYXNpYwogICAgZ2VuZXJhdG9yIG9mIHlvdXIgb3duIGRldmlzaW5nOiBpbiB0aGF0IGNhc2UsIG92ZXJyaWRlIHRoZSBmb2xsb3dpbmcKICAgIG1ldGhvZHM6ICByYW5kb20oKSwgc2VlZCgpLCBnZXRzdGF0ZSgpLCBhbmQgc2V0c3RhdGUoKS4KICAgIE9wdGlvbmFsbHksIGltcGxlbWVudCBhIGdldHJhbmRiaXRzKCkgbWV0aG9kIHNvIHRoYXQgcmFuZHJhbmdlKCkKICAgIGNhbiBjb3ZlciBhcmJpdHJhcmlseSBsYXJnZSByYW5nZXMuCgogICAgIiIiCgogICAgVkVSU0lPTiA9IDMgICAgICMgdXNlZCBieSBnZXRzdGF0ZS9zZXRzdGF0ZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB4PU5vbmUpOgogICAgICAgICIiIkluaXRpYWxpemUgYW4gaW5zdGFuY2UuCgogICAgICAgIE9wdGlvbmFsIGFyZ3VtZW50IHggY29udHJvbHMgc2VlZGluZywgYXMgZm9yIFJhbmRvbS5zZWVkKCkuCiAgICAgICAgIiIiCgogICAgICAgIHNlbGYuc2VlZCh4KQogICAgICAgIHNlbGYuZ2F1c3NfbmV4dCA9IE5vbmUKCiAgICBkZWYgc2VlZChzZWxmLCBhPU5vbmUsIHZlcnNpb249Mik6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBpbnRlcm5hbCBzdGF0ZSBmcm9tIGhhc2hhYmxlIG9iamVjdC4KCiAgICAgICAgTm9uZSBvciBubyBhcmd1bWVudCBzZWVkcyBmcm9tIGN1cnJlbnQgdGltZSBvciBmcm9tIGFuIG9wZXJhdGluZwogICAgICAgIHN5c3RlbSBzcGVjaWZpYyByYW5kb21uZXNzIHNvdXJjZSBpZiBhdmFpbGFibGUuCgogICAgICAgIEZvciB2ZXJzaW9uIDIgKHRoZSBkZWZhdWx0KSwgYWxsIG9mIHRoZSBiaXRzIGFyZSB1c2VkIGlmICphKiBpcyBhIHN0ciwKICAgICAgICBieXRlcywgb3IgYnl0ZWFycmF5LiAgRm9yIHZlcnNpb24gMSwgdGhlIGhhc2goKSBvZiAqYSogaXMgdXNlZCBpbnN0ZWFkLgoKICAgICAgICBJZiAqYSogaXMgYW4gaW50LCBhbGwgYml0cyBhcmUgdXNlZC4KCiAgICAgICAgIiIiCgogICAgICAgIGlmIGEgaXMgTm9uZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYSA9IGludC5mcm9tX2J5dGVzKF91cmFuZG9tKDMyKSwgJ2JpZycpCiAgICAgICAgICAgIGV4Y2VwdCBOb3RJbXBsZW1lbnRlZEVycm9yOgogICAgICAgICAgICAgICAgaW1wb3J0IHRpbWUKICAgICAgICAgICAgICAgIGEgPSBpbnQodGltZS50aW1lKCkgKiAyNTYpICMgdXNlIGZyYWN0aW9uYWwgc2Vjb25kcwoKICAgICAgICBpZiB2ZXJzaW9uID09IDI6CiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYSwgKHN0ciwgYnl0ZXMsIGJ5dGVhcnJheSkpOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShhLCBzdHIpOgogICAgICAgICAgICAgICAgICAgIGEgPSBhLmVuY29kZSgpCiAgICAgICAgICAgICAgICBhICs9IF9zaGE1MTIoYSkuZGlnZXN0KCkKICAgICAgICAgICAgICAgIGEgPSBpbnQuZnJvbV9ieXRlcyhhLCAnYmlnJykKCiAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAjc3VwZXIoKS5zZWVkKGEpCiAgICAgICAgX3JhbmRvbS5SYW5kb20uc2VlZChzZWxmLCBhKQogICAgICAgIHNlbGYuZ2F1c3NfbmV4dCA9IE5vbmUKCiAgICBkZWYgZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIGludGVybmFsIHN0YXRlOyBjYW4gYmUgcGFzc2VkIHRvIHNldHN0YXRlKCkgbGF0ZXIuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuVkVSU0lPTiwgc3VwZXIoKS5nZXRzdGF0ZSgpLCBzZWxmLmdhdXNzX25leHQKCiAgICBkZWYgc2V0c3RhdGUoc2VsZiwgc3RhdGUpOgogICAgICAgICIiIlJlc3RvcmUgaW50ZXJuYWwgc3RhdGUgZnJvbSBvYmplY3QgcmV0dXJuZWQgYnkgZ2V0c3RhdGUoKS4iIiIKICAgICAgICB2ZXJzaW9uID0gc3RhdGVbMF0KICAgICAgICBpZiB2ZXJzaW9uID09IDM6CiAgICAgICAgICAgIHZlcnNpb24sIGludGVybmFsc3RhdGUsIHNlbGYuZ2F1c3NfbmV4dCA9IHN0YXRlCiAgICAgICAgICAgIHN1cGVyKCkuc2V0c3RhdGUoaW50ZXJuYWxzdGF0ZSkKICAgICAgICBlbGlmIHZlcnNpb24gPT0gMjoKICAgICAgICAgICAgdmVyc2lvbiwgaW50ZXJuYWxzdGF0ZSwgc2VsZi5nYXVzc19uZXh0ID0gc3RhdGUKICAgICAgICAgICAgIyBJbiB2ZXJzaW9uIDIsIHRoZSBzdGF0ZSB3YXMgc2F2ZWQgYXMgc2lnbmVkIGludHMsIHdoaWNoIGNhdXNlcwogICAgICAgICAgICAjICAgaW5jb25zaXN0ZW5jaWVzIGJldHdlZW4gMzIvNjQtYml0IHN5c3RlbXMuIFRoZSBzdGF0ZSBpcwogICAgICAgICAgICAjICAgcmVhbGx5IHVuc2lnbmVkIDMyLWJpdCBpbnRzLCBzbyB3ZSBjb252ZXJ0IG5lZ2F0aXZlIGludHMgZnJvbQogICAgICAgICAgICAjICAgdmVyc2lvbiAyIHRvIHBvc2l0aXZlIGxvbmdzIGZvciB2ZXJzaW9uIDMuCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGludGVybmFsc3RhdGUgPSB0dXBsZSh4ICUgKDIqKjMyKSBmb3IgeCBpbiBpbnRlcm5hbHN0YXRlKQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcihlKQogICAgICAgICAgICAgICAgI3JhaXNlIFR5cGVFcnJvciBmcm9tIGUKICAgICAgICAgICAgc3VwZXIoKS5zZXRzdGF0ZShpbnRlcm5hbHN0YXRlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInN0YXRlIHdpdGggdmVyc2lvbiAlcyBwYXNzZWQgdG8gIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICJSYW5kb20uc2V0c3RhdGUoKSBvZiB2ZXJzaW9uICVzIiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZlcnNpb24sIHNlbGYuVkVSU0lPTikpCgojIyAtLS0tIE1ldGhvZHMgYmVsb3cgdGhpcyBwb2ludCBkbyBub3QgbmVlZCB0byBiZSBvdmVycmlkZGVuIHdoZW4KIyMgLS0tLSBzdWJjbGFzc2luZyBmb3IgdGhlIHB1cnBvc2Ugb2YgdXNpbmcgYSBkaWZmZXJlbnQgY29yZSBnZW5lcmF0b3IuCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBwaWNrbGUgc3VwcG9ydCAgLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfX2dldHN0YXRlX18oc2VsZik6ICMgZm9yIHBpY2tsZQogICAgICAgIHJldHVybiBzZWxmLmdldHN0YXRlKCkKCiAgICBkZWYgX19zZXRzdGF0ZV9fKHNlbGYsIHN0YXRlKTogICMgZm9yIHBpY2tsZQogICAgICAgIHNlbGYuc2V0c3RhdGUoc3RhdGUpCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fLCAoKSwgc2VsZi5nZXRzdGF0ZSgpCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBpbnRlZ2VyIG1ldGhvZHMgIC0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgcmFuZHJhbmdlKHNlbGYsIHN0YXJ0LCBzdG9wPU5vbmUsIHN0ZXA9MSwgaW50PWludCk6CiAgICAgICAgIiIiQ2hvb3NlIGEgcmFuZG9tIGl0ZW0gZnJvbSByYW5nZShzdGFydCwgc3RvcFssIHN0ZXBdKS4KCiAgICAgICAgVGhpcyBmaXhlcyB0aGUgcHJvYmxlbSB3aXRoIHJhbmRpbnQoKSB3aGljaCBpbmNsdWRlcyB0aGUKICAgICAgICBlbmRwb2ludDsgaW4gUHl0aG9uIHRoaXMgaXMgdXN1YWxseSBub3Qgd2hhdCB5b3Ugd2FudC4KCiAgICAgICAgRG8gbm90IHN1cHBseSB0aGUgJ2ludCcgYXJndW1lbnQuCiAgICAgICAgIiIiCgogICAgICAgICMgVGhpcyBjb2RlIGlzIGEgYml0IG1lc3N5IHRvIG1ha2UgaXQgZmFzdCBmb3IgdGhlCiAgICAgICAgIyBjb21tb24gY2FzZSB3aGlsZSBzdGlsbCBkb2luZyBhZGVxdWF0ZSBlcnJvciBjaGVja2luZy4KICAgICAgICBpc3RhcnQgPSBpbnQoc3RhcnQpCiAgICAgICAgaWYgaXN0YXJ0ICE9IHN0YXJ0OgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJub24taW50ZWdlciBhcmcgMSBmb3IgcmFuZHJhbmdlKCkiKQogICAgICAgIGlmIHN0b3AgaXMgTm9uZToKICAgICAgICAgICAgaWYgaXN0YXJ0ID4gMDoKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9yYW5kYmVsb3coaXN0YXJ0KQogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJlbXB0eSByYW5nZSBmb3IgcmFuZHJhbmdlKCkiKQoKICAgICAgICAjIHN0b3AgYXJndW1lbnQgc3VwcGxpZWQuCiAgICAgICAgaXN0b3AgPSBpbnQoc3RvcCkKICAgICAgICBpZiBpc3RvcCAhPSBzdG9wOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJub24taW50ZWdlciBzdG9wIGZvciByYW5kcmFuZ2UoKSIpCiAgICAgICAgd2lkdGggPSBpc3RvcCAtIGlzdGFydAogICAgICAgIGlmIHN0ZXAgPT0gMSBhbmQgd2lkdGggPiAwOgogICAgICAgICAgICByZXR1cm4gaXN0YXJ0ICsgc2VsZi5fcmFuZGJlbG93KHdpZHRoKQogICAgICAgIGlmIHN0ZXAgPT0gMToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZW1wdHkgcmFuZ2UgZm9yIHJhbmRyYW5nZSgpICglZCwlZCwgJWQpIiAlIChpc3RhcnQsIGlzdG9wLCB3aWR0aCkpCgogICAgICAgICMgTm9uLXVuaXQgc3RlcCBhcmd1bWVudCBzdXBwbGllZC4KICAgICAgICBpc3RlcCA9IGludChzdGVwKQogICAgICAgIGlmIGlzdGVwICE9IHN0ZXA6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm5vbi1pbnRlZ2VyIHN0ZXAgZm9yIHJhbmRyYW5nZSgpIikKICAgICAgICBpZiBpc3RlcCA+IDA6CiAgICAgICAgICAgIG4gPSAod2lkdGggKyBpc3RlcCAtIDEpIC8vIGlzdGVwCiAgICAgICAgZWxpZiBpc3RlcCA8IDA6CiAgICAgICAgICAgIG4gPSAod2lkdGggKyBpc3RlcCArIDEpIC8vIGlzdGVwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiemVybyBzdGVwIGZvciByYW5kcmFuZ2UoKSIpCgogICAgICAgIGlmIG4gPD0gMDoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZW1wdHkgcmFuZ2UgZm9yIHJhbmRyYW5nZSgpIikKCiAgICAgICAgcmV0dXJuIGlzdGFydCArIGlzdGVwKnNlbGYuX3JhbmRiZWxvdyhuKQoKICAgIGRlZiByYW5kaW50KHNlbGYsIGEsIGIpOgogICAgICAgICIiIlJldHVybiByYW5kb20gaW50ZWdlciBpbiByYW5nZSBbYSwgYl0sIGluY2x1ZGluZyBib3RoIGVuZCBwb2ludHMuCiAgICAgICAgIiIiCgogICAgICAgIHJldHVybiBzZWxmLnJhbmRyYW5nZShhLCBiKzEpCgogICAgZGVmIF9yYW5kYmVsb3coc2VsZiwgbiwgaW50PWludCwgbWF4c2l6ZT0xPDxCUEYsIHR5cGU9dHlwZSwKICAgICAgICAgICAgICAgICAgIE1ldGhvZD1fTWV0aG9kVHlwZSwgQnVpbHRpbk1ldGhvZD1fQnVpbHRpbk1ldGhvZFR5cGUpOgogICAgICAgICJSZXR1cm4gYSByYW5kb20gaW50IGluIHRoZSByYW5nZSBbMCxuKS4gIFJhaXNlcyBWYWx1ZUVycm9yIGlmIG49PTAuIgoKICAgICAgICBnZXRyYW5kYml0cyA9IHNlbGYuZ2V0cmFuZGJpdHMKICAgICAgICAjIE9ubHkgY2FsbCBzZWxmLmdldHJhbmRiaXRzIGlmIHRoZSBvcmlnaW5hbCByYW5kb20oKSBidWlsdGluIG1ldGhvZAogICAgICAgICMgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW4gb3IgaWYgYSBuZXcgZ2V0cmFuZGJpdHMoKSB3YXMgc3VwcGxpZWQuCiAgICAgICAgaWYgdHlwZShzZWxmLnJhbmRvbSkgaXMgQnVpbHRpbk1ldGhvZCBvciB0eXBlKGdldHJhbmRiaXRzKSBpcyBNZXRob2Q6CiAgICAgICAgICAgIGsgPSBuLmJpdF9sZW5ndGgoKSAgIyBkb24ndCB1c2UgKG4tMSkgaGVyZSBiZWNhdXNlIG4gY2FuIGJlIDEKICAgICAgICAgICAgciA9IGdldHJhbmRiaXRzKGspICAgICAgICAgICMgMCA8PSByIDwgMioqawogICAgICAgICAgICB3aGlsZSByID49IG46CiAgICAgICAgICAgICAgICByID0gZ2V0cmFuZGJpdHMoaykKICAgICAgICAgICAgcmV0dXJuIHIKICAgICAgICAjIFRoZXJlJ3MgYW4gb3ZlcnJpZGVuIHJhbmRvbSgpIG1ldGhvZCBidXQgbm8gbmV3IGdldHJhbmRiaXRzKCkgbWV0aG9kLAogICAgICAgICMgc28gd2UgY2FuIG9ubHkgdXNlIHJhbmRvbSgpIGZyb20gaGVyZS4KICAgICAgICByYW5kb20gPSBzZWxmLnJhbmRvbQogICAgICAgIGlmIG4gPj0gbWF4c2l6ZToKICAgICAgICAgICAgX3dhcm4oIlVuZGVybHlpbmcgcmFuZG9tKCkgZ2VuZXJhdG9yIGRvZXMgbm90IHN1cHBseSBcbiIKICAgICAgICAgICAgICAgICJlbm91Z2ggYml0cyB0byBjaG9vc2UgZnJvbSBhIHBvcHVsYXRpb24gcmFuZ2UgdGhpcyBsYXJnZS5cbiIKICAgICAgICAgICAgICAgICJUbyByZW1vdmUgdGhlIHJhbmdlIGxpbWl0YXRpb24sIGFkZCBhIGdldHJhbmRiaXRzKCkgbWV0aG9kLiIpCiAgICAgICAgICAgIHJldHVybiBpbnQocmFuZG9tKCkgKiBuKQogICAgICAgIHJlbSA9IG1heHNpemUgJSBuCiAgICAgICAgbGltaXQgPSAobWF4c2l6ZSAtIHJlbSkgLyBtYXhzaXplICAgIyBpbnQobGltaXQgKiBtYXhzaXplKSAlIG4gPT0gMAogICAgICAgIHIgPSByYW5kb20oKQogICAgICAgIHdoaWxlIHIgPj0gbGltaXQ6CiAgICAgICAgICAgIHIgPSByYW5kb20oKQogICAgICAgIHJldHVybiBpbnQociptYXhzaXplKSAlIG4KCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tIHNlcXVlbmNlIG1ldGhvZHMgIC0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgY2hvaWNlKHNlbGYsIHNlcSk6CiAgICAgICAgIiIiQ2hvb3NlIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhIG5vbi1lbXB0eSBzZXF1ZW5jZS4iIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGkgPSBzZWxmLl9yYW5kYmVsb3cobGVuKHNlcSkpCiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoJ0Nhbm5vdCBjaG9vc2UgZnJvbSBhbiBlbXB0eSBzZXF1ZW5jZScpCiAgICAgICAgcmV0dXJuIHNlcVtpXQoKICAgIGRlZiBzaHVmZmxlKHNlbGYsIHgsIHJhbmRvbT1Ob25lLCBpbnQ9aW50KToKICAgICAgICAiIiJ4LCByYW5kb209cmFuZG9tLnJhbmRvbSAtPiBzaHVmZmxlIGxpc3QgeCBpbiBwbGFjZTsgcmV0dXJuIE5vbmUuCgogICAgICAgIE9wdGlvbmFsIGFyZyByYW5kb20gaXMgYSAwLWFyZ3VtZW50IGZ1bmN0aW9uIHJldHVybmluZyBhIHJhbmRvbQogICAgICAgIGZsb2F0IGluIFswLjAsIDEuMCk7IGJ5IGRlZmF1bHQsIHRoZSBzdGFuZGFyZCByYW5kb20ucmFuZG9tLgogICAgICAgICIiIgoKICAgICAgICByYW5kYmVsb3cgPSBzZWxmLl9yYW5kYmVsb3cKICAgICAgICBmb3IgaSBpbiByZXZlcnNlZChyYW5nZSgxLCBsZW4oeCkpKToKICAgICAgICAgICAgIyBwaWNrIGFuIGVsZW1lbnQgaW4geFs6aSsxXSB3aXRoIHdoaWNoIHRvIGV4Y2hhbmdlIHhbaV0KICAgICAgICAgICAgaiA9IHJhbmRiZWxvdyhpKzEpIGlmIHJhbmRvbSBpcyBOb25lIGVsc2UgaW50KHJhbmRvbSgpICogKGkrMSkpCiAgICAgICAgICAgIHhbaV0sIHhbal0gPSB4W2pdLCB4W2ldCgogICAgZGVmIHNhbXBsZShzZWxmLCBwb3B1bGF0aW9uLCBrKToKICAgICAgICAiIiJDaG9vc2VzIGsgdW5pcXVlIHJhbmRvbSBlbGVtZW50cyBmcm9tIGEgcG9wdWxhdGlvbiBzZXF1ZW5jZSBvciBzZXQuCgogICAgICAgIFJldHVybnMgYSBuZXcgbGlzdCBjb250YWluaW5nIGVsZW1lbnRzIGZyb20gdGhlIHBvcHVsYXRpb24gd2hpbGUKICAgICAgICBsZWF2aW5nIHRoZSBvcmlnaW5hbCBwb3B1bGF0aW9uIHVuY2hhbmdlZC4gIFRoZSByZXN1bHRpbmcgbGlzdCBpcwogICAgICAgIGluIHNlbGVjdGlvbiBvcmRlciBzbyB0aGF0IGFsbCBzdWItc2xpY2VzIHdpbGwgYWxzbyBiZSB2YWxpZCByYW5kb20KICAgICAgICBzYW1wbGVzLiAgVGhpcyBhbGxvd3MgcmFmZmxlIHdpbm5lcnMgKHRoZSBzYW1wbGUpIHRvIGJlIHBhcnRpdGlvbmVkCiAgICAgICAgaW50byBncmFuZCBwcml6ZSBhbmQgc2Vjb25kIHBsYWNlIHdpbm5lcnMgKHRoZSBzdWJzbGljZXMpLgoKICAgICAgICBNZW1iZXJzIG9mIHRoZSBwb3B1bGF0aW9uIG5lZWQgbm90IGJlIGhhc2hhYmxlIG9yIHVuaXF1ZS4gIElmIHRoZQogICAgICAgIHBvcHVsYXRpb24gY29udGFpbnMgcmVwZWF0cywgdGhlbiBlYWNoIG9jY3VycmVuY2UgaXMgYSBwb3NzaWJsZQogICAgICAgIHNlbGVjdGlvbiBpbiB0aGUgc2FtcGxlLgoKICAgICAgICBUbyBjaG9vc2UgYSBzYW1wbGUgaW4gYSByYW5nZSBvZiBpbnRlZ2VycywgdXNlIHJhbmdlIGFzIGFuIGFyZ3VtZW50LgogICAgICAgIFRoaXMgaXMgZXNwZWNpYWxseSBmYXN0IGFuZCBzcGFjZSBlZmZpY2llbnQgZm9yIHNhbXBsaW5nIGZyb20gYQogICAgICAgIGxhcmdlIHBvcHVsYXRpb246ICAgc2FtcGxlKHJhbmdlKDEwMDAwMDAwKSwgNjApCiAgICAgICAgIiIiCgogICAgICAgICMgU2FtcGxpbmcgd2l0aG91dCByZXBsYWNlbWVudCBlbnRhaWxzIHRyYWNraW5nIGVpdGhlciBwb3RlbnRpYWwKICAgICAgICAjIHNlbGVjdGlvbnMgKHRoZSBwb29sKSBpbiBhIGxpc3Qgb3IgcHJldmlvdXMgc2VsZWN0aW9ucyBpbiBhIHNldC4KCiAgICAgICAgIyBXaGVuIHRoZSBudW1iZXIgb2Ygc2VsZWN0aW9ucyBpcyBzbWFsbCBjb21wYXJlZCB0byB0aGUKICAgICAgICAjIHBvcHVsYXRpb24sIHRoZW4gdHJhY2tpbmcgc2VsZWN0aW9ucyBpcyBlZmZpY2llbnQsIHJlcXVpcmluZwogICAgICAgICMgb25seSBhIHNtYWxsIHNldCBhbmQgYW4gb2NjYXNpb25hbCByZXNlbGVjdGlvbi4gIEZvcgogICAgICAgICMgYSBsYXJnZXIgbnVtYmVyIG9mIHNlbGVjdGlvbnMsIHRoZSBwb29sIHRyYWNraW5nIG1ldGhvZCBpcwogICAgICAgICMgcHJlZmVycmVkIHNpbmNlIHRoZSBsaXN0IHRha2VzIGxlc3Mgc3BhY2UgdGhhbiB0aGUKICAgICAgICAjIHNldCBhbmQgaXQgZG9lc24ndCBzdWZmZXIgZnJvbSBmcmVxdWVudCByZXNlbGVjdGlvbnMuCgogICAgICAgIGlmIGlzaW5zdGFuY2UocG9wdWxhdGlvbiwgX1NldCk6CiAgICAgICAgICAgIHBvcHVsYXRpb24gPSB0dXBsZShwb3B1bGF0aW9uKQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHBvcHVsYXRpb24sIF9TZXF1ZW5jZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiUG9wdWxhdGlvbiBtdXN0IGJlIGEgc2VxdWVuY2Ugb3Igc2V0LiAgRm9yIGRpY3RzLCB1c2UgbGlzdChkKS4iKQogICAgICAgIHJhbmRiZWxvdyA9IHNlbGYuX3JhbmRiZWxvdwogICAgICAgIG4gPSBsZW4ocG9wdWxhdGlvbikKICAgICAgICBpZiBub3QgMCA8PSBrIDw9IG46CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIlNhbXBsZSBsYXJnZXIgdGhhbiBwb3B1bGF0aW9uIikKICAgICAgICByZXN1bHQgPSBbTm9uZV0gKiBrCiAgICAgICAgc2V0c2l6ZSA9IDIxICAgICAgICAjIHNpemUgb2YgYSBzbWFsbCBzZXQgbWludXMgc2l6ZSBvZiBhbiBlbXB0eSBsaXN0CiAgICAgICAgaWYgayA+IDU6CiAgICAgICAgICAgIHNldHNpemUgKz0gNCAqKiBfY2VpbChfbG9nKGsgKiAzLCA0KSkgIyB0YWJsZSBzaXplIGZvciBiaWcgc2V0cwogICAgICAgIGlmIG4gPD0gc2V0c2l6ZToKICAgICAgICAgICAgIyBBbiBuLWxlbmd0aCBsaXN0IGlzIHNtYWxsZXIgdGhhbiBhIGstbGVuZ3RoIHNldAogICAgICAgICAgICBwb29sID0gbGlzdChwb3B1bGF0aW9uKQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShrKTogICAgICAgICAjIGludmFyaWFudDogIG5vbi1zZWxlY3RlZCBhdCBbMCxuLWkpCiAgICAgICAgICAgICAgICBqID0gcmFuZGJlbG93KG4taSkKICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHBvb2xbal0KICAgICAgICAgICAgICAgIHBvb2xbal0gPSBwb29sW24taS0xXSAgICMgbW92ZSBub24tc2VsZWN0ZWQgaXRlbSBpbnRvIHZhY2FuY3kKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxlY3RlZCA9IHNldCgpCiAgICAgICAgICAgIHNlbGVjdGVkX2FkZCA9IHNlbGVjdGVkLmFkZAogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShrKToKICAgICAgICAgICAgICAgIGogPSByYW5kYmVsb3cobikKICAgICAgICAgICAgICAgIHdoaWxlIGogaW4gc2VsZWN0ZWQ6CiAgICAgICAgICAgICAgICAgICAgaiA9IHJhbmRiZWxvdyhuKQogICAgICAgICAgICAgICAgc2VsZWN0ZWRfYWRkKGopCiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBwb3B1bGF0aW9uW2pdCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0gcmVhbC12YWx1ZWQgZGlzdHJpYnV0aW9ucyAgLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0gdW5pZm9ybSBkaXN0cmlidXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiB1bmlmb3JtKHNlbGYsIGEsIGIpOgogICAgICAgICJHZXQgYSByYW5kb20gbnVtYmVyIGluIHRoZSByYW5nZSBbYSwgYikgb3IgW2EsIGJdIGRlcGVuZGluZyBvbiByb3VuZGluZy4iCiAgICAgICAgcmV0dXJuIGEgKyAoYi1hKSAqIHNlbGYucmFuZG9tKCkKCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tIHRyaWFuZ3VsYXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgdHJpYW5ndWxhcihzZWxmLCBsb3c9MC4wLCBoaWdoPTEuMCwgbW9kZT1Ob25lKToKICAgICAgICAiIiJUcmlhbmd1bGFyIGRpc3RyaWJ1dGlvbi4KCiAgICAgICAgQ29udGludW91cyBkaXN0cmlidXRpb24gYm91bmRlZCBieSBnaXZlbiBsb3dlciBhbmQgdXBwZXIgbGltaXRzLAogICAgICAgIGFuZCBoYXZpbmcgYSBnaXZlbiBtb2RlIHZhbHVlIGluLWJldHdlZW4uCgogICAgICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVHJpYW5ndWxhcl9kaXN0cmlidXRpb24KCiAgICAgICAgIiIiCiAgICAgICAgdSA9IHNlbGYucmFuZG9tKCkKICAgICAgICBjID0gMC41IGlmIG1vZGUgaXMgTm9uZSBlbHNlIChtb2RlIC0gbG93KSAvIChoaWdoIC0gbG93KQogICAgICAgIGlmIHUgPiBjOgogICAgICAgICAgICB1ID0gMS4wIC0gdQogICAgICAgICAgICBjID0gMS4wIC0gYwogICAgICAgICAgICBsb3csIGhpZ2ggPSBoaWdoLCBsb3cKICAgICAgICByZXR1cm4gbG93ICsgKGhpZ2ggLSBsb3cpICogKHUgKiBjKSAqKiAwLjUKCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tIG5vcm1hbCBkaXN0cmlidXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgbm9ybWFsdmFyaWF0ZShzZWxmLCBtdSwgc2lnbWEpOgogICAgICAgICIiIk5vcm1hbCBkaXN0cmlidXRpb24uCgogICAgICAgIG11IGlzIHRoZSBtZWFuLCBhbmQgc2lnbWEgaXMgdGhlIHN0YW5kYXJkIGRldmlhdGlvbi4KCiAgICAgICAgIiIiCiAgICAgICAgIyBtdSA9IG1lYW4sIHNpZ21hID0gc3RhbmRhcmQgZGV2aWF0aW9uCgogICAgICAgICMgVXNlcyBLaW5kZXJtYW4gYW5kIE1vbmFoYW4gbWV0aG9kLiBSZWZlcmVuY2U6IEtpbmRlcm1hbiwKICAgICAgICAjIEEuSi4gYW5kIE1vbmFoYW4sIEouRi4sICJDb21wdXRlciBnZW5lcmF0aW9uIG9mIHJhbmRvbQogICAgICAgICMgdmFyaWFibGVzIHVzaW5nIHRoZSByYXRpbyBvZiB1bmlmb3JtIGRldmlhdGVzIiwgQUNNIFRyYW5zCiAgICAgICAgIyBNYXRoIFNvZnR3YXJlLCAzLCAoMTk3NyksIHBwMjU3LTI2MC4KCiAgICAgICAgcmFuZG9tID0gc2VsZi5yYW5kb20KICAgICAgICB3aGlsZSAxOgogICAgICAgICAgICB1MSA9IHJhbmRvbSgpCiAgICAgICAgICAgIHUyID0gMS4wIC0gcmFuZG9tKCkKICAgICAgICAgICAgeiA9IE5WX01BR0lDQ09OU1QqKHUxLTAuNSkvdTIKICAgICAgICAgICAgenogPSB6KnovNC4wCiAgICAgICAgICAgIGlmIHp6IDw9IC1fbG9nKHUyKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgcmV0dXJuIG11ICsgeipzaWdtYQoKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0gbG9nbm9ybWFsIGRpc3RyaWJ1dGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBsb2dub3JtdmFyaWF0ZShzZWxmLCBtdSwgc2lnbWEpOgogICAgICAgICIiIkxvZyBub3JtYWwgZGlzdHJpYnV0aW9uLgoKICAgICAgICBJZiB5b3UgdGFrZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgdGhpcyBkaXN0cmlidXRpb24sIHlvdSdsbCBnZXQgYQogICAgICAgIG5vcm1hbCBkaXN0cmlidXRpb24gd2l0aCBtZWFuIG11IGFuZCBzdGFuZGFyZCBkZXZpYXRpb24gc2lnbWEuCiAgICAgICAgbXUgY2FuIGhhdmUgYW55IHZhbHVlLCBhbmQgc2lnbWEgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyby4KCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIF9leHAoc2VsZi5ub3JtYWx2YXJpYXRlKG11LCBzaWdtYSkpCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBleHBvbmVudGlhbCBkaXN0cmlidXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgZXhwb3ZhcmlhdGUoc2VsZiwgbGFtYmQpOgogICAgICAgICIiIkV4cG9uZW50aWFsIGRpc3RyaWJ1dGlvbi4KCiAgICAgICAgbGFtYmQgaXMgMS4wIGRpdmlkZWQgYnkgdGhlIGRlc2lyZWQgbWVhbi4gIEl0IHNob3VsZCBiZQogICAgICAgIG5vbnplcm8uICAoVGhlIHBhcmFtZXRlciB3b3VsZCBiZSBjYWxsZWQgImxhbWJkYSIsIGJ1dCB0aGF0IGlzCiAgICAgICAgYSByZXNlcnZlZCB3b3JkIGluIFB5dGhvbi4pICBSZXR1cm5lZCB2YWx1ZXMgcmFuZ2UgZnJvbSAwIHRvCiAgICAgICAgcG9zaXRpdmUgaW5maW5pdHkgaWYgbGFtYmQgaXMgcG9zaXRpdmUsIGFuZCBmcm9tIG5lZ2F0aXZlCiAgICAgICAgaW5maW5pdHkgdG8gMCBpZiBsYW1iZCBpcyBuZWdhdGl2ZS4KCiAgICAgICAgIiIiCiAgICAgICAgIyBsYW1iZDogcmF0ZSBsYW1iZCA9IDEvbWVhbgogICAgICAgICMgKCdsYW1iZGEnIGlzIGEgUHl0aG9uIHJlc2VydmVkIHdvcmQpCgogICAgICAgICMgd2UgdXNlIDEtcmFuZG9tKCkgaW5zdGVhZCBvZiByYW5kb20oKSB0byBwcmVjbHVkZSB0aGUKICAgICAgICAjIHBvc3NpYmlsaXR5IG9mIHRha2luZyB0aGUgbG9nIG9mIHplcm8uCiAgICAgICAgcmV0dXJuIC1fbG9nKDEuMCAtIHNlbGYucmFuZG9tKCkpL2xhbWJkCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSB2b24gTWlzZXMgZGlzdHJpYnV0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHZvbm1pc2VzdmFyaWF0ZShzZWxmLCBtdSwga2FwcGEpOgogICAgICAgICIiIkNpcmN1bGFyIGRhdGEgZGlzdHJpYnV0aW9uLgoKICAgICAgICBtdSBpcyB0aGUgbWVhbiBhbmdsZSwgZXhwcmVzc2VkIGluIHJhZGlhbnMgYmV0d2VlbiAwIGFuZCAyKnBpLCBhbmQKICAgICAgICBrYXBwYSBpcyB0aGUgY29uY2VudHJhdGlvbiBwYXJhbWV0ZXIsIHdoaWNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yCiAgICAgICAgZXF1YWwgdG8gemVyby4gIElmIGthcHBhIGlzIGVxdWFsIHRvIHplcm8sIHRoaXMgZGlzdHJpYnV0aW9uIHJlZHVjZXMKICAgICAgICB0byBhIHVuaWZvcm0gcmFuZG9tIGFuZ2xlIG92ZXIgdGhlIHJhbmdlIDAgdG8gMipwaS4KCiAgICAgICAgIiIiCiAgICAgICAgIyBtdTogICAgbWVhbiBhbmdsZSAoaW4gcmFkaWFucyBiZXR3ZWVuIDAgYW5kIDIqcGkpCiAgICAgICAgIyBrYXBwYTogY29uY2VudHJhdGlvbiBwYXJhbWV0ZXIga2FwcGEgKD49IDApCiAgICAgICAgIyBpZiBrYXBwYSA9IDAgZ2VuZXJhdGUgdW5pZm9ybSByYW5kb20gYW5nbGUKCiAgICAgICAgIyBCYXNlZCB1cG9uIGFuIGFsZ29yaXRobSBwdWJsaXNoZWQgaW46IEZpc2hlciwgTi5JLiwKICAgICAgICAjICJTdGF0aXN0aWNhbCBBbmFseXNpcyBvZiBDaXJjdWxhciBEYXRhIiwgQ2FtYnJpZGdlCiAgICAgICAgIyBVbml2ZXJzaXR5IFByZXNzLCAxOTkzLgoKICAgICAgICAjIFRoYW5rcyB0byBNYWdudXMgS2Vzc2xlciBmb3IgYSBjb3JyZWN0aW9uIHRvIHRoZQogICAgICAgICMgaW1wbGVtZW50YXRpb24gb2Ygc3RlcCA0LgoKICAgICAgICByYW5kb20gPSBzZWxmLnJhbmRvbQogICAgICAgIGlmIGthcHBhIDw9IDFlLTY6CiAgICAgICAgICAgIHJldHVybiBUV09QSSAqIHJhbmRvbSgpCgogICAgICAgIGEgPSAxLjAgKyBfc3FydCgxLjAgKyA0LjAgKiBrYXBwYSAqIGthcHBhKQogICAgICAgIGIgPSAoYSAtIF9zcXJ0KDIuMCAqIGEpKS8oMi4wICoga2FwcGEpCiAgICAgICAgciA9ICgxLjAgKyBiICogYikvKDIuMCAqIGIpCgogICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgIHUxID0gcmFuZG9tKCkKCiAgICAgICAgICAgIHogPSBfY29zKF9waSAqIHUxKQogICAgICAgICAgICBmID0gKDEuMCArIHIgKiB6KS8ociArIHopCiAgICAgICAgICAgIGMgPSBrYXBwYSAqIChyIC0gZikKCiAgICAgICAgICAgIHUyID0gcmFuZG9tKCkKCiAgICAgICAgICAgIGlmIHUyIDwgYyAqICgyLjAgLSBjKSBvciB1MiA8PSBjICogX2V4cCgxLjAgLSBjKToKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgIHUzID0gcmFuZG9tKCkKICAgICAgICBpZiB1MyA+IDAuNToKICAgICAgICAgICAgdGhldGEgPSAobXUgJSBUV09QSSkgKyBfYWNvcyhmKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHRoZXRhID0gKG11ICUgVFdPUEkpIC0gX2Fjb3MoZikKCiAgICAgICAgcmV0dXJuIHRoZXRhCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBnYW1tYSBkaXN0cmlidXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgZ2FtbWF2YXJpYXRlKHNlbGYsIGFscGhhLCBiZXRhKToKICAgICAgICAiIiJHYW1tYSBkaXN0cmlidXRpb24uICBOb3QgdGhlIGdhbW1hIGZ1bmN0aW9uIQoKICAgICAgICBDb25kaXRpb25zIG9uIHRoZSBwYXJhbWV0ZXJzIGFyZSBhbHBoYSA+IDAgYW5kIGJldGEgPiAwLgoKICAgICAgICBUaGUgcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uIGZ1bmN0aW9uIGlzOgoKICAgICAgICAgICAgICAgICAgICB4ICoqIChhbHBoYSAtIDEpICogbWF0aC5leHAoLXggLyBiZXRhKQogICAgICAgICAgcGRmKHgpID0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgICAgICAgICAgICBtYXRoLmdhbW1hKGFscGhhKSAqIGJldGEgKiogYWxwaGEKCiAgICAgICAgIiIiCgogICAgICAgICMgYWxwaGEgPiAwLCBiZXRhID4gMCwgbWVhbiBpcyBhbHBoYSpiZXRhLCB2YXJpYW5jZSBpcyBhbHBoYSpiZXRhKioyCgogICAgICAgICMgV2FybmluZzogYSBmZXcgb2xkZXIgc291cmNlcyBkZWZpbmUgdGhlIGdhbW1hIGRpc3RyaWJ1dGlvbiBpbiB0ZXJtcwogICAgICAgICMgb2YgYWxwaGEgPiAtMS4wCiAgICAgICAgaWYgYWxwaGEgPD0gMC4wIG9yIGJldGEgPD0gMC4wOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdnYW1tYXZhcmlhdGU6IGFscGhhIGFuZCBiZXRhIG11c3QgYmUgPiAwLjAnKQoKICAgICAgICByYW5kb20gPSBzZWxmLnJhbmRvbQogICAgICAgIGlmIGFscGhhID4gMS4wOgoKICAgICAgICAgICAgIyBVc2VzIFIuQy5ILiBDaGVuZywgIlRoZSBnZW5lcmF0aW9uIG9mIEdhbW1hCiAgICAgICAgICAgICMgdmFyaWFibGVzIHdpdGggbm9uLWludGVncmFsIHNoYXBlIHBhcmFtZXRlcnMiLAogICAgICAgICAgICAjIEFwcGxpZWQgU3RhdGlzdGljcywgKDE5NzcpLCAyNiwgTm8uIDEsIHA3MS03NAoKICAgICAgICAgICAgYWludiA9IF9zcXJ0KDIuMCAqIGFscGhhIC0gMS4wKQogICAgICAgICAgICBiYmIgPSBhbHBoYSAtIExPRzQKICAgICAgICAgICAgY2NjID0gYWxwaGEgKyBhaW52CgogICAgICAgICAgICB3aGlsZSAxOgogICAgICAgICAgICAgICAgdTEgPSByYW5kb20oKQogICAgICAgICAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAgICAgICAgICNpZiBub3QgMWUtNyA8IHUxIDwgLjk5OTk5OTk6CiAgICAgICAgICAgICAgICBpZiBub3QgMWUtNyA8IHUxIDwgMC45OTk5OTk5OgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICB1MiA9IDEuMCAtIHJhbmRvbSgpCiAgICAgICAgICAgICAgICB2ID0gX2xvZyh1MS8oMS4wLXUxKSkvYWludgogICAgICAgICAgICAgICAgeCA9IGFscGhhKl9leHAodikKICAgICAgICAgICAgICAgIHogPSB1MSp1MSp1MgogICAgICAgICAgICAgICAgciA9IGJiYitjY2Mqdi14CiAgICAgICAgICAgICAgICBpZiByICsgU0dfTUFHSUNDT05TVCAtIDQuNSp6ID49IDAuMCBvciByID49IF9sb2coeik6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHggKiBiZXRhCgogICAgICAgIGVsaWYgYWxwaGEgPT0gMS4wOgogICAgICAgICAgICAjIGV4cG92YXJpYXRlKDEpCiAgICAgICAgICAgIHUgPSByYW5kb20oKQogICAgICAgICAgICB3aGlsZSB1IDw9IDFlLTc6CiAgICAgICAgICAgICAgICB1ID0gcmFuZG9tKCkKICAgICAgICAgICAgcmV0dXJuIC1fbG9nKHUpICogYmV0YQoKICAgICAgICBlbHNlOiAgICMgYWxwaGEgaXMgYmV0d2VlbiAwIGFuZCAxIChleGNsdXNpdmUpCgogICAgICAgICAgICAjIFVzZXMgQUxHT1JJVEhNIEdTIG9mIFN0YXRpc3RpY2FsIENvbXB1dGluZyAtIEtlbm5lZHkgJiBHZW50bGUKCiAgICAgICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgICAgICB1ID0gcmFuZG9tKCkKICAgICAgICAgICAgICAgIGIgPSAoX2UgKyBhbHBoYSkvX2UKICAgICAgICAgICAgICAgIHAgPSBiKnUKICAgICAgICAgICAgICAgIGlmIHAgPD0gMS4wOgogICAgICAgICAgICAgICAgICAgIHggPSBwICoqICgxLjAvYWxwaGEpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHggPSAtX2xvZygoYi1wKS9hbHBoYSkKICAgICAgICAgICAgICAgIHUxID0gcmFuZG9tKCkKICAgICAgICAgICAgICAgIGlmIHAgPiAxLjA6CiAgICAgICAgICAgICAgICAgICAgaWYgdTEgPD0geCAqKiAoYWxwaGEgLSAxLjApOgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiB1MSA8PSBfZXhwKC14KToKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICByZXR1cm4geCAqIGJldGEKCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEdhdXNzIChmYXN0ZXIgYWx0ZXJuYXRpdmUpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIGdhdXNzKHNlbGYsIG11LCBzaWdtYSk6CiAgICAgICAgIiIiR2F1c3NpYW4gZGlzdHJpYnV0aW9uLgoKICAgICAgICBtdSBpcyB0aGUgbWVhbiwgYW5kIHNpZ21hIGlzIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24uICBUaGlzIGlzCiAgICAgICAgc2xpZ2h0bHkgZmFzdGVyIHRoYW4gdGhlIG5vcm1hbHZhcmlhdGUoKSBmdW5jdGlvbi4KCiAgICAgICAgTm90IHRocmVhZC1zYWZlIHdpdGhvdXQgYSBsb2NrIGFyb3VuZCBjYWxscy4KCiAgICAgICAgIiIiCgogICAgICAgICMgV2hlbiB4IGFuZCB5IGFyZSB0d28gdmFyaWFibGVzIGZyb20gWzAsIDEpLCB1bmlmb3JtbHkKICAgICAgICAjIGRpc3RyaWJ1dGVkLCB0aGVuCiAgICAgICAgIwogICAgICAgICMgICAgY29zKDIqcGkqeCkqc3FydCgtMipsb2coMS15KSkKICAgICAgICAjICAgIHNpbigyKnBpKngpKnNxcnQoLTIqbG9nKDEteSkpCiAgICAgICAgIwogICAgICAgICMgYXJlIHR3byAqaW5kZXBlbmRlbnQqIHZhcmlhYmxlcyB3aXRoIG5vcm1hbCBkaXN0cmlidXRpb24KICAgICAgICAjIChtdSA9IDAsIHNpZ21hID0gMSkuCiAgICAgICAgIyAoTGFtYmVydCBNZWVydGVucykKICAgICAgICAjIChjb3JyZWN0ZWQgdmVyc2lvbjsgYnVnIGRpc2NvdmVyZWQgYnkgTWlrZSBNaWxsZXIsIGZpeGVkIGJ5IExNKQoKICAgICAgICAjIE11bHRpdGhyZWFkaW5nIG5vdGU6IFdoZW4gdHdvIHRocmVhZHMgY2FsbCB0aGlzIGZ1bmN0aW9uCiAgICAgICAgIyBzaW11bHRhbmVvdXNseSwgaXQgaXMgcG9zc2libGUgdGhhdCB0aGV5IHdpbGwgcmVjZWl2ZSB0aGUKICAgICAgICAjIHNhbWUgcmV0dXJuIHZhbHVlLiAgVGhlIHdpbmRvdyBpcyB2ZXJ5IHNtYWxsIHRob3VnaC4gIFRvCiAgICAgICAgIyBhdm9pZCB0aGlzLCB5b3UgaGF2ZSB0byB1c2UgYSBsb2NrIGFyb3VuZCBhbGwgY2FsbHMuICAoSQogICAgICAgICMgZGlkbid0IHdhbnQgdG8gc2xvdyB0aGlzIGRvd24gaW4gdGhlIHNlcmlhbCBjYXNlIGJ5IHVzaW5nIGEKICAgICAgICAjIGxvY2sgaGVyZS4pCgogICAgICAgIHJhbmRvbSA9IHNlbGYucmFuZG9tCiAgICAgICAgeiA9IHNlbGYuZ2F1c3NfbmV4dAogICAgICAgIHNlbGYuZ2F1c3NfbmV4dCA9IE5vbmUKICAgICAgICBpZiB6IGlzIE5vbmU6CiAgICAgICAgICAgIHgycGkgPSByYW5kb20oKSAqIFRXT1BJCiAgICAgICAgICAgIGcycmFkID0gX3NxcnQoLTIuMCAqIF9sb2coMS4wIC0gcmFuZG9tKCkpKQogICAgICAgICAgICB6ID0gX2Nvcyh4MnBpKSAqIGcycmFkCiAgICAgICAgICAgIHNlbGYuZ2F1c3NfbmV4dCA9IF9zaW4oeDJwaSkgKiBnMnJhZAoKICAgICAgICByZXR1cm4gbXUgKyB6KnNpZ21hCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBiZXRhIC0tLS0tLS0tLS0tLS0tLS0tLS0tCiMjIFNlZQojIyBodHRwOi8vbWFpbC5weXRob24ub3JnL3BpcGVybWFpbC9weXRob24tYnVncy1saXN0LzIwMDEtSmFudWFyeS8wMDM3NTIuaHRtbAojIyBmb3IgSXZhbiBGcm9obmUncyBpbnNpZ2h0ZnVsIGFuYWx5c2lzIG9mIHdoeSB0aGUgb3JpZ2luYWwgaW1wbGVtZW50YXRpb246CiMjCiMjICAgIGRlZiBiZXRhdmFyaWF0ZShzZWxmLCBhbHBoYSwgYmV0YSk6CiMjICAgICAgICAjIERpc2NyZXRlIEV2ZW50IFNpbXVsYXRpb24gaW4gQywgcHAgODctODguCiMjCiMjICAgICAgICB5ID0gc2VsZi5leHBvdmFyaWF0ZShhbHBoYSkKIyMgICAgICAgIHogPSBzZWxmLmV4cG92YXJpYXRlKDEuMC9iZXRhKQojIyAgICAgICAgcmV0dXJuIHovKHkreikKIyMKIyMgd2FzIGRlYWQgd3JvbmcsIGFuZCBob3cgaXQgcHJvYmFibHkgZ290IHRoYXQgd2F5LgoKICAgIGRlZiBiZXRhdmFyaWF0ZShzZWxmLCBhbHBoYSwgYmV0YSk6CiAgICAgICAgIiIiQmV0YSBkaXN0cmlidXRpb24uCgogICAgICAgIENvbmRpdGlvbnMgb24gdGhlIHBhcmFtZXRlcnMgYXJlIGFscGhhID4gMCBhbmQgYmV0YSA+IDAuCiAgICAgICAgUmV0dXJuZWQgdmFsdWVzIHJhbmdlIGJldHdlZW4gMCBhbmQgMS4KCiAgICAgICAgIiIiCgogICAgICAgICMgVGhpcyB2ZXJzaW9uIGR1ZSB0byBKYW5uZSBTaW5ra29uZW4sIGFuZCBtYXRjaGVzIGFsbCB0aGUgc3RkCiAgICAgICAgIyB0ZXh0cyAoZS5nLiwgS251dGggVm9sIDIgRWQgMyBwZyAxMzQgInRoZSBiZXRhIGRpc3RyaWJ1dGlvbiIpLgogICAgICAgIHkgPSBzZWxmLmdhbW1hdmFyaWF0ZShhbHBoYSwgMS4pCiAgICAgICAgaWYgeSA9PSAwOgogICAgICAgICAgICByZXR1cm4gMC4wCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHkgLyAoeSArIHNlbGYuZ2FtbWF2YXJpYXRlKGJldGEsIDEuKSkKCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFBhcmV0byAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBwYXJldG92YXJpYXRlKHNlbGYsIGFscGhhKToKICAgICAgICAiIiJQYXJldG8gZGlzdHJpYnV0aW9uLiAgYWxwaGEgaXMgdGhlIHNoYXBlIHBhcmFtZXRlci4iIiIKICAgICAgICAjIEphaW4sIHBnLiA0OTUKCiAgICAgICAgdSA9IDEuMCAtIHNlbGYucmFuZG9tKCkKICAgICAgICByZXR1cm4gMS4wIC8gdSAqKiAoMS4wL2FscGhhKQoKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2VpYnVsbCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiB3ZWlidWxsdmFyaWF0ZShzZWxmLCBhbHBoYSwgYmV0YSk6CiAgICAgICAgIiIiV2VpYnVsbCBkaXN0cmlidXRpb24uCgogICAgICAgIGFscGhhIGlzIHRoZSBzY2FsZSBwYXJhbWV0ZXIgYW5kIGJldGEgaXMgdGhlIHNoYXBlIHBhcmFtZXRlci4KCiAgICAgICAgIiIiCiAgICAgICAgIyBKYWluLCBwZy4gNDk5OyBidWcgZml4IGNvdXJ0ZXN5IEJpbGwgQXJtcwoKICAgICAgICB1ID0gMS4wIC0gc2VsZi5yYW5kb20oKQogICAgICAgIHJldHVybiBhbHBoYSAqICgtX2xvZyh1KSkgKiogKDEuMC9iZXRhKQoKCiMjIC0tLS0tLS0tLS0tLS0tLSBPcGVyYXRpbmcgU3lzdGVtIFJhbmRvbSBTb3VyY2UgIC0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgU3lzdGVtUmFuZG9tKFJhbmRvbSk6CiAgICAiIiJBbHRlcm5hdGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgdXNpbmcgc291cmNlcyBwcm92aWRlZAogICAgYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0gKHN1Y2ggYXMgL2Rldi91cmFuZG9tIG9uIFVuaXggb3IKICAgIENyeXB0R2VuUmFuZG9tIG9uIFdpbmRvd3MpLgoKICAgICBOb3QgYXZhaWxhYmxlIG9uIGFsbCBzeXN0ZW1zIChzZWUgb3MudXJhbmRvbSgpIGZvciBkZXRhaWxzKS4KICAgICIiIgoKICAgIGRlZiByYW5kb20oc2VsZik6CiAgICAgICAgIiIiR2V0IHRoZSBuZXh0IHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIFswLjAsIDEuMCkuIiIiCiAgICAgICAgcmV0dXJuIChpbnQuZnJvbV9ieXRlcyhfdXJhbmRvbSg3KSwgJ2JpZycpID4+IDMpICogUkVDSVBfQlBGCgogICAgZGVmIGdldHJhbmRiaXRzKHNlbGYsIGspOgogICAgICAgICIiImdldHJhbmRiaXRzKGspIC0+IHguICBHZW5lcmF0ZXMgYSBsb25nIGludCB3aXRoIGsgcmFuZG9tIGJpdHMuIiIiCiAgICAgICAgaWYgayA8PSAwOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdudW1iZXIgb2YgYml0cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvJykKICAgICAgICBpZiBrICE9IGludChrKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdudW1iZXIgb2YgYml0cyBzaG91bGQgYmUgYW4gaW50ZWdlcicpCiAgICAgICAgbnVtYnl0ZXMgPSAoayArIDcpIC8vIDggICAgICAgICAgICAgICAgICAgICAgICMgYml0cyAvIDggYW5kIHJvdW5kZWQgdXAKICAgICAgICB4ID0gaW50LmZyb21fYnl0ZXMoX3VyYW5kb20obnVtYnl0ZXMpLCAnYmlnJykKICAgICAgICByZXR1cm4geCA+PiAobnVtYnl0ZXMgKiA4IC0gaykgICAgICAgICAgICAgICAgIyB0cmltIGV4Y2VzcyBiaXRzCgogICAgZGVmIHNlZWQoc2VsZiwgKmFyZ3MsICoqa3dkcyk6CiAgICAgICAgIlN0dWIgbWV0aG9kLiAgTm90IHVzZWQgZm9yIGEgc3lzdGVtIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLiIKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfbm90aW1wbGVtZW50ZWQoc2VsZiwgKmFyZ3MsICoqa3dkcyk6CiAgICAgICAgIk1ldGhvZCBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3IgYSBzeXN0ZW0gcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuIgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoJ1N5c3RlbSBlbnRyb3B5IHNvdXJjZSBkb2VzIG5vdCBoYXZlIHN0YXRlLicpCiAgICBnZXRzdGF0ZSA9IHNldHN0YXRlID0gX25vdGltcGxlbWVudGVkCgojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLSB0ZXN0IHByb2dyYW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBfdGVzdF9nZW5lcmF0b3IobiwgZnVuYywgYXJncyk6CiAgICBpbXBvcnQgdGltZQogICAgcHJpbnQobiwgJ3RpbWVzJywgZnVuYy5fX25hbWVfXykKICAgIHRvdGFsID0gMC4wCiAgICBzcXN1bSA9IDAuMAogICAgc21hbGxlc3QgPSAxZTEwCiAgICBsYXJnZXN0ID0gLTFlMTAKICAgIHQwID0gdGltZS50aW1lKCkKICAgIGZvciBpIGluIHJhbmdlKG4pOgogICAgICAgIHggPSBmdW5jKCphcmdzKQogICAgICAgIHRvdGFsICs9IHgKICAgICAgICBzcXN1bSA9IHNxc3VtICsgeCp4CiAgICAgICAgc21hbGxlc3QgPSBtaW4oeCwgc21hbGxlc3QpCiAgICAgICAgbGFyZ2VzdCA9IG1heCh4LCBsYXJnZXN0KQogICAgdDEgPSB0aW1lLnRpbWUoKQogICAgcHJpbnQocm91bmQodDEtdDAsIDMpLCAnc2VjLCcsIGVuZD0nICcpCiAgICBhdmcgPSB0b3RhbC9uCiAgICBzdGRkZXYgPSBfc3FydChzcXN1bS9uIC0gYXZnKmF2ZykKICAgIHByaW50KCdhdmcgJWcsIHN0ZGRldiAlZywgbWluICVnLCBtYXggJWcnICUgXAogICAgICAgICAgICAgIChhdmcsIHN0ZGRldiwgc21hbGxlc3QsIGxhcmdlc3QpKQoKCmRlZiBfdGVzdChOPTIwMDApOgogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIHJhbmRvbSwgKCkpCiAgICBfdGVzdF9nZW5lcmF0b3IoTiwgbm9ybWFsdmFyaWF0ZSwgKDAuMCwgMS4wKSkKICAgIF90ZXN0X2dlbmVyYXRvcihOLCBsb2dub3JtdmFyaWF0ZSwgKDAuMCwgMS4wKSkKICAgIF90ZXN0X2dlbmVyYXRvcihOLCB2b25taXNlc3ZhcmlhdGUsICgwLjAsIDEuMCkpCiAgICBfdGVzdF9nZW5lcmF0b3IoTiwgZ2FtbWF2YXJpYXRlLCAoMC4wMSwgMS4wKSkKICAgIF90ZXN0X2dlbmVyYXRvcihOLCBnYW1tYXZhcmlhdGUsICgwLjEsIDEuMCkpCiAgICBfdGVzdF9nZW5lcmF0b3IoTiwgZ2FtbWF2YXJpYXRlLCAoMC4xLCAyLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIGdhbW1hdmFyaWF0ZSwgKDAuNSwgMS4wKSkKICAgIF90ZXN0X2dlbmVyYXRvcihOLCBnYW1tYXZhcmlhdGUsICgwLjksIDEuMCkpCiAgICBfdGVzdF9nZW5lcmF0b3IoTiwgZ2FtbWF2YXJpYXRlLCAoMS4wLCAxLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIGdhbW1hdmFyaWF0ZSwgKDIuMCwgMS4wKSkKICAgIF90ZXN0X2dlbmVyYXRvcihOLCBnYW1tYXZhcmlhdGUsICgyMC4wLCAxLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIGdhbW1hdmFyaWF0ZSwgKDIwMC4wLCAxLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIGdhdXNzLCAoMC4wLCAxLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIGJldGF2YXJpYXRlLCAoMy4wLCAzLjApKQogICAgX3Rlc3RfZ2VuZXJhdG9yKE4sIHRyaWFuZ3VsYXIsICgwLjAsIDEuMCwgMS4wLzMuMCkpCgojIENyZWF0ZSBvbmUgaW5zdGFuY2UsIHNlZWRlZCBmcm9tIGN1cnJlbnQgdGltZSwgYW5kIGV4cG9ydCBpdHMgbWV0aG9kcwojIGFzIG1vZHVsZS1sZXZlbCBmdW5jdGlvbnMuICBUaGUgZnVuY3Rpb25zIHNoYXJlIHN0YXRlIGFjcm9zcyBhbGwgdXNlcwojKGJvdGggaW4gdGhlIHVzZXIncyBjb2RlIGFuZCBpbiB0aGUgUHl0aG9uIGxpYnJhcmllcyksIGJ1dCB0aGF0J3MgZmluZQojIGZvciBtb3N0IHByb2dyYW1zIGFuZCBpcyBlYXNpZXIgZm9yIHRoZSBjYXN1YWwgdXNlciB0aGFuIG1ha2luZyB0aGVtCiMgaW5zdGFudGlhdGUgdGhlaXIgb3duIFJhbmRvbSgpIGluc3RhbmNlLgoKX2luc3QgPSBSYW5kb20oKQpzZWVkID0gX2luc3Quc2VlZApyYW5kb20gPSBfaW5zdC5yYW5kb20KdW5pZm9ybSA9IF9pbnN0LnVuaWZvcm0KdHJpYW5ndWxhciA9IF9pbnN0LnRyaWFuZ3VsYXIKcmFuZGludCA9IF9pbnN0LnJhbmRpbnQKY2hvaWNlID0gX2luc3QuY2hvaWNlCnJhbmRyYW5nZSA9IF9pbnN0LnJhbmRyYW5nZQpzYW1wbGUgPSBfaW5zdC5zYW1wbGUKc2h1ZmZsZSA9IF9pbnN0LnNodWZmbGUKbm9ybWFsdmFyaWF0ZSA9IF9pbnN0Lm5vcm1hbHZhcmlhdGUKbG9nbm9ybXZhcmlhdGUgPSBfaW5zdC5sb2dub3JtdmFyaWF0ZQpleHBvdmFyaWF0ZSA9IF9pbnN0LmV4cG92YXJpYXRlCnZvbm1pc2VzdmFyaWF0ZSA9IF9pbnN0LnZvbm1pc2VzdmFyaWF0ZQpnYW1tYXZhcmlhdGUgPSBfaW5zdC5nYW1tYXZhcmlhdGUKZ2F1c3MgPSBfaW5zdC5nYXVzcwpiZXRhdmFyaWF0ZSA9IF9pbnN0LmJldGF2YXJpYXRlCnBhcmV0b3ZhcmlhdGUgPSBfaW5zdC5wYXJldG92YXJpYXRlCndlaWJ1bGx2YXJpYXRlID0gX2luc3Qud2VpYnVsbHZhcmlhdGUKZ2V0c3RhdGUgPSBfaW5zdC5nZXRzdGF0ZQpzZXRzdGF0ZSA9IF9pbnN0LnNldHN0YXRlCmdldHJhbmRiaXRzID0gX2luc3QuZ2V0cmFuZGJpdHMKCiNpZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgojICAgIF90ZXN0KCkKCg==',
'/Lib/_weakref.py':'IyMgIHRoZXNlIGFyZSBkZWZpbmVkICJxdWlja2x5IiB0byBqdXN0IHNhdGlmeSBpbXBvcnQgcmVxdWlyZW1lbnRzLgojIyAgcGxlYXNlIGRlZmluZSBwcm9wZXJseSBsYXRlci4uCgpkZWYgZ2V0d2Vha3JlZmNvdW50KG9iaik6CiAgICByZXR1cm4gMAoKZGVmIGdldHdlYWtyZWZzKG9iaik6CiAgICByZXR1cm4gW10KCmNsYXNzIHJlZjoKICBkZWYgX19pbml0X18oc2VsZiwgb2JqLCBjYWxsYmFjaz1Ob25lKToKICAgICAgc2VsZi5fb2JqPW9iagogICAgICBzZWxmLl9jYWxsYmFjaz1jYWxsYmFjawoKICBkZWYgX19nZXRhdHRyX18oc2VsZik6CiAgICAgIHJldHVybiBzZWxmLl9vYmoKCmRlZiBwcm94eShvYmopOgogICAgcmV0dXJuIG9iagoKZGVmIENhbGxhYmxlUHJveHlUeXBlKG9iaik6CiAgICBwYXNzCgpkZWYgUHJveHlUeXBlKG9iaik6CiAgICBwYXNzCgpkZWYgUmVmZXJlbmNlVHlwZShvYmopOgogICAgcGFzcwo=',
'/Lib/sre_compile.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyBjb252ZXJ0IHRlbXBsYXRlIHRvIGludGVybmFsIGZvcm1hdAojCiMgQ29weXJpZ2h0IChjKSAxOTk3LTIwMDEgYnkgU2VjcmV0IExhYnMgQUIuICBBbGwgcmlnaHRzIHJlc2VydmVkLgojCiMgU2VlIHRoZSBzcmUucHkgZmlsZSBmb3IgaW5mb3JtYXRpb24gb24gdXNhZ2UgYW5kIHJlZGlzdHJpYnV0aW9uLgojCgoiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgppbXBvcnQgX3NyZSwgc3lzCmltcG9ydCBzcmVfcGFyc2UKZnJvbSBzcmVfY29uc3RhbnRzIGltcG9ydCAqCgphc3NlcnQgX3NyZS5NQUdJQyA9PSBNQUdJQywgIlNSRSBtb2R1bGUgbWlzbWF0Y2giCgppZiBfc3JlLkNPREVTSVpFID09IDI6CiAgICBNQVhDT0RFID0gNjU1MzUKZWxzZToKICAgIE1BWENPREUgPSAweEZGRkZGRkZGCgpkZWYgX2lkZW50aXR5ZnVuY3Rpb24oeCk6CiAgICByZXR1cm4geAoKX0xJVEVSQUxfQ09ERVMgPSBzZXQoW0xJVEVSQUwsIE5PVF9MSVRFUkFMXSkKX1JFUEVBVElOR19DT0RFUyA9IHNldChbUkVQRUFULCBNSU5fUkVQRUFULCBNQVhfUkVQRUFUXSkKX1NVQ0NFU1NfQ09ERVMgPSBzZXQoW1NVQ0NFU1MsIEZBSUxVUkVdKQpfQVNTRVJUX0NPREVTID0gc2V0KFtBU1NFUlQsIEFTU0VSVF9OT1RdKQoKZGVmIF9jb21waWxlKGNvZGUsIHBhdHRlcm4sIGZsYWdzKToKICAgICMgaW50ZXJuYWw6IGNvbXBpbGUgYSAoc3ViKXBhdHRlcm4KICAgIGVtaXQgPSBjb2RlLmFwcGVuZAogICAgX2xlbiA9IGxlbgogICAgTElURVJBTF9DT0RFUyA9IF9MSVRFUkFMX0NPREVTCiAgICBSRVBFQVRJTkdfQ09ERVMgPSBfUkVQRUFUSU5HX0NPREVTCiAgICBTVUNDRVNTX0NPREVTID0gX1NVQ0NFU1NfQ09ERVMKICAgIEFTU0VSVF9DT0RFUyA9IF9BU1NFUlRfQ09ERVMKICAgIGZvciBvcCwgYXYgaW4gcGF0dGVybjoKICAgICAgICBpZiBvcCBpbiBMSVRFUkFMX0NPREVTOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0lHTk9SRUNBU0U6CiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbT1BfSUdOT1JFW29wXV0pCiAgICAgICAgICAgICAgICBlbWl0KF9zcmUuZ2V0bG93ZXIoYXYsIGZsYWdzKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgICAgICBlbWl0KGF2KQogICAgICAgIGVsaWYgb3AgaXMgSU46CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tPUF9JR05PUkVbb3BdXSkKICAgICAgICAgICAgICAgIGRlZiBmaXh1cChsaXRlcmFsLCBmbGFncz1mbGFncyk6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zcmUuZ2V0bG93ZXIobGl0ZXJhbCwgZmxhZ3MpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbb3BdKQogICAgICAgICAgICAgICAgZml4dXAgPSBfaWRlbnRpdHlmdW5jdGlvbgogICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZV9jaGFyc2V0KGF2LCBmbGFncywgY29kZSwgZml4dXApCiAgICAgICAgICAgIGNvZGVbc2tpcF0gPSBfbGVuKGNvZGUpIC0gc2tpcAogICAgICAgIGVsaWYgb3AgaXMgQU5ZOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0RPVEFMTDoKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tBTllfQUxMXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tBTlldKQogICAgICAgIGVsaWYgb3AgaW4gUkVQRUFUSU5HX0NPREVTOgogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX1RFTVBMQVRFOgogICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImludGVybmFsOiB1bnN1cHBvcnRlZCB0ZW1wbGF0ZSBvcGVyYXRvciIpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbUkVQRUFUXSkKICAgICAgICAgICAgICAgIHNraXAgPSBfbGVuKGNvZGUpOyBlbWl0KDApCiAgICAgICAgICAgICAgICBlbWl0KGF2WzBdKQogICAgICAgICAgICAgICAgZW1pdChhdlsxXSkKICAgICAgICAgICAgICAgIF9jb21waWxlKGNvZGUsIGF2WzJdLCBmbGFncykKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgICAgIGNvZGVbc2tpcF0gPSBfbGVuKGNvZGUpIC0gc2tpcAogICAgICAgICAgICBlbGlmIF9zaW1wbGUoYXYpIGFuZCBvcCBpcyBub3QgUkVQRUFUOgogICAgICAgICAgICAgICAgaWYgb3AgaXMgTUFYX1JFUEVBVDoKICAgICAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbUkVQRUFUX09ORV0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNSU5fUkVQRUFUX09ORV0pCiAgICAgICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICAgICAgZW1pdChhdlswXSkKICAgICAgICAgICAgICAgIGVtaXQoYXZbMV0pCiAgICAgICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsyXSwgZmxhZ3MpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbU1VDQ0VTU10pCiAgICAgICAgICAgICAgICBjb2RlW3NraXBdID0gX2xlbihjb2RlKSAtIHNraXAKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tSRVBFQVRdKQogICAgICAgICAgICAgICAgc2tpcCA9IF9sZW4oY29kZSk7IGVtaXQoMCkKICAgICAgICAgICAgICAgIGVtaXQoYXZbMF0pCiAgICAgICAgICAgICAgICBlbWl0KGF2WzFdKQogICAgICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMl0sIGZsYWdzKQogICAgICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgICAgICAgICBpZiBvcCBpcyBNQVhfUkVQRUFUOgogICAgICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNQVhfVU5USUxdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbTUlOX1VOVElMXSkKICAgICAgICBlbGlmIG9wIGlzIFNVQlBBVFRFUk46CiAgICAgICAgICAgIGlmIGF2WzBdOgogICAgICAgICAgICAgICAgZW1pdChPUENPREVTW01BUktdKQogICAgICAgICAgICAgICAgZW1pdCgoYXZbMF0tMSkqMikKICAgICAgICAgICAgIyBfY29tcGlsZV9pbmZvKGNvZGUsIGF2WzFdLCBmbGFncykKICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMV0sIGZsYWdzKQogICAgICAgICAgICBpZiBhdlswXToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tNQVJLXSkKICAgICAgICAgICAgICAgIGVtaXQoKGF2WzBdLTEpKjIrMSkKICAgICAgICBlbGlmIG9wIGluIFNVQ0NFU1NfQ09ERVM6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgZWxpZiBvcCBpbiBBU1NFUlRfQ09ERVM6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIHNraXAgPSBfbGVuKGNvZGUpOyBlbWl0KDApCiAgICAgICAgICAgIGlmIGF2WzBdID49IDA6CiAgICAgICAgICAgICAgICBlbWl0KDApICMgbG9vayBhaGVhZAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbG8sIGhpID0gYXZbMV0uZ2V0d2lkdGgoKQogICAgICAgICAgICAgICAgaWYgbG8gIT0gaGk6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgZXJyb3IoImxvb2stYmVoaW5kIHJlcXVpcmVzIGZpeGVkLXdpZHRoIHBhdHRlcm4iKQogICAgICAgICAgICAgICAgZW1pdChsbykgIyBsb29rIGJlaGluZAogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsxXSwgZmxhZ3MpCiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgZWxpZiBvcCBpcyBDQUxMOgogICAgICAgICAgICBlbWl0KE9QQ09ERVNbb3BdKQogICAgICAgICAgICBza2lwID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tTVUNDRVNTXSkKICAgICAgICAgICAgY29kZVtza2lwXSA9IF9sZW4oY29kZSkgLSBza2lwCiAgICAgICAgZWxpZiBvcCBpcyBBVDoKICAgICAgICAgICAgZW1pdChPUENPREVTW29wXSkKICAgICAgICAgICAgaWYgZmxhZ3MgJiBTUkVfRkxBR19NVUxUSUxJTkU6CiAgICAgICAgICAgICAgICBhdiA9IEFUX01VTFRJTElORS5nZXQoYXYsIGF2KQogICAgICAgICAgICBpZiBmbGFncyAmIFNSRV9GTEFHX0xPQ0FMRToKICAgICAgICAgICAgICAgIGF2ID0gQVRfTE9DQUxFLmdldChhdiwgYXYpCiAgICAgICAgICAgIGVsaWYgZmxhZ3MgJiBTUkVfRkxBR19VTklDT0RFOgogICAgICAgICAgICAgICAgYXYgPSBBVF9VTklDT0RFLmdldChhdiwgYXYpCiAgICAgICAgICAgIGVtaXQoQVRDT0RFU1thdl0pCiAgICAgICAgZWxpZiBvcCBpcyBCUkFOQ0g6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIHRhaWwgPSBbXQogICAgICAgICAgICB0YWlsYXBwZW5kID0gdGFpbC5hcHBlbmQKICAgICAgICAgICAgZm9yIGF2IGluIGF2WzFdOgogICAgICAgICAgICAgICAgc2tpcCA9IF9sZW4oY29kZSk7IGVtaXQoMCkKICAgICAgICAgICAgICAgICMgX2NvbXBpbGVfaW5mbyhjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdiwgZmxhZ3MpCiAgICAgICAgICAgICAgICBlbWl0KE9QQ09ERVNbSlVNUF0pCiAgICAgICAgICAgICAgICB0YWlsYXBwZW5kKF9sZW4oY29kZSkpOyBlbWl0KDApCiAgICAgICAgICAgICAgICBjb2RlW3NraXBdID0gX2xlbihjb2RlKSAtIHNraXAKICAgICAgICAgICAgZW1pdCgwKSAjIGVuZCBvZiBicmFuY2gKICAgICAgICAgICAgZm9yIHRhaWwgaW4gdGFpbDoKICAgICAgICAgICAgICAgIGNvZGVbdGFpbF0gPSBfbGVuKGNvZGUpIC0gdGFpbAogICAgICAgIGVsaWYgb3AgaXMgQ0FURUdPUlk6CiAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfTE9DQUxFOgogICAgICAgICAgICAgICAgYXYgPSBDSF9MT0NBTEVbYXZdCiAgICAgICAgICAgIGVsaWYgZmxhZ3MgJiBTUkVfRkxBR19VTklDT0RFOgogICAgICAgICAgICAgICAgYXYgPSBDSF9VTklDT0RFW2F2XQogICAgICAgICAgICBlbWl0KENIQ09ERVNbYXZdKQogICAgICAgIGVsaWYgb3AgaXMgR1JPVVBSRUY6CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tPUF9JR05PUkVbb3BdXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgICAgIGVtaXQoYXYtMSkKICAgICAgICBlbGlmIG9wIGlzIEdST1VQUkVGX0VYSVNUUzoKICAgICAgICAgICAgZW1pdChPUENPREVTW29wXSkKICAgICAgICAgICAgZW1pdChhdlswXS0xKQogICAgICAgICAgICBza2lweWVzID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICBfY29tcGlsZShjb2RlLCBhdlsxXSwgZmxhZ3MpCiAgICAgICAgICAgIGlmIGF2WzJdOgogICAgICAgICAgICAgICAgZW1pdChPUENPREVTW0pVTVBdKQogICAgICAgICAgICAgICAgc2tpcG5vID0gX2xlbihjb2RlKTsgZW1pdCgwKQogICAgICAgICAgICAgICAgY29kZVtza2lweWVzXSA9IF9sZW4oY29kZSkgLSBza2lweWVzICsgMQogICAgICAgICAgICAgICAgX2NvbXBpbGUoY29kZSwgYXZbMl0sIGZsYWdzKQogICAgICAgICAgICAgICAgY29kZVtza2lwbm9dID0gX2xlbihjb2RlKSAtIHNraXBubwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29kZVtza2lweWVzXSA9IF9sZW4oY29kZSkgLSBza2lweWVzICsgMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInVuc3VwcG9ydGVkIG9wZXJhbmQgdHlwZSIsIG9wKQoKZGVmIF9jb21waWxlX2NoYXJzZXQoY2hhcnNldCwgZmxhZ3MsIGNvZGUsIGZpeHVwPU5vbmUpOgogICAgIyBjb21waWxlIGNoYXJzZXQgc3VicHJvZ3JhbQogICAgZW1pdCA9IGNvZGUuYXBwZW5kCiAgICBpZiBmaXh1cCBpcyBOb25lOgogICAgICAgIGZpeHVwID0gX2lkZW50aXR5ZnVuY3Rpb24KICAgIGZvciBvcCwgYXYgaW4gX29wdGltaXplX2NoYXJzZXQoY2hhcnNldCwgZml4dXApOgogICAgICAgIGVtaXQoT1BDT0RFU1tvcF0pCiAgICAgICAgaWYgb3AgaXMgTkVHQVRFOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICBlbWl0KGZpeHVwKGF2KSkKICAgICAgICBlbGlmIG9wIGlzIFJBTkdFOgogICAgICAgICAgICBlbWl0KGZpeHVwKGF2WzBdKSkKICAgICAgICAgICAgZW1pdChmaXh1cChhdlsxXSkpCiAgICAgICAgZWxpZiBvcCBpcyBDSEFSU0VUOgogICAgICAgICAgICBjb2RlLmV4dGVuZChhdikKICAgICAgICBlbGlmIG9wIGlzIEJJR0NIQVJTRVQ6CiAgICAgICAgICAgIGNvZGUuZXh0ZW5kKGF2KQogICAgICAgIGVsaWYgb3AgaXMgQ0FURUdPUlk6CiAgICAgICAgICAgIGlmIGZsYWdzICYgU1JFX0ZMQUdfTE9DQUxFOgogICAgICAgICAgICAgICAgZW1pdChDSENPREVTW0NIX0xPQ0FMRVthdl1dKQogICAgICAgICAgICBlbGlmIGZsYWdzICYgU1JFX0ZMQUdfVU5JQ09ERToKICAgICAgICAgICAgICAgIGVtaXQoQ0hDT0RFU1tDSF9VTklDT0RFW2F2XV0pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbWl0KENIQ09ERVNbYXZdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIGVycm9yKCJpbnRlcm5hbDogdW5zdXBwb3J0ZWQgc2V0IG9wZXJhdG9yIikKICAgIGVtaXQoT1BDT0RFU1tGQUlMVVJFXSkKCmRlZiBfb3B0aW1pemVfY2hhcnNldChjaGFyc2V0LCBmaXh1cCk6CiAgICAjIGludGVybmFsOiBvcHRpbWl6ZSBjaGFyYWN0ZXIgc2V0CiAgICBvdXQgPSBbXQogICAgb3V0YXBwZW5kID0gb3V0LmFwcGVuZAogICAgY2hhcm1hcCA9IFswXSoyNTYKICAgIHRyeToKICAgICAgICBmb3Igb3AsIGF2IGluIGNoYXJzZXQ6CiAgICAgICAgICAgIGlmIG9wIGlzIE5FR0FURToKICAgICAgICAgICAgICAgIG91dGFwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgZWxpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgY2hhcm1hcFtmaXh1cChhdildID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIFJBTkdFOgogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoZml4dXAoYXZbMF0pLCBmaXh1cChhdlsxXSkrMSk6CiAgICAgICAgICAgICAgICAgICAgY2hhcm1hcFtpXSA9IDEKICAgICAgICAgICAgZWxpZiBvcCBpcyBDQVRFR09SWToKICAgICAgICAgICAgICAgICMgWFhYOiBjb3VsZCBhcHBlbmQgdG8gY2hhcm1hcCB0YWlsCiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnNldCAjIGNhbm5vdCBjb21wcmVzcwogICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgIyBjaGFyYWN0ZXIgc2V0IGNvbnRhaW5zIHVuaWNvZGUgY2hhcmFjdGVycwogICAgICAgIHJldHVybiBfb3B0aW1pemVfdW5pY29kZShjaGFyc2V0LCBmaXh1cCkKICAgICMgY29tcHJlc3MgY2hhcmFjdGVyIG1hcAogICAgaSA9IHAgPSBuID0gMAogICAgcnVucyA9IFtdCiAgICBydW5zYXBwZW5kID0gcnVucy5hcHBlbmQKICAgIGZvciBjIGluIGNoYXJtYXA6CiAgICAgICAgaWYgYzoKICAgICAgICAgICAgaWYgbiA9PSAwOgogICAgICAgICAgICAgICAgcCA9IGkKICAgICAgICAgICAgbiA9IG4gKyAxCiAgICAgICAgZWxpZiBuOgogICAgICAgICAgICBydW5zYXBwZW5kKChwLCBuKSkKICAgICAgICAgICAgbiA9IDAKICAgICAgICBpID0gaSArIDEKICAgIGlmIG46CiAgICAgICAgcnVuc2FwcGVuZCgocCwgbikpCiAgICBpZiBsZW4ocnVucykgPD0gMjoKICAgICAgICAjIHVzZSBsaXRlcmFsL3JhbmdlCiAgICAgICAgZm9yIHAsIG4gaW4gcnVuczoKICAgICAgICAgICAgaWYgbiA9PSAxOgogICAgICAgICAgICAgICAgb3V0YXBwZW5kKChMSVRFUkFMLCBwKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dGFwcGVuZCgoUkFOR0UsIChwLCBwK24tMSkpKQogICAgICAgIGlmIGxlbihvdXQpIDwgbGVuKGNoYXJzZXQpOgogICAgICAgICAgICByZXR1cm4gb3V0CiAgICBlbHNlOgogICAgICAgICMgdXNlIGJpdG1hcAogICAgICAgIGRhdGEgPSBfbWtfYml0bWFwKGNoYXJtYXApCiAgICAgICAgb3V0YXBwZW5kKChDSEFSU0VULCBkYXRhKSkKICAgICAgICByZXR1cm4gb3V0CiAgICByZXR1cm4gY2hhcnNldAoKZGVmIF9ta19iaXRtYXAoYml0cyk6CiAgICBkYXRhID0gW10KICAgIGRhdGFhcHBlbmQgPSBkYXRhLmFwcGVuZAogICAgaWYgX3NyZS5DT0RFU0laRSA9PSAyOgogICAgICAgIHN0YXJ0ID0gKDEsIDApCiAgICBlbHNlOgogICAgICAgIHN0YXJ0ID0gKDEsIDApCiAgICBtLCB2ID0gc3RhcnQKICAgIGZvciBjIGluIGJpdHM6CiAgICAgICAgaWYgYzoKICAgICAgICAgICAgdiA9IHYgKyBtCiAgICAgICAgbSA9IG0gKyBtCiAgICAgICAgaWYgbSA+IE1BWENPREU6CiAgICAgICAgICAgIGRhdGFhcHBlbmQodikKICAgICAgICAgICAgbSwgdiA9IHN0YXJ0CiAgICByZXR1cm4gZGF0YQoKIyBUbyByZXByZXNlbnQgYSBiaWcgY2hhcnNldCwgZmlyc3QgYSBiaXRtYXAgb2YgYWxsIGNoYXJhY3RlcnMgaW4gdGhlCiMgc2V0IGlzIGNvbnN0cnVjdGVkLiBUaGVuLCB0aGlzIGJpdG1hcCBpcyBzbGljZWQgaW50byBjaHVua3Mgb2YgMjU2CiMgY2hhcmFjdGVycywgZHVwbGljYXRlIGNodW5rcyBhcmUgZWxpbWluYXRlZCwgYW5kIGVhY2ggY2h1bmsgaXMKIyBnaXZlbiBhIG51bWJlci4gSW4gdGhlIGNvbXBpbGVkIGV4cHJlc3Npb24sIHRoZSBjaGFyc2V0IGlzCiMgcmVwcmVzZW50ZWQgYnkgYSAxNi1iaXQgd29yZCBzZXF1ZW5jZSwgY29uc2lzdGluZyBvZiBvbmUgd29yZCBmb3IKIyB0aGUgbnVtYmVyIG9mIGRpZmZlcmVudCBjaHVua3MsIGEgc2VxdWVuY2Ugb2YgMjU2IGJ5dGVzICgxMjggd29yZHMpCiMgb2YgY2h1bmsgbnVtYmVycyBpbmRleGVkIGJ5IHRoZWlyIG9yaWdpbmFsIGNodW5rIHBvc2l0aW9uLCBhbmQgYQojIHNlcXVlbmNlIG9mIGNodW5rcyAoMTYgd29yZHMgZWFjaCkuCgojIENvbXByZXNzaW9uIGlzIG5vcm1hbGx5IGdvb2Q6IGluIGEgdHlwaWNhbCBjaGFyc2V0LCBsYXJnZSByYW5nZXMgb2YKIyBVbmljb2RlIHdpbGwgYmUgZWl0aGVyIGNvbXBsZXRlbHkgZXhjbHVkZWQgKGUuZy4gaWYgb25seSBjeXJpbGxpYwojIGxldHRlcnMgYXJlIHRvIGJlIG1hdGNoZWQpLCBvciBjb21wbGV0ZWx5IGluY2x1ZGVkIChlLmcuIGlmIGxhcmdlCiMgc3VicmFuZ2VzIG9mIEthbmppIG1hdGNoKS4gVGhlc2UgcmFuZ2VzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkKIyBjaHVua3Mgb2YgYWxsIG9uZS1iaXRzIG9yIGFsbCB6ZXJvLWJpdHMuCgojIE1hdGNoaW5nIGNhbiBiZSBhbHNvIGRvbmUgZWZmaWNpZW50bHk6IHRoZSBtb3JlIHNpZ25pZmljYW50IGJ5dGUgb2YKIyB0aGUgVW5pY29kZSBjaGFyYWN0ZXIgaXMgYW4gaW5kZXggaW50byB0aGUgY2h1bmsgbnVtYmVyLCBhbmQgdGhlCiMgbGVzcyBzaWduaWZpY2FudCBieXRlIGlzIGEgYml0IGluZGV4IGluIHRoZSBjaHVuayAoanVzdCBsaWtlIHRoZQojIENIQVJTRVQgbWF0Y2hpbmcpLgoKIyBJbiBVQ1MtNCBtb2RlLCB0aGUgQklHQ0hBUlNFVCBvcGNvZGUgc3RpbGwgc3VwcG9ydHMgb25seSBzdWJzZXRzCiMgb2YgdGhlIGJhc2ljIG11bHRpbGluZ3VhbCBwbGFuZTsgYW4gZWZmaWNpZW50IHJlcHJlc2VudGF0aW9uCiMgZm9yIGFsbCBvZiBVVEYtMTYgaGFzIG5vdCB5ZXQgYmVlbiBkZXZlbG9wZWQuIFRoaXMgbWVhbnMsCiMgaW4gcGFydGljdWxhciwgdGhhdCBuZWdhdGVkIGNoYXJzZXRzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhcwojIGJpZ2NoYXJzZXRzLgoKZGVmIF9vcHRpbWl6ZV91bmljb2RlKGNoYXJzZXQsIGZpeHVwKToKICAgIHRyeToKICAgICAgICBpbXBvcnQgYXJyYXkKICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgICAgICByZXR1cm4gY2hhcnNldAogICAgY2hhcm1hcCA9IFswXSo2NTUzNgogICAgbmVnYXRlID0gMAogICAgdHJ5OgogICAgICAgIGZvciBvcCwgYXYgaW4gY2hhcnNldDoKICAgICAgICAgICAgaWYgb3AgaXMgTkVHQVRFOgogICAgICAgICAgICAgICAgbmVnYXRlID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICBjaGFybWFwW2ZpeHVwKGF2KV0gPSAxCiAgICAgICAgICAgIGVsaWYgb3AgaXMgUkFOR0U6CiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShmaXh1cChhdlswXSksIGZpeHVwKGF2WzFdKSsxKToKICAgICAgICAgICAgICAgICAgICBjaGFybWFwW2ldID0gMQogICAgICAgICAgICBlbGlmIG9wIGlzIENBVEVHT1JZOgogICAgICAgICAgICAgICAgIyBYWFg6IGNvdWxkIGV4cGFuZCBjYXRlZ29yeQogICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzZXQgIyBjYW5ub3QgY29tcHJlc3MKICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgICMgbm9uLUJNUCBjaGFyYWN0ZXJzCiAgICAgICAgcmV0dXJuIGNoYXJzZXQKICAgIGlmIG5lZ2F0ZToKICAgICAgICBpZiBzeXMubWF4dW5pY29kZSAhPSA2NTUzNToKICAgICAgICAgICAgIyBYWFg6IG5lZ2F0aW9uIGRvZXMgbm90IHdvcmsgd2l0aCBiaWcgY2hhcnNldHMKICAgICAgICAgICAgcmV0dXJuIGNoYXJzZXQKICAgICAgICBmb3IgaSBpbiByYW5nZSg2NTUzNik6CiAgICAgICAgICAgIGNoYXJtYXBbaV0gPSBub3QgY2hhcm1hcFtpXQogICAgY29tcHMgPSB7fQogICAgbWFwcGluZyA9IFswXSoyNTYKICAgIGJsb2NrID0gMAogICAgZGF0YSA9IFtdCiAgICBmb3IgaSBpbiByYW5nZSgyNTYpOgogICAgICAgIGNodW5rID0gdHVwbGUoY2hhcm1hcFtpKjI1NjooaSsxKSoyNTZdKQogICAgICAgIG5ldyA9IGNvbXBzLnNldGRlZmF1bHQoY2h1bmssIGJsb2NrKQogICAgICAgIG1hcHBpbmdbaV0gPSBuZXcKICAgICAgICBpZiBuZXcgPT0gYmxvY2s6CiAgICAgICAgICAgIGJsb2NrID0gYmxvY2sgKyAxCiAgICAgICAgICAgIGRhdGEgPSBkYXRhICsgX21rX2JpdG1hcChjaHVuaykKICAgIGhlYWRlciA9IFtibG9ja10KICAgIGlmIF9zcmUuQ09ERVNJWkUgPT0gMjoKICAgICAgICBjb2RlID0gJ0gnCiAgICBlbHNlOgogICAgICAgIGNvZGUgPSAnSScKICAgICMgQ29udmVydCBibG9jayBpbmRpY2VzIHRvIGJ5dGUgYXJyYXkgb2YgMjU2IGJ5dGVzCiAgICBtYXBwaW5nID0gYXJyYXkuYXJyYXkoJ2InLCBtYXBwaW5nKS50b2J5dGVzKCkKICAgICMgQ29udmVydCBieXRlIGFycmF5IHRvIHdvcmQgYXJyYXkKICAgIG1hcHBpbmcgPSBhcnJheS5hcnJheShjb2RlLCBtYXBwaW5nKQogICAgYXNzZXJ0IG1hcHBpbmcuaXRlbXNpemUgPT0gX3NyZS5DT0RFU0laRQogICAgYXNzZXJ0IGxlbihtYXBwaW5nKSAqIG1hcHBpbmcuaXRlbXNpemUgPT0gMjU2CiAgICBoZWFkZXIgPSBoZWFkZXIgKyBtYXBwaW5nLnRvbGlzdCgpCiAgICBkYXRhWzA6MF0gPSBoZWFkZXIKICAgIHJldHVybiBbKEJJR0NIQVJTRVQsIGRhdGEpXQoKZGVmIF9zaW1wbGUoYXYpOgogICAgIyBjaGVjayBpZiBhdiBpcyBhICJzaW1wbGUiIG9wZXJhdG9yCiAgICBsbywgaGkgPSBhdlsyXS5nZXR3aWR0aCgpCiAgICBpZiBsbyA9PSAwIGFuZCBoaSA9PSBNQVhSRVBFQVQ6CiAgICAgICAgcmFpc2UgZXJyb3IoIm5vdGhpbmcgdG8gcmVwZWF0IikKICAgIHJldHVybiBsbyA9PSBoaSA9PSAxIGFuZCBhdlsyXVswXVswXSAhPSBTVUJQQVRURVJOCgpkZWYgX2NvbXBpbGVfaW5mbyhjb2RlLCBwYXR0ZXJuLCBmbGFncyk6CiAgICAjIGludGVybmFsOiBjb21waWxlIGFuIGluZm8gYmxvY2suICBpbiB0aGUgY3VycmVudCB2ZXJzaW9uLAogICAgIyB0aGlzIGNvbnRhaW5zIG1pbi9tYXggcGF0dGVybiB3aWR0aCwgYW5kIGFuIG9wdGlvbmFsIGxpdGVyYWwKICAgICMgcHJlZml4IG9yIGEgY2hhcmFjdGVyIG1hcAogICAgbG8sIGhpID0gcGF0dGVybi5nZXR3aWR0aCgpCiAgICBpZiBsbyA9PSAwOgogICAgICAgIHJldHVybiAjIG5vdCB3b3J0aCBpdAogICAgIyBsb29rIGZvciBhIGxpdGVyYWwgcHJlZml4CiAgICBwcmVmaXggPSBbXQogICAgcHJlZml4YXBwZW5kID0gcHJlZml4LmFwcGVuZAogICAgcHJlZml4X3NraXAgPSAwCiAgICBjaGFyc2V0ID0gW10gIyBub3QgdXNlZAogICAgY2hhcnNldGFwcGVuZCA9IGNoYXJzZXQuYXBwZW5kCiAgICBpZiBub3QgKGZsYWdzICYgU1JFX0ZMQUdfSUdOT1JFQ0FTRSk6CiAgICAgICAgIyBsb29rIGZvciBsaXRlcmFsIHByZWZpeAogICAgICAgIGZvciBvcCwgYXYgaW4gcGF0dGVybi5kYXRhOgogICAgICAgICAgICBpZiBvcCBpcyBMSVRFUkFMOgogICAgICAgICAgICAgICAgaWYgbGVuKHByZWZpeCkgPT0gcHJlZml4X3NraXA6CiAgICAgICAgICAgICAgICAgICAgcHJlZml4X3NraXAgPSBwcmVmaXhfc2tpcCArIDEKICAgICAgICAgICAgICAgIHByZWZpeGFwcGVuZChhdikKICAgICAgICAgICAgZWxpZiBvcCBpcyBTVUJQQVRURVJOIGFuZCBsZW4oYXZbMV0pID09IDE6CiAgICAgICAgICAgICAgICBvcCwgYXYgPSBhdlsxXVswXQogICAgICAgICAgICAgICAgaWYgb3AgaXMgTElURVJBTDoKICAgICAgICAgICAgICAgICAgICBwcmVmaXhhcHBlbmQoYXYpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICMgaWYgbm8gcHJlZml4LCBsb29rIGZvciBjaGFyc2V0IHByZWZpeAogICAgICAgIGlmIG5vdCBwcmVmaXggYW5kIHBhdHRlcm4uZGF0YToKICAgICAgICAgICAgb3AsIGF2ID0gcGF0dGVybi5kYXRhWzBdCiAgICAgICAgICAgIGlmIG9wIGlzIFNVQlBBVFRFUk4gYW5kIGF2WzFdOgogICAgICAgICAgICAgICAgb3AsIGF2ID0gYXZbMV1bMF0KICAgICAgICAgICAgICAgIGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICAgICAgY2hhcnNldGFwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgICAgIGVsaWYgb3AgaXMgQlJBTkNIOgogICAgICAgICAgICAgICAgICAgIGMgPSBbXQogICAgICAgICAgICAgICAgICAgIGNhcHBlbmQgPSBjLmFwcGVuZAogICAgICAgICAgICAgICAgICAgICNmaXhtZSBicnl0aG9uCiAgICAgICAgICAgICAgICAgICAgX2ZsYWc9VHJ1ZQogICAgICAgICAgICAgICAgICAgIGZvciBwIGluIGF2WzFdOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgcDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnPUZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBvcCwgYXYgPSBwWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9wIGlzIExJVEVSQUw6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXBwZW5kKChvcCwgYXYpKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICAgICAgICAgaWYgX2ZsYWc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSBjCiAgICAgICAgICAgIGVsaWYgb3AgaXMgQlJBTkNIOgogICAgICAgICAgICAgICAgYyA9IFtdCiAgICAgICAgICAgICAgICBjYXBwZW5kID0gYy5hcHBlbmQKICAgICAgICAgICAgICAgICNmaXhtZSBicnl0aG9uCiAgICAgICAgICAgICAgICBfZmxhZz1UcnVlCiAgICAgICAgICAgICAgICBmb3IgcCBpbiBhdlsxXToKICAgICAgICAgICAgICAgICAgICBpZiBub3QgcDoKICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWc9RmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBvcCwgYXYgPSBwWzBdCiAgICAgICAgICAgICAgICAgICAgaWYgb3AgaXMgTElURVJBTDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FwcGVuZCgob3AsIGF2KSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBfZmxhZz1GYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICAgICBpZiBfZmxhZzoKICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gYwogICAgICAgICAgICBlbGlmIG9wIGlzIElOOgogICAgICAgICAgICAgICAgY2hhcnNldCA9IGF2CgojIyAgICAgaWYgcHJlZml4OgojIyAgICAgICAgIHByaW50ICIqKiogUFJFRklYIiwgcHJlZml4LCBwcmVmaXhfc2tpcAojIyAgICAgaWYgY2hhcnNldDoKIyMgICAgICAgICBwcmludCAiKioqIENIQVJTRVQiLCBjaGFyc2V0CiAgICAjIGFkZCBhbiBpbmZvIGJsb2NrCiAgICBlbWl0ID0gY29kZS5hcHBlbmQKICAgIGVtaXQoT1BDT0RFU1tJTkZPXSkKICAgIHNraXAgPSBsZW4oY29kZSk7IGVtaXQoMCkKICAgICMgbGl0ZXJhbCBmbGFnCiAgICBtYXNrID0gMAogICAgaWYgcHJlZml4OgogICAgICAgIG1hc2sgPSBTUkVfSU5GT19QUkVGSVgKICAgICAgICBpZiBsZW4ocHJlZml4KSA9PSBwcmVmaXhfc2tpcCA9PSBsZW4ocGF0dGVybi5kYXRhKToKICAgICAgICAgICAgbWFzayA9IG1hc2sgKyBTUkVfSU5GT19MSVRFUkFMCiAgICBlbGlmIGNoYXJzZXQ6CiAgICAgICAgbWFzayA9IG1hc2sgKyBTUkVfSU5GT19DSEFSU0VUCiAgICBlbWl0KG1hc2spCiAgICAjIHBhdHRlcm4gbGVuZ3RoCiAgICBpZiBsbyA8IE1BWENPREU6CiAgICAgICAgZW1pdChsbykKICAgIGVsc2U6CiAgICAgICAgZW1pdChNQVhDT0RFKQogICAgICAgIHByZWZpeCA9IHByZWZpeFs6TUFYQ09ERV0KICAgIGlmIGhpIDwgTUFYQ09ERToKICAgICAgICBlbWl0KGhpKQogICAgZWxzZToKICAgICAgICBlbWl0KDApCiAgICAjIGFkZCBsaXRlcmFsIHByZWZpeAogICAgaWYgcHJlZml4OgogICAgICAgIGVtaXQobGVuKHByZWZpeCkpICMgbGVuZ3RoCiAgICAgICAgZW1pdChwcmVmaXhfc2tpcCkgIyBza2lwCiAgICAgICAgY29kZS5leHRlbmQocHJlZml4KQogICAgICAgICMgZ2VuZXJhdGUgb3ZlcmxhcCB0YWJsZQogICAgICAgIHRhYmxlID0gWy0xXSArIChbMF0qbGVuKHByZWZpeCkpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHByZWZpeCkpOgogICAgICAgICAgICB0YWJsZVtpKzFdID0gdGFibGVbaV0rMQogICAgICAgICAgICB3aGlsZSB0YWJsZVtpKzFdID4gMCBhbmQgcHJlZml4W2ldICE9IHByZWZpeFt0YWJsZVtpKzFdLTFdOgogICAgICAgICAgICAgICAgdGFibGVbaSsxXSA9IHRhYmxlW3RhYmxlW2krMV0tMV0rMQogICAgICAgIGNvZGUuZXh0ZW5kKHRhYmxlWzE6XSkgIyBkb24ndCBzdG9yZSBmaXJzdCBlbnRyeQogICAgZWxpZiBjaGFyc2V0OgogICAgICAgIF9jb21waWxlX2NoYXJzZXQoY2hhcnNldCwgZmxhZ3MsIGNvZGUpCiAgICBjb2RlW3NraXBdID0gbGVuKGNvZGUpIC0gc2tpcAoKZGVmIGlzc3RyaW5nKG9iaik6CiAgICByZXR1cm4gaXNpbnN0YW5jZShvYmosIChzdHIsIGJ5dGVzKSkKCmRlZiBfY29kZShwLCBmbGFncyk6CgogICAgZmxhZ3MgPSBwLnBhdHRlcm4uZmxhZ3MgfCBmbGFncwogICAgY29kZSA9IFtdCgogICAgIyBjb21waWxlIGluZm8gYmxvY2sKICAgIF9jb21waWxlX2luZm8oY29kZSwgcCwgZmxhZ3MpCgogICAgIyBjb21waWxlIHRoZSBwYXR0ZXJuCiAgICBfY29tcGlsZShjb2RlLCBwLmRhdGEsIGZsYWdzKQoKICAgIGNvZGUuYXBwZW5kKE9QQ09ERVNbU1VDQ0VTU10pCgogICAgcmV0dXJuIGNvZGUKCmRlZiBjb21waWxlKHAsIGZsYWdzPTApOgogICAgIyBpbnRlcm5hbDogY29udmVydCBwYXR0ZXJuIGxpc3QgdG8gaW50ZXJuYWwgZm9ybWF0CgogICAgaWYgaXNzdHJpbmcocCk6CiAgICAgICAgcGF0dGVybiA9IHAKICAgICAgICBwID0gc3JlX3BhcnNlLnBhcnNlKHAsIGZsYWdzKQogICAgZWxzZToKICAgICAgICBwYXR0ZXJuID0gTm9uZQoKICAgIGNvZGUgPSBfY29kZShwLCBmbGFncykKCiAgICAjIHByaW50IGNvZGUKCiAgICAjIFhYWDogPGZsPiBnZXQgcmlkIG9mIHRoaXMgbGltaXRhdGlvbiEKICAgIGlmIHAucGF0dGVybi5ncm91cHMgPiAxMDA6CiAgICAgICAgcmFpc2UgQXNzZXJ0aW9uRXJyb3IoCiAgICAgICAgICAgICJzb3JyeSwgYnV0IHRoaXMgdmVyc2lvbiBvbmx5IHN1cHBvcnRzIDEwMCBuYW1lZCBncm91cHMiCiAgICAgICAgICAgICkKCiAgICAjIG1hcCBpbiBlaXRoZXIgZGlyZWN0aW9uCiAgICBncm91cGluZGV4ID0gcC5wYXR0ZXJuLmdyb3VwZGljdAogICAgaW5kZXhncm91cCA9IFtOb25lXSAqIHAucGF0dGVybi5ncm91cHMKICAgIGZvciBrLCBpIGluIGdyb3VwaW5kZXguaXRlbXMoKToKICAgICAgICBpbmRleGdyb3VwW2ldID0gawoKICAgIHJldHVybiBfc3JlLmNvbXBpbGUoCiAgICAgICAgcGF0dGVybiwgZmxhZ3MgfCBwLnBhdHRlcm4uZmxhZ3MsIGNvZGUsCiAgICAgICAgcC5wYXR0ZXJuLmdyb3Vwcy0xLAogICAgICAgIGdyb3VwaW5kZXgsIGluZGV4Z3JvdXAKICAgICAgICApCg==',
'/Lib/_collections.py':'IyAiSGlnaCBwZXJmb3JtYW5jZSBkYXRhIHN0cnVjdHVyZXMKIyAiCiMgY29waWVkIGZyb20gcHlweSByZXBvCgojCiMgQ29waWVkIGFuZCBjb21wbGV0ZWQgZnJvbSB0aGUgc2FuZGJveCBvZiBDUHl0aG9uCiMgICAobm9uZGlzdC9zYW5kYm94L2NvbGxlY3Rpb25zL3B5ZGVxdWUucHkgcmV2IDEuMSwgUmF5bW9uZCBIZXR0aW5nZXIpCiMKCmltcG9ydCBvcGVyYXRvcgojdHJ5OgojICAgIGZyb20gdGhyZWFkIGltcG9ydCBnZXRfaWRlbnQgYXMgX3RocmVhZF9pZGVudAojZXhjZXB0IEltcG9ydEVycm9yOgpkZWYgX3RocmVhZF9pZGVudCgpOgogICAgcmV0dXJuIC0xCgoKbiA9IDMwCkxGVExOSyA9IG4KUkdUTE5LID0gbisxCkJMT0NLU0laID0gbisyCgojIFRoZSBkZXF1ZSdzIHNpemUgbGltaXQgaXMgZC5tYXhsZW4uICBUaGUgbGltaXQgY2FuIGJlIHplcm8gb3IgcG9zaXRpdmUsIG9yCiMgTm9uZS4gIEFmdGVyIGFuIGl0ZW0gaXMgYWRkZWQgdG8gYSBkZXF1ZSwgd2UgY2hlY2sgdG8gc2VlIGlmIHRoZSBzaXplIGhhcwojIGdyb3duIHBhc3QgdGhlIGxpbWl0LiBJZiBpdCBoYXMsIHdlIGdldCB0aGUgc2l6ZSBiYWNrIGRvd24gdG8gdGhlIGxpbWl0IGJ5CiMgcG9wcGluZyBhbiBpdGVtIG9mZiBvZiB0aGUgb3Bwb3NpdGUgZW5kLiAgVGhlIG1ldGhvZHMgdGhhdCBjYW4gdHJpZ2dlciB0aGlzCiMgYXJlIGFwcGVuZCgpLCBhcHBlbmRsZWZ0KCksIGV4dGVuZCgpLCBhbmQgZXh0ZW5kbGVmdCgpLgoKY2xhc3MgZGVxdWUob2JqZWN0KToKI2NsYXNzIGRlcXVlOgoKICAgIGRlZiBfX25ld19fKGNscywgaXRlcmFibGU9KCksICphcmdzLCAqKmt3KToKICAgICAgICAjZml4bWUKICAgICAgICAjc2VsZiA9IHN1cGVyKGRlcXVlLCBjbHMpLl9fbmV3X18oY2xzLCAqYXJncywgKiprdykKICAgICAgICBzZWxmPW9iamVjdC5fX25ld19fKGNscywgKmFyZ3MsICoqa3cpCiAgICAgICAgc2VsZi5jbGVhcigpCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19pbml0X18oc2VsZiwgaXRlcmFibGU9KCksIG1heGxlbj1Ob25lKToKICAgICAgICBvYmplY3QuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLmNsZWFyKCkKICAgICAgICBpZiBtYXhsZW4gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIG1heGxlbiA8IDA6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJtYXhsZW4gbXVzdCBiZSBub24tbmVnYXRpdmUiKQogICAgICAgIHNlbGYuX21heGxlbiA9IG1heGxlbgogICAgICAgIGFkZCA9IHNlbGYuYXBwZW5kCiAgICAgICAgZm9yIGVsZW0gaW4gaXRlcmFibGU6CiAgICAgICAgICAgIGFkZChlbGVtKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1heGxlbihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fbWF4bGVuCgogICAgZGVmIGNsZWFyKHNlbGYpOgogICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLmxlZnQgPSBbTm9uZV0gKiBCTE9DS1NJWgogICAgICAgIHNlbGYucmlnaHRuZHggPSBuLy8yICAgIyBwb2ludHMgdG8gbGFzdCB3cml0dGVuIGVsZW1lbnQKICAgICAgICBzZWxmLmxlZnRuZHggPSBuLy8yKzEKICAgICAgICBzZWxmLmxlbmd0aCA9IDAKICAgICAgICBzZWxmLnN0YXRlID0gMAoKICAgIGRlZiBhcHBlbmQoc2VsZiwgeCk6CiAgICAgICAgc2VsZi5zdGF0ZSArPSAxCiAgICAgICAgc2VsZi5yaWdodG5keCArPSAxCiAgICAgICAgaWYgc2VsZi5yaWdodG5keCA9PSBuOgogICAgICAgICAgICBuZXdibG9jayA9IFtOb25lXSAqIEJMT0NLU0laCiAgICAgICAgICAgIHNlbGYucmlnaHRbUkdUTE5LXSA9IG5ld2Jsb2NrCiAgICAgICAgICAgIG5ld2Jsb2NrW0xGVExOS10gPSBzZWxmLnJpZ2h0CiAgICAgICAgICAgIHNlbGYucmlnaHQgPSBuZXdibG9jawogICAgICAgICAgICBzZWxmLnJpZ2h0bmR4ID0gMAogICAgICAgIHNlbGYubGVuZ3RoICs9IDEKICAgICAgICBzZWxmLnJpZ2h0W3NlbGYucmlnaHRuZHhdID0geAogICAgICAgIGlmIHNlbGYubWF4bGVuIGlzIG5vdCBOb25lIGFuZCBzZWxmLmxlbmd0aCA+IHNlbGYubWF4bGVuOgogICAgICAgICAgICBzZWxmLnBvcGxlZnQoKQoKICAgIGRlZiBhcHBlbmRsZWZ0KHNlbGYsIHgpOgogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIHNlbGYubGVmdG5keCAtPSAxCiAgICAgICAgaWYgc2VsZi5sZWZ0bmR4ID09IC0xOgogICAgICAgICAgICBuZXdibG9jayA9IFtOb25lXSAqIEJMT0NLU0laCiAgICAgICAgICAgIHNlbGYubGVmdFtMRlRMTktdID0gbmV3YmxvY2sKICAgICAgICAgICAgbmV3YmxvY2tbUkdUTE5LXSA9IHNlbGYubGVmdAogICAgICAgICAgICBzZWxmLmxlZnQgPSBuZXdibG9jawogICAgICAgICAgICBzZWxmLmxlZnRuZHggPSBuLTEKICAgICAgICBzZWxmLmxlbmd0aCArPSAxCiAgICAgICAgc2VsZi5sZWZ0W3NlbGYubGVmdG5keF0gPSB4CiAgICAgICAgaWYgc2VsZi5tYXhsZW4gaXMgbm90IE5vbmUgYW5kIHNlbGYubGVuZ3RoID4gc2VsZi5tYXhsZW46CiAgICAgICAgICAgIHNlbGYucG9wKCkKCiAgICBkZWYgZXh0ZW5kKHNlbGYsIGl0ZXJhYmxlKToKICAgICAgICBpZiBpdGVyYWJsZSBpcyBzZWxmOgogICAgICAgICAgICBpdGVyYWJsZSA9IGxpc3QoaXRlcmFibGUpCiAgICAgICAgZm9yIGVsZW0gaW4gaXRlcmFibGU6CiAgICAgICAgICAgIHNlbGYuYXBwZW5kKGVsZW0pCgogICAgZGVmIGV4dGVuZGxlZnQoc2VsZiwgaXRlcmFibGUpOgogICAgICAgIGlmIGl0ZXJhYmxlIGlzIHNlbGY6CiAgICAgICAgICAgIGl0ZXJhYmxlID0gbGlzdChpdGVyYWJsZSkKICAgICAgICBmb3IgZWxlbSBpbiBpdGVyYWJsZToKICAgICAgICAgICAgc2VsZi5hcHBlbmRsZWZ0KGVsZW0pCgogICAgZGVmIHBvcChzZWxmKToKICAgICAgICBpZiBzZWxmLmxlZnQgaXMgc2VsZi5yaWdodCBhbmQgc2VsZi5sZWZ0bmR4ID4gc2VsZi5yaWdodG5keDoKICAgICAgICAgICAgI3JhaXNlIEluZGV4RXJyb3IsICJwb3AgZnJvbSBhbiBlbXB0eSBkZXF1ZSIgICMgZG9lcyBub3Qgd29yayBpbiBicnl0aG9uCiAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoInBvcCBmcm9tIGFuIGVtcHR5IGRlcXVlIikKICAgICAgICB4ID0gc2VsZi5yaWdodFtzZWxmLnJpZ2h0bmR4XQogICAgICAgIHNlbGYucmlnaHRbc2VsZi5yaWdodG5keF0gPSBOb25lCiAgICAgICAgc2VsZi5sZW5ndGggLT0gMQogICAgICAgIHNlbGYucmlnaHRuZHggLT0gMQogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIGlmIHNlbGYucmlnaHRuZHggPT0gLTE6CiAgICAgICAgICAgIHByZXZibG9jayA9IHNlbGYucmlnaHRbTEZUTE5LXQogICAgICAgICAgICBpZiBwcmV2YmxvY2sgaXMgTm9uZToKICAgICAgICAgICAgICAgICMgdGhlIGRlcXVlIGhhcyBiZWNvbWUgZW1wdHk7IHJlY2VudGVyIGluc3RlYWQgb2YgZnJlZWluZyBibG9jawogICAgICAgICAgICAgICAgc2VsZi5yaWdodG5keCA9IG4vLzIKICAgICAgICAgICAgICAgIHNlbGYubGVmdG5keCA9IG4vLzIrMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJldmJsb2NrW1JHVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0W0xGVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0ID0gcHJldmJsb2NrCiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0bmR4ID0gbi0xCiAgICAgICAgcmV0dXJuIHgKCiAgICBkZWYgcG9wbGVmdChzZWxmKToKICAgICAgICBpZiBzZWxmLmxlZnQgaXMgc2VsZi5yaWdodCBhbmQgc2VsZi5sZWZ0bmR4ID4gc2VsZi5yaWdodG5keDoKICAgICAgICAgICAgI3JhaXNlIEluZGV4RXJyb3IsICJwb3AgZnJvbSBhbiBlbXB0eSBkZXF1ZSIKICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigicG9wIGZyb20gYW4gZW1wdHkgZGVxdWUiKQogICAgICAgIHggPSBzZWxmLmxlZnRbc2VsZi5sZWZ0bmR4XQogICAgICAgIHNlbGYubGVmdFtzZWxmLmxlZnRuZHhdID0gTm9uZQogICAgICAgIHNlbGYubGVuZ3RoIC09IDEKICAgICAgICBzZWxmLmxlZnRuZHggKz0gMQogICAgICAgIHNlbGYuc3RhdGUgKz0gMQogICAgICAgIGlmIHNlbGYubGVmdG5keCA9PSBuOgogICAgICAgICAgICBwcmV2YmxvY2sgPSBzZWxmLmxlZnRbUkdUTE5LXQogICAgICAgICAgICBpZiBwcmV2YmxvY2sgaXMgTm9uZToKICAgICAgICAgICAgICAgICMgdGhlIGRlcXVlIGhhcyBiZWNvbWUgZW1wdHk7IHJlY2VudGVyIGluc3RlYWQgb2YgZnJlZWluZyBibG9jawogICAgICAgICAgICAgICAgc2VsZi5yaWdodG5keCA9IG4vLzIKICAgICAgICAgICAgICAgIHNlbGYubGVmdG5keCA9IG4vLzIrMQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJldmJsb2NrW0xGVExOS10gPSBOb25lCiAgICAgICAgICAgICAgICBzZWxmLmxlZnRbUkdUTE5LXSA9IE5vbmUKICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHByZXZibG9jawogICAgICAgICAgICAgICAgc2VsZi5sZWZ0bmR4ID0gMAogICAgICAgIHJldHVybiB4CgogICAgZGVmIGNvdW50KHNlbGYsIHZhbHVlKToKICAgICAgICBjID0gMAogICAgICAgIGZvciBpdGVtIGluIHNlbGY6CiAgICAgICAgICAgIGlmIGl0ZW0gPT0gdmFsdWU6CiAgICAgICAgICAgICAgICBjICs9IDEKICAgICAgICByZXR1cm4gYwoKICAgIGRlZiByZW1vdmUoc2VsZiwgdmFsdWUpOgogICAgICAgICMgTmVlZCB0byBiZSBkZWZlbnNpdmUgZm9yIG11dGF0aW5nIGNvbXBhcmlzb25zCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYpKToKICAgICAgICAgICAgaWYgc2VsZltpXSA9PSB2YWx1ZToKICAgICAgICAgICAgICAgIGRlbCBzZWxmW2ldCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJkZXF1ZS5yZW1vdmUoeCk6IHggbm90IGluIGRlcXVlIikKCiAgICBkZWYgcm90YXRlKHNlbGYsIG49MSk6CiAgICAgICAgbGVuZ3RoID0gbGVuKHNlbGYpCiAgICAgICAgaWYgbGVuZ3RoID09IDA6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGhhbGZsZW4gPSAobGVuZ3RoKzEpID4+IDEKICAgICAgICBpZiBuID4gaGFsZmxlbiBvciBuIDwgLWhhbGZsZW46CiAgICAgICAgICAgIG4gJT0gbGVuZ3RoCiAgICAgICAgICAgIGlmIG4gPiBoYWxmbGVuOgogICAgICAgICAgICAgICAgbiAtPSBsZW5ndGgKICAgICAgICAgICAgZWxpZiBuIDwgLWhhbGZsZW46CiAgICAgICAgICAgICAgICBuICs9IGxlbmd0aAogICAgICAgIHdoaWxlIG4gPiAwOgogICAgICAgICAgICBzZWxmLmFwcGVuZGxlZnQoc2VsZi5wb3AoKSkKICAgICAgICAgICAgbiAtPSAxCiAgICAgICAgd2hpbGUgbiA8IDA6CiAgICAgICAgICAgIHNlbGYuYXBwZW5kKHNlbGYucG9wbGVmdCgpKQogICAgICAgICAgICBuICs9IDEKCiAgICBkZWYgcmV2ZXJzZShzZWxmKToKICAgICAgICAicmV2ZXJzZSAqSU4gUExBQ0UqIgogICAgICAgIGxlZnRibG9jayA9IHNlbGYubGVmdAogICAgICAgIHJpZ2h0YmxvY2sgPSBzZWxmLnJpZ2h0CiAgICAgICAgbGVmdGluZGV4ID0gc2VsZi5sZWZ0bmR4CiAgICAgICAgcmlnaHRpbmRleCA9IHNlbGYucmlnaHRuZHgKICAgICAgICBmb3IgaSBpbiByYW5nZShzZWxmLmxlbmd0aCAvLyAyKToKICAgICAgICAgICAgIyBWYWxpZGF0ZSB0aGF0IHBvaW50ZXJzIGhhdmVuJ3QgbWV0IGluIHRoZSBtaWRkbGUKICAgICAgICAgICAgYXNzZXJ0IGxlZnRibG9jayAhPSByaWdodGJsb2NrIG9yIGxlZnRpbmRleCA8IHJpZ2h0aW5kZXgKCiAgICAgICAgICAgICMgU3dhcAogICAgICAgICAgICAocmlnaHRibG9ja1tyaWdodGluZGV4XSwgbGVmdGJsb2NrW2xlZnRpbmRleF0pID0gKAogICAgICAgICAgICAgICAgbGVmdGJsb2NrW2xlZnRpbmRleF0sIHJpZ2h0YmxvY2tbcmlnaHRpbmRleF0pCgogICAgICAgICAgICAjIEFkdmFuY2UgbGVmdCBibG9jay9pbmRleCBwYWlyCiAgICAgICAgICAgIGxlZnRpbmRleCArPSAxCiAgICAgICAgICAgIGlmIGxlZnRpbmRleCA9PSBuOgogICAgICAgICAgICAgICAgbGVmdGJsb2NrID0gbGVmdGJsb2NrW1JHVExOS10KICAgICAgICAgICAgICAgIGFzc2VydCBsZWZ0YmxvY2sgaXMgbm90IE5vbmUKICAgICAgICAgICAgICAgIGxlZnRpbmRleCA9IDAKCiAgICAgICAgICAgICMgU3RlcCBiYWNrd2FyZHMgd2l0aCB0aGUgcmlnaHQgYmxvY2svaW5kZXggcGFpcgogICAgICAgICAgICByaWdodGluZGV4IC09IDEKICAgICAgICAgICAgaWYgcmlnaHRpbmRleCA9PSAtMToKICAgICAgICAgICAgICAgIHJpZ2h0YmxvY2sgPSByaWdodGJsb2NrW0xGVExOS10KICAgICAgICAgICAgICAgIGFzc2VydCByaWdodGJsb2NrIGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICByaWdodGluZGV4ID0gbiAtIDEKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgdGhyZWFkbG9jYWxhdHRyID0gJ19fcmVwcicgKyBzdHIoX3RocmVhZF9pZGVudCgpKQogICAgICAgIGlmIHRocmVhZGxvY2FsYXR0ciBpbiBzZWxmLl9fZGljdF9fOgogICAgICAgICAgICByZXR1cm4gJ2RlcXVlKFsuLi5dKScKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl9fZGljdF9fW3RocmVhZGxvY2FsYXR0cl0gPSBUcnVlCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmIHNlbGYubWF4bGVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGVxdWUoJXIsIG1heGxlbj0lcyknICUgKGxpc3Qoc2VsZiksIHNlbGYubWF4bGVuKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2RlcXVlKCVyKScgJSAobGlzdChzZWxmKSwpCiAgICAgICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgICAgICBkZWwgc2VsZi5fX2RpY3RfX1t0aHJlYWRsb2NhbGF0dHJdCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBkZXF1ZV9pdGVyYXRvcihzZWxmLCBzZWxmLl9pdGVyX2ltcGwpCgogICAgZGVmIF9pdGVyX2ltcGwoc2VsZiwgb3JpZ2luYWxfc3RhdGUsIGdpdmV1cCk6CiAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICBibG9jayA9IHNlbGYubGVmdAogICAgICAgIHdoaWxlIGJsb2NrOgogICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICBpZiBibG9jayBpcyBzZWxmLmxlZnQ6CiAgICAgICAgICAgICAgICBsID0gc2VsZi5sZWZ0bmR4CiAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICByID0gc2VsZi5yaWdodG5keCArIDEKICAgICAgICAgICAgZm9yIGVsZW0gaW4gYmxvY2tbbDpyXToKICAgICAgICAgICAgICAgIHlpZWxkIGVsZW0KICAgICAgICAgICAgICAgIGlmIHNlbGYuc3RhdGUgIT0gb3JpZ2luYWxfc3RhdGU6CiAgICAgICAgICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICAgICAgYmxvY2sgPSBibG9ja1tSR1RMTktdCgogICAgZGVmIF9fcmV2ZXJzZWRfXyhzZWxmKToKICAgICAgICByZXR1cm4gZGVxdWVfaXRlcmF0b3Ioc2VsZiwgc2VsZi5fcmV2ZXJzZWRfaW1wbCkKCiAgICBkZWYgX3JldmVyc2VkX2ltcGwoc2VsZiwgb3JpZ2luYWxfc3RhdGUsIGdpdmV1cCk6CiAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgZ2l2ZXVwKCkKICAgICAgICBibG9jayA9IHNlbGYucmlnaHQKICAgICAgICB3aGlsZSBibG9jazoKICAgICAgICAgICAgbCwgciA9IDAsIG4KICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgbCA9IHNlbGYubGVmdG5keAogICAgICAgICAgICBpZiBibG9jayBpcyBzZWxmLnJpZ2h0OgogICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgIGZvciBlbGVtIGluIHJldmVyc2VkKGJsb2NrW2w6cl0pOgogICAgICAgICAgICAgICAgeWllbGQgZWxlbQogICAgICAgICAgICAgICAgaWYgc2VsZi5zdGF0ZSAhPSBvcmlnaW5hbF9zdGF0ZToKICAgICAgICAgICAgICAgICAgICBnaXZldXAoKQogICAgICAgICAgICBibG9jayA9IGJsb2NrW0xGVExOS10KCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICAjc3VtID0gMAogICAgICAgICNibG9jayA9IHNlbGYubGVmdAogICAgICAgICN3aGlsZSBibG9jazoKICAgICAgICAjICAgIHN1bSArPSBuCiAgICAgICAgIyAgICBibG9jayA9IGJsb2NrW1JHVExOS10KICAgICAgICAjcmV0dXJuIHN1bSArIHNlbGYucmlnaHRuZHggLSBzZWxmLmxlZnRuZHggKyAxIC0gbgogICAgICAgIHJldHVybiBzZWxmLmxlbmd0aAoKICAgIGRlZiBfX2dldHJlZihzZWxmLCBpbmRleCk6CiAgICAgICAgaWYgaW5kZXggPj0gMDoKICAgICAgICAgICAgYmxvY2sgPSBzZWxmLmxlZnQKICAgICAgICAgICAgd2hpbGUgYmxvY2s6CiAgICAgICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgICAgIGwgPSBzZWxmLmxlZnRuZHgKICAgICAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgICAgICBzcGFuID0gci1sCiAgICAgICAgICAgICAgICBpZiBpbmRleCA8IHNwYW46CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrLCBsK2luZGV4CiAgICAgICAgICAgICAgICBpbmRleCAtPSBzcGFuCiAgICAgICAgICAgICAgICBibG9jayA9IGJsb2NrW1JHVExOS10KICAgICAgICBlbHNlOgogICAgICAgICAgICBibG9jayA9IHNlbGYucmlnaHQKICAgICAgICAgICAgd2hpbGUgYmxvY2s6CiAgICAgICAgICAgICAgICBsLCByID0gMCwgbgogICAgICAgICAgICAgICAgaWYgYmxvY2sgaXMgc2VsZi5sZWZ0OgogICAgICAgICAgICAgICAgICAgIGwgPSBzZWxmLmxlZnRuZHgKICAgICAgICAgICAgICAgIGlmIGJsb2NrIGlzIHNlbGYucmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgciA9IHNlbGYucmlnaHRuZHggKyAxCiAgICAgICAgICAgICAgICBuZWdhdGl2ZV9zcGFuID0gbC1yCiAgICAgICAgICAgICAgICBpZiBpbmRleCA+PSBuZWdhdGl2ZV9zcGFuOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9jaywgcitpbmRleAogICAgICAgICAgICAgICAgaW5kZXggLT0gbmVnYXRpdmVfc3BhbgogICAgICAgICAgICAgICAgYmxvY2sgPSBibG9ja1tMRlRMTktdCiAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigiZGVxdWUgaW5kZXggb3V0IG9mIHJhbmdlIikKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGJsb2NrLCBpbmRleCA9IHNlbGYuX19nZXRyZWYoaW5kZXgpCiAgICAgICAgcmV0dXJuIGJsb2NrW2luZGV4XQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBpbmRleCwgdmFsdWUpOgogICAgICAgIGJsb2NrLCBpbmRleCA9IHNlbGYuX19nZXRyZWYoaW5kZXgpCiAgICAgICAgYmxvY2tbaW5kZXhdID0gdmFsdWUKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIGxlbmd0aCA9IGxlbihzZWxmKQogICAgICAgIGlmIGluZGV4ID49IDA6CiAgICAgICAgICAgIGlmIGluZGV4ID49IGxlbmd0aDoKICAgICAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoImRlcXVlIGluZGV4IG91dCBvZiByYW5nZSIpCiAgICAgICAgICAgIHNlbGYucm90YXRlKC1pbmRleCkKICAgICAgICAgICAgc2VsZi5wb3BsZWZ0KCkKICAgICAgICAgICAgc2VsZi5yb3RhdGUoaW5kZXgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgI2luZGV4ID0gfmluZGV4ICAgICAgI3RvZG8gdW50aWwgYml0IHdpc2Ugb3BlcmF0b3JzIGFyZSBpbiBieXRob24KICAgICAgICAgICAgaW5kZXg9IGluZGV4XigyKiozMSkKICAgICAgICAgICAgaWYgaW5kZXggPj0gbGVuZ3RoOgogICAgICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcigiZGVxdWUgaW5kZXggb3V0IG9mIHJhbmdlIikKICAgICAgICAgICAgc2VsZi5yb3RhdGUoaW5kZXgpCiAgICAgICAgICAgIHNlbGYucG9wKCkKICAgICAgICAgICAgc2VsZi5yb3RhdGUoLWluZGV4KQoKICAgIGRlZiBfX3JlZHVjZV9leF9fKHNlbGYsIHByb3RvKToKICAgICAgICByZXR1cm4gdHlwZShzZWxmKSwgKGxpc3Qoc2VsZiksIHNlbGYubWF4bGVuKQoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICAjcmFpc2UgVHlwZUVycm9yLCAiZGVxdWUgb2JqZWN0cyBhcmUgdW5oYXNoYWJsZSIKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImRlcXVlIG9iamVjdHMgYXJlIHVuaGFzaGFibGUiKQoKICAgIGRlZiBfX2NvcHlfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZiwgc2VsZi5tYXhsZW4pCgogICAgIyBYWFggbWFrZSBjb21wYXJpc29uIG1vcmUgZWZmaWNpZW50CiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID09IGxpc3Qob3RoZXIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGVxdWUpOgogICAgICAgICAgICByZXR1cm4gbGlzdChzZWxmKSAhPSBsaXN0KG90aGVyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRlcXVlKToKICAgICAgICAgICAgcmV0dXJuIGxpc3Qoc2VsZikgPCBsaXN0KG90aGVyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRlcXVlKToKICAgICAgICAgICAgcmV0dXJuIGxpc3Qoc2VsZikgPD0gbGlzdChvdGhlcikKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID4gbGlzdChvdGhlcikKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19nZV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkZXF1ZSk6CiAgICAgICAgICAgIHJldHVybiBsaXN0KHNlbGYpID49IGxpc3Qob3RoZXIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9faWFkZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBzZWxmLmV4dGVuZChvdGhlcikKICAgICAgICByZXR1cm4gc2VsZgoKCmNsYXNzIGRlcXVlX2l0ZXJhdG9yKG9iamVjdCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRlcSwgaXRlcmdlbik6CiAgICAgICAgc2VsZi5jb3VudGVyID0gbGVuKGRlcSkKICAgICAgICBkZWYgZ2l2ZXVwKCk6CiAgICAgICAgICAgIHNlbGYuY291bnRlciA9IDAKICAgICAgICAgICAgI3JhaXNlIFJ1bnRpbWVFcnJvciwgImRlcXVlIG11dGF0ZWQgZHVyaW5nIGl0ZXJhdGlvbiIKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJkZXF1ZSBtdXRhdGVkIGR1cmluZyBpdGVyYXRpb24iKQogICAgICAgIHNlbGYuX2dlbiA9IGl0ZXJnZW4oZGVxLnN0YXRlLCBnaXZldXApCgogICAgZGVmIG5leHQoc2VsZik6CiAgICAgICAgcmVzID0gIHNlbGYuX2dlbi5uZXh0KCkKICAgICAgICBzZWxmLmNvdW50ZXIgLT0gMQogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYKCmNsYXNzIGRlZmF1bHRkaWN0KGRpY3QpOgogICAgCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dkcyk6CiAgICAgICAgaWYgbGVuKGFyZ3MpID4gMDoKICAgICAgICAgICAgZGVmYXVsdF9mYWN0b3J5ID0gYXJnc1swXQogICAgICAgICAgICBhcmdzID0gYXJnc1sxOl0KICAgICAgICAgICAgaWYgbm90IGNhbGxhYmxlKGRlZmF1bHRfZmFjdG9yeSkgYW5kIGRlZmF1bHRfZmFjdG9yeSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBjYWxsYWJsZSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGVmYXVsdF9mYWN0b3J5ID0gTm9uZQogICAgICAgIHNlbGYuZGVmYXVsdF9mYWN0b3J5ID0gZGVmYXVsdF9mYWN0b3J5CiAgICAgICAgc3VwZXIoZGVmYXVsdGRpY3QsIHNlbGYpLl9faW5pdF9fKCphcmdzLCAqKmt3ZHMpCiAgICAKICAgICNmaXhtZS4uICBoYWQgdG8gYWRkIHRoaXMgZnVuY3Rpb24gdG8gZ2V0IGRlZmF1bHRkaWN0IHdvcmtpbmcgd2l0aCBicnl0aG9uIGNvcnJlY3RseQogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGtleSk6CiAgICAgICAgaWYgc2VsZi5fX2NvbnRhaW5zX18oa2V5KTogIAogICAgICAgICAgIHJldHVybiBkaWN0Ll9fZ2V0aXRlbV9fKHNlbGYsa2V5KQogICAgCiAgICAgICAgcmV0dXJuIHNlbGYuX19taXNzaW5nX18oa2V5KQoKICAgIGRlZiBfX21pc3NpbmdfXyhzZWxmLCBrZXkpOgogICAgICAgICMgZnJvbSBkZWZhdWx0ZGljdCBkb2NzCiAgICAgICAgaWYgc2VsZi5kZWZhdWx0X2ZhY3RvcnkgaXMgTm9uZTogCiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yKGtleSkKICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA9IHNlbGYuZGVmYXVsdF9mYWN0b3J5KCkKICAgICAgICByZXR1cm4gdmFsdWUKCiAgICBkZWYgX19yZXByX18oc2VsZiwgcmVjdXJzZT1zZXQoKSk6CiAgICAgICAgaWYgaWQoc2VsZikgaW4gcmVjdXJzZToKICAgICAgICAgICAgcmV0dXJuICJkZWZhdWx0ZGljdCguLi4pIgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVjdXJzZS5hZGQoaWQoc2VsZikpCiAgICAgICAgICAgIHJldHVybiAiZGVmYXVsdGRpY3QoJXMsICVzKSIgJSAocmVwcihzZWxmLmRlZmF1bHRfZmFjdG9yeSksIHN1cGVyKGRlZmF1bHRkaWN0LCBzZWxmKS5fX3JlcHJfXygpKQogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHJlY3Vyc2UucmVtb3ZlKGlkKHNlbGYpKQoKICAgIGRlZiBjb3B5KHNlbGYpOgogICAgICAgIHJldHVybiB0eXBlKHNlbGYpKHNlbGYuZGVmYXVsdF9mYWN0b3J5LCBzZWxmKQogICAgCiAgICBkZWYgX19jb3B5X18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuY29weSgpCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgIwogICAgICAgICNfX3JlZHVjZV9fIG11c3QgcmV0dXJuIGEgNS10dXBsZSBhcyBmb2xsb3dzOgogICAgICAgICMKICAgICAgICAjICAgLSBmYWN0b3J5IGZ1bmN0aW9uCiAgICAgICAgIyAgIC0gdHVwbGUgb2YgYXJncyBmb3IgdGhlIGZhY3RvcnkgZnVuY3Rpb24KICAgICAgICAjICAgLSBhZGRpdGlvbmFsIHN0YXRlIChoZXJlIE5vbmUpCiAgICAgICAgIyAgIC0gc2VxdWVuY2UgaXRlcmF0b3IgKGhlcmUgTm9uZSkKICAgICAgICAjICAgLSBkaWN0aW9uYXJ5IGl0ZXJhdG9yICh5aWVsZGluZyBzdWNjZXNzaXZlIChrZXksIHZhbHVlKSBwYWlycwoKICAgICAgICAjICAgVGhpcyBBUEkgaXMgdXNlZCBieSBwaWNrbGUucHkgYW5kIGNvcHkucHkuCiAgICAgICAgIwogICAgICAgIHJldHVybiAodHlwZShzZWxmKSwgKHNlbGYuZGVmYXVsdF9mYWN0b3J5LCksIE5vbmUsIE5vbmUsIHNlbGYuaXRlcml0ZW1zKCkpCg==',
'/Lib/local_storage.py':'IyBsb2NhbCBzdG9yYWdlIGluIGJyb3dzZXIKCmNsYXNzIExvY2FsU3RvcmFnZToKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgaWYgbm90IF9fQlJZVEhPTl9fLmhhc19sb2NhbF9zdG9yYWdlOgogICAgICAgICAgICByYWlzZSBOYW1lRXJyb3IoJ2xvY2FsIHN0b3JhZ2UgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlcicpCiAgICAgICAgc2VsZi5zdG9yZSA9IF9fQlJZVEhPTl9fLmxvY2FsX3N0b3JhZ2UoKQogICAgICAgIAogICAgZGVmIF9fZGVsaXRlbV9fKHNlbGYsa2V5KToKICAgICAgICBzZWxmLnN0b3JlLnJlbW92ZUl0ZW0oa2V5KQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLGtleSk6CiAgICAgICAgcmVzPXNlbGYuc3RvcmUuZ2V0SXRlbShrZXkpCiAgICAgICAgaWYgcmVzOgogICAgICAgICAgIHJldHVybiByZXMKCiAgICAgICAgcmFpc2UgS2V5RXJyb3Ioa2V5KQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLGtleSx2YWx1ZSk6CiAgICAgICAgc2VsZi5zdG9yZS5zZXRJdGVtKGtleSx2YWx1ZSkKCiAgICAjaW1wbGVtZW50ICJpbiIgZnVuY3Rpb25hbGl0eQogICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLCBrZXkpOgogICAgICAgIHJlcz1zZWxmLnN0b3JlLmdldEl0ZW0oa2V5KQogICAgICAgIGlmIHJlczoKICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICByZXR1cm4gRmFsc2UKCnN0b3JhZ2UgPSBMb2NhbFN0b3JhZ2UoKQoK',
'/Lib/re.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyByZS1jb21wYXRpYmxlIGludGVyZmFjZSBmb3IgdGhlIHNyZSBtYXRjaGluZyBlbmdpbmUKIwojIENvcHlyaWdodCAoYykgMTk5OC0yMDAxIGJ5IFNlY3JldCBMYWJzIEFCLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgdmVyc2lvbiBvZiB0aGUgU1JFIGxpYnJhcnkgY2FuIGJlIHJlZGlzdHJpYnV0ZWQgdW5kZXIgQ05SSSdzCiMgUHl0aG9uIDEuNiBsaWNlbnNlLiAgRm9yIGFueSBvdGhlciB1c2UsIHBsZWFzZSBjb250YWN0IFNlY3JldCBMYWJzCiMgQUIgKGluZm9AcHl0aG9ud2FyZS5jb20pLgojCiMgUG9ydGlvbnMgb2YgdGhpcyBlbmdpbmUgaGF2ZSBiZWVuIGRldmVsb3BlZCBpbiBjb29wZXJhdGlvbiB3aXRoCiMgQ05SSS4gIEhld2xldHQtUGFja2FyZCBwcm92aWRlZCBmdW5kaW5nIGZvciAxLjYgaW50ZWdyYXRpb24gYW5kCiMgb3RoZXIgY29tcGF0aWJpbGl0eSB3b3JrLgojCgpyIiIiU3VwcG9ydCBmb3IgcmVndWxhciBleHByZXNzaW9ucyAoUkUpLgoKVGhpcyBtb2R1bGUgcHJvdmlkZXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoaW5nIG9wZXJhdGlvbnMgc2ltaWxhciB0bwp0aG9zZSBmb3VuZCBpbiBQZXJsLiAgSXQgc3VwcG9ydHMgYm90aCA4LWJpdCBhbmQgVW5pY29kZSBzdHJpbmdzOyBib3RoCnRoZSBwYXR0ZXJuIGFuZCB0aGUgc3RyaW5ncyBiZWluZyBwcm9jZXNzZWQgY2FuIGNvbnRhaW4gbnVsbCBieXRlcyBhbmQKY2hhcmFjdGVycyBvdXRzaWRlIHRoZSBVUyBBU0NJSSByYW5nZS4KClJlZ3VsYXIgZXhwcmVzc2lvbnMgY2FuIGNvbnRhaW4gYm90aCBzcGVjaWFsIGFuZCBvcmRpbmFyeSBjaGFyYWN0ZXJzLgpNb3N0IG9yZGluYXJ5IGNoYXJhY3RlcnMsIGxpa2UgIkEiLCAiYSIsIG9yICIwIiwgYXJlIHRoZSBzaW1wbGVzdApyZWd1bGFyIGV4cHJlc3Npb25zOyB0aGV5IHNpbXBseSBtYXRjaCB0aGVtc2VsdmVzLiAgWW91IGNhbgpjb25jYXRlbmF0ZSBvcmRpbmFyeSBjaGFyYWN0ZXJzLCBzbyBsYXN0IG1hdGNoZXMgdGhlIHN0cmluZyAnbGFzdCcuCgpUaGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGFyZToKICAgICIuIiAgICAgIE1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgYSBuZXdsaW5lLgogICAgIl4iICAgICAgTWF0Y2hlcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZy4KICAgICIkIiAgICAgIE1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgc3RyaW5nIG9yIGp1c3QgYmVmb3JlIHRoZSBuZXdsaW5lIGF0CiAgICAgICAgICAgICB0aGUgZW5kIG9mIHRoZSBzdHJpbmcuCiAgICAiKiIgICAgICBNYXRjaGVzIDAgb3IgbW9yZSAoZ3JlZWR5KSByZXBldGl0aW9ucyBvZiB0aGUgcHJlY2VkaW5nIFJFLgogICAgICAgICAgICAgR3JlZWR5IG1lYW5zIHRoYXQgaXQgd2lsbCBtYXRjaCBhcyBtYW55IHJlcGV0aXRpb25zIGFzIHBvc3NpYmxlLgogICAgIisiICAgICAgTWF0Y2hlcyAxIG9yIG1vcmUgKGdyZWVkeSkgcmVwZXRpdGlvbnMgb2YgdGhlIHByZWNlZGluZyBSRS4KICAgICI/IiAgICAgIE1hdGNoZXMgMCBvciAxIChncmVlZHkpIG9mIHRoZSBwcmVjZWRpbmcgUkUuCiAgICAqPywrPyw/PyBOb24tZ3JlZWR5IHZlcnNpb25zIG9mIHRoZSBwcmV2aW91cyB0aHJlZSBzcGVjaWFsIGNoYXJhY3RlcnMuCiAgICB7bSxufSAgICBNYXRjaGVzIGZyb20gbSB0byBuIHJlcGV0aXRpb25zIG9mIHRoZSBwcmVjZWRpbmcgUkUuCiAgICB7bSxufT8gICBOb24tZ3JlZWR5IHZlcnNpb24gb2YgdGhlIGFib3ZlLgogICAgIlxcIiAgICAgRWl0aGVyIGVzY2FwZXMgc3BlY2lhbCBjaGFyYWN0ZXJzIG9yIHNpZ25hbHMgYSBzcGVjaWFsIHNlcXVlbmNlLgogICAgW10gICAgICAgSW5kaWNhdGVzIGEgc2V0IG9mIGNoYXJhY3RlcnMuCiAgICAgICAgICAgICBBICJeIiBhcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGluZGljYXRlcyBhIGNvbXBsZW1lbnRpbmcgc2V0LgogICAgInwiICAgICAgQXxCLCBjcmVhdGVzIGFuIFJFIHRoYXQgd2lsbCBtYXRjaCBlaXRoZXIgQSBvciBCLgogICAgKC4uLikgICAgTWF0Y2hlcyB0aGUgUkUgaW5zaWRlIHRoZSBwYXJlbnRoZXNlcy4KICAgICAgICAgICAgIFRoZSBjb250ZW50cyBjYW4gYmUgcmV0cmlldmVkIG9yIG1hdGNoZWQgbGF0ZXIgaW4gdGhlIHN0cmluZy4KICAgICg/YWlMbXN1eCkgU2V0IHRoZSBBLCBJLCBMLCBNLCBTLCBVLCBvciBYIGZsYWcgZm9yIHRoZSBSRSAoc2VlIGJlbG93KS4KICAgICg/Oi4uLikgIE5vbi1ncm91cGluZyB2ZXJzaW9uIG9mIHJlZ3VsYXIgcGFyZW50aGVzZXMuCiAgICAoP1A8bmFtZT4uLi4pIFRoZSBzdWJzdHJpbmcgbWF0Y2hlZCBieSB0aGUgZ3JvdXAgaXMgYWNjZXNzaWJsZSBieSBuYW1lLgogICAgKD9QPW5hbWUpICAgICBNYXRjaGVzIHRoZSB0ZXh0IG1hdGNoZWQgZWFybGllciBieSB0aGUgZ3JvdXAgbmFtZWQgbmFtZS4KICAgICg/Iy4uLikgIEEgY29tbWVudDsgaWdub3JlZC4KICAgICg/PS4uLikgIE1hdGNoZXMgaWYgLi4uIG1hdGNoZXMgbmV4dCwgYnV0IGRvZXNuJ3QgY29uc3VtZSB0aGUgc3RyaW5nLgogICAgKD8hLi4uKSAgTWF0Y2hlcyBpZiAuLi4gZG9lc24ndCBtYXRjaCBuZXh0LgogICAgKD88PS4uLikgTWF0Y2hlcyBpZiBwcmVjZWRlZCBieSAuLi4gKG11c3QgYmUgZml4ZWQgbGVuZ3RoKS4KICAgICg/PCEuLi4pIE1hdGNoZXMgaWYgbm90IHByZWNlZGVkIGJ5IC4uLiAobXVzdCBiZSBmaXhlZCBsZW5ndGgpLgogICAgKD8oaWQvbmFtZSl5ZXN8bm8pIE1hdGNoZXMgeWVzIHBhdHRlcm4gaWYgdGhlIGdyb3VwIHdpdGggaWQvbmFtZSBtYXRjaGVkLAogICAgICAgICAgICAgICAgICAgICAgIHRoZSAob3B0aW9uYWwpIG5vIHBhdHRlcm4gb3RoZXJ3aXNlLgoKVGhlIHNwZWNpYWwgc2VxdWVuY2VzIGNvbnNpc3Qgb2YgIlxcIiBhbmQgYSBjaGFyYWN0ZXIgZnJvbSB0aGUgbGlzdApiZWxvdy4gIElmIHRoZSBvcmRpbmFyeSBjaGFyYWN0ZXIgaXMgbm90IG9uIHRoZSBsaXN0LCB0aGVuIHRoZQpyZXN1bHRpbmcgUkUgd2lsbCBtYXRjaCB0aGUgc2Vjb25kIGNoYXJhY3Rlci4KICAgIFxudW1iZXIgIE1hdGNoZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBncm91cCBvZiB0aGUgc2FtZSBudW1iZXIuCiAgICBcQSAgICAgICBNYXRjaGVzIG9ubHkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmcuCiAgICBcWiAgICAgICBNYXRjaGVzIG9ubHkgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLgogICAgXGIgICAgICAgTWF0Y2hlcyB0aGUgZW1wdHkgc3RyaW5nLCBidXQgb25seSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgd29yZC4KICAgIFxCICAgICAgIE1hdGNoZXMgdGhlIGVtcHR5IHN0cmluZywgYnV0IG5vdCBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgd29yZC4KICAgIFxkICAgICAgIE1hdGNoZXMgYW55IGRlY2ltYWwgZGlnaXQ7IGVxdWl2YWxlbnQgdG8gdGhlIHNldCBbMC05XSBpbgogICAgICAgICAgICAgYnl0ZXMgcGF0dGVybnMgb3Igc3RyaW5nIHBhdHRlcm5zIHdpdGggdGhlIEFTQ0lJIGZsYWcuCiAgICAgICAgICAgICBJbiBzdHJpbmcgcGF0dGVybnMgd2l0aG91dCB0aGUgQVNDSUkgZmxhZywgaXQgd2lsbCBtYXRjaCB0aGUgd2hvbGUKICAgICAgICAgICAgIHJhbmdlIG9mIFVuaWNvZGUgZGlnaXRzLgogICAgXEQgICAgICAgTWF0Y2hlcyBhbnkgbm9uLWRpZ2l0IGNoYXJhY3RlcjsgZXF1aXZhbGVudCB0byBbXlxkXS4KICAgIFxzICAgICAgIE1hdGNoZXMgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVyOyBlcXVpdmFsZW50IHRvIFsgXHRcblxyXGZcdl0gaW4KICAgICAgICAgICAgIGJ5dGVzIHBhdHRlcm5zIG9yIHN0cmluZyBwYXR0ZXJucyB3aXRoIHRoZSBBU0NJSSBmbGFnLgogICAgICAgICAgICAgSW4gc3RyaW5nIHBhdHRlcm5zIHdpdGhvdXQgdGhlIEFTQ0lJIGZsYWcsIGl0IHdpbGwgbWF0Y2ggdGhlIHdob2xlCiAgICAgICAgICAgICByYW5nZSBvZiBVbmljb2RlIHdoaXRlc3BhY2UgY2hhcmFjdGVycy4KICAgIFxTICAgICAgIE1hdGNoZXMgYW55IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcjsgZXF1aXZhbGVudCB0byBbXlxzXS4KICAgIFx3ICAgICAgIE1hdGNoZXMgYW55IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXI7IGVxdWl2YWxlbnQgdG8gW2EtekEtWjAtOV9dCiAgICAgICAgICAgICBpbiBieXRlcyBwYXR0ZXJucyBvciBzdHJpbmcgcGF0dGVybnMgd2l0aCB0aGUgQVNDSUkgZmxhZy4KICAgICAgICAgICAgIEluIHN0cmluZyBwYXR0ZXJucyB3aXRob3V0IHRoZSBBU0NJSSBmbGFnLCBpdCB3aWxsIG1hdGNoIHRoZQogICAgICAgICAgICAgcmFuZ2Ugb2YgVW5pY29kZSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyAobGV0dGVycyBwbHVzIGRpZ2l0cwogICAgICAgICAgICAgcGx1cyB1bmRlcnNjb3JlKS4KICAgICAgICAgICAgIFdpdGggTE9DQUxFLCBpdCB3aWxsIG1hdGNoIHRoZSBzZXQgWzAtOV9dIHBsdXMgY2hhcmFjdGVycyBkZWZpbmVkCiAgICAgICAgICAgICBhcyBsZXR0ZXJzIGZvciB0aGUgY3VycmVudCBsb2NhbGUuCiAgICBcVyAgICAgICBNYXRjaGVzIHRoZSBjb21wbGVtZW50IG9mIFx3LgogICAgXFwgICAgICAgTWF0Y2hlcyBhIGxpdGVyYWwgYmFja3NsYXNoLgoKVGhpcyBtb2R1bGUgZXhwb3J0cyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uczoKICAgIG1hdGNoICAgIE1hdGNoIGEgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm4gdG8gdGhlIGJlZ2lubmluZyBvZiBhIHN0cmluZy4KICAgIHNlYXJjaCAgIFNlYXJjaCBhIHN0cmluZyBmb3IgdGhlIHByZXNlbmNlIG9mIGEgcGF0dGVybi4KICAgIHN1YiAgICAgIFN1YnN0aXR1dGUgb2NjdXJyZW5jZXMgb2YgYSBwYXR0ZXJuIGZvdW5kIGluIGEgc3RyaW5nLgogICAgc3VibiAgICAgU2FtZSBhcyBzdWIsIGJ1dCBhbHNvIHJldHVybiB0aGUgbnVtYmVyIG9mIHN1YnN0aXR1dGlvbnMgbWFkZS4KICAgIHNwbGl0ICAgIFNwbGl0IGEgc3RyaW5nIGJ5IHRoZSBvY2N1cnJlbmNlcyBvZiBhIHBhdHRlcm4uCiAgICBmaW5kYWxsICBGaW5kIGFsbCBvY2N1cnJlbmNlcyBvZiBhIHBhdHRlcm4gaW4gYSBzdHJpbmcuCiAgICBmaW5kaXRlciBSZXR1cm4gYW4gaXRlcmF0b3IgeWllbGRpbmcgYSBtYXRjaCBvYmplY3QgZm9yIGVhY2ggbWF0Y2guCiAgICBjb21waWxlICBDb21waWxlIGEgcGF0dGVybiBpbnRvIGEgUmVnZXhPYmplY3QuCiAgICBwdXJnZSAgICBDbGVhciB0aGUgcmVndWxhciBleHByZXNzaW9uIGNhY2hlLgogICAgZXNjYXBlICAgQmFja3NsYXNoIGFsbCBub24tYWxwaGFudW1lcmljcyBpbiBhIHN0cmluZy4KClNvbWUgb2YgdGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSB0YWtlcyBmbGFncyBhcyBvcHRpb25hbCBwYXJhbWV0ZXJzOgogICAgQSAgQVNDSUkgICAgICAgRm9yIHN0cmluZyBwYXR0ZXJucywgbWFrZSBcdywgXFcsIFxiLCBcQiwgXGQsIFxECiAgICAgICAgICAgICAgICAgICBtYXRjaCB0aGUgY29ycmVzcG9uZGluZyBBU0NJSSBjaGFyYWN0ZXIgY2F0ZWdvcmllcwogICAgICAgICAgICAgICAgICAgKHJhdGhlciB0aGFuIHRoZSB3aG9sZSBVbmljb2RlIGNhdGVnb3JpZXMsIHdoaWNoIGlzIHRoZQogICAgICAgICAgICAgICAgICAgZGVmYXVsdCkuCiAgICAgICAgICAgICAgICAgICBGb3IgYnl0ZXMgcGF0dGVybnMsIHRoaXMgZmxhZyBpcyB0aGUgb25seSBhdmFpbGFibGUKICAgICAgICAgICAgICAgICAgIGJlaGF2aW91ciBhbmQgbmVlZG4ndCBiZSBzcGVjaWZpZWQuCiAgICBJICBJR05PUkVDQVNFICBQZXJmb3JtIGNhc2UtaW5zZW5zaXRpdmUgbWF0Y2hpbmcuCiAgICBMICBMT0NBTEUgICAgICBNYWtlIFx3LCBcVywgXGIsIFxCLCBkZXBlbmRlbnQgb24gdGhlIGN1cnJlbnQgbG9jYWxlLgogICAgTSAgTVVMVElMSU5FICAgIl4iIG1hdGNoZXMgdGhlIGJlZ2lubmluZyBvZiBsaW5lcyAoYWZ0ZXIgYSBuZXdsaW5lKQogICAgICAgICAgICAgICAgICAgYXMgd2VsbCBhcyB0aGUgc3RyaW5nLgogICAgICAgICAgICAgICAgICAgIiQiIG1hdGNoZXMgdGhlIGVuZCBvZiBsaW5lcyAoYmVmb3JlIGEgbmV3bGluZSkgYXMgd2VsbAogICAgICAgICAgICAgICAgICAgYXMgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLgogICAgUyAgRE9UQUxMICAgICAgIi4iIG1hdGNoZXMgYW55IGNoYXJhY3RlciBhdCBhbGwsIGluY2x1ZGluZyB0aGUgbmV3bGluZS4KICAgIFggIFZFUkJPU0UgICAgIElnbm9yZSB3aGl0ZXNwYWNlIGFuZCBjb21tZW50cyBmb3IgbmljZXIgbG9va2luZyBSRSdzLgogICAgVSAgVU5JQ09ERSAgICAgRm9yIGNvbXBhdGliaWxpdHkgb25seS4gSWdub3JlZCBmb3Igc3RyaW5nIHBhdHRlcm5zIChpdAogICAgICAgICAgICAgICAgICAgaXMgdGhlIGRlZmF1bHQpLCBhbmQgZm9yYmlkZGVuIGZvciBieXRlcyBwYXR0ZXJucy4KClRoaXMgbW9kdWxlIGFsc28gZGVmaW5lcyBhbiBleGNlcHRpb24gJ2Vycm9yJy4KCiIiIgoKaW1wb3J0IHN5cwppbXBvcnQgc3JlX2NvbXBpbGUKaW1wb3J0IHNyZV9wYXJzZQojaW1wb3J0IGZ1bmN0b29scwoKIyBwdWJsaWMgc3ltYm9scwpfX2FsbF9fID0gWyAibWF0Y2giLCAic2VhcmNoIiwgInN1YiIsICJzdWJuIiwgInNwbGl0IiwgImZpbmRhbGwiLAogICAgImNvbXBpbGUiLCAicHVyZ2UiLCAidGVtcGxhdGUiLCAiZXNjYXBlIiwgIkEiLCAiSSIsICJMIiwgIk0iLCAiUyIsICJYIiwKICAgICJVIiwgIkFTQ0lJIiwgIklHTk9SRUNBU0UiLCAiTE9DQUxFIiwgIk1VTFRJTElORSIsICJET1RBTEwiLCAiVkVSQk9TRSIsCiAgICAiVU5JQ09ERSIsICJlcnJvciIgXQoKX192ZXJzaW9uX18gPSAiMi4yLjEiCgojIGZsYWdzCkEgPSBBU0NJSSA9IHNyZV9jb21waWxlLlNSRV9GTEFHX0FTQ0lJICMgYXNzdW1lIGFzY2lpICJsb2NhbGUiCkkgPSBJR05PUkVDQVNFID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfSUdOT1JFQ0FTRSAjIGlnbm9yZSBjYXNlCkwgPSBMT0NBTEUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19MT0NBTEUgIyBhc3N1bWUgY3VycmVudCA4LWJpdCBsb2NhbGUKVSA9IFVOSUNPREUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19VTklDT0RFICMgYXNzdW1lIHVuaWNvZGUgImxvY2FsZSIKTSA9IE1VTFRJTElORSA9IHNyZV9jb21waWxlLlNSRV9GTEFHX01VTFRJTElORSAjIG1ha2UgYW5jaG9ycyBsb29rIGZvciBuZXdsaW5lClMgPSBET1RBTEwgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19ET1RBTEwgIyBtYWtlIGRvdCBtYXRjaCBuZXdsaW5lClggPSBWRVJCT1NFID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfVkVSQk9TRSAjIGlnbm9yZSB3aGl0ZXNwYWNlIGFuZCBjb21tZW50cwoKIyBzcmUgZXh0ZW5zaW9ucyAoZXhwZXJpbWVudGFsLCBkb24ndCByZWx5IG9uIHRoZXNlKQpUID0gVEVNUExBVEUgPSBzcmVfY29tcGlsZS5TUkVfRkxBR19URU1QTEFURSAjIGRpc2FibGUgYmFja3RyYWNraW5nCkRFQlVHID0gc3JlX2NvbXBpbGUuU1JFX0ZMQUdfREVCVUcgIyBkdW1wIHBhdHRlcm4gYWZ0ZXIgY29tcGlsYXRpb24KCiMgc3JlIGV4Y2VwdGlvbgplcnJvciA9IHNyZV9jb21waWxlLmVycm9yCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgcHVibGljIGludGVyZmFjZQoKZGVmIG1hdGNoKHBhdHRlcm4sIHN0cmluZywgZmxhZ3M9MCk6CiAgICAiIiJUcnkgdG8gYXBwbHkgdGhlIHBhdHRlcm4gYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmcsIHJldHVybmluZwogICAgYSBtYXRjaCBvYmplY3QsIG9yIE5vbmUgaWYgbm8gbWF0Y2ggd2FzIGZvdW5kLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5tYXRjaChzdHJpbmcpCgpkZWYgc2VhcmNoKHBhdHRlcm4sIHN0cmluZywgZmxhZ3M9MCk6CiAgICAiIiJTY2FuIHRocm91Z2ggc3RyaW5nIGxvb2tpbmcgZm9yIGEgbWF0Y2ggdG8gdGhlIHBhdHRlcm4sIHJldHVybmluZwogICAgYSBtYXRjaCBvYmplY3QsIG9yIE5vbmUgaWYgbm8gbWF0Y2ggd2FzIGZvdW5kLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zZWFyY2goc3RyaW5nKQoKZGVmIHN1YihwYXR0ZXJuLCByZXBsLCBzdHJpbmcsIGNvdW50PTAsIGZsYWdzPTApOgogICAgIiIiUmV0dXJuIHRoZSBzdHJpbmcgb2J0YWluZWQgYnkgcmVwbGFjaW5nIHRoZSBsZWZ0bW9zdAogICAgbm9uLW92ZXJsYXBwaW5nIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuIGluIHN0cmluZyBieSB0aGUKICAgIHJlcGxhY2VtZW50IHJlcGwuICByZXBsIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYSBjYWxsYWJsZTsKICAgIGlmIGEgc3RyaW5nLCBiYWNrc2xhc2ggZXNjYXBlcyBpbiBpdCBhcmUgcHJvY2Vzc2VkLiAgSWYgaXQgaXMKICAgIGEgY2FsbGFibGUsIGl0J3MgcGFzc2VkIHRoZSBtYXRjaCBvYmplY3QgYW5kIG11c3QgcmV0dXJuCiAgICBhIHJlcGxhY2VtZW50IHN0cmluZyB0byBiZSB1c2VkLiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zdWIocmVwbCwgc3RyaW5nLCBjb3VudCkKCmRlZiBzdWJuKHBhdHRlcm4sIHJlcGwsIHN0cmluZywgY291bnQ9MCwgZmxhZ3M9MCk6CiAgICAiIiJSZXR1cm4gYSAyLXR1cGxlIGNvbnRhaW5pbmcgKG5ld19zdHJpbmcsIG51bWJlcikuCiAgICBuZXdfc3RyaW5nIGlzIHRoZSBzdHJpbmcgb2J0YWluZWQgYnkgcmVwbGFjaW5nIHRoZSBsZWZ0bW9zdAogICAgbm9uLW92ZXJsYXBwaW5nIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuIGluIHRoZSBzb3VyY2UKICAgIHN0cmluZyBieSB0aGUgcmVwbGFjZW1lbnQgcmVwbC4gIG51bWJlciBpcyB0aGUgbnVtYmVyIG9mCiAgICBzdWJzdGl0dXRpb25zIHRoYXQgd2VyZSBtYWRlLiByZXBsIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYQogICAgY2FsbGFibGU7IGlmIGEgc3RyaW5nLCBiYWNrc2xhc2ggZXNjYXBlcyBpbiBpdCBhcmUgcHJvY2Vzc2VkLgogICAgSWYgaXQgaXMgYSBjYWxsYWJsZSwgaXQncyBwYXNzZWQgdGhlIG1hdGNoIG9iamVjdCBhbmQgbXVzdAogICAgcmV0dXJuIGEgcmVwbGFjZW1lbnQgc3RyaW5nIHRvIGJlIHVzZWQuIiIiCiAgICByZXR1cm4gX2NvbXBpbGUocGF0dGVybiwgZmxhZ3MpLnN1Ym4ocmVwbCwgc3RyaW5nLCBjb3VudCkKCmRlZiBzcGxpdChwYXR0ZXJuLCBzdHJpbmcsIG1heHNwbGl0PTAsIGZsYWdzPTApOgogICAgIiIiU3BsaXQgdGhlIHNvdXJjZSBzdHJpbmcgYnkgdGhlIG9jY3VycmVuY2VzIG9mIHRoZSBwYXR0ZXJuLAogICAgcmV0dXJuaW5nIGEgbGlzdCBjb250YWluaW5nIHRoZSByZXN1bHRpbmcgc3Vic3RyaW5ncy4gIElmCiAgICBjYXB0dXJpbmcgcGFyZW50aGVzZXMgYXJlIHVzZWQgaW4gcGF0dGVybiwgdGhlbiB0aGUgdGV4dCBvZiBhbGwKICAgIGdyb3VwcyBpbiB0aGUgcGF0dGVybiBhcmUgYWxzbyByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSByZXN1bHRpbmcKICAgIGxpc3QuICBJZiBtYXhzcGxpdCBpcyBub256ZXJvLCBhdCBtb3N0IG1heHNwbGl0IHNwbGl0cyBvY2N1ciwKICAgIGFuZCB0aGUgcmVtYWluZGVyIG9mIHRoZSBzdHJpbmcgaXMgcmV0dXJuZWQgYXMgdGhlIGZpbmFsIGVsZW1lbnQKICAgIG9mIHRoZSBsaXN0LiIiIgogICAgcmV0dXJuIF9jb21waWxlKHBhdHRlcm4sIGZsYWdzKS5zcGxpdChzdHJpbmcsIG1heHNwbGl0KQoKZGVmIGZpbmRhbGwocGF0dGVybiwgc3RyaW5nLCBmbGFncz0wKToKICAgICIiIlJldHVybiBhIGxpc3Qgb2YgYWxsIG5vbi1vdmVybGFwcGluZyBtYXRjaGVzIGluIHRoZSBzdHJpbmcuCgogICAgSWYgb25lIG9yIG1vcmUgY2FwdHVyaW5nIGdyb3VwcyBhcmUgcHJlc2VudCBpbiB0aGUgcGF0dGVybiwgcmV0dXJuCiAgICBhIGxpc3Qgb2YgZ3JvdXBzOyB0aGlzIHdpbGwgYmUgYSBsaXN0IG9mIHR1cGxlcyBpZiB0aGUgcGF0dGVybgogICAgaGFzIG1vcmUgdGhhbiBvbmUgZ3JvdXAuCgogICAgRW1wdHkgbWF0Y2hlcyBhcmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdC4iIiIKICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncykuZmluZGFsbChzdHJpbmcpCgojaWYgc3lzLmhleHZlcnNpb24gPj0gMHgwMjAyMDAwMDoKaWYgMToKICAgIF9fYWxsX18uYXBwZW5kKCJmaW5kaXRlciIpCiAgICBkZWYgZmluZGl0ZXIocGF0dGVybiwgc3RyaW5nLCBmbGFncz0wKToKICAgICAgICAiIiJSZXR1cm4gYW4gaXRlcmF0b3Igb3ZlciBhbGwgbm9uLW92ZXJsYXBwaW5nIG1hdGNoZXMgaW4gdGhlCiAgICAgICAgc3RyaW5nLiAgRm9yIGVhY2ggbWF0Y2gsIHRoZSBpdGVyYXRvciByZXR1cm5zIGEgbWF0Y2ggb2JqZWN0LgoKICAgICAgICBFbXB0eSBtYXRjaGVzIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LiIiIgogICAgICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncykuZmluZGl0ZXIoc3RyaW5nKQoKZGVmIGNvbXBpbGUocGF0dGVybiwgZmxhZ3M9MCk6CiAgICAiQ29tcGlsZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuLCByZXR1cm5pbmcgYSBwYXR0ZXJuIG9iamVjdC4iCiAgICByZXR1cm4gX2NvbXBpbGUocGF0dGVybiwgZmxhZ3MpCgpkZWYgcHVyZ2UoKToKICAgICJDbGVhciB0aGUgcmVndWxhciBleHByZXNzaW9uIGNhY2hlcyIKICAgIF9jb21waWxlX3R5cGVkLmNhY2hlX2NsZWFyKCkKICAgIF9jb21waWxlX3JlcGwuY2FjaGVfY2xlYXIoKQoKZGVmIHRlbXBsYXRlKHBhdHRlcm4sIGZsYWdzPTApOgogICAgIkNvbXBpbGUgYSB0ZW1wbGF0ZSBwYXR0ZXJuLCByZXR1cm5pbmcgYSBwYXR0ZXJuIG9iamVjdCIKICAgIHJldHVybiBfY29tcGlsZShwYXR0ZXJuLCBmbGFnc3xUKQoKX2FscGhhbnVtX3N0ciA9IGZyb3plbnNldCgKICAgICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OTAiKQojZml4bWUgcHl0aG9uCiNfYWxwaGFudW1fYnl0ZXMgPSBmcm96ZW5zZXQoCiMgICAgYiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OTAiKQpfYWxwaGFudW1fYnl0ZXMgPSBmcm96ZW5zZXQoCiAgICAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkwIikKCmRlZiBlc2NhcGUocGF0dGVybik6CiAgICAiRXNjYXBlIGFsbCBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgaW4gcGF0dGVybi4iCiAgICBpZiBpc2luc3RhbmNlKHBhdHRlcm4sIHN0cik6CiAgICAgICAgYWxwaGFudW0gPSBfYWxwaGFudW1fc3RyCiAgICAgICAgcyA9IGxpc3QocGF0dGVybikKICAgICAgICBmb3IgaSwgYyBpbiBlbnVtZXJhdGUocGF0dGVybik6CiAgICAgICAgICAgIGlmIGMgbm90IGluIGFscGhhbnVtOgogICAgICAgICAgICAgICAgaWYgYyA9PSAiXDAwMCI6CiAgICAgICAgICAgICAgICAgICAgc1tpXSA9ICJcXDAwMCIKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc1tpXSA9ICJcXCIgKyBjCiAgICAgICAgcmV0dXJuICIiLmpvaW4ocykKICAgIGVsc2U6CiAgICAgICAgYWxwaGFudW0gPSBfYWxwaGFudW1fYnl0ZXMKICAgICAgICBzID0gW10KICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICNlc2MgPSBvcmQoYiJcXCIpCiAgICAgICAgZXNjID0gb3JkKCJcXCIpCiAgICAgICAgZm9yIGMgaW4gcGF0dGVybjoKICAgICAgICAgICAgaWYgYyBpbiBhbHBoYW51bToKICAgICAgICAgICAgICAgIHMuYXBwZW5kKGMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBjID09IDA6CiAgICAgICAgICAgICAgICAgICAgI2ZpeG1lIGJyeXRob24KICAgICAgICAgICAgICAgICAgICAjcy5leHRlbmQoYiJcXDAwMCIpCiAgICAgICAgICAgICAgICAgICAgcy5leHRlbmQoIlxcMDAwIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcy5hcHBlbmQoZXNjKQogICAgICAgICAgICAgICAgICAgIHMuYXBwZW5kKGMpCiAgICAgICAgcmV0dXJuIGJ5dGVzKHMpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgaW50ZXJuYWxzCgpfcGF0dGVybl90eXBlID0gdHlwZShzcmVfY29tcGlsZS5jb21waWxlKCIiLCAwKSkKCmRlZiBfY29tcGlsZShwYXR0ZXJuLCBmbGFncyk6CiAgICByZXR1cm4gX2NvbXBpbGVfdHlwZWQodHlwZShwYXR0ZXJuKSwgcGF0dGVybiwgZmxhZ3MpCgojZml4bWUgYnJ5dGhvbgojQGZ1bmN0b29scy5scnVfY2FjaGUobWF4c2l6ZT01MDApCmRlZiBfY29tcGlsZV90eXBlZCh0ZXh0X2J5dGVzX3R5cGUsIHBhdHRlcm4sIGZsYWdzKToKICAgICMgaW50ZXJuYWw6IGNvbXBpbGUgcGF0dGVybgogICAgaWYgaXNpbnN0YW5jZShwYXR0ZXJuLCBfcGF0dGVybl90eXBlKToKICAgICAgICBpZiBmbGFnczoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJDYW5ub3QgcHJvY2VzcyBmbGFncyBhcmd1bWVudCB3aXRoIGEgY29tcGlsZWQgcGF0dGVybiIpCiAgICAgICAgcmV0dXJuIHBhdHRlcm4KICAgIGlmIG5vdCBzcmVfY29tcGlsZS5pc3N0cmluZyhwYXR0ZXJuKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgc3RyaW5nIG9yIGNvbXBpbGVkIHBhdHRlcm4iKQogICAgcmV0dXJuIHNyZV9jb21waWxlLmNvbXBpbGUocGF0dGVybiwgZmxhZ3MpCgojZml4bWUgYnJ5dGhvbgojQGZ1bmN0b29scy5scnVfY2FjaGUobWF4c2l6ZT01MDApCmRlZiBfY29tcGlsZV9yZXBsKHJlcGwsIHBhdHRlcm4pOgogICAgIyBpbnRlcm5hbDogY29tcGlsZSByZXBsYWNlbWVudCBwYXR0ZXJuCiAgICByZXR1cm4gc3JlX3BhcnNlLnBhcnNlX3RlbXBsYXRlKHJlcGwsIHBhdHRlcm4pCgpkZWYgX2V4cGFuZChwYXR0ZXJuLCBtYXRjaCwgdGVtcGxhdGUpOgogICAgIyBpbnRlcm5hbDogbWF0Y2guZXhwYW5kIGltcGxlbWVudGF0aW9uIGhvb2sKICAgIHRlbXBsYXRlID0gc3JlX3BhcnNlLnBhcnNlX3RlbXBsYXRlKHRlbXBsYXRlLCBwYXR0ZXJuKQogICAgcmV0dXJuIHNyZV9wYXJzZS5leHBhbmRfdGVtcGxhdGUodGVtcGxhdGUsIG1hdGNoKQoKZGVmIF9zdWJ4KHBhdHRlcm4sIHRlbXBsYXRlKToKICAgICMgaW50ZXJuYWw6IHBhdHRlcm4uc3ViL3N1Ym4gaW1wbGVtZW50YXRpb24gaGVscGVyCiAgICB0ZW1wbGF0ZSA9IF9jb21waWxlX3JlcGwodGVtcGxhdGUsIHBhdHRlcm4pCiAgICBpZiBub3QgdGVtcGxhdGVbMF0gYW5kIGxlbih0ZW1wbGF0ZVsxXSkgPT0gMToKICAgICAgICAjIGxpdGVyYWwgcmVwbGFjZW1lbnQKICAgICAgICByZXR1cm4gdGVtcGxhdGVbMV1bMF0KICAgIGRlZiBmaWx0ZXIobWF0Y2gsIHRlbXBsYXRlPXRlbXBsYXRlKToKICAgICAgICByZXR1cm4gc3JlX3BhcnNlLmV4cGFuZF90ZW1wbGF0ZSh0ZW1wbGF0ZSwgbWF0Y2gpCiAgICByZXR1cm4gZmlsdGVyCgojIHJlZ2lzdGVyIG15c2VsZiBmb3IgcGlja2xpbmcKCiNpbXBvcnQgY29weXJlZwoKI2RlZiBfcGlja2xlKHApOgojICAgIHJldHVybiBfY29tcGlsZSwgKHAucGF0dGVybiwgcC5mbGFncykKCiNjb3B5cmVnLnBpY2tsZShfcGF0dGVybl90eXBlLCBfcGlja2xlLCBfY29tcGlsZSkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBleHBlcmltZW50YWwgc3R1ZmYgKHNlZSBweXRob24tZGV2IGRpc2N1c3Npb25zIGZvciBkZXRhaWxzKQoKY2xhc3MgU2Nhbm5lcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBsZXhpY29uLCBmbGFncz0wKToKICAgICAgICBmcm9tIHNyZV9jb25zdGFudHMgaW1wb3J0IEJSQU5DSCwgU1VCUEFUVEVSTgogICAgICAgIHNlbGYubGV4aWNvbiA9IGxleGljb24KICAgICAgICAjIGNvbWJpbmUgcGhyYXNlcyBpbnRvIGEgY29tcG91bmQgcGF0dGVybgogICAgICAgIHAgPSBbXQogICAgICAgIHMgPSBzcmVfcGFyc2UuUGF0dGVybigpCiAgICAgICAgcy5mbGFncyA9IGZsYWdzCiAgICAgICAgZm9yIHBocmFzZSwgYWN0aW9uIGluIGxleGljb246CiAgICAgICAgICAgIHAuYXBwZW5kKHNyZV9wYXJzZS5TdWJQYXR0ZXJuKHMsIFsKICAgICAgICAgICAgICAgIChTVUJQQVRURVJOLCAobGVuKHApKzEsIHNyZV9wYXJzZS5wYXJzZShwaHJhc2UsIGZsYWdzKSkpLAogICAgICAgICAgICAgICAgXSkpCiAgICAgICAgcy5ncm91cHMgPSBsZW4ocCkrMQogICAgICAgIHAgPSBzcmVfcGFyc2UuU3ViUGF0dGVybihzLCBbKEJSQU5DSCwgKE5vbmUsIHApKV0pCiAgICAgICAgc2VsZi5zY2FubmVyID0gc3JlX2NvbXBpbGUuY29tcGlsZShwKQogICAgZGVmIHNjYW4oc2VsZiwgc3RyaW5nKToKICAgICAgICByZXN1bHQgPSBbXQogICAgICAgIGFwcGVuZCA9IHJlc3VsdC5hcHBlbmQKICAgICAgICBtYXRjaCA9IHNlbGYuc2Nhbm5lci5zY2FubmVyKHN0cmluZykubWF0Y2gKICAgICAgICBpID0gMAogICAgICAgIHdoaWxlIDE6CiAgICAgICAgICAgIG0gPSBtYXRjaCgpCiAgICAgICAgICAgIGlmIG5vdCBtOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaiA9IG0uZW5kKCkKICAgICAgICAgICAgaWYgaSA9PSBqOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYWN0aW9uID0gc2VsZi5sZXhpY29uW20ubGFzdGluZGV4LTFdWzFdCiAgICAgICAgICAgIGlmIGNhbGxhYmxlKGFjdGlvbik6CiAgICAgICAgICAgICAgICBzZWxmLm1hdGNoID0gbQogICAgICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uKHNlbGYsIG0uZ3JvdXAoKSkKICAgICAgICAgICAgaWYgYWN0aW9uIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgYXBwZW5kKGFjdGlvbikKICAgICAgICAgICAgaSA9IGoKICAgICAgICByZXR1cm4gcmVzdWx0LCBzdHJpbmdbaTpdCg==',
'/Lib/locale.py':'ZGVmIGdldGRlZmF1bHRsb2NhbGUoKToKICAgIHJldHVybiBfX0JSWVRIT05fXy5sYW5ndWFnZSxOb25l',
'/Lib/dis.py':'ZGVmIGRpcyhzcmMpOgogICAgcmV0dXJuIEpTT2JqZWN0KF9fQlJZVEhPTl9fLnB5MmpzKHNyYykpLnRvX2pzKCkK',
'/Lib/types.py':'IiIiCkRlZmluZSBuYW1lcyBmb3IgYnVpbHQtaW4gdHlwZXMgdGhhdCBhcmVuJ3QgZGlyZWN0bHkgYWNjZXNzaWJsZSBhcyBhIGJ1aWx0aW4uCiIiIgppbXBvcnQgc3lzCgojIEl0ZXJhdG9ycyBpbiBQeXRob24gYXJlbid0IGEgbWF0dGVyIG9mIHR5cGUgYnV0IG9mIHByb3RvY29sLiAgQSBsYXJnZQojIGFuZCBjaGFuZ2luZyBudW1iZXIgb2YgYnVpbHRpbiB0eXBlcyBpbXBsZW1lbnQgKnNvbWUqIGZsYXZvciBvZgojIGl0ZXJhdG9yLiAgRG9uJ3QgY2hlY2sgdGhlIHR5cGUhICBVc2UgaGFzYXR0ciB0byBjaGVjayBmb3IgYm90aAojICJfX2l0ZXJfXyIgYW5kICJfX25leHRfXyIgYXR0cmlidXRlcyBpbnN0ZWFkLgoKI2RlZiBfZigpOiBwYXNzCiNGdW5jdGlvblR5cGUgPSB0eXBlKF9mKQojTGFtYmRhVHlwZSA9IHR5cGUobGFtYmRhOiBOb25lKSAgICAgICAgICMgU2FtZSBhcyBGdW5jdGlvblR5cGUKI0NvZGVUeXBlID0gdHlwZShfZi5fX2NvZGVfXykKCiNkZWYgX2coKToKIyAgICB5aWVsZCAxCiNHZW5lcmF0b3JUeXBlID0gdHlwZShfZygpKQoKY2xhc3MgX0M6CiAgICBkZWYgX20oc2VsZik6IHBhc3MKTWV0aG9kVHlwZSA9IHR5cGUoX0MoKS5fbSkKCkJ1aWx0aW5GdW5jdGlvblR5cGUgPSB0eXBlKGxlbikKQnVpbHRpbk1ldGhvZFR5cGUgPSB0eXBlKFtdLmFwcGVuZCkgICAgICMgU2FtZSBhcyBCdWlsdGluRnVuY3Rpb25UeXBlCgpNb2R1bGVUeXBlID0gdHlwZShzeXMpCgojdHJ5OgojICAgIHJhaXNlIFR5cGVFcnJvcgojZXhjZXB0IFR5cGVFcnJvcjoKIyAgICB0YiA9IHN5cy5leGNfaW5mbygpWzJdCiMgICAgVHJhY2ViYWNrVHlwZSA9IHR5cGUodGIpCiMgICAgRnJhbWVUeXBlID0gdHlwZSh0Yi50Yl9mcmFtZSkKIyAgICB0YiA9IE5vbmU7IGRlbCB0YgoKIyBGb3IgSnl0aG9uLCB0aGUgZm9sbG93aW5nIHR3byB0eXBlcyBhcmUgaWRlbnRpY2FsCiNHZXRTZXREZXNjcmlwdG9yVHlwZSA9IHR5cGUoRnVuY3Rpb25UeXBlLl9fY29kZV9fKQojTWVtYmVyRGVzY3JpcHRvclR5cGUgPSB0eXBlKEZ1bmN0aW9uVHlwZS5fX2dsb2JhbHNfXykKCiNmaXhtZSBicnl0aG9uCiNkZWwgc3lzLCBfZiwgX2csIF9DLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTm90IGZvciBleHBvcnQK',
'/Lib/_weakrefset.py':'IyBBY2Nlc3MgV2Vha1NldCB0aHJvdWdoIHRoZSB3ZWFrcmVmIG1vZHVsZS4KIyBUaGlzIGNvZGUgaXMgc2VwYXJhdGVkLW91dCBiZWNhdXNlIGl0IGlzIG5lZWRlZAojIGJ5IGFiYy5weSB0byBsb2FkIGV2ZXJ5dGhpbmcgZWxzZSBhdCBzdGFydHVwLgoKZnJvbSBfd2Vha3JlZiBpbXBvcnQgcmVmCgpfX2FsbF9fID0gWydXZWFrU2V0J10KCgpjbGFzcyBfSXRlcmF0aW9uR3VhcmQ6CiAgICAjIFRoaXMgY29udGV4dCBtYW5hZ2VyIHJlZ2lzdGVycyBpdHNlbGYgaW4gdGhlIGN1cnJlbnQgaXRlcmF0b3JzIG9mIHRoZQogICAgIyB3ZWFrIGNvbnRhaW5lciwgc3VjaCBhcyB0byBkZWxheSBhbGwgcmVtb3ZhbHMgdW50aWwgdGhlIGNvbnRleHQgbWFuYWdlcgogICAgIyBleGl0cy4KICAgICMgVGhpcyB0ZWNobmlxdWUgc2hvdWxkIGJlIHJlbGF0aXZlbHkgdGhyZWFkLXNhZmUgKHNpbmNlIHNldHMgYXJlKS4KCiAgICBkZWYgX19pbml0X18oc2VsZiwgd2Vha2NvbnRhaW5lcik6CiAgICAgICAgIyBEb24ndCBjcmVhdGUgY3ljbGVzCiAgICAgICAgc2VsZi53ZWFrY29udGFpbmVyID0gcmVmKHdlYWtjb250YWluZXIpCgogICAgZGVmIF9fZW50ZXJfXyhzZWxmKToKICAgICAgICB3ID0gc2VsZi53ZWFrY29udGFpbmVyKCkKICAgICAgICBpZiB3IGlzIG5vdCBOb25lOgogICAgICAgICAgICB3Ll9pdGVyYXRpbmcuYWRkKHNlbGYpCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19leGl0X18oc2VsZiwgZSwgdCwgYik6CiAgICAgICAgdyA9IHNlbGYud2Vha2NvbnRhaW5lcigpCiAgICAgICAgaWYgdyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcyA9IHcuX2l0ZXJhdGluZwogICAgICAgICAgICBzLnJlbW92ZShzZWxmKQogICAgICAgICAgICBpZiBub3QgczoKICAgICAgICAgICAgICAgIHcuX2NvbW1pdF9yZW1vdmFscygpCgoKY2xhc3MgV2Vha1NldDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYXRhPU5vbmUpOgogICAgICAgIHNlbGYuZGF0YSA9IHNldCgpCiAgICAgICAgZGVmIF9yZW1vdmUoaXRlbSwgc2VsZnJlZj1yZWYoc2VsZikpOgogICAgICAgICAgICBzZWxmID0gc2VsZnJlZigpCiAgICAgICAgICAgIGlmIHNlbGYgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBpZiBzZWxmLl9pdGVyYXRpbmc6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcGVuZGluZ19yZW1vdmFscy5hcHBlbmQoaXRlbSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXRhLmRpc2NhcmQoaXRlbSkKICAgICAgICBzZWxmLl9yZW1vdmUgPSBfcmVtb3ZlCiAgICAgICAgIyBBIGxpc3Qgb2Yga2V5cyB0byBiZSByZW1vdmVkCiAgICAgICAgc2VsZi5fcGVuZGluZ19yZW1vdmFscyA9IFtdCiAgICAgICAgc2VsZi5faXRlcmF0aW5nID0gc2V0KCkKICAgICAgICBpZiBkYXRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnVwZGF0ZShkYXRhKQoKICAgIGRlZiBfY29tbWl0X3JlbW92YWxzKHNlbGYpOgogICAgICAgIGwgPSBzZWxmLl9wZW5kaW5nX3JlbW92YWxzCiAgICAgICAgZGlzY2FyZCA9IHNlbGYuZGF0YS5kaXNjYXJkCiAgICAgICAgd2hpbGUgbDoKICAgICAgICAgICAgZGlzY2FyZChsLnBvcCgpKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICAjZml4IG1lCiAgICAgICAgI3dpdGggX0l0ZXJhdGlvbkd1YXJkKHNlbGYpOgogICAgICAgIGZvciBpdGVtcmVmIGluIHNlbGYuZGF0YToKICAgICAgICAgICAgaXRlbSA9IGl0ZW1yZWYoKQogICAgICAgICAgICBpZiBpdGVtIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICB5aWVsZCBpdGVtCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpIC0gbGVuKHNlbGYuX3BlbmRpbmdfcmVtb3ZhbHMpCgogICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLCBpdGVtKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdyID0gcmVmKGl0ZW0pCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIHdyIGluIHNlbGYuZGF0YQoKICAgIGRlZiBfX3JlZHVjZV9fKHNlbGYpOgogICAgICAgIHJldHVybiAoc2VsZi5fX2NsYXNzX18sIChsaXN0KHNlbGYpLCksCiAgICAgICAgICAgICAgICBnZXRhdHRyKHNlbGYsICdfX2RpY3RfXycsIE5vbmUpKQoKICAgIGRlZiBhZGQoc2VsZiwgaXRlbSk6CiAgICAgICAgaWYgc2VsZi5fcGVuZGluZ19yZW1vdmFsczoKICAgICAgICAgICAgc2VsZi5fY29tbWl0X3JlbW92YWxzKCkKICAgICAgICBzZWxmLmRhdGEuYWRkKHJlZihpdGVtLCBzZWxmLl9yZW1vdmUpKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICBpZiBzZWxmLl9wZW5kaW5nX3JlbW92YWxzOgogICAgICAgICAgICBzZWxmLl9jb21taXRfcmVtb3ZhbHMoKQogICAgICAgIHNlbGYuZGF0YS5jbGVhcigpCgogICAgZGVmIGNvcHkoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYpCgogICAgZGVmIHBvcChzZWxmKToKICAgICAgICBpZiBzZWxmLl9wZW5kaW5nX3JlbW92YWxzOgogICAgICAgICAgICBzZWxmLl9jb21taXRfcmVtb3ZhbHMoKQogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGl0ZW1yZWYgPSBzZWxmLmRhdGEucG9wKCkKICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ3BvcCBmcm9tIGVtcHR5IFdlYWtTZXQnKQogICAgICAgICAgICBpdGVtID0gaXRlbXJlZigpCiAgICAgICAgICAgIGlmIGl0ZW0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbQoKICAgIGRlZiByZW1vdmUoc2VsZiwgaXRlbSk6CiAgICAgICAgaWYgc2VsZi5fcGVuZGluZ19yZW1vdmFsczoKICAgICAgICAgICAgc2VsZi5fY29tbWl0X3JlbW92YWxzKCkKICAgICAgICBzZWxmLmRhdGEucmVtb3ZlKHJlZihpdGVtKSkKCiAgICBkZWYgZGlzY2FyZChzZWxmLCBpdGVtKToKICAgICAgICBpZiBzZWxmLl9wZW5kaW5nX3JlbW92YWxzOgogICAgICAgICAgICBzZWxmLl9jb21taXRfcmVtb3ZhbHMoKQogICAgICAgIHNlbGYuZGF0YS5kaXNjYXJkKHJlZihpdGVtKSkKCiAgICBkZWYgdXBkYXRlKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBzZWxmLl9wZW5kaW5nX3JlbW92YWxzOgogICAgICAgICAgICBzZWxmLl9jb21taXRfcmVtb3ZhbHMoKQogICAgICAgIGZvciBlbGVtZW50IGluIG90aGVyOgogICAgICAgICAgICBzZWxmLmFkZChlbGVtZW50KQoKICAgIGRlZiBfX2lvcl9fKHNlbGYsIG90aGVyKToKICAgICAgICBzZWxmLnVwZGF0ZShvdGhlcikKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBkaWZmZXJlbmNlKHNlbGYsIG90aGVyKToKICAgICAgICBuZXdzZXQgPSBzZWxmLmNvcHkoKQogICAgICAgIG5ld3NldC5kaWZmZXJlbmNlX3VwZGF0ZShvdGhlcikKICAgICAgICByZXR1cm4gbmV3c2V0CiAgICBfX3N1Yl9fID0gZGlmZmVyZW5jZQoKICAgIGRlZiBkaWZmZXJlbmNlX3VwZGF0ZShzZWxmLCBvdGhlcik6CiAgICAgICAgc2VsZi5fX2lzdWJfXyhvdGhlcikKICAgIGRlZiBfX2lzdWJfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgc2VsZi5fcGVuZGluZ19yZW1vdmFsczoKICAgICAgICAgICAgc2VsZi5fY29tbWl0X3JlbW92YWxzKCkKICAgICAgICBpZiBzZWxmIGlzIG90aGVyOgogICAgICAgICAgICBzZWxmLmRhdGEuY2xlYXIoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuZGF0YS5kaWZmZXJlbmNlX3VwZGF0ZShyZWYoaXRlbSkgZm9yIGl0ZW0gaW4gb3RoZXIpCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgaW50ZXJzZWN0aW9uKHNlbGYsIG90aGVyKToKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oaXRlbSBmb3IgaXRlbSBpbiBvdGhlciBpZiBpdGVtIGluIHNlbGYpCiAgICBfX2FuZF9fID0gaW50ZXJzZWN0aW9uCgogICAgZGVmIGludGVyc2VjdGlvbl91cGRhdGUoc2VsZiwgb3RoZXIpOgogICAgICAgIHNlbGYuX19pYW5kX18ob3RoZXIpCiAgICBkZWYgX19pYW5kX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIHNlbGYuX3BlbmRpbmdfcmVtb3ZhbHM6CiAgICAgICAgICAgIHNlbGYuX2NvbW1pdF9yZW1vdmFscygpCiAgICAgICAgc2VsZi5kYXRhLmludGVyc2VjdGlvbl91cGRhdGUocmVmKGl0ZW0pIGZvciBpdGVtIGluIG90aGVyKQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIGlzc3Vic2V0KHNlbGYsIG90aGVyKToKICAgICAgICByZXR1cm4gc2VsZi5kYXRhLmlzc3Vic2V0KHJlZihpdGVtKSBmb3IgaXRlbSBpbiBvdGhlcikKICAgIF9fbGVfXyA9IGlzc3Vic2V0CgogICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA8IHNldChyZWYoaXRlbSkgZm9yIGl0ZW0gaW4gb3RoZXIpCgogICAgZGVmIGlzc3VwZXJzZXQoc2VsZiwgb3RoZXIpOgogICAgICAgIHJldHVybiBzZWxmLmRhdGEuaXNzdXBlcnNldChyZWYoaXRlbSkgZm9yIGl0ZW0gaW4gb3RoZXIpCiAgICBfX2dlX18gPSBpc3N1cGVyc2V0CgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA+IHNldChyZWYoaXRlbSkgZm9yIGl0ZW0gaW4gb3RoZXIpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHNlbGYuX19jbGFzc19fKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA9PSBzZXQocmVmKGl0ZW0pIGZvciBpdGVtIGluIG90aGVyKQoKICAgIGRlZiBzeW1tZXRyaWNfZGlmZmVyZW5jZShzZWxmLCBvdGhlcik6CiAgICAgICAgbmV3c2V0ID0gc2VsZi5jb3B5KCkKICAgICAgICBuZXdzZXQuc3ltbWV0cmljX2RpZmZlcmVuY2VfdXBkYXRlKG90aGVyKQogICAgICAgIHJldHVybiBuZXdzZXQKICAgIF9feG9yX18gPSBzeW1tZXRyaWNfZGlmZmVyZW5jZQoKICAgIGRlZiBzeW1tZXRyaWNfZGlmZmVyZW5jZV91cGRhdGUoc2VsZiwgb3RoZXIpOgogICAgICAgIHNlbGYuX19peG9yX18ob3RoZXIpCiAgICBkZWYgX19peG9yX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIHNlbGYuX3BlbmRpbmdfcmVtb3ZhbHM6CiAgICAgICAgICAgIHNlbGYuX2NvbW1pdF9yZW1vdmFscygpCiAgICAgICAgaWYgc2VsZiBpcyBvdGhlcjoKICAgICAgICAgICAgc2VsZi5kYXRhLmNsZWFyKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmRhdGEuc3ltbWV0cmljX2RpZmZlcmVuY2VfdXBkYXRlKHJlZihpdGVtLCBzZWxmLl9yZW1vdmUpIGZvciBpdGVtIGluIG90aGVyKQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIHVuaW9uKHNlbGYsIG90aGVyKToKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oZSBmb3IgcyBpbiAoc2VsZiwgb3RoZXIpIGZvciBlIGluIHMpCiAgICBfX29yX18gPSB1bmlvbgoKICAgIGRlZiBpc2Rpc2pvaW50KHNlbGYsIG90aGVyKToKICAgICAgICByZXR1cm4gbGVuKHNlbGYuaW50ZXJzZWN0aW9uKG90aGVyKSkgPT0gMAo=',
'/Lib/warnings.py':'IiIiUHl0aG9uIHBhcnQgb2YgdGhlIHdhcm5pbmdzIHN1YnN5c3RlbS4iIiIKCiMgTm90ZTogZnVuY3Rpb24gbGV2ZWwgaW1wb3J0cyBzaG91bGQgKm5vdCogYmUgdXNlZAojIGluIHRoaXMgbW9kdWxlIGFzIGl0IG1heSBjYXVzZSBpbXBvcnQgbG9jayBkZWFkbG9jay4KIyBTZWUgYnVnIDY4MzY1OC4KaW1wb3J0IGxpbmVjYWNoZQppbXBvcnQgc3lzCgpfX2FsbF9fID0gWyJ3YXJuIiwgInNob3d3YXJuaW5nIiwgImZvcm1hdHdhcm5pbmciLCAiZmlsdGVyd2FybmluZ3MiLAogICAgICAgICAgICJyZXNldHdhcm5pbmdzIiwgImNhdGNoX3dhcm5pbmdzIl0KCgpkZWYgc2hvd3dhcm5pbmcobWVzc2FnZSwgY2F0ZWdvcnksIGZpbGVuYW1lLCBsaW5lbm8sIGZpbGU9Tm9uZSwgbGluZT1Ob25lKToKICAgICIiIkhvb2sgdG8gd3JpdGUgYSB3YXJuaW5nIHRvIGEgZmlsZTsgcmVwbGFjZSBpZiB5b3UgbGlrZS4iIiIKICAgIGlmIGZpbGUgaXMgTm9uZToKICAgICAgICBmaWxlID0gc3lzLnN0ZGVycgogICAgdHJ5OgogICAgICAgIGZpbGUud3JpdGUoZm9ybWF0d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubywgbGluZSkpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwYXNzICMgdGhlIGZpbGUgKHByb2JhYmx5IHN0ZGVycikgaXMgaW52YWxpZCAtIHRoaXMgd2FybmluZyBnZXRzIGxvc3QuCgpkZWYgZm9ybWF0d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubywgbGluZT1Ob25lKToKICAgICIiIkZ1bmN0aW9uIHRvIGZvcm1hdCBhIHdhcm5pbmcgdGhlIHN0YW5kYXJkIHdheS4iIiIKICAgIHMgPSAgIiVzOiVzOiAlczogJXNcbiIgJSAoZmlsZW5hbWUsIGxpbmVubywgY2F0ZWdvcnkuX19uYW1lX18sIG1lc3NhZ2UpCiAgICBsaW5lID0gbGluZWNhY2hlLmdldGxpbmUoZmlsZW5hbWUsIGxpbmVubykgaWYgbGluZSBpcyBOb25lIGVsc2UgbGluZQogICAgaWYgbGluZToKICAgICAgICBsaW5lID0gbGluZS5zdHJpcCgpCiAgICAgICAgcyArPSAiICAlc1xuIiAlIGxpbmUKICAgIHJldHVybiBzCgojZml4bWUgYnJ5dGhvbiAgYnVpbHRpbiBXYXJuaW5nIGNsYXNzIG5vdCBkZWZpbmVkCmRlZiBmaWx0ZXJ3YXJuaW5ncyhhY3Rpb24sIG1lc3NhZ2U9IiIsIGNhdGVnb3J5PVdhcm5pbmcsIG1vZHVsZT0iIiwgbGluZW5vPTAsCiAgICAgICAgICAgICAgICAgICBhcHBlbmQ9RmFsc2UpOgogICAgIiIiSW5zZXJ0IGFuIGVudHJ5IGludG8gdGhlIGxpc3Qgb2Ygd2FybmluZ3MgZmlsdGVycyAoYXQgdGhlIGZyb250KS4KCiAgICAnYWN0aW9uJyAtLSBvbmUgb2YgImVycm9yIiwgImlnbm9yZSIsICJhbHdheXMiLCAiZGVmYXVsdCIsICJtb2R1bGUiLAogICAgICAgICAgICAgICAgb3IgIm9uY2UiCiAgICAnbWVzc2FnZScgLS0gYSByZWdleCB0aGF0IHRoZSB3YXJuaW5nIG1lc3NhZ2UgbXVzdCBtYXRjaAogICAgJ2NhdGVnb3J5JyAtLSBhIGNsYXNzIHRoYXQgdGhlIHdhcm5pbmcgbXVzdCBiZSBhIHN1YmNsYXNzIG9mCiAgICAnbW9kdWxlJyAtLSBhIHJlZ2V4IHRoYXQgdGhlIG1vZHVsZSBuYW1lIG11c3QgbWF0Y2gKICAgICdsaW5lbm8nIC0tIGFuIGludGVnZXIgbGluZSBudW1iZXIsIDAgbWF0Y2hlcyBhbGwgd2FybmluZ3MKICAgICdhcHBlbmQnIC0tIGlmIHRydWUsIGFwcGVuZCB0byB0aGUgbGlzdCBvZiBmaWx0ZXJzCiAgICAiIiIKICAgIGltcG9ydCByZQogICAgYXNzZXJ0IGFjdGlvbiBpbiAoImVycm9yIiwgImlnbm9yZSIsICJhbHdheXMiLCAiZGVmYXVsdCIsICJtb2R1bGUiLAogICAgICAgICAgICAgICAgICAgICAgIm9uY2UiKSwgImludmFsaWQgYWN0aW9uOiAlciIgJSAoYWN0aW9uLCkKICAgIGFzc2VydCBpc2luc3RhbmNlKG1lc3NhZ2UsIHN0ciksICJtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmciCiAgICBhc3NlcnQgaXNpbnN0YW5jZShjYXRlZ29yeSwgdHlwZSksICJjYXRlZ29yeSBtdXN0IGJlIGEgY2xhc3MiCiAgICBhc3NlcnQgaXNzdWJjbGFzcyhjYXRlZ29yeSwgV2FybmluZyksICJjYXRlZ29yeSBtdXN0IGJlIGEgV2FybmluZyBzdWJjbGFzcyIKICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZHVsZSwgc3RyKSwgIm1vZHVsZSBtdXN0IGJlIGEgc3RyaW5nIgogICAgYXNzZXJ0IGlzaW5zdGFuY2UobGluZW5vLCBpbnQpIGFuZCBsaW5lbm8gPj0gMCwgXAogICAgICAgICAgICJsaW5lbm8gbXVzdCBiZSBhbiBpbnQgPj0gMCIKICAgIGl0ZW0gPSAoYWN0aW9uLCByZS5jb21waWxlKG1lc3NhZ2UsIHJlLkkpLCBjYXRlZ29yeSwKICAgICAgICAgICAgcmUuY29tcGlsZShtb2R1bGUpLCBsaW5lbm8pCiAgICBpZiBhcHBlbmQ6CiAgICAgICAgZmlsdGVycy5hcHBlbmQoaXRlbSkKICAgIGVsc2U6CiAgICAgICAgZmlsdGVycy5pbnNlcnQoMCwgaXRlbSkKCmRlZiBzaW1wbGVmaWx0ZXIoYWN0aW9uLCBjYXRlZ29yeT1XYXJuaW5nLCBsaW5lbm89MCwgYXBwZW5kPUZhbHNlKToKICAgICIiIkluc2VydCBhIHNpbXBsZSBlbnRyeSBpbnRvIHRoZSBsaXN0IG9mIHdhcm5pbmdzIGZpbHRlcnMgKGF0IHRoZSBmcm9udCkuCgogICAgQSBzaW1wbGUgZmlsdGVyIG1hdGNoZXMgYWxsIG1vZHVsZXMgYW5kIG1lc3NhZ2VzLgogICAgJ2FjdGlvbicgLS0gb25lIG9mICJlcnJvciIsICJpZ25vcmUiLCAiYWx3YXlzIiwgImRlZmF1bHQiLCAibW9kdWxlIiwKICAgICAgICAgICAgICAgIG9yICJvbmNlIgogICAgJ2NhdGVnb3J5JyAtLSBhIGNsYXNzIHRoYXQgdGhlIHdhcm5pbmcgbXVzdCBiZSBhIHN1YmNsYXNzIG9mCiAgICAnbGluZW5vJyAtLSBhbiBpbnRlZ2VyIGxpbmUgbnVtYmVyLCAwIG1hdGNoZXMgYWxsIHdhcm5pbmdzCiAgICAnYXBwZW5kJyAtLSBpZiB0cnVlLCBhcHBlbmQgdG8gdGhlIGxpc3Qgb2YgZmlsdGVycwogICAgIiIiCiAgICBhc3NlcnQgYWN0aW9uIGluICgiZXJyb3IiLCAiaWdub3JlIiwgImFsd2F5cyIsICJkZWZhdWx0IiwgIm1vZHVsZSIsCiAgICAgICAgICAgICAgICAgICAgICAib25jZSIpLCAiaW52YWxpZCBhY3Rpb246ICVyIiAlIChhY3Rpb24sKQogICAgYXNzZXJ0IGlzaW5zdGFuY2UobGluZW5vLCBpbnQpIGFuZCBsaW5lbm8gPj0gMCwgXAogICAgICAgICAgICJsaW5lbm8gbXVzdCBiZSBhbiBpbnQgPj0gMCIKICAgIGl0ZW0gPSAoYWN0aW9uLCBOb25lLCBjYXRlZ29yeSwgTm9uZSwgbGluZW5vKQogICAgaWYgYXBwZW5kOgogICAgICAgIGZpbHRlcnMuYXBwZW5kKGl0ZW0pCiAgICBlbHNlOgogICAgICAgIGZpbHRlcnMuaW5zZXJ0KDAsIGl0ZW0pCgpkZWYgcmVzZXR3YXJuaW5ncygpOgogICAgIiIiQ2xlYXIgdGhlIGxpc3Qgb2Ygd2FybmluZyBmaWx0ZXJzLCBzbyB0aGF0IG5vIGZpbHRlcnMgYXJlIGFjdGl2ZS4iIiIKICAgIGZpbHRlcnNbOl0gPSBbXQoKY2xhc3MgX09wdGlvbkVycm9yKEV4Y2VwdGlvbik6CiAgICAiIiJFeGNlcHRpb24gdXNlZCBieSBvcHRpb24gcHJvY2Vzc2luZyBoZWxwZXJzLiIiIgogICAgcGFzcwoKIyBIZWxwZXIgdG8gcHJvY2VzcyAtVyBvcHRpb25zIHBhc3NlZCB2aWEgc3lzLndhcm5vcHRpb25zCmRlZiBfcHJvY2Vzc29wdGlvbnMoYXJncyk6CiAgICBmb3IgYXJnIGluIGFyZ3M6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfc2V0b3B0aW9uKGFyZykKICAgICAgICBleGNlcHQgX09wdGlvbkVycm9yIGFzIG1zZzoKICAgICAgICAgICAgcHJpbnQoIkludmFsaWQgLVcgb3B0aW9uIGlnbm9yZWQ6IiwgbXNnLCBmaWxlPXN5cy5zdGRlcnIpCgojIEhlbHBlciBmb3IgX3Byb2Nlc3NvcHRpb25zKCkKZGVmIF9zZXRvcHRpb24oYXJnKToKICAgIGltcG9ydCByZQogICAgcGFydHMgPSBhcmcuc3BsaXQoJzonKQogICAgaWYgbGVuKHBhcnRzKSA+IDU6CiAgICAgICAgcmFpc2UgX09wdGlvbkVycm9yKCJ0b28gbWFueSBmaWVsZHMgKG1heCA1KTogJXIiICUgKGFyZywpKQogICAgd2hpbGUgbGVuKHBhcnRzKSA8IDU6CiAgICAgICAgcGFydHMuYXBwZW5kKCcnKQogICAgYWN0aW9uLCBtZXNzYWdlLCBjYXRlZ29yeSwgbW9kdWxlLCBsaW5lbm8gPSBbcy5zdHJpcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgcyBpbiBwYXJ0c10KICAgIGFjdGlvbiA9IF9nZXRhY3Rpb24oYWN0aW9uKQogICAgbWVzc2FnZSA9IHJlLmVzY2FwZShtZXNzYWdlKQogICAgY2F0ZWdvcnkgPSBfZ2V0Y2F0ZWdvcnkoY2F0ZWdvcnkpCiAgICBtb2R1bGUgPSByZS5lc2NhcGUobW9kdWxlKQogICAgaWYgbW9kdWxlOgogICAgICAgIG1vZHVsZSA9IG1vZHVsZSArICckJwogICAgaWYgbGluZW5vOgogICAgICAgIHRyeToKICAgICAgICAgICAgbGluZW5vID0gaW50KGxpbmVubykKICAgICAgICAgICAgaWYgbGluZW5vIDwgMDoKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IKICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIE92ZXJmbG93RXJyb3IpOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgbGluZW5vICVyIiAlIChsaW5lbm8sKSkKICAgIGVsc2U6CiAgICAgICAgbGluZW5vID0gMAogICAgZmlsdGVyd2FybmluZ3MoYWN0aW9uLCBtZXNzYWdlLCBjYXRlZ29yeSwgbW9kdWxlLCBsaW5lbm8pCgojIEhlbHBlciBmb3IgX3NldG9wdGlvbigpCmRlZiBfZ2V0YWN0aW9uKGFjdGlvbik6CiAgICBpZiBub3QgYWN0aW9uOgogICAgICAgIHJldHVybiAiZGVmYXVsdCIKICAgIGlmIGFjdGlvbiA9PSAiYWxsIjogcmV0dXJuICJhbHdheXMiICMgQWxpYXMKICAgIGZvciBhIGluICgnZGVmYXVsdCcsICdhbHdheXMnLCAnaWdub3JlJywgJ21vZHVsZScsICdvbmNlJywgJ2Vycm9yJyk6CiAgICAgICAgaWYgYS5zdGFydHN3aXRoKGFjdGlvbik6CiAgICAgICAgICAgIHJldHVybiBhCiAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgYWN0aW9uOiAlciIgJSAoYWN0aW9uLCkpCgojIEhlbHBlciBmb3IgX3NldG9wdGlvbigpCmRlZiBfZ2V0Y2F0ZWdvcnkoY2F0ZWdvcnkpOgogICAgaW1wb3J0IHJlCiAgICBpZiBub3QgY2F0ZWdvcnk6CiAgICAgICAgcmV0dXJuIFdhcm5pbmcKICAgIGlmIHJlLm1hdGNoKCJeW2EtekEtWjAtOV9dKyQiLCBjYXRlZ29yeSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjYXQgPSBldmFsKGNhdGVnb3J5KQogICAgICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgICAgIHJhaXNlIF9PcHRpb25FcnJvcigidW5rbm93biB3YXJuaW5nIGNhdGVnb3J5OiAlciIgJSAoY2F0ZWdvcnksKSkKICAgIGVsc2U6CiAgICAgICAgaSA9IGNhdGVnb3J5LnJmaW5kKCIuIikKICAgICAgICBtb2R1bGUgPSBjYXRlZ29yeVs6aV0KICAgICAgICBrbGFzcyA9IGNhdGVnb3J5W2krMTpdCiAgICAgICAgdHJ5OgogICAgICAgICAgICBtID0gX19pbXBvcnRfXyhtb2R1bGUsIE5vbmUsIE5vbmUsIFtrbGFzc10pCiAgICAgICAgZXhjZXB0IEltcG9ydEVycm9yOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoImludmFsaWQgbW9kdWxlIG5hbWU6ICVyIiAlIChtb2R1bGUsKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNhdCA9IGdldGF0dHIobSwga2xhc3MpCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICByYWlzZSBfT3B0aW9uRXJyb3IoInVua25vd24gd2FybmluZyBjYXRlZ29yeTogJXIiICUgKGNhdGVnb3J5LCkpCiAgICBpZiBub3QgaXNzdWJjbGFzcyhjYXQsIFdhcm5pbmcpOgogICAgICAgIHJhaXNlIF9PcHRpb25FcnJvcigiaW52YWxpZCB3YXJuaW5nIGNhdGVnb3J5OiAlciIgJSAoY2F0ZWdvcnksKSkKICAgIHJldHVybiBjYXQKCgojIENvZGUgdHlwaWNhbGx5IHJlcGxhY2VkIGJ5IF93YXJuaW5ncwpkZWYgd2FybihtZXNzYWdlLCBjYXRlZ29yeT1Ob25lLCBzdGFja2xldmVsPTEpOgogICAgIiIiSXNzdWUgYSB3YXJuaW5nLCBvciBtYXliZSBpZ25vcmUgaXQgb3IgcmFpc2UgYW4gZXhjZXB0aW9uLiIiIgogICAgIyBDaGVjayBpZiBtZXNzYWdlIGlzIGFscmVhZHkgYSBXYXJuaW5nIG9iamVjdAogICAgaWYgaXNpbnN0YW5jZShtZXNzYWdlLCBXYXJuaW5nKToKICAgICAgICBjYXRlZ29yeSA9IG1lc3NhZ2UuX19jbGFzc19fCiAgICAjIENoZWNrIGNhdGVnb3J5IGFyZ3VtZW50CiAgICBpZiBjYXRlZ29yeSBpcyBOb25lOgogICAgICAgIGNhdGVnb3J5ID0gVXNlcldhcm5pbmcKICAgIGFzc2VydCBpc3N1YmNsYXNzKGNhdGVnb3J5LCBXYXJuaW5nKQogICAgIyBHZXQgY29udGV4dCBpbmZvcm1hdGlvbgogICAgdHJ5OgogICAgICAgIGNhbGxlciA9IHN5cy5fZ2V0ZnJhbWUoc3RhY2tsZXZlbCkKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIGdsb2JhbHMgPSBzeXMuX19kaWN0X18KICAgICAgICBsaW5lbm8gPSAxCiAgICAgICAgY2FsbGVyPU5vbmUKICAgICNmaXhtZSBicnl0aG9uIGVycm9yCiAgICBlbHNlOgogICAgICAgICNpZiBjYWxsZXIgaXMgbm90IE5vbmU6CiAgICAgICAgZ2xvYmFscyA9IGNhbGxlci5mX2dsb2JhbHMKICAgICAgICBsaW5lbm8gPSBjYWxsZXIuZl9saW5lbm8KICAgIGlmICdfX25hbWVfXycgaW4gZ2xvYmFsczoKICAgICAgICBtb2R1bGUgPSBnbG9iYWxzWydfX25hbWVfXyddCiAgICBlbHNlOgogICAgICAgIG1vZHVsZSA9ICI8c3RyaW5nPiIKICAgIGZpbGVuYW1lID0gZ2xvYmFscy5nZXQoJ19fZmlsZV9fJykKICAgIGlmIGZpbGVuYW1lOgogICAgICAgIGZubCA9IGZpbGVuYW1lLmxvd2VyKCkKICAgICAgICBpZiBmbmwuZW5kc3dpdGgoKCIucHljIiwgIi5weW8iKSk6CiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWVbOi0xXQogICAgZWxzZToKICAgICAgICBpZiBtb2R1bGUgPT0gIl9fbWFpbl9fIjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBzeXMuYXJndlswXQogICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgICAgICAjIGVtYmVkZGVkIGludGVycHJldGVycyBkb24ndCBoYXZlIHN5cy5hcmd2LCBzZWUgYnVnICM4MzkxNTEKICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJ19fbWFpbl9fJwogICAgICAgIGlmIG5vdCBmaWxlbmFtZToKICAgICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGUKICAgIHJlZ2lzdHJ5ID0gZ2xvYmFscy5zZXRkZWZhdWx0KCJfX3dhcm5pbmdyZWdpc3RyeV9fIiwge30pCiAgICB3YXJuX2V4cGxpY2l0KG1lc3NhZ2UsIGNhdGVnb3J5LCBmaWxlbmFtZSwgbGluZW5vLCBtb2R1bGUsIHJlZ2lzdHJ5LAogICAgICAgICAgICAgICAgICBnbG9iYWxzKQoKZGVmIHdhcm5fZXhwbGljaXQobWVzc2FnZSwgY2F0ZWdvcnksIGZpbGVuYW1lLCBsaW5lbm8sCiAgICAgICAgICAgICAgICAgIG1vZHVsZT1Ob25lLCByZWdpc3RyeT1Ob25lLCBtb2R1bGVfZ2xvYmFscz1Ob25lKToKICAgIGxpbmVubyA9IGludChsaW5lbm8pCiAgICBpZiBtb2R1bGUgaXMgTm9uZToKICAgICAgICBtb2R1bGUgPSBmaWxlbmFtZSBvciAiPHVua25vd24+IgogICAgICAgIGlmIG1vZHVsZVstMzpdLmxvd2VyKCkgPT0gIi5weSI6CiAgICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVs6LTNdICMgWFhYIFdoYXQgYWJvdXQgbGVhZGluZyBwYXRobmFtZT8KICAgIGlmIHJlZ2lzdHJ5IGlzIE5vbmU6CiAgICAgICAgcmVnaXN0cnkgPSB7fQogICAgaWYgaXNpbnN0YW5jZShtZXNzYWdlLCBXYXJuaW5nKToKICAgICAgICB0ZXh0ID0gc3RyKG1lc3NhZ2UpCiAgICAgICAgY2F0ZWdvcnkgPSBtZXNzYWdlLl9fY2xhc3NfXwogICAgZWxzZToKICAgICAgICB0ZXh0ID0gbWVzc2FnZQogICAgICAgIG1lc3NhZ2UgPSBjYXRlZ29yeShtZXNzYWdlKQogICAga2V5ID0gKHRleHQsIGNhdGVnb3J5LCBsaW5lbm8pCiAgICAjIFF1aWNrIHRlc3QgZm9yIGNvbW1vbiBjYXNlCiAgICBpZiByZWdpc3RyeS5nZXQoa2V5KToKICAgICAgICByZXR1cm4KICAgICMgU2VhcmNoIHRoZSBmaWx0ZXJzCiAgICBmb3IgaXRlbSBpbiBmaWx0ZXJzOgogICAgICAgIGFjdGlvbiwgbXNnLCBjYXQsIG1vZCwgbG4gPSBpdGVtCiAgICAgICAgaWYgKChtc2cgaXMgTm9uZSBvciBtc2cubWF0Y2godGV4dCkpIGFuZAogICAgICAgICAgICBpc3N1YmNsYXNzKGNhdGVnb3J5LCBjYXQpIGFuZAogICAgICAgICAgICAobW9kIGlzIE5vbmUgb3IgbW9kLm1hdGNoKG1vZHVsZSkpIGFuZAogICAgICAgICAgICAobG4gPT0gMCBvciBsaW5lbm8gPT0gbG4pKToKICAgICAgICAgICAgYnJlYWsKICAgICNmaXhtZSBicnl0aG9uCiAgICAjZWxzZToKICAgICMgICAgYWN0aW9uID0gZGVmYXVsdGFjdGlvbgogICAgIyBFYXJseSBleGl0IGFjdGlvbnMKICAgIGlmIGFjdGlvbiA9PSAiaWdub3JlIjoKICAgICAgICByZWdpc3RyeVtrZXldID0gMQogICAgICAgIHJldHVybgoKICAgICMgUHJpbWUgdGhlIGxpbmVjYWNoZSBmb3IgZm9ybWF0dGluZywgaW4gY2FzZSB0aGUKICAgICMgImZpbGUiIGlzIGFjdHVhbGx5IGluIGEgemlwZmlsZSBvciBzb21ldGhpbmcuCiAgICBsaW5lY2FjaGUuZ2V0bGluZXMoZmlsZW5hbWUsIG1vZHVsZV9nbG9iYWxzKQoKICAgIGlmIGFjdGlvbiA9PSAiZXJyb3IiOgogICAgICAgIHJhaXNlIG1lc3NhZ2UKICAgICMgT3RoZXIgYWN0aW9ucwogICAgaWYgYWN0aW9uID09ICJvbmNlIjoKICAgICAgICByZWdpc3RyeVtrZXldID0gMQogICAgICAgIG9uY2VrZXkgPSAodGV4dCwgY2F0ZWdvcnkpCiAgICAgICAgaWYgb25jZXJlZ2lzdHJ5LmdldChvbmNla2V5KToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgb25jZXJlZ2lzdHJ5W29uY2VrZXldID0gMQogICAgZWxpZiBhY3Rpb24gPT0gImFsd2F5cyI6CiAgICAgICAgcGFzcwogICAgZWxpZiBhY3Rpb24gPT0gIm1vZHVsZSI6CiAgICAgICAgcmVnaXN0cnlba2V5XSA9IDEKICAgICAgICBhbHRrZXkgPSAodGV4dCwgY2F0ZWdvcnksIDApCiAgICAgICAgaWYgcmVnaXN0cnkuZ2V0KGFsdGtleSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHJlZ2lzdHJ5W2FsdGtleV0gPSAxCiAgICBlbGlmIGFjdGlvbiA9PSAiZGVmYXVsdCI6CiAgICAgICAgcmVnaXN0cnlba2V5XSA9IDEKICAgIGVsc2U6CiAgICAgICAgIyBVbnJlY29nbml6ZWQgYWN0aW9ucyBhcmUgZXJyb3JzCiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKAogICAgICAgICAgICAgICJVbnJlY29nbml6ZWQgYWN0aW9uICglcikgaW4gd2FybmluZ3MuZmlsdGVyczpcbiAlcyIgJQogICAgICAgICAgICAgIChhY3Rpb24sIGl0ZW0pKQogICAgaWYgbm90IGNhbGxhYmxlKHNob3d3YXJuaW5nKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoIndhcm5pbmdzLnNob3d3YXJuaW5nKCkgbXVzdCBiZSBzZXQgdG8gYSAiCiAgICAgICAgICAgICAgICAgICAgICAgICJmdW5jdGlvbiBvciBtZXRob2QiKQogICAgIyBQcmludCBtZXNzYWdlIGFuZCBjb250ZXh0CiAgICBzaG93d2FybmluZyhtZXNzYWdlLCBjYXRlZ29yeSwgZmlsZW5hbWUsIGxpbmVubykKCgpjbGFzcyBXYXJuaW5nTWVzc2FnZShvYmplY3QpOgoKICAgICIiIkhvbGRzIHRoZSByZXN1bHQgb2YgYSBzaW5nbGUgc2hvd3dhcm5pbmcoKSBjYWxsLiIiIgoKICAgIF9XQVJOSU5HX0RFVEFJTFMgPSAoIm1lc3NhZ2UiLCAiY2F0ZWdvcnkiLCAiZmlsZW5hbWUiLCAibGluZW5vIiwgImZpbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAibGluZSIpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG1lc3NhZ2UsIGNhdGVnb3J5LCBmaWxlbmFtZSwgbGluZW5vLCBmaWxlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgbGluZT1Ob25lKToKICAgICAgICBsb2NhbF92YWx1ZXMgPSBsb2NhbHMoKQogICAgICAgIGZvciBhdHRyIGluIHNlbGYuX1dBUk5JTkdfREVUQUlMUzoKICAgICAgICAgICAgc2V0YXR0cihzZWxmLCBhdHRyLCBsb2NhbF92YWx1ZXNbYXR0cl0pCiAgICAgICAgc2VsZi5fY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Ll9fbmFtZV9fIGlmIGNhdGVnb3J5IGVsc2UgTm9uZQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiAoInttZXNzYWdlIDogJXIsIGNhdGVnb3J5IDogJXIsIGZpbGVuYW1lIDogJXIsIGxpbmVubyA6ICVzLCAiCiAgICAgICAgICAgICAgICAgICAgImxpbmUgOiAlcn0iICUgKHNlbGYubWVzc2FnZSwgc2VsZi5fY2F0ZWdvcnlfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWxlbmFtZSwgc2VsZi5saW5lbm8sIHNlbGYubGluZSkpCgoKY2xhc3MgY2F0Y2hfd2FybmluZ3Mob2JqZWN0KToKCiAgICAiIiJBIGNvbnRleHQgbWFuYWdlciB0aGF0IGNvcGllcyBhbmQgcmVzdG9yZXMgdGhlIHdhcm5pbmdzIGZpbHRlciB1cG9uCiAgICBleGl0aW5nIHRoZSBjb250ZXh0LgoKICAgIFRoZSAncmVjb3JkJyBhcmd1bWVudCBzcGVjaWZpZXMgd2hldGhlciB3YXJuaW5ncyBzaG91bGQgYmUgY2FwdHVyZWQgYnkgYQogICAgY3VzdG9tIGltcGxlbWVudGF0aW9uIG9mIHdhcm5pbmdzLnNob3d3YXJuaW5nKCkgYW5kIGJlIGFwcGVuZGVkIHRvIGEgbGlzdAogICAgcmV0dXJuZWQgYnkgdGhlIGNvbnRleHQgbWFuYWdlci4gT3RoZXJ3aXNlIE5vbmUgaXMgcmV0dXJuZWQgYnkgdGhlIGNvbnRleHQKICAgIG1hbmFnZXIuIFRoZSBvYmplY3RzIGFwcGVuZGVkIHRvIHRoZSBsaXN0IGFyZSBhcmd1bWVudHMgd2hvc2UgYXR0cmlidXRlcwogICAgbWlycm9yIHRoZSBhcmd1bWVudHMgdG8gc2hvd3dhcm5pbmcoKS4KCiAgICBUaGUgJ21vZHVsZScgYXJndW1lbnQgaXMgdG8gc3BlY2lmeSBhbiBhbHRlcm5hdGl2ZSBtb2R1bGUgdG8gdGhlIG1vZHVsZQogICAgbmFtZWQgJ3dhcm5pbmdzJyBhbmQgaW1wb3J0ZWQgdW5kZXIgdGhhdCBuYW1lLiBUaGlzIGFyZ3VtZW50IGlzIG9ubHkgdXNlZnVsCiAgICB3aGVuIHRlc3RpbmcgdGhlIHdhcm5pbmdzIG1vZHVsZSBpdHNlbGYuCgogICAgIiIiCgogICAgI2RlZiBfX2luaXRfXyhzZWxmLCAqLCByZWNvcmQ9RmFsc2UsIG1vZHVsZT1Ob25lKTogIEJFIG1vZGlmaWVkCiAgICBkZWYgX19pbml0X18oc2VsZiwgcmVjb3JkPUZhbHNlLCBtb2R1bGU9Tm9uZSk6CiAgICAgICAgIiIiU3BlY2lmeSB3aGV0aGVyIHRvIHJlY29yZCB3YXJuaW5ncyBhbmQgaWYgYW4gYWx0ZXJuYXRpdmUgbW9kdWxlCiAgICAgICAgc2hvdWxkIGJlIHVzZWQgb3RoZXIgdGhhbiBzeXMubW9kdWxlc1snd2FybmluZ3MnXS4KCiAgICAgICAgRm9yIGNvbXBhdGliaWxpdHkgd2l0aCBQeXRob24gMy4wLCBwbGVhc2UgY29uc2lkZXIgYWxsIGFyZ3VtZW50cyB0byBiZQogICAgICAgIGtleXdvcmQtb25seS4KCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fcmVjb3JkID0gcmVjb3JkCiAgICAgICAgc2VsZi5fbW9kdWxlID0gc3lzLm1vZHVsZXNbJ3dhcm5pbmdzJ10gaWYgbW9kdWxlIGlzIE5vbmUgZWxzZSBtb2R1bGUKICAgICAgICBzZWxmLl9lbnRlcmVkID0gRmFsc2UKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgYXJncyA9IFtdCiAgICAgICAgaWYgc2VsZi5fcmVjb3JkOgogICAgICAgICAgICBhcmdzLmFwcGVuZCgicmVjb3JkPVRydWUiKQogICAgICAgIGlmIHNlbGYuX21vZHVsZSBpcyBub3Qgc3lzLm1vZHVsZXNbJ3dhcm5pbmdzJ106CiAgICAgICAgICAgIGFyZ3MuYXBwZW5kKCJtb2R1bGU9JXIiICUgc2VsZi5fbW9kdWxlKQogICAgICAgIG5hbWUgPSB0eXBlKHNlbGYpLl9fbmFtZV9fCiAgICAgICAgcmV0dXJuICIlcyglcykiICUgKG5hbWUsICIsICIuam9pbihhcmdzKSkKCiAgICBkZWYgX19lbnRlcl9fKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX2VudGVyZWQ6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiQ2Fubm90IGVudGVyICVyIHR3aWNlIiAlIHNlbGYpCiAgICAgICAgc2VsZi5fZW50ZXJlZCA9IFRydWUKICAgICAgICBzZWxmLl9maWx0ZXJzID0gc2VsZi5fbW9kdWxlLmZpbHRlcnMKICAgICAgICBzZWxmLl9tb2R1bGUuZmlsdGVycyA9IHNlbGYuX2ZpbHRlcnNbOl0KICAgICAgICBzZWxmLl9zaG93d2FybmluZyA9IHNlbGYuX21vZHVsZS5zaG93d2FybmluZwogICAgICAgIGlmIHNlbGYuX3JlY29yZDoKICAgICAgICAgICAgbG9nID0gW10KICAgICAgICAgICAgZGVmIHNob3d3YXJuaW5nKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgICAgICBsb2cuYXBwZW5kKFdhcm5pbmdNZXNzYWdlKCphcmdzLCAqKmt3YXJncykpCiAgICAgICAgICAgIHNlbGYuX21vZHVsZS5zaG93d2FybmluZyA9IHNob3d3YXJuaW5nCiAgICAgICAgICAgIHJldHVybiBsb2cKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCAqZXhjX2luZm8pOgogICAgICAgIGlmIG5vdCBzZWxmLl9lbnRlcmVkOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkNhbm5vdCBleGl0ICVyIHdpdGhvdXQgZW50ZXJpbmcgZmlyc3QiICUgc2VsZikKICAgICAgICBzZWxmLl9tb2R1bGUuZmlsdGVycyA9IHNlbGYuX2ZpbHRlcnMKICAgICAgICBzZWxmLl9tb2R1bGUuc2hvd3dhcm5pbmcgPSBzZWxmLl9zaG93d2FybmluZwoKCiMgZmlsdGVycyBjb250YWlucyBhIHNlcXVlbmNlIG9mIGZpbHRlciA1LXR1cGxlcwojIFRoZSBjb21wb25lbnRzIG9mIHRoZSA1LXR1cGxlIGFyZToKIyAtIGFuIGFjdGlvbjogZXJyb3IsIGlnbm9yZSwgYWx3YXlzLCBkZWZhdWx0LCBtb2R1bGUsIG9yIG9uY2UKIyAtIGEgY29tcGlsZWQgcmVnZXggdGhhdCBtdXN0IG1hdGNoIHRoZSB3YXJuaW5nIG1lc3NhZ2UKIyAtIGEgY2xhc3MgcmVwcmVzZW50aW5nIHRoZSB3YXJuaW5nIGNhdGVnb3J5CiMgLSBhIGNvbXBpbGVkIHJlZ2V4IHRoYXQgbXVzdCBtYXRjaCB0aGUgbW9kdWxlIHRoYXQgaXMgYmVpbmcgd2FybmVkCiMgLSBhIGxpbmUgbnVtYmVyIGZvciB0aGUgbGluZSBiZWluZyB3YXJuaW5nLCBvciAwIHRvIG1lYW4gYW55IGxpbmUKIyBJZiBlaXRoZXIgaWYgdGhlIGNvbXBpbGVkIHJlZ2V4cyBhcmUgTm9uZSwgbWF0Y2ggYW55dGhpbmcuCl93YXJuaW5nc19kZWZhdWx0cyA9IEZhbHNlCnRyeToKICAgIGZyb20gX3dhcm5pbmdzIGltcG9ydCAoZmlsdGVycywgX2RlZmF1bHRhY3Rpb24sIF9vbmNlcmVnaXN0cnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuLCB3YXJuX2V4cGxpY2l0KQogICAgZGVmYXVsdGFjdGlvbiA9IF9kZWZhdWx0YWN0aW9uCiAgICBvbmNlcmVnaXN0cnkgPSBfb25jZXJlZ2lzdHJ5CiAgICBfd2FybmluZ3NfZGVmYXVsdHMgPSBUcnVlCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIGZpbHRlcnMgPSBbXQogICAgZGVmYXVsdGFjdGlvbiA9ICJkZWZhdWx0IgogICAgb25jZXJlZ2lzdHJ5ID0ge30KCgojIE1vZHVsZSBpbml0aWFsaXphdGlvbgpfcHJvY2Vzc29wdGlvbnMoc3lzLndhcm5vcHRpb25zKQppZiBub3QgX3dhcm5pbmdzX2RlZmF1bHRzOgogICAgc2lsZW5jZSA9IFtJbXBvcnRXYXJuaW5nLCBQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5nXQogICAgc2lsZW5jZS5hcHBlbmQoRGVwcmVjYXRpb25XYXJuaW5nKQogICAgZm9yIGNscyBpbiBzaWxlbmNlOgogICAgICAgIHNpbXBsZWZpbHRlcigiaWdub3JlIiwgY2F0ZWdvcnk9Y2xzKQogICAgYnl0ZXNfd2FybmluZyA9IHN5cy5mbGFncy5ieXRlc193YXJuaW5nCiAgICBpZiBieXRlc193YXJuaW5nID4gMToKICAgICAgICBieXRlc19hY3Rpb24gPSAiZXJyb3IiCiAgICBlbGlmIGJ5dGVzX3dhcm5pbmc6CiAgICAgICAgYnl0ZXNfYWN0aW9uID0gImRlZmF1bHQiCiAgICBlbHNlOgogICAgICAgIGJ5dGVzX2FjdGlvbiA9ICJpZ25vcmUiCiAgICBzaW1wbGVmaWx0ZXIoYnl0ZXNfYWN0aW9uLCBjYXRlZ29yeT1CeXRlc1dhcm5pbmcsIGFwcGVuZD0xKQogICAgIyByZXNvdXJjZSB1c2FnZSB3YXJuaW5ncyBhcmUgZW5hYmxlZCBieSBkZWZhdWx0IGluIHB5ZGVidWcgbW9kZQogICAgaWYgaGFzYXR0cihzeXMsICdnZXR0b3RhbHJlZmNvdW50Jyk6CiAgICAgICAgcmVzb3VyY2VfYWN0aW9uID0gImFsd2F5cyIKICAgIGVsc2U6CiAgICAgICAgcmVzb3VyY2VfYWN0aW9uID0gImlnbm9yZSIKICAgIHNpbXBsZWZpbHRlcihyZXNvdXJjZV9hY3Rpb24sIGNhdGVnb3J5PVJlc291cmNlV2FybmluZywgYXBwZW5kPTEpCgojZml4bWUgYnJ5dGhvbiBFcnJvcjogX3dhcm5pbmdzX2RlZmF1bHRzIGlzIG5vdCBkZWZpbmVkCiNkZWwgX3dhcm5pbmdzX2RlZmF1bHRzCg==',
'/Lib/string.py':'IyBTb21lIHN0cmluZ3MgZm9yIGN0eXBlLXN0eWxlIGNoYXJhY3RlciBjbGFzc2lmaWNhdGlvbgp3aGl0ZXNwYWNlID0gJyBcdFxuXHJcdlxmJwphc2NpaV9sb3dlcmNhc2UgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonCmFzY2lpX3VwcGVyY2FzZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicKYXNjaWlfbGV0dGVycyA9IGFzY2lpX2xvd2VyY2FzZSArIGFzY2lpX3VwcGVyY2FzZQpkaWdpdHMgPSAnMDEyMzQ1Njc4OScKaGV4ZGlnaXRzID0gZGlnaXRzICsgJ2FiY2RlZicgKyAnQUJDREVGJwpvY3RkaWdpdHMgPSAnMDEyMzQ1NjcnCnB1bmN0dWF0aW9uID0gIiIiISIjJCUmJygpKissLS4vOjs8PT4/QFtcXV5fYHt8fX4iIiIKcHJpbnRhYmxlID0gZGlnaXRzICsgYXNjaWlfbGV0dGVycyArIHB1bmN0dWF0aW9uICsgd2hpdGVzcGFjZQoKIyBGdW5jdGlvbnMgd2hpY2ggYXJlbid0IGF2YWlsYWJsZSBhcyBzdHJpbmcgbWV0aG9kcy4KCiMgQ2FwaXRhbGl6ZSB0aGUgd29yZHMgaW4gYSBzdHJpbmcsIGUuZy4gIiBhQmMgIGRFZiAiIC0+ICJBYmMgRGVmIi4KZGVmIGNhcHdvcmRzKHMsIHNlcD1Ob25lKToKICAgICIiImNhcHdvcmRzKHMgWyxzZXBdKSAtPiBzdHJpbmcKCiAgICBTcGxpdCB0aGUgYXJndW1lbnQgaW50byB3b3JkcyB1c2luZyBzcGxpdCwgY2FwaXRhbGl6ZSBlYWNoCiAgICB3b3JkIHVzaW5nIGNhcGl0YWxpemUsIGFuZCBqb2luIHRoZSBjYXBpdGFsaXplZCB3b3JkcyB1c2luZwogICAgam9pbi4gIElmIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgc2VwIGlzIGFic2VudCBvciBOb25lLAogICAgcnVucyBvZiB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgYXJlIHJlcGxhY2VkIGJ5IGEgc2luZ2xlIHNwYWNlCiAgICBhbmQgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBhcmUgcmVtb3ZlZCwgb3RoZXJ3aXNlCiAgICBzZXAgaXMgdXNlZCB0byBzcGxpdCBhbmQgam9pbiB0aGUgd29yZHMuCgogICAgIiIiCiAgICByZXR1cm4gKHNlcCBvciAnICcpLmpvaW4oeC5jYXBpdGFsaXplKCkgZm9yIHggaW4gcy5zcGxpdChzZXApKQo=',
'/Lib/mytest.py':'ZnJvbSBvcyBpbXBvcnQgKgo=',
'/Lib/datetime.py':'IiIiQ29uY3JldGUgZGF0ZS90aW1lIGFuZCByZWxhdGVkIHR5cGVzIC0tIHByb3RvdHlwZSBpbXBsZW1lbnRlZCBpbiBQeXRob24uCgpTZWUgaHR0cDovL3d3dy56b3BlLm9yZy9NZW1iZXJzL2ZkcmFrZS9EYXRlVGltZVdpa2kvRnJvbnRQYWdlCgpTZWUgYWxzbyBodHRwOi8vZGlyLnlhaG9vLmNvbS9SZWZlcmVuY2UvY2FsZW5kYXJzLwoKRm9yIGEgcHJpbWVyIG9uIERTVCwgaW5jbHVkaW5nIG1hbnkgY3VycmVudCBEU1QgcnVsZXMsIHNlZQpodHRwOi8vd2ViZXhoaWJpdHMub3JnL2RheWxpZ2h0c2F2aW5nLwoKRm9yIG1vcmUgYWJvdXQgRFNUIHRoYW4geW91IGV2ZXIgd2FudGVkIHRvIGtub3csIHNlZQpmdHA6Ly9lbHNpZS5uY2kubmloLmdvdi9wdWIvCgpTb3VyY2VzIGZvciB0aW1lIHpvbmUgYW5kIERTVCBkYXRhOiBodHRwOi8vd3d3LnR3aW5zdW4uY29tL3R6L3R6LWxpbmsuaHRtCgpUaGlzIHdhcyBvcmlnaW5hbGx5IGNvcGllZCBmcm9tIHRoZSBzYW5kYm94IG9mIHRoZSBDUHl0aG9uIENWUyByZXBvc2l0b3J5LgpUaGFua3MgdG8gVGltIFBldGVycyBmb3Igc3VnZ2VzdGluZyB1c2luZyBpdC4KIiIiCgppbXBvcnQgdGltZSBhcyBfdGltZQppbXBvcnQgbWF0aCBhcyBfbWF0aAoKZGVmIF9jbXAoeCwgeSk6CiAgICByZXR1cm4gMCBpZiB4ID09IHkgZWxzZSAxIGlmIHggPiB5IGVsc2UgLTEKCk1JTllFQVIgPSAxCk1BWFlFQVIgPSA5OTk5Cl9NQVhPUkRJTkFMID0gMzY1MjA1OSAjIGRhdGUubWF4LnRvb3JkaW5hbCgpCgojIFV0aWxpdHkgZnVuY3Rpb25zLCBhZGFwdGVkIGZyb20gUHl0aG9uJ3MgRGVtby9jbGFzc2VzL0RhdGVzLnB5LCB3aGljaAojIGFsc28gYXNzdW1lcyB0aGUgY3VycmVudCBHcmVnb3JpYW4gY2FsZW5kYXIgaW5kZWZpbml0ZWx5IGV4dGVuZGVkIGluCiMgYm90aCBkaXJlY3Rpb25zLiAgRGlmZmVyZW5jZTogIERhdGVzLnB5IGNhbGxzIEphbnVhcnkgMSBvZiB5ZWFyIDAgZGF5CiMgbnVtYmVyIDEuICBUaGUgY29kZSBoZXJlIGNhbGxzIEphbnVhcnkgMSBvZiB5ZWFyIDEgZGF5IG51bWJlciAxLiAgVGhpcyBpcwojIHRvIG1hdGNoIHRoZSBkZWZpbml0aW9uIG9mIHRoZSAicHJvbGVwdGljIEdyZWdvcmlhbiIgY2FsZW5kYXIgaW4gRGVyc2hvd2l0egojIGFuZCBSZWluZ29sZCdzICJDYWxlbmRyaWNhbCBDYWxjdWxhdGlvbnMiLCB3aGVyZSBpdCdzIHRoZSBiYXNlIGNhbGVuZGFyCiMgZm9yIGFsbCBjb21wdXRhdGlvbnMuICBTZWUgdGhlIGJvb2sgZm9yIGFsZ29yaXRobXMgZm9yIGNvbnZlcnRpbmcgYmV0d2VlbgojIHByb2xlcHRpYyBHcmVnb3JpYW4gb3JkaW5hbHMgYW5kIG1hbnkgb3RoZXIgY2FsZW5kYXIgc3lzdGVtcy4KCl9EQVlTX0lOX01PTlRIID0gW05vbmUsIDMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdCgpfREFZU19CRUZPUkVfTU9OVEggPSBbTm9uZV0KZGJtID0gMApmb3IgZGltIGluIF9EQVlTX0lOX01PTlRIWzE6XToKICAgIF9EQVlTX0JFRk9SRV9NT05USC5hcHBlbmQoZGJtKQogICAgZGJtICs9IGRpbQpkZWwgZGJtLCBkaW0KCmRlZiBfaXNfbGVhcCh5ZWFyKToKICAgICJ5ZWFyIC0+IDEgaWYgbGVhcCB5ZWFyLCBlbHNlIDAuIgogICAgcmV0dXJuIHllYXIgJSA0ID09IDAgYW5kICh5ZWFyICUgMTAwICE9IDAgb3IgeWVhciAlIDQwMCA9PSAwKQoKZGVmIF9kYXlzX2JlZm9yZV95ZWFyKHllYXIpOgogICAgInllYXIgLT4gbnVtYmVyIG9mIGRheXMgYmVmb3JlIEphbnVhcnkgMXN0IG9mIHllYXIuIgogICAgeSA9IHllYXIgLSAxCiAgICByZXR1cm4geSozNjUgKyB5Ly80IC0geS8vMTAwICsgeS8vNDAwCgpkZWYgX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpOgogICAgInllYXIsIG1vbnRoIC0+IG51bWJlciBvZiBkYXlzIGluIHRoYXQgbW9udGggaW4gdGhhdCB5ZWFyLiIKICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCBtb250aAogICAgaWYgbW9udGggPT0gMiBhbmQgX2lzX2xlYXAoeWVhcik6CiAgICAgICAgcmV0dXJuIDI5CiAgICByZXR1cm4gX0RBWVNfSU5fTU9OVEhbbW9udGhdCgpkZWYgX2RheXNfYmVmb3JlX21vbnRoKHllYXIsIG1vbnRoKToKICAgICJ5ZWFyLCBtb250aCAtPiBudW1iZXIgb2YgZGF5cyBpbiB5ZWFyIHByZWNlZWRpbmcgZmlyc3QgZGF5IG9mIG1vbnRoLiIKICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCAnbW9udGggbXVzdCBiZSBpbiAxLi4xMicKICAgIHJldHVybiBfREFZU19CRUZPUkVfTU9OVEhbbW9udGhdICsgKG1vbnRoID4gMiBhbmQgX2lzX2xlYXAoeWVhcikpCgpkZWYgX3ltZDJvcmQoeWVhciwgbW9udGgsIGRheSk6CiAgICAieWVhciwgbW9udGgsIGRheSAtPiBvcmRpbmFsLCBjb25zaWRlcmluZyAwMS1KYW4tMDAwMSBhcyBkYXkgMS4iCiAgICBhc3NlcnQgMSA8PSBtb250aCA8PSAxMiwgJ21vbnRoIG11c3QgYmUgaW4gMS4uMTInCiAgICBkaW0gPSBfZGF5c19pbl9tb250aCh5ZWFyLCBtb250aCkKICAgIGFzc2VydCAxIDw9IGRheSA8PSBkaW0sICgnZGF5IG11c3QgYmUgaW4gMS4uJWQnICUgZGltKQogICAgcmV0dXJuIChfZGF5c19iZWZvcmVfeWVhcih5ZWFyKSArCiAgICAgICAgICAgIF9kYXlzX2JlZm9yZV9tb250aCh5ZWFyLCBtb250aCkgKwogICAgICAgICAgICBkYXkpCgpfREk0MDBZID0gX2RheXNfYmVmb3JlX3llYXIoNDAxKSAgICAjIG51bWJlciBvZiBkYXlzIGluIDQwMCB5ZWFycwpfREkxMDBZID0gX2RheXNfYmVmb3JlX3llYXIoMTAxKSAgICAjICAgICIgICAgIiAgICIgICAiIDEwMCAgICIKX0RJNFkgICA9IF9kYXlzX2JlZm9yZV95ZWFyKDUpICAgICAgIyAgICAiICAgICIgICAiICAgIiAgIDQgICAiCgojIEEgNC15ZWFyIGN5Y2xlIGhhcyBhbiBleHRyYSBsZWFwIGRheSBvdmVyIHdoYXQgd2UnZCBnZXQgZnJvbSBwYXN0aW5nCiMgdG9nZXRoZXIgNCBzaW5nbGUgeWVhcnMuCmFzc2VydCBfREk0WSA9PSA0ICogMzY1ICsgMQoKIyBTaW1pbGFybHksIGEgNDAwLXllYXIgY3ljbGUgaGFzIGFuIGV4dHJhIGxlYXAgZGF5IG92ZXIgd2hhdCB3ZSdkIGdldCBmcm9tCiMgcGFzdGluZyB0b2dldGhlciA0IDEwMC15ZWFyIGN5Y2xlcy4KYXNzZXJ0IF9ESTQwMFkgPT0gNCAqIF9ESTEwMFkgKyAxCgojIE9UT0gsIGEgMTAwLXllYXIgY3ljbGUgaGFzIG9uZSBmZXdlciBsZWFwIGRheSB0aGFuIHdlJ2QgZ2V0IGZyb20KIyBwYXN0aW5nIHRvZ2V0aGVyIDI1IDQteWVhciBjeWNsZXMuCmFzc2VydCBfREkxMDBZID09IDI1ICogX0RJNFkgLSAxCgpkZWYgX29yZDJ5bWQobik6CiAgICAib3JkaW5hbCAtPiAoeWVhciwgbW9udGgsIGRheSksIGNvbnNpZGVyaW5nIDAxLUphbi0wMDAxIGFzIGRheSAxLiIKCiAgICAjIG4gaXMgYSAxLWJhc2VkIGluZGV4LCBzdGFydGluZyBhdCAxLUphbi0xLiAgVGhlIHBhdHRlcm4gb2YgbGVhcCB5ZWFycwogICAgIyByZXBlYXRzIGV4YWN0bHkgZXZlcnkgNDAwIHllYXJzLiAgVGhlIGJhc2ljIHN0cmF0ZWd5IGlzIHRvIGZpbmQgdGhlCiAgICAjIGNsb3Nlc3QgNDAwLXllYXIgYm91bmRhcnkgYXQgb3IgYmVmb3JlIG4sIHRoZW4gd29yayB3aXRoIHRoZSBvZmZzZXQKICAgICMgZnJvbSB0aGF0IGJvdW5kYXJ5IHRvIG4uICBMaWZlIGlzIG11Y2ggY2xlYXJlciBpZiB3ZSBzdWJ0cmFjdCAxIGZyb20KICAgICMgbiBmaXJzdCAtLSB0aGVuIHRoZSB2YWx1ZXMgb2YgbiBhdCA0MDAteWVhciBib3VuZGFyaWVzIGFyZSBleGFjdGx5CiAgICAjIHRob3NlIGRpdmlzaWJsZSBieSBfREk0MDBZOgogICAgIwogICAgIyAgICAgRCAgTSAgIFkgICAgICAgICAgICBuICAgICAgICAgICAgICBuLTEKICAgICMgICAgIC0tIC0tLSAtLS0tICAgICAgICAtLS0tLS0tLS0tICAgICAtLS0tLS0tLS0tLS0tLS0tCiAgICAjICAgICAzMSBEZWMgLTQwMCAgICAgICAgLV9ESTQwMFkgICAgICAgLV9ESTQwMFkgLTEKICAgICMgICAgICAxIEphbiAtMzk5ICAgICAgICAgLV9ESTQwMFkgKzEgICAtX0RJNDAwWSAgICAgIDQwMC15ZWFyIGJvdW5kYXJ5CiAgICAjICAgICAuLi4KICAgICMgICAgIDMwIERlYyAgMDAwICAgICAgICAtMSAgICAgICAgICAgICAtMgogICAgIyAgICAgMzEgRGVjICAwMDAgICAgICAgICAwICAgICAgICAgICAgIC0xCiAgICAjICAgICAgMSBKYW4gIDAwMSAgICAgICAgIDEgICAgICAgICAgICAgIDAgICAgICAgICAgICA0MDAteWVhciBib3VuZGFyeQogICAgIyAgICAgIDIgSmFuICAwMDEgICAgICAgICAyICAgICAgICAgICAgICAxCiAgICAjICAgICAgMyBKYW4gIDAwMSAgICAgICAgIDMgICAgICAgICAgICAgIDIKICAgICMgICAgIC4uLgogICAgIyAgICAgMzEgRGVjICA0MDAgICAgICAgICBfREk0MDBZICAgICAgICBfREk0MDBZIC0xCiAgICAjICAgICAgMSBKYW4gIDQwMSAgICAgICAgIF9ESTQwMFkgKzEgICAgIF9ESTQwMFkgICAgICA0MDAteWVhciBib3VuZGFyeQogICAgbiAtPSAxCiAgICBuNDAwLCBuID0gZGl2bW9kKG4sIF9ESTQwMFkpCiAgICB5ZWFyID0gbjQwMCAqIDQwMCArIDEgICAjIC4uLiwgLTM5OSwgMSwgNDAxLCAuLi4KCiAgICAjIE5vdyBuIGlzIHRoZSAobm9uLW5lZ2F0aXZlKSBvZmZzZXQsIGluIGRheXMsIGZyb20gSmFudWFyeSAxIG9mIHllYXIsIHRvCiAgICAjIHRoZSBkZXNpcmVkIGRhdGUuICBOb3cgY29tcHV0ZSBob3cgbWFueSAxMDAteWVhciBjeWNsZXMgcHJlY2VkZSBuLgogICAgIyBOb3RlIHRoYXQgaXQncyBwb3NzaWJsZSBmb3IgbjEwMCB0byBlcXVhbCA0ISAgSW4gdGhhdCBjYXNlIDQgZnVsbAogICAgIyAxMDAteWVhciBjeWNsZXMgcHJlY2VkZSB0aGUgZGVzaXJlZCBkYXksIHdoaWNoIGltcGxpZXMgdGhlIGRlc2lyZWQKICAgICMgZGF5IGlzIERlY2VtYmVyIDMxIGF0IHRoZSBlbmQgb2YgYSA0MDAteWVhciBjeWNsZS4KICAgIG4xMDAsIG4gPSBkaXZtb2QobiwgX0RJMTAwWSkKCiAgICAjIE5vdyBjb21wdXRlIGhvdyBtYW55IDQteWVhciBjeWNsZXMgcHJlY2VkZSBpdC4KICAgIG40LCBuID0gZGl2bW9kKG4sIF9ESTRZKQoKICAgICMgQW5kIG5vdyBob3cgbWFueSBzaW5nbGUgeWVhcnMuICBBZ2FpbiBuMSBjYW4gYmUgNCwgYW5kIGFnYWluIG1lYW5pbmcKICAgICMgdGhhdCB0aGUgZGVzaXJlZCBkYXkgaXMgRGVjZW1iZXIgMzEgYXQgdGhlIGVuZCBvZiB0aGUgNC15ZWFyIGN5Y2xlLgogICAgbjEsIG4gPSBkaXZtb2QobiwgMzY1KQoKICAgIHllYXIgKz0gbjEwMCAqIDEwMCArIG40ICogNCArIG4xCiAgICBpZiBuMSA9PSA0IG9yIG4xMDAgPT0gNDoKICAgICAgICBhc3NlcnQgbiA9PSAwCiAgICAgICAgcmV0dXJuIHllYXItMSwgMTIsIDMxCgogICAgIyBOb3cgdGhlIHllYXIgaXMgY29ycmVjdCwgYW5kIG4gaXMgdGhlIG9mZnNldCBmcm9tIEphbnVhcnkgMS4gIFdlIGZpbmQKICAgICMgdGhlIG1vbnRoIHZpYSBhbiBlc3RpbWF0ZSB0aGF0J3MgZWl0aGVyIGV4YWN0IG9yIG9uZSB0b28gbGFyZ2UuCiAgICBsZWFweWVhciA9IG4xID09IDMgYW5kIChuNCAhPSAyNCBvciBuMTAwID09IDMpCiAgICBhc3NlcnQgbGVhcHllYXIgPT0gX2lzX2xlYXAoeWVhcikKICAgIG1vbnRoID0gKG4gKyA1MCkgPj4gNQogICAgcHJlY2VkaW5nID0gX0RBWVNfQkVGT1JFX01PTlRIW21vbnRoXSArIChtb250aCA+IDIgYW5kIGxlYXB5ZWFyKQogICAgaWYgcHJlY2VkaW5nID4gbjogICMgZXN0aW1hdGUgaXMgdG9vIGxhcmdlCiAgICAgICAgbW9udGggLT0gMQogICAgICAgIHByZWNlZGluZyAtPSBfREFZU19JTl9NT05USFttb250aF0gKyAobW9udGggPT0gMiBhbmQgbGVhcHllYXIpCiAgICBuIC09IHByZWNlZGluZwogICAgYXNzZXJ0IDAgPD0gbiA8IF9kYXlzX2luX21vbnRoKHllYXIsIG1vbnRoKQoKICAgICMgTm93IHRoZSB5ZWFyIGFuZCBtb250aCBhcmUgY29ycmVjdCwgYW5kIG4gaXMgdGhlIG9mZnNldCBmcm9tIHRoZQogICAgIyBzdGFydCBvZiB0aGF0IG1vbnRoOiAgd2UncmUgZG9uZSEKICAgIHJldHVybiB5ZWFyLCBtb250aCwgbisxCgojIE1vbnRoIGFuZCBkYXkgbmFtZXMuICBGb3IgbG9jYWxpemVkIHZlcnNpb25zLCBzZWUgdGhlIGNhbGVuZGFyIG1vZHVsZS4KX01PTlRITkFNRVMgPSBbTm9uZSwgIkphbiIsICJGZWIiLCAiTWFyIiwgIkFwciIsICJNYXkiLCAiSnVuIiwKICAgICAgICAgICAgICAgICAgICAgIkp1bCIsICJBdWciLCAiU2VwIiwgIk9jdCIsICJOb3YiLCAiRGVjIl0KX0RBWU5BTUVTID0gW05vbmUsICJNb24iLCAiVHVlIiwgIldlZCIsICJUaHUiLCAiRnJpIiwgIlNhdCIsICJTdW4iXQoKCmRlZiBfYnVpbGRfc3RydWN0X3RpbWUoeSwgbSwgZCwgaGgsIG1tLCBzcywgZHN0ZmxhZyk6CiAgICB3ZGF5ID0gKF95bWQyb3JkKHksIG0sIGQpICsgNikgJSA3CiAgICBkbnVtID0gX2RheXNfYmVmb3JlX21vbnRoKHksIG0pICsgZAogICAgcmV0dXJuIF90aW1lLnN0cnVjdF90aW1lKCh5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZGF5LCBkbnVtLCBkc3RmbGFnKSkKCmRlZiBfZm9ybWF0X3RpbWUoaGgsIG1tLCBzcywgdXMpOgogICAgIyBTa2lwIHRyYWlsaW5nIG1pY3Jvc2Vjb25kcyB3aGVuIHVzPT0wLgogICAgcmVzdWx0ID0gIiUwMmQ6JTAyZDolMDJkIiAlIChoaCwgbW0sIHNzKQogICAgaWYgdXM6CiAgICAgICAgcmVzdWx0ICs9ICIuJTA2ZCIgJSB1cwogICAgcmV0dXJuIHJlc3VsdAoKIyBDb3JyZWN0bHkgc3Vic3RpdHV0ZSBmb3IgJXogYW5kICVaIGVzY2FwZXMgaW4gc3RyZnRpbWUgZm9ybWF0cy4KZGVmIF93cmFwX3N0cmZ0aW1lKG9iamVjdCwgZm9ybWF0LCB0aW1ldHVwbGUpOgogICAgeWVhciA9IHRpbWV0dXBsZVswXQogICAgaWYgeWVhciA8IDEwMDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieWVhcj0lZCBpcyBiZWZvcmUgMTAwMDsgdGhlIGRhdGV0aW1lIHN0cmZ0aW1lKCkgIgogICAgICAgICAgICAgICAgICAgICAgICAgIm1ldGhvZHMgcmVxdWlyZSB5ZWFyID49IDEwMDAiICUgeWVhcikKICAgICMgRG9uJ3QgY2FsbCB1dGNvZmZzZXQoKSBvciB0em5hbWUoKSB1bmxlc3MgYWN0dWFsbHkgbmVlZGVkLgogICAgZnJlcGxhY2UgPSBOb25lICMgdGhlIHN0cmluZyB0byB1c2UgZm9yICVmCiAgICB6cmVwbGFjZSA9IE5vbmUgIyB0aGUgc3RyaW5nIHRvIHVzZSBmb3IgJXoKICAgIFpyZXBsYWNlID0gTm9uZSAjIHRoZSBzdHJpbmcgdG8gdXNlIGZvciAlWgoKICAgICMgU2NhbiBmb3JtYXQgZm9yICV6IGFuZCAlWiBlc2NhcGVzLCByZXBsYWNpbmcgYXMgbmVlZGVkLgogICAgbmV3Zm9ybWF0ID0gW10KICAgIHB1c2ggPSBuZXdmb3JtYXQuYXBwZW5kCiAgICBpLCBuID0gMCwgbGVuKGZvcm1hdCkKICAgIHdoaWxlIGkgPCBuOgogICAgICAgIGNoID0gZm9ybWF0W2ldCiAgICAgICAgaSArPSAxCiAgICAgICAgaWYgY2ggPT0gJyUnOgogICAgICAgICAgICBpZiBpIDwgbjoKICAgICAgICAgICAgICAgIGNoID0gZm9ybWF0W2ldCiAgICAgICAgICAgICAgICBpICs9IDEKICAgICAgICAgICAgICAgIGlmIGNoID09ICdmJzoKICAgICAgICAgICAgICAgICAgICBpZiBmcmVwbGFjZSBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBmcmVwbGFjZSA9ICclMDZkJyAlIGdldGF0dHIob2JqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pY3Jvc2Vjb25kJywgMCkKICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKGZyZXBsYWNlKQogICAgICAgICAgICAgICAgZWxpZiBjaCA9PSAneic6CiAgICAgICAgICAgICAgICAgICAgaWYgenJlcGxhY2UgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgenJlcGxhY2UgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG9iamVjdCwgInV0Y29mZnNldCIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2JqZWN0LnV0Y29mZnNldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvZmZzZXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9ICcrJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9mZnNldC5kYXlzIDwgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gJy0nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCwgbSA9IGRpdm1vZChvZmZzZXQsIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQgbm90IG0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtIC8vPSB0aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpyZXBsYWNlID0gJyVjJTAyZCUwMmQnICUgKHNpZ24sIGgsIG0pCiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0ICclJyBub3QgaW4genJlcGxhY2UKICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKHpyZXBsYWNlKQogICAgICAgICAgICAgICAgZWxpZiBjaCA9PSAnWic6CiAgICAgICAgICAgICAgICAgICAgaWYgWnJlcGxhY2UgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgWnJlcGxhY2UgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG9iamVjdCwgInR6bmFtZSIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG9iamVjdC50em5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHN0cmZ0aW1lIGlzIGdvaW5nIHRvIGhhdmUgYXQgdGhpczogZXNjYXBlICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBacmVwbGFjZSA9IHMucmVwbGFjZSgnJScsICclJScpCiAgICAgICAgICAgICAgICAgICAgbmV3Zm9ybWF0LmFwcGVuZChacmVwbGFjZSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHVzaCgnJScpCiAgICAgICAgICAgICAgICAgICAgcHVzaChjaCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHB1c2goJyUnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHB1c2goY2gpCiAgICBuZXdmb3JtYXQgPSAiIi5qb2luKG5ld2Zvcm1hdCkKICAgIHJldHVybiBfdGltZS5zdHJmdGltZShuZXdmb3JtYXQsIHRpbWV0dXBsZSkKCmRlZiBfY2FsbF90emluZm9fbWV0aG9kKHR6aW5mbywgbWV0aG5hbWUsIHR6aW5mb2FyZyk6CiAgICBpZiB0emluZm8gaXMgTm9uZToKICAgICAgICByZXR1cm4gTm9uZQogICAgcmV0dXJuIGdldGF0dHIodHppbmZvLCBtZXRobmFtZSkodHppbmZvYXJnKQoKIyBKdXN0IHJhaXNlIFR5cGVFcnJvciBpZiB0aGUgYXJnIGlzbid0IE5vbmUgb3IgYSBzdHJpbmcuCmRlZiBfY2hlY2tfdHpuYW1lKG5hbWUpOgogICAgaWYgbmFtZSBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UobmFtZSwgc3RyKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoInR6aW5mby50em5hbWUoKSBtdXN0IHJldHVybiBOb25lIG9yIHN0cmluZywgIgogICAgICAgICAgICAgICAgICAgICAgICAibm90ICclcyciICUgdHlwZShuYW1lKSkKCiMgbmFtZSBpcyB0aGUgb2Zmc2V0LXByb2R1Y2luZyBtZXRob2QsICJ1dGNvZmZzZXQiIG9yICJkc3QiLgojIG9mZnNldCBpcyB3aGF0IGl0IHJldHVybmVkLgojIElmIG9mZnNldCBpc24ndCBOb25lIG9yIHRpbWVkZWx0YSwgcmFpc2VzIFR5cGVFcnJvci4KIyBJZiBvZmZzZXQgaXMgTm9uZSwgcmV0dXJucyBOb25lLgojIEVsc2Ugb2Zmc2V0IGlzIGNoZWNrZWQgZm9yIGJlaW5nIGluIHJhbmdlLCBhbmQgYSB3aG9sZSAjIG9mIG1pbnV0ZXMuCiMgSWYgaXQgaXMsIGl0cyBpbnRlZ2VyIHZhbHVlIGlzIHJldHVybmVkLiAgRWxzZSBWYWx1ZUVycm9yIGlzIHJhaXNlZC4KZGVmIF9jaGVja191dGNfb2Zmc2V0KG5hbWUsIG9mZnNldCk6CiAgICBhc3NlcnQgbmFtZSBpbiAoInV0Y29mZnNldCIsICJkc3QiKQogICAgaWYgb2Zmc2V0IGlzIE5vbmU6CiAgICAgICAgcmV0dXJuCiAgICBpZiBub3QgaXNpbnN0YW5jZShvZmZzZXQsIHRpbWVkZWx0YSk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8uJXMoKSBtdXN0IHJldHVybiBOb25lICIKICAgICAgICAgICAgICAgICAgICAgICAgIm9yIHRpbWVkZWx0YSwgbm90ICclcyciICUgKG5hbWUsIHR5cGUob2Zmc2V0KSkpCiAgICBpZiBvZmZzZXQgJSB0aW1lZGVsdGEobWludXRlcz0xKSBvciBvZmZzZXQubWljcm9zZWNvbmRzOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInR6aW5mby4lcygpIG11c3QgcmV0dXJuIGEgd2hvbGUgbnVtYmVyICIKICAgICAgICAgICAgICAgICAgICAgICAgICJvZiBtaW51dGVzLCBnb3QgJXMiICUgKG5hbWUsIG9mZnNldCkpCiAgICBpZiBub3QgLXRpbWVkZWx0YSgxKSA8IG9mZnNldCA8IHRpbWVkZWx0YSgxKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCIlcygpPSVzLCBtdXN0IGJlIG11c3QgYmUgc3RyaWN0bHkgYmV0d2VlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICIgLXRpbWVkZWx0YShob3Vycz0yNCkgYW5kIHRpbWVkZWx0YShob3Vycz0yNCkiCiAgICAgICAgICAgICAgICAgICAgICAgICAlIChuYW1lLCBvZmZzZXQpKQoKZGVmIF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KToKICAgIGlmIG5vdCBpc2luc3RhbmNlKHllYXIsIGludCk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdpbnQgZXhwZWN0ZWQnKQogICAgaWYgbm90IE1JTllFQVIgPD0geWVhciA8PSBNQVhZRUFSOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ3llYXIgbXVzdCBiZSBpbiAlZC4uJWQnICUgKE1JTllFQVIsIE1BWFlFQVIpLCB5ZWFyKQogICAgaWYgbm90IDEgPD0gbW9udGggPD0gMTI6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbW9udGggbXVzdCBiZSBpbiAxLi4xMicsIG1vbnRoKQogICAgZGltID0gX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpCiAgICBwcmludChkaW0pCiAgICBwcmludChkYXkpCiAgICBpZiBub3QgMSA8PSBkYXkgPD0gZGltOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ2RheSBtdXN0IGJlIGluIDEuLiVkJyAlIGRpbSwgZGF5KQoKZGVmIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpOgogICAgaWYgbm90IGlzaW5zdGFuY2UoaG91ciwgaW50KToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2ludCBleHBlY3RlZCcpCiAgICBpZiBub3QgMCA8PSBob3VyIDw9IDIzOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ2hvdXIgbXVzdCBiZSBpbiAwLi4yMycsIGhvdXIpCiAgICBpZiBub3QgMCA8PSBtaW51dGUgPD0gNTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbWludXRlIG11c3QgYmUgaW4gMC4uNTknLCBtaW51dGUpCiAgICBpZiBub3QgMCA8PSBzZWNvbmQgPD0gNTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignc2Vjb25kIG11c3QgYmUgaW4gMC4uNTknLCBzZWNvbmQpCiAgICBpZiBub3QgMCA8PSBtaWNyb3NlY29uZCA8PSA5OTk5OTk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbWljcm9zZWNvbmQgbXVzdCBiZSBpbiAwLi45OTk5OTknLCBtaWNyb3NlY29uZCkKCmRlZiBfY2hlY2tfdHppbmZvX2FyZyh0eik6CiAgICBpZiB0eiBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UodHosIHR6aW5mbyk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8gYXJndW1lbnQgbXVzdCBiZSBOb25lIG9yIG9mIGEgdHppbmZvIHN1YmNsYXNzIikKCmRlZiBfY21wZXJyb3IoeCwgeSk6CiAgICByYWlzZSBUeXBlRXJyb3IoImNhbid0IGNvbXBhcmUgJyVzJyB0byAnJXMnIiAlICgKICAgICAgICAgICAgICAgICAgICB0eXBlKHgpLl9fbmFtZV9fLCB0eXBlKHkpLl9fbmFtZV9fKSkKCmNsYXNzIHRpbWVkZWx0YToKICAgICIiIlJlcHJlc2VudCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBkYXRldGltZSBvYmplY3RzLgoKICAgIFN1cHBvcnRlZCBvcGVyYXRvcnM6CgogICAgLSBhZGQsIHN1YnRyYWN0IHRpbWVkZWx0YQogICAgLSB1bmFyeSBwbHVzLCBtaW51cywgYWJzCiAgICAtIGNvbXBhcmUgdG8gdGltZWRlbHRhCiAgICAtIG11bHRpcGx5LCBkaXZpZGUgYnkgaW50L2xvbmcKCiAgICBJbiBhZGRpdGlvbiwgZGF0ZXRpbWUgc3VwcG9ydHMgc3VidHJhY3Rpb24gb2YgdHdvIGRhdGV0aW1lIG9iamVjdHMKICAgIHJldHVybmluZyBhIHRpbWVkZWx0YSwgYW5kIGFkZGl0aW9uIG9yIHN1YnRyYWN0aW9uIG9mIGEgZGF0ZXRpbWUKICAgIGFuZCBhIHRpbWVkZWx0YSBnaXZpbmcgYSBkYXRldGltZS4KCiAgICBSZXByZXNlbnRhdGlvbjogKGRheXMsIHNlY29uZHMsIG1pY3Jvc2Vjb25kcykuICBXaHk/ICBCZWNhdXNlIEkKICAgIGZlbHQgbGlrZSBpdC4KICAgICIiIgogICAgX19zbG90c19fID0gJ19kYXlzJywgJ19zZWNvbmRzJywgJ19taWNyb3NlY29uZHMnCgogICAgZGVmIF9fbmV3X18oY2xzLCBkYXlzPTAsIHNlY29uZHM9MCwgbWljcm9zZWNvbmRzPTAsCiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHM9MCwgbWludXRlcz0wLCBob3Vycz0wLCB3ZWVrcz0wKToKICAgICAgICAjIERvaW5nIHRoaXMgZWZmaWNpZW50bHkgYW5kIGFjY3VyYXRlbHkgaW4gQyBpcyBnb2luZyB0byBiZSBkaWZmaWN1bHQKICAgICAgICAjIGFuZCBlcnJvci1wcm9uZSwgZHVlIHRvIHViaXF1aXRvdXMgb3ZlcmZsb3cgcG9zc2liaWxpdGllcywgYW5kIHRoYXQKICAgICAgICAjIEMgZG91YmxlIGRvZXNuJ3QgaGF2ZSBlbm91Z2ggYml0cyBvZiBwcmVjaXNpb24gdG8gcmVwcmVzZW50CiAgICAgICAgIyBtaWNyb3NlY29uZHMgb3ZlciAxMEsgeWVhcnMgZmFpdGhmdWxseS4gIFRoZSBjb2RlIGhlcmUgdHJpZXMgdG8gbWFrZQogICAgICAgICMgZXhwbGljaXQgd2hlcmUgZ28tZmFzdCBhc3N1bXB0aW9ucyBjYW4gYmUgcmVsaWVkIG9uLCBpbiBvcmRlciB0bwogICAgICAgICMgZ3VpZGUgdGhlIEMgaW1wbGVtZW50YXRpb247IGl0J3Mgd2F5IG1vcmUgY29udm9sdXRlZCB0aGFuIHNwZWVkLQogICAgICAgICMgaWdub3JpbmcgYXV0by1vdmVyZmxvdy10by1sb25nIGlkaW9tYXRpYyBQeXRob24gY291bGQgYmUuCgogICAgICAgICMgWFhYIENoZWNrIHRoYXQgYWxsIGlucHV0cyBhcmUgaW50cyBvciBmbG9hdHMuCgogICAgICAgICMgRmluYWwgdmFsdWVzLCBhbGwgaW50ZWdlci4KICAgICAgICAjIHMgYW5kIHVzIGZpdCBpbiAzMi1iaXQgc2lnbmVkIGludHM7IGQgaXNuJ3QgYm91bmRlZC4KICAgICAgICBkID0gcyA9IHVzID0gMAoKICAgICAgICAjIE5vcm1hbGl6ZSBldmVyeXRoaW5nIHRvIGRheXMsIHNlY29uZHMsIG1pY3Jvc2Vjb25kcy4KICAgICAgICBkYXlzICs9IHdlZWtzKjcKICAgICAgICBzZWNvbmRzICs9IG1pbnV0ZXMqNjAgKyBob3VycyozNjAwCiAgICAgICAgbWljcm9zZWNvbmRzICs9IG1pbGxpc2Vjb25kcyoxMDAwCgogICAgICAgICMgR2V0IHJpZCBvZiBhbGwgZnJhY3Rpb25zLCBhbmQgbm9ybWFsaXplIHMgYW5kIHVzLgogICAgICAgICMgVGFrZSBhIGRlZXAgYnJlYXRoIDx3aW5rPi4KICAgICAgICBpZiBpc2luc3RhbmNlKGRheXMsIGZsb2F0KToKICAgICAgICAgICAgZGF5ZnJhYywgZGF5cyA9IF9tYXRoLm1vZGYoZGF5cykKICAgICAgICAgICAgZGF5c2Vjb25kc2ZyYWMsIGRheXNlY29uZHN3aG9sZSA9IF9tYXRoLm1vZGYoZGF5ZnJhYyAqICgyNC4qMzYwMC4pKQogICAgICAgICAgICBhc3NlcnQgZGF5c2Vjb25kc3dob2xlID09IGludChkYXlzZWNvbmRzd2hvbGUpICAjIGNhbid0IG92ZXJmbG93CiAgICAgICAgICAgIHMgPSBpbnQoZGF5c2Vjb25kc3dob2xlKQogICAgICAgICAgICBhc3NlcnQgZGF5cyA9PSBpbnQoZGF5cykKICAgICAgICAgICAgZCA9IGludChkYXlzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRheXNlY29uZHNmcmFjID0gMC4wCiAgICAgICAgICAgIGQgPSBkYXlzCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoZGF5c2Vjb25kc2ZyYWMsIGZsb2F0KQogICAgICAgIGFzc2VydCBhYnMoZGF5c2Vjb25kc2ZyYWMpIDw9IDEuMAogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKGQsIGludCkKICAgICAgICBhc3NlcnQgYWJzKHMpIDw9IDI0ICogMzYwMAogICAgICAgICMgZGF5cyBpc24ndCByZWZlcmVuY2VkIGFnYWluIGJlZm9yZSByZWRlZmluaXRpb24KCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWNvbmRzLCBmbG9hdCk6CiAgICAgICAgICAgIHNlY29uZHNmcmFjLCBzZWNvbmRzID0gX21hdGgubW9kZihzZWNvbmRzKQogICAgICAgICAgICBhc3NlcnQgc2Vjb25kcyA9PSBpbnQoc2Vjb25kcykKICAgICAgICAgICAgc2Vjb25kcyA9IGludChzZWNvbmRzKQogICAgICAgICAgICBzZWNvbmRzZnJhYyArPSBkYXlzZWNvbmRzZnJhYwogICAgICAgICAgICBhc3NlcnQgYWJzKHNlY29uZHNmcmFjKSA8PSAyLjAKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWNvbmRzZnJhYyA9IGRheXNlY29uZHNmcmFjCiAgICAgICAgIyBkYXlzZWNvbmRzZnJhYyBpc24ndCByZWZlcmVuY2VkIGFnYWluCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uoc2Vjb25kc2ZyYWMsIGZsb2F0KQogICAgICAgIGFzc2VydCBhYnMoc2Vjb25kc2ZyYWMpIDw9IDIuMAoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzZWNvbmRzLCBpbnQpCiAgICAgICAgZGF5cywgc2Vjb25kcyA9IGRpdm1vZChzZWNvbmRzLCAyNCozNjAwKQogICAgICAgIGQgKz0gZGF5cwogICAgICAgIHMgKz0gaW50KHNlY29uZHMpICAgICMgY2FuJ3Qgb3ZlcmZsb3cKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzLCBpbnQpCiAgICAgICAgYXNzZXJ0IGFicyhzKSA8PSAyICogMjQgKiAzNjAwCiAgICAgICAgIyBzZWNvbmRzIGlzbid0IHJlZmVyZW5jZWQgYWdhaW4gYmVmb3JlIHJlZGVmaW5pdGlvbgoKICAgICAgICB1c2RvdWJsZSA9IHNlY29uZHNmcmFjICogMWU2CiAgICAgICAgYXNzZXJ0IGFicyh1c2RvdWJsZSkgPCAyLjFlNiAgICAjIGV4YWN0IHZhbHVlIG5vdCBjcml0aWNhbAogICAgICAgICMgc2Vjb25kc2ZyYWMgaXNuJ3QgcmVmZXJlbmNlZCBhZ2FpbgoKICAgICAgICBpZiBpc2luc3RhbmNlKG1pY3Jvc2Vjb25kcywgZmxvYXQpOgogICAgICAgICAgICBtaWNyb3NlY29uZHMgKz0gdXNkb3VibGUKICAgICAgICAgICAgbWljcm9zZWNvbmRzID0gcm91bmQobWljcm9zZWNvbmRzLCAwKQogICAgICAgICAgICBzZWNvbmRzLCBtaWNyb3NlY29uZHMgPSBkaXZtb2QobWljcm9zZWNvbmRzLCAxZTYpCiAgICAgICAgICAgIGFzc2VydCBtaWNyb3NlY29uZHMgPT0gaW50KG1pY3Jvc2Vjb25kcykKICAgICAgICAgICAgYXNzZXJ0IHNlY29uZHMgPT0gaW50KHNlY29uZHMpCiAgICAgICAgICAgIGRheXMsIHNlY29uZHMgPSBkaXZtb2Qoc2Vjb25kcywgMjQuKjM2MDAuKQogICAgICAgICAgICBhc3NlcnQgZGF5cyA9PSBpbnQoZGF5cykKICAgICAgICAgICAgYXNzZXJ0IHNlY29uZHMgPT0gaW50KHNlY29uZHMpCiAgICAgICAgICAgIGQgKz0gaW50KGRheXMpCiAgICAgICAgICAgIHMgKz0gaW50KHNlY29uZHMpICAgIyBjYW4ndCBvdmVyZmxvdwogICAgICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzLCBpbnQpCiAgICAgICAgICAgIGFzc2VydCBhYnMocykgPD0gMyAqIDI0ICogMzYwMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlY29uZHMsIG1pY3Jvc2Vjb25kcyA9IGRpdm1vZChtaWNyb3NlY29uZHMsIDEwMDAwMDApCiAgICAgICAgICAgIGRheXMsIHNlY29uZHMgPSBkaXZtb2Qoc2Vjb25kcywgMjQqMzYwMCkKICAgICAgICAgICAgZCArPSBkYXlzCiAgICAgICAgICAgIHMgKz0gaW50KHNlY29uZHMpICAgICMgY2FuJ3Qgb3ZlcmZsb3cKICAgICAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UocywgaW50KQogICAgICAgICAgICBhc3NlcnQgYWJzKHMpIDw9IDMgKiAyNCAqIDM2MDAKICAgICAgICAgICAgbWljcm9zZWNvbmRzID0gZmxvYXQobWljcm9zZWNvbmRzKQogICAgICAgICAgICBtaWNyb3NlY29uZHMgKz0gdXNkb3VibGUKICAgICAgICAgICAgbWljcm9zZWNvbmRzID0gcm91bmQobWljcm9zZWNvbmRzLCAwKQogICAgICAgIGFzc2VydCBhYnMocykgPD0gMyAqIDI0ICogMzYwMAogICAgICAgIGFzc2VydCBhYnMobWljcm9zZWNvbmRzKSA8IDMuMWU2CgogICAgICAgICMgSnVzdCBhIGxpdHRsZSBiaXQgb2YgY2FycnlpbmcgcG9zc2libGUgZm9yIG1pY3Jvc2Vjb25kcyBhbmQgc2Vjb25kcy4KICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShtaWNyb3NlY29uZHMsIGZsb2F0KQogICAgICAgIGFzc2VydCBpbnQobWljcm9zZWNvbmRzKSA9PSBtaWNyb3NlY29uZHMKICAgICAgICB1cyA9IGludChtaWNyb3NlY29uZHMpCiAgICAgICAgc2Vjb25kcywgdXMgPSBkaXZtb2QodXMsIDEwMDAwMDApCiAgICAgICAgcyArPSBzZWNvbmRzICAgICMgY2FudCd0IG92ZXJmbG93CiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UocywgaW50KQogICAgICAgIGRheXMsIHMgPSBkaXZtb2QocywgMjQqMzYwMCkKICAgICAgICBkICs9IGRheXMKCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoZCwgaW50KQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHMsIGludCkgYW5kIDAgPD0gcyA8IDI0KjM2MDAKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZSh1cywgaW50KSBhbmQgMCA8PSB1cyA8IDEwMDAwMDAKCiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscykKCiAgICAgICAgc2VsZi5fZGF5cyA9IGQKICAgICAgICBzZWxmLl9zZWNvbmRzID0gcwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyA9IHVzCiAgICAgICAgaWYgYWJzKGQpID4gOTk5OTk5OTk5OgogICAgICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJ0aW1lZGVsdGEgIyBvZiBkYXlzIGlzIHRvbyBsYXJnZTogJWQiICUgZCkKCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmRzOgogICAgICAgICAgICByZXR1cm4gIiVzKCVkLCAlZCwgJWQpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMpCiAgICAgICAgaWYgc2VsZi5fc2Vjb25kczoKICAgICAgICAgICAgcmV0dXJuICIlcyglZCwgJWQpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RheXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcykKICAgICAgICByZXR1cm4gIiVzKCVkKSIgJSAoJ2RhdGV0aW1lLicgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywgc2VsZi5fZGF5cykKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICBtbSwgc3MgPSBkaXZtb2Qoc2VsZi5fc2Vjb25kcywgNjApCiAgICAgICAgaGgsIG1tID0gZGl2bW9kKG1tLCA2MCkKICAgICAgICBzID0gIiVkOiUwMmQ6JTAyZCIgJSAoaGgsIG1tLCBzcykKICAgICAgICBpZiBzZWxmLl9kYXlzOgogICAgICAgICAgICBkZWYgcGx1cmFsKG4pOgogICAgICAgICAgICAgICAgcmV0dXJuIG4sIGFicyhuKSAhPSAxIGFuZCAicyIgb3IgIiIKICAgICAgICAgICAgcyA9ICgiJWQgZGF5JXMsICIgJSBwbHVyYWwoc2VsZi5fZGF5cykpICsgcwogICAgICAgIGlmIHNlbGYuX21pY3Jvc2Vjb25kczoKICAgICAgICAgICAgcyA9IHMgKyAiLiUwNmQiICUgc2VsZi5fbWljcm9zZWNvbmRzCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgdG90YWxfc2Vjb25kcyhzZWxmKToKICAgICAgICAiIiJUb3RhbCBzZWNvbmRzIGluIHRoZSBkdXJhdGlvbi4iIiIKICAgICAgICByZXR1cm4gKChzZWxmLmRheXMgKiA4NjQwMCArIHNlbGYuc2Vjb25kcykqMTAqKjYgKwogICAgICAgICAgICAgICAgc2VsZi5taWNyb3NlY29uZHMpIC8gMTAqKjYKCiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnMKICAgIEBwcm9wZXJ0eQogICAgZGVmIGRheXMoc2VsZik6CiAgICAgICAgIiIiZGF5cyIiIgogICAgICAgIHJldHVybiBzZWxmLl9kYXlzCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2Vjb25kcyhzZWxmKToKICAgICAgICAiIiJzZWNvbmRzIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3NlY29uZHMKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaWNyb3NlY29uZHMoc2VsZik6CiAgICAgICAgIiIibWljcm9zZWNvbmRzIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kcwoKICAgIGRlZiBfX2FkZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAjIGZvciBDUHl0aG9uIGNvbXBhdGliaWxpdHksIHdlIGNhbm5vdCB1c2UKICAgICAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YShzZWxmLl9kYXlzICsgb3RoZXIuX2RheXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyArIG90aGVyLl9zZWNvbmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyArIG90aGVyLl9taWNyb3NlY29uZHMpCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgX19yYWRkX18gPSBfX2FkZF9fCgogICAgZGVmIF9fc3ViX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZQogICAgICAgICAgICAjIG91ciBfX2NsYXNzX18gaGVyZSwgYnV0IG5lZWQgYSByZWFsIHRpbWVkZWx0YQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKHNlbGYuX2RheXMgLSBvdGhlci5fZGF5cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzIC0gb3RoZXIuX3NlY29uZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzIC0gb3RoZXIuX21pY3Jvc2Vjb25kcykKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19yc3ViX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiAtc2VsZiArIG90aGVyCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbmVnX18oc2VsZik6CiAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlCiAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGEKICAgICAgICByZXR1cm4gdGltZWRlbHRhKC1zZWxmLl9kYXlzLAogICAgICAgICAgICAgICAgICAgICAgICAgLXNlbGYuX3NlY29uZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAtc2VsZi5fbWljcm9zZWNvbmRzKQoKICAgIGRlZiBfX3Bvc19fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fYWJzX18oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fZGF5cyA8IDA6CiAgICAgICAgICAgIHJldHVybiAtc2VsZgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fbXVsX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGludCk6CiAgICAgICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZQogICAgICAgICAgICAjIG91ciBfX2NsYXNzX18gaGVyZSwgYnV0IG5lZWQgYSByZWFsIHRpbWVkZWx0YQogICAgICAgICAgICByZXR1cm4gdGltZWRlbHRhKHNlbGYuX2RheXMgKiBvdGhlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICogb3RoZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzICogb3RoZXIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZmxvYXQpOgogICAgICAgICAgICBhLCBiID0gb3RoZXIuYXNfaW50ZWdlcl9yYXRpbygpCiAgICAgICAgICAgIHJldHVybiBzZWxmICogYSAvIGIKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBfX3JtdWxfXyA9IF9fbXVsX18KCiAgICBkZWYgX3RvX21pY3Jvc2Vjb25kcyhzZWxmKToKICAgICAgICByZXR1cm4gKChzZWxmLl9kYXlzICogKDI0KjM2MDApICsgc2VsZi5fc2Vjb25kcykgKiAxMDAwMDAwICsKICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcykKCiAgICBkZWYgX19mbG9vcmRpdl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgKGludCwgdGltZWRlbHRhKSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHVzZWMgPSBzZWxmLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiB1c2VjIC8vIG90aGVyLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGludCk6CiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgdXNlYyAvLyBvdGhlcikKCiAgICBkZWYgX190cnVlZGl2X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCAoaW50LCBmbG9hdCwgdGltZWRlbHRhKSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHVzZWMgPSBzZWxmLl90b19taWNyb3NlY29uZHMoKQogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiB1c2VjIC8gb3RoZXIuX3RvX21pY3Jvc2Vjb25kcygpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgaW50KToKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YSgwLCAwLCB1c2VjIC8gb3RoZXIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZmxvYXQpOgogICAgICAgICAgICBhLCBiID0gb3RoZXIuYXNfaW50ZWdlcl9yYXRpbygpCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoMCwgMCwgYiAqIHVzZWMgLyBhKQoKICAgIGRlZiBfX21vZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByID0gc2VsZi5fdG9fbWljcm9zZWNvbmRzKCkgJSBvdGhlci5fdG9fbWljcm9zZWNvbmRzKCkKICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YSgwLCAwLCByKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX2Rpdm1vZF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICBxLCByID0gZGl2bW9kKHNlbGYuX3RvX21pY3Jvc2Vjb25kcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl90b19taWNyb3NlY29uZHMoKSkKICAgICAgICAgICAgcmV0dXJuIHEsIHRpbWVkZWx0YSgwLCAwLCByKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgICMgQ29tcGFyaXNvbnMgb2YgdGltZWRlbHRhIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPD0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPj0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpCiAgICAgICAgcmV0dXJuIF9jbXAoc2VsZi5fZ2V0c3RhdGUoKSwgb3RoZXIuX2dldHN0YXRlKCkpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX2dldHN0YXRlKCkpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiAoc2VsZi5fZGF5cyAhPSAwIG9yCiAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICE9IDAgb3IKICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyAhPSAwKQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICByZXR1cm4gKHNlbGYuX2RheXMsIHNlbGYuX3NlY29uZHMsIHNlbGYuX21pY3Jvc2Vjb25kcykKCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICByZXR1cm4gKHNlbGYuX19jbGFzc19fLCBzZWxmLl9nZXRzdGF0ZSgpKQoKdGltZWRlbHRhLm1pbiA9IHRpbWVkZWx0YSgtOTk5OTk5OTk5KQp0aW1lZGVsdGEubWF4ID0gdGltZWRlbHRhKGRheXM9OTk5OTk5OTk5LCBob3Vycz0yMywgbWludXRlcz01OSwgc2Vjb25kcz01OSwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZHM9OTk5OTk5KQp0aW1lZGVsdGEucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSkKCmNsYXNzIGRhdGU6CiAgICAiIiJDb25jcmV0ZSBkYXRlIHR5cGUuCgogICAgQ29uc3RydWN0b3JzOgoKICAgIF9fbmV3X18oKQogICAgZnJvbXRpbWVzdGFtcCgpCiAgICB0b2RheSgpCiAgICBmcm9tb3JkaW5hbCgpCgogICAgT3BlcmF0b3JzOgoKICAgIF9fcmVwcl9fLCBfX3N0cl9fCiAgICBfX2NtcF9fLCBfX2hhc2hfXwogICAgX19hZGRfXywgX19yYWRkX18sIF9fc3ViX18gKGFkZC9yYWRkIG9ubHkgd2l0aCB0aW1lZGVsdGEgYXJnKQoKICAgIE1ldGhvZHM6CgogICAgdGltZXR1cGxlKCkKICAgIHRvb3JkaW5hbCgpCiAgICB3ZWVrZGF5KCkKICAgIGlzb3dlZWtkYXkoKSwgaXNvY2FsZW5kYXIoKSwgaXNvZm9ybWF0KCkKICAgIGN0aW1lKCkKICAgIHN0cmZ0aW1lKCkKCiAgICBQcm9wZXJ0aWVzIChyZWFkb25seSk6CiAgICB5ZWFyLCBtb250aCwgZGF5CiAgICAiIiIKICAgIF9fc2xvdHNfXyA9ICdfeWVhcicsICdfbW9udGgnLCAnX2RheScKCiAgICBkZWYgX19uZXdfXyhjbHMsIHllYXIsIG1vbnRoPU5vbmUsIGRheT1Ob25lKToKICAgICAgICAiIiJDb25zdHJ1Y3Rvci4KCiAgICAgICAgQXJndW1lbnRzOgoKICAgICAgICB5ZWFyLCBtb250aCwgZGF5IChyZXF1aXJlZCwgYmFzZSAxKQogICAgICAgICIiIgogICAgICAgIGlmIChpc2luc3RhbmNlKHllYXIsIGJ5dGVzKSBhbmQgbGVuKHllYXIpID09IDQgYW5kCiAgICAgICAgICAgIDEgPD0geWVhclsyXSA8PSAxMiBhbmQgbW9udGggaXMgTm9uZSk6ICAjIE1vbnRoIGlzIHNhbmUKICAgICAgICAgICAgIyBQaWNrbGUgc3VwcG9ydAogICAgICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKQogICAgICAgICAgICBzZWxmLl9fc2V0c3RhdGUoeWVhcikKICAgICAgICAgICAgcmV0dXJuIHNlbGYKICAgICAgICBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSkKICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKQogICAgICAgIHNlbGYuX3llYXIgPSB5ZWFyCiAgICAgICAgc2VsZi5fbW9udGggPSBtb250aAogICAgICAgIHNlbGYuX2RheSA9IGRheQogICAgICAgIHJldHVybiBzZWxmCgogICAgIyBBZGRpdGlvbmFsIGNvbnN0cnVjdG9ycwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb210aW1lc3RhbXAoY2xzLCB0KToKICAgICAgICAiQ29uc3RydWN0IGEgZGF0ZSBmcm9tIGEgUE9TSVggdGltZXN0YW1wIChsaWtlIHRpbWUudGltZSgpKS4iCiAgICAgICAgeSwgbSwgZCwgaGgsIG1tLCBzcywgd2Vla2RheSwgamRheSwgZHN0ID0gX3RpbWUubG9jYWx0aW1lKHQpCiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIHRvZGF5KGNscyk6CiAgICAgICAgIkNvbnN0cnVjdCBhIGRhdGUgZnJvbSB0aW1lLnRpbWUoKS4iCiAgICAgICAgdCA9IF90aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBjbHMuZnJvbXRpbWVzdGFtcCh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21vcmRpbmFsKGNscywgbik6CiAgICAgICAgIiIiQ29udHJ1Y3QgYSBkYXRlIGZyb20gYSBwcm9sZXB0aWMgR3JlZ29yaWFuIG9yZGluYWwuCgogICAgICAgIEphbnVhcnkgMSBvZiB5ZWFyIDEgaXMgZGF5IDEuICBPbmx5IHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IGFyZQogICAgICAgIG5vbi16ZXJvIGluIHRoZSByZXN1bHQuCiAgICAgICAgIiIiCiAgICAgICAgeSwgbSwgZCA9IF9vcmQyeW1kKG4pCiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkKQoKICAgICMgQ29udmVyc2lvbnMgdG8gc3RyaW5nCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4KCiAgICAgICAgPj4+IGR0ID0gZGF0ZXRpbWUoMjAxMCwgMSwgMSkKICAgICAgICA+Pj4gcmVwcihkdCkKICAgICAgICAnZGF0ZXRpbWUuZGF0ZXRpbWUoMjAxMCwgMSwgMSwgMCwgMCknCgogICAgICAgID4+PiBkdCA9IGRhdGV0aW1lKDIwMTAsIDEsIDEsIHR6aW5mbz10aW1lem9uZS51dGMpCiAgICAgICAgPj4+IHJlcHIoZHQpCiAgICAgICAgJ2RhdGV0aW1lLmRhdGV0aW1lKDIwMTAsIDEsIDEsIDAsIDAsIHR6aW5mbz1kYXRldGltZS50aW1lem9uZS51dGMpJwogICAgICAgICIiIgogICAgICAgIHJldHVybiAiJXMoJWQsICVkLCAlZCkiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5feWVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9tb250aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXkpCiAgICAjIFhYWCBUaGVzZSBzaG91bGRuJ3QgZGVwZW5kIG9uIHRpbWUubG9jYWx0aW1lKCksIGJlY2F1c2UgdGhhdAogICAgIyBjbGlwcyB0aGUgdXNhYmxlIGRhdGVzIHRvIFsxOTcwIC4uIDIwMzgpLiAgQXQgbGVhc3QgY3RpbWUoKSBpcwogICAgIyBlYXNpbHkgZG9uZSB3aXRob3V0IHVzaW5nIHN0cmZ0aW1lKCkgLS0gdGhhdCdzIGJldHRlciB0b28gYmVjYXVzZQogICAgIyBzdHJmdGltZSgiJWMiLCAuLi4pIGlzIGxvY2FsZSBzcGVjaWZpYy4KCgogICAgZGVmIGN0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIgogICAgICAgIHdlZWtkYXkgPSBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CiAgICAgICAgcmV0dXJuICIlcyAlcyAlMmQgMDA6MDA6MDAgJTA0ZCIgJSAoCiAgICAgICAgICAgIF9EQVlOQU1FU1t3ZWVrZGF5XSwKICAgICAgICAgICAgX01PTlRITkFNRVNbc2VsZi5fbW9udGhdLAogICAgICAgICAgICBzZWxmLl9kYXksIHNlbGYuX3llYXIpCgogICAgZGVmIHN0cmZ0aW1lKHNlbGYsIGZtdCk6CiAgICAgICAgIkZvcm1hdCB1c2luZyBzdHJmdGltZSgpLiIKICAgICAgICByZXR1cm4gX3dyYXBfc3RyZnRpbWUoc2VsZiwgZm10LCBzZWxmLnRpbWV0dXBsZSgpKQoKICAgIGRlZiBfX2Zvcm1hdF9fKHNlbGYsIGZtdCk6CiAgICAgICAgaWYgbGVuKGZtdCkgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyZnRpbWUoZm10KQogICAgICAgIHJldHVybiBzdHIoc2VsZikKCiAgICBkZWYgaXNvZm9ybWF0KHNlbGYpOgogICAgICAgICIiIlJldHVybiB0aGUgZGF0ZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy4KCiAgICAgICAgVGhpcyBpcyAnWVlZWS1NTS1ERCcuCgogICAgICAgIFJlZmVyZW5jZXM6CiAgICAgICAgLSBodHRwOi8vd3d3LnczLm9yZy9UUi9OT1RFLWRhdGV0aW1lCiAgICAgICAgLSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvaXNvLXRpbWUuaHRtbAogICAgICAgICIiIgogICAgICAgIHJldHVybiAiJTA0ZC0lMDJkLSUwMmQiICUgKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCgogICAgX19zdHJfXyA9IGlzb2Zvcm1hdAoKICAgICMgUmVhZC1vbmx5IGZpZWxkIGFjY2Vzc29ycwogICAgQHByb3BlcnR5CiAgICBkZWYgeWVhcihzZWxmKToKICAgICAgICAiIiJ5ZWFyICgxLTk5OTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3llYXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtb250aChzZWxmKToKICAgICAgICAiIiJtb250aCAoMS0xMikiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbW9udGgKCiAgICBAcHJvcGVydHkKICAgIGRlZiBkYXkoc2VsZik6CiAgICAgICAgIiIiZGF5ICgxLTMxKSIiIgogICAgICAgIHJldHVybiBzZWxmLl9kYXkKCiAgICAjIFN0YW5kYXJkIGNvbnZlcnNpb25zLCBfX2NtcF9fLCBfX2hhc2hfXyAoYW5kIGhlbHBlcnMpCgogICAgZGVmIHRpbWV0dXBsZShzZWxmKToKICAgICAgICAiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIgogICAgICAgIHJldHVybiBfYnVpbGRfc3RydWN0X3RpbWUoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIC0xKQoKICAgIGRlZiB0b29yZGluYWwoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHByb2xlcHRpYyBHcmVnb3JpYW4gb3JkaW5hbCBmb3IgdGhlIHllYXIsIG1vbnRoIGFuZCBkYXkuCgogICAgICAgIEphbnVhcnkgMSBvZiB5ZWFyIDEgaXMgZGF5IDEuICBPbmx5IHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IHZhbHVlcwogICAgICAgIGNvbnRyaWJ1dGUgdG8gdGhlIHJlc3VsdC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gX3ltZDJvcmQoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSkKCiAgICBkZWYgcmVwbGFjZShzZWxmLCB5ZWFyPU5vbmUsIG1vbnRoPU5vbmUsIGRheT1Ob25lKToKICAgICAgICAiIiJSZXR1cm4gYSBuZXcgZGF0ZSB3aXRoIG5ldyB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGRzLiIiIgogICAgICAgIGlmIHllYXIgaXMgTm9uZToKICAgICAgICAgICAgeWVhciA9IHNlbGYuX3llYXIKICAgICAgICBpZiBtb250aCBpcyBOb25lOgogICAgICAgICAgICBtb250aCA9IHNlbGYuX21vbnRoCiAgICAgICAgaWYgZGF5IGlzIE5vbmU6CiAgICAgICAgICAgIGRheSA9IHNlbGYuX2RheQogICAgICAgIF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KQogICAgICAgIHJldHVybiBkYXRlKHllYXIsIG1vbnRoLCBkYXkpCgogICAgIyBDb21wYXJpc29ucyBvZiBkYXRlIG9iamVjdHMgd2l0aCBvdGhlci4KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPT0gMAogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSAhPSAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDw9IDAKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPCAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDAKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPiAwCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKQogICAgICAgIHksIG0sIGQgPSBzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5CiAgICAgICAgeTIsIG0yLCBkMiA9IG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXkKICAgICAgICByZXR1cm4gX2NtcCgoeSwgbSwgZCksICh5MiwgbTIsIGQyKSkKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgIkhhc2guIgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX2dldHN0YXRlKCkpCgogICAgIyBDb21wdXRhdGlvbnMKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIkFkZCBhIGRhdGUgdG8gYSB0aW1lZGVsdGEuIgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIG8gPSBzZWxmLnRvb3JkaW5hbCgpICsgb3RoZXIuZGF5cwogICAgICAgICAgICBpZiAwIDwgbyA8PSBfTUFYT1JESU5BTDoKICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmZyb21vcmRpbmFsKG8pCiAgICAgICAgICAgIHJhaXNlIE92ZXJmbG93RXJyb3IoInJlc3VsdCBvdXQgb2YgcmFuZ2UiKQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgIF9fcmFkZF9fID0gX19hZGRfXwoKICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICAiIiJTdWJ0cmFjdCB0d28gZGF0ZXMsIG9yIGEgZGF0ZSBhbmQgYSB0aW1lZGVsdGEuIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYgKyB0aW1lZGVsdGEoLW90aGVyLmRheXMpCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIGRheXMxID0gc2VsZi50b29yZGluYWwoKQogICAgICAgICAgICBkYXlzMiA9IG90aGVyLnRvb3JkaW5hbCgpCiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEoZGF5czEgLSBkYXlzMikKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCiAgICBkZWYgd2Vla2RheShzZWxmKToKICAgICAgICAiUmV0dXJuIGRheSBvZiB0aGUgd2Vlaywgd2hlcmUgTW9uZGF5ID09IDAgLi4uIFN1bmRheSA9PSA2LiIKICAgICAgICByZXR1cm4gKHNlbGYudG9vcmRpbmFsKCkgKyA2KSAlIDcKCiAgICAjIERheS1vZi10aGUtd2VlayBhbmQgd2Vlay1vZi10aGUteWVhciwgYWNjb3JkaW5nIHRvIElTTwoKICAgIGRlZiBpc293ZWVrZGF5KHNlbGYpOgogICAgICAgICJSZXR1cm4gZGF5IG9mIHRoZSB3ZWVrLCB3aGVyZSBNb25kYXkgPT0gMSAuLi4gU3VuZGF5ID09IDcuIgogICAgICAgICMgMS1KYW4tMDAwMSBpcyBhIE1vbmRheQogICAgICAgIHJldHVybiBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CgogICAgZGVmIGlzb2NhbGVuZGFyKHNlbGYpOgogICAgICAgICIiIlJldHVybiBhIDMtdHVwbGUgY29udGFpbmluZyBJU08geWVhciwgd2VlayBudW1iZXIsIGFuZCB3ZWVrZGF5LgoKICAgICAgICBUaGUgZmlyc3QgSVNPIHdlZWsgb2YgdGhlIHllYXIgaXMgdGhlIChNb24tU3VuKSB3ZWVrCiAgICAgICAgY29udGFpbmluZyB0aGUgeWVhcidzIGZpcnN0IFRodXJzZGF5OyBldmVyeXRoaW5nIGVsc2UgZGVyaXZlcwogICAgICAgIGZyb20gdGhhdC4KCiAgICAgICAgVGhlIGZpcnN0IHdlZWsgaXMgMTsgTW9uZGF5IGlzIDEgLi4uIFN1bmRheSBpcyA3LgoKICAgICAgICBJU08gY2FsZW5kYXIgYWxnb3JpdGhtIHRha2VuIGZyb20KICAgICAgICBodHRwOi8vd3d3LnBoeXMudXUubmwvfnZnZW50L2NhbGVuZGFyL2lzb2NhbGVuZGFyLmh0bQogICAgICAgICIiIgogICAgICAgIHllYXIgPSBzZWxmLl95ZWFyCiAgICAgICAgd2VlazFtb25kYXkgPSBfaXNvd2VlazFtb25kYXkoeWVhcikKICAgICAgICB0b2RheSA9IF95bWQyb3JkKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpCiAgICAgICAgIyBJbnRlcm5hbGx5LCB3ZWVrIGFuZCBkYXkgaGF2ZSBvcmlnaW4gMAogICAgICAgIHdlZWssIGRheSA9IGRpdm1vZCh0b2RheSAtIHdlZWsxbW9uZGF5LCA3KQogICAgICAgIGlmIHdlZWsgPCAwOgogICAgICAgICAgICB5ZWFyIC09IDEKICAgICAgICAgICAgd2VlazFtb25kYXkgPSBfaXNvd2VlazFtb25kYXkoeWVhcikKICAgICAgICAgICAgd2VlaywgZGF5ID0gZGl2bW9kKHRvZGF5IC0gd2VlazFtb25kYXksIDcpCiAgICAgICAgZWxpZiB3ZWVrID49IDUyOgogICAgICAgICAgICBpZiB0b2RheSA+PSBfaXNvd2VlazFtb25kYXkoeWVhcisxKToKICAgICAgICAgICAgICAgIHllYXIgKz0gMQogICAgICAgICAgICAgICAgd2VlayA9IDAKICAgICAgICByZXR1cm4geWVhciwgd2VlaysxLCBkYXkrMQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB5aGksIHlsbyA9IGRpdm1vZChzZWxmLl95ZWFyLCAyNTYpCiAgICAgICAgcmV0dXJuIGJ5dGVzKFt5aGksIHlsbywgc2VsZi5fbW9udGgsIHNlbGYuX2RheV0pLAoKICAgIGRlZiBfX3NldHN0YXRlKHNlbGYsIHN0cmluZyk6CiAgICAgICAgaWYgbGVuKHN0cmluZykgIT0gNCBvciBub3QgKDEgPD0gc3RyaW5nWzJdIDw9IDEyKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJub3QgZW5vdWdoIGFyZ3VtZW50cyIpCiAgICAgICAgeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkgPSBzdHJpbmcKICAgICAgICBzZWxmLl95ZWFyID0geWhpICogMjU2ICsgeWxvCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCl9kYXRlX2NsYXNzID0gZGF0ZSAgIyBzbyBmdW5jdGlvbnMgdy8gYXJncyBuYW1lZCAiZGF0ZSIgY2FuIGdldCBhdCB0aGUgY2xhc3MKCmRhdGUubWluID0gZGF0ZSgxLCAxLCAxKQpkYXRlLm1heCA9IGRhdGUoOTk5OSwgMTIsIDMxKQpkYXRlLnJlc29sdXRpb24gPSB0aW1lZGVsdGEoZGF5cz0xKQoKY2xhc3MgdHppbmZvOgogICAgIiIiQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgdGltZSB6b25lIGluZm8gY2xhc3Nlcy4KCiAgICBTdWJjbGFzc2VzIG11c3Qgb3ZlcnJpZGUgdGhlIG5hbWUoKSwgdXRjb2Zmc2V0KCkgYW5kIGRzdCgpIG1ldGhvZHMuCiAgICAiIiIKICAgIF9fc2xvdHNfXyA9ICgpCiAgICBkZWYgdHpuYW1lKHNlbGYsIGR0KToKICAgICAgICAiZGF0ZXRpbWUgLT4gc3RyaW5nIG5hbWUgb2YgdGltZSB6b25lLiIKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSB0em5hbWUoKSIpCgogICAgZGVmIHV0Y29mZnNldChzZWxmLCBkdCk6CiAgICAgICAgImRhdGV0aW1lIC0+IG1pbnV0ZXMgZWFzdCBvZiBVVEMgKG5lZ2F0aXZlIGZvciB3ZXN0IG9mIFVUQykiCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgdXRjb2Zmc2V0KCkiKQoKICAgIGRlZiBkc3Qoc2VsZiwgZHQpOgogICAgICAgICIiImRhdGV0aW1lIC0+IERTVCBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQy4KCiAgICAgICAgUmV0dXJuIDAgaWYgRFNUIG5vdCBpbiBlZmZlY3QuICB1dGNvZmZzZXQoKSBtdXN0IGluY2x1ZGUgdGhlIERTVAogICAgICAgIG9mZnNldC4KICAgICAgICAiIiIKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0emluZm8gc3ViY2xhc3MgbXVzdCBvdmVycmlkZSBkc3QoKSIpCgogICAgZGVmIGZyb211dGMoc2VsZiwgZHQpOgogICAgICAgICJkYXRldGltZSBpbiBVVEMgLT4gZGF0ZXRpbWUgaW4gbG9jYWwgdGltZS4iCgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGR0LCBkYXRldGltZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZnJvbXV0YygpIHJlcXVpcmVzIGEgZGF0ZXRpbWUgYXJndW1lbnQiKQogICAgICAgIGlmIGR0LnR6aW5mbyBpcyBub3Qgc2VsZjoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZHQudHppbmZvIGlzIG5vdCBzZWxmIikKCiAgICAgICAgZHRvZmYgPSBkdC51dGNvZmZzZXQoKQogICAgICAgIGlmIGR0b2ZmIGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImZyb211dGMoKSByZXF1aXJlcyBhIG5vbi1Ob25lIHV0Y29mZnNldCgpICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVzdWx0IikKCiAgICAgICAgIyBTZWUgdGhlIGxvbmcgY29tbWVudCBibG9jayBhdCB0aGUgZW5kIG9mIHRoaXMgZmlsZSBmb3IgYW4KICAgICAgICAjIGV4cGxhbmF0aW9uIG9mIHRoaXMgYWxnb3JpdGhtLgogICAgICAgIGR0ZHN0ID0gZHQuZHN0KCkKICAgICAgICBpZiBkdGRzdCBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBub24tTm9uZSBkc3QoKSByZXN1bHQiKQogICAgICAgIGRlbHRhID0gZHRvZmYgLSBkdGRzdAogICAgICAgIGlmIGRlbHRhOgogICAgICAgICAgICBkdCArPSBkZWx0YQogICAgICAgICAgICBkdGRzdCA9IGR0LmRzdCgpCiAgICAgICAgICAgIGlmIGR0ZHN0IGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCk6IGR0LmRzdCBnYXZlIGluY29uc2lzdGVudCAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZXN1bHRzOyBjYW5ub3QgY29udmVydCIpCiAgICAgICAgcmV0dXJuIGR0ICsgZHRkc3QKCiAgICAjIFBpY2tsZSBzdXBwb3J0LgoKICAgIGRlZiBfX3JlZHVjZV9fKHNlbGYpOgogICAgICAgIGdldGluaXRhcmdzID0gZ2V0YXR0cihzZWxmLCAiX19nZXRpbml0YXJnc19fIiwgTm9uZSkKICAgICAgICBpZiBnZXRpbml0YXJnczoKICAgICAgICAgICAgYXJncyA9IGdldGluaXRhcmdzKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBhcmdzID0gKCkKICAgICAgICBnZXRzdGF0ZSA9IGdldGF0dHIoc2VsZiwgIl9fZ2V0c3RhdGVfXyIsIE5vbmUpCiAgICAgICAgaWYgZ2V0c3RhdGU6CiAgICAgICAgICAgIHN0YXRlID0gZ2V0c3RhdGUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXRlID0gZ2V0YXR0cihzZWxmLCAiX19kaWN0X18iLCBOb25lKSBvciBOb25lCiAgICAgICAgaWYgc3RhdGUgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgYXJncykKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gKHNlbGYuX19jbGFzc19fLCBhcmdzLCBzdGF0ZSkKCl90emluZm9fY2xhc3MgPSB0emluZm8KCmNsYXNzIHRpbWU6CiAgICAiIiJUaW1lIHdpdGggdGltZSB6b25lLgoKICAgIENvbnN0cnVjdG9yczoKCiAgICBfX25ld19fKCkKCiAgICBPcGVyYXRvcnM6CgogICAgX19yZXByX18sIF9fc3RyX18KICAgIF9fY21wX18sIF9faGFzaF9fCgogICAgTWV0aG9kczoKCiAgICBzdHJmdGltZSgpCiAgICBpc29mb3JtYXQoKQogICAgdXRjb2Zmc2V0KCkKICAgIHR6bmFtZSgpCiAgICBkc3QoKQoKICAgIFByb3BlcnRpZXMgKHJlYWRvbmx5KToKICAgIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCwgdHppbmZvCiAgICAiIiIKCiAgICBkZWYgX19uZXdfXyhjbHMsIGhvdXI9MCwgbWludXRlPTAsIHNlY29uZD0wLCBtaWNyb3NlY29uZD0wLCB0emluZm89Tm9uZSk6CiAgICAgICAgIiIiQ29uc3RydWN0b3IuCgogICAgICAgIEFyZ3VtZW50czoKCiAgICAgICAgaG91ciwgbWludXRlIChyZXF1aXJlZCkKICAgICAgICBzZWNvbmQsIG1pY3Jvc2Vjb25kIChkZWZhdWx0IHRvIHplcm8pCiAgICAgICAgdHppbmZvIChkZWZhdWx0IHRvIE5vbmUpCiAgICAgICAgIiIiCiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscykKICAgICAgICBpZiBpc2luc3RhbmNlKGhvdXIsIGJ5dGVzKSBhbmQgbGVuKGhvdXIpID09IDY6CiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZi5fX3NldHN0YXRlKGhvdXIsIG1pbnV0ZSBvciBOb25lKQogICAgICAgICAgICByZXR1cm4gc2VsZgogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIHNlbGYuX2hvdXIgPSBob3VyCiAgICAgICAgc2VsZi5fbWludXRlID0gbWludXRlCiAgICAgICAgc2VsZi5fc2Vjb25kID0gc2Vjb25kCiAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgPSBtaWNyb3NlY29uZAogICAgICAgIHNlbGYuX3R6aW5mbyA9IHR6aW5mbwogICAgICAgIHJldHVybiBzZWxmCgogICAgIyBSZWFkLW9ubHkgZmllbGQgYWNjZXNzb3JzCiAgICBAcHJvcGVydHkKICAgIGRlZiBob3VyKHNlbGYpOgogICAgICAgICIiImhvdXIgKDAtMjMpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX2hvdXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaW51dGUoc2VsZik6CiAgICAgICAgIiIibWludXRlICgwLTU5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9taW51dGUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzZWNvbmQoc2VsZik6CiAgICAgICAgIiIic2Vjb25kICgwLTU5KSIiIgogICAgICAgIHJldHVybiBzZWxmLl9zZWNvbmQKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtaWNyb3NlY29uZChzZWxmKToKICAgICAgICAiIiJtaWNyb3NlY29uZCAoMC05OTk5OTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kCgogICAgQHByb3BlcnR5CiAgICBkZWYgdHppbmZvKHNlbGYpOgogICAgICAgICIiInRpbWV6b25lIGluZm8gb2JqZWN0IiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3R6aW5mbwoKICAgICMgU3RhbmRhcmQgY29udmVyc2lvbnMsIF9faGFzaF9fIChhbmQgaGVscGVycykKCiAgICAjIENvbXBhcmlzb25zIG9mIHRpbWUgb2JqZWN0cyB3aXRoIG90aGVyLgoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDAKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcikKCiAgICBkZWYgX2NtcChzZWxmLCBvdGhlcik6CiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWUpCiAgICAgICAgbXl0eiA9IHNlbGYuX3R6aW5mbwogICAgICAgIG90dHogPSBvdGhlci5fdHppbmZvCiAgICAgICAgbXlvZmYgPSBvdG9mZiA9IE5vbmUKCiAgICAgICAgaWYgbXl0eiBpcyBvdHR6OgogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgICAgIG90b2ZmID0gb3RoZXIudXRjb2Zmc2V0KCkKICAgICAgICAgICAgYmFzZV9jb21wYXJlID0gbXlvZmYgPT0gb3RvZmYKCiAgICAgICAgaWYgYmFzZV9jb21wYXJlOgogICAgICAgICAgICByZXR1cm4gX2NtcCgoc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5fbWljcm9zZWNvbmQpKQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29tcGFyZSBuYWl2ZSBhbmQgYXdhcmUgdGltZXMiKQogICAgICAgIG15aGhtbSA9IHNlbGYuX2hvdXIgKiA2MCArIHNlbGYuX21pbnV0ZSAtIG15b2ZmLy90aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIG90aGhtbSA9IG90aGVyLl9ob3VyICogNjAgKyBvdGhlci5fbWludXRlIC0gb3RvZmYvL3RpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgcmV0dXJuIF9jbXAoKG15aGhtbSwgc2VsZi5fc2Vjb25kLCBzZWxmLl9taWNyb3NlY29uZCksCiAgICAgICAgICAgICAgICAgICAgKG90aGhtbSwgb3RoZXIuX3NlY29uZCwgb3RoZXIuX21pY3Jvc2Vjb25kKSkKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgIiIiSGFzaC4iIiIKICAgICAgICB0em9mZiA9IHNlbGYudXRjb2Zmc2V0KCkKICAgICAgICBpZiBub3QgdHpvZmY6ICMgemVybyBvciBOb25lCiAgICAgICAgICAgIHJldHVybiBoYXNoKHNlbGYuX2dldHN0YXRlKClbMF0pCiAgICAgICAgaCwgbSA9IGRpdm1vZCh0aW1lZGVsdGEoaG91cnM9c2VsZi5ob3VyLCBtaW51dGVzPXNlbGYubWludXRlKSAtIHR6b2ZmLAogICAgICAgICAgICAgICAgICAgICAgdGltZWRlbHRhKGhvdXJzPTEpKQogICAgICAgIGFzc2VydCBub3QgbSAlIHRpbWVkZWx0YShtaW51dGVzPTEpLCAid2hvbGUgbWludXRlIgogICAgICAgIG0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgaWYgMCA8PSBoIDwgMjQ6CiAgICAgICAgICAgIHJldHVybiBoYXNoKHRpbWUoaCwgbSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQpKQogICAgICAgIHJldHVybiBoYXNoKChoLCBtLCBzZWxmLnNlY29uZCwgc2VsZi5taWNyb3NlY29uZCkpCgogICAgIyBDb252ZXJzaW9uIHRvIHN0cmluZwoKICAgIGRlZiBfdHpzdHIoc2VsZiwgc2VwPSI6Iik6CiAgICAgICAgIiIiUmV0dXJuIGZvcm1hdHRlZCB0aW1lem9uZSBvZmZzZXQgKCt4eDp4eCkgb3IgTm9uZS4iIiIKICAgICAgICBvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgb2ZmIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBvZmYuZGF5cyA8IDA6CiAgICAgICAgICAgICAgICBzaWduID0gIi0iCiAgICAgICAgICAgICAgICBvZmYgPSAtb2ZmCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzaWduID0gIisiCiAgICAgICAgICAgIGhoLCBtbSA9IGRpdm1vZChvZmYsIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICAgICAgYXNzZXJ0IG5vdCBtbSAlIHRpbWVkZWx0YShtaW51dGVzPTEpLCAid2hvbGUgbWludXRlIgogICAgICAgICAgICBtbSAvLz0gdGltZWRlbHRhKG1pbnV0ZXM9MSkKICAgICAgICAgICAgYXNzZXJ0IDAgPD0gaGggPCAyNAogICAgICAgICAgICBvZmYgPSAiJXMlMDJkJXMlMDJkIiAlIChzaWduLCBoaCwgc2VwLCBtbSkKICAgICAgICByZXR1cm4gb2ZmCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4iIiIKICAgICAgICBpZiBzZWxmLl9taWNyb3NlY29uZCAhPSAwOgogICAgICAgICAgICBzID0gIiwgJWQsICVkIiAlIChzZWxmLl9zZWNvbmQsIHNlbGYuX21pY3Jvc2Vjb25kKQogICAgICAgIGVsaWYgc2VsZi5fc2Vjb25kICE9IDA6CiAgICAgICAgICAgIHMgPSAiLCAlZCIgJSBzZWxmLl9zZWNvbmQKICAgICAgICBlbHNlOgogICAgICAgICAgICBzID0gIiIKICAgICAgICBzPSAiJXMoJWQsICVkJXMpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgcykKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGFzc2VydCBzWy0xOl0gPT0gIikiCiAgICAgICAgICAgIHMgPSBzWzotMV0gKyAiLCB0emluZm89JXIiICUgc2VsZi5fdHppbmZvICsgIikiCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgaXNvZm9ybWF0KHNlbGYpOgogICAgICAgICIiIlJldHVybiB0aGUgdGltZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy4KCiAgICAgICAgVGhpcyBpcyAnSEg6TU06U1MubW1tbW1tK3p6Onp6Jywgb3IgJ0hIOk1NOlNTK3p6Onp6JyBpZgogICAgICAgIHNlbGYubWljcm9zZWNvbmQgPT0gMC4KICAgICAgICAiIiIKICAgICAgICBzID0gX2Zvcm1hdF90aW1lKHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQpCiAgICAgICAgdHogPSBzZWxmLl90enN0cigpCiAgICAgICAgaWYgdHo6CiAgICAgICAgICAgIHMgKz0gdHoKICAgICAgICByZXR1cm4gcwoKICAgIF9fc3RyX18gPSBpc29mb3JtYXQKCiAgICBkZWYgc3RyZnRpbWUoc2VsZiwgZm10KToKICAgICAgICAiIiJGb3JtYXQgdXNpbmcgc3RyZnRpbWUoKS4gIFRoZSBkYXRlIHBhcnQgb2YgdGhlIHRpbWVzdGFtcCBwYXNzZWQKICAgICAgICB0byB1bmRlcmx5aW5nIHN0cmZ0aW1lIHNob3VsZCBub3QgYmUgdXNlZC4KICAgICAgICAiIiIKICAgICAgICAjIFRoZSB5ZWFyIG11c3QgYmUgPj0gMTAwMCBlbHNlIFB5dGhvbidzIHN0cmZ0aW1lIGltcGxlbWVudGF0aW9uCiAgICAgICAgIyBjYW4gcmFpc2UgYSBib2d1cyBleGNlcHRpb24uCiAgICAgICAgdGltZXR1cGxlID0gKDE5MDAsIDEsIDEsCiAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAwLCAxLCAtMSkKICAgICAgICByZXR1cm4gX3dyYXBfc3RyZnRpbWUoc2VsZiwgZm10LCB0aW1ldHVwbGUpCgogICAgZGVmIF9fZm9ybWF0X18oc2VsZiwgZm10KToKICAgICAgICBpZiBsZW4oZm10KSAhPSAwOgogICAgICAgICAgICByZXR1cm4gc2VsZi5zdHJmdGltZShmbXQpCiAgICAgICAgcmV0dXJuIHN0cihzZWxmKQoKICAgICMgVGltZXpvbmUgZnVuY3Rpb25zCgogICAgZGVmIHV0Y29mZnNldChzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaW51dGVzIGVhc3Qgb2YgVVRDIChuZWdhdGl2ZSB3ZXN0IG9mCiAgICAgICAgVVRDKS4iIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8udXRjb2Zmc2V0KE5vbmUpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoInV0Y29mZnNldCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgZGVmIHR6bmFtZShzZWxmKToKICAgICAgICAiIiJSZXR1cm4gdGhlIHRpbWV6b25lIG5hbWUuCgogICAgICAgIE5vdGUgdGhhdCB0aGUgbmFtZSBpcyAxMDAlIGluZm9ybWF0aW9uYWwgLS0gdGhlcmUncyBubyByZXF1aXJlbWVudCB0aGF0CiAgICAgICAgaXQgbWVhbiBhbnl0aGluZyBpbiBwYXJ0aWN1bGFyLiBGb3IgZXhhbXBsZSwgIkdNVCIsICJVVEMiLCAiLTUwMCIsCiAgICAgICAgIi01OjAwIiwgIkVEVCIsICJVUy9FYXN0ZXJuIiwgIkFtZXJpY2EvTmV3IFlvcmsiIGFyZSBhbGwgdmFsaWQgcmVwbGllcy4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBuYW1lID0gc2VsZi5fdHppbmZvLnR6bmFtZShOb25lKQogICAgICAgIF9jaGVja190em5hbWUobmFtZSkKICAgICAgICByZXR1cm4gbmFtZQoKICAgIGRlZiBkc3Qoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIDAgaWYgRFNUIGlzIG5vdCBpbiBlZmZlY3QsIG9yIHRoZSBEU1Qgb2Zmc2V0IChpbiBtaW51dGVzCiAgICAgICAgZWFzdHdhcmQpIGlmIERTVCBpcyBpbiBlZmZlY3QuCgogICAgICAgIFRoaXMgaXMgcHVyZWx5IGluZm9ybWF0aW9uYWw7IHRoZSBEU1Qgb2Zmc2V0IGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8KICAgICAgICB0aGUgVVRDIG9mZnNldCByZXR1cm5lZCBieSB1dGNvZmZzZXQoKSBpZiBhcHBsaWNhYmxlLCBzbyB0aGVyZSdzIG5vCiAgICAgICAgbmVlZCB0byBjb25zdWx0IGRzdCgpIHVubGVzcyB5b3UncmUgaW50ZXJlc3RlZCBpbiBkaXNwbGF5aW5nIHRoZSBEU1QKICAgICAgICBpbmZvLgogICAgICAgICIiIgogICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby5kc3QoTm9uZSkKICAgICAgICBfY2hlY2tfdXRjX29mZnNldCgiZHN0Iiwgb2Zmc2V0KQogICAgICAgIHJldHVybiBvZmZzZXQKCiAgICBkZWYgcmVwbGFjZShzZWxmLCBob3VyPU5vbmUsIG1pbnV0ZT1Ob25lLCBzZWNvbmQ9Tm9uZSwgbWljcm9zZWNvbmQ9Tm9uZSwKICAgICAgICAgICAgICAgIHR6aW5mbz1UcnVlKToKICAgICAgICAiIiJSZXR1cm4gYSBuZXcgdGltZSB3aXRoIG5ldyB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGRzLiIiIgogICAgICAgIGlmIGhvdXIgaXMgTm9uZToKICAgICAgICAgICAgaG91ciA9IHNlbGYuaG91cgogICAgICAgIGlmIG1pbnV0ZSBpcyBOb25lOgogICAgICAgICAgICBtaW51dGUgPSBzZWxmLm1pbnV0ZQogICAgICAgIGlmIHNlY29uZCBpcyBOb25lOgogICAgICAgICAgICBzZWNvbmQgPSBzZWxmLnNlY29uZAogICAgICAgIGlmIG1pY3Jvc2Vjb25kIGlzIE5vbmU6CiAgICAgICAgICAgIG1pY3Jvc2Vjb25kID0gc2VsZi5taWNyb3NlY29uZAogICAgICAgIGlmIHR6aW5mbyBpcyBUcnVlOgogICAgICAgICAgICB0emluZm8gPSBzZWxmLnR6aW5mbwogICAgICAgIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKQogICAgICAgIHJldHVybiB0aW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCwgdHppbmZvKQoKICAgIGRlZiBfX2Jvb2xfXyhzZWxmKToKICAgICAgICBpZiBzZWxmLnNlY29uZCBvciBzZWxmLm1pY3Jvc2Vjb25kOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIG9mZnNldCA9IHNlbGYudXRjb2Zmc2V0KCkgb3IgdGltZWRlbHRhKDApCiAgICAgICAgcmV0dXJuIHRpbWVkZWx0YShob3Vycz1zZWxmLmhvdXIsIG1pbnV0ZXM9c2VsZi5taW51dGUpICE9IG9mZnNldAoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB1czIsIHVzMyA9IGRpdm1vZChzZWxmLl9taWNyb3NlY29uZCwgMjU2KQogICAgICAgIHVzMSwgdXMyID0gZGl2bW9kKHVzMiwgMjU2KQogICAgICAgIGJhc2VzdGF0ZSA9IGJ5dGVzKFtzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgdXMxLCB1czIsIHVzM10pCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiAoYmFzZXN0YXRlLCkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gKGJhc2VzdGF0ZSwgc2VsZi5fdHppbmZvKQoKICAgIGRlZiBfX3NldHN0YXRlKHNlbGYsIHN0cmluZywgdHppbmZvKToKICAgICAgICBpZiBsZW4oc3RyaW5nKSAhPSA2IG9yIHN0cmluZ1swXSA+PSAyNDoKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJhbiBpbnRlZ2VyIGlzIHJlcXVpcmVkIikKICAgICAgICAoc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgIHVzMSwgdXMyLCB1czMpID0gc3RyaW5nCiAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgPSAoKCh1czEgPDwgOCkgfCB1czIpIDw8IDgpIHwgdXMzCiAgICAgICAgaWYgdHppbmZvIGlzIE5vbmUgb3IgaXNpbnN0YW5jZSh0emluZm8sIF90emluZm9fY2xhc3MpOgogICAgICAgICAgICBzZWxmLl90emluZm8gPSB0emluZm8KICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoImJhZCB0emluZm8gc3RhdGUgYXJnICVyIiAlIHR6aW5mbykKCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICByZXR1cm4gKHRpbWUsIHNlbGYuX2dldHN0YXRlKCkpCgpfdGltZV9jbGFzcyA9IHRpbWUgICMgc28gZnVuY3Rpb25zIHcvIGFyZ3MgbmFtZWQgInRpbWUiIGNhbiBnZXQgYXQgdGhlIGNsYXNzCgp0aW1lLm1pbiA9IHRpbWUoMCwgMCwgMCkKdGltZS5tYXggPSB0aW1lKDIzLCA1OSwgNTksIDk5OTk5OSkKdGltZS5yZXNvbHV0aW9uID0gdGltZWRlbHRhKG1pY3Jvc2Vjb25kcz0xKQoKY2xhc3MgZGF0ZXRpbWUoZGF0ZSk6CiAgICAiIiJkYXRldGltZSh5ZWFyLCBtb250aCwgZGF5WywgaG91clssIG1pbnV0ZVssIHNlY29uZFssIG1pY3Jvc2Vjb25kWyx0emluZm9dXV1dXSkKCiAgICBUaGUgeWVhciwgbW9udGggYW5kIGRheSBhcmd1bWVudHMgYXJlIHJlcXVpcmVkLiB0emluZm8gbWF5IGJlIE5vbmUsIG9yIGFuCiAgICBpbnN0YW5jZSBvZiBhIHR6aW5mbyBzdWJjbGFzcy4gVGhlIHJlbWFpbmluZyBhcmd1bWVudHMgbWF5IGJlIGludHMgb3IgbG9uZ3MuCiAgICAiIiIKCiAgICAjZml4bWUgYnJ5dGhvbgogICAgI19fc2xvdHNfXyA9IGRhdGUuX19zbG90c19fICsgKAogICAgX19zbG90c19fID0gKCdfeWVhcicsICdfbW9udGgnLCAnX2RheScsCiAgICAgICAgJ19ob3VyJywgJ19taW51dGUnLCAnX3NlY29uZCcsCiAgICAgICAgJ19taWNyb3NlY29uZCcsICdfdHppbmZvJykKICAgIGRlZiBfX25ld19fKGNscywgeWVhciwgbW9udGg9Tm9uZSwgZGF5PU5vbmUsIGhvdXI9MCwgbWludXRlPTAsIHNlY29uZD0wLAogICAgICAgICAgICAgICAgbWljcm9zZWNvbmQ9MCwgdHppbmZvPU5vbmUpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoeWVhciwgYnl0ZXMpIGFuZCBsZW4oeWVhcikgPT0gMTA6CiAgICAgICAgICAgICMgUGlja2xlIHN1cHBvcnQKICAgICAgICAgICAgc2VsZiA9IGRhdGUuX19uZXdfXyhjbHMsIHllYXJbOjRdKQogICAgICAgICAgICBzZWxmLl9fc2V0c3RhdGUoeWVhciwgbW9udGgpCiAgICAgICAgICAgIHJldHVybiBzZWxmCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKQogICAgICAgIF9jaGVja190aW1lX2ZpZWxkcyhob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpCiAgICAgICAgc2VsZiA9IGRhdGUuX19uZXdfXyhjbHMsIHllYXIsIG1vbnRoLCBkYXkpCiAgICAgICAgc2VsZi5faG91ciA9IGhvdXIKICAgICAgICBzZWxmLl9taW51dGUgPSBtaW51dGUKICAgICAgICBzZWxmLl9zZWNvbmQgPSBzZWNvbmQKICAgICAgICBzZWxmLl9taWNyb3NlY29uZCA9IG1pY3Jvc2Vjb25kCiAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnMKICAgIEBwcm9wZXJ0eQogICAgZGVmIGhvdXIoc2VsZik6CiAgICAgICAgIiIiaG91ciAoMC0yMykiIiIKICAgICAgICByZXR1cm4gc2VsZi5faG91cgoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1pbnV0ZShzZWxmKToKICAgICAgICAiIiJtaW51dGUgKDAtNTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX21pbnV0ZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlY29uZChzZWxmKToKICAgICAgICAiIiJzZWNvbmQgKDAtNTkpIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3NlY29uZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1pY3Jvc2Vjb25kKHNlbGYpOgogICAgICAgICIiIm1pY3Jvc2Vjb25kICgwLTk5OTk5OSkiIiIKICAgICAgICByZXR1cm4gc2VsZi5fbWljcm9zZWNvbmQKCiAgICBAcHJvcGVydHkKICAgIGRlZiB0emluZm8oc2VsZik6CiAgICAgICAgIiIidGltZXpvbmUgaW5mbyBvYmplY3QiIiIKICAgICAgICByZXR1cm4gc2VsZi5fdHppbmZvCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbXRpbWVzdGFtcChjbHMsIHQsIHR6PU5vbmUpOgogICAgICAgICIiIkNvbnN0cnVjdCBhIGRhdGV0aW1lIGZyb20gYSBQT1NJWCB0aW1lc3RhbXAgKGxpa2UgdGltZS50aW1lKCkpLgoKICAgICAgICBBIHRpbWV6b25lIGluZm8gb2JqZWN0IG1heSBiZSBwYXNzZWQgaW4gYXMgd2VsbC4KICAgICAgICAiIiIKCiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHopCgogICAgICAgIGNvbnZlcnRlciA9IF90aW1lLmxvY2FsdGltZSBpZiB0eiBpcyBOb25lIGVsc2UgX3RpbWUuZ210aW1lCgogICAgICAgIHQsIGZyYWMgPSBkaXZtb2QodCwgMS4wKQogICAgICAgIHVzID0gcm91bmQoZnJhYyAqIDFlNikKCiAgICAgICAgIyBJZiB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIG9uZSBtaWNyb3NlY29uZCBzbWFsbGVyIHRoYW4gYQogICAgICAgICMgZnVsbCBzZWNvbmQsIHVzIGNhbiBiZSByb3VuZGVkIHVwIHRvIDEwMDAwMDAuICBJbiB0aGlzIGNhc2UsCiAgICAgICAgIyByb2xsIG92ZXIgdG8gc2Vjb25kcywgb3RoZXJ3aXNlLCBWYWx1ZUVycm9yIGlzIHJhaXNlZAogICAgICAgICMgYnkgdGhlIGNvbnN0cnVjdG9yLgogICAgICAgIGlmIHVzID09IDEwMDAwMDA6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICB1cyA9IDAKICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBjb252ZXJ0ZXIodCkKICAgICAgICBzcyA9IG1pbihzcywgNTkpICAgICMgY2xhbXAgb3V0IGxlYXAgc2Vjb25kcyBpZiB0aGUgcGxhdGZvcm0gaGFzIHRoZW0KICAgICAgICByZXN1bHQgPSBjbHMoeSwgbSwgZCwgaGgsIG1tLCBzcywgdXMsIHR6KQogICAgICAgIGlmIHR6IGlzIG5vdCBOb25lOgogICAgICAgICAgICByZXN1bHQgPSB0ei5mcm9tdXRjKHJlc3VsdCkKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdXRjZnJvbXRpbWVzdGFtcChjbHMsIHQpOgogICAgICAgICJDb25zdHJ1Y3QgYSBVVEMgZGF0ZXRpbWUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIgogICAgICAgIHQsIGZyYWMgPSBkaXZtb2QodCwgMS4wKQogICAgICAgIHVzID0gcm91bmQoZnJhYyAqIDFlNikKCiAgICAgICAgIyBJZiB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIG9uZSBtaWNyb3NlY29uZCBzbWFsbGVyIHRoYW4gYQogICAgICAgICMgZnVsbCBzZWNvbmQsIHVzIGNhbiBiZSByb3VuZGVkIHVwIHRvIDEwMDAwMDAuICBJbiB0aGlzIGNhc2UsCiAgICAgICAgIyByb2xsIG92ZXIgdG8gc2Vjb25kcywgb3RoZXJ3aXNlLCBWYWx1ZUVycm9yIGlzIHJhaXNlZAogICAgICAgICMgYnkgdGhlIGNvbnN0cnVjdG9yLgogICAgICAgIGlmIHVzID09IDEwMDAwMDA6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICB1cyA9IDAKICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBfdGltZS5nbXRpbWUodCkKICAgICAgICBzcyA9IG1pbihzcywgNTkpICAgICMgY2xhbXAgb3V0IGxlYXAgc2Vjb25kcyBpZiB0aGUgcGxhdGZvcm0gaGFzIHRoZW0KICAgICAgICByZXR1cm4gY2xzKHksIG0sIGQsIGhoLCBtbSwgc3MsIHVzKQoKICAgICMgWFhYIFRoaXMgaXMgc3VwcG9zZWQgdG8gZG8gYmV0dGVyIHRoYW4gd2UgKmNhbiogZG8gYnkgdXNpbmcgdGltZS50aW1lKCksCiAgICAjIFhYWCBpZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgYSBtb3JlIGFjY3VyYXRlIHdheS4gIFRoZSBDIGltcGxlbWVudGF0aW9uCiAgICAjIFhYWCB1c2VzIGdldHRpbWVvZmRheSBvbiBwbGF0Zm9ybXMgdGhhdCBoYXZlIGl0LCBidXQgdGhhdCBpc24ndAogICAgIyBYWFggYXZhaWxhYmxlIGZyb20gUHl0aG9uLiAgU28gbm93KCkgbWF5IHJldHVybiBkaWZmZXJlbnQgcmVzdWx0cwogICAgIyBYWFggYWNyb3NzIHRoZSBpbXBsZW1lbnRhdGlvbnMuCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBub3coY2xzLCB0ej1Ob25lKToKICAgICAgICAiQ29uc3RydWN0IGEgZGF0ZXRpbWUgZnJvbSB0aW1lLnRpbWUoKSBhbmQgb3B0aW9uYWwgdGltZSB6b25lIGluZm8uIgogICAgICAgIHQgPSBfdGltZS50aW1lKCkKICAgICAgICByZXR1cm4gY2xzLmZyb210aW1lc3RhbXAodCwgdHopCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdXRjbm93KGNscyk6CiAgICAgICAgIkNvbnN0cnVjdCBhIFVUQyBkYXRldGltZSBmcm9tIHRpbWUudGltZSgpLiIKICAgICAgICB0ID0gX3RpbWUudGltZSgpCiAgICAgICAgcmV0dXJuIGNscy51dGNmcm9tdGltZXN0YW1wKHQpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgY29tYmluZShjbHMsIGRhdGUsIHRpbWUpOgogICAgICAgICJDb25zdHJ1Y3QgYSBkYXRldGltZSBmcm9tIGEgZ2l2ZW4gZGF0ZSBhbmQgYSBnaXZlbiB0aW1lLiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkYXRlLCBfZGF0ZV9jbGFzcyk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiZGF0ZSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSBpbnN0YW5jZSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGltZSwgX3RpbWVfY2xhc3MpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInRpbWUgYXJndW1lbnQgbXVzdCBiZSBhIHRpbWUgaW5zdGFuY2UiKQogICAgICAgIHJldHVybiBjbHMoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRheSwKICAgICAgICAgICAgICAgICAgIHRpbWUuaG91ciwgdGltZS5taW51dGUsIHRpbWUuc2Vjb25kLCB0aW1lLm1pY3Jvc2Vjb25kLAogICAgICAgICAgICAgICAgICAgdGltZS50emluZm8pCgogICAgZGVmIHRpbWV0dXBsZShzZWxmKToKICAgICAgICAiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIgogICAgICAgIGRzdCA9IHNlbGYuZHN0KCkKICAgICAgICBpZiBkc3QgaXMgTm9uZToKICAgICAgICAgICAgZHN0ID0gLTEKICAgICAgICBlbGlmIGRzdDoKICAgICAgICAgICAgZHN0ID0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRzdCA9IDAKICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHNlbGYueWVhciwgc2VsZi5tb250aCwgc2VsZi5kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhvdXIsIHNlbGYubWludXRlLCBzZWxmLnNlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdCkKCiAgICBkZWYgdXRjdGltZXR1cGxlKHNlbGYpOgogICAgICAgICJSZXR1cm4gVVRDIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUuZ210aW1lKCkuIgogICAgICAgIG9mZnNldCA9IHNlbGYudXRjb2Zmc2V0KCkKICAgICAgICBpZiBvZmZzZXQ6CiAgICAgICAgICAgIHNlbGYgLT0gb2Zmc2V0CiAgICAgICAgeSwgbSwgZCA9IHNlbGYueWVhciwgc2VsZi5tb250aCwgc2VsZi5kYXkKICAgICAgICBoaCwgbW0sIHNzID0gc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQKICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHksIG0sIGQsIGhoLCBtbSwgc3MsIDApCgogICAgZGVmIGRhdGUoc2VsZik6CiAgICAgICAgIlJldHVybiB0aGUgZGF0ZSBwYXJ0LiIKICAgICAgICByZXR1cm4gZGF0ZShzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KQoKICAgIGRlZiB0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gdGhlIHRpbWUgcGFydCwgd2l0aCB0emluZm8gTm9uZS4iCiAgICAgICAgcmV0dXJuIHRpbWUoc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQpCgogICAgZGVmIHRpbWV0eihzZWxmKToKICAgICAgICAiUmV0dXJuIHRoZSB0aW1lIHBhcnQsIHdpdGggc2FtZSB0emluZm8uIgogICAgICAgIHJldHVybiB0aW1lKHNlbGYuaG91ciwgc2VsZi5taW51dGUsIHNlbGYuc2Vjb25kLCBzZWxmLm1pY3Jvc2Vjb25kLAogICAgICAgICAgICAgICAgICAgIHNlbGYuX3R6aW5mbykKCiAgICBkZWYgcmVwbGFjZShzZWxmLCB5ZWFyPU5vbmUsIG1vbnRoPU5vbmUsIGRheT1Ob25lLCBob3VyPU5vbmUsCiAgICAgICAgICAgICAgICBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsIHR6aW5mbz1UcnVlKToKICAgICAgICAiIiJSZXR1cm4gYSBuZXcgZGF0ZXRpbWUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiIKICAgICAgICBpZiB5ZWFyIGlzIE5vbmU6CiAgICAgICAgICAgIHllYXIgPSBzZWxmLnllYXIKICAgICAgICBpZiBtb250aCBpcyBOb25lOgogICAgICAgICAgICBtb250aCA9IHNlbGYubW9udGgKICAgICAgICBpZiBkYXkgaXMgTm9uZToKICAgICAgICAgICAgZGF5ID0gc2VsZi5kYXkKICAgICAgICBpZiBob3VyIGlzIE5vbmU6CiAgICAgICAgICAgIGhvdXIgPSBzZWxmLmhvdXIKICAgICAgICBpZiBtaW51dGUgaXMgTm9uZToKICAgICAgICAgICAgbWludXRlID0gc2VsZi5taW51dGUKICAgICAgICBpZiBzZWNvbmQgaXMgTm9uZToKICAgICAgICAgICAgc2Vjb25kID0gc2VsZi5zZWNvbmQKICAgICAgICBpZiBtaWNyb3NlY29uZCBpcyBOb25lOgogICAgICAgICAgICBtaWNyb3NlY29uZCA9IHNlbGYubWljcm9zZWNvbmQKICAgICAgICBpZiB0emluZm8gaXMgVHJ1ZToKICAgICAgICAgICAgdHppbmZvID0gc2VsZi50emluZm8KICAgICAgICBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSkKICAgICAgICBfY2hlY2tfdGltZV9maWVsZHMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kKQogICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbykKICAgICAgICByZXR1cm4gZGF0ZXRpbWUoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWljcm9zZWNvbmQsIHR6aW5mbykKCiAgICBkZWYgYXN0aW1lem9uZShzZWxmLCB0eik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodHosIHR6aW5mbyk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidHogYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB0emluZm8iKQoKICAgICAgICBteXR6ID0gc2VsZi50emluZm8KICAgICAgICBpZiBteXR6IGlzIE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImFzdGltZXpvbmUoKSByZXF1aXJlcyBhbiBhd2FyZSBkYXRldGltZSIpCgogICAgICAgIGlmIHR6IGlzIG15dHo6CiAgICAgICAgICAgIHJldHVybiBzZWxmCgogICAgICAgICMgQ29udmVydCBzZWxmIHRvIFVUQywgYW5kIGF0dGFjaCB0aGUgbmV3IHRpbWUgem9uZSBvYmplY3QuCiAgICAgICAgbXlvZmZzZXQgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgbXlvZmZzZXQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYXN0aW1lem9uZSgpIHJlcXVpcmVzIGFuIGF3YXJlIGRhdGV0aW1lIikKICAgICAgICB1dGMgPSAoc2VsZiAtIG15b2Zmc2V0KS5yZXBsYWNlKHR6aW5mbz10eikKCiAgICAgICAgIyBDb252ZXJ0IGZyb20gVVRDIHRvIHR6J3MgbG9jYWwgdGltZS4KICAgICAgICByZXR1cm4gdHouZnJvbXV0Yyh1dGMpCgogICAgIyBXYXlzIHRvIHByb2R1Y2UgYSBzdHJpbmcuCgogICAgZGVmIGN0aW1lKHNlbGYpOgogICAgICAgICJSZXR1cm4gY3RpbWUoKSBzdHlsZSBzdHJpbmcuIgogICAgICAgIHdlZWtkYXkgPSBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3CiAgICAgICAgcmV0dXJuICIlcyAlcyAlMmQgJTAyZDolMDJkOiUwMmQgJTA0ZCIgJSAoCiAgICAgICAgICAgIF9EQVlOQU1FU1t3ZWVrZGF5XSwKICAgICAgICAgICAgX01PTlRITkFNRVNbc2VsZi5fbW9udGhdLAogICAgICAgICAgICBzZWxmLl9kYXksCiAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICBzZWxmLl95ZWFyKQoKICAgIGRlZiBpc29mb3JtYXQoc2VsZiwgc2VwPSdUJyk6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gSVNPLgoKICAgICAgICBUaGlzIGlzICdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbScsIG9yICdZWVlZLU1NLUREIEhIOk1NOlNTJyBpZgogICAgICAgIHNlbGYubWljcm9zZWNvbmQgPT0gMC4KCiAgICAgICAgSWYgc2VsZi50emluZm8gaXMgbm90IE5vbmUsIHRoZSBVVEMgb2Zmc2V0IGlzIGFsc28gYXR0YWNoZWQsIGdpdmluZwogICAgICAgICdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbStISDpNTScgb3IgJ1lZWVktTU0tREQgSEg6TU06U1MrSEg6TU0nLgoKICAgICAgICBPcHRpb25hbCBhcmd1bWVudCBzZXAgc3BlY2lmaWVzIHRoZSBzZXBhcmF0b3IgYmV0d2VlbiBkYXRlIGFuZAogICAgICAgIHRpbWUsIGRlZmF1bHQgJ1QnLgogICAgICAgICIiIgogICAgICAgIHMgPSAoIiUwNGQtJTAyZC0lMDJkJWMiICUgKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXApICsKICAgICAgICAgICAgICAgIF9mb3JtYXRfdGltZShzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCkpCiAgICAgICAgb2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgIGlmIG9mZiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgb2ZmLmRheXMgPCAwOgogICAgICAgICAgICAgICAgc2lnbiA9ICItIgogICAgICAgICAgICAgICAgb2ZmID0gLW9mZgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2lnbiA9ICIrIgogICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCB0aW1lZGVsdGEoaG91cnM9MSkpCiAgICAgICAgICAgIGFzc2VydCBub3QgbW0gJSB0aW1lZGVsdGEobWludXRlcz0xKSwgIndob2xlIG1pbnV0ZSIKICAgICAgICAgICAgbW0gLy89IHRpbWVkZWx0YShtaW51dGVzPTEpCiAgICAgICAgICAgIHMgKz0gIiVzJTAyZDolMDJkIiAlIChzaWduLCBoaCwgbW0pCiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgIiIiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLiIiIgogICAgICAgIEwgPSBbc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwgIyBUaGVzZSBhcmUgbmV2ZXIgemVybwogICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsIHNlbGYuX21pY3Jvc2Vjb25kXQogICAgICAgIGlmIExbLTFdID09IDA6CiAgICAgICAgICAgIGRlbCBMWy0xXQogICAgICAgIGlmIExbLTFdID09IDA6CiAgICAgICAgICAgIGRlbCBMWy0xXQogICAgICAgIHMgPSAiLCAiLmpvaW4obWFwKHN0ciwgTCkpCiAgICAgICAgcyA9ICIlcyglcykiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHMpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgc1stMTpdID09ICIpIgogICAgICAgICAgICBzID0gc1s6LTFdICsgIiwgdHppbmZvPSVyIiAlIHNlbGYuX3R6aW5mbyArICIpIgogICAgICAgIHJldHVybiBzCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgIkNvbnZlcnQgdG8gc3RyaW5nLCBmb3Igc3RyKCkuIgogICAgICAgIHJldHVybiBzZWxmLmlzb2Zvcm1hdChzZXA9JyAnKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIHN0cnB0aW1lKGNscywgZGF0ZV9zdHJpbmcsIGZvcm1hdCk6CiAgICAgICAgJ3N0cmluZywgZm9ybWF0IC0+IG5ldyBkYXRldGltZSBwYXJzZWQgZnJvbSBhIHN0cmluZyAobGlrZSB0aW1lLnN0cnB0aW1lKCkpLicKICAgICAgICBpbXBvcnQgX3N0cnB0aW1lCiAgICAgICAgcmV0dXJuIF9zdHJwdGltZS5fc3RycHRpbWVfZGF0ZXRpbWUoY2xzLCBkYXRlX3N0cmluZywgZm9ybWF0KQoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZgogICAgICAgIFVUQykuIiIiCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgb2Zmc2V0ID0gc2VsZi5fdHppbmZvLnV0Y29mZnNldChzZWxmKQogICAgICAgIF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpCiAgICAgICAgcmV0dXJuIG9mZnNldAoKICAgIGRlZiB0em5hbWUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLgoKICAgICAgICBOb3RlIHRoYXQgdGhlIG5hbWUgaXMgMTAwJSBpbmZvcm1hdGlvbmFsIC0tIHRoZXJlJ3Mgbm8gcmVxdWlyZW1lbnQgdGhhdAogICAgICAgIGl0IG1lYW4gYW55dGhpbmcgaW4gcGFydGljdWxhci4gRm9yIGV4YW1wbGUsICJHTVQiLCAiVVRDIiwgIi01MDAiLAogICAgICAgICItNTowMCIsICJFRFQiLCAiVVMvRWFzdGVybiIsICJBbWVyaWNhL05ldyBZb3JrIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuCiAgICAgICAgIiIiCiAgICAgICAgbmFtZSA9IF9jYWxsX3R6aW5mb19tZXRob2Qoc2VsZi5fdHppbmZvLCAidHpuYW1lIiwgc2VsZikKICAgICAgICBfY2hlY2tfdHpuYW1lKG5hbWUpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgZHN0KHNlbGYpOgogICAgICAgICIiIlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlcwogICAgICAgIGVhc3R3YXJkKSBpZiBEU1QgaXMgaW4gZWZmZWN0LgoKICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvCiAgICAgICAgdGhlIFVUQyBvZmZzZXQgcmV0dXJuZWQgYnkgdXRjb2Zmc2V0KCkgaWYgYXBwbGljYWJsZSwgc28gdGhlcmUncyBubwogICAgICAgIG5lZWQgdG8gY29uc3VsdCBkc3QoKSB1bmxlc3MgeW91J3JlIGludGVyZXN0ZWQgaW4gZGlzcGxheWluZyB0aGUgRFNUCiAgICAgICAgaW5mby4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KHNlbGYpCiAgICAgICAgX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldCkKICAgICAgICByZXR1cm4gb2Zmc2V0CgogICAgIyBDb21wYXJpc29ucyBvZiBkYXRldGltZSBvYmplY3RzIHdpdGggb3RoZXIuCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX2xlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPD0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDAKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPj0gMAogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpCgogICAgZGVmIF9fZ3RfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA+IDAKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKQoKICAgIGRlZiBfY21wKHNlbGYsIG90aGVyKToKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpCiAgICAgICAgbXl0eiA9IHNlbGYuX3R6aW5mbwogICAgICAgIG90dHogPSBvdGhlci5fdHppbmZvCiAgICAgICAgbXlvZmYgPSBvdG9mZiA9IE5vbmUKCiAgICAgICAgaWYgbXl0eiBpcyBvdHR6OgogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbXl0eiBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIG15b2ZmID0gc2VsZi51dGNvZmZzZXQoKQogICAgICAgICAgICBpZiBvdHR6IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgb3RvZmYgPSBvdGhlci51dGNvZmZzZXQoKQogICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBteW9mZiA9PSBvdG9mZgoKICAgICAgICBpZiBiYXNlX2NvbXBhcmU6CiAgICAgICAgICAgIHJldHVybiBfY21wKChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5fbWljcm9zZWNvbmQpKQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgY29tcGFyZSBuYWl2ZSBhbmQgYXdhcmUgZGF0ZXRpbWVzIikKICAgICAgICAjIFhYWCBXaGF0IGZvbGxvd3MgY291bGQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5Li4uCiAgICAgICAgZGlmZiA9IHNlbGYgLSBvdGhlciAgICAgIyB0aGlzIHdpbGwgdGFrZSBvZmZzZXRzIGludG8gYWNjb3VudAogICAgICAgIGlmIGRpZmYuZGF5cyA8IDA6CiAgICAgICAgICAgIHJldHVybiAtMQogICAgICAgIHJldHVybiBkaWZmIGFuZCAxIG9yIDAKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIkFkZCBhIGRhdGV0aW1lIGFuZCBhIHRpbWVkZWx0YS4iCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGRlbHRhID0gdGltZWRlbHRhKHNlbGYudG9vcmRpbmFsKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cnM9c2VsZi5faG91ciwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzPXNlbGYuX21pbnV0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzPXNlbGYuX3NlY29uZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaWNyb3NlY29uZHM9c2VsZi5fbWljcm9zZWNvbmQpCiAgICAgICAgZGVsdGEgKz0gb3RoZXIKICAgICAgICBob3VyLCByZW0gPSBkaXZtb2QoZGVsdGEuc2Vjb25kcywgMzYwMCkKICAgICAgICBtaW51dGUsIHNlY29uZCA9IGRpdm1vZChyZW0sIDYwKQogICAgICAgIGlmIDAgPCBkZWx0YS5kYXlzIDw9IF9NQVhPUkRJTkFMOgogICAgICAgICAgICByZXR1cm4gZGF0ZXRpbWUuY29tYmluZShkYXRlLmZyb21vcmRpbmFsKGRlbHRhLmRheXMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhLm1pY3Jvc2Vjb25kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0emluZm89c2VsZi5fdHppbmZvKSkKICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJyZXN1bHQgb3V0IG9mIHJhbmdlIikKCiAgICBfX3JhZGRfXyA9IF9fYWRkX18KCiAgICBkZWYgX19zdWJfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgIlN1YnRyYWN0IHR3byBkYXRldGltZXMsIG9yIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYgKyAtb3RoZXIKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgICAgIGRheXMxID0gc2VsZi50b29yZGluYWwoKQogICAgICAgIGRheXMyID0gb3RoZXIudG9vcmRpbmFsKCkKICAgICAgICBzZWNzMSA9IHNlbGYuX3NlY29uZCArIHNlbGYuX21pbnV0ZSAqIDYwICsgc2VsZi5faG91ciAqIDM2MDAKICAgICAgICBzZWNzMiA9IG90aGVyLl9zZWNvbmQgKyBvdGhlci5fbWludXRlICogNjAgKyBvdGhlci5faG91ciAqIDM2MDAKICAgICAgICBiYXNlID0gdGltZWRlbHRhKGRheXMxIC0gZGF5czIsCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWNzMSAtIHNlY3MyLAogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQgLSBvdGhlci5fbWljcm9zZWNvbmQpCiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG90aGVyLl90emluZm86CiAgICAgICAgICAgIHJldHVybiBiYXNlCiAgICAgICAgbXlvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgb3RvZmYgPSBvdGhlci51dGNvZmZzZXQoKQogICAgICAgIGlmIG15b2ZmID09IG90b2ZmOgogICAgICAgICAgICByZXR1cm4gYmFzZQogICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5ub3QgbWl4IG5haXZlIGFuZCB0aW1lem9uZS1hd2FyZSB0aW1lIikKICAgICAgICByZXR1cm4gYmFzZSArIG90b2ZmIC0gbXlvZmYKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgdHpvZmYgPSBzZWxmLnV0Y29mZnNldCgpCiAgICAgICAgaWYgdHpvZmYgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIGhhc2goc2VsZi5fZ2V0c3RhdGUoKVswXSkKICAgICAgICBkYXlzID0gX3ltZDJvcmQoc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheSkKICAgICAgICBzZWNvbmRzID0gc2VsZi5ob3VyICogMzYwMCArIHNlbGYubWludXRlICogNjAgKyBzZWxmLnNlY29uZAogICAgICAgIHJldHVybiBoYXNoKHRpbWVkZWx0YShkYXlzLCBzZWNvbmRzLCBzZWxmLm1pY3Jvc2Vjb25kKSAtIHR6b2ZmKQoKICAgICMgUGlja2xlIHN1cHBvcnQuCgogICAgZGVmIF9nZXRzdGF0ZShzZWxmKToKICAgICAgICB5aGksIHlsbyA9IGRpdm1vZChzZWxmLl95ZWFyLCAyNTYpCiAgICAgICAgdXMyLCB1czMgPSBkaXZtb2Qoc2VsZi5fbWljcm9zZWNvbmQsIDI1NikKICAgICAgICB1czEsIHVzMiA9IGRpdm1vZCh1czIsIDI1NikKICAgICAgICBiYXNlc3RhdGUgPSBieXRlcyhbeWhpLCB5bG8sIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1czEsIHVzMiwgdXMzXSkKICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIChiYXNlc3RhdGUsKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAoYmFzZXN0YXRlLCBzZWxmLl90emluZm8pCgogICAgZGVmIF9fc2V0c3RhdGUoc2VsZiwgc3RyaW5nLCB0emluZm8pOgogICAgICAgICh5aGksIHlsbywgc2VsZi5fbW9udGgsIHNlbGYuX2RheSwgc2VsZi5faG91ciwKICAgICAgICAgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsIHVzMSwgdXMyLCB1czMpID0gc3RyaW5nCiAgICAgICAgc2VsZi5feWVhciA9IHloaSAqIDI1NiArIHlsbwogICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gKCgodXMxIDw8IDgpIHwgdXMyKSA8PCA4KSB8IHVzMwogICAgICAgIGlmIHR6aW5mbyBpcyBOb25lIG9yIGlzaW5zdGFuY2UodHppbmZvLCBfdHppbmZvX2NsYXNzKToKICAgICAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJiYWQgdHppbmZvIHN0YXRlIGFyZyAlciIgJSB0emluZm8pCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgcmV0dXJuIChzZWxmLl9fY2xhc3NfXywgc2VsZi5fZ2V0c3RhdGUoKSkKCgpkYXRldGltZS5taW4gPSBkYXRldGltZSgxLCAxLCAxKQpkYXRldGltZS5tYXggPSBkYXRldGltZSg5OTk5LCAxMiwgMzEsIDIzLCA1OSwgNTksIDk5OTk5OSkKZGF0ZXRpbWUucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSkKCgpkZWYgX2lzb3dlZWsxbW9uZGF5KHllYXIpOgogICAgIyBIZWxwZXIgdG8gY2FsY3VsYXRlIHRoZSBkYXkgbnVtYmVyIG9mIHRoZSBNb25kYXkgc3RhcnRpbmcgd2VlayAxCiAgICAjIFhYWCBUaGlzIGNvdWxkIGJlIGRvbmUgbW9yZSBlZmZpY2llbnRseQogICAgVEhVUlNEQVkgPSAzCiAgICBmaXJzdGRheSA9IF95bWQyb3JkKHllYXIsIDEsIDEpCiAgICBmaXJzdHdlZWtkYXkgPSAoZmlyc3RkYXkgKyA2KSAlIDcgIyBTZWUgd2Vla2RheSgpIGFib3ZlCiAgICB3ZWVrMW1vbmRheSA9IGZpcnN0ZGF5IC0gZmlyc3R3ZWVrZGF5CiAgICBpZiBmaXJzdHdlZWtkYXkgPiBUSFVSU0RBWToKICAgICAgICB3ZWVrMW1vbmRheSArPSA3CiAgICByZXR1cm4gd2VlazFtb25kYXkKCmNsYXNzIHRpbWV6b25lKHR6aW5mbyk6CiAgICBfX3Nsb3RzX18gPSAnX29mZnNldCcsICdfbmFtZScKCiAgICAjIFNlbnRpbmVsIHZhbHVlIHRvIGRpc2FsbG93IE5vbmUKICAgIF9PbWl0dGVkID0gb2JqZWN0KCkKICAgIGRlZiBfX25ld19fKGNscywgb2Zmc2V0LCBuYW1lPV9PbWl0dGVkKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvZmZzZXQsIHRpbWVkZWx0YSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigib2Zmc2V0IG11c3QgYmUgYSB0aW1lZGVsdGEiKQogICAgICAgIGlmIG5hbWUgaXMgY2xzLl9PbWl0dGVkOgogICAgICAgICAgICBpZiBub3Qgb2Zmc2V0OgogICAgICAgICAgICAgICAgcmV0dXJuIGNscy51dGMKICAgICAgICAgICAgbmFtZSA9IE5vbmUKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKG5hbWUsIHN0cik6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigibmFtZSBtdXN0IGJlIGEgc3RyaW5nIikKICAgICAgICBpZiBub3QgY2xzLl9taW5vZmZzZXQgPD0gb2Zmc2V0IDw9IGNscy5fbWF4b2Zmc2V0OgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJvZmZzZXQgbXVzdCBiZSBhIHRpbWVkZWx0YSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIHN0cmljdGx5IGJldHdlZW4gLXRpbWVkZWx0YShob3Vycz0yNCkgYW5kIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgdGltZWRlbHRhKGhvdXJzPTI0KS4iKQogICAgICAgIGlmIChvZmZzZXQubWljcm9zZWNvbmRzICE9IDAgb3IKICAgICAgICAgICAgb2Zmc2V0LnNlY29uZHMgJSA2MCAhPSAwKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigib2Zmc2V0IG11c3QgYmUgYSB0aW1lZGVsdGEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiByZXByZXNlbnRpbmcgYSB3aG9sZSBudW1iZXIgb2YgbWludXRlcyIpCiAgICAgICAgcmV0dXJuIGNscy5fY3JlYXRlKG9mZnNldCwgbmFtZSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlKGNscywgb2Zmc2V0LCBuYW1lPU5vbmUpOgogICAgICAgIHNlbGYgPSB0emluZm8uX19uZXdfXyhjbHMpCiAgICAgICAgc2VsZi5fb2Zmc2V0ID0gb2Zmc2V0CiAgICAgICAgc2VsZi5fbmFtZSA9IG5hbWUKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2dldGluaXRhcmdzX18oc2VsZik6CiAgICAgICAgIiIicGlja2xlIHN1cHBvcnQiIiIKICAgICAgICBpZiBzZWxmLl9uYW1lIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiAoc2VsZi5fb2Zmc2V0LCkKICAgICAgICByZXR1cm4gKHNlbGYuX29mZnNldCwgc2VsZi5fbmFtZSkKCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiB0eXBlKG90aGVyKSAhPSB0aW1lem9uZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIHNlbGYuX29mZnNldCA9PSBvdGhlci5fb2Zmc2V0CgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX29mZnNldCkKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgIiIiQ29udmVydCB0byBmb3JtYWwgc3RyaW5nLCBmb3IgcmVwcigpLgoKICAgICAgICA+Pj4gdHogPSB0aW1lem9uZS51dGMKICAgICAgICA+Pj4gcmVwcih0eikKICAgICAgICAnZGF0ZXRpbWUudGltZXpvbmUudXRjJwogICAgICAgID4+PiB0eiA9IHRpbWV6b25lKHRpbWVkZWx0YShob3Vycz0tNSksICdFU1QnKQogICAgICAgID4+PiByZXByKHR6KQogICAgICAgICJkYXRldGltZS50aW1lem9uZShkYXRldGltZS50aW1lZGVsdGEoLTEsIDY4NDAwKSwgJ0VTVCcpIgogICAgICAgICIiIgogICAgICAgIGlmIHNlbGYgaXMgc2VsZi51dGM6CiAgICAgICAgICAgIHJldHVybiAnZGF0ZXRpbWUudGltZXpvbmUudXRjJwogICAgICAgIGlmIHNlbGYuX25hbWUgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuICIlcyglcikiICUgKCdkYXRldGltZS4nICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9vZmZzZXQpCiAgICAgICAgcmV0dXJuICIlcyglciwgJXIpIiAlICgnZGF0ZXRpbWUuJyArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2Zmc2V0LCBzZWxmLl9uYW1lKQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnR6bmFtZShOb25lKQoKICAgIGRlZiB1dGNvZmZzZXQoc2VsZiwgZHQpOgogICAgICAgIGlmIGlzaW5zdGFuY2UoZHQsIGRhdGV0aW1lKSBvciBkdCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fb2Zmc2V0CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ1dGNvZmZzZXQoKSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZXRpbWUgaW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICIgb3IgTm9uZSIpCgogICAgZGVmIHR6bmFtZShzZWxmLCBkdCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpIG9yIGR0IGlzIE5vbmU6CiAgICAgICAgICAgIGlmIHNlbGYuX25hbWUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9uYW1lX2Zyb21fb2Zmc2V0KHNlbGYuX29mZnNldCkKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX25hbWUKICAgICAgICByYWlzZSBUeXBlRXJyb3IoInR6bmFtZSgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgIiBvciBOb25lIikKCiAgICBkZWYgZHN0KHNlbGYsIGR0KToKICAgICAgICBpZiBpc2luc3RhbmNlKGR0LCBkYXRldGltZSkgb3IgZHQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImRzdCgpIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRldGltZSBpbnN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgIiBvciBOb25lIikKCiAgICBkZWYgZnJvbXV0YyhzZWxmLCBkdCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpOgogICAgICAgICAgICBpZiBkdC50emluZm8gaXMgbm90IHNlbGY6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjOiBkdC50emluZm8gIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaXMgbm90IHNlbGYiKQogICAgICAgICAgICByZXR1cm4gZHQgKyBzZWxmLl9vZmZzZXQKICAgICAgICByYWlzZSBUeXBlRXJyb3IoImZyb211dGMoKSBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZXRpbWUgaW5zdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICIgb3IgTm9uZSIpCgogICAgX21heG9mZnNldCA9IHRpbWVkZWx0YShob3Vycz0yMywgbWludXRlcz01OSkKICAgIF9taW5vZmZzZXQgPSAtX21heG9mZnNldAoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfbmFtZV9mcm9tX29mZnNldChkZWx0YSk6CiAgICAgICAgaWYgZGVsdGEgPCB0aW1lZGVsdGEoMCk6CiAgICAgICAgICAgIHNpZ24gPSAnLScKICAgICAgICAgICAgZGVsdGEgPSAtZGVsdGEKICAgICAgICBlbHNlOgogICAgICAgICAgICBzaWduID0gJysnCiAgICAgICAgaG91cnMsIHJlc3QgPSBkaXZtb2QoZGVsdGEsIHRpbWVkZWx0YShob3Vycz0xKSkKICAgICAgICBtaW51dGVzID0gcmVzdCAvLyB0aW1lZGVsdGEobWludXRlcz0xKQogICAgICAgIHJldHVybiAnVVRDe317OjAyZH06ezowMmR9Jy5mb3JtYXQoc2lnbiwgaG91cnMsIG1pbnV0ZXMpCgp0aW1lem9uZS51dGMgPSB0aW1lem9uZS5fY3JlYXRlKHRpbWVkZWx0YSgwKSkKdGltZXpvbmUubWluID0gdGltZXpvbmUuX2NyZWF0ZSh0aW1lem9uZS5fbWlub2Zmc2V0KQp0aW1lem9uZS5tYXggPSB0aW1lem9uZS5fY3JlYXRlKHRpbWV6b25lLl9tYXhvZmZzZXQpCgoiIiIKU29tZSB0aW1lIHpvbmUgYWxnZWJyYS4gIEZvciBhIGRhdGV0aW1lIHgsIGxldAogICAgeC5uID0geCBzdHJpcHBlZCBvZiBpdHMgdGltZXpvbmUgLS0gaXRzIG5haXZlIHRpbWUuCiAgICB4Lm8gPSB4LnV0Y29mZnNldCgpLCBhbmQgYXNzdW1pbmcgdGhhdCBkb2Vzbid0IHJhaXNlIGFuIGV4Y2VwdGlvbiBvcgogICAgICAgICAgcmV0dXJuIE5vbmUKICAgIHguZCA9IHguZHN0KCksIGFuZCBhc3N1bWluZyB0aGF0IGRvZXNuJ3QgcmFpc2UgYW4gZXhjZXB0aW9uIG9yCiAgICAgICAgICByZXR1cm4gTm9uZQogICAgeC5zID0geCdzIHN0YW5kYXJkIG9mZnNldCwgeC5vIC0geC5kCgpOb3cgc29tZSBkZXJpdmVkIHJ1bGVzLCB3aGVyZSBrIGlzIGEgZHVyYXRpb24gKHRpbWVkZWx0YSkuCgoxLiB4Lm8gPSB4LnMgKyB4LmQKICAgVGhpcyBmb2xsb3dzIGZyb20gdGhlIGRlZmluaXRpb24gb2YgeC5zLgoKMi4gSWYgeCBhbmQgeSBoYXZlIHRoZSBzYW1lIHR6aW5mbyBtZW1iZXIsIHgucyA9IHkucy4KICAgVGhpcyBpcyBhY3R1YWxseSBhIHJlcXVpcmVtZW50LCBhbiBhc3N1bXB0aW9uIHdlIG5lZWQgdG8gbWFrZSBhYm91dAogICBzYW5lIHR6aW5mbyBjbGFzc2VzLgoKMy4gVGhlIG5haXZlIFVUQyB0aW1lIGNvcnJlc3BvbmRpbmcgdG8geCBpcyB4Lm4gLSB4Lm8uCiAgIFRoaXMgaXMgYWdhaW4gYSByZXF1aXJlbWVudCBmb3IgYSBzYW5lIHR6aW5mbyBjbGFzcy4KCjQuICh4K2spLnMgPSB4LnMKICAgVGhpcyBmb2xsb3dzIGZyb20gIzIsIGFuZCB0aGF0IGRhdGltZXRpbWV0eit0aW1lZGVsdGEgcHJlc2VydmVzIHR6aW5mby4KCjUuICh4K2spLm4gPSB4Lm4gKyBrCiAgIEFnYWluIGZvbGxvd3MgZnJvbSBob3cgYXJpdGhtZXRpYyBpcyBkZWZpbmVkLgoKTm93IHdlIGNhbiBleHBsYWluIHR6LmZyb211dGMoeCkuICBMZXQncyBhc3N1bWUgaXQncyBhbiBpbnRlcmVzdGluZyBjYXNlCihtZWFuaW5nIHRoYXQgdGhlIHZhcmlvdXMgdHppbmZvIG1ldGhvZHMgZXhpc3QsIGFuZCBkb24ndCBibG93IHVwIG9yIHJldHVybgpOb25lIHdoZW4gY2FsbGVkKS4KClRoZSBmdW5jdGlvbiB3YW50cyB0byByZXR1cm4gYSBkYXRldGltZSB5IHdpdGggdGltZXpvbmUgdHosIGVxdWl2YWxlbnQgdG8geC4KeCBpcyBhbHJlYWR5IGluIFVUQy4KCkJ5ICMzLCB3ZSB3YW50CgogICAgeS5uIC0geS5vID0geC5uICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbMV0KClRoZSBhbGdvcml0aG0gc3RhcnRzIGJ5IGF0dGFjaGluZyB0eiB0byB4Lm4sIGFuZCBjYWxsaW5nIHRoYXQgeS4gIFNvCngubiA9IHkubiBhdCB0aGUgc3RhcnQuICBUaGVuIGl0IHdhbnRzIHRvIGFkZCBhIGR1cmF0aW9uIGsgdG8geSwgc28gdGhhdCBbMV0KYmVjb21lcyB0cnVlOyBpbiBlZmZlY3QsIHdlIHdhbnQgdG8gc29sdmUgWzJdIGZvciBrOgoKICAgKHkraykubiAtICh5K2spLm8gPSB4Lm4gICAgICAgICAgICAgICAgICAgICAgWzJdCgpCeSAjMSwgdGhpcyBpcyB0aGUgc2FtZSBhcwoKICAgKHkraykubiAtICgoeStrKS5zICsgKHkraykuZCkgPSB4Lm4gICAgICAgICAgWzNdCgpCeSAjNSwgKHkraykubiA9IHkubiArIGssIHdoaWNoIGVxdWFscyB4Lm4gKyBrIGJlY2F1c2UgeC5uPXkubiBhdCB0aGUgc3RhcnQuClN1YnN0aXR1dGluZyB0aGF0IGludG8gWzNdLAoKICAgeC5uICsgayAtICh5K2spLnMgLSAoeStrKS5kID0geC5uOyB0aGUgeC5uIHRlcm1zIGNhbmNlbCwgbGVhdmluZwogICBrIC0gKHkraykucyAtICh5K2spLmQgPSAwOyByZWFycmFuZ2luZywKICAgayA9ICh5K2spLnMgLSAoeStrKS5kOyBieSAjNCwgKHkraykucyA9PSB5LnMsIHNvCiAgIGsgPSB5LnMgLSAoeStrKS5kCgpPbiB0aGUgUkhTLCAoeStrKS5kIGNhbid0IGJlIGNvbXB1dGVkIGRpcmVjdGx5LCBidXQgeS5zIGNhbiBiZSwgYW5kIHdlCmFwcHJveGltYXRlIGsgYnkgaWdub3JpbmcgdGhlICh5K2spLmQgdGVybSBhdCBmaXJzdC4gIE5vdGUgdGhhdCBrIGNhbid0IGJlCnZlcnkgbGFyZ2UsIHNpbmNlIGFsbCBvZmZzZXQtcmV0dXJuaW5nIG1ldGhvZHMgcmV0dXJuIGEgZHVyYXRpb24gb2YgbWFnbml0dWRlCmxlc3MgdGhhbiAyNCBob3Vycy4gIEZvciB0aGF0IHJlYXNvbiwgaWYgeSBpcyBmaXJtbHkgaW4gc3RkIHRpbWUsICh5K2spLmQgbXVzdApiZSAwLCBzbyBpZ25vcmluZyBpdCBoYXMgbm8gY29uc2VxdWVuY2UgdGhlbi4KCkluIGFueSBjYXNlLCB0aGUgbmV3IHZhbHVlIGlzCgogICAgeiA9IHkgKyB5LnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbNF0KCkl0J3MgaGVscGZ1bCB0byBzdGVwIGJhY2sgYXQgbG9vayBhdCBbNF0gZnJvbSBhIGhpZ2hlciBsZXZlbDogIGl0J3Mgc2ltcGx5Cm1hcHBpbmcgZnJvbSBVVEMgdG8gdHoncyBzdGFuZGFyZCB0aW1lLgoKQXQgdGhpcyBwb2ludCwgaWYKCiAgICB6Lm4gLSB6Lm8gPSB4Lm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFs1XQoKd2UgaGF2ZSBhbiBlcXVpdmFsZW50IHRpbWUsIGFuZCBhcmUgYWxtb3N0IGRvbmUuICBUaGUgaW5zZWN1cml0eSBoZXJlIGlzCmF0IHRoZSBzdGFydCBvZiBkYXlsaWdodCB0aW1lLiAgUGljdHVyZSBVUyBFYXN0ZXJuIGZvciBjb25jcmV0ZW5lc3MuICBUaGUgd2FsbAp0aW1lIGp1bXBzIGZyb20gMTo1OSB0byAzOjAwLCBhbmQgd2FsbCBob3VycyBvZiB0aGUgZm9ybSAyOk1NIGRvbid0IG1ha2UgZ29vZApzZW5zZSB0aGVuLiAgVGhlIGRvY3MgYXNrIHRoYXQgYW4gRWFzdGVybiB0emluZm8gY2xhc3MgY29uc2lkZXIgc3VjaCBhIHRpbWUgdG8KYmUgRURUIChiZWNhdXNlIGl0J3MgImFmdGVyIDIiKSwgd2hpY2ggaXMgYSByZWR1bmRhbnQgc3BlbGxpbmcgb2YgMTpNTSBFU1QKb24gdGhlIGRheSBEU1Qgc3RhcnRzLiAgV2Ugd2FudCB0byByZXR1cm4gdGhlIDE6TU0gRVNUIHNwZWxsaW5nIGJlY2F1c2UgdGhhdCdzCnRoZSBvbmx5IHNwZWxsaW5nIHRoYXQgbWFrZXMgc2Vuc2Ugb24gdGhlIGxvY2FsIHdhbGwgY2xvY2suCgpJbiBmYWN0LCBpZiBbNV0gaG9sZHMgYXQgdGhpcyBwb2ludCwgd2UgZG8gaGF2ZSB0aGUgc3RhbmRhcmQtdGltZSBzcGVsbGluZywKYnV0IHRoYXQgdGFrZXMgYSBiaXQgb2YgcHJvb2YuICBXZSBmaXJzdCBwcm92ZSBhIHN0cm9uZ2VyIHJlc3VsdC4gIFdoYXQncyB0aGUKZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBMSFMgYW5kIFJIUyBvZiBbNV0/ICBMZXQKCiAgICBkaWZmID0geC5uIC0gKHoubiAtIHoubykgICAgICAgICAgICAgICAgICAgIFs2XQoKTm93CiAgICB6Lm4gPSAgICAgICAgICAgICAgICAgICAgICAgYnkgWzRdCiAgICAoeSArIHkucykubiA9ICAgICAgICAgICAgICAgYnkgIzUKICAgIHkubiArIHkucyA9ICAgICAgICAgICAgICAgICBzaW5jZSB5Lm4gPSB4Lm4KICAgIHgubiArIHkucyA9ICAgICAgICAgICAgICAgICBzaW5jZSB6IGFuZCB5IGFyZSBoYXZlIHRoZSBzYW1lIHR6aW5mbyBtZW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkucyA9IHoucyBieSAjMgogICAgeC5uICsgei5zCgpQbHVnZ2luZyB0aGF0IGJhY2sgaW50byBbNl0gZ2l2ZXMKCiAgICBkaWZmID0KICAgIHgubiAtICgoeC5uICsgei5zKSAtIHoubykgPSAgICAgZXhwYW5kaW5nCiAgICB4Lm4gLSB4Lm4gLSB6LnMgKyB6Lm8gPSAgICAgICAgIGNhbmNlbGxpbmcKICAgIC0gei5zICsgei5vID0gICAgICAgICAgICAgICAgICAgYnkgIzIKICAgIHouZAoKU28gZGlmZiA9IHouZC4KCklmIFs1XSBpcyB0cnVlIG5vdywgZGlmZiA9IDAsIHNvIHouZCA9IDAgdG9vLCBhbmQgd2UgaGF2ZSB0aGUgc3RhbmRhcmQtdGltZQpzcGVsbGluZyB3ZSB3YW50ZWQgaW4gdGhlIGVuZGNhc2UgZGVzY3JpYmVkIGFib3ZlLiAgV2UncmUgZG9uZS4gIENvbnRyYXJpbHksCmlmIHouZCA9IDAsIHRoZW4gd2UgaGF2ZSBhIFVUQyBlcXVpdmFsZW50LCBhbmQgYXJlIGFsc28gZG9uZS4KCklmIFs1XSBpcyBub3QgdHJ1ZSBub3csIGRpZmYgPSB6LmQgIT0gMCwgYW5kIHouZCBpcyB0aGUgb2Zmc2V0IHdlIG5lZWQgdG8KYWRkIHRvIHogKGluIGVmZmVjdCwgeiBpcyBpbiB0eidzIHN0YW5kYXJkIHRpbWUsIGFuZCB3ZSBuZWVkIHRvIHNoaWZ0IHRoZQpsb2NhbCBjbG9jayBpbnRvIHR6J3MgZGF5bGlnaHQgdGltZSkuCgpMZXQKCiAgICB6JyA9IHogKyB6LmQgPSB6ICsgZGlmZiAgICAgICAgICAgICAgICAgICAgIFs3XQoKYW5kIHdlIGNhbiBhZ2FpbiBhc2sgd2hldGhlcgoKICAgIHonLm4gLSB6Jy5vID0geC5uICAgICAgICAgICAgICAgICAgICAgICAgICAgWzhdCgpJZiBzbywgd2UncmUgZG9uZS4gIElmIG5vdCwgdGhlIHR6aW5mbyBjbGFzcyBpcyBpbnNhbmUsIGFjY29yZGluZyB0byB0aGUKYXNzdW1wdGlvbnMgd2UndmUgbWFkZS4gIFRoaXMgYWxzbyByZXF1aXJlcyBhIGJpdCBvZiBwcm9vZi4gIEFzIGJlZm9yZSwgbGV0J3MKY29tcHV0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBMSFMgYW5kIFJIUyBvZiBbOF0gKGFuZCBza2lwcGluZyBzb21lIG9mCnRoZSBqdXN0aWZpY2F0aW9ucyBmb3IgdGhlIGtpbmRzIG9mIHN1YnN0aXR1dGlvbnMgd2UndmUgZG9uZSBzZXZlcmFsIHRpbWVzCmFscmVhZHkpOgoKICAgIGRpZmYnID0geC5uIC0gKHonLm4gLSB6Jy5vKSA9ICAgICAgICAgICByZXBsYWNpbmcgeicubiB2aWEgWzddCiAgICAgICAgICAgIHgubiAgLSAoei5uICsgZGlmZiAtIHonLm8pID0gICAgcmVwbGFjaW5nIGRpZmYgdmlhIFs2XQogICAgICAgICAgICB4Lm4gLSAoei5uICsgeC5uIC0gKHoubiAtIHoubykgLSB6Jy5vKSA9CiAgICAgICAgICAgIHgubiAtIHoubiAtIHgubiArIHoubiAtIHoubyArIHonLm8gPSAgICBjYW5jZWwgeC5uCiAgICAgICAgICAgIC0gei5uICsgei5uIC0gei5vICsgeicubyA9ICAgICAgICAgICAgICBjYW5jZWwgei5uCiAgICAgICAgICAgIC0gei5vICsgeicubyA9ICAgICAgICAgICAgICAgICAgICAgICMxIHR3aWNlCiAgICAgICAgICAgIC16LnMgLSB6LmQgKyB6Jy5zICsgeicuZCA9ICAgICAgICAgIHogYW5kIHonIGhhdmUgc2FtZSB0emluZm8KICAgICAgICAgICAgeicuZCAtIHouZAoKU28geicgaXMgVVRDLWVxdWl2YWxlbnQgdG8geCBpZmYgeicuZCA9IHouZCBhdCB0aGlzIHBvaW50LiAgSWYgdGhleSBhcmUgZXF1YWwsCndlJ3ZlIGZvdW5kIHRoZSBVVEMtZXF1aXZhbGVudCBzbyBhcmUgZG9uZS4gIEluIGZhY3QsIHdlIHN0b3Agd2l0aCBbN10gYW5kCnJldHVybiB6Jywgbm90IGJvdGhlcmluZyB0byBjb21wdXRlIHonLmQuCgpIb3cgY291bGQgei5kIGFuZCB6J2QgZGlmZmVyPyAgeicgPSB6ICsgei5kIFs3XSwgc28gbWVyZWx5IG1vdmluZyB6JyBieQphIGRzdCgpIG9mZnNldCwgYW5kIHN0YXJ0aW5nICpmcm9tKiBhIHRpbWUgYWxyZWFkeSBpbiBEU1QgKHdlIGtub3cgei5kICE9IDApLAp3b3VsZCBoYXZlIHRvIGNoYW5nZSB0aGUgcmVzdWx0IGRzdCgpIHJldHVybnM6ICB3ZSBzdGFydCBpbiBEU1QsIGFuZCBtb3ZpbmcKYSBsaXR0bGUgZnVydGhlciBpbnRvIGl0IHRha2VzIHVzIG91dCBvZiBEU1QuCgpUaGVyZSBpc24ndCBhIHNhbmUgY2FzZSB3aGVyZSB0aGlzIGNhbiBoYXBwZW4uICBUaGUgY2xvc2VzdCBpdCBnZXRzIGlzIGF0CnRoZSBlbmQgb2YgRFNULCB3aGVyZSB0aGVyZSdzIGFuIGhvdXIgaW4gVVRDIHdpdGggbm8gc3BlbGxpbmcgaW4gYSBoeWJyaWQKdHppbmZvIGNsYXNzLiAgSW4gVVMgRWFzdGVybiwgdGhhdCdzIDU6TU0gVVRDID0gMDpNTSBFU1QgPSAxOk1NIEVEVC4gIER1cmluZwp0aGF0IGhvdXIsIG9uIGFuIEVhc3Rlcm4gY2xvY2sgMTpNTSBpcyB0YWtlbiBhcyBiZWluZyBpbiBzdGFuZGFyZCB0aW1lICg2Ok1NClVUQykgYmVjYXVzZSB0aGUgZG9jcyBpbnNpc3Qgb24gdGhhdCwgYnV0IDA6TU0gaXMgdGFrZW4gYXMgYmVpbmcgaW4gZGF5bGlnaHQKdGltZSAoNDpNTSBVVEMpLiAgVGhlcmUgaXMgbm8gbG9jYWwgdGltZSBtYXBwaW5nIHRvIDU6TU0gVVRDLiAgVGhlIGxvY2FsCmNsb2NrIGp1bXBzIGZyb20gMTo1OSBiYWNrIHRvIDE6MDAgYWdhaW4sIGFuZCByZXBlYXRzIHRoZSAxOk1NIGhvdXIgaW4Kc3RhbmRhcmQgdGltZS4gIFNpbmNlIHRoYXQncyB3aGF0IHRoZSBsb2NhbCBjbG9jayAqZG9lcyosIHdlIHdhbnQgdG8gbWFwIGJvdGgKVVRDIGhvdXJzIDU6TU0gYW5kIDY6TU0gdG8gMTpNTSBFYXN0ZXJuLiAgVGhlIHJlc3VsdCBpcyBhbWJpZ3VvdXMKaW4gbG9jYWwgdGltZSwgYnV0IHNvIGl0IGdvZXMgLS0gaXQncyB0aGUgd2F5IHRoZSBsb2NhbCBjbG9jayB3b3Jrcy4KCldoZW4geCA9IDU6TU0gVVRDIGlzIHRoZSBpbnB1dCB0byB0aGlzIGFsZ29yaXRobSwgeC5vPTAsIHkubz0tNSBhbmQgeS5kPTAsCnNvIHo9MDpNTS4gIHouZD02MCAobWludXRlcykgdGhlbiwgc28gWzVdIGRvZXNuJ3QgaG9sZCBhbmQgd2Uga2VlcCBnb2luZy4KeicgPSB6ICsgei5kID0gMTpNTSB0aGVuLCBhbmQgeicuZD0wLCBhbmQgeicuZCAtIHouZCA9IC02MCAhPSAwIHNvIFs4XQooY29ycmVjdGx5KSBjb25jbHVkZXMgdGhhdCB6JyBpcyBub3QgVVRDLWVxdWl2YWxlbnQgdG8geC4KCkJlY2F1c2Ugd2Uga25vdyB6LmQgc2FpZCB6IHdhcyBpbiBkYXlsaWdodCB0aW1lIChlbHNlIFs1XSB3b3VsZCBoYXZlIGhlbGQgYW5kCndlIHdvdWxkIGhhdmUgc3RvcHBlZCB0aGVuKSwgYW5kIHdlIGtub3cgei5kICE9IHonLmQgKGVsc2UgWzhdIHdvdWxkIGhhdmUgaGVsZAphbmQgd2UgaGF2ZSBzdG9wcGVkIHRoZW4pLCBhbmQgdGhlcmUgYXJlIG9ubHkgMiBwb3NzaWJsZSB2YWx1ZXMgZHN0KCkgY2FuCnJldHVybiBpbiBFYXN0ZXJuLCBpdCBmb2xsb3dzIHRoYXQgeicuZCBtdXN0IGJlIDAgKHdoaWNoIGl0IGlzIGluIHRoZSBleGFtcGxlLApidXQgdGhlIHJlYXNvbmluZyBkb2Vzbid0IGRlcGVuZCBvbiB0aGUgZXhhbXBsZSAtLSBpdCBkZXBlbmRzIG9uIHRoZXJlIGJlaW5nCnR3byBwb3NzaWJsZSBkc3QoKSBvdXRjb21lcywgb25lIHplcm8gYW5kIHRoZSBvdGhlciBub24temVybykuICBUaGVyZWZvcmUKeicgbXVzdCBiZSBpbiBzdGFuZGFyZCB0aW1lLCBhbmQgaXMgdGhlIHNwZWxsaW5nIHdlIHdhbnQgaW4gdGhpcyBjYXNlLgoKTm90ZSBhZ2FpbiB0aGF0IHonIGlzIG5vdCBVVEMtZXF1aXZhbGVudCBhcyBmYXIgYXMgdGhlIGh5YnJpZCB0emluZm8gY2xhc3MgaXMKY29uY2VybmVkIChiZWNhdXNlIGl0IHRha2VzIHonIGFzIGJlaW5nIGluIHN0YW5kYXJkIHRpbWUgcmF0aGVyIHRoYW4gdGhlCmRheWxpZ2h0IHRpbWUgd2UgaW50ZW5kIGhlcmUpLCBidXQgcmV0dXJuaW5nIGl0IGdpdmVzIHRoZSByZWFsLWxpZmUgImxvY2FsCmNsb2NrIHJlcGVhdHMgYW4gaG91ciIgYmVoYXZpb3Igd2hlbiBtYXBwaW5nIHRoZSAidW5zcGVsbGFibGUiIFVUQyBob3VyIGludG8KdHouCgpXaGVuIHRoZSBpbnB1dCBpcyA2Ok1NLCB6PTE6TU0gYW5kIHouZD0wLCBhbmQgd2Ugc3RvcCBhdCBvbmNlLCBhZ2FpbiB3aXRoCnRoZSAxOk1NIHN0YW5kYXJkIHRpbWUgc3BlbGxpbmcgd2Ugd2FudC4KClNvIGhvdyBjYW4gdGhpcyBicmVhaz8gIE9uZSBvZiB0aGUgYXNzdW1wdGlvbnMgbXVzdCBiZSB2aW9sYXRlZC4gIFR3bwpwb3NzaWJpbGl0aWVzOgoKMSkgWzJdIGVmZmVjdGl2ZWx5IHNheXMgdGhhdCB5LnMgaXMgaW52YXJpYW50IGFjcm9zcyBhbGwgeSBiZWxvbmcgdG8gYSBnaXZlbgogICB0aW1lIHpvbmUuICBUaGlzIGlzbid0IHRydWUgaWYsIGZvciBwb2xpdGljYWwgcmVhc29ucyBvciBjb250aW5lbnRhbCBkcmlmdCwKICAgYSByZWdpb24gZGVjaWRlcyB0byBjaGFuZ2UgaXRzIGJhc2Ugb2Zmc2V0IGZyb20gVVRDLgoKMikgVGhlcmUgbWF5IGJlIHZlcnNpb25zIG9mICJkb3VibGUgZGF5bGlnaHQiIHRpbWUgd2hlcmUgdGhlIHRhaWwgZW5kIG9mCiAgIHRoZSBhbmFseXNpcyBnaXZlcyB1cCBhIHN0ZXAgdG9vIGVhcmx5LiAgSSBoYXZlbid0IHRob3VnaHQgYWJvdXQgdGhhdAogICBlbm91Z2ggdG8gc2F5LgoKSW4gYW55IGNhc2UsIGl0J3MgY2xlYXIgdGhhdCB0aGUgZGVmYXVsdCBmcm9tdXRjKCkgaXMgc3Ryb25nIGVub3VnaCB0byBoYW5kbGUKImFsbW9zdCBhbGwiIHRpbWUgem9uZXM6ICBzbyBsb25nIGFzIHRoZSBzdGFuZGFyZCBvZmZzZXQgaXMgaW52YXJpYW50LCBpdApkb2Vzbid0IG1hdHRlciBpZiBkYXlsaWdodCB0aW1lIHRyYW5zaXRpb24gcG9pbnRzIGNoYW5nZSBmcm9tIHllYXIgdG8geWVhciwgb3IKaWYgZGF5bGlnaHQgdGltZSBpcyBza2lwcGVkIGluIHNvbWUgeWVhcnM7IGl0IGRvZXNuJ3QgbWF0dGVyIGhvdyBsYXJnZSBvcgpzbWFsbCBkc3QoKSBtYXkgZ2V0IHdpdGhpbiBpdHMgYm91bmRzOyBhbmQgaXQgZG9lc24ndCBldmVuIG1hdHRlciBpZiBzb21lCnBlcnZlcnNlIHRpbWUgem9uZSByZXR1cm5zIGEgbmVnYXRpdmUgZHN0KCkpLiAgU28gYSBicmVha2luZyBjYXNlIG11c3QgYmUKcHJldHR5IGJpemFycmUsIGFuZCBhIHR6aW5mbyBzdWJjbGFzcyBjYW4gb3ZlcnJpZGUgZnJvbXV0YygpIGlmIGl0IGlzLgoiIiIKI3RyeToKIyAgICBmcm9tIF9kYXRldGltZSBpbXBvcnQgKgojZXhjZXB0IEltcG9ydEVycm9yOgojICAgIHBhc3MKI2Vsc2U6CiMgICAgIyBDbGVhbiB1cCB1bnVzZWQgbmFtZXMKIyAgIGRlbCAoX0RBWU5BTUVTLCBfREFZU19CRUZPUkVfTU9OVEgsIF9EQVlTX0lOX01PTlRILAojICAgICAgICAgX0RJMTAwWSwgX0RJNDAwWSwgX0RJNFksIF9NQVhPUkRJTkFMLCBfTU9OVEhOQU1FUywKIyAgICAgICAgIF9idWlsZF9zdHJ1Y3RfdGltZSwgX2NhbGxfdHppbmZvX21ldGhvZCwgX2NoZWNrX2RhdGVfZmllbGRzLAojICAgICAgICAgX2NoZWNrX3RpbWVfZmllbGRzLCBfY2hlY2tfdHppbmZvX2FyZywgX2NoZWNrX3R6bmFtZSwKIyAgICAgICAgIF9jaGVja191dGNfb2Zmc2V0LCBfY21wLCBfY21wZXJyb3IsIF9kYXRlX2NsYXNzLCBfZGF5c19iZWZvcmVfbW9udGgsCiMgICAgICAgICBfZGF5c19iZWZvcmVfeWVhciwgX2RheXNfaW5fbW9udGgsIF9mb3JtYXRfdGltZSwgX2lzX2xlYXAsCiMgICAgICAgICBfaXNvd2VlazFtb25kYXksIF9tYXRoLCBfb3JkMnltZCwgX3RpbWUsIF90aW1lX2NsYXNzLCBfdHppbmZvX2NsYXNzLAojICAgICAgICAgX3dyYXBfc3RyZnRpbWUsIF95bWQyb3JkKQogICAgIyBYWFggU2luY2UgaW1wb3J0ICogYWJvdmUgZXhjbHVkZXMgbmFtZXMgdGhhdCBzdGFydCB3aXRoIF8sCiAgICAjIGRvY3N0cmluZyBkb2VzIG5vdCBnZXQgb3ZlcndyaXR0ZW4uIEluIHRoZSBmdXR1cmUsIGl0IG1heSBiZQogICAgIyBhcHByb3ByaWF0ZSB0byBtYWludGFpbiBhIHNpbmdsZSBtb2R1bGUgbGV2ZWwgZG9jc3RyaW5nIGFuZAogICAgIyByZW1vdmUgdGhlIGZvbGxvd2luZyBsaW5lLgojICAgIGZyb20gX2RhdGV0aW1lIGltcG9ydCBfX2RvY19fCg==',
'/Lib/array.py':'I2ltcG9ydCBjZmZpCiNmZmkgPSBjZmZpLkZGSSgpCgp0eXBlY29kZXM9J2JCdWhIaUlsTHFRZmQnCl90eXBlc2l6ZXM9ewogICAgJ2InOiA4LCAgIydzaWduZWQgY2hhcltdJywKICAgICdCJzogOCwgICMndW5zaWduZWQgY2hhcltdJywKICAgICd1JzogMTYsICMgJ3djaGFyW10nLAogICAgJ2gnOiAxNiwgIydzaWduZWQgc2hvcnRbXScsCiAgICAnSCc6IDE2LCAjJ3Vuc2lnbmVkIHNob3J0W10nLAogICAgJ2knOiAzMiwgIydzaWduZWQgaW50W10nLAogICAgJ0knOiAzMiwgIyd1bnNpZ25lZCBpbnRbXScsCiAgICAnbCc6IDY0LCAjJ3NpZ25lZCBsb25nW10nLAogICAgJ0wnOiA2NCwgIyd1bnNpZ25lZCBsb25nW10nLAogICAgJ2YnOiAzMiwgIydmbG9hdFtdJywKICAgICdkJzogNjQsICMnZG91YmxlW10nLAp9CiN0eXBlY29kZXMgPSB7CiMgICAgJ2MnOiAnY2hhcltdJywKIyAgICAnYic6ICdzaWduZWQgY2hhcltdJywKIyAgICAnQic6ICd1bnNpZ25lZCBjaGFyW10nLAojICAgICd1JzogJ3djaGFyW10nLAojICAgICdoJzogJ3NpZ25lZCBzaG9ydFtdJywKIyAgICAnSCc6ICd1bnNpZ25lZCBzaG9ydFtdJywKIyAgICAnaSc6ICdzaWduZWQgaW50W10nLAojICAgICdJJzogJ3Vuc2lnbmVkIGludFtdJywKIyAgICAnbCc6ICdzaWduZWQgbG9uZ1tdJywKIyAgICAnTCc6ICd1bnNpZ25lZCBsb25nW10nLAojICAgICdmJzogJ2Zsb2F0W10nLAojICAgICdkJzogJ2RvdWJsZVtdJywKI30KCgpkZWYgYWxsb2ModHlwZWNvZGUsIHNpemUpOgogICAgdHJ5OgogICAgICAgICNjdHlwZSA9IHR5cGVjb2Rlc1t0eXBlY29kZV0KICAgICAgICBzZWxmLl9pdGVtc2l6ZSA9IF90eXBlc2l6ZXNbdHlwZWNvZGVdCiAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodHlwZWNvZGUsIHN0cik6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcignbXVzdCBiZSBjaGFyLCBub3QgJXMnICUodHlwZSh0eXBlY29kZSkuX19uYW1lX18sKSkKICAgICAgICBpZiBsZW4odHlwZWNvZGUpID4gMToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdtdXN0IGJlIGNoYXIsIG5vdCBzdHInKQogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImJhZCB0eXBlY29kZSAobXVzdCBiZSBjLCBiLCBCLCB1LCBoLCBILCBpLCBJLCBsLCBMLCBmIG9yIGQiKQogICAgcmV0dXJuIFtdICNmZmkubmV3KGN0eXBlLCBzaXplKQoKbWlzc2luZyA9IG9iamVjdCgpCgoKY2xhc3MgYXJyYXkob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdHlwZWNvZGUsIGluaXRpYWxpemVyPW1pc3NpbmcpOgogICAgICAgIHNlbGYudHlwZWNvZGUgPSB0eXBlY29kZQogICAgICAgIHNlbGYuX19sZW4gPSAwCiAgICAgICAgc2VsZi5fX2NhcGFjaXR5ID0gMQogICAgICAgIHNlbGYuX2l0ZW1zaXplPTAKICAgICAgICBzZWxmLl9fZGF0YSA9IGFsbG9jKHR5cGVjb2RlLCAxKQogICAgICAgIGlmIGluaXRpYWxpemVyIGlzIG5vdCBtaXNzaW5nOgogICAgICAgICAgICBzZWxmLmV4dGVuZChpbml0aWFsaXplcikKCiAgICBkZWYgX3JlYWxsb2Moc2VsZiwgbmV3X3NpemUpOgogICAgICAgIGFzc2VydCBuZXdfc2l6ZSA+IHNlbGYuX19sZW4KICAgICAgICBuZXcgPSBhbGxvYyhzZWxmLnR5cGVjb2RlLCBuZXdfc2l6ZSkKICAgICAgICAjWFhYOiBtZW1jb3B5CiAgICAgICAgI1hYWDogZG93bnNpemluZz8KICAgICAgICBmb3IgaSBpbiByYW5nZShzZWxmLl9fbGVuKToKICAgICAgICAgICAgbmV3W2ldID0gc2VsZi5fX2RhdGFbaV0KICAgICAgICBzZWxmLl9fZGF0YSA9IG5ldwogICAgICAgIHNlbGYuX19jYXBhY2l0eSA9IG5ld19zaXplCgogICAgQHByb3BlcnR5CiAgICBkZWYgaXRlbXNpemUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2l0ZW1zaXplCiAgICAgICAgI3JldHVybiBmZmkuc2l6ZW9mKHNlbGYuX19kYXRhKS9sZW4oc2VsZi5fX2RhdGEpCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX19sZW4KCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgICNpZiBpbmRleCA+IHNlbGYuX19sZW46CiAgICAgICAgIyAgICByYWlzZSBJbmRleEVycm9yKGluZGV4KQogICAgICAgIHJldHVybiBzZWxmLl9fZGF0YVtpbmRleF0KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBsZW4oc2VsZikgIT0gbGVuKG90aGVyKToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIGFsbChhID09IGIgZm9yIGEsIGIgaW4gemlwKHNlbGYsIG90aGVyKSkKCiAgICBkZWYgYXBwZW5kKHNlbGYsIGl0ZW0pOgogICAgICAgICNYWFg6IGNoZWNrc2l6ZQogICAgICAgICNpZiBzZWxmLl9fbGVuID09IHNlbGYuX19jYXBhY2l0eToKICAgICAgICAjICAgIHNlbGYuX3JlYWxsb2Moc2VsZi5fX2NhcGFjaXR5KjIpCiAgICAgICAgc2VsZi5fX2RhdGFbc2VsZi5fX2xlbl0gPSBpdGVtCiAgICAgICAgc2VsZi5fX2xlbiArPSAxCgogICAgZGVmIGV4dGVuZChzZWxmLCBpdGVtcyk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgYXJyYXkpIGFuZCBpdGVtcy50eXBlY29kZSE9c2VsZi50eXBlY29kZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yCiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgc3RyKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yCiAgICAgICAgI1hYWDogc3BlZWR1cHMKICAgICAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICAgICAgc2VsZi5hcHBlbmQoaXRlbSkKCiAgICBkZWYgZnJvbWxpc3Qoc2VsZiwgaXRlbXMpOgogICAgICAgIG9sZCA9IHNlbGYuX19sZW4KICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuZXh0ZW5kKGl0ZW1zKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgc2VsZi5fX2xlbiA9IG9sZAogICAgICAgICAgICByYWlzZQoKICAgIGRlZiB0b2xpc3Qoc2VsZik6CiAgICAgICAgcmV0dXJuIGxpc3Qoc2VsZikKCiAgICBkZWYgX3RvYnVmZmVyKHNlbGYpOgogICAgICAgIGZmaS5idWZmZXIoc2VsZi5fX2RhdGEsIHNlbGYuaXRlbXNpemUgKiBzZWxmLl9fbGVuKQoKICAgIGRlZiB0b3N0cmluZyhzZWxmKToKICAgICAgICByZXR1cm4gc3RyKHNlbGYuX3RvYnVmZmVyKCkpCgogICAgZGVmIGZyb21zdHJpbmcoc2VsZiwgZGF0YSk6CiAgICAgICAgI1hYWDogZXhwZW5zaXZlCiAgICAgICAgaWYgbGVuKGRhdGEpICUgc2VsZi5pdGVtc2l6ZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignc3RyaW5nIHNpemUgbm90IGFsaWduZWQgd2l0aCBpdGVtc2l6ZScpCiAgICAgICAgY291bnQgPSBsZW4oZGF0YSkvc2VsZi5pdGVtc2l6ZSAtMSAKICAgICAgICBjaGFyID0gZmZpLm5ldygnY2hhcltdJywgZGF0YSkKICAgICAgICBpdGVtcyA9IGZmaS5jYXN0KHR5cGVjb2Rlc1tzZWxmLnR5cGVjb2RlXS5yZXBsYWNlKCdbXScsICcqJyksIGNoYXIpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoY291bnQpOgogICAgICAgICAgICBzZWxmLmFwcGVuZChpdGVtc1tpXSkKCiAgICBkZWYgZnJvbWZpbGUoc2VsZiwgZnAsIG5ieXRlcz0tMSk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoZnAsIGZpbGUpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2FyZyBtdXN0IGJlIG9wZW4gZmlsZScpCiAgICAgICAgc2VsZi5mcm9tc3RyaW5nKGZwLnJlYWQobmJ5dGVzKSkKCgoKICAgIGRlZiB0b2ZpbGUoc2VsZiwgZnApOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGZwLCBmaWxlKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdhcmcgbXVzdCBiZSBvcGVuIGZpbGUnKQogICAgICAgIGZwLndyaXRlKHNlbGYuX3RvYnVmZmVyKCkpCgogICAgZGVmIF9fYWRkX18oc2VsZiwgb3RoZXIpOgogICAgICAgIG5ldyA9IGFycmF5KHNlbGYudHlwZWNvZGUsIHNlbGYpCiAgICAgICAgbmV3LmV4dGVuZChvdGhlcikKICAgICAgICByZXR1cm4gbmV3CgogICAgZGVmIF9fbXVsX18oc2VsZiwgb3RoZXIpOgogICAgICAgICNYWFggaW50CiAgICAgICAgY29weSA9IGFycmF5KHNlbGYudHlwZWNvZGUpCiAgICAgICAgY29weS5fcmVhbGxvYyhzZWxmLl9fbGVuKm90aGVyKQogICAgICAgIGZvciBpIGluIHJhbmdlKG90aGVyKToKICAgICAgICAgICAgY29weS5leHRlbmQoc2VsZikKCgoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICBpZiBzZWxmLl9fbGVuOgogICAgICAgICAgICAjWFhYOiBleHBlbnNpdmUKICAgICAgICAgICAgcmV0dXJuICdhcnJheSglciwgJXIpJyAlIChzZWxmLnR5cGVjb2RlLCBsaXN0KHNlbGYpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiAnYXJyYXkoJXIpJyAlIChzZWxmLnR5cGVjb2RlLCApCgogICAgZGVmIF9faW11bF9fKHNlbGYsIG51bWJlcik6CiAgICAgICAgZXZpbCA9IGFycmF5LmFycmF5KHNlbGYudHlwZWNvZGUsIHNlbGYpICpudW1iZXIKICAgICAgICBzZWxmLl9fZGF0YSA9IGV2aWwuX19kYXRhCiAgICAgICAgc2VsZi5fX2xlbiA9IGV2aWwuX19sZW4KICAgICAgICBzZWxmLl9fY2FwYWNpdHkgPSBldmlsLl9fY2FwYWNpdHkKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2lhZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgc2VsZi5leHRlbmQob3RoZXIpCiAgICAgICAgcmV0dXJuIHNlbGYK',
'/Lib/traceback.py':'aW1wb3J0IHN5cwpkZWYgcHJpbnRfZXhjKGZpbGU9c3lzLnN0ZGVycik6CiAgICBleGMgPSBfX0JSWVRIT05fXy5leGNlcHRpb25fc3RhY2tbLTFdCiAgICBmaWxlLndyaXRlKGV4Yy5fX25hbWVfXykKICAgIGlmIGV4Yy5tZXNzYWdlOgogICAgICAgIGZpbGUud3JpdGUoJzogJytleGMubWVzc2FnZSkKICAgIGZpbGUud3JpdGUoZXhjLmluZm8pCiAgICBmaWxlLndyaXRlKCdcbicpCg==',
'/Lib/_random.py':'aW1wb3J0IF9vcwpjbGFzcyBSYW5kb206CiAgICAiIiJSYW5kb20gbnVtYmVyIGdlbmVyYXRvciBiYXNlIGNsYXNzIHVzZWQgYnkgYm91bmQgbW9kdWxlIGZ1bmN0aW9ucy4KCiAgICBVc2VkIHRvIGluc3RhbnRpYXRlIGluc3RhbmNlcyBvZiBSYW5kb20gdG8gZ2V0IGdlbmVyYXRvcnMgdGhhdCBkb24ndAogICAgc2hhcmUgc3RhdGUuCgogICAgQ2xhc3MgUmFuZG9tIGNhbiBhbHNvIGJlIHN1YmNsYXNzZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgZGlmZmVyZW50IGJhc2ljCiAgICBnZW5lcmF0b3Igb2YgeW91ciBvd24gZGV2aXNpbmc6IGluIHRoYXQgY2FzZSwgb3ZlcnJpZGUgdGhlIGZvbGxvd2luZwogICAgbWV0aG9kczogIHJhbmRvbSgpLCBzZWVkKCksIGdldHN0YXRlKCksIGFuZCBzZXRzdGF0ZSgpLgogICAgT3B0aW9uYWxseSwgaW1wbGVtZW50IGEgZ2V0cmFuZGJpdHMoKSBtZXRob2Qgc28gdGhhdCByYW5kcmFuZ2UoKQogICAgY2FuIGNvdmVyIGFyYml0cmFyaWx5IGxhcmdlIHJhbmdlcy4KCiAgICAiIiIKICAgICNyYW5kb20KICAgICNzZWVkCiAgICAjZ2V0c3RhdGUKICAgICNzZXRzdGF0ZQoKCiAgICBWRVJTSU9OID0gMyAgICAgIyB1c2VkIGJ5IGdldHN0YXRlL3NldHN0YXRlCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHg9Tm9uZSk6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBhbiBpbnN0YW5jZS4KCiAgICAgICAgT3B0aW9uYWwgYXJndW1lbnQgeCBjb250cm9scyBzZWVkaW5nLCBhcyBmb3IgUmFuZG9tLnNlZWQoKS4KICAgICAgICAiIiIKCiAgICAgICAgc2VsZi5fc3RhdGU9eAoKICAgIGRlZiBzZWVkKHNlbGYsIGE9Tm9uZSwgdmVyc2lvbj0yKToKICAgICAgICAiIiJJbml0aWFsaXplIGludGVybmFsIHN0YXRlIGZyb20gaGFzaGFibGUgb2JqZWN0LgoKICAgICAgICBOb25lIG9yIG5vIGFyZ3VtZW50IHNlZWRzIGZyb20gY3VycmVudCB0aW1lIG9yIGZyb20gYW4gb3BlcmF0aW5nCiAgICAgICAgc3lzdGVtIHNwZWNpZmljIHJhbmRvbW5lc3Mgc291cmNlIGlmIGF2YWlsYWJsZS4KCiAgICAgICAgRm9yIHZlcnNpb24gMiAodGhlIGRlZmF1bHQpLCBhbGwgb2YgdGhlIGJpdHMgYXJlIHVzZWQgaWYgKmEqIGlzIGEgc3RyLAogICAgICAgIGJ5dGVzLCBvciBieXRlYXJyYXkuICBGb3IgdmVyc2lvbiAxLCB0aGUgaGFzaCgpIG9mICphKiBpcyB1c2VkIGluc3RlYWQuCgogICAgICAgIElmICphKiBpcyBhbiBpbnQsIGFsbCBiaXRzIGFyZSB1c2VkLgoKICAgICAgICAiIiIKCiAgICAgICAgc2VsZi5fc3RhdGU9YQogICAgICAgIHNlbGYuZ2F1c3NfbmV4dCA9IE5vbmUKCiAgICBkZWYgZ2V0c3RhdGUoc2VsZik6CiAgICAgICAgIiIiUmV0dXJuIGludGVybmFsIHN0YXRlOyBjYW4gYmUgcGFzc2VkIHRvIHNldHN0YXRlKCkgbGF0ZXIuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N0YXRlCgogICAgZGVmIHNldHN0YXRlKHNlbGYsIHN0YXRlKToKICAgICAgICAiIiJSZXN0b3JlIGludGVybmFsIHN0YXRlIGZyb20gb2JqZWN0IHJldHVybmVkIGJ5IGdldHN0YXRlKCkuIiIiCiAgICAgICAgc2VsZi5fc3RhdGU9c3RhdGUKCiAgICBkZWYgcmFuZG9tKHNlbGYpOgogICAgICAgICIiIkdldCB0aGUgbmV4dCByYW5kb20gbnVtYmVyIGluIHRoZSByYW5nZSBbMC4wLCAxLjApLiIiIgogICAgICAgIHJldHVybiBfb3MucmFuZG9tKCkKCiAgICBkZWYgZ2V0cmFuZGJpdHMoc2VsZiwgayk6CiAgICAgICAgIiIiZ2V0cmFuZGJpdHMoaykgLT4geC4gIEdlbmVyYXRlcyBhIGxvbmcgaW50IHdpdGggayByYW5kb20gYml0cy4iIiIKICAgICAgICBpZiBrIDw9IDA6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ251bWJlciBvZiBiaXRzIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8nKQogICAgICAgIGlmIGsgIT0gaW50KGspOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ251bWJlciBvZiBiaXRzIHNob3VsZCBiZSBhbiBpbnRlZ2VyJykKICAgICAgICBudW1ieXRlcyA9IChrICsgNykgLy8gOCAgICAgICAgICAgICAgICAgICAgICAgIyBiaXRzIC8gOCBhbmQgcm91bmRlZCB1cAogICAgICAgIHggPSBpbnQuZnJvbV9ieXRlcyhfdXJhbmRvbShudW1ieXRlcyksICdiaWcnKQogICAgICAgIHJldHVybiB4ID4+IChudW1ieXRlcyAqIDggLSBrKSAgICAgICAgICAgICAgICAjIHRyaW0gZXhjZXNzIGJpdHMK',
'/Lib/_abcoll1.py':'IyBDb3B5cmlnaHQgMjAwNyBHb29nbGUsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KIyBMaWNlbnNlZCB0byBQU0YgdW5kZXIgYSBDb250cmlidXRvciBBZ3JlZW1lbnQuCgoiIiJBYnN0cmFjdCBCYXNlIENsYXNzZXMgKEFCQ3MpIGZvciBjb2xsZWN0aW9ucywgYWNjb3JkaW5nIHRvIFBFUCAzMTE5LgoKRE9OJ1QgVVNFIFRISVMgTU9EVUxFIERJUkVDVExZISAgVGhlIGNsYXNzZXMgaGVyZSBzaG91bGQgYmUgaW1wb3J0ZWQKdmlhIGNvbGxlY3Rpb25zOyB0aGV5IGFyZSBkZWZpbmVkIGhlcmUgb25seSB0byBhbGxldmlhdGUgY2VydGFpbgpib290c3RyYXBwaW5nIGlzc3Vlcy4gIFVuaXQgdGVzdHMgYXJlIGluIHRlc3RfY29sbGVjdGlvbnMuCiIiIgoKZnJvbSBhYmMgaW1wb3J0IEFCQ01ldGEsIGFic3RyYWN0bWV0aG9kCmltcG9ydCBzeXMKCl9fYWxsX18gPSBbIkhhc2hhYmxlIiwgIkl0ZXJhYmxlIiwgIkl0ZXJhdG9yIiwKICAgICAgICAgICAiU2l6ZWQiLCAiQ29udGFpbmVyIiwgIkNhbGxhYmxlIiwKICAgICAgICAgICAiU2V0IiwgIk11dGFibGVTZXQiLAogICAgICAgICAgICJNYXBwaW5nIiwgIk11dGFibGVNYXBwaW5nIiwKICAgICAgICAgICAiTWFwcGluZ1ZpZXciLCAiS2V5c1ZpZXciLCAiSXRlbXNWaWV3IiwgIlZhbHVlc1ZpZXciLAogICAgICAgICAgICJTZXF1ZW5jZSIsICJNdXRhYmxlU2VxdWVuY2UiLAogICAgICAgICAgICJCeXRlU3RyaW5nIiwKICAgICAgICAgICBdCgoKIyMjIGNvbGxlY3Rpb24gcmVsYXRlZCB0eXBlcyB3aGljaCBhcmUgbm90IGV4cG9zZWQgdGhyb3VnaCBidWlsdGluICMjIwojIyBpdGVyYXRvcnMgIyMKYnl0ZXNfaXRlcmF0b3IgPSB0eXBlKGl0ZXIoYicnKSkKYnl0ZWFycmF5X2l0ZXJhdG9yID0gdHlwZShpdGVyKGJ5dGVhcnJheSgpKSkKI2NhbGxhYmxlX2l0ZXJhdG9yID0gPz8/CmRpY3Rfa2V5aXRlcmF0b3IgPSB0eXBlKGl0ZXIoe30ua2V5cygpKSkKZGljdF92YWx1ZWl0ZXJhdG9yID0gdHlwZShpdGVyKHt9LnZhbHVlcygpKSkKZGljdF9pdGVtaXRlcmF0b3IgPSB0eXBlKGl0ZXIoe30uaXRlbXMoKSkpCmxpc3RfaXRlcmF0b3IgPSB0eXBlKGl0ZXIoW10pKQpsaXN0X3JldmVyc2VpdGVyYXRvciA9IHR5cGUoaXRlcihyZXZlcnNlZChbXSkpKQpyYW5nZV9pdGVyYXRvciA9IHR5cGUoaXRlcihyYW5nZSgwKSkpCnNldF9pdGVyYXRvciA9IHR5cGUoaXRlcihzZXQoKSkpCnN0cl9pdGVyYXRvciA9IHR5cGUoaXRlcigiIikpCnR1cGxlX2l0ZXJhdG9yID0gdHlwZShpdGVyKCgpKSkKemlwX2l0ZXJhdG9yID0gdHlwZShpdGVyKHppcCgpKSkKIyMgdmlld3MgIyMKZGljdF9rZXlzID0gdHlwZSh7fS5rZXlzKCkpCmRpY3RfdmFsdWVzID0gdHlwZSh7fS52YWx1ZXMoKSkKZGljdF9pdGVtcyA9IHR5cGUoe30uaXRlbXMoKSkKIyMgbWlzYyAjIwpkaWN0X3Byb3h5ID0gdHlwZSh0eXBlLl9fZGljdF9fKQoKCiMjIyBPTkUtVFJJQ0sgUE9OSUVTICMjIwoKY2xhc3MgSGFzaGFibGUobWV0YWNsYXNzPUFCQ01ldGEpOgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiAwCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX19zdWJjbGFzc2hvb2tfXyhjbHMsIEMpOgogICAgICAgIGlmIGNscyBpcyBIYXNoYWJsZToKICAgICAgICAgICAgZm9yIEIgaW4gQy5fX21yb19fOgogICAgICAgICAgICAgICAgaWYgIl9faGFzaF9fIiBpbiBCLl9fZGljdF9fOgogICAgICAgICAgICAgICAgICAgIGlmIEIuX19kaWN0X19bIl9faGFzaF9fIl06CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKCgpjbGFzcyBJdGVyYWJsZShtZXRhY2xhc3M9QUJDTWV0YSk6CgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgd2hpbGUgRmFsc2U6CiAgICAgICAgICAgIHlpZWxkIE5vbmUKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfX3N1YmNsYXNzaG9va19fKGNscywgQyk6CiAgICAgICAgaWYgY2xzIGlzIEl0ZXJhYmxlOgogICAgICAgICAgICBpZiBhbnkoIl9faXRlcl9fIiBpbiBCLl9fZGljdF9fIGZvciBCIGluIEMuX19tcm9fXyk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKCmNsYXNzIEl0ZXJhdG9yKEl0ZXJhYmxlKToKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX25leHRfXyhzZWxmKToKICAgICAgICByYWlzZSBTdG9wSXRlcmF0aW9uCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX19zdWJjbGFzc2hvb2tfXyhjbHMsIEMpOgogICAgICAgIGlmIGNscyBpcyBJdGVyYXRvcjoKICAgICAgICAgICAgaWYgKGFueSgiX19uZXh0X18iIGluIEIuX19kaWN0X18gZm9yIEIgaW4gQy5fX21yb19fKSBhbmQKICAgICAgICAgICAgICAgIGFueSgiX19pdGVyX18iIGluIEIuX19kaWN0X18gZm9yIEIgaW4gQy5fX21yb19fKSk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKSXRlcmF0b3IucmVnaXN0ZXIoYnl0ZXNfaXRlcmF0b3IpCkl0ZXJhdG9yLnJlZ2lzdGVyKGJ5dGVhcnJheV9pdGVyYXRvcikKI0l0ZXJhdG9yLnJlZ2lzdGVyKGNhbGxhYmxlX2l0ZXJhdG9yKQpJdGVyYXRvci5yZWdpc3RlcihkaWN0X2tleWl0ZXJhdG9yKQpJdGVyYXRvci5yZWdpc3RlcihkaWN0X3ZhbHVlaXRlcmF0b3IpCkl0ZXJhdG9yLnJlZ2lzdGVyKGRpY3RfaXRlbWl0ZXJhdG9yKQpJdGVyYXRvci5yZWdpc3RlcihsaXN0X2l0ZXJhdG9yKQpJdGVyYXRvci5yZWdpc3RlcihsaXN0X3JldmVyc2VpdGVyYXRvcikKSXRlcmF0b3IucmVnaXN0ZXIocmFuZ2VfaXRlcmF0b3IpCkl0ZXJhdG9yLnJlZ2lzdGVyKHNldF9pdGVyYXRvcikKSXRlcmF0b3IucmVnaXN0ZXIoc3RyX2l0ZXJhdG9yKQpJdGVyYXRvci5yZWdpc3Rlcih0dXBsZV9pdGVyYXRvcikKSXRlcmF0b3IucmVnaXN0ZXIoemlwX2l0ZXJhdG9yKQoKY2xhc3MgU2l6ZWQobWV0YWNsYXNzPUFCQ01ldGEpOgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIDAKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfX3N1YmNsYXNzaG9va19fKGNscywgQyk6CiAgICAgICAgaWYgY2xzIGlzIFNpemVkOgogICAgICAgICAgICBpZiBhbnkoIl9fbGVuX18iIGluIEIuX19kaWN0X18gZm9yIEIgaW4gQy5fX21yb19fKToKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgoKY2xhc3MgQ29udGFpbmVyKG1ldGFjbGFzcz1BQkNNZXRhKToKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX19zdWJjbGFzc2hvb2tfXyhjbHMsIEMpOgogICAgICAgIGlmIGNscyBpcyBDb250YWluZXI6CiAgICAgICAgICAgIGlmIGFueSgiX19jb250YWluc19fIiBpbiBCLl9fZGljdF9fIGZvciBCIGluIEMuX19tcm9fXyk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKCmNsYXNzIENhbGxhYmxlKG1ldGFjbGFzcz1BQkNNZXRhKToKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCAqYXJncywgKiprd2RzKToKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfX3N1YmNsYXNzaG9va19fKGNscywgQyk6CiAgICAgICAgaWYgY2xzIGlzIENhbGxhYmxlOgogICAgICAgICAgICBpZiBhbnkoIl9fY2FsbF9fIiBpbiBCLl9fZGljdF9fIGZvciBCIGluIEMuX19tcm9fXyk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKCiMjIyBTRVRTICMjIwoKCmNsYXNzIFNldChTaXplZCwgSXRlcmFibGUsIENvbnRhaW5lcik6CgogICAgIiIiQSBzZXQgaXMgYSBmaW5pdGUsIGl0ZXJhYmxlIGNvbnRhaW5lci4KCiAgICBUaGlzIGNsYXNzIHByb3ZpZGVzIGNvbmNyZXRlIGdlbmVyaWMgaW1wbGVtZW50YXRpb25zIG9mIGFsbAogICAgbWV0aG9kcyBleGNlcHQgZm9yIF9fY29udGFpbnNfXywgX19pdGVyX18gYW5kIF9fbGVuX18uCgogICAgVG8gb3ZlcnJpZGUgdGhlIGNvbXBhcmlzb25zIChwcmVzdW1hYmx5IGZvciBzcGVlZCwgYXMgdGhlCiAgICBzZW1hbnRpY3MgYXJlIGZpeGVkKSwgYWxsIHlvdSBoYXZlIHRvIGRvIGlzIHJlZGVmaW5lIF9fbGVfXyBhbmQKICAgIHRoZW4gdGhlIG90aGVyIG9wZXJhdGlvbnMgd2lsbCBhdXRvbWF0aWNhbGx5IGZvbGxvdyBzdWl0LgogICAgIiIiCgogICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIFNldCk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGlmIGxlbihzZWxmKSA+IGxlbihvdGhlcik6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIGZvciBlbGVtIGluIHNlbGY6CiAgICAgICAgICAgIGlmIGVsZW0gbm90IGluIG90aGVyOgogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgU2V0KToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgcmV0dXJuIGxlbihzZWxmKSA8IGxlbihvdGhlcikgYW5kIHNlbGYuX19sZV9fKG90aGVyKQoKICAgIGRlZiBfX2d0X18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBTZXQpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICByZXR1cm4gb3RoZXIgPCBzZWxmCgogICAgZGVmIF9fZ2VfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIFNldCk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBvdGhlciA8PSBzZWxmCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIFNldCk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBsZW4oc2VsZikgPT0gbGVuKG90aGVyKSBhbmQgc2VsZi5fX2xlX18ob3RoZXIpCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIG5vdCAoc2VsZiA9PSBvdGhlcikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9pdGVyYWJsZShjbHMsIGl0KToKICAgICAgICAnJydDb25zdHJ1Y3QgYW4gaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZyb20gYW55IGl0ZXJhYmxlIGlucHV0LgoKICAgICAgICBNdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHRoZSBjbGFzcyBjb25zdHJ1Y3RvciBzaWduYXR1cmUKICAgICAgICBkb2VzIG5vdCBhY2NlcHQgYW4gaXRlcmFibGUgZm9yIGFuIGlucHV0LgogICAgICAgICcnJwogICAgICAgIHJldHVybiBjbHMoaXQpCgogICAgZGVmIF9fYW5kX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBJdGVyYWJsZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBzZWxmLl9mcm9tX2l0ZXJhYmxlKHZhbHVlIGZvciB2YWx1ZSBpbiBvdGhlciBpZiB2YWx1ZSBpbiBzZWxmKQoKICAgIGRlZiBpc2Rpc2pvaW50KHNlbGYsIG90aGVyKToKICAgICAgICBmb3IgdmFsdWUgaW4gb3RoZXI6CiAgICAgICAgICAgIGlmIHZhbHVlIGluIHNlbGY6CiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfX29yX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBJdGVyYWJsZSk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIGNoYWluID0gKGUgZm9yIHMgaW4gKHNlbGYsIG90aGVyKSBmb3IgZSBpbiBzKQogICAgICAgIHJldHVybiBzZWxmLl9mcm9tX2l0ZXJhYmxlKGNoYWluKQoKICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgU2V0KToKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIEl0ZXJhYmxlKToKICAgICAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgICAgICBvdGhlciA9IHNlbGYuX2Zyb21faXRlcmFibGUob3RoZXIpCiAgICAgICAgcmV0dXJuIHNlbGYuX2Zyb21faXRlcmFibGUodmFsdWUgZm9yIHZhbHVlIGluIHNlbGYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2YWx1ZSBub3QgaW4gb3RoZXIpCgogICAgZGVmIF9feG9yX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBTZXQpOgogICAgICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgSXRlcmFibGUpOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgICAgIG90aGVyID0gc2VsZi5fZnJvbV9pdGVyYWJsZShvdGhlcikKICAgICAgICByZXR1cm4gKHNlbGYgLSBvdGhlcikgfCAob3RoZXIgLSBzZWxmKQoKICAgIGRlZiBfaGFzaChzZWxmKToKICAgICAgICAiIiJDb21wdXRlIHRoZSBoYXNoIHZhbHVlIG9mIGEgc2V0LgoKICAgICAgICBOb3RlIHRoYXQgd2UgZG9uJ3QgZGVmaW5lIF9faGFzaF9fOiBub3QgYWxsIHNldHMgYXJlIGhhc2hhYmxlLgogICAgICAgIEJ1dCBpZiB5b3UgZGVmaW5lIGEgaGFzaGFibGUgc2V0IHR5cGUsIGl0cyBfX2hhc2hfXyBzaG91bGQKICAgICAgICBjYWxsIHRoaXMgZnVuY3Rpb24uCgogICAgICAgIFRoaXMgbXVzdCBiZSBjb21wYXRpYmxlIF9fZXFfXy4KCiAgICAgICAgQWxsIHNldHMgb3VnaHQgdG8gY29tcGFyZSBlcXVhbCBpZiB0aGV5IGNvbnRhaW4gdGhlIHNhbWUKICAgICAgICBlbGVtZW50cywgcmVnYXJkbGVzcyBvZiBob3cgdGhleSBhcmUgaW1wbGVtZW50ZWQsIGFuZAogICAgICAgIHJlZ2FyZGxlc3Mgb2YgdGhlIG9yZGVyIG9mIHRoZSBlbGVtZW50czsgc28gdGhlcmUncyBub3QgbXVjaAogICAgICAgIGZyZWVkb20gZm9yIF9fZXFfXyBvciBfX2hhc2hfXy4gIFdlIG1hdGNoIHRoZSBhbGdvcml0aG0gdXNlZAogICAgICAgIGJ5IHRoZSBidWlsdC1pbiBmcm96ZW5zZXQgdHlwZS4KICAgICAgICAiIiIKICAgICAgICBNQVggPSBzeXMubWF4c2l6ZQogICAgICAgIE1BU0sgPSAyICogTUFYICsgMQogICAgICAgIG4gPSBsZW4oc2VsZikKICAgICAgICBoID0gMTkyNzg2ODIzNyAqIChuICsgMSkKICAgICAgICBoICY9IE1BU0sKICAgICAgICBmb3IgeCBpbiBzZWxmOgogICAgICAgICAgICBoeCA9IGhhc2goeCkKICAgICAgICAgICAgaCBePSAoaHggXiAoaHggPDwgMTYpIF4gODk4Njk3NDcpICAqIDM2NDQ3OTgxNjcKICAgICAgICAgICAgaCAmPSBNQVNLCiAgICAgICAgaCA9IGggKiA2OTA2OSArIDkwNzEzMzkyMwogICAgICAgIGggJj0gTUFTSwogICAgICAgIGlmIGggPiBNQVg6CiAgICAgICAgICAgIGggLT0gTUFTSyArIDEKICAgICAgICBpZiBoID09IC0xOgogICAgICAgICAgICBoID0gNTkwOTIzNzEzCiAgICAgICAgcmV0dXJuIGgKClNldC5yZWdpc3Rlcihmcm96ZW5zZXQpCgoKY2xhc3MgTXV0YWJsZVNldChTZXQpOgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIGFkZChzZWxmLCB2YWx1ZSk6CiAgICAgICAgIiIiQWRkIGFuIGVsZW1lbnQuIiIiCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIGRpc2NhcmQoc2VsZiwgdmFsdWUpOgogICAgICAgICIiIlJlbW92ZSBhbiBlbGVtZW50LiAgRG8gbm90IHJhaXNlIGFuIGV4Y2VwdGlvbiBpZiBhYnNlbnQuIiIiCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgIGRlZiByZW1vdmUoc2VsZiwgdmFsdWUpOgogICAgICAgICIiIlJlbW92ZSBhbiBlbGVtZW50LiBJZiBub3QgYSBtZW1iZXIsIHJhaXNlIGEgS2V5RXJyb3IuIiIiCiAgICAgICAgaWYgdmFsdWUgbm90IGluIHNlbGY6CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yKHZhbHVlKQogICAgICAgIHNlbGYuZGlzY2FyZCh2YWx1ZSkKCiAgICBkZWYgcG9wKHNlbGYpOgogICAgICAgICIiIlJldHVybiB0aGUgcG9wcGVkIHZhbHVlLiAgUmFpc2UgS2V5RXJyb3IgaWYgZW1wdHkuIiIiCiAgICAgICAgaXQgPSBpdGVyKHNlbGYpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB2YWx1ZSA9IG5leHQoaXQpCiAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb246CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yCiAgICAgICAgc2VsZi5kaXNjYXJkKHZhbHVlKQogICAgICAgIHJldHVybiB2YWx1ZQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICAiIiJUaGlzIGlzIHNsb3cgKGNyZWF0ZXMgTiBuZXcgaXRlcmF0b3JzISkgYnV0IGVmZmVjdGl2ZS4iIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICBzZWxmLnBvcCgpCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBwYXNzCgogICAgZGVmIF9faW9yX18oc2VsZiwgaXQpOgogICAgICAgIGZvciB2YWx1ZSBpbiBpdDoKICAgICAgICAgICAgc2VsZi5hZGQodmFsdWUpCiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19pYW5kX18oc2VsZiwgaXQpOgogICAgICAgIGZvciB2YWx1ZSBpbiAoc2VsZiAtIGl0KToKICAgICAgICAgICAgc2VsZi5kaXNjYXJkKHZhbHVlKQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9faXhvcl9fKHNlbGYsIGl0KToKICAgICAgICBpZiBpdCBpcyBzZWxmOgogICAgICAgICAgICBzZWxmLmNsZWFyKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShpdCwgU2V0KToKICAgICAgICAgICAgICAgIGl0ID0gc2VsZi5fZnJvbV9pdGVyYWJsZShpdCkKICAgICAgICAgICAgZm9yIHZhbHVlIGluIGl0OgogICAgICAgICAgICAgICAgaWYgdmFsdWUgaW4gc2VsZjoKICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc2NhcmQodmFsdWUpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkKHZhbHVlKQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9faXN1Yl9fKHNlbGYsIGl0KToKICAgICAgICBpZiBpdCBpcyBzZWxmOgogICAgICAgICAgICBzZWxmLmNsZWFyKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBmb3IgdmFsdWUgaW4gaXQ6CiAgICAgICAgICAgICAgICBzZWxmLmRpc2NhcmQodmFsdWUpCiAgICAgICAgcmV0dXJuIHNlbGYKCk11dGFibGVTZXQucmVnaXN0ZXIoc2V0KQoKCiMjIyBNQVBQSU5HUyAjIyMKCgpjbGFzcyBNYXBwaW5nKFNpemVkLCBJdGVyYWJsZSwgQ29udGFpbmVyKToKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBrZXkpOgogICAgICAgIHJhaXNlIEtleUVycm9yCgogICAgZGVmIGdldChzZWxmLCBrZXksIGRlZmF1bHQ9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICByZXR1cm4gZGVmYXVsdAoKICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwga2V5KToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGZba2V5XQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYga2V5cyhzZWxmKToKICAgICAgICByZXR1cm4gS2V5c1ZpZXcoc2VsZikKCiAgICBkZWYgaXRlbXMoc2VsZik6CiAgICAgICAgcmV0dXJuIEl0ZW1zVmlldyhzZWxmKQoKICAgIGRlZiB2YWx1ZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIFZhbHVlc1ZpZXcoc2VsZikKCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgTWFwcGluZyk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBkaWN0KHNlbGYuaXRlbXMoKSkgPT0gZGljdChvdGhlci5pdGVtcygpKQoKICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOgogICAgICAgIHJldHVybiBub3QgKHNlbGYgPT0gb3RoZXIpCgoKY2xhc3MgTWFwcGluZ1ZpZXcoU2l6ZWQpOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXBwaW5nKToKICAgICAgICBzZWxmLl9tYXBwaW5nID0gbWFwcGluZwoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBsZW4oc2VsZi5fbWFwcGluZykKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICd7MC5fX2NsYXNzX18uX19uYW1lX199KHswLl9tYXBwaW5nIXJ9KScuZm9ybWF0KHNlbGYpCgoKY2xhc3MgS2V5c1ZpZXcoTWFwcGluZ1ZpZXcsIFNldCk6CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2Zyb21faXRlcmFibGUoc2VsZiwgaXQpOgogICAgICAgIHJldHVybiBzZXQoaXQpCgogICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLCBrZXkpOgogICAgICAgIHJldHVybiBrZXkgaW4gc2VsZi5fbWFwcGluZwoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICBmb3Iga2V5IGluIHNlbGYuX21hcHBpbmc6CiAgICAgICAgICAgIHlpZWxkIGtleQoKS2V5c1ZpZXcucmVnaXN0ZXIoZGljdF9rZXlzKQoKCmNsYXNzIEl0ZW1zVmlldyhNYXBwaW5nVmlldywgU2V0KToKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9pdGVyYWJsZShzZWxmLCBpdCk6CiAgICAgICAgcmV0dXJuIHNldChpdCkKCiAgICBkZWYgX19jb250YWluc19fKHNlbGYsIGl0ZW0pOgogICAgICAgIGtleSwgdmFsdWUgPSBpdGVtCiAgICAgICAgdHJ5OgogICAgICAgICAgICB2ID0gc2VsZi5fbWFwcGluZ1trZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gdiA9PSB2YWx1ZQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICBmb3Iga2V5IGluIHNlbGYuX21hcHBpbmc6CiAgICAgICAgICAgIHlpZWxkIChrZXksIHNlbGYuX21hcHBpbmdba2V5XSkKCkl0ZW1zVmlldy5yZWdpc3RlcihkaWN0X2l0ZW1zKQoKCmNsYXNzIFZhbHVlc1ZpZXcoTWFwcGluZ1ZpZXcpOgoKICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwgdmFsdWUpOgogICAgICAgIGZvciBrZXkgaW4gc2VsZi5fbWFwcGluZzoKICAgICAgICAgICAgaWYgdmFsdWUgPT0gc2VsZi5fbWFwcGluZ1trZXldOgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgZm9yIGtleSBpbiBzZWxmLl9tYXBwaW5nOgogICAgICAgICAgICB5aWVsZCBzZWxmLl9tYXBwaW5nW2tleV0KClZhbHVlc1ZpZXcucmVnaXN0ZXIoZGljdF92YWx1ZXMpCgoKY2xhc3MgTXV0YWJsZU1hcHBpbmcoTWFwcGluZyk6CgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwga2V5LCB2YWx1ZSk6CiAgICAgICAgcmFpc2UgS2V5RXJyb3IKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCBrZXkpOgogICAgICAgIHJhaXNlIEtleUVycm9yCgogICAgX19tYXJrZXIgPSBvYmplY3QoKQoKICAgIGRlZiBwb3Aoc2VsZiwga2V5LCBkZWZhdWx0PV9fbWFya2VyKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHZhbHVlID0gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBpZiBkZWZhdWx0IGlzIHNlbGYuX19tYXJrZXI6CiAgICAgICAgICAgICAgICByYWlzZQogICAgICAgICAgICByZXR1cm4gZGVmYXVsdAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlbCBzZWxmW2tleV0KICAgICAgICAgICAgcmV0dXJuIHZhbHVlCgogICAgZGVmIHBvcGl0ZW0oc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBrZXkgPSBuZXh0KGl0ZXIoc2VsZikpCiAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb246CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yCiAgICAgICAgdmFsdWUgPSBzZWxmW2tleV0KICAgICAgICBkZWwgc2VsZltrZXldCiAgICAgICAgcmV0dXJuIGtleSwgdmFsdWUKCiAgICBkZWYgY2xlYXIoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgc2VsZi5wb3BpdGVtKCkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgdXBkYXRlKCphcmdzLCAqKmt3ZHMpOgogICAgICAgIGlmIGxlbihhcmdzKSA+IDI6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidXBkYXRlKCkgdGFrZXMgYXQgbW9zdCAyIHBvc2l0aW9uYWwgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyAoe30gZ2l2ZW4pIi5mb3JtYXQobGVuKGFyZ3MpKSkKICAgICAgICBlbGlmIG5vdCBhcmdzOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInVwZGF0ZSgpIHRha2VzIGF0IGxlYXN0IDEgYXJndW1lbnQgKDAgZ2l2ZW4pIikKICAgICAgICBzZWxmID0gYXJnc1swXQogICAgICAgIG90aGVyID0gYXJnc1sxXSBpZiBsZW4oYXJncykgPj0gMiBlbHNlICgpCgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIE1hcHBpbmcpOgogICAgICAgICAgICBmb3Iga2V5IGluIG90aGVyOgogICAgICAgICAgICAgICAgc2VsZltrZXldID0gb3RoZXJba2V5XQogICAgICAgIGVsaWYgaGFzYXR0cihvdGhlciwgImtleXMiKToKICAgICAgICAgICAgZm9yIGtleSBpbiBvdGhlci5rZXlzKCk6CiAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSBvdGhlcltrZXldCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gb3RoZXI6CiAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3ZHMuaXRlbXMoKToKICAgICAgICAgICAgc2VsZltrZXldID0gdmFsdWUKCiAgICBkZWYgc2V0ZGVmYXVsdChzZWxmLCBrZXksIGRlZmF1bHQ9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZltrZXldCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICBzZWxmW2tleV0gPSBkZWZhdWx0CiAgICAgICAgcmV0dXJuIGRlZmF1bHQKCk11dGFibGVNYXBwaW5nLnJlZ2lzdGVyKGRpY3QpCgoKIyMjIFNFUVVFTkNFUyAjIyMKCgpjbGFzcyBTZXF1ZW5jZShTaXplZCwgSXRlcmFibGUsIENvbnRhaW5lcik6CgogICAgIiIiQWxsIHRoZSBvcGVyYXRpb25zIG9uIGEgcmVhZC1vbmx5IHNlcXVlbmNlLgoKICAgIENvbmNyZXRlIHN1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSBfX25ld19fIG9yIF9faW5pdF9fLAogICAgX19nZXRpdGVtX18sIGFuZCBfX2xlbl9fLgogICAgIiIiCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaW5kZXgpOgogICAgICAgIHJhaXNlIEluZGV4RXJyb3IKCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgaSA9IDAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICB2ID0gc2VsZltpXQogICAgICAgICAgICAgICAgeWllbGQgdgogICAgICAgICAgICAgICAgaSArPSAxCiAgICAgICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgICAgIHJldHVybgoKICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwgdmFsdWUpOgogICAgICAgIGZvciB2IGluIHNlbGY6CiAgICAgICAgICAgIGlmIHYgPT0gdmFsdWU6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBfX3JldmVyc2VkX18oc2VsZik6CiAgICAgICAgZm9yIGkgaW4gcmV2ZXJzZWQocmFuZ2UobGVuKHNlbGYpKSk6CiAgICAgICAgICAgIHlpZWxkIHNlbGZbaV0KCiAgICBkZWYgaW5kZXgoc2VsZiwgdmFsdWUpOgogICAgICAgIGZvciBpLCB2IGluIGVudW1lcmF0ZShzZWxmKToKICAgICAgICAgICAgaWYgdiA9PSB2YWx1ZToKICAgICAgICAgICAgICAgIHJldHVybiBpCiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcgoKICAgIGRlZiBjb3VudChzZWxmLCB2YWx1ZSk6CiAgICAgICAgcmV0dXJuIHN1bSgxIGZvciB2IGluIHNlbGYgaWYgdiA9PSB2YWx1ZSkKClNlcXVlbmNlLnJlZ2lzdGVyKHR1cGxlKQpTZXF1ZW5jZS5yZWdpc3RlcihzdHIpClNlcXVlbmNlLnJlZ2lzdGVyKHJhbmdlKQoKCmNsYXNzIEJ5dGVTdHJpbmcoU2VxdWVuY2UpOgoKICAgICIiIlRoaXMgdW5pZmllcyBieXRlcyBhbmQgYnl0ZWFycmF5LgoKICAgIFhYWCBTaG91bGQgYWRkIGFsbCB0aGVpciBtZXRob2RzLgogICAgIiIiCgpCeXRlU3RyaW5nLnJlZ2lzdGVyKGJ5dGVzKQpCeXRlU3RyaW5nLnJlZ2lzdGVyKGJ5dGVhcnJheSkKCgpjbGFzcyBNdXRhYmxlU2VxdWVuY2UoU2VxdWVuY2UpOgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGluZGV4LCB2YWx1ZSk6CiAgICAgICAgcmFpc2UgSW5kZXhFcnJvcgoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIF9fZGVsaXRlbV9fKHNlbGYsIGluZGV4KToKICAgICAgICByYWlzZSBJbmRleEVycm9yCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgaW5zZXJ0KHNlbGYsIGluZGV4LCB2YWx1ZSk6CiAgICAgICAgcmFpc2UgSW5kZXhFcnJvcgoKICAgIGRlZiBhcHBlbmQoc2VsZiwgdmFsdWUpOgogICAgICAgIHNlbGYuaW5zZXJ0KGxlbihzZWxmKSwgdmFsdWUpCgogICAgZGVmIHJldmVyc2Uoc2VsZik6CiAgICAgICAgbiA9IGxlbihzZWxmKQogICAgICAgIGZvciBpIGluIHJhbmdlKG4vLzIpOgogICAgICAgICAgICBzZWxmW2ldLCBzZWxmW24taS0xXSA9IHNlbGZbbi1pLTFdLCBzZWxmW2ldCgogICAgZGVmIGV4dGVuZChzZWxmLCB2YWx1ZXMpOgogICAgICAgIGZvciB2IGluIHZhbHVlczoKICAgICAgICAgICAgc2VsZi5hcHBlbmQodikKCiAgICBkZWYgcG9wKHNlbGYsIGluZGV4PS0xKToKICAgICAgICB2ID0gc2VsZltpbmRleF0KICAgICAgICBkZWwgc2VsZltpbmRleF0KICAgICAgICByZXR1cm4gdgoKICAgIGRlZiByZW1vdmUoc2VsZiwgdmFsdWUpOgogICAgICAgIGRlbCBzZWxmW3NlbGYuaW5kZXgodmFsdWUpXQoKICAgIGRlZiBfX2lhZGRfXyhzZWxmLCB2YWx1ZXMpOgogICAgICAgIHNlbGYuZXh0ZW5kKHZhbHVlcykKICAgICAgICByZXR1cm4gc2VsZgoKTXV0YWJsZVNlcXVlbmNlLnJlZ2lzdGVyKGxpc3QpCk11dGFibGVTZXF1ZW5jZS5yZWdpc3RlcihieXRlYXJyYXkpICAjIE11bHRpcGx5IGluaGVyaXRpbmcsIHNlZSBCeXRlU3RyaW5nCg==',
'/Lib/bisect.py':'IiIiQmlzZWN0aW9uIGFsZ29yaXRobXMuIiIiCgpkZWYgaW5zb3J0X3JpZ2h0KGEsIHgsIGxvPTAsIGhpPU5vbmUpOgogICAgIiIiSW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFuZCBrZWVwIGl0IHNvcnRlZCBhc3N1bWluZyBhIGlzIHNvcnRlZC4KCiAgICBJZiB4IGlzIGFscmVhZHkgaW4gYSwgaW5zZXJ0IGl0IHRvIHRoZSByaWdodCBvZiB0aGUgcmlnaHRtb3N0IHguCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgeCA8IGFbbWlkXTogaGkgPSBtaWQKICAgICAgICBlbHNlOiBsbyA9IG1pZCsxCiAgICBhLmluc2VydChsbywgeCkKCmluc29ydCA9IGluc29ydF9yaWdodCAgICMgYmFja3dhcmQgY29tcGF0aWJpbGl0eQoKZGVmIGJpc2VjdF9yaWdodChhLCB4LCBsbz0wLCBoaT1Ob25lKToKICAgICIiIlJldHVybiB0aGUgaW5kZXggd2hlcmUgdG8gaW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFzc3VtaW5nIGEgaXMgc29ydGVkLgoKICAgIFRoZSByZXR1cm4gdmFsdWUgaSBpcyBzdWNoIHRoYXQgYWxsIGUgaW4gYVs6aV0gaGF2ZSBlIDw9IHgsIGFuZCBhbGwgZSBpbgogICAgYVtpOl0gaGF2ZSBlID4geC4gIFNvIGlmIHggYWxyZWFkeSBhcHBlYXJzIGluIHRoZSBsaXN0LCBhLmluc2VydCh4KSB3aWxsCiAgICBpbnNlcnQganVzdCBhZnRlciB0aGUgcmlnaHRtb3N0IHggYWxyZWFkeSB0aGVyZS4KCiAgICBPcHRpb25hbCBhcmdzIGxvIChkZWZhdWx0IDApIGFuZCBoaSAoZGVmYXVsdCBsZW4oYSkpIGJvdW5kIHRoZQogICAgc2xpY2Ugb2YgYSB0byBiZSBzZWFyY2hlZC4KICAgICIiIgoKICAgIGlmIGxvIDwgMDoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdsbyBtdXN0IGJlIG5vbi1uZWdhdGl2ZScpCiAgICBpZiBoaSBpcyBOb25lOgogICAgICAgIGhpID0gbGVuKGEpCiAgICB3aGlsZSBsbyA8IGhpOgogICAgICAgIG1pZCA9IChsbytoaSkvLzIKICAgICAgICBpZiB4IDwgYVttaWRdOiBoaSA9IG1pZAogICAgICAgIGVsc2U6IGxvID0gbWlkKzEKICAgIHJldHVybiBsbwoKYmlzZWN0ID0gYmlzZWN0X3JpZ2h0ICAgIyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5CgpkZWYgaW5zb3J0X2xlZnQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6CiAgICAiIiJJbnNlcnQgaXRlbSB4IGluIGxpc3QgYSwgYW5kIGtlZXAgaXQgc29ydGVkIGFzc3VtaW5nIGEgaXMgc29ydGVkLgoKICAgIElmIHggaXMgYWxyZWFkeSBpbiBhLCBpbnNlcnQgaXQgdG8gdGhlIGxlZnQgb2YgdGhlIGxlZnRtb3N0IHguCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgYVttaWRdIDwgeDogbG8gPSBtaWQrMQogICAgICAgIGVsc2U6IGhpID0gbWlkCiAgICBhLmluc2VydChsbywgeCkKCgpkZWYgYmlzZWN0X2xlZnQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6CiAgICAiIiJSZXR1cm4gdGhlIGluZGV4IHdoZXJlIHRvIGluc2VydCBpdGVtIHggaW4gbGlzdCBhLCBhc3N1bWluZyBhIGlzIHNvcnRlZC4KCiAgICBUaGUgcmV0dXJuIHZhbHVlIGkgaXMgc3VjaCB0aGF0IGFsbCBlIGluIGFbOmldIGhhdmUgZSA8IHgsIGFuZCBhbGwgZSBpbgogICAgYVtpOl0gaGF2ZSBlID49IHguICBTbyBpZiB4IGFscmVhZHkgYXBwZWFycyBpbiB0aGUgbGlzdCwgYS5pbnNlcnQoeCkgd2lsbAogICAgaW5zZXJ0IGp1c3QgYmVmb3JlIHRoZSBsZWZ0bW9zdCB4IGFscmVhZHkgdGhlcmUuCgogICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGUKICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuCiAgICAiIiIKCiAgICBpZiBsbyA8IDA6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignbG8gbXVzdCBiZSBub24tbmVnYXRpdmUnKQogICAgaWYgaGkgaXMgTm9uZToKICAgICAgICBoaSA9IGxlbihhKQogICAgd2hpbGUgbG8gPCBoaToKICAgICAgICBtaWQgPSAobG8raGkpLy8yCiAgICAgICAgaWYgYVttaWRdIDwgeDogbG8gPSBtaWQrMQogICAgICAgIGVsc2U6IGhpID0gbWlkCiAgICByZXR1cm4gbG8KCiMgZG9udCcgbmVlZCB0aGlzIGZvciBicnl0aG9uCiMgT3ZlcndyaXRlIGFib3ZlIGRlZmluaXRpb25zIHdpdGggYSBmYXN0IEMgaW1wbGVtZW50YXRpb24KI3RyeToKIyAgICBmcm9tIF9iaXNlY3QgaW1wb3J0ICoKI2V4Y2VwdCBJbXBvcnRFcnJvcjoKIyAgICBwYXNzCg==',
'/Lib/collections.py':'I19fYWxsX18gPSBbJ2RlcXVlJywgJ2RlZmF1bHRkaWN0JywgJ0NvdW50ZXInXQoKI2Zyb20gX2NvbGxlY3Rpb25zIGltcG9ydCBkZXF1ZSwgZGVmYXVsdGRpY3QKCiNmcm9tIGl0ZXJ0b29scyBpbXBvcnQgcmVwZWF0IGFzIF9yZXBlYXQsIGNoYWluIGFzIF9jaGFpbiwgc3Rhcm1hcCBhcyBfc3Rhcm1hcAoKX19hbGxfXyA9IFsnZGVxdWUnLCAnZGVmYXVsdGRpY3QnLCAnbmFtZWR0dXBsZScsICdVc2VyRGljdCcsICdVc2VyTGlzdCcsCiAgICAgICAgICAgICdVc2VyU3RyaW5nJywgJ0NvdW50ZXInLCAnT3JkZXJlZERpY3QnXQojIEZvciBib290c3RyYXBwaW5nIHJlYXNvbnMsIHRoZSBjb2xsZWN0aW9uIEFCQ3MgYXJlIGRlZmluZWQgaW4gX2FiY29sbC5weS4KIyBUaGV5IHNob3VsZCBob3dldmVyIGJlIGNvbnNpZGVyZWQgYW4gaW50ZWdyYWwgcGFydCBvZiBjb2xsZWN0aW9ucy5weS4KCiMgZml4bWUgYnJ5dGhvbi4uIHRoZXJlIGlzIGFuIGlzc3VlIHdpdGggX2FiY29sbAojZnJvbSBfYWJjb2xsIGltcG9ydCAqCiNmcm9tIF9hYmNvbGwgaW1wb3J0IFNldAojZnJvbSBfYWJjb2xsIGltcG9ydCBNdXRhYmxlTWFwcGluZwojaW1wb3J0IF9hYmNvbGwKI19fYWxsX18gKz0gX2FiY29sbC5fX2FsbF9fCgpmcm9tIF9jb2xsZWN0aW9ucyBpbXBvcnQgZGVxdWUsIGRlZmF1bHRkaWN0CiNmaXhtZSwgYnJ5dGhvbi4gIFRoaXMgY2F1c2VzIGEgUmVmZXJlbmNlRXJyb3I6IGl0ZW1nZXR0ZXIgaXMgbm90IGRlZmluZWQKI2Zyb20gb3BlcmF0b3IgaW1wb3J0IGl0ZW1nZXR0ZXIgYXMgX2l0ZW1nZXR0ZXIKZnJvbSBrZXl3b3JkIGltcG9ydCBpc2tleXdvcmQgYXMgX2lza2V5d29yZAppbXBvcnQgc3lzIGFzIF9zeXMKaW1wb3J0IGhlYXBxIGFzIF9oZWFwcQojZml4bWUgYnJ5dGhvbgojZnJvbSB3ZWFrcmVmIGltcG9ydCBwcm94eSBhcyBfcHJveHkKZnJvbSBpdGVydG9vbHMgaW1wb3J0IHJlcGVhdCBhcyBfcmVwZWF0LCBjaGFpbiBhcyBfY2hhaW4sIHN0YXJtYXAgYXMgX3N0YXJtYXAKI2ZpeG1lIGJyeXRob24gCiNmcm9tIHJlcHJsaWIgaW1wb3J0IHJlY3Vyc2l2ZV9yZXByIGFzIF9yZWN1cnNpdmVfcmVwcgoKY2xhc3MgU2V0KHNldCk6CiAgICBwYXNzCgpjbGFzcyBTZXF1ZW5jZShsaXN0KToKICAgIHBhc3MKCmRlZiBfcHJveHkob2JqKToKICAgIHJldHVybiBvYmoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyBPcmRlcmVkRGljdAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKY2xhc3MgX0xpbmsob2JqZWN0KToKICAgIF9fc2xvdHNfXyA9ICdwcmV2JywgJ25leHQnLCAna2V5JywgJ19fd2Vha3JlZl9fJwoKY2xhc3MgT3JkZXJlZERpY3QoZGljdCk6CiAgICAnRGljdGlvbmFyeSB0aGF0IHJlbWVtYmVycyBpbnNlcnRpb24gb3JkZXInCiAgICAjIEFuIGluaGVyaXRlZCBkaWN0IG1hcHMga2V5cyB0byB2YWx1ZXMuCiAgICAjIFRoZSBpbmhlcml0ZWQgZGljdCBwcm92aWRlcyBfX2dldGl0ZW1fXywgX19sZW5fXywgX19jb250YWluc19fLCBhbmQgZ2V0LgogICAgIyBUaGUgcmVtYWluaW5nIG1ldGhvZHMgYXJlIG9yZGVyLWF3YXJlLgogICAgIyBCaWctTyBydW5uaW5nIHRpbWVzIGZvciBhbGwgbWV0aG9kcyBhcmUgdGhlIHNhbWUgYXMgcmVndWxhciBkaWN0aW9uYXJpZXMuCgogICAgIyBUaGUgaW50ZXJuYWwgc2VsZi5fX21hcCBkaWN0IG1hcHMga2V5cyB0byBsaW5rcyBpbiBhIGRvdWJseSBsaW5rZWQgbGlzdC4KICAgICMgVGhlIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBzdGFydHMgYW5kIGVuZHMgd2l0aCBhIHNlbnRpbmVsIGVsZW1lbnQuCiAgICAjIFRoZSBzZW50aW5lbCBlbGVtZW50IG5ldmVyIGdldHMgZGVsZXRlZCAodGhpcyBzaW1wbGlmaWVzIHRoZSBhbGdvcml0aG0pLgogICAgIyBUaGUgc2VudGluZWwgaXMgaW4gc2VsZi5fX2hhcmRyb290IHdpdGggYSB3ZWFrcmVmIHByb3h5IGluIHNlbGYuX19yb290LgogICAgIyBUaGUgcHJldiBsaW5rcyBhcmUgd2Vha3JlZiBwcm94aWVzICh0byBwcmV2ZW50IGNpcmN1bGFyIHJlZmVyZW5jZXMpLgogICAgIyBJbmRpdmlkdWFsIGxpbmtzIGFyZSBrZXB0IGFsaXZlIGJ5IHRoZSBoYXJkIHJlZmVyZW5jZSBpbiBzZWxmLl9fbWFwLgogICAgIyBUaG9zZSBoYXJkIHJlZmVyZW5jZXMgZGlzYXBwZWFyIHdoZW4gYSBrZXkgaXMgZGVsZXRlZCBmcm9tIGFuIE9yZGVyZWREaWN0LgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2RzKToKICAgICAgICAnJydJbml0aWFsaXplIGFuIG9yZGVyZWQgZGljdGlvbmFyeS4gIFRoZSBzaWduYXR1cmUgaXMgdGhlIHNhbWUgYXMKICAgICAgICByZWd1bGFyIGRpY3Rpb25hcmllcywgYnV0IGtleXdvcmQgYXJndW1lbnRzIGFyZSBub3QgcmVjb21tZW5kZWQgYmVjYXVzZQogICAgICAgIHRoZWlyIGluc2VydGlvbiBvcmRlciBpcyBhcmJpdHJhcnkuCgogICAgICAgICcnJwogICAgICAgIGlmIGxlbihhcmdzKSA+IDE6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcignZXhwZWN0ZWQgYXQgbW9zdCAxIGFyZ3VtZW50cywgZ290ICVkJyAlIGxlbihhcmdzKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuX19yb290CiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICBzZWxmLl9faGFyZHJvb3QgPSBfTGluaygpCiAgICAgICAgICAgIHNlbGYuX19yb290ID0gcm9vdCA9IF9wcm94eShzZWxmLl9faGFyZHJvb3QpCiAgICAgICAgICAgIHJvb3QucHJldiA9IHJvb3QubmV4dCA9IHJvb3QKICAgICAgICAgICAgc2VsZi5fX21hcCA9IHt9CiAgICAgICAgc2VsZi5fX3VwZGF0ZSgqYXJncywgKiprd2RzKQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBrZXksIHZhbHVlLAogICAgICAgICAgICAgICAgICAgIGRpY3Rfc2V0aXRlbT1kaWN0Ll9fc2V0aXRlbV9fLCBwcm94eT1fcHJveHksIExpbms9X0xpbmspOgogICAgICAgICdvZC5fX3NldGl0ZW1fXyhpLCB5KSA8PT0+IG9kW2ldPXknCiAgICAgICAgIyBTZXR0aW5nIGEgbmV3IGl0ZW0gY3JlYXRlcyBhIG5ldyBsaW5rIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmtlZCBsaXN0LAogICAgICAgICMgYW5kIHRoZSBpbmhlcml0ZWQgZGljdGlvbmFyeSBpcyB1cGRhdGVkIHdpdGggdGhlIG5ldyBrZXkvdmFsdWUgcGFpci4KICAgICAgICBpZiBrZXkgbm90IGluIHNlbGY6CiAgICAgICAgICAgIHNlbGYuX19tYXBba2V5XSA9IGxpbmsgPSBMaW5rKCkKICAgICAgICAgICAgcm9vdCA9IHNlbGYuX19yb290CiAgICAgICAgICAgIGxhc3QgPSByb290LnByZXYKICAgICAgICAgICAgbGluay5wcmV2LCBsaW5rLm5leHQsIGxpbmsua2V5ID0gbGFzdCwgcm9vdCwga2V5CiAgICAgICAgICAgIGxhc3QubmV4dCA9IGxpbmsKICAgICAgICAgICAgcm9vdC5wcmV2ID0gcHJveHkobGluaykKICAgICAgICBkaWN0X3NldGl0ZW0oc2VsZiwga2V5LCB2YWx1ZSkKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwga2V5LCBkaWN0X2RlbGl0ZW09ZGljdC5fX2RlbGl0ZW1fXyk6CiAgICAgICAgJ29kLl9fZGVsaXRlbV9fKHkpIDw9PT4gZGVsIG9kW3ldJwogICAgICAgICMgRGVsZXRpbmcgYW4gZXhpc3RpbmcgaXRlbSB1c2VzIHNlbGYuX19tYXAgdG8gZmluZCB0aGUgbGluayB3aGljaCBnZXRzCiAgICAgICAgIyByZW1vdmVkIGJ5IHVwZGF0aW5nIHRoZSBsaW5rcyBpbiB0aGUgcHJlZGVjZXNzb3IgYW5kIHN1Y2Nlc3NvciBub2Rlcy4KICAgICAgICBkaWN0X2RlbGl0ZW0oc2VsZiwga2V5KQogICAgICAgIGxpbmsgPSBzZWxmLl9fbWFwLnBvcChrZXkpCiAgICAgICAgbGlua19wcmV2ID0gbGluay5wcmV2CiAgICAgICAgbGlua19uZXh0ID0gbGluay5uZXh0CiAgICAgICAgbGlua19wcmV2Lm5leHQgPSBsaW5rX25leHQKICAgICAgICBsaW5rX25leHQucHJldiA9IGxpbmtfcHJldgoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICAnb2QuX19pdGVyX18oKSA8PT0+IGl0ZXIob2QpJwogICAgICAgICMgVHJhdmVyc2UgdGhlIGxpbmtlZCBsaXN0IGluIG9yZGVyLgogICAgICAgIHJvb3QgPSBzZWxmLl9fcm9vdAogICAgICAgIGN1cnIgPSByb290Lm5leHQKICAgICAgICB3aGlsZSBjdXJyIGlzIG5vdCByb290OgogICAgICAgICAgICB5aWVsZCBjdXJyLmtleQogICAgICAgICAgICBjdXJyID0gY3Vyci5uZXh0CgogICAgZGVmIF9fcmV2ZXJzZWRfXyhzZWxmKToKICAgICAgICAnb2QuX19yZXZlcnNlZF9fKCkgPD09PiByZXZlcnNlZChvZCknCiAgICAgICAgIyBUcmF2ZXJzZSB0aGUgbGlua2VkIGxpc3QgaW4gcmV2ZXJzZSBvcmRlci4KICAgICAgICByb290ID0gc2VsZi5fX3Jvb3QKICAgICAgICBjdXJyID0gcm9vdC5wcmV2CiAgICAgICAgd2hpbGUgY3VyciBpcyBub3Qgcm9vdDoKICAgICAgICAgICAgeWllbGQgY3Vyci5rZXkKICAgICAgICAgICAgY3VyciA9IGN1cnIucHJldgoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICAnb2QuY2xlYXIoKSAtPiBOb25lLiAgUmVtb3ZlIGFsbCBpdGVtcyBmcm9tIG9kLicKICAgICAgICByb290ID0gc2VsZi5fX3Jvb3QKICAgICAgICByb290LnByZXYgPSByb290Lm5leHQgPSByb290CiAgICAgICAgc2VsZi5fX21hcC5jbGVhcigpCiAgICAgICAgZGljdC5jbGVhcihzZWxmKQoKICAgIGRlZiBwb3BpdGVtKHNlbGYsIGxhc3Q9VHJ1ZSk6CiAgICAgICAgJycnb2QucG9waXRlbSgpIC0+IChrLCB2KSwgcmV0dXJuIGFuZCByZW1vdmUgYSAoa2V5LCB2YWx1ZSkgcGFpci4KICAgICAgICBQYWlycyBhcmUgcmV0dXJuZWQgaW4gTElGTyBvcmRlciBpZiBsYXN0IGlzIHRydWUgb3IgRklGTyBvcmRlciBpZiBmYWxzZS4KCiAgICAgICAgJycnCiAgICAgICAgaWYgbm90IHNlbGY6CiAgICAgICAgICAgIHJhaXNlIEtleUVycm9yKCdkaWN0aW9uYXJ5IGlzIGVtcHR5JykKICAgICAgICByb290ID0gc2VsZi5fX3Jvb3QKICAgICAgICBpZiBsYXN0OgogICAgICAgICAgICBsaW5rID0gcm9vdC5wcmV2CiAgICAgICAgICAgIGxpbmtfcHJldiA9IGxpbmsucHJldgogICAgICAgICAgICBsaW5rX3ByZXYubmV4dCA9IHJvb3QKICAgICAgICAgICAgcm9vdC5wcmV2ID0gbGlua19wcmV2CiAgICAgICAgZWxzZToKICAgICAgICAgICAgbGluayA9IHJvb3QubmV4dAogICAgICAgICAgICBsaW5rX25leHQgPSBsaW5rLm5leHQKICAgICAgICAgICAgcm9vdC5uZXh0ID0gbGlua19uZXh0CiAgICAgICAgICAgIGxpbmtfbmV4dC5wcmV2ID0gcm9vdAogICAgICAgIGtleSA9IGxpbmsua2V5CiAgICAgICAgZGVsIHNlbGYuX19tYXBba2V5XQogICAgICAgIHZhbHVlID0gZGljdC5wb3Aoc2VsZiwga2V5KQogICAgICAgIHJldHVybiBrZXksIHZhbHVlCgogICAgZGVmIG1vdmVfdG9fZW5kKHNlbGYsIGtleSwgbGFzdD1UcnVlKToKICAgICAgICAnJydNb3ZlIGFuIGV4aXN0aW5nIGVsZW1lbnQgdG8gdGhlIGVuZCAob3IgYmVnaW5uaW5nIGlmIGxhc3Q9PUZhbHNlKS4KCiAgICAgICAgUmFpc2VzIEtleUVycm9yIGlmIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LgogICAgICAgIFdoZW4gbGFzdD1UcnVlLCBhY3RzIGxpa2UgYSBmYXN0IHZlcnNpb24gb2Ygc2VsZltrZXldPXNlbGYucG9wKGtleSkuCgogICAgICAgICcnJwogICAgICAgIGxpbmsgPSBzZWxmLl9fbWFwW2tleV0KICAgICAgICBsaW5rX3ByZXYgPSBsaW5rLnByZXYKICAgICAgICBsaW5rX25leHQgPSBsaW5rLm5leHQKICAgICAgICBsaW5rX3ByZXYubmV4dCA9IGxpbmtfbmV4dAogICAgICAgIGxpbmtfbmV4dC5wcmV2ID0gbGlua19wcmV2CiAgICAgICAgcm9vdCA9IHNlbGYuX19yb290CiAgICAgICAgaWYgbGFzdDoKICAgICAgICAgICAgbGFzdCA9IHJvb3QucHJldgogICAgICAgICAgICBsaW5rLnByZXYgPSBsYXN0CiAgICAgICAgICAgIGxpbmsubmV4dCA9IHJvb3QKICAgICAgICAgICAgbGFzdC5uZXh0ID0gcm9vdC5wcmV2ID0gbGluawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZpcnN0ID0gcm9vdC5uZXh0CiAgICAgICAgICAgIGxpbmsucHJldiA9IHJvb3QKICAgICAgICAgICAgbGluay5uZXh0ID0gZmlyc3QKICAgICAgICAgICAgcm9vdC5uZXh0ID0gZmlyc3QucHJldiA9IGxpbmsKCiAgICBkZWYgX19zaXplb2ZfXyhzZWxmKToKICAgICAgICBzaXplb2YgPSBfc3lzLmdldHNpemVvZgogICAgICAgIG4gPSBsZW4oc2VsZikgKyAxICAgICAgICAgICAgICAgICAgICAgICAjIG51bWJlciBvZiBsaW5rcyBpbmNsdWRpbmcgcm9vdAogICAgICAgIHNpemUgPSBzaXplb2Yoc2VsZi5fX2RpY3RfXykgICAgICAgICAgICAjIGluc3RhbmNlIGRpY3Rpb25hcnkKICAgICAgICBzaXplICs9IHNpemVvZihzZWxmLl9fbWFwKSAqIDIgICAgICAgICAgIyBpbnRlcm5hbCBkaWN0IGFuZCBpbmhlcml0ZWQgZGljdAogICAgICAgIHNpemUgKz0gc2l6ZW9mKHNlbGYuX19oYXJkcm9vdCkgKiBuICAgICAjIGxpbmsgb2JqZWN0cwogICAgICAgIHNpemUgKz0gc2l6ZW9mKHNlbGYuX19yb290KSAqIG4gICAgICAgICAjIHByb3h5IG9iamVjdHMKICAgICAgICByZXR1cm4gc2l6ZQoKICAgICNmaXhtZSBicnl0aG9uLi4gIElzc3VlIHdpdGggX2FiY29sbCwgd2hpY2ggY29udGFpbnMgTXV0YWJsZU1hcHBpbmcKICAgICN1cGRhdGUgPSBfX3VwZGF0ZSA9IE11dGFibGVNYXBwaW5nLnVwZGF0ZQogICAgI2tleXMgPSBNdXRhYmxlTWFwcGluZy5rZXlzCiAgICAjdmFsdWVzID0gTXV0YWJsZU1hcHBpbmcudmFsdWVzCiAgICAjaXRlbXMgPSBNdXRhYmxlTWFwcGluZy5pdGVtcwogICAgI19fbmVfXyA9IE11dGFibGVNYXBwaW5nLl9fbmVfXwoKICAgIF9fbWFya2VyID0gb2JqZWN0KCkKCiAgICBkZWYgcG9wKHNlbGYsIGtleSwgZGVmYXVsdD1fX21hcmtlcik6CiAgICAgICAgJycnb2QucG9wKGtbLGRdKSAtPiB2LCByZW1vdmUgc3BlY2lmaWVkIGtleSBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nCiAgICAgICAgdmFsdWUuICBJZiBrZXkgaXMgbm90IGZvdW5kLCBkIGlzIHJldHVybmVkIGlmIGdpdmVuLCBvdGhlcndpc2UgS2V5RXJyb3IKICAgICAgICBpcyByYWlzZWQuCgogICAgICAgICcnJwogICAgICAgIGlmIGtleSBpbiBzZWxmOgogICAgICAgICAgICByZXN1bHQgPSBzZWxmW2tleV0KICAgICAgICAgICAgZGVsIHNlbGZba2V5XQogICAgICAgICAgICByZXR1cm4gcmVzdWx0CiAgICAgICAgaWYgZGVmYXVsdCBpcyBzZWxmLl9fbWFya2VyOgogICAgICAgICAgICByYWlzZSBLZXlFcnJvcihrZXkpCiAgICAgICAgcmV0dXJuIGRlZmF1bHQKCiAgICBkZWYgc2V0ZGVmYXVsdChzZWxmLCBrZXksIGRlZmF1bHQ9Tm9uZSk6CiAgICAgICAgJ29kLnNldGRlZmF1bHQoa1ssZF0pIC0+IG9kLmdldChrLGQpLCBhbHNvIHNldCBvZFtrXT1kIGlmIGsgbm90IGluIG9kJwogICAgICAgIGlmIGtleSBpbiBzZWxmOgogICAgICAgICAgICByZXR1cm4gc2VsZltrZXldCiAgICAgICAgc2VsZltrZXldID0gZGVmYXVsdAogICAgICAgIHJldHVybiBkZWZhdWx0CgogICAgI2ZpeG1lLCBicnl0aG9uIGlzc3VlCiAgICAjQF9yZWN1cnNpdmVfcmVwcigpCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgJ29kLl9fcmVwcl9fKCkgPD09PiByZXByKG9kKScKICAgICAgICBpZiBub3Qgc2VsZjoKICAgICAgICAgICAgcmV0dXJuICclcygpJyAlIChzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywpCiAgICAgICAgcmV0dXJuICclcyglciknICUgKHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBsaXN0KHNlbGYuaXRlbXMoKSkpCgogICAgZGVmIF9fcmVkdWNlX18oc2VsZik6CiAgICAgICAgJ1JldHVybiBzdGF0ZSBpbmZvcm1hdGlvbiBmb3IgcGlja2xpbmcnCiAgICAgICAgaXRlbXMgPSBbW2ssIHNlbGZba11dIGZvciBrIGluIHNlbGZdCiAgICAgICAgaW5zdF9kaWN0ID0gdmFycyhzZWxmKS5jb3B5KCkKICAgICAgICBmb3IgayBpbiB2YXJzKE9yZGVyZWREaWN0KCkpOgogICAgICAgICAgICBpbnN0X2RpY3QucG9wKGssIE5vbmUpCiAgICAgICAgaWYgaW5zdF9kaWN0OgogICAgICAgICAgICByZXR1cm4gKHNlbGYuX19jbGFzc19fLCAoaXRlbXMsKSwgaW5zdF9kaWN0KQogICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXywgKGl0ZW1zLCkKCiAgICBkZWYgY29weShzZWxmKToKICAgICAgICAnb2QuY29weSgpIC0+IGEgc2hhbGxvdyBjb3B5IG9mIG9kJwogICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21rZXlzKGNscywgaXRlcmFibGUsIHZhbHVlPU5vbmUpOgogICAgICAgICcnJ09ELmZyb21rZXlzKFNbLCB2XSkgLT4gTmV3IG9yZGVyZWQgZGljdGlvbmFyeSB3aXRoIGtleXMgZnJvbSBTLgogICAgICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB2YWx1ZSBkZWZhdWx0cyB0byBOb25lLgoKICAgICAgICAnJycKICAgICAgICBzZWxmID0gY2xzKCkKICAgICAgICBmb3Iga2V5IGluIGl0ZXJhYmxlOgogICAgICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgJycnb2QuX19lcV9fKHkpIDw9PT4gb2Q9PXkuICBDb21wYXJpc29uIHRvIGFub3RoZXIgT0QgaXMgb3JkZXItc2Vuc2l0aXZlCiAgICAgICAgd2hpbGUgY29tcGFyaXNvbiB0byBhIHJlZ3VsYXIgbWFwcGluZyBpcyBvcmRlci1pbnNlbnNpdGl2ZS4KCiAgICAgICAgJycnCiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgT3JkZXJlZERpY3QpOgogICAgICAgICAgICByZXR1cm4gbGVuKHNlbGYpPT1sZW4ob3RoZXIpIGFuZCBcCiAgICAgICAgICAgICAgICAgICBhbGwocD09cSBmb3IgcCwgcSBpbiB6aXAoc2VsZi5pdGVtcygpLCBvdGhlci5pdGVtcygpKSkKICAgICAgICByZXR1cm4gZGljdC5fX2VxX18oc2VsZiwgb3RoZXIpCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyAgQ291bnRlcgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpkZWYgX2NvdW50X2VsZW1lbnRzKG1hcHBpbmcsIGl0ZXJhYmxlKToKICAgICdUYWxseSBlbGVtZW50cyBmcm9tIHRoZSBpdGVyYWJsZS4nCiAgICBtYXBwaW5nX2dldCA9IG1hcHBpbmcuZ2V0CiAgICBmb3IgZWxlbSBpbiBpdGVyYWJsZToKICAgICAgICBtYXBwaW5nW2VsZW1dID0gbWFwcGluZ19nZXQoZWxlbSwgMCkgKyAxCgojdHJ5OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTG9hZCBDIGhlbHBlciBmdW5jdGlvbiBpZiBhdmFpbGFibGUKIyAgICBmcm9tIF9jb2xsZWN0aW9ucyBpbXBvcnQgX2NvdW50X2VsZW1lbnRzCiNleGNlcHQgSW1wb3J0RXJyb3I6CiMgICAgcGFzcwoKY2xhc3MgQ291bnRlcihkaWN0KToKICAgICcnJ0RpY3Qgc3ViY2xhc3MgZm9yIGNvdW50aW5nIGhhc2hhYmxlIGl0ZW1zLiAgU29tZXRpbWVzIGNhbGxlZCBhIGJhZwogICAgb3IgbXVsdGlzZXQuICBFbGVtZW50cyBhcmUgc3RvcmVkIGFzIGRpY3Rpb25hcnkga2V5cyBhbmQgdGhlaXIgY291bnRzCiAgICBhcmUgc3RvcmVkIGFzIGRpY3Rpb25hcnkgdmFsdWVzLgoKICAgID4+PiBjID0gQ291bnRlcignYWJjZGVhYmNkYWJjYWJhJykgICMgY291bnQgZWxlbWVudHMgZnJvbSBhIHN0cmluZwoKICAgID4+PiBjLm1vc3RfY29tbW9uKDMpICAgICAgICAgICAgICAgICMgdGhyZWUgbW9zdCBjb21tb24gZWxlbWVudHMKICAgIFsoJ2EnLCA1KSwgKCdiJywgNCksICgnYycsIDMpXQogICAgPj4+IHNvcnRlZChjKSAgICAgICAgICAgICAgICAgICAgICAgIyBsaXN0IGFsbCB1bmlxdWUgZWxlbWVudHMKICAgIFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ10KICAgID4+PiAnJy5qb2luKHNvcnRlZChjLmVsZW1lbnRzKCkpKSAgICMgbGlzdCBlbGVtZW50cyB3aXRoIHJlcGV0aXRpb25zCiAgICAnYWFhYWFiYmJiY2NjZGRlJwogICAgPj4+IHN1bShjLnZhbHVlcygpKSAgICAgICAgICAgICAgICAgIyB0b3RhbCBvZiBhbGwgY291bnRzCiAgICAxNQoKICAgID4+PiBjWydhJ10gICAgICAgICAgICAgICAgICAgICAgICAgICMgY291bnQgb2YgbGV0dGVyICdhJwogICAgNQogICAgPj4+IGZvciBlbGVtIGluICdzaGF6YW0nOiAgICAgICAgICAgIyB1cGRhdGUgY291bnRzIGZyb20gYW4gaXRlcmFibGUKICAgIC4uLiAgICAgY1tlbGVtXSArPSAxICAgICAgICAgICAgICAgICMgYnkgYWRkaW5nIDEgdG8gZWFjaCBlbGVtZW50J3MgY291bnQKICAgID4+PiBjWydhJ10gICAgICAgICAgICAgICAgICAgICAgICAgICMgbm93IHRoZXJlIGFyZSBzZXZlbiAnYScKICAgIDcKICAgID4+PiBkZWwgY1snYiddICAgICAgICAgICAgICAgICAgICAgICMgcmVtb3ZlIGFsbCAnYicKICAgID4+PiBjWydiJ10gICAgICAgICAgICAgICAgICAgICAgICAgICMgbm93IHRoZXJlIGFyZSB6ZXJvICdiJwogICAgMAoKICAgID4+PiBkID0gQ291bnRlcignc2ltc2FsYWJpbScpICAgICAgICMgbWFrZSBhbm90aGVyIGNvdW50ZXIKICAgID4+PiBjLnVwZGF0ZShkKSAgICAgICAgICAgICAgICAgICAgICMgYWRkIGluIHRoZSBzZWNvbmQgY291bnRlcgogICAgPj4+IGNbJ2EnXSAgICAgICAgICAgICAgICAgICAgICAgICAgIyBub3cgdGhlcmUgYXJlIG5pbmUgJ2EnCiAgICA5CgogICAgPj4+IGMuY2xlYXIoKSAgICAgICAgICAgICAgICAgICAgICAgIyBlbXB0eSB0aGUgY291bnRlcgogICAgPj4+IGMKICAgIENvdW50ZXIoKQoKICAgIE5vdGU6ICBJZiBhIGNvdW50IGlzIHNldCB0byB6ZXJvIG9yIHJlZHVjZWQgdG8gemVybywgaXQgd2lsbCByZW1haW4KICAgIGluIHRoZSBjb3VudGVyIHVudGlsIHRoZSBlbnRyeSBpcyBkZWxldGVkIG9yIHRoZSBjb3VudGVyIGlzIGNsZWFyZWQ6CgogICAgPj4+IGMgPSBDb3VudGVyKCdhYWFiYmMnKQogICAgPj4+IGNbJ2InXSAtPSAyICAgICAgICAgICAgICAgICAgICAgIyByZWR1Y2UgdGhlIGNvdW50IG9mICdiJyBieSB0d28KICAgID4+PiBjLm1vc3RfY29tbW9uKCkgICAgICAgICAgICAgICAgICMgJ2InIGlzIHN0aWxsIGluLCBidXQgaXRzIGNvdW50IGlzIHplcm8KICAgIFsoJ2EnLCAzKSwgKCdjJywgMSksICgnYicsIDApXQoKICAgICcnJwogICAgIyBSZWZlcmVuY2VzOgogICAgIyAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTXVsdGlzZXQKICAgICMgICBodHRwOi8vd3d3LmdudS5vcmcvc29mdHdhcmUvc21hbGx0YWxrL21hbnVhbC1iYXNlL2h0bWxfbm9kZS9CYWcuaHRtbAogICAgIyAgIGh0dHA6Ly93d3cuZGVtbzJzLmNvbS9UdXRvcmlhbC9DcHAvMDM4MF9fc2V0LW11bHRpc2V0L0NhdGFsb2cwMzgwX19zZXQtbXVsdGlzZXQuaHRtCiAgICAjICAgaHR0cDovL2NvZGUuYWN0aXZlc3RhdGUuY29tL3JlY2lwZXMvMjU5MTc0LwogICAgIyAgIEtudXRoLCBUQU9DUCBWb2wuIElJIHNlY3Rpb24gNC42LjMKCiAgICBkZWYgX19pbml0X18oc2VsZiwgaXRlcmFibGU9Tm9uZSwgKiprd2RzKToKICAgICAgICAnJydDcmVhdGUgYSBuZXcsIGVtcHR5IENvdW50ZXIgb2JqZWN0LiAgQW5kIGlmIGdpdmVuLCBjb3VudCBlbGVtZW50cwogICAgICAgIGZyb20gYW4gaW5wdXQgaXRlcmFibGUuICBPciwgaW5pdGlhbGl6ZSB0aGUgY291bnQgZnJvbSBhbm90aGVyIG1hcHBpbmcKICAgICAgICBvZiBlbGVtZW50cyB0byB0aGVpciBjb3VudHMuCgogICAgICAgID4+PiBjID0gQ291bnRlcigpICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBhIG5ldywgZW1wdHkgY291bnRlcgogICAgICAgID4+PiBjID0gQ291bnRlcignZ2FsbGFoYWQnKSAgICAgICAgICAgICAgICAgIyBhIG5ldyBjb3VudGVyIGZyb20gYW4gaXRlcmFibGUKICAgICAgICA+Pj4gYyA9IENvdW50ZXIoeydhJzogNCwgJ2InOiAyfSkgICAgICAgICAgICMgYSBuZXcgY291bnRlciBmcm9tIGEgbWFwcGluZwogICAgICAgID4+PiBjID0gQ291bnRlcihhPTQsIGI9MikgICAgICAgICAgICAgICAgICAgIyBhIG5ldyBjb3VudGVyIGZyb20ga2V5d29yZCBhcmdzCgogICAgICAgICcnJwogICAgICAgICNzdXBlcigpLl9faW5pdF9fKCkgICNCRSBtb2RpZmllZCBzaW5jZSBzdXBlciBub3Qgc3VwcG9ydGVkCiAgICAgICAgZGljdC5fX2luaXRfXyhzZWxmKQogICAgICAgIHNlbGYudXBkYXRlKGl0ZXJhYmxlLCAqKmt3ZHMpCgogICAgZGVmIF9fbWlzc2luZ19fKHNlbGYsIGtleSk6CiAgICAgICAgJ1RoZSBjb3VudCBvZiBlbGVtZW50cyBub3QgaW4gdGhlIENvdW50ZXIgaXMgemVyby4nCiAgICAgICAgIyBOZWVkZWQgc28gdGhhdCBzZWxmW21pc3NpbmdfaXRlbV0gZG9lcyBub3QgcmFpc2UgS2V5RXJyb3IKICAgICAgICByZXR1cm4gMAoKICAgIGRlZiBtb3N0X2NvbW1vbihzZWxmLCBuPU5vbmUpOgogICAgICAgICcnJ0xpc3QgdGhlIG4gbW9zdCBjb21tb24gZWxlbWVudHMgYW5kIHRoZWlyIGNvdW50cyBmcm9tIHRoZSBtb3N0CiAgICAgICAgY29tbW9uIHRvIHRoZSBsZWFzdC4gIElmIG4gaXMgTm9uZSwgdGhlbiBsaXN0IGFsbCBlbGVtZW50IGNvdW50cy4KCiAgICAgICAgPj4+IENvdW50ZXIoJ2FiY2RlYWJjZGFiY2FiYScpLm1vc3RfY29tbW9uKDMpCiAgICAgICAgWygnYScsIDUpLCAoJ2InLCA0KSwgKCdjJywgMyldCgogICAgICAgICcnJwogICAgICAgICMgRW11bGF0ZSBCYWcuc29ydGVkQnlDb3VudCBmcm9tIFNtYWxsdGFsawogICAgICAgIGlmIG4gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNvcnRlZChzZWxmLml0ZW1zKCksIGtleT1faXRlbWdldHRlcigxKSwgcmV2ZXJzZT1UcnVlKQogICAgICAgIHJldHVybiBfaGVhcHEubmxhcmdlc3Qobiwgc2VsZi5pdGVtcygpLCBrZXk9X2l0ZW1nZXR0ZXIoMSkpCgogICAgZGVmIGVsZW1lbnRzKHNlbGYpOgogICAgICAgICcnJ0l0ZXJhdG9yIG92ZXIgZWxlbWVudHMgcmVwZWF0aW5nIGVhY2ggYXMgbWFueSB0aW1lcyBhcyBpdHMgY291bnQuCgogICAgICAgID4+PiBjID0gQ291bnRlcignQUJDQUJDJykKICAgICAgICA+Pj4gc29ydGVkKGMuZWxlbWVudHMoKSkKICAgICAgICBbJ0EnLCAnQScsICdCJywgJ0InLCAnQycsICdDJ10KCiAgICAgICAgIyBLbnV0aCdzIGV4YW1wbGUgZm9yIHByaW1lIGZhY3RvcnMgb2YgMTgzNjogIDIqKjIgKiAzKiozICogMTcqKjEKICAgICAgICA+Pj4gcHJpbWVfZmFjdG9ycyA9IENvdW50ZXIoezI6IDIsIDM6IDMsIDE3OiAxfSkKICAgICAgICA+Pj4gcHJvZHVjdCA9IDEKICAgICAgICA+Pj4gZm9yIGZhY3RvciBpbiBwcmltZV9mYWN0b3JzLmVsZW1lbnRzKCk6ICAgICAjIGxvb3Agb3ZlciBmYWN0b3JzCiAgICAgICAgLi4uICAgICBwcm9kdWN0ICo9IGZhY3RvciAgICAgICAgICAgICAgICAgICAgICAgIyBhbmQgbXVsdGlwbHkgdGhlbQogICAgICAgID4+PiBwcm9kdWN0CiAgICAgICAgMTgzNgoKICAgICAgICBOb3RlLCBpZiBhbiBlbGVtZW50J3MgY291bnQgaGFzIGJlZW4gc2V0IHRvIHplcm8gb3IgaXMgYSBuZWdhdGl2ZQogICAgICAgIG51bWJlciwgZWxlbWVudHMoKSB3aWxsIGlnbm9yZSBpdC4KCiAgICAgICAgJycnCiAgICAgICAgIyBFbXVsYXRlIEJhZy5kbyBmcm9tIFNtYWxsdGFsayBhbmQgTXVsdGlzZXQuYmVnaW4gZnJvbSBDKysuCiAgICAgICAgcmV0dXJuIF9jaGFpbi5mcm9tX2l0ZXJhYmxlKF9zdGFybWFwKF9yZXBlYXQsIHNlbGYuaXRlbXMoKSkpCgogICAgIyBPdmVycmlkZSBkaWN0IG1ldGhvZHMgd2hlcmUgbmVjZXNzYXJ5CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbWtleXMoY2xzLCBpdGVyYWJsZSwgdj1Ob25lKToKICAgICAgICAjIFRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgbWV0aG9kIGZvciBjb3VudGVycyBiZWNhdXNlIHNldHRpbmcgdj0xCiAgICAgICAgIyBtZWFucyB0aGF0IG5vIGVsZW1lbnQgY2FuIGhhdmUgYSBjb3VudCBncmVhdGVyIHRoYW4gb25lLgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoCiAgICAgICAgICAgICdDb3VudGVyLmZyb21rZXlzKCkgaXMgdW5kZWZpbmVkLiAgVXNlIENvdW50ZXIoaXRlcmFibGUpIGluc3RlYWQuJykKCiAgICBkZWYgdXBkYXRlKHNlbGYsIGl0ZXJhYmxlPU5vbmUsICoqa3dkcyk6CiAgICAgICAgJycnTGlrZSBkaWN0LnVwZGF0ZSgpIGJ1dCBhZGQgY291bnRzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW0uCgogICAgICAgIFNvdXJjZSBjYW4gYmUgYW4gaXRlcmFibGUsIGEgZGljdGlvbmFyeSwgb3IgYW5vdGhlciBDb3VudGVyIGluc3RhbmNlLgoKICAgICAgICA+Pj4gYyA9IENvdW50ZXIoJ3doaWNoJykKICAgICAgICA+Pj4gYy51cGRhdGUoJ3dpdGNoJykgICAgICAgICAgICMgYWRkIGVsZW1lbnRzIGZyb20gYW5vdGhlciBpdGVyYWJsZQogICAgICAgID4+PiBkID0gQ291bnRlcignd2F0Y2gnKQogICAgICAgID4+PiBjLnVwZGF0ZShkKSAgICAgICAgICAgICAgICAgIyBhZGQgZWxlbWVudHMgZnJvbSBhbm90aGVyIGNvdW50ZXIKICAgICAgICA+Pj4gY1snaCddICAgICAgICAgICAgICAgICAgICAgICMgZm91ciAnaCcgaW4gd2hpY2gsIHdpdGNoLCBhbmQgd2F0Y2gKICAgICAgICA0CgogICAgICAgICcnJwogICAgICAgICMgVGhlIHJlZ3VsYXIgZGljdC51cGRhdGUoKSBvcGVyYXRpb24gbWFrZXMgbm8gc2Vuc2UgaGVyZSBiZWNhdXNlIHRoZQogICAgICAgICMgcmVwbGFjZSBiZWhhdmlvciByZXN1bHRzIGluIHRoZSBzb21lIG9mIG9yaWdpbmFsIHVudG91Y2hlZCBjb3VudHMKICAgICAgICAjIGJlaW5nIG1peGVkLWluIHdpdGggYWxsIG9mIHRoZSBvdGhlciBjb3VudHMgZm9yIGEgbWlzbWFzaCB0aGF0CiAgICAgICAgIyBkb2Vzbid0IGhhdmUgYSBzdHJhaWdodC1mb3J3YXJkIGludGVycHJldGF0aW9uIGluIG1vc3QgY291bnRpbmcKICAgICAgICAjIGNvbnRleHRzLiAgSW5zdGVhZCwgd2UgaW1wbGVtZW50IHN0cmFpZ2h0LWFkZGl0aW9uLiAgQm90aCB0aGUgaW5wdXRzCiAgICAgICAgIyBhbmQgb3V0cHV0cyBhcmUgYWxsb3dlZCB0byBjb250YWluIHplcm8gYW5kIG5lZ2F0aXZlIGNvdW50cy4KCiAgICAgICAgaWYgaXRlcmFibGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoaXRlcmFibGUsIE1hcHBpbmcpOgogICAgICAgICAgICAgICAgaWYgc2VsZjoKICAgICAgICAgICAgICAgICAgICBzZWxmX2dldCA9IHNlbGYuZ2V0CiAgICAgICAgICAgICAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIGl0ZXJhYmxlLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGZbZWxlbV0gPSBjb3VudCArIHNlbGZfZ2V0KGVsZW0sIDApCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHN1cGVyKCkudXBkYXRlKGl0ZXJhYmxlKSAjIGZhc3QgcGF0aCB3aGVuIGNvdW50ZXIgaXMgZW1wdHkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIF9jb3VudF9lbGVtZW50cyhzZWxmLCBpdGVyYWJsZSkKICAgICAgICBpZiBrd2RzOgogICAgICAgICAgICBzZWxmLnVwZGF0ZShrd2RzKQoKICAgIGRlZiBzdWJ0cmFjdChzZWxmLCBpdGVyYWJsZT1Ob25lLCAqKmt3ZHMpOgogICAgICAgICcnJ0xpa2UgZGljdC51cGRhdGUoKSBidXQgc3VidHJhY3RzIGNvdW50cyBpbnN0ZWFkIG9mIHJlcGxhY2luZyB0aGVtLgogICAgICAgIENvdW50cyBjYW4gYmUgcmVkdWNlZCBiZWxvdyB6ZXJvLiAgQm90aCB0aGUgaW5wdXRzIGFuZCBvdXRwdXRzIGFyZQogICAgICAgIGFsbG93ZWQgdG8gY29udGFpbiB6ZXJvIGFuZCBuZWdhdGl2ZSBjb3VudHMuCgogICAgICAgIFNvdXJjZSBjYW4gYmUgYW4gaXRlcmFibGUsIGEgZGljdGlvbmFyeSwgb3IgYW5vdGhlciBDb3VudGVyIGluc3RhbmNlLgoKICAgICAgICA+Pj4gYyA9IENvdW50ZXIoJ3doaWNoJykKICAgICAgICA+Pj4gYy5zdWJ0cmFjdCgnd2l0Y2gnKSAgICAgICAgICAgICAjIHN1YnRyYWN0IGVsZW1lbnRzIGZyb20gYW5vdGhlciBpdGVyYWJsZQogICAgICAgID4+PiBjLnN1YnRyYWN0KENvdW50ZXIoJ3dhdGNoJykpICAgICMgc3VidHJhY3QgZWxlbWVudHMgZnJvbSBhbm90aGVyIGNvdW50ZXIKICAgICAgICA+Pj4gY1snaCddICAgICAgICAgICAgICAgICAgICAgICAgICAjIDIgaW4gd2hpY2gsIG1pbnVzIDEgaW4gd2l0Y2gsIG1pbnVzIDEgaW4gd2F0Y2gKICAgICAgICAwCiAgICAgICAgPj4+IGNbJ3cnXSAgICAgICAgICAgICAgICAgICAgICAgICAgIyAxIGluIHdoaWNoLCBtaW51cyAxIGluIHdpdGNoLCBtaW51cyAxIGluIHdhdGNoCiAgICAgICAgLTEKCiAgICAgICAgJycnCiAgICAgICAgaWYgaXRlcmFibGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGZfZ2V0ID0gc2VsZi5nZXQKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVyYWJsZSwgTWFwcGluZyk6CiAgICAgICAgICAgICAgICBmb3IgZWxlbSwgY291bnQgaW4gaXRlcmFibGUuaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICBzZWxmW2VsZW1dID0gc2VsZl9nZXQoZWxlbSwgMCkgLSBjb3VudAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZm9yIGVsZW0gaW4gaXRlcmFibGU6CiAgICAgICAgICAgICAgICAgICAgc2VsZltlbGVtXSA9IHNlbGZfZ2V0KGVsZW0sIDApIC0gMQogICAgICAgIGlmIGt3ZHM6CiAgICAgICAgICAgIHNlbGYuc3VidHJhY3Qoa3dkcykKCiAgICBkZWYgY29weShzZWxmKToKICAgICAgICAnUmV0dXJuIGEgc2hhbGxvdyBjb3B5LicKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZikKCiAgICBkZWYgX19yZWR1Y2VfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18sIChkaWN0KHNlbGYpLCkKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgZWxlbSk6CiAgICAgICAgJ0xpa2UgZGljdC5fX2RlbGl0ZW1fXygpIGJ1dCBkb2VzIG5vdCByYWlzZSBLZXlFcnJvciBmb3IgbWlzc2luZyB2YWx1ZXMuJwogICAgICAgIGlmIGVsZW0gaW4gc2VsZjoKICAgICAgICAgICAgc3VwZXIoKS5fX2RlbGl0ZW1fXyhlbGVtKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZjoKICAgICAgICAgICAgcmV0dXJuICclcygpJyAlIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpdGVtcyA9ICcsICcuam9pbihtYXAoJyVyOiAlcicuX19tb2RfXywgc2VsZi5tb3N0X2NvbW1vbigpKSkKICAgICAgICAgICAgcmV0dXJuICclcyh7JXN9KScgJSAoc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIGl0ZW1zKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICMgaGFuZGxlIGNhc2Ugd2hlcmUgdmFsdWVzIGFyZSBub3Qgb3JkZXJhYmxlCiAgICAgICAgICAgIHJldHVybiAnezB9KHsxIXJ9KScuZm9ybWF0KHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBkaWN0KHNlbGYpKQoKICAgICMgTXVsdGlzZXQtc3R5bGUgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgZGlzY3Vzc2VkIGluOgogICAgIyAgICAgICBLbnV0aCBUQU9DUCBWb2x1bWUgSUkgc2VjdGlvbiA0LjYuMyBleGVyY2lzZSAxOQogICAgIyAgICAgICBhbmQgYXQgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NdWx0aXNldAogICAgIwogICAgIyBPdXRwdXRzIGd1YXJhbnRlZWQgdG8gb25seSBpbmNsdWRlIHBvc2l0aXZlIGNvdW50cy4KICAgICMKICAgICMgVG8gc3RyaXAgbmVnYXRpdmUgYW5kIHplcm8gY291bnRzLCBhZGQtaW4gYW4gZW1wdHkgY291bnRlcjoKICAgICMgICAgICAgYyArPSBDb3VudGVyKCkKCiAgICBkZWYgX19hZGRfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgJycnQWRkIGNvdW50cyBmcm9tIHR3byBjb3VudGVycy4KCiAgICAgICAgPj4+IENvdW50ZXIoJ2FiYmInKSArIENvdW50ZXIoJ2JjYycpCiAgICAgICAgQ291bnRlcih7J2InOiA0LCAnYyc6IDIsICdhJzogMX0pCgogICAgICAgICcnJwogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBDb3VudGVyKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgcmVzdWx0ID0gQ291bnRlcigpCiAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIHNlbGYuaXRlbXMoKToKICAgICAgICAgICAgbmV3Y291bnQgPSBjb3VudCArIG90aGVyW2VsZW1dCiAgICAgICAgICAgIGlmIG5ld2NvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IG5ld2NvdW50CiAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIG90aGVyLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGVsZW0gbm90IGluIHNlbGYgYW5kIGNvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IGNvdW50CiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKToKICAgICAgICAnJycgU3VidHJhY3QgY291bnQsIGJ1dCBrZWVwIG9ubHkgcmVzdWx0cyB3aXRoIHBvc2l0aXZlIGNvdW50cy4KCiAgICAgICAgPj4+IENvdW50ZXIoJ2FiYmJjJykgLSBDb3VudGVyKCdiY2NkJykKICAgICAgICBDb3VudGVyKHsnYic6IDIsICdhJzogMX0pCgogICAgICAgICcnJwogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBDb3VudGVyKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgcmVzdWx0ID0gQ291bnRlcigpCiAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIHNlbGYuaXRlbXMoKToKICAgICAgICAgICAgbmV3Y291bnQgPSBjb3VudCAtIG90aGVyW2VsZW1dCiAgICAgICAgICAgIGlmIG5ld2NvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IG5ld2NvdW50CiAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIG90aGVyLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGVsZW0gbm90IGluIHNlbGYgYW5kIGNvdW50IDwgMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IDAgLSBjb3VudAogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgX19vcl9fKHNlbGYsIG90aGVyKToKICAgICAgICAnJydVbmlvbiBpcyB0aGUgbWF4aW11bSBvZiB2YWx1ZSBpbiBlaXRoZXIgb2YgdGhlIGlucHV0IGNvdW50ZXJzLgoKICAgICAgICA+Pj4gQ291bnRlcignYWJiYicpIHwgQ291bnRlcignYmNjJykKICAgICAgICBDb3VudGVyKHsnYic6IDMsICdjJzogMiwgJ2EnOiAxfSkKCiAgICAgICAgJycnCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIENvdW50ZXIpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICByZXN1bHQgPSBDb3VudGVyKCkKICAgICAgICBmb3IgZWxlbSwgY291bnQgaW4gc2VsZi5pdGVtcygpOgogICAgICAgICAgICBvdGhlcl9jb3VudCA9IG90aGVyW2VsZW1dCiAgICAgICAgICAgIG5ld2NvdW50ID0gb3RoZXJfY291bnQgaWYgY291bnQgPCBvdGhlcl9jb3VudCBlbHNlIGNvdW50CiAgICAgICAgICAgIGlmIG5ld2NvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IG5ld2NvdW50CiAgICAgICAgZm9yIGVsZW0sIGNvdW50IGluIG90aGVyLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGVsZW0gbm90IGluIHNlbGYgYW5kIGNvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IGNvdW50CiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBfX2FuZF9fKHNlbGYsIG90aGVyKToKICAgICAgICAnJycgSW50ZXJzZWN0aW9uIGlzIHRoZSBtaW5pbXVtIG9mIGNvcnJlc3BvbmRpbmcgY291bnRzLgogICAgCiAgICAgICAgPj4+IENvdW50ZXIoJ2FiYmInKSAmIENvdW50ZXIoJ2JjYycpCiAgICAgICAgQ291bnRlcih7J2InOiAxfSkKCiAgICAgICAgJycnCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIENvdW50ZXIpOgogICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWQKICAgICAgICByZXN1bHQgPSBDb3VudGVyKCkKICAgICAgICBmb3IgZWxlbSwgY291bnQgaW4gc2VsZi5pdGVtcygpOgogICAgICAgICAgICBvdGhlcl9jb3VudCA9IG90aGVyW2VsZW1dCiAgICAgICAgICAgIG5ld2NvdW50ID0gY291bnQgaWYgY291bnQgPCBvdGhlcl9jb3VudCBlbHNlIG90aGVyX2NvdW50CiAgICAgICAgICAgIGlmIG5ld2NvdW50ID4gMDoKICAgICAgICAgICAgICAgIHJlc3VsdFtlbGVtXSA9IG5ld2NvdW50CiAgICAgICAgcmV0dXJuIHJlc3VsdAoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMgIENoYWluTWFwIChoZWxwZXIgZm9yIGNvbmZpZ3BhcnNlcikKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojY2xhc3MgX0NoYWluTWFwKE11dGFibGVNYXBwaW5nKToKIyAgICAnJycgQSBDaGFpbk1hcCBncm91cHMgbXVsdGlwbGUgZGljdHMgKG9yIG90aGVyIG1hcHBpbmdzKSB0b2dldGhlcgojICAgIHRvIGNyZWF0ZSBhIHNpbmdsZSwgdXBkYXRlYWJsZSB2aWV3LgoKIyAgICBUaGUgdW5kZXJseWluZyBtYXBwaW5ncyBhcmUgc3RvcmVkIGluIGEgbGlzdC4gIFRoYXQgbGlzdCBpcyBwdWJsaWMgYW5kIGNhbgojICAgIGFjY2Vzc2VkIG9yIHVwZGF0ZWQgdXNpbmcgdGhlICptYXBzKiBhdHRyaWJ1dGUuICBUaGVyZSBpcyBubyBvdGhlciBzdGF0ZS4KCiMgICAgTG9va3VwcyBzZWFyY2ggdGhlIHVuZGVybHlpbmcgbWFwcGluZ3Mgc3VjY2Vzc2l2ZWx5IHVudGlsIGEga2V5IGlzIGZvdW5kLgojICAgIEluIGNvbnRyYXN0LCB3cml0ZXMsIHVwZGF0ZXMsIGFuZCBkZWxldGlvbnMgb25seSBvcGVyYXRlIG9uIHRoZSBmaXJzdAojICAgIG1hcHBpbmcuCiMKIyAgICAnJycKCiMgICAgZGVmIF9faW5pdF9fKHNlbGYsICptYXBzKToKIyAgICAgICAgJycnSW5pdGlhbGl6ZSBhIENoYWluTWFwIGJ5IHNldHRpbmcgKm1hcHMqIHRvIHRoZSBnaXZlbiBtYXBwaW5ncy4KIyAgICAgICAgSWYgbm8gbWFwcGluZ3MgYXJlIHByb3ZpZGVkLCBhIHNpbmdsZSBlbXB0eSBkaWN0aW9uYXJ5IGlzIHVzZWQuCiMKIyAgICAgICAgJycnCiMgICAgICAgIHNlbGYubWFwcyA9IGxpc3QobWFwcykgb3IgW3t9XSAgICAgICAgICAjIGFsd2F5cyBhdCBsZWFzdCBvbmUgbWFwCgojICAgIGRlZiBfX21pc3NpbmdfXyhzZWxmLCBrZXkpOgojICAgICAgICByYWlzZSBLZXlFcnJvcihrZXkpCgojICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBrZXkpOgojICAgICAgICBmb3IgbWFwcGluZyBpbiBzZWxmLm1hcHM6CiMgICAgICAgICAgICB0cnk6CiMgICAgICAgICAgICAgICAgcmV0dXJuIG1hcHBpbmdba2V5XSAgICAgICAgICAgICAjIGNhbid0IHVzZSAna2V5IGluIG1hcHBpbmcnIHdpdGggZGVmYXVsdGRpY3QKIyAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKIyAgICAgICAgICAgICAgICBwYXNzCiMgICAgICAgIHJldHVybiBzZWxmLl9fbWlzc2luZ19fKGtleSkgICAgICAgICAgICAjIHN1cHBvcnQgc3ViY2xhc3NlcyB0aGF0IGRlZmluZSBfX21pc3NpbmdfXwoKIyAgICBkZWYgZ2V0KHNlbGYsIGtleSwgZGVmYXVsdD1Ob25lKToKIyAgICAgICAgcmV0dXJuIHNlbGZba2V5XSBpZiBrZXkgaW4gc2VsZiBlbHNlIGRlZmF1bHQKCiMgICAgZGVmIF9fbGVuX18oc2VsZik6CiMgICAgICAgIHJldHVybiBsZW4oc2V0KCkudW5pb24oKnNlbGYubWFwcykpICAgICAjIHJldXNlcyBzdG9yZWQgaGFzaCB2YWx1ZXMgaWYgcG9zc2libGUKCiMgICAgZGVmIF9faXRlcl9fKHNlbGYpOgojICAgICAgICByZXR1cm4gaXRlcihzZXQoKS51bmlvbigqc2VsZi5tYXBzKSkKCiMgICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLCBrZXkpOgojICAgICAgICByZXR1cm4gYW55KGtleSBpbiBtIGZvciBtIGluIHNlbGYubWFwcykKCiMgICAgZGVmIF9fYm9vbF9fKHNlbGYpOgojICAgICAgICByZXR1cm4gYW55KHNlbGYubWFwcykKCiAgICAjZml4bWUsIGJyeXRob24KICAgICNAX3JlY3Vyc2l2ZV9yZXByKCkKIyAgICBkZWYgX19yZXByX18oc2VsZik6CiMgICAgICAgIHJldHVybiAnezAuX19jbGFzc19fLl9fbmFtZV9ffSh7MX0pJy5mb3JtYXQoCiMgICAgICAgICAgICBzZWxmLCAnLCAnLmpvaW4obWFwKHJlcHIsIHNlbGYubWFwcykpKQoKIyAgICBAY2xhc3NtZXRob2QKIyAgICBkZWYgZnJvbWtleXMoY2xzLCBpdGVyYWJsZSwgKmFyZ3MpOgojICAgICAgICAnQ3JlYXRlIGEgQ2hhaW5NYXAgd2l0aCBhIHNpbmdsZSBkaWN0IGNyZWF0ZWQgZnJvbSB0aGUgaXRlcmFibGUuJwojICAgICAgICByZXR1cm4gY2xzKGRpY3QuZnJvbWtleXMoaXRlcmFibGUsICphcmdzKSkKCiMgICAgZGVmIGNvcHkoc2VsZik6CiMgICAgICAgICdOZXcgQ2hhaW5NYXAgb3Igc3ViY2xhc3Mgd2l0aCBhIG5ldyBjb3B5IG9mIG1hcHNbMF0gYW5kIHJlZnMgdG8gbWFwc1sxOl0nCiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLm1hcHNbMF0uY29weSgpLCAqc2VsZi5tYXBzWzE6XSkKCiMgICAgX19jb3B5X18gPSBjb3B5CgojICAgIGRlZiBuZXdfY2hpbGQoc2VsZik6ICAgICAgICAgICAgICAgICAgICAgICAgIyBsaWtlIERqYW5nbydzIENvbnRleHQucHVzaCgpCiMgICAgICAgICdOZXcgQ2hhaW5NYXAgd2l0aCBhIG5ldyBkaWN0IGZvbGxvd2VkIGJ5IGFsbCBwcmV2aW91cyBtYXBzLicKIyAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHt9LCAqc2VsZi5tYXBzKQoKIyAgICBAcHJvcGVydHkKIyAgICBkZWYgcGFyZW50cyhzZWxmKTogICAgICAgICAgICAgICAgICAgICAgICAgICMgbGlrZSBEamFuZ28ncyBDb250ZXh0LnBvcCgpCiMgICAgICAgICdOZXcgQ2hhaW5NYXAgZnJvbSBtYXBzWzE6XS4nCiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXygqc2VsZi5tYXBzWzE6XSkKCiMgICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGtleSwgdmFsdWUpOgojICAgICAgICBzZWxmLm1hcHNbMF1ba2V5XSA9IHZhbHVlCgojICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCBrZXkpOgojICAgICAgICB0cnk6CiMgICAgICAgICAgICBkZWwgc2VsZi5tYXBzWzBdW2tleV0KIyAgICAgICAgZXhjZXB0IEtleUVycm9yOgojICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ0tleSBub3QgZm91bmQgaW4gdGhlIGZpcnN0IG1hcHBpbmc6IHshcn0nLmZvcm1hdChrZXkpKQoKIyAgICBkZWYgcG9waXRlbShzZWxmKToKIyAgICAgICAgJ1JlbW92ZSBhbmQgcmV0dXJuIGFuIGl0ZW0gcGFpciBmcm9tIG1hcHNbMF0uIFJhaXNlIEtleUVycm9yIGlzIG1hcHNbMF0gaXMgZW1wdHkuJwojICAgICAgICB0cnk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5tYXBzWzBdLnBvcGl0ZW0oKQojICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiMgICAgICAgICAgICByYWlzZSBLZXlFcnJvcignTm8ga2V5cyBmb3VuZCBpbiB0aGUgZmlyc3QgbWFwcGluZy4nKQoKIyAgICBkZWYgcG9wKHNlbGYsIGtleSwgKmFyZ3MpOgojICAgICAgICAnUmVtb3ZlICprZXkqIGZyb20gbWFwc1swXSBhbmQgcmV0dXJuIGl0cyB2YWx1ZS4gUmFpc2UgS2V5RXJyb3IgaWYgKmtleSogbm90IGluIG1hcHNbMF0uJwojICAgICAgICB0cnk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5tYXBzWzBdLnBvcChrZXksICphcmdzKQojICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiMgICAgICAgICAgICAjcmFpc2UgS2V5RXJyb3IoJ0tleSBub3QgZm91bmQgaW4gdGhlIGZpcnN0IG1hcHBpbmc6IHshcn0nLmZvcm1hdChrZXkpKQojICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ0tleSBub3QgZm91bmQgaW4gdGhlIGZpcnN0IG1hcHBpbmc6ICVzJyAlIGtleSkKCiMgICAgZGVmIGNsZWFyKHNlbGYpOgojICAgICAgICAnQ2xlYXIgbWFwc1swXSwgbGVhdmluZyBtYXBzWzE6XSBpbnRhY3QuJwojICAgICAgICBzZWxmLm1hcHNbMF0uY2xlYXIoKQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyBVc2VyRGljdAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKI2NsYXNzIFVzZXJEaWN0KE11dGFibGVNYXBwaW5nKToKCiAgICAjIFN0YXJ0IGJ5IGZpbGxpbmctb3V0IHRoZSBhYnN0cmFjdCBtZXRob2RzCiMgICAgZGVmIF9faW5pdF9fKHNlbGYsIGRpY3Q9Tm9uZSwgKiprd2FyZ3MpOgojICAgICAgICBzZWxmLmRhdGEgPSB7fQojICAgICAgICBpZiBkaWN0IGlzIG5vdCBOb25lOgojICAgICAgICAgICAgc2VsZi51cGRhdGUoZGljdCkKIyAgICAgICAgaWYgbGVuKGt3YXJncyk6CiMgICAgICAgICAgICBzZWxmLnVwZGF0ZShrd2FyZ3MpCiMgICAgZGVmIF9fbGVuX18oc2VsZik6IHJldHVybiBsZW4oc2VsZi5kYXRhKQojICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBrZXkpOgojICAgICAgICBpZiBrZXkgaW4gc2VsZi5kYXRhOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuZGF0YVtrZXldCiMgICAgICAgIGlmIGhhc2F0dHIoc2VsZi5fX2NsYXNzX18sICJfX21pc3NpbmdfXyIpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fLl9fbWlzc2luZ19fKHNlbGYsIGtleSkKIyAgICAgICAgcmFpc2UgS2V5RXJyb3Ioa2V5KQojICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBrZXksIGl0ZW0pOiBzZWxmLmRhdGFba2V5XSA9IGl0ZW0KIyAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwga2V5KTogZGVsIHNlbGYuZGF0YVtrZXldCiMgICAgZGVmIF9faXRlcl9fKHNlbGYpOgojICAgICAgICByZXR1cm4gaXRlcihzZWxmLmRhdGEpCgogICAgIyBNb2RpZnkgX19jb250YWluc19fIHRvIHdvcmsgY29ycmVjdGx5IHdoZW4gX19taXNzaW5nX18gaXMgcHJlc2VudAojICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwga2V5KToKIyAgICAgICAgcmV0dXJuIGtleSBpbiBzZWxmLmRhdGEKCiAgICAjIE5vdywgYWRkIHRoZSBtZXRob2RzIGluIGRpY3RzIGJ1dCBub3QgaW4gTXV0YWJsZU1hcHBpbmcKIyAgICBkZWYgX19yZXByX18oc2VsZik6IHJldHVybiByZXByKHNlbGYuZGF0YSkKIyAgICBkZWYgY29weShzZWxmKToKIyAgICAgICAgaWYgc2VsZi5fX2NsYXNzX18gaXMgVXNlckRpY3Q6CiMgICAgICAgICAgICByZXR1cm4gVXNlckRpY3Qoc2VsZi5kYXRhLmNvcHkoKSkKIyAgICAgICAgaW1wb3J0IGNvcHkKIyAgICAgICAgZGF0YSA9IHNlbGYuZGF0YQojICAgICAgICB0cnk6CiMgICAgICAgICAgICBzZWxmLmRhdGEgPSB7fQojICAgICAgICAgICAgYyA9IGNvcHkuY29weShzZWxmKQojICAgICAgICBmaW5hbGx5OgojICAgICAgICAgICAgc2VsZi5kYXRhID0gZGF0YQojICAgICAgICBjLnVwZGF0ZShzZWxmKQojICAgICAgICByZXR1cm4gYwojICAgIEBjbGFzc21ldGhvZAojICAgIGRlZiBmcm9ta2V5cyhjbHMsIGl0ZXJhYmxlLCB2YWx1ZT1Ob25lKToKIyAgICAgICAgZCA9IGNscygpCiMgICAgICAgIGZvciBrZXkgaW4gaXRlcmFibGU6CiMgICAgICAgICAgICBkW2tleV0gPSB2YWx1ZQojICAgICAgICByZXR1cm4gZAoKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMgVXNlckxpc3QKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiNjbGFzcyBVc2VyTGlzdChNdXRhYmxlU2VxdWVuY2UpOgojICAgICcnJ0EgbW9yZSBvciBsZXNzIGNvbXBsZXRlIHVzZXItZGVmaW5lZCB3cmFwcGVyIGFyb3VuZCBsaXN0IG9iamVjdHMuJycnCiMgICAgZGVmIF9faW5pdF9fKHNlbGYsIGluaXRsaXN0PU5vbmUpOgojICAgICAgICBzZWxmLmRhdGEgPSBbXQojICAgICAgICBpZiBpbml0bGlzdCBpcyBub3QgTm9uZToKIyAgICAgICAgICAgICMgWFhYIHNob3VsZCB0aGlzIGFjY2VwdCBhbiBhcmJpdHJhcnkgc2VxdWVuY2U/CiMgICAgICAgICAgICBpZiB0eXBlKGluaXRsaXN0KSA9PSB0eXBlKHNlbGYuZGF0YSk6CiMgICAgICAgICAgICAgICAgc2VsZi5kYXRhWzpdID0gaW5pdGxpc3QKIyAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShpbml0bGlzdCwgVXNlckxpc3QpOgojICAgICAgICAgICAgICAgIHNlbGYuZGF0YVs6XSA9IGluaXRsaXN0LmRhdGFbOl0KIyAgICAgICAgICAgIGVsc2U6CiMgICAgICAgICAgICAgICAgc2VsZi5kYXRhID0gbGlzdChpbml0bGlzdCkKIyAgICBkZWYgX19yZXByX18oc2VsZik6IHJldHVybiByZXByKHNlbGYuZGF0YSkKIyAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSA8ICBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19sZV9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSA8PSBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSA9PSBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19uZV9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSAhPSBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSA+ICBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19nZV9fKHNlbGYsIG90aGVyKTogcmV0dXJuIHNlbGYuZGF0YSA+PSBzZWxmLl9fY2FzdChvdGhlcikKIyAgICBkZWYgX19jYXN0KHNlbGYsIG90aGVyKToKIyAgICAgICAgcmV0dXJuIG90aGVyLmRhdGEgaWYgaXNpbnN0YW5jZShvdGhlciwgVXNlckxpc3QpIGVsc2Ugb3RoZXIKIyAgICBkZWYgX19jb250YWluc19fKHNlbGYsIGl0ZW0pOiByZXR1cm4gaXRlbSBpbiBzZWxmLmRhdGEKIyAgICBkZWYgX19sZW5fXyhzZWxmKTogcmV0dXJuIGxlbihzZWxmLmRhdGEpCiMgICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGkpOiByZXR1cm4gc2VsZi5kYXRhW2ldCiMgICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGksIGl0ZW0pOiBzZWxmLmRhdGFbaV0gPSBpdGVtCiMgICAgZGVmIF9fZGVsaXRlbV9fKHNlbGYsIGkpOiBkZWwgc2VsZi5kYXRhW2ldCiMgICAgZGVmIF9fYWRkX18oc2VsZiwgb3RoZXIpOgojICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBVc2VyTGlzdCk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhICsgb3RoZXIuZGF0YSkKIyAgICAgICAgZWxpZiBpc2luc3RhbmNlKG90aGVyLCB0eXBlKHNlbGYuZGF0YSkpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YSArIG90aGVyKQojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhICsgbGlzdChvdGhlcikpCiMgICAgZGVmIF9fcmFkZF9fKHNlbGYsIG90aGVyKToKIyAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgVXNlckxpc3QpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKG90aGVyLmRhdGEgKyBzZWxmLmRhdGEpCiMgICAgICAgIGVsaWYgaXNpbnN0YW5jZShvdGhlciwgdHlwZShzZWxmLmRhdGEpKToKIyAgICAgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhvdGhlciArIHNlbGYuZGF0YSkKIyAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKGxpc3Qob3RoZXIpICsgc2VsZi5kYXRhKQojICAgIGRlZiBfX2lhZGRfXyhzZWxmLCBvdGhlcik6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIFVzZXJMaXN0KToKIyAgICAgICAgICAgIHNlbGYuZGF0YSArPSBvdGhlci5kYXRhCiMgICAgICAgIGVsaWYgaXNpbnN0YW5jZShvdGhlciwgdHlwZShzZWxmLmRhdGEpKToKIyAgICAgICAgICAgIHNlbGYuZGF0YSArPSBvdGhlcgojICAgICAgICBlbHNlOgojICAgICAgICAgICAgc2VsZi5kYXRhICs9IGxpc3Qob3RoZXIpCiMgICAgICAgIHJldHVybiBzZWxmCiMgICAgZGVmIF9fbXVsX18oc2VsZiwgbik6CiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEqbikKIyAgICBfX3JtdWxfXyA9IF9fbXVsX18KIyAgICBkZWYgX19pbXVsX18oc2VsZiwgbik6CiMgICAgICAgIHNlbGYuZGF0YSAqPSBuCiMgICAgICAgIHJldHVybiBzZWxmCiMgICAgZGVmIGFwcGVuZChzZWxmLCBpdGVtKTogc2VsZi5kYXRhLmFwcGVuZChpdGVtKQojICAgIGRlZiBpbnNlcnQoc2VsZiwgaSwgaXRlbSk6IHNlbGYuZGF0YS5pbnNlcnQoaSwgaXRlbSkKIyAgICBkZWYgcG9wKHNlbGYsIGk9LTEpOiByZXR1cm4gc2VsZi5kYXRhLnBvcChpKQojICAgIGRlZiByZW1vdmUoc2VsZiwgaXRlbSk6IHNlbGYuZGF0YS5yZW1vdmUoaXRlbSkKIyAgICBkZWYgY291bnQoc2VsZiwgaXRlbSk6IHJldHVybiBzZWxmLmRhdGEuY291bnQoaXRlbSkKIyAgICBkZWYgaW5kZXgoc2VsZiwgaXRlbSwgKmFyZ3MpOiByZXR1cm4gc2VsZi5kYXRhLmluZGV4KGl0ZW0sICphcmdzKQojICAgIGRlZiByZXZlcnNlKHNlbGYpOiBzZWxmLmRhdGEucmV2ZXJzZSgpCiMgICAgZGVmIHNvcnQoc2VsZiwgKmFyZ3MsICoqa3dkcyk6IHNlbGYuZGF0YS5zb3J0KCphcmdzLCAqKmt3ZHMpCiMgICAgZGVmIGV4dGVuZChzZWxmLCBvdGhlcik6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIFVzZXJMaXN0KToKIyAgICAgICAgICAgIHNlbGYuZGF0YS5leHRlbmQob3RoZXIuZGF0YSkKIyAgICAgICAgZWxzZToKIyAgICAgICAgICAgIHNlbGYuZGF0YS5leHRlbmQob3RoZXIpCgoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyBVc2VyU3RyaW5nCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojY2xhc3MgVXNlclN0cmluZyhTZXF1ZW5jZSk6CiMgICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlcSk6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VxLCBzdHIpOgojICAgICAgICAgICAgc2VsZi5kYXRhID0gc2VxCiMgICAgICAgIGVsaWYgaXNpbnN0YW5jZShzZXEsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgc2VsZi5kYXRhID0gc2VxLmRhdGFbOl0KIyAgICAgICAgZWxzZToKIyAgICAgICAgICAgIHNlbGYuZGF0YSA9IHN0cihzZXEpCiMgICAgZGVmIF9fc3RyX18oc2VsZik6IHJldHVybiBzdHIoc2VsZi5kYXRhKQojICAgIGRlZiBfX3JlcHJfXyhzZWxmKTogcmV0dXJuIHJlcHIoc2VsZi5kYXRhKQojICAgIGRlZiBfX2ludF9fKHNlbGYpOiByZXR1cm4gaW50KHNlbGYuZGF0YSkKIyAgICBkZWYgX19mbG9hdF9fKHNlbGYpOiByZXR1cm4gZmxvYXQoc2VsZi5kYXRhKQojICAgIGRlZiBfX2NvbXBsZXhfXyhzZWxmKTogcmV0dXJuIGNvbXBsZXgoc2VsZi5kYXRhKQojICAgIGRlZiBfX2hhc2hfXyhzZWxmKTogcmV0dXJuIGhhc2goc2VsZi5kYXRhKQoKIyAgICBkZWYgX19lcV9fKHNlbGYsIHN0cmluZyk6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uoc3RyaW5nLCBVc2VyU3RyaW5nKToKIyAgICAgICAgICAgIHJldHVybiBzZWxmLmRhdGEgPT0gc3RyaW5nLmRhdGEKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA9PSBzdHJpbmcKIyAgICBkZWYgX19uZV9fKHNlbGYsIHN0cmluZyk6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uoc3RyaW5nLCBVc2VyU3RyaW5nKToKIyAgICAgICAgICAgIHJldHVybiBzZWxmLmRhdGEgIT0gc3RyaW5nLmRhdGEKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSAhPSBzdHJpbmcKIyAgICBkZWYgX19sdF9fKHNlbGYsIHN0cmluZyk6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uoc3RyaW5nLCBVc2VyU3RyaW5nKToKIyAgICAgICAgICAgIHJldHVybiBzZWxmLmRhdGEgPCBzdHJpbmcuZGF0YQojICAgICAgICByZXR1cm4gc2VsZi5kYXRhIDwgc3RyaW5nCiMgICAgZGVmIF9fbGVfXyhzZWxmLCBzdHJpbmcpOgojICAgICAgICBpZiBpc2luc3RhbmNlKHN0cmluZywgVXNlclN0cmluZyk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5kYXRhIDw9IHN0cmluZy5kYXRhCiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEgPD0gc3RyaW5nCiMgICAgZGVmIF9fZ3RfXyhzZWxmLCBzdHJpbmcpOgojICAgICAgICBpZiBpc2luc3RhbmNlKHN0cmluZywgVXNlclN0cmluZyk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5kYXRhID4gc3RyaW5nLmRhdGEKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA+IHN0cmluZwojICAgIGRlZiBfX2dlX18oc2VsZiwgc3RyaW5nKToKIyAgICAgICAgaWYgaXNpbnN0YW5jZShzdHJpbmcsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuZGF0YSA+PSBzdHJpbmcuZGF0YQojICAgICAgICByZXR1cm4gc2VsZi5kYXRhID49IHN0cmluZwoKIyAgICBkZWYgX19jb250YWluc19fKHNlbGYsIGNoYXIpOgojICAgICAgICBpZiBpc2luc3RhbmNlKGNoYXIsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgY2hhciA9IGNoYXIuZGF0YQojICAgICAgICByZXR1cm4gY2hhciBpbiBzZWxmLmRhdGEKCiMgICAgZGVmIF9fbGVuX18oc2VsZik6IHJldHVybiBsZW4oc2VsZi5kYXRhKQojICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpbmRleCk6IHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGFbaW5kZXhdKQojICAgIGRlZiBfX2FkZF9fKHNlbGYsIG90aGVyKToKIyAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgVXNlclN0cmluZyk6CiMgICAgICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhICsgb3RoZXIuZGF0YSkKIyAgICAgICAgZWxpZiBpc2luc3RhbmNlKG90aGVyLCBzdHIpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YSArIG90aGVyKQojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhICsgc3RyKG90aGVyKSkKIyAgICBkZWYgX19yYWRkX18oc2VsZiwgb3RoZXIpOgojICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBzdHIpOgojICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKG90aGVyICsgc2VsZi5kYXRhKQojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc3RyKG90aGVyKSArIHNlbGYuZGF0YSkKIyAgICBkZWYgX19tdWxfXyhzZWxmLCBuKToKIyAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YSpuKQojICAgIF9fcm11bF9fID0gX19tdWxfXwojICAgIGRlZiBfX21vZF9fKHNlbGYsIGFyZ3MpOgojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhICUgYXJncykKCiAgICAjIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgZGVmaW5lZCBpbiBhbHBoYWJldGljYWwgb3JkZXI6CiMgICAgZGVmIGNhcGl0YWxpemUoc2VsZik6IHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEuY2FwaXRhbGl6ZSgpKQojICAgIGRlZiBjZW50ZXIoc2VsZiwgd2lkdGgsICphcmdzKToKIyAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YS5jZW50ZXIod2lkdGgsICphcmdzKSkKIyAgICBkZWYgY291bnQoc2VsZiwgc3ViLCBzdGFydD0wLCBlbmQ9X3N5cy5tYXhzaXplKToKIyAgICAgICAgaWYgaXNpbnN0YW5jZShzdWIsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgc3ViID0gc3ViLmRhdGEKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YS5jb3VudChzdWIsIHN0YXJ0LCBlbmQpCiMgICAgZGVmIGVuY29kZShzZWxmLCBlbmNvZGluZz1Ob25lLCBlcnJvcnM9Tm9uZSk6ICMgWFhYIGltcHJvdmUgdGhpcz8KIyAgICAgICAgaWYgZW5jb2Rpbmc6CiMgICAgICAgICAgICBpZiBlcnJvcnM6CiMgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YS5lbmNvZGUoZW5jb2RpbmcsIGVycm9ycykpCiMgICAgICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLmVuY29kZShlbmNvZGluZykpCiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEuZW5jb2RlKCkpCiMgICAgZGVmIGVuZHN3aXRoKHNlbGYsIHN1ZmZpeCwgc3RhcnQ9MCwgZW5kPV9zeXMubWF4c2l6ZSk6CiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEuZW5kc3dpdGgoc3VmZml4LCBzdGFydCwgZW5kKQojICAgIGRlZiBleHBhbmR0YWJzKHNlbGYsIHRhYnNpemU9OCk6CiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEuZXhwYW5kdGFicyh0YWJzaXplKSkKIyAgICBkZWYgZmluZChzZWxmLCBzdWIsIHN0YXJ0PTAsIGVuZD1fc3lzLm1heHNpemUpOgojICAgICAgICBpZiBpc2luc3RhbmNlKHN1YiwgVXNlclN0cmluZyk6CiMgICAgICAgICAgICBzdWIgPSBzdWIuZGF0YQojICAgICAgICByZXR1cm4gc2VsZi5kYXRhLmZpbmQoc3ViLCBzdGFydCwgZW5kKQojICAgIGRlZiBmb3JtYXQoc2VsZiwgKmFyZ3MsICoqa3dkcyk6CiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEuZm9ybWF0KCphcmdzLCAqKmt3ZHMpCiMgICAgZGVmIGluZGV4KHNlbGYsIHN1Yiwgc3RhcnQ9MCwgZW5kPV9zeXMubWF4c2l6ZSk6CiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEuaW5kZXgoc3ViLCBzdGFydCwgZW5kKQojICAgIGRlZiBpc2FscGhhKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzYWxwaGEoKQojICAgIGRlZiBpc2FsbnVtKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzYWxudW0oKQojICAgIGRlZiBpc2RlY2ltYWwoc2VsZik6IHJldHVybiBzZWxmLmRhdGEuaXNkZWNpbWFsKCkKIyAgICBkZWYgaXNkaWdpdChzZWxmKTogcmV0dXJuIHNlbGYuZGF0YS5pc2RpZ2l0KCkKIyAgICBkZWYgaXNpZGVudGlmaWVyKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzaWRlbnRpZmllcigpCiMgICAgZGVmIGlzbG93ZXIoc2VsZik6IHJldHVybiBzZWxmLmRhdGEuaXNsb3dlcigpCiMgICAgZGVmIGlzbnVtZXJpYyhzZWxmKTogcmV0dXJuIHNlbGYuZGF0YS5pc251bWVyaWMoKQojICAgIGRlZiBpc3NwYWNlKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzc3BhY2UoKQojICAgIGRlZiBpc3RpdGxlKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzdGl0bGUoKQojICAgIGRlZiBpc3VwcGVyKHNlbGYpOiByZXR1cm4gc2VsZi5kYXRhLmlzdXBwZXIoKQojICAgIGRlZiBqb2luKHNlbGYsIHNlcSk6IHJldHVybiBzZWxmLmRhdGEuam9pbihzZXEpCiMgICAgZGVmIGxqdXN0KHNlbGYsIHdpZHRoLCAqYXJncyk6CiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEubGp1c3Qod2lkdGgsICphcmdzKSkKIyAgICBkZWYgbG93ZXIoc2VsZik6IHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEubG93ZXIoKSkKIyAgICBkZWYgbHN0cmlwKHNlbGYsIGNoYXJzPU5vbmUpOiByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLmxzdHJpcChjaGFycykpCiMgICAgZGVmIHBhcnRpdGlvbihzZWxmLCBzZXApOgojICAgICAgICByZXR1cm4gc2VsZi5kYXRhLnBhcnRpdGlvbihzZXApCiMgICAgZGVmIHJlcGxhY2Uoc2VsZiwgb2xkLCBuZXcsIG1heHNwbGl0PS0xKToKIyAgICAgICAgaWYgaXNpbnN0YW5jZShvbGQsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgb2xkID0gb2xkLmRhdGEKIyAgICAgICAgaWYgaXNpbnN0YW5jZShuZXcsIFVzZXJTdHJpbmcpOgojICAgICAgICAgICAgbmV3ID0gbmV3LmRhdGEKIyAgICAgICAgcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YS5yZXBsYWNlKG9sZCwgbmV3LCBtYXhzcGxpdCkpCiMgICAgZGVmIHJmaW5kKHNlbGYsIHN1Yiwgc3RhcnQ9MCwgZW5kPV9zeXMubWF4c2l6ZSk6CiMgICAgICAgIGlmIGlzaW5zdGFuY2Uoc3ViLCBVc2VyU3RyaW5nKToKIyAgICAgICAgICAgIHN1YiA9IHN1Yi5kYXRhCiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEucmZpbmQoc3ViLCBzdGFydCwgZW5kKQojICAgIGRlZiByaW5kZXgoc2VsZiwgc3ViLCBzdGFydD0wLCBlbmQ9X3N5cy5tYXhzaXplKToKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YS5yaW5kZXgoc3ViLCBzdGFydCwgZW5kKQojICAgIGRlZiByanVzdChzZWxmLCB3aWR0aCwgKmFyZ3MpOgojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLnJqdXN0KHdpZHRoLCAqYXJncykpCiMgICAgZGVmIHJwYXJ0aXRpb24oc2VsZiwgc2VwKToKIyAgICAgICAgcmV0dXJuIHNlbGYuZGF0YS5ycGFydGl0aW9uKHNlcCkKIyAgICBkZWYgcnN0cmlwKHNlbGYsIGNoYXJzPU5vbmUpOgojICAgICAgICByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLnJzdHJpcChjaGFycykpCiMgICAgZGVmIHNwbGl0KHNlbGYsIHNlcD1Ob25lLCBtYXhzcGxpdD0tMSk6CiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEuc3BsaXQoc2VwLCBtYXhzcGxpdCkKIyAgICBkZWYgcnNwbGl0KHNlbGYsIHNlcD1Ob25lLCBtYXhzcGxpdD0tMSk6CiMgICAgICAgIHJldHVybiBzZWxmLmRhdGEucnNwbGl0KHNlcCwgbWF4c3BsaXQpCiMgICAgZGVmIHNwbGl0bGluZXMoc2VsZiwga2VlcGVuZHM9MCk6IHJldHVybiBzZWxmLmRhdGEuc3BsaXRsaW5lcyhrZWVwZW5kcykKIyAgICBkZWYgc3RhcnRzd2l0aChzZWxmLCBwcmVmaXgsIHN0YXJ0PTAsIGVuZD1fc3lzLm1heHNpemUpOgojICAgICAgICByZXR1cm4gc2VsZi5kYXRhLnN0YXJ0c3dpdGgocHJlZml4LCBzdGFydCwgZW5kKQojICAgIGRlZiBzdHJpcChzZWxmLCBjaGFycz1Ob25lKTogcmV0dXJuIHNlbGYuX19jbGFzc19fKHNlbGYuZGF0YS5zdHJpcChjaGFycykpCiMgICAgZGVmIHN3YXBjYXNlKHNlbGYpOiByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLnN3YXBjYXNlKCkpCiMgICAgZGVmIHRpdGxlKHNlbGYpOiByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLnRpdGxlKCkpCiMgICAgZGVmIHRyYW5zbGF0ZShzZWxmLCAqYXJncyk6CiMgICAgICAgIHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEudHJhbnNsYXRlKCphcmdzKSkKIyAgICBkZWYgdXBwZXIoc2VsZik6IHJldHVybiBzZWxmLl9fY2xhc3NfXyhzZWxmLmRhdGEudXBwZXIoKSkKIyAgICBkZWYgemZpbGwoc2VsZiwgd2lkdGgpOiByZXR1cm4gc2VsZi5fX2NsYXNzX18oc2VsZi5kYXRhLnpmaWxsKHdpZHRoKSkKCg==',
'/Lib/pyindexedDB.py':'Y2xhc3MgRXZlbnRMaXN0ZW5lcjoKICBkZWYgX19pbml0X18oc2VsZiwgZXZlbnRzPVtdKToKICAgICAgc2VsZi5fZXZlbnRzPWV2ZW50cwoKICBkZWYgYXBwZW5kKHNlbGYsIGV2ZW50KToKICAgICAgc2VsZi5fZXZlbnRzLmFwcGVuZChldmVudCkKCiAgZGVmIGZpcmUoc2VsZiwgZSk6CiAgICAgIGZvciBfZXZlbnQgaW4gc2VsZi5fZXZlbnRzOgogICAgICAgICAgX2V2ZW50KGUpCgpjbGFzcyBweWluZGV4ZWREQjoKICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgIGlmIG5vdCBfX0JSWVRIT05fXy5oYXNfaW5kZXhlZERCOgogICAgICAgICByYWlzZSBFeGNlcHRpb24oIk5vdEltcGxlbWVudGVkRXJyb3IiLCAiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBpbmRleGVkREIiKQogICAgICAgICByZXR1cm4KCiAgICAgIHNlbGYuX2luZGV4ZWREQj1fX0JSWVRIT05fXy5pbmRleGVkREIoKQogICAgICBzZWxmLl9kYj1Ob25lCiAgICAgIHNlbGYuX3ZlcnNpb249Tm9uZQoKICBkZWYgX29uc3VjY2VzcyhzZWxmLCBldmVudCk6CiAgICAgIHNlbGYuX2RiPWV2ZW50LnRhcmdldC5yZXN1bHQKCiAgZGVmIG9wZW4oc2VsZiwgbmFtZSwgb25zdWNjZXNzLCB2ZXJzaW9uPTEuMCwgb25lcnJvcj1Ob25lLCAKICAgICAgICAgICBvbnVwZ3JhZGVuZWVkZWQ9Tm9uZSk6CiAgICAgIHNlbGYuX3ZlcnNpb249dmVyc2lvbgogICAgICBfcmVzdWx0PXNlbGYuX2luZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pCgogICAgICBfb25zdWNjZXNzPUV2ZW50TGlzdGVuZXIoW3NlbGYuX29uc3VjY2Vzcywgb25zdWNjZXNzXSkKICAgICAgX3Jlc3VsdC5vbnN1Y2Nlc3M9X29uc3VjY2Vzcy5maXJlCiAgICAgIF9yZXN1bHQub251cGdyYWRlbmVlZGVkPW9udXBncmFkZW5lZWRlZAoKICAgICAgaWYgb25lcnJvciBpcyBOb25lOgogICAgICAgICBkZWYgb25lcnJvcihlKToKICAgICAgICAgICAgIHByaW50KCIlczolcyIgJSAgKGUudHlwZSwgZS5yZXN1bHQpKQoKICAgICAgX3Jlc3VsdC5vbmVycm9yPW9uZXJyb3IKICAgICAgX3Jlc3VsdC5vbmJsb2NrZWQ9b25lcnJvcgoKICBkZWYgdHJhbnNhY3Rpb24oc2VsZiwgZW50aXRpZXMsIG1vZGU9J3JlYWQnKToKICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uKHNlbGYuX2RiLnRyYW5zYWN0aW9uKGVudGl0aWVzLCBtb2RlKSkKCmNsYXNzIFRyYW5zYWN0aW9uOgogIGRlZiBfX2luaXRfXyhzZWxmLCB0cmFuc2FjdGlvbik6CiAgICAgIHNlbGYuX3RyYW5zYWN0aW9uPXRyYW5zYWN0aW9uCgogIGRlZiBvYmplY3RTdG9yZShzZWxmLCBuYW1lKToKICAgICAgcmV0dXJuIE9iamVjdFN0b3JlKHNlbGYuX3RyYW5zYWN0aW9uLm9iamVjdFN0b3JlKG5hbWUpKQoKY2xhc3MgT2JqZWN0U3RvcmU6CiAgZGVmIF9faW5pdF9fKHNlbGYsIG9iamVjdFN0b3JlKToKICAgICAgc2VsZi5fb2JqZWN0U3RvcmU9b2JqZWN0U3RvcmUKICAgICAgc2VsZi5fZGF0YT1bXQoKICBkZWYgY2xlYXIoc2VsZiwgb25zdWNjZXNzPU5vbmUsIG9uZXJyb3I9Tm9uZSk6CiAgICAgIF9yZXN1bHQ9c2VsZi5fb2JqZWN0U3RvcmUuY2xlYXIoKQoKICAgICAgaWYgb25zdWNjZXNzIGlzIG5vdCBOb25lOgogICAgICAgICBfcmVzdWx0Lm9uc3VjY2Vzcz1vbnN1Y2Nlc3MKCiAgICAgIGlmIG9uZXJyb3IgaXMgbm90IE5vbmU6CiAgICAgICAgIF9yZXN1bHQub25lcnJvcj1vbmVycm9yCgogIGRlZiBfaGVscGVyKHNlbGYsIGZ1bmMsIG9iamVjdCwgb25zdWNjZXNzPU5vbmUsIG9uZXJyb3I9Tm9uZSk6CiAgICAgIF9yZXN1bHQ9ZnVuYyhvYmplY3QpCgogICAgICBpZiBvbnN1Y2Nlc3MgaXMgbm90IE5vbmU6CiAgICAgICAgIF9yZXN1bHQub25zdWNjZXNzPW9uc3VjY2VzcwoKICAgICAgaWYgb25lcnJvciBpcyBub3QgTm9uZToKICAgICAgICAgX3Jlc3VsdC5vbmVycm9yPW9uZXJyb3IKCiAgZGVmIHB1dChzZWxmLCBvYmplY3QsIGtleT1Ob25lLCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKToKICAgICAgX3I9c2VsZi5fb2JqZWN0U3RvcmUucHV0KG9iamVjdCwga2V5KQogICAgICBfci5vbnN1Y2Nlc3M9b25zdWNjZXNzCiAgICAgIF9yLm9uZXJyb3I9b25lcnJvcgoKICBkZWYgYWRkKHNlbGYsIG9iamVjdCwgb25zdWNjZXNzPU5vbmUsIG9uZXJyb3I9Tm9uZSk6CiAgICAgIHNlbGYuX2hlbHBlcihzZWxmLl9vYmplY3RTdG9yZS5hZGQsIG9iamVjdCwgb25zdWNjZXNzLCBvbmVycm9yKQoKICBkZWYgZGVsZXRlKHNlbGYsIGluZGV4LCBvbnN1Y2Nlc3M9Tm9uZSwgb25lcnJvcj1Ob25lKTogCiAgICAgIHNlbGYuX2hlbHBlcihzZWxmLl9vYmplY3RTdG9yZS5kZWxldGUsIGluZGV4LCBvbnN1Y2Nlc3MsIG9uZXJyb3IpCiAgICAgCiAgZGVmIHF1ZXJ5KHNlbGYsICphcmdzKToKICAgICAgc2VsZi5fZGF0YT1bXQogICAgICBkZWYgb25zdWNjZXNzKGV2ZW50KToKICAgICAgICAgIGN1cnNvcj1ldmVudC50YXJnZXQucmVzdWx0CiAgICAgICAgICBpZiBjdXJzb3IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICBzZWxmLl9kYXRhLmFwcGVuZChjdXJzb3IudmFsdWUpCiAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKQoKICAgICAgc2VsZi5fb2JqZWN0U3RvcmUub3BlbkN1cnNvcihhcmdzKS5vbnN1Y2Nlc3M9b25zdWNjZXNzCgogIGRlZiBmZXRjaGFsbChzZWxmKToKICAgICAgeWllbGQgc2VsZi5fZGF0YQoKICBkZWYgZ2V0KHNlbGYsIGtleSwgb25zdWNjZXNzPU5vbmUsIG9uZXJyb3I9Tm9uZSk6CiAgICAgIHNlbGYuX2hlbHBlcihzZWxmLl9vYmplY3RTdG9yZS5nZXQsIGtleSwgb25zdWNjZXNzLCBvbmVycm9yKQo=',
'/Lib/abc.py':'IyBDb3B5cmlnaHQgMjAwNyBHb29nbGUsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KIyBMaWNlbnNlZCB0byBQU0YgdW5kZXIgYSBDb250cmlidXRvciBBZ3JlZW1lbnQuCgoiIiJBYnN0cmFjdCBCYXNlIENsYXNzZXMgKEFCQ3MpIGFjY29yZGluZyB0byBQRVAgMzExOS4iIiIKCmZyb20gX3dlYWtyZWZzZXQgaW1wb3J0IFdlYWtTZXQKCmRlZiBhYnN0cmFjdG1ldGhvZChmdW5jb2JqKToKICAgICIiIkEgZGVjb3JhdG9yIGluZGljYXRpbmcgYWJzdHJhY3QgbWV0aG9kcy4KCiAgICBSZXF1aXJlcyB0aGF0IHRoZSBtZXRhY2xhc3MgaXMgQUJDTWV0YSBvciBkZXJpdmVkIGZyb20gaXQuICBBCiAgICBjbGFzcyB0aGF0IGhhcyBhIG1ldGFjbGFzcyBkZXJpdmVkIGZyb20gQUJDTWV0YSBjYW5ub3QgYmUKICAgIGluc3RhbnRpYXRlZCB1bmxlc3MgYWxsIG9mIGl0cyBhYnN0cmFjdCBtZXRob2RzIGFyZSBvdmVycmlkZGVuLgogICAgVGhlIGFic3RyYWN0IG1ldGhvZHMgY2FuIGJlIGNhbGxlZCB1c2luZyBhbnkgb2YgdGhlIG5vcm1hbAogICAgJ3N1cGVyJyBjYWxsIG1lY2hhbmlzbXMuCgogICAgVXNhZ2U6CgogICAgICAgIGNsYXNzIEMobWV0YWNsYXNzPUFCQ01ldGEpOgogICAgICAgICAgICBAYWJzdHJhY3RtZXRob2QKICAgICAgICAgICAgZGVmIG15X2Fic3RyYWN0X21ldGhvZChzZWxmLCAuLi4pOgogICAgICAgICAgICAgICAgLi4uCiAgICAiIiIKICAgIGZ1bmNvYmouX19pc2Fic3RyYWN0bWV0aG9kX18gPSBUcnVlCiAgICByZXR1cm4gZnVuY29iagoKCmNsYXNzIGFic3RyYWN0Y2xhc3NtZXRob2QoY2xhc3NtZXRob2QpOgogICAgIiIiQSBkZWNvcmF0b3IgaW5kaWNhdGluZyBhYnN0cmFjdCBjbGFzc21ldGhvZHMuCgogICAgU2ltaWxhciB0byBhYnN0cmFjdG1ldGhvZC4KCiAgICBVc2FnZToKCiAgICAgICAgY2xhc3MgQyhtZXRhY2xhc3M9QUJDTWV0YSk6CiAgICAgICAgICAgIEBhYnN0cmFjdGNsYXNzbWV0aG9kCiAgICAgICAgICAgIGRlZiBteV9hYnN0cmFjdF9jbGFzc21ldGhvZChjbHMsIC4uLik6CiAgICAgICAgICAgICAgICAuLi4KICAgICIiIgoKICAgIF9faXNhYnN0cmFjdG1ldGhvZF9fID0gVHJ1ZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjYWxsYWJsZSk6CiAgICAgICAgY2FsbGFibGUuX19pc2Fic3RyYWN0bWV0aG9kX18gPSBUcnVlCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhjYWxsYWJsZSkKCgpjbGFzcyBhYnN0cmFjdHN0YXRpY21ldGhvZChzdGF0aWNtZXRob2QpOgogICAgIiIiQSBkZWNvcmF0b3IgaW5kaWNhdGluZyBhYnN0cmFjdCBzdGF0aWNtZXRob2RzLgoKICAgIFNpbWlsYXIgdG8gYWJzdHJhY3RtZXRob2QuCgogICAgVXNhZ2U6CgogICAgICAgIGNsYXNzIEMobWV0YWNsYXNzPUFCQ01ldGEpOgogICAgICAgICAgICBAYWJzdHJhY3RzdGF0aWNtZXRob2QKICAgICAgICAgICAgZGVmIG15X2Fic3RyYWN0X3N0YXRpY21ldGhvZCguLi4pOgogICAgICAgICAgICAgICAgLi4uCiAgICAiIiIKCiAgICBfX2lzYWJzdHJhY3RtZXRob2RfXyA9IFRydWUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY2FsbGFibGUpOgogICAgICAgIGNhbGxhYmxlLl9faXNhYnN0cmFjdG1ldGhvZF9fID0gVHJ1ZQogICAgICAgIHN1cGVyKCkuX19pbml0X18oY2FsbGFibGUpCgoKY2xhc3MgYWJzdHJhY3Rwcm9wZXJ0eShwcm9wZXJ0eSk6CiAgICAiIiJBIGRlY29yYXRvciBpbmRpY2F0aW5nIGFic3RyYWN0IHByb3BlcnRpZXMuCgogICAgUmVxdWlyZXMgdGhhdCB0aGUgbWV0YWNsYXNzIGlzIEFCQ01ldGEgb3IgZGVyaXZlZCBmcm9tIGl0LiAgQQogICAgY2xhc3MgdGhhdCBoYXMgYSBtZXRhY2xhc3MgZGVyaXZlZCBmcm9tIEFCQ01ldGEgY2Fubm90IGJlCiAgICBpbnN0YW50aWF0ZWQgdW5sZXNzIGFsbCBvZiBpdHMgYWJzdHJhY3QgcHJvcGVydGllcyBhcmUgb3ZlcnJpZGRlbi4KICAgIFRoZSBhYnN0cmFjdCBwcm9wZXJ0aWVzIGNhbiBiZSBjYWxsZWQgdXNpbmcgYW55IG9mIHRoZSBub3JtYWwKICAgICdzdXBlcicgY2FsbCBtZWNoYW5pc21zLgoKICAgIFVzYWdlOgoKICAgICAgICBjbGFzcyBDKG1ldGFjbGFzcz1BQkNNZXRhKToKICAgICAgICAgICAgQGFic3RyYWN0cHJvcGVydHkKICAgICAgICAgICAgZGVmIG15X2Fic3RyYWN0X3Byb3BlcnR5KHNlbGYpOgogICAgICAgICAgICAgICAgLi4uCgogICAgVGhpcyBkZWZpbmVzIGEgcmVhZC1vbmx5IHByb3BlcnR5OyB5b3UgY2FuIGFsc28gZGVmaW5lIGEgcmVhZC13cml0ZQogICAgYWJzdHJhY3QgcHJvcGVydHkgdXNpbmcgdGhlICdsb25nJyBmb3JtIG9mIHByb3BlcnR5IGRlY2xhcmF0aW9uOgoKICAgICAgICBjbGFzcyBDKG1ldGFjbGFzcz1BQkNNZXRhKToKICAgICAgICAgICAgZGVmIGdldHgoc2VsZik6IC4uLgogICAgICAgICAgICBkZWYgc2V0eChzZWxmLCB2YWx1ZSk6IC4uLgogICAgICAgICAgICB4ID0gYWJzdHJhY3Rwcm9wZXJ0eShnZXR4LCBzZXR4KQogICAgIiIiCiAgICBfX2lzYWJzdHJhY3RtZXRob2RfXyA9IFRydWUKCgpjbGFzcyBBQkNNZXRhKHR5cGUpOgoKICAgICIiIk1ldGFjbGFzcyBmb3IgZGVmaW5pbmcgQWJzdHJhY3QgQmFzZSBDbGFzc2VzIChBQkNzKS4KCiAgICBVc2UgdGhpcyBtZXRhY2xhc3MgdG8gY3JlYXRlIGFuIEFCQy4gIEFuIEFCQyBjYW4gYmUgc3ViY2xhc3NlZAogICAgZGlyZWN0bHksIGFuZCB0aGVuIGFjdHMgYXMgYSBtaXgtaW4gY2xhc3MuICBZb3UgY2FuIGFsc28gcmVnaXN0ZXIKICAgIHVucmVsYXRlZCBjb25jcmV0ZSBjbGFzc2VzIChldmVuIGJ1aWx0LWluIGNsYXNzZXMpIGFuZCB1bnJlbGF0ZWQKICAgIEFCQ3MgYXMgJ3ZpcnR1YWwgc3ViY2xhc3NlcycgLS0gdGhlc2UgYW5kIHRoZWlyIGRlc2NlbmRhbnRzIHdpbGwKICAgIGJlIGNvbnNpZGVyZWQgc3ViY2xhc3NlcyBvZiB0aGUgcmVnaXN0ZXJpbmcgQUJDIGJ5IHRoZSBidWlsdC1pbgogICAgaXNzdWJjbGFzcygpIGZ1bmN0aW9uLCBidXQgdGhlIHJlZ2lzdGVyaW5nIEFCQyB3b24ndCBzaG93IHVwIGluCiAgICB0aGVpciBNUk8gKE1ldGhvZCBSZXNvbHV0aW9uIE9yZGVyKSBub3Igd2lsbCBtZXRob2QKICAgIGltcGxlbWVudGF0aW9ucyBkZWZpbmVkIGJ5IHRoZSByZWdpc3RlcmluZyBBQkMgYmUgY2FsbGFibGUgKG5vdAogICAgZXZlbiB2aWEgc3VwZXIoKSkuCgogICAgIiIiCgogICAgIyBBIGdsb2JhbCBjb3VudGVyIHRoYXQgaXMgaW5jcmVtZW50ZWQgZWFjaCB0aW1lIGEgY2xhc3MgaXMKICAgICMgcmVnaXN0ZXJlZCBhcyBhIHZpcnR1YWwgc3ViY2xhc3Mgb2YgYW55dGhpbmcuICBJdCBmb3JjZXMgdGhlCiAgICAjIG5lZ2F0aXZlIGNhY2hlIHRvIGJlIGNsZWFyZWQgYmVmb3JlIGl0cyBuZXh0IHVzZS4KICAgIF9hYmNfaW52YWxpZGF0aW9uX2NvdW50ZXIgPSAwCgogICAgZGVmIF9fbmV3X18obWNscywgbmFtZSwgYmFzZXMsIG5hbWVzcGFjZSk6CiAgICAgICAgY2xzID0gc3VwZXIoKS5fX25ld19fKG1jbHMsIG5hbWUsIGJhc2VzLCBuYW1lc3BhY2UpCiAgICAgICAgIyBDb21wdXRlIHNldCBvZiBhYnN0cmFjdCBtZXRob2QgbmFtZXMKICAgICAgICBhYnN0cmFjdHMgPSB7bmFtZQogICAgICAgICAgICAgICAgICAgICBmb3IgbmFtZSwgdmFsdWUgaW4gbmFtZXNwYWNlLml0ZW1zKCkKICAgICAgICAgICAgICAgICAgICAgaWYgZ2V0YXR0cih2YWx1ZSwgIl9faXNhYnN0cmFjdG1ldGhvZF9fIiwgRmFsc2UpfQogICAgICAgIGZvciBiYXNlIGluIGJhc2VzOgogICAgICAgICAgICBmb3IgbmFtZSBpbiBnZXRhdHRyKGJhc2UsICJfX2Fic3RyYWN0bWV0aG9kc19fIiwgc2V0KCkpOgogICAgICAgICAgICAgICAgdmFsdWUgPSBnZXRhdHRyKGNscywgbmFtZSwgTm9uZSkKICAgICAgICAgICAgICAgIGlmIGdldGF0dHIodmFsdWUsICJfX2lzYWJzdHJhY3RtZXRob2RfXyIsIEZhbHNlKToKICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdHMuYWRkKG5hbWUpCiAgICAgICAgY2xzLl9fYWJzdHJhY3RtZXRob2RzX18gPSBmcm96ZW5zZXQoYWJzdHJhY3RzKQogICAgICAgICMgU2V0IHVwIGluaGVyaXRhbmNlIHJlZ2lzdHJ5CiAgICAgICAgY2xzLl9hYmNfcmVnaXN0cnkgPSBXZWFrU2V0KCkKICAgICAgICBjbHMuX2FiY19jYWNoZSA9IFdlYWtTZXQoKQogICAgICAgIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlID0gV2Vha1NldCgpCiAgICAgICAgY2xzLl9hYmNfbmVnYXRpdmVfY2FjaGVfdmVyc2lvbiA9IEFCQ01ldGEuX2FiY19pbnZhbGlkYXRpb25fY291bnRlcgogICAgICAgIHJldHVybiBjbHMKCiAgICBkZWYgcmVnaXN0ZXIoY2xzLCBzdWJjbGFzcyk6CiAgICAgICAgIiIiUmVnaXN0ZXIgYSB2aXJ0dWFsIHN1YmNsYXNzIG9mIGFuIEFCQy4iIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShzdWJjbGFzcywgdHlwZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiQ2FuIG9ubHkgcmVnaXN0ZXIgY2xhc3NlcyIpCiAgICAgICAgaWYgaXNzdWJjbGFzcyhzdWJjbGFzcywgY2xzKToKICAgICAgICAgICAgcmV0dXJuICAjIEFscmVhZHkgYSBzdWJjbGFzcwogICAgICAgICMgU3VidGxlOiB0ZXN0IGZvciBjeWNsZXMgKmFmdGVyKiB0ZXN0aW5nIGZvciAiYWxyZWFkeSBhIHN1YmNsYXNzIjsKICAgICAgICAjIHRoaXMgbWVhbnMgd2UgYWxsb3cgWC5yZWdpc3RlcihYKSBhbmQgaW50ZXJwcmV0IGl0IGFzIGEgbm8tb3AuCiAgICAgICAgaWYgaXNzdWJjbGFzcyhjbHMsIHN1YmNsYXNzKToKICAgICAgICAgICAgIyBUaGlzIHdvdWxkIGNyZWF0ZSBhIGN5Y2xlLCB3aGljaCBpcyBiYWQgZm9yIHRoZSBhbGdvcml0aG0gYmVsb3cKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJSZWZ1c2luZyB0byBjcmVhdGUgYW4gaW5oZXJpdGFuY2UgY3ljbGUiKQogICAgICAgIGNscy5fYWJjX3JlZ2lzdHJ5LmFkZChzdWJjbGFzcykKICAgICAgICBBQkNNZXRhLl9hYmNfaW52YWxpZGF0aW9uX2NvdW50ZXIgKz0gMSAgIyBJbnZhbGlkYXRlIG5lZ2F0aXZlIGNhY2hlCgogICAgZGVmIF9kdW1wX3JlZ2lzdHJ5KGNscywgZmlsZT1Ob25lKToKICAgICAgICAiIiJEZWJ1ZyBoZWxwZXIgdG8gcHJpbnQgdGhlIEFCQyByZWdpc3RyeS4iIiIKICAgICAgICBwcmludCgiQ2xhc3M6ICVzLiVzIiAlIChjbHMuX19tb2R1bGVfXywgY2xzLl9fbmFtZV9fKSwgZmlsZT1maWxlKQogICAgICAgIHByaW50KCJJbnYuY291bnRlcjogJXMiICUgQUJDTWV0YS5fYWJjX2ludmFsaWRhdGlvbl9jb3VudGVyLCBmaWxlPWZpbGUpCiAgICAgICAgZm9yIG5hbWUgaW4gc29ydGVkKGNscy5fX2RpY3RfXy5rZXlzKCkpOgogICAgICAgICAgICBpZiBuYW1lLnN0YXJ0c3dpdGgoIl9hYmNfIik6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IGdldGF0dHIoY2xzLCBuYW1lKQogICAgICAgICAgICAgICAgcHJpbnQoIiVzOiAlciIgJSAobmFtZSwgdmFsdWUpLCBmaWxlPWZpbGUpCgogICAgZGVmIF9faW5zdGFuY2VjaGVja19fKGNscywgaW5zdGFuY2UpOgogICAgICAgICIiIk92ZXJyaWRlIGZvciBpc2luc3RhbmNlKGluc3RhbmNlLCBjbHMpLiIiIgogICAgICAgICMgSW5saW5lIHRoZSBjYWNoZSBjaGVja2luZwogICAgICAgIHN1YmNsYXNzID0gaW5zdGFuY2UuX19jbGFzc19fCiAgICAgICAgaWYgc3ViY2xhc3MgaW4gY2xzLl9hYmNfY2FjaGU6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgc3VidHlwZSA9IHR5cGUoaW5zdGFuY2UpCiAgICAgICAgaWYgc3VidHlwZSBpcyBzdWJjbGFzczoKICAgICAgICAgICAgaWYgKGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlX3ZlcnNpb24gPT0KICAgICAgICAgICAgICAgIEFCQ01ldGEuX2FiY19pbnZhbGlkYXRpb25fY291bnRlciBhbmQKICAgICAgICAgICAgICAgIHN1YmNsYXNzIGluIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlKToKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICAgICAjIEZhbGwgYmFjayB0byB0aGUgc3ViY2xhc3MgY2hlY2suCiAgICAgICAgICAgIHJldHVybiBjbHMuX19zdWJjbGFzc2NoZWNrX18oc3ViY2xhc3MpCiAgICAgICAgcmV0dXJuIGFueShjbHMuX19zdWJjbGFzc2NoZWNrX18oYykgZm9yIGMgaW4ge3N1YmNsYXNzLCBzdWJ0eXBlfSkKCiAgICBkZWYgX19zdWJjbGFzc2NoZWNrX18oY2xzLCBzdWJjbGFzcyk6CiAgICAgICAgIiIiT3ZlcnJpZGUgZm9yIGlzc3ViY2xhc3Moc3ViY2xhc3MsIGNscykuIiIiCiAgICAgICAgIyBDaGVjayBjYWNoZQogICAgICAgIGlmIHN1YmNsYXNzIGluIGNscy5fYWJjX2NhY2hlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICMgQ2hlY2sgbmVnYXRpdmUgY2FjaGU7IG1heSBoYXZlIHRvIGludmFsaWRhdGUKICAgICAgICBpZiBjbHMuX2FiY19uZWdhdGl2ZV9jYWNoZV92ZXJzaW9uIDwgQUJDTWV0YS5fYWJjX2ludmFsaWRhdGlvbl9jb3VudGVyOgogICAgICAgICAgICAjIEludmFsaWRhdGUgdGhlIG5lZ2F0aXZlIGNhY2hlCiAgICAgICAgICAgIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlID0gV2Vha1NldCgpCiAgICAgICAgICAgIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlX3ZlcnNpb24gPSBBQkNNZXRhLl9hYmNfaW52YWxpZGF0aW9uX2NvdW50ZXIKICAgICAgICBlbGlmIHN1YmNsYXNzIGluIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAjIENoZWNrIHRoZSBzdWJjbGFzcyBob29rCiAgICAgICAgb2sgPSBjbHMuX19zdWJjbGFzc2hvb2tfXyhzdWJjbGFzcykKICAgICAgICBpZiBvayBpcyBub3QgTm90SW1wbGVtZW50ZWQ6CiAgICAgICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG9rLCBib29sKQogICAgICAgICAgICBpZiBvazoKICAgICAgICAgICAgICAgIGNscy5fYWJjX2NhY2hlLmFkZChzdWJjbGFzcykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlLmFkZChzdWJjbGFzcykKICAgICAgICAgICAgcmV0dXJuIG9rCiAgICAgICAgIyBDaGVjayBpZiBpdCdzIGEgZGlyZWN0IHN1YmNsYXNzCiAgICAgICAgaWYgY2xzIGluIGdldGF0dHIoc3ViY2xhc3MsICdfX21yb19fJywgKCkpOgogICAgICAgICAgICBjbHMuX2FiY19jYWNoZS5hZGQoc3ViY2xhc3MpCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgIyBDaGVjayBpZiBpdCdzIGEgc3ViY2xhc3Mgb2YgYSByZWdpc3RlcmVkIGNsYXNzIChyZWN1cnNpdmUpCiAgICAgICAgZm9yIHJjbHMgaW4gY2xzLl9hYmNfcmVnaXN0cnk6CiAgICAgICAgICAgIGlmIGlzc3ViY2xhc3Moc3ViY2xhc3MsIHJjbHMpOgogICAgICAgICAgICAgICAgY2xzLl9hYmNfY2FjaGUuYWRkKHN1YmNsYXNzKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAjIENoZWNrIGlmIGl0J3MgYSBzdWJjbGFzcyBvZiBhIHN1YmNsYXNzIChyZWN1cnNpdmUpCiAgICAgICAgZm9yIHNjbHMgaW4gY2xzLl9fc3ViY2xhc3Nlc19fKCk6CiAgICAgICAgICAgIGlmIGlzc3ViY2xhc3Moc3ViY2xhc3MsIHNjbHMpOgogICAgICAgICAgICAgICAgY2xzLl9hYmNfY2FjaGUuYWRkKHN1YmNsYXNzKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAjIE5vIGRpY2U7IHVwZGF0ZSBuZWdhdGl2ZSBjYWNoZQogICAgICAgIGNscy5fYWJjX25lZ2F0aXZlX2NhY2hlLmFkZChzdWJjbGFzcykKICAgICAgICByZXR1cm4gRmFsc2UK',
'/Lib/linecache.py':'IiIiQ2FjaGUgbGluZXMgZnJvbSBmaWxlcy4KClRoaXMgaXMgaW50ZW5kZWQgdG8gcmVhZCBsaW5lcyBmcm9tIG1vZHVsZXMgaW1wb3J0ZWQgLS0gaGVuY2UgaWYgYSBmaWxlbmFtZQppcyBub3QgZm91bmQsIGl0IHdpbGwgbG9vayBkb3duIHRoZSBtb2R1bGUgc2VhcmNoIHBhdGggZm9yIGEgZmlsZSBieQp0aGF0IG5hbWUuCiIiIgoKaW1wb3J0IHN5cwppbXBvcnQgb3MKI2ZpeG1lIGJyeXRob24KI2ltcG9ydCB0b2tlbml6ZQoKX19hbGxfXyA9IFsiZ2V0bGluZSIsICJjbGVhcmNhY2hlIiwgImNoZWNrY2FjaGUiXQoKZGVmIGdldGxpbmUoZmlsZW5hbWUsIGxpbmVubywgbW9kdWxlX2dsb2JhbHM9Tm9uZSk6CiAgICBsaW5lcyA9IGdldGxpbmVzKGZpbGVuYW1lLCBtb2R1bGVfZ2xvYmFscykKICAgIGlmIDEgPD0gbGluZW5vIDw9IGxlbihsaW5lcyk6CiAgICAgICAgcmV0dXJuIGxpbmVzW2xpbmVuby0xXQogICAgZWxzZToKICAgICAgICByZXR1cm4gJycKCgojIFRoZSBjYWNoZQoKY2FjaGUgPSB7fSAjIFRoZSBjYWNoZQoKCmRlZiBjbGVhcmNhY2hlKCk6CiAgICAiIiJDbGVhciB0aGUgY2FjaGUgZW50aXJlbHkuIiIiCgogICAgZ2xvYmFsIGNhY2hlCiAgICBjYWNoZSA9IHt9CgoKZGVmIGdldGxpbmVzKGZpbGVuYW1lLCBtb2R1bGVfZ2xvYmFscz1Ob25lKToKICAgICIiIkdldCB0aGUgbGluZXMgZm9yIGEgZmlsZSBmcm9tIHRoZSBjYWNoZS4KICAgIFVwZGF0ZSB0aGUgY2FjaGUgaWYgaXQgZG9lc24ndCBjb250YWluIGFuIGVudHJ5IGZvciB0aGlzIGZpbGUgYWxyZWFkeS4iIiIKCiAgICBpZiBmaWxlbmFtZSBpbiBjYWNoZToKICAgICAgICByZXR1cm4gY2FjaGVbZmlsZW5hbWVdWzJdCiAgICBlbHNlOgogICAgICAgIHJldHVybiB1cGRhdGVjYWNoZShmaWxlbmFtZSwgbW9kdWxlX2dsb2JhbHMpCgoKZGVmIGNoZWNrY2FjaGUoZmlsZW5hbWU9Tm9uZSk6CiAgICAiIiJEaXNjYXJkIGNhY2hlIGVudHJpZXMgdGhhdCBhcmUgb3V0IG9mIGRhdGUuCiAgICAoVGhpcyBpcyBub3QgY2hlY2tlZCB1cG9uIGVhY2ggY2FsbCEpIiIiCgogICAgaWYgZmlsZW5hbWUgaXMgTm9uZToKICAgICAgICBmaWxlbmFtZXMgPSBsaXN0KGNhY2hlLmtleXMoKSkKICAgIGVsc2U6CiAgICAgICAgaWYgZmlsZW5hbWUgaW4gY2FjaGU6CiAgICAgICAgICAgIGZpbGVuYW1lcyA9IFtmaWxlbmFtZV0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4KCiAgICBmb3IgZmlsZW5hbWUgaW4gZmlsZW5hbWVzOgogICAgICAgIHNpemUsIG10aW1lLCBsaW5lcywgZnVsbG5hbWUgPSBjYWNoZVtmaWxlbmFtZV0KICAgICAgICBpZiBtdGltZSBpcyBOb25lOgogICAgICAgICAgICBjb250aW51ZSAgICMgbm8tb3AgZm9yIGZpbGVzIGxvYWRlZCB2aWEgYSBfX2xvYWRlcl9fCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICNleGNlcHQgb3MuZXJyb3I6CiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkZWwgY2FjaGVbZmlsZW5hbWVdCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgaWYgc2l6ZSAhPSBzdGF0LnN0X3NpemUgb3IgbXRpbWUgIT0gc3RhdC5zdF9tdGltZToKICAgICAgICAgICAgZGVsIGNhY2hlW2ZpbGVuYW1lXQoKCmRlZiB1cGRhdGVjYWNoZShmaWxlbmFtZSwgbW9kdWxlX2dsb2JhbHM9Tm9uZSk6CiAgICAiIiJVcGRhdGUgYSBjYWNoZSBlbnRyeSBhbmQgcmV0dXJuIGl0cyBsaXN0IG9mIGxpbmVzLgogICAgSWYgc29tZXRoaW5nJ3Mgd3JvbmcsIHByaW50IGEgbWVzc2FnZSwgZGlzY2FyZCB0aGUgY2FjaGUgZW50cnksCiAgICBhbmQgcmV0dXJuIGFuIGVtcHR5IGxpc3QuIiIiCgogICAgaWYgZmlsZW5hbWUgaW4gY2FjaGU6CiAgICAgICAgZGVsIGNhY2hlW2ZpbGVuYW1lXQogICAgaWYgbm90IGZpbGVuYW1lIG9yIChmaWxlbmFtZS5zdGFydHN3aXRoKCc8JykgYW5kIGZpbGVuYW1lLmVuZHN3aXRoKCc+JykpOgogICAgICAgIHJldHVybiBbXQoKICAgIGZ1bGxuYW1lID0gZmlsZW5hbWUKICAgIHRyeToKICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgIGJhc2VuYW1lID0gZmlsZW5hbWUKCiAgICAgICAgIyBUcnkgZm9yIGEgX19sb2FkZXJfXywgaWYgYXZhaWxhYmxlCiAgICAgICAgaWYgbW9kdWxlX2dsb2JhbHMgYW5kICdfX2xvYWRlcl9fJyBpbiBtb2R1bGVfZ2xvYmFsczoKICAgICAgICAgICAgbmFtZSA9IG1vZHVsZV9nbG9iYWxzLmdldCgnX19uYW1lX18nKQogICAgICAgICAgICBsb2FkZXIgPSBtb2R1bGVfZ2xvYmFsc1snX19sb2FkZXJfXyddCiAgICAgICAgICAgIGdldF9zb3VyY2UgPSBnZXRhdHRyKGxvYWRlciwgJ2dldF9zb3VyY2UnLCBOb25lKQoKICAgICAgICAgICAgaWYgbmFtZSBhbmQgZ2V0X3NvdXJjZToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBkYXRhID0gZ2V0X3NvdXJjZShuYW1lKQogICAgICAgICAgICAgICAgZXhjZXB0IChJbXBvcnRFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiBkYXRhIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICMgTm8gbHVjaywgdGhlIFBFUDMwMiBsb2FkZXIgY2Fubm90IGZpbmQgdGhlIHNvdXJjZQogICAgICAgICAgICAgICAgICAgICAgICAjIGZvciB0aGlzIG1vZHVsZS4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdCiAgICAgICAgICAgICAgICAgICAgY2FjaGVbZmlsZW5hbWVdID0gKAogICAgICAgICAgICAgICAgICAgICAgICBsZW4oZGF0YSksIE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgIFtsaW5lKydcbicgZm9yIGxpbmUgaW4gZGF0YS5zcGxpdGxpbmVzKCldLCBmdWxsbmFtZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVbZmlsZW5hbWVdWzJdCgogICAgICAgICMgVHJ5IGxvb2tpbmcgdGhyb3VnaCB0aGUgbW9kdWxlIHNlYXJjaCBwYXRoLCB3aGljaCBpcyBvbmx5IHVzZWZ1bAogICAgICAgICMgd2hlbiBoYW5kbGluZyBhIHJlbGF0aXZlIGZpbGVuYW1lLgogICAgICAgIGlmIG9zLnBhdGguaXNhYnMoZmlsZW5hbWUpOgogICAgICAgICAgICByZXR1cm4gW10KCiAgICAgICAgIyBUYWtlIGNhcmUgdG8gaGFuZGxlIHBhY2thZ2VzLgogICAgICAgIGlmIGJhc2VuYW1lID09ICdfX2luaXRfXy5weSc6CiAgICAgICAgICAgICMgZmlsZW5hbWUgcmVmZXJlcyB0byBhIHBhY2thZ2UKICAgICAgICAgICAgYmFzZW5hbWUgPSBmaWxlbmFtZQoKICAgICAgICBmb3IgZGlybmFtZSBpbiBzeXMucGF0aDoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZnVsbG5hbWUgPSBvcy5wYXRoLmpvaW4oZGlybmFtZSwgYmFzZW5hbWUpCiAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBBdHRyaWJ1dGVFcnJvcik6CiAgICAgICAgICAgICAgICAjIE5vdCBzdWZmaWNpZW50bHkgc3RyaW5nLWxpa2UgdG8gZG8gYW55dGhpbmcgdXNlZnVsIHdpdGguCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzdGF0ID0gb3Muc3RhdChmdWxsbmFtZSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICNmaXhtZSBicnl0aG9uLCBpbnZhbGlkIHN5bnRheCAKICAgICAgICAgICAgI2V4Y2VwdCBvcy5lcnJvcjoKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICNmaXhtZSBicnl0aG9uIHVuZXhwZWN0ZWQgdG9rZW4gZWxzZQogICAgICAgICNlbHNlOgogICAgICAgICMgICAgcmV0dXJuIFtdCiAgICB0cnk6CiAgICAgICAgZnA9b3BlbihmdWxsbmFtZSkKICAgICAgICAjZml4bWUgYnJ5dGhvbgogICAgICAgICN3aXRoIHRva2VuaXplLm9wZW4oZnVsbG5hbWUpIGFzIGZwOgogICAgICAgIGxpbmVzID0gZnAucmVhZGxpbmVzKCkKICAgICAgICBmcC5jbG9zZSgpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICByZXR1cm4gW10KICAgIGlmIGxpbmVzIGFuZCBub3QgbGluZXNbLTFdLmVuZHN3aXRoKCdcbicpOgogICAgICAgIGxpbmVzWy0xXSArPSAnXG4nCiAgICBzaXplLCBtdGltZSA9IHN0YXQuc3Rfc2l6ZSwgc3RhdC5zdF9tdGltZQogICAgY2FjaGVbZmlsZW5hbWVdID0gc2l6ZSwgbXRpbWUsIGxpbmVzLCBmdWxsbmFtZQogICAgcmV0dXJuIGxpbmVzCg==',
'/Lib/test.py':'ZnJvbSBvcyBpbXBvcnQgKgo=',
'/Lib/pydom.py':'Y2xhc3MgTm9kZUNvbGxlY3Rpb25TZWxlY3RvcihTZWxlY3Rvcik6CiAgZGVmIF9faW5pdF9fKHNlbGYsIHNlbGVjdG9yLCBjb2xsZWN0aW9uKToKICAgICAgU2VsZWN0b3IuX19pbml0X18oc2VsZiwgc2VsZWN0b3IpCiAgICAgIHNlbGYuX2NvbGxlY3Rpb249Y29sbGVjdGlvbgoKICAgICAgaWYgc2VsZi5fc2VsZWN0b3JfdHlwZSA9PSAnaWQnOgogICAgICAgICBzZWxmLl9tYXRjaD1zZWxmLl9tYXRjaF9pZAogICAgICBlbGlmIHNlbGYuX3NlbGVjdG9yX3R5cGUgPT0ndGFnJzoKICAgICAgICAgc2VsZi5fbWF0Y2g9c2VsZi5fbWF0Y2hfdGFnCiAgICAgIGVsaWYgc2VsZi5fc2VsZWN0b3JfdHlwZSA9PSAnY2xhc3NuYW1lJzoKICAgICAgICAgc2VsZi5fbWF0Y2g9c2VsZi5fbWF0Y2hfY2xhc3NuYW1lCgogIGRlZiBfbWF0Y2hfaWQoc2VsZiwgbm9kZSk6CiAgICAgIGlmIG5vZGUuaWQgaXMgTm9uZTogcmV0dXJuIEZhbHNlCiAgICAgIHJldHVybiBub2RlLmlkID09IHNlbGYuX3NlbGVjdG9yCgogIGRlZiBfbWF0Y2hfdGFnKHNlbGYsIG5vZGUpOgogICAgICByZXR1cm4gbm9kZS50YWdOYW1lID09IHNlbGYuX3NlbGVjdG9yCgogIGRlZiBfbWF0Y2hfY2xhc3NuYW1lKHNlbGYsIG5vZGUpOgogICAgICByZXR1cm4gc2VsZi5fc2VsZWN0b3IgaW4gbm9kZS5jbGFzc25hbWUKCiAgZGVmIGdldChzZWxmKToKICAgICAgX2MxPU5vZGVDb2xsZWN0aW9uKCkKICAgICAgZm9yIF9ub2RlIGluIHNlbGYuX2NvbGxlY3Rpb246CiAgICAgICAgICBpZiBzZWxmLl9tYXRjaChfbm9kZSk6CiAgICAgICAgICAgICBfYzEuYXBwZW5kKF9ub2RlKQoKICAgICAgcmV0dXJuIF9jMQoKY2xhc3MgU2VsZWN0b3I6CiAgdGFncz1bJ0EnLCdBQkJSJywnQUNST05ZTScsJ0FERFJFU1MnLCdBUFBMRVQnLCdCJywnQkRPJywnQklHJywnQkxPQ0tRVU9URScsCiAgICAgICAgJ0JVVFRPTicsJ0NBUFRJT04nLCdDRU5URVInLCdDSVRFJywnQ09ERScsJ0RFTCcsJ0RGTicsJ0RJUicsJ0RJVicsJ0RMJywKICAgICAgICAnRU0nLCdGSUVMRFNFVCcsJ0ZPTlQnLCdGT1JNJywnRlJBTUVTRVQnLCdIMScsJ0gyJywnSDMnLCdINCcsJ0g1JywnSDYnLAogICAgICAgICdJJywnSUZSQU1FJywnSU5TJywnS0JEJywnTEFCRUwnLCdMRUdFTkQnLCdNQVAnLCdNRU5VJywnTk9GUkFNRVMnLCAKICAgICAgICAnTk9TQ1JJUFQnLCdPQkpFQ1QnLCdPTCcsJ09QVEdST1VQJywnUFJFJywnUScsJ1MnLCdTQU1QJywnU0NSSVBUJywgCiAgICAgICAgJ1NFTEVDVCcsJ1NNQUxMJywnU1BBTicsJ1NUUklLRScsJ1NUUk9ORycsJ1NUWUxFJywnU1VCJywnU1VQJywnVEFCTEUnLAogICAgICAgICdURVhUQVJFQScsJ1RJVExFJywnVFQnLCdVJywnVUwnLCdWQVInLCdCT0RZJywnQ09MR1JPVVAnLCdERCcsJ0RUJywKICAgICAgICAnSEVBRCcsJ0hUTUwnLCdMSScsJ1AnLCdUQk9EWScsJ09QVElPTicsJ1REJywnVEZPT1QnLCdUSCcsJ1RIRUFEJywnVFInLAogICAgICAgICdBUkVBJywnQkFTRScsJ0JBU0VGT05UJywnQlInLCdDT0wnLCdGUkFNRScsJ0hSJywnSU1HJywnSU5QVVQnLAogICAgICAgICdJU0lOREVYJywnTElOSycsJ01FVEEnLCdQQVJBTScsICAjSFRNTCA1IGVsZW1lbnRzLi4uCiAgICAgICAgJ0FSVElDTEUnLCdBU0lERScsJ0ZJR1VSRScsJ0ZPT1RFUicsJ0hFQURFUicsJ05BVicsJ1NFQ1RJT04nLCdBVURJTycsCiAgICAgICAgJ1ZJREVPJywnQ0FOVkFTJywnQ09NTUFORCcsJ0RBVEFMSVNUJywnREVUQUlMUycsJ09VVFBVVCcsJ1BST0dSRVNTJywKICAgICAgICAnSEdST1VQJywnTUFSSycsJ01FVEVSJywnVElNRScsJ1JQJywnUlQnLCdSVUJZJ10KCiAgZGVmIF9faW5pdF9fKHNlbGYsIHNlbGVjdG9yLCBzdGFydF9ub2RlPWRvYyk6CiAgICAgIHNlbGYuX2RvYz1zdGFydF9ub2RlCgogICAgICBpZiAoaXNpbnN0YW5jZShzZWxlY3Rvciwgc3RyKSk6CiAgICAgICAgIGlmIHNlbGVjdG9yLnN0YXJ0c3dpdGgoIi4iKTogICAjY2xhc3Mgc2VsZWN0b3IKICAgICAgICAgICAgc2VsZi5fc2VsZWN0b3I9c2VsZWN0b3JbMTpdCiAgICAgICAgICAgIHNlbGYuX3NlbGVjdG9yX3R5cGU9ImNsYXNzbmFtZSIKICAgICAgICAgZWxpZiBzZWxlY3Rvci5zdGFydHN3aXRoKCIjIik6ICAjaWQgc2VsZWN0b3IKICAgICAgICAgICAgc2VsZi5fc2VsZWN0b3I9c2VsZWN0b3JbMTpdCiAgICAgICAgICAgIHNlbGYuX3NlbGVjdG9yX3R5cGU9ImlkIgogICAgICAgICBlbGlmIHNlbGVjdG9yLnVwcGVyKCkgaW4gdGFnczoKICAgICAgICAgICAgc2VsZi5fc2VsZWN0b3I9c2VsZWN0b3IudXBwZXIoKQogICAgICAgICAgICBzZWxmLl9zZWxlY3Rvcl90eXBlPSJ0YWciCiAgICAgICAgIGVsc2U6ICAKICAgICAgICAgICAgc2VsZi5fc2VsZWN0b3I9c2VsZWN0b3IKICAgICAgICAgICAgc2VsZi5fc2VsZWN0b3JfdHlwZT0ic2VsZWN0b3IiCiAgICAgIGVsc2U6ICAjdGhpcyBpcyBhIGZ1bmN0aW9uCiAgICAgICAgIHNlbGYuX3NlbGVjdG9yX3R5cGU9InNlbGVjdG9yIgogICAgICAgICBzZWxmLl9mdW5jdGlvbj1zZWxlY3RvcgogICAgICAgICBzZWxmLmdldD1zZWxmLl9mdW5jdGlvbl9nZXQKCiAgZGVmIF9mdW5jdGlvbl9nZXQoc2VsZik6CiAgICAgIGRlZiByZWN1cnNlKG5vZGUpOgogICAgICAgICAgX2xpc3Q9W10KICAgICAgICAgIGlmIHNlbGYuX2Z1bmN0aW9uKG5vZGUpOgogICAgICAgICAgICAgX2xpc3QuYXBwZW5kKG5vZGUpCgogICAgICAgICAgZm9yIF9ub2RlIGluIG5vZGUuY2hpbGROb2RlczoKICAgICAgICAgICAgICBfbGlzdCs9cmVjdXJzZShfbm9kZSkKCiAgICAgICAgICByZXR1cm4gX2xpc3QKCiAgICAgIF9tYXRjaGVkX25vZGVzPXJlY3Vyc2Uoc2VsZi5fZG9jKQogICAgICByZXR1cm4gTm9kZUNvbGxlY3Rpb24oX21hdGNoZWRfbm9kZXMpCgogIGRlZiBnZXQoc2VsZik6CiAgICAgIGlmIHNlbGYuX3NlbGVjdG9yX3R5cGU9PSJpZCI6CiAgICAgICAgIF9tYXRjaGVkX25vZGVzPXNlbGYuX2RvYy5nZXQoaWQ9c2VsZi5fc2VsZWN0b3IpCiAgICAgIGVsaWYgc2VsZi5fc2VsZWN0b3JfdHlwZT09ImNsYXNzbmFtZSI6CiAgICAgICAgIF9tYXRjaGVkX25vZGVzPXNlbGYuX2RvYy5nZXQoY2xhc3NuYW1lPXNlbGYuX3NlbGVjdG9yKQogICAgICBlbGlmIHNlbGYuX3NlbGVjdG9yX3R5cGUgPT0gInRhZyI6CiAgICAgICAgIF9tYXRjaGVkX25vZGVzPXNlbGYuX2RvYy5nZXQodGFnPXNlbGYuX3NlbGVjdG9yKQogICAgICBlbGlmIHNlbGYuX3NlbGVjdG9yX3R5cGU9PSJzZWxlY3RvciI6CiAgICAgICAgIF9tYXRjaGVkX25vZGVzPXNlbGYuX2RvYy5nZXQoc2VsZWN0b3I9c2VsZi5fc2VsZWN0b3IpCiAgICAgIGVsc2U6CiAgICAgICAgIF9tYXRjaGVkX25vZGVzPVtdCgogICAgICByZXR1cm4gTm9kZUNvbGxlY3Rpb24oX21hdGNoZWRfbm9kZXMpCgpjbGFzcyBOb2RlQ29sbGVjdGlvbjoKICBkZWYgX19pbml0X18oc2VsZiwgbm9kZXM9W10pOgogICAgICBzZWxmLl9ub2Rlcz1ub2RlcwoKICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgcmV0dXJuIGxlbihzZWxmLl9ub2RlcykKCiAgZGVmIF9faXRlbV9fKHNlbGYsIGkpOgogICAgICByZXR1cm4gc2VsZi5fbm9kZXNbaV0KCiAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGkpOgogICAgICByZXR1cm4gc2VsZi5fbm9kZXNbaV0KCiAgZGVmIF9fYWRkX18oc2VsZiwgbm9kZXMpOgogICAgICBzZWxmLl9ub2Rlcys9bm9kZXMKCiAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgIF9zdHI9W10KICAgICAgZm9yIF9ub2RlIGluIHNlbGYuX25vZGVzOgogICAgICAgICAgX3N0ci5hcHBlbmQoX25vZGUuX19zdHJfXygpKQoKICAgICAgcmV0dXJuICc8YnI+Jy5qb2luKF9zdHIpCgogIGRlZiBhcHBlbmQoc2VsZiwgbm9kZSk6ICAgICAgICAKICAgICAgc2VsZi5fbm9kZXMuYXBwZW5kKG5vZGUpCgogIGRlZiBuZXh0KHNlbGYpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICB5aWVsZCBfbm9kZQoKICBkZWYgYWRkKHNlbGYsIHNlbGVjdG9yLCBjb250ZXh0KToKICAgICAgX25zPU5vZGVDb2xsZWN0aW9uU2VsZWN0b3Ioc2VsZWN0b3IsIHNlbGYpCiAgICAgIHNlbGYuX25vZGVzKz1fbnMuZ2V0KCkKCiAgZGVmIGFkZEJhY2soc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGFkZENsYXNzKHNlbGYsIGNsYXNzbmFtZSk6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLmFkZENsYXNzKGNsYXNzbmFtZSkKCiAgZGVmIGFmdGVyKHNlbGYsIGNvbnRlbnQpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfbm9kZS5hZnRlcihjb250ZW50KQoKICBkZWYgYXBwZW5kX2NvbnRlbnQoc2VsZiwgY29udGVudCk6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLmFwcGVuZChjb250ZW50KQoKICBkZWYgYXBwZW5kVG8oc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGF0dHIoc2VsZiwgcHJvcGVydHksIHZhbHVlPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBiZWZvcmUoc2VsZiwgY29udGVudCk6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLmJlZm9yZShjb250ZW50KQoKICBkZWYgYmluZChzZWxmLCBoYW5kbGVyLCBldmVudCk6CiAgICAgIHBhc3MKCiAgZGVmIGJsdXIoc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgY2hhbmdlKHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIGNoaWxkcmVuKHNlbGYsIHNlbGVjdG9yPU5vbmUpOgogICAgICBfYz1Ob2RlQ29sbGVjdGlvbigpCiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIGZvciBfY2hpbGQgaW4gX25vZGUuZ2V0X2NoaWxkcmVuKCk6CiAgICAgICAgICAgICAgX2MuYXBwZW5kKF9jaGlsZCkKCiAgICAgIGlmIHNlbGVjdG9yIGlzIE5vbmU6CiAgICAgICAgIHJldHVybiBfYwoKICAgICAgI3NlbGVjdG9yIGlzIG5vdCBOb25lCiAgICAgIF9ucz1Ob2RlQ29sbGVjdGlvblNlbGVjdG9yKHNlbGVjdG9yLCBfYykKICAgICAgcmV0dXJuIF9ucy5nZXQoKQoKICBkZWYgY2xpY2soc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgY2xvbmUoc2VsZik6CiAgICAgIHJldHVybiBOb2RlQ29sbGVjdGlvbihbX25vZGUuY2xvbmUoKSBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXNdKQoKICBkZWYgY2xvc2VzdChzZWxmLCBzZWxlY3Rvcik6CiAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZWN0b3IsIHN0cik6CiAgICAgICAgIF9ucz1TZWxlY3RvcihzZWxlY3RvcikKICAgICAgICAgc2VsZWN0b3I9X25zLmdldCgpCgogICAgICBfYz1Ob2RlQ29sbGVjdGlvbigpCiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9jLmFwcGVuZChfbm9kZS5jbG9zZXN0KHNlbGVjdG9yKSkKCiAgICAgIHJldHVybiBfYwoKICBkZWYgY29udGFpbnMoc2VsZiwgdGV4dCk6CiAgICAgIHBhc3MKCiAgZGVmIGNvbnRlbnRzKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBjc3Moc2VsZiwgcHJvcGVydHksIHZhbHVlPU5vbmUpOgogICAgICBpZiB2YWx1ZSBpcyBOb25lIGFuZCBub3QgaXNpbnN0YW5jZShwcm9wZXJ0eSwgZGljdCk6CiAgICAgICAgIHJldHVybiBzZWxmLl9ub2Rlc1swXS5jc3MocHJvcGVydHkpCgogICAgICBpZiBpc2luc3RhbmNlKHByb3BlcnR5LCBkaWN0KToKICAgICAgICAgZm9yIF9ub2RlIGluIHNlbGYuX25vZGVzOgogICAgICAgICAgICAgX25vZGUuY3NzKHByb3BlcnR5KQogICAgICBlbHNlOgogICAgICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICAgICBfbm9kZS5jc3MocHJvcGVydHksIHZhbHVlKQoKICBkZWYgZGF0YShzZWxmKToKICAgICAgcGFzcwoKICBkZWYgZGJsY2xpY2soc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgZGV0YWNoKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBlYWNoKHNlbGYsIGZ1bmMpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBmdW5jKF9ub2RlKQoKICBkZWYgZW1wdHkoc2VsZik6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLmVtcHR5KCkKCiAgZGVmIGVxKHNlbGYsIGluZGV4KToKICAgICAgaWYgaW5kZXggPCBsZW4oc2VsZi5fbm9kZXMpOgogICAgICAgICByZXR1cm4gTm9kZUNvbGxlY3Rpb25zKHNlbGYuX25vZGVzW2luZGV4XSkKCiAgICAgIHJldHVybiBOb2RlQ29sbGVjdGlvbnMoKQoKICBkZWYgZXJyb3Ioc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgZmFkZUluKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBmYWRlT3V0KHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBmYWRlVG8oc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGZhZGVUb2dnbGUoc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGZpbHRlcihzZWxmLCBzZWxlY3Rvcik6CiAgICAgIF9ucz1Ob2RlQ29sbGVjdGlvblNlbGVjdG9yKHNlbGVjdG9yLCBzZWxmKQogICAgICByZXR1cm4gX25zLmdldCgpCgogIGRlZiBmaW5kKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBmaXJzdChzZWxmKToKICAgICAgaWYgbGVuKHNlbGYuX25vZGVzKSA9PSAwOgogICAgICAgICByZXR1cm4gTm9kZUNvbGxlY3Rpb24oKQoKICAgICAgcmV0dXJuIE5vZGVDb2xsZWN0aW9uKFtzZWxmLl9ub2Rlc1swXV0pCgogIGRlZiBmb2N1cyhzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBmb2N1c2luKHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIGZvY3Vzb3V0KHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIGdldChzZWxmLCBpbmRleD1Ob25lKToKICAgICAgaWYgaW5kZXggaXMgTm9uZToKICAgICAgICAgcmV0dXJuIFtfbm9kZSBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXNdCgogICAgICByZXR1cm4gc2VsZi5fbm9kZXNbaW5kZXhdCgogIGRlZiBndChzZWxmLCBpbmRleCk6CiAgICAgIHJldHVybiBOb2RlQ29sbGVjdGlvbihbc2VsZi5fbm9kZXNbaW5kZXg6XV0pCgogIGRlZiBoYXMoc2VsZiwgc2VsZWN0b3IpOgogICAgICBwYXNzCiAgCiAgZGVmIGhhc0NsYXNzKHNlbGYsIG5hbWUpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBpZiBfbm9kZS5oYXNDbGFzcyhuYW1lKToKICAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgICByZXR1cm4gRmFsc2UKCiAgZGVmIGhlaWdodChzZWxmLCB2YWx1ZT1Ob25lKToKICAgICAgaWYgdmFsdWUgaXMgTm9uZToKICAgICAgICAgcmV0dXJuIHNlbGYuX25vZGVzWzBdLmNzcygnaGVpZ2h0JykKCiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J2hlaWdodCc6IHZhbHVlfSkKCiAgZGVmIGhpZGUoc2VsZik6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J2Rpc3BsYXknOiAnbm9uZSd9KQoKICBkZWYgaG92ZXIoc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgaHRtbChzZWxmLCBjb250ZW50PU5vbmUpOgogICAgICBpZiBjb250ZW50IGlzIE5vbmU6CiAgICAgICAgIHJldHVybiBzZWxmLl9ub2Rlc1swXS5nZXRfaHRtbCgpCgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfbm9kZS5zZXRfaHRtbChjb250ZW50KQoKICBkZWYgaW5uZXJIZWlnaHQoc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGlubmVyV2lkdGgoc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIGluc2VydEFmdGVyKHNlbGYsIHRhcmdldCk6CiAgICAgIHBhc3MKCiAgZGVmIGluc2VydEJlZm9yZShzZWxmLCB0YXJnZXQpOgogICAgICBwYXNzCgogICNkZWYgaXMoc2VsZiwgc2VsZWN0b3IpOgogICMgICAgcGFzcwoKICBkZWYga2V5ZG93bihzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBrZXlwcmVzcyhzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBrZXl1cChzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBsYXN0KHNlbGYpOgogICAgICByZXR1cm4gc2VsZi5fbm9kZXNbLTFdCgogIEBwcm9wZXJ0eQogIGRlZiBsZW5ndGgoc2VsZik6CiAgICAgIHJldHVybiBsZW4oc2VsZi5fbm9kZXMpCgogIGRlZiBtb3VzZWRvd24oc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgbW91c2VlbnRlcihzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBtb3VzZWxlYXZlKHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIG1vdXNlbW92ZShzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBtb3VzZW91dChzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBtb3VzZW92ZXIoc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgbW91c2V1cChzZWxmLCBoYW5kbGVyPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBuZXh0KHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBuZXh0QWxsKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBuZXh0VXRpbChzZWxmKToKICAgICAgcGFzcwoKICBkZWYgb2ZmKHNlbGYsIGhhbmRsZXIpOgogICAgICBwYXNzCgogIGRlZiBvZmZzZXQoc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIG9mZnNldFBhcmVudChzZWxmKToKICAgICAgcGFzcwoKICBkZWYgb24oc2VsZiwgaGFuZGxlcik6CiAgICAgIHBhc3MKCiAgZGVmIG91dGVySGVpZ2h0KHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBvdXRlcldpZHRoKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBwYXJlbnQoc2VsZik6CiAgICAgIF9wPU5vZGVDb2xsZWN0aW9uKCkKICAgICAgZm9yIF9ub2RlIGluIHNlbGYuX25vZGVzOgogICAgICAgICAgX3AuYXBwZW5kKF9ub2RlLmdldF9wYXJlbnQoKSkKCiAgZGVmIHBhcmVudHMoc2VsZiwgc2VsZWN0b3I9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIHBhcmVudHNVbnRpbChzZWxmLCBzZWxlY3Rvcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgcG9zaXRpb24oc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIHByZXBlbmQoc2VsZiwgY29udGVudCk6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLnByZXBlbmQoY29udGVudCkKCiAgZGVmIHByZXBlbmRUbyhzZWxmLCB0YXJnZXQpOgogICAgICBwYXNzCgogIGRlZiBwcmV2KHNlbGYpOgogICAgICBfcDE9Tm9kZUNvbGxlY3Rpb24oKQogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfcGFyZW50PV9ub2RlLmdldF9wYXJlbnQoKQogICAgICAgICAgZm9yIF9pIGluIHJhbmdlKGxlbihfcGFyZW50LmNoaWxkTm9kZXMpKToKICAgICAgICAgICAgICBpZiBfcGFyZW50LmNoaWxkTm9kZXNbX2ldID09IF9ub2RlOgogICAgICAgICAgICAgICAgIGlmIF9pID4gMDoKICAgICAgICAgICAgICAgICAgICBfcDEuYXBwZW5kKF9wYXJlbnQuY2hpbGROb2Rlc1tfaS0xXSkKICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgcmV0dXJuIF9wMQoKICBkZWYgcHJldkFsbChzZWxmLCBzZWxlY3Rvcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgcHJldlVudGlsKHNlbGYsIHNlbGVjdG9yPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBwcm9wKHNlbGYsIHByb3BlcnR5LCB2YWx1ZT1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgcmVhZHkoc2VsZiwgZnVuYyk6CiAgICAgIHBhc3MKCiAgZGVmIHJlbW92ZShzZWxmKToKICAgICAgZm9yIF9ub2RlIGluIHNlbGYuX25vZGVzOgogICAgICAgICAgX25vZGUuZ2V0X3BhcmVudCgpLnJlbW92ZUNoaWxkKF9ub2RlKSAKCiAgZGVmIHJlbW92ZUF0dHIoc2VsZiwgYXR0cik6CiAgICAgIHBhc3MKCiAgZGVmIHJlbW92ZUNsYXNzKHNlbGYsIG5hbWUpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfbm9kZS5yZW1vdmVDbGFzcyhuYW1lKQoKICBkZWYgcmVtb3ZlUHJvcChzZWxmLCBwcm9wZXJ0eSk6CiAgICAgIHBhc3MKCiAgZGVmIHJlcGxhY2VBbGwoc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIHJlcGxhY2VXaXRoKHNlbGYsIGNvbnRlbnQpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfbm9kZS5nZXRfcGFyZW50KCkucmVwbGFjZVdpdGgoY29udGVudCwgX25vZGUpCgogIGRlZiByZXNpemUoc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgc2Nyb2xsKHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIHNjcm9sbExlZnQoc2VsZiwgdmFsdWU9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIHNjcm9sbFRvcChzZWxmLCB2YWx1ZT1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgc2VsZWN0KHNlbGYsIGhhbmRsZXI9Tm9uZSk6CiAgICAgIHBhc3MKCiAgZGVmIHNob3coc2VsZik6CiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J2Rpc3BsYXknOiAnYmxvY2snfSkKCiAgZGVmIHNpYmxpbmdzKHNlbGYsIHNlbGVjdG9yPU5vbmUpOgogICAgICBwYXNzCgogIGRlZiBzaXplKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBzbGljZShzZWxmLCBpbmRleDE9Tm9uZSwgaW5kZXgyPU5vbmUpOgogICAgICBpZiBpbmRleDEgaXMgTm9uZSBhbmQgaW5kZXgyIGlzIE5vbmU6CiAgICAgICAgIHJldHVybiBOb2RlQ29sbGVjdGlvbigpCgogICAgICByZXR1cm4gTm9kZUNvbGxlY3Rpb24oc2VsZi5fbm9kZXNbaW5kZXgxOmluZGV4Ml0pCgogIGRlZiBzbGlkZURvd24oc2VsZik6CiAgICAgIHBhc3MKCiAgZGVmIHNsaWRlVG9nZ2xlKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBzbGlkZVVwKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiBzdWJtaXQoc2VsZiwgaGFuZGxlcj1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgdGV4dChzZWxmLCBjb250ZW50PU5vbmUpOgogICAgICBpZiBjb250ZW50IGlzIE5vbmU6CiAgICAgICAgIHJldHVybiBzZWxmLl9ub2Rlc1swXS5nZXRfdGV4dCgpCgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfbm9kZS5zZXRfdGV4dChjb250ZW50KSAKCiAgZGVmIHRvZ2dsZShzZWxmLCBGdW5jdGlvbj1Ob25lKToKICAgICAgaWYgRnVuY3Rpb24gaXMgTm9uZToKICAgICAgICAgX3Nob3c9VHJ1ZQogICAgICAgICBpZiBzZWxmLl9ub2Rlc1swXS5jc3MoJ2Rpc3BsYXknKSAhPSAnbm9uZSc6CiAgICAgICAgICAgIF9zaG93PUZhbHNlCiAgICAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgICAgIGlmIF9zaG93OgogICAgICAgICAgICAgICAgX25vZGUuc2V0X3N0eWxlKHsnZGlzcGxheSc6ICdibG9jayd9KQogICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J2Rpc3BsYXknOiAnbm9uZSd9KQogIAogICAgICAgICAgICAgX3Nob3c9bm90IF9zaG93CgogICAgICAgICByZXR1cm4KCiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIGlmIEZ1bmN0aW9uKF9ub2RlKToKICAgICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J2Rpc3BsYXknOiAnYmxvY2snfSkKICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICBfbm9kZS5zZXRfc3R5bGUoeydkaXNwbGF5JzogJ25vbmUnfSkKCiAgZGVmIHRvZ2dsZUNsYXNzKHNlbGYpOgogICAgICBwYXNzCgogIGRlZiB0b0xpc3Qoc2VsZik6CiAgICAgIHJldHVybiBzZWxmLl9ub2RlcwoKICB0b0FycmF5PXRvTGlzdCAgICNmb3IgalF1ZXJ5IGNvbXBhdGliaWxpdHkKCiAgZGVmIHRyaWdnZXIoc2VsZiwgZXZlbnRfdHlwZSk6CiAgICAgIHBhc3MKCiAgZGVmIHRyaWdnZXJIYW5kbGVyKHNlbGYsIGV2ZW50X3R5cGUpOgogICAgICBwYXNzCgogIGRlZiB1bmJpbmQoc2VsZiwgaGFuZGxlcik6CiAgICAgIHBhc3MKCiAgZGVmIHVubG9hZChzZWxmLCBoYW5kbGVyKToKICAgICAgcGFzcwoKICBkZWYgdW53cmFwKHNlbGYpOgogICAgICBmb3IgX25vZGUgaW4gc2VsZi5fbm9kZXM6CiAgICAgICAgICBfcGFyZW50PV9ub2RlLmdldF9wYXJlbnQoKQogICAgICAgICAgX2dyYW5kcGFyZW50PV9wYXJlbnQuZ2V0X3BhcmVudCgpCiAgICAgICAgICBfZ3JhbmRwYXJlbnQucmVwbGFjZUNoaWxkKF9ub2RlLCBfcGFyZW50KQoKICAgICAgICAgIF9wYXJlbnQucmVtb3ZlKCkKCiAgZGVmIHZhbChzZWxmLCB2YWx1ZT1Ob25lKToKICAgICAgcGFzcwoKICBkZWYgd2lkdGgoc2VsZiwgd2lkdGg9Tm9uZSk6CiAgICAgIGlmIHdpZHRoIGlzIE5vbmU6CiAgICAgICAgIHJldHVybiBzZWxmLl9ub2Rlc1swXS5jc3MoJ3dpZHRoJykKCiAgICAgIGZvciBfbm9kZSBpbiBzZWxmLl9ub2RlczoKICAgICAgICAgIF9ub2RlLnNldF9zdHlsZSh7J3dpZHRoJzogd2lkdGh9KQoKICBkZWYgd3JhcChzZWxmKToKICAgICAgcGFzcwoKICBkZWYgd3JhcEFsbChzZWxmKToKICAgICAgcGFzcwoKICBkZWYgd3JhcElubmVyKHNlbGYpOgogICAgICBwYXNzCgpkZWYgYnlJZChpZCk6CiAgICBfcmVzdWx0PWRvYy5nZXQoaWQ9aWQpCiAgICByZXR1cm4gX3Jlc3VsdFswXQoKZGVmIGNyZWF0ZUNTU0NsYXNzKGNzc3RleHQpOgogICAgX3N0eWxlPWRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpCiAgICBfc3R5bGUudHlwZT0ndGV4dC9jc3MnCiAgICBfc3R5bGUuaW5uZXJIVE1MID0gY3NzdGV4dAogICAgZG9jLmdldCh0YWc9J2hlYWQnKVswXS5hcHBlbmRDaGlsZChfc3R5bGUpCg==',
'/Lib/keyword.py':'a3dsaXN0ID0gWwojLS1zdGFydCBrZXl3b3Jkcy0tCiAgICAgICAgJ0ZhbHNlJywKICAgICAgICAnTm9uZScsCiAgICAgICAgJ1RydWUnLAogICAgICAgICdhbmQnLAogICAgICAgICdhcycsCiAgICAgICAgJ2Fzc2VydCcsCiAgICAgICAgJ2JyZWFrJywKICAgICAgICAnY2xhc3MnLAogICAgICAgICdjb250aW51ZScsCiAgICAgICAgJ2RlZicsCiAgICAgICAgJ2RlbCcsCiAgICAgICAgJ2VsaWYnLAogICAgICAgICdlbHNlJywKICAgICAgICAnZXhjZXB0JywKICAgICAgICAnZmluYWxseScsCiAgICAgICAgJ2ZvcicsCiAgICAgICAgJ2Zyb20nLAogICAgICAgICdnbG9iYWwnLAogICAgICAgICdpZicsCiAgICAgICAgJ2ltcG9ydCcsCiAgICAgICAgJ2luJywKICAgICAgICAnaXMnLAogICAgICAgICdsYW1iZGEnLAogICAgICAgICdub25sb2NhbCcsCiAgICAgICAgJ25vdCcsCiAgICAgICAgJ29yJywKICAgICAgICAncGFzcycsCiAgICAgICAgJ3JhaXNlJywKICAgICAgICAncmV0dXJuJywKICAgICAgICAndHJ5JywKICAgICAgICAnd2hpbGUnLAogICAgICAgICd3aXRoJywKICAgICAgICAneWllbGQnLAojLS1lbmQga2V5d29yZHMtLQogICAgICAgIF0KCmRlZiBpc2tleXdvcmQod29yZCk6CiAgICByZXR1cm4gd29yZCBpbiBrd2xpc3QK',
'/Lib/sre_constants.py':'IwojIFNlY3JldCBMYWJzJyBSZWd1bGFyIEV4cHJlc3Npb24gRW5naW5lCiMKIyB2YXJpb3VzIHN5bWJvbHMgdXNlZCBieSB0aGUgcmVndWxhciBleHByZXNzaW9uIGVuZ2luZS4KIyBydW4gdGhpcyBzY3JpcHQgdG8gdXBkYXRlIHRoZSBfc3JlIGluY2x1ZGUgZmlsZXMhCiMKIyBDb3B5cmlnaHQgKGMpIDE5OTgtMjAwMSBieSBTZWNyZXQgTGFicyBBQi4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBTZWUgdGhlIHNyZS5weSBmaWxlIGZvciBpbmZvcm1hdGlvbiBvbiB1c2FnZSBhbmQgcmVkaXN0cmlidXRpb24uCiMKCiMiIiJJbnRlcm5hbCBzdXBwb3J0IG1vZHVsZSBmb3Igc3JlIiIiCgojIHVwZGF0ZSB3aGVuIGNvbnN0YW50cyBhcmUgYWRkZWQgb3IgcmVtb3ZlZAoKTUFHSUMgPSAyMDAzMTAxNwoKIyBtYXggY29kZSB3b3JkIGluIHRoaXMgcmVsZWFzZQoKTUFYUkVQRUFUID0gNjU1MzUKCiMgU1JFIHN0YW5kYXJkIGV4Y2VwdGlvbiAoYWNjZXNzIGFzIHNyZS5lcnJvcikKIyBzaG91bGQgdGhpcyByZWFsbHkgYmUgaGVyZT8KCmNsYXNzIGVycm9yKEV4Y2VwdGlvbik6CiAgICBwYXNzCgojIG9wZXJhdG9ycwoKRkFJTFVSRSA9ICJmYWlsdXJlIgpTVUNDRVNTID0gInN1Y2Nlc3MiCgpBTlkgPSAiYW55IgpBTllfQUxMID0gImFueV9hbGwiCkFTU0VSVCA9ICJhc3NlcnQiCkFTU0VSVF9OT1QgPSAiYXNzZXJ0X25vdCIKQVQgPSAiYXQiCkJJR0NIQVJTRVQgPSAiYmlnY2hhcnNldCIKQlJBTkNIID0gImJyYW5jaCIKQ0FMTCA9ICJjYWxsIgpDQVRFR09SWSA9ICJjYXRlZ29yeSIKQ0hBUlNFVCA9ICJjaGFyc2V0IgpHUk9VUFJFRiA9ICJncm91cHJlZiIKR1JPVVBSRUZfSUdOT1JFID0gImdyb3VwcmVmX2lnbm9yZSIKR1JPVVBSRUZfRVhJU1RTID0gImdyb3VwcmVmX2V4aXN0cyIKSU4gPSAiaW4iCklOX0lHTk9SRSA9ICJpbl9pZ25vcmUiCklORk8gPSAiaW5mbyIKSlVNUCA9ICJqdW1wIgpMSVRFUkFMID0gImxpdGVyYWwiCkxJVEVSQUxfSUdOT1JFID0gImxpdGVyYWxfaWdub3JlIgpNQVJLID0gIm1hcmsiCk1BWF9SRVBFQVQgPSAibWF4X3JlcGVhdCIKTUFYX1VOVElMID0gIm1heF91bnRpbCIKTUlOX1JFUEVBVCA9ICJtaW5fcmVwZWF0IgpNSU5fVU5USUwgPSAibWluX3VudGlsIgpORUdBVEUgPSAibmVnYXRlIgpOT1RfTElURVJBTCA9ICJub3RfbGl0ZXJhbCIKTk9UX0xJVEVSQUxfSUdOT1JFID0gIm5vdF9saXRlcmFsX2lnbm9yZSIKUkFOR0UgPSAicmFuZ2UiClJFUEVBVCA9ICJyZXBlYXQiClJFUEVBVF9PTkUgPSAicmVwZWF0X29uZSIKU1VCUEFUVEVSTiA9ICJzdWJwYXR0ZXJuIgpNSU5fUkVQRUFUX09ORSA9ICJtaW5fcmVwZWF0X29uZSIKCiMgcG9zaXRpb25zCkFUX0JFR0lOTklORyA9ICJhdF9iZWdpbm5pbmciCkFUX0JFR0lOTklOR19MSU5FID0gImF0X2JlZ2lubmluZ19saW5lIgpBVF9CRUdJTk5JTkdfU1RSSU5HID0gImF0X2JlZ2lubmluZ19zdHJpbmciCkFUX0JPVU5EQVJZID0gImF0X2JvdW5kYXJ5IgpBVF9OT05fQk9VTkRBUlkgPSAiYXRfbm9uX2JvdW5kYXJ5IgpBVF9FTkQgPSAiYXRfZW5kIgpBVF9FTkRfTElORSA9ICJhdF9lbmRfbGluZSIKQVRfRU5EX1NUUklORyA9ICJhdF9lbmRfc3RyaW5nIgpBVF9MT0NfQk9VTkRBUlkgPSAiYXRfbG9jX2JvdW5kYXJ5IgpBVF9MT0NfTk9OX0JPVU5EQVJZID0gImF0X2xvY19ub25fYm91bmRhcnkiCkFUX1VOSV9CT1VOREFSWSA9ICJhdF91bmlfYm91bmRhcnkiCkFUX1VOSV9OT05fQk9VTkRBUlkgPSAiYXRfdW5pX25vbl9ib3VuZGFyeSIKCiMgY2F0ZWdvcmllcwpDQVRFR09SWV9ESUdJVCA9ICJjYXRlZ29yeV9kaWdpdCIKQ0FURUdPUllfTk9UX0RJR0lUID0gImNhdGVnb3J5X25vdF9kaWdpdCIKQ0FURUdPUllfU1BBQ0UgPSAiY2F0ZWdvcnlfc3BhY2UiCkNBVEVHT1JZX05PVF9TUEFDRSA9ICJjYXRlZ29yeV9ub3Rfc3BhY2UiCkNBVEVHT1JZX1dPUkQgPSAiY2F0ZWdvcnlfd29yZCIKQ0FURUdPUllfTk9UX1dPUkQgPSAiY2F0ZWdvcnlfbm90X3dvcmQiCkNBVEVHT1JZX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV9saW5lYnJlYWsiCkNBVEVHT1JZX05PVF9MSU5FQlJFQUsgPSAiY2F0ZWdvcnlfbm90X2xpbmVicmVhayIKQ0FURUdPUllfTE9DX1dPUkQgPSAiY2F0ZWdvcnlfbG9jX3dvcmQiCkNBVEVHT1JZX0xPQ19OT1RfV09SRCA9ICJjYXRlZ29yeV9sb2Nfbm90X3dvcmQiCkNBVEVHT1JZX1VOSV9ESUdJVCA9ICJjYXRlZ29yeV91bmlfZGlnaXQiCkNBVEVHT1JZX1VOSV9OT1RfRElHSVQgPSAiY2F0ZWdvcnlfdW5pX25vdF9kaWdpdCIKQ0FURUdPUllfVU5JX1NQQUNFID0gImNhdGVnb3J5X3VuaV9zcGFjZSIKQ0FURUdPUllfVU5JX05PVF9TUEFDRSA9ICJjYXRlZ29yeV91bmlfbm90X3NwYWNlIgpDQVRFR09SWV9VTklfV09SRCA9ICJjYXRlZ29yeV91bmlfd29yZCIKQ0FURUdPUllfVU5JX05PVF9XT1JEID0gImNhdGVnb3J5X3VuaV9ub3Rfd29yZCIKQ0FURUdPUllfVU5JX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV91bmlfbGluZWJyZWFrIgpDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSyA9ICJjYXRlZ29yeV91bmlfbm90X2xpbmVicmVhayIKCk9QQ09ERVMgPSBbCgogICAgIyBmYWlsdXJlPTAgc3VjY2Vzcz0xIChqdXN0IGJlY2F1c2UgaXQgbG9va3MgYmV0dGVyIHRoYXQgd2F5IDotKQogICAgRkFJTFVSRSwgU1VDQ0VTUywKCiAgICBBTlksIEFOWV9BTEwsCiAgICBBU1NFUlQsIEFTU0VSVF9OT1QsCiAgICBBVCwKICAgIEJSQU5DSCwKICAgIENBTEwsCiAgICBDQVRFR09SWSwKICAgIENIQVJTRVQsIEJJR0NIQVJTRVQsCiAgICBHUk9VUFJFRiwgR1JPVVBSRUZfRVhJU1RTLCBHUk9VUFJFRl9JR05PUkUsCiAgICBJTiwgSU5fSUdOT1JFLAogICAgSU5GTywKICAgIEpVTVAsCiAgICBMSVRFUkFMLCBMSVRFUkFMX0lHTk9SRSwKICAgIE1BUkssCiAgICBNQVhfVU5USUwsCiAgICBNSU5fVU5USUwsCiAgICBOT1RfTElURVJBTCwgTk9UX0xJVEVSQUxfSUdOT1JFLAogICAgTkVHQVRFLAogICAgUkFOR0UsCiAgICBSRVBFQVQsCiAgICBSRVBFQVRfT05FLAogICAgU1VCUEFUVEVSTiwKICAgIE1JTl9SRVBFQVRfT05FCgpdCgpBVENPREVTID0gWwogICAgQVRfQkVHSU5OSU5HLCBBVF9CRUdJTk5JTkdfTElORSwgQVRfQkVHSU5OSU5HX1NUUklORywgQVRfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlksIEFUX0VORCwgQVRfRU5EX0xJTkUsIEFUX0VORF9TVFJJTkcsCiAgICBBVF9MT0NfQk9VTkRBUlksIEFUX0xPQ19OT05fQk9VTkRBUlksIEFUX1VOSV9CT1VOREFSWSwKICAgIEFUX1VOSV9OT05fQk9VTkRBUlkKXQoKQ0hDT0RFUyA9IFsKICAgIENBVEVHT1JZX0RJR0lULCBDQVRFR09SWV9OT1RfRElHSVQsIENBVEVHT1JZX1NQQUNFLAogICAgQ0FURUdPUllfTk9UX1NQQUNFLCBDQVRFR09SWV9XT1JELCBDQVRFR09SWV9OT1RfV09SRCwKICAgIENBVEVHT1JZX0xJTkVCUkVBSywgQ0FURUdPUllfTk9UX0xJTkVCUkVBSywgQ0FURUdPUllfTE9DX1dPUkQsCiAgICBDQVRFR09SWV9MT0NfTk9UX1dPUkQsIENBVEVHT1JZX1VOSV9ESUdJVCwgQ0FURUdPUllfVU5JX05PVF9ESUdJVCwKICAgIENBVEVHT1JZX1VOSV9TUEFDRSwgQ0FURUdPUllfVU5JX05PVF9TUEFDRSwgQ0FURUdPUllfVU5JX1dPUkQsCiAgICBDQVRFR09SWV9VTklfTk9UX1dPUkQsIENBVEVHT1JZX1VOSV9MSU5FQlJFQUssCiAgICBDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSwpdCgpkZWYgbWFrZWRpY3QobGlzdCk6CiAgICBkID0ge30KICAgIGkgPSAwCiAgICBmb3IgaXRlbSBpbiBsaXN0OgogICAgICAgIGRbaXRlbV0gPSBpCiAgICAgICAgaSA9IGkgKyAxCiAgICByZXR1cm4gZAoKT1BDT0RFUyA9IG1ha2VkaWN0KE9QQ09ERVMpCkFUQ09ERVMgPSBtYWtlZGljdChBVENPREVTKQpDSENPREVTID0gbWFrZWRpY3QoQ0hDT0RFUykKCiMgcmVwbGFjZW1lbnQgb3BlcmF0aW9ucyBmb3IgImlnbm9yZSBjYXNlIiBtb2RlCk9QX0lHTk9SRSA9IHsKICAgIEdST1VQUkVGOiBHUk9VUFJFRl9JR05PUkUsCiAgICBJTjogSU5fSUdOT1JFLAogICAgTElURVJBTDogTElURVJBTF9JR05PUkUsCiAgICBOT1RfTElURVJBTDogTk9UX0xJVEVSQUxfSUdOT1JFCn0KCkFUX01VTFRJTElORSA9IHsKICAgIEFUX0JFR0lOTklORzogQVRfQkVHSU5OSU5HX0xJTkUsCiAgICBBVF9FTkQ6IEFUX0VORF9MSU5FCn0KCkFUX0xPQ0FMRSA9IHsKICAgIEFUX0JPVU5EQVJZOiBBVF9MT0NfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlk6IEFUX0xPQ19OT05fQk9VTkRBUlkKfQoKQVRfVU5JQ09ERSA9IHsKICAgIEFUX0JPVU5EQVJZOiBBVF9VTklfQk9VTkRBUlksCiAgICBBVF9OT05fQk9VTkRBUlk6IEFUX1VOSV9OT05fQk9VTkRBUlkKfQoKQ0hfTE9DQUxFID0gewogICAgQ0FURUdPUllfRElHSVQ6IENBVEVHT1JZX0RJR0lULAogICAgQ0FURUdPUllfTk9UX0RJR0lUOiBDQVRFR09SWV9OT1RfRElHSVQsCiAgICBDQVRFR09SWV9TUEFDRTogQ0FURUdPUllfU1BBQ0UsCiAgICBDQVRFR09SWV9OT1RfU1BBQ0U6IENBVEVHT1JZX05PVF9TUEFDRSwKICAgIENBVEVHT1JZX1dPUkQ6IENBVEVHT1JZX0xPQ19XT1JELAogICAgQ0FURUdPUllfTk9UX1dPUkQ6IENBVEVHT1JZX0xPQ19OT1RfV09SRCwKICAgIENBVEVHT1JZX0xJTkVCUkVBSzogQ0FURUdPUllfTElORUJSRUFLLAogICAgQ0FURUdPUllfTk9UX0xJTkVCUkVBSzogQ0FURUdPUllfTk9UX0xJTkVCUkVBSwp9CgpDSF9VTklDT0RFID0gewogICAgQ0FURUdPUllfRElHSVQ6IENBVEVHT1JZX1VOSV9ESUdJVCwKICAgIENBVEVHT1JZX05PVF9ESUdJVDogQ0FURUdPUllfVU5JX05PVF9ESUdJVCwKICAgIENBVEVHT1JZX1NQQUNFOiBDQVRFR09SWV9VTklfU1BBQ0UsCiAgICBDQVRFR09SWV9OT1RfU1BBQ0U6IENBVEVHT1JZX1VOSV9OT1RfU1BBQ0UsCiAgICBDQVRFR09SWV9XT1JEOiBDQVRFR09SWV9VTklfV09SRCwKICAgIENBVEVHT1JZX05PVF9XT1JEOiBDQVRFR09SWV9VTklfTk9UX1dPUkQsCiAgICBDQVRFR09SWV9MSU5FQlJFQUs6IENBVEVHT1JZX1VOSV9MSU5FQlJFQUssCiAgICBDQVRFR09SWV9OT1RfTElORUJSRUFLOiBDQVRFR09SWV9VTklfTk9UX0xJTkVCUkVBSwp9CgojIGZsYWdzClNSRV9GTEFHX1RFTVBMQVRFID0gMSAjIHRlbXBsYXRlIG1vZGUgKGRpc2FibGUgYmFja3RyYWNraW5nKQpTUkVfRkxBR19JR05PUkVDQVNFID0gMiAjIGNhc2UgaW5zZW5zaXRpdmUKU1JFX0ZMQUdfTE9DQUxFID0gNCAjIGhvbm91ciBzeXN0ZW0gbG9jYWxlClNSRV9GTEFHX01VTFRJTElORSA9IDggIyB0cmVhdCB0YXJnZXQgYXMgbXVsdGlsaW5lIHN0cmluZwpTUkVfRkxBR19ET1RBTEwgPSAxNiAjIHRyZWF0IHRhcmdldCBhcyBhIHNpbmdsZSBzdHJpbmcKU1JFX0ZMQUdfVU5JQ09ERSA9IDMyICMgdXNlIHVuaWNvZGUgImxvY2FsZSIKU1JFX0ZMQUdfVkVSQk9TRSA9IDY0ICMgaWdub3JlIHdoaXRlc3BhY2UgYW5kIGNvbW1lbnRzClNSRV9GTEFHX0RFQlVHID0gMTI4ICMgZGVidWdnaW5nClNSRV9GTEFHX0FTQ0lJID0gMjU2ICMgdXNlIGFzY2lpICJsb2NhbGUiCgojIGZsYWdzIGZvciBJTkZPIHByaW1pdGl2ZQpTUkVfSU5GT19QUkVGSVggPSAxICMgaGFzIHByZWZpeApTUkVfSU5GT19MSVRFUkFMID0gMiAjIGVudGlyZSBwYXR0ZXJuIGlzIGxpdGVyYWwgKGdpdmVuIGJ5IHByZWZpeCkKU1JFX0lORk9fQ0hBUlNFVCA9IDQgIyBwYXR0ZXJuIHN0YXJ0cyB3aXRoIGNoYXJhY3RlciBmcm9tIGdpdmVuIHNldAoKI2lmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiMgICAgZGVmIGR1bXAoZiwgZCwgcHJlZml4KToKIyAgICAgICAgaXRlbXMgPSBkLml0ZW1zKCkKIyAgICAgICAgaXRlbXMuc29ydChrZXk9bGFtYmRhIGE6IGFbMV0pCiMgICAgICAgIGZvciBrLCB2IGluIGl0ZW1zOgojICAgICAgICAgICAgZi53cml0ZSgiI2RlZmluZSAlc18lcyAlc1xuIiAlIChwcmVmaXgsIGsudXBwZXIoKSwgdikpCiMgICAgZiA9IG9wZW4oInNyZV9jb25zdGFudHMuaCIsICJ3IikKIyAgICBmLndyaXRlKCIiIlwKIy8qCiMgKiBTZWNyZXQgTGFicycgUmVndWxhciBFeHByZXNzaW9uIEVuZ2luZQojICoKIyAqIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGluZyBlbmdpbmUKIyAqCiMgKiBOT1RFOiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNyZV9jb25zdGFudHMucHkuICBJZiB5b3UgbmVlZAojICogdG8gY2hhbmdlIGFueXRoaW5nIGluIGhlcmUsIGVkaXQgc3JlX2NvbnN0YW50cy5weSBhbmQgcnVuIGl0LgojICoKIyAqIENvcHlyaWdodCAoYykgMTk5Ny0yMDAxIGJ5IFNlY3JldCBMYWJzIEFCLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAqCiMgKiBTZWUgdGhlIF9zcmUuYyBmaWxlIGZvciBpbmZvcm1hdGlvbiBvbiB1c2FnZSBhbmQgcmVkaXN0cmlidXRpb24uCiMgKi8KIwojIiIiKQoKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9NQUdJQyAlZFxuIiAlIE1BR0lDKQoKIyAgICBkdW1wKGYsIE9QQ09ERVMsICJTUkVfT1AiKQojICAgIGR1bXAoZiwgQVRDT0RFUywgIlNSRSIpCiMgICAgZHVtcChmLCBDSENPREVTLCAiU1JFIikKCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19URU1QTEFURSAlZFxuIiAlIFNSRV9GTEFHX1RFTVBMQVRFKQojICAgIGYud3JpdGUoIiNkZWZpbmUgU1JFX0ZMQUdfSUdOT1JFQ0FTRSAlZFxuIiAlIFNSRV9GTEFHX0lHTk9SRUNBU0UpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19MT0NBTEUgJWRcbiIgJSBTUkVfRkxBR19MT0NBTEUpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19NVUxUSUxJTkUgJWRcbiIgJSBTUkVfRkxBR19NVUxUSUxJTkUpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19ET1RBTEwgJWRcbiIgJSBTUkVfRkxBR19ET1RBTEwpCiMgICAgZi53cml0ZSgiI2RlZmluZSBTUkVfRkxBR19VTklDT0RFICVkXG4iICUgU1JFX0ZMQUdfVU5JQ09ERSkKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9GTEFHX1ZFUkJPU0UgJWRcbiIgJSBTUkVfRkxBR19WRVJCT1NFKQoKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9JTkZPX1BSRUZJWCAlZFxuIiAlIFNSRV9JTkZPX1BSRUZJWCkKIyAgICBmLndyaXRlKCIjZGVmaW5lIFNSRV9JTkZPX0xJVEVSQUwgJWRcbiIgJSBTUkVfSU5GT19MSVRFUkFMKQojICAgIGYud3JpdGUoIiNkZWZpbmUgU1JFX0lORk9fQ0hBUlNFVCAlZFxuIiAlIFNSRV9JTkZPX0NIQVJTRVQpCgojICAgIGYuY2xvc2UoKQojCiMgICAgcHJpbnQoImRvbmUiKQo=',
'/Lib/_dummy_thread.py':'IiIiRHJvcC1pbiByZXBsYWNlbWVudCBmb3IgdGhlIHRocmVhZCBtb2R1bGUuCgpNZWFudCB0byBiZSB1c2VkIGFzIGEgYnJhaW4tZGVhZCBzdWJzdGl0dXRlIHNvIHRoYXQgdGhyZWFkZWQgY29kZSBkb2VzCm5vdCBuZWVkIHRvIGJlIHJld3JpdHRlbiBmb3Igd2hlbiB0aGUgdGhyZWFkIG1vZHVsZSBpcyBub3QgcHJlc2VudC4KClN1Z2dlc3RlZCB1c2FnZSBpczo6CgogICAgdHJ5OgogICAgICAgIGltcG9ydCBfdGhyZWFkCiAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgaW1wb3J0IF9kdW1teV90aHJlYWQgYXMgX3RocmVhZAoKIiIiCiMgRXhwb3J0cyBvbmx5IHRoaW5ncyBzcGVjaWZpZWQgYnkgdGhyZWFkIGRvY3VtZW50YXRpb247CiMgc2tpcHBpbmcgb2Jzb2xldGUgc3lub255bXMgYWxsb2NhdGUoKSwgc3RhcnRfbmV3KCksIGV4aXRfdGhyZWFkKCkuCl9fYWxsX18gPSBbJ2Vycm9yJywgJ3N0YXJ0X25ld190aHJlYWQnLCAnZXhpdCcsICdnZXRfaWRlbnQnLCAnYWxsb2NhdGVfbG9jaycsCiAgICAgICAgICAgJ2ludGVycnVwdF9tYWluJywgJ0xvY2tUeXBlJ10KCiMgQSBkdW1teSB2YWx1ZQpUSU1FT1VUX01BWCA9IDIqKjMxCgojIE5PVEU6IHRoaXMgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBlYXJseSBpbiB0aGUgZXh0ZW5zaW9uIGJ1aWxkaW5nIHByb2Nlc3MsCiMgYW5kIHNvIHRvcCBsZXZlbCBpbXBvcnRzIG9mIG90aGVyIG1vZHVsZXMgc2hvdWxkIGJlIGF2b2lkZWQuICBJbnN0ZWFkLCBhbGwKIyBpbXBvcnRzIGFyZSBkb25lIHdoZW4gbmVlZGVkIG9uIGEgZnVuY3Rpb24tYnktZnVuY3Rpb24gYmFzaXMuICBTaW5jZSB0aHJlYWRzCiMgYXJlIGRpc2FibGVkLCB0aGUgaW1wb3J0IGxvY2sgc2hvdWxkIG5vdCBiZSBhbiBpc3N1ZSBhbnl3YXkgKD8/KS4KCmNsYXNzIGVycm9yKEV4Y2VwdGlvbik6CiAgICAiIiJEdW1teSBpbXBsZW1lbnRhdGlvbiBvZiBfdGhyZWFkLmVycm9yLiIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgc2VsZi5hcmdzID0gYXJncwoKZGVmIHN0YXJ0X25ld190aHJlYWQoZnVuY3Rpb24sIGFyZ3MsIGt3YXJncz17fSk6CiAgICAiIiJEdW1teSBpbXBsZW1lbnRhdGlvbiBvZiBfdGhyZWFkLnN0YXJ0X25ld190aHJlYWQoKS4KCiAgICBDb21wYXRpYmlsaXR5IGlzIG1haW50YWluZWQgYnkgbWFraW5nIHN1cmUgdGhhdCBgYGFyZ3NgYCBpcyBhCiAgICB0dXBsZSBhbmQgYGBrd2FyZ3NgYCBpcyBhIGRpY3Rpb25hcnkuICBJZiBhbiBleGNlcHRpb24gaXMgcmFpc2VkCiAgICBhbmQgaXQgaXMgU3lzdGVtRXhpdCAod2hpY2ggY2FuIGJlIGRvbmUgYnkgX3RocmVhZC5leGl0KCkpIGl0IGlzCiAgICBjYXVnaHQgYW5kIG5vdGhpbmcgaXMgZG9uZTsgYWxsIG90aGVyIGV4Y2VwdGlvbnMgYXJlIHByaW50ZWQgb3V0CiAgICBieSB1c2luZyB0cmFjZWJhY2sucHJpbnRfZXhjKCkuCgogICAgSWYgdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uIGNhbGxzIGludGVycnVwdF9tYWluIHRoZSBLZXlib2FyZEludGVycnVwdCB3aWxsIGJlCiAgICByYWlzZWQgd2hlbiB0aGUgZnVuY3Rpb24gcmV0dXJucy4KCiAgICAiIiIKICAgIGlmIHR5cGUoYXJncykgIT0gdHlwZSh0dXBsZSgpKToKICAgICAgICByYWlzZSBUeXBlRXJyb3IoIjJuZCBhcmcgbXVzdCBiZSBhIHR1cGxlIikKICAgIGlmIHR5cGUoa3dhcmdzKSAhPSB0eXBlKGRpY3QoKSk6CiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCIzcmQgYXJnIG11c3QgYmUgYSBkaWN0IikKICAgIGdsb2JhbCBfbWFpbgogICAgX21haW4gPSBGYWxzZQogICAgdHJ5OgogICAgICAgIGZ1bmN0aW9uKCphcmdzLCAqKmt3YXJncykKICAgIGV4Y2VwdCBTeXN0ZW1FeGl0OgogICAgICAgIHBhc3MKICAgIGV4Y2VwdDoKICAgICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgICAgdHJhY2ViYWNrLnByaW50X2V4YygpCiAgICBfbWFpbiA9IFRydWUKICAgIGdsb2JhbCBfaW50ZXJydXB0CiAgICBpZiBfaW50ZXJydXB0OgogICAgICAgIF9pbnRlcnJ1cHQgPSBGYWxzZQogICAgICAgIHJhaXNlIEtleWJvYXJkSW50ZXJydXB0CgpkZWYgZXhpdCgpOgogICAgIiIiRHVtbXkgaW1wbGVtZW50YXRpb24gb2YgX3RocmVhZC5leGl0KCkuIiIiCiAgICByYWlzZSBTeXN0ZW1FeGl0CgpkZWYgZ2V0X2lkZW50KCk6CiAgICAiIiJEdW1teSBpbXBsZW1lbnRhdGlvbiBvZiBfdGhyZWFkLmdldF9pZGVudCgpLgoKICAgIFNpbmNlIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiBfdGhyZWFkbW9kdWxlIGlzIG5vdAogICAgYXZhaWxhYmxlLCBpdCBpcyBzYWZlIHRvIGFzc3VtZSB0aGF0IHRoZSBjdXJyZW50IHByb2Nlc3MgaXMgdGhlCiAgICBvbmx5IHRocmVhZC4gIFRodXMgYSBjb25zdGFudCBjYW4gYmUgc2FmZWx5IHJldHVybmVkLgogICAgIiIiCiAgICByZXR1cm4gLTEKCmRlZiBhbGxvY2F0ZV9sb2NrKCk6CiAgICAiIiJEdW1teSBpbXBsZW1lbnRhdGlvbiBvZiBfdGhyZWFkLmFsbG9jYXRlX2xvY2soKS4iIiIKICAgIHJldHVybiBMb2NrVHlwZSgpCgpkZWYgc3RhY2tfc2l6ZShzaXplPU5vbmUpOgogICAgIiIiRHVtbXkgaW1wbGVtZW50YXRpb24gb2YgX3RocmVhZC5zdGFja19zaXplKCkuIiIiCiAgICBpZiBzaXplIGlzIG5vdCBOb25lOgogICAgICAgIHJhaXNlIGVycm9yKCJzZXR0aW5nIHRocmVhZCBzdGFjayBzaXplIG5vdCBzdXBwb3J0ZWQiKQogICAgcmV0dXJuIDAKCmNsYXNzIExvY2tUeXBlKG9iamVjdCk6CiAgICAiIiJDbGFzcyBpbXBsZW1lbnRpbmcgZHVtbXkgaW1wbGVtZW50YXRpb24gb2YgX3RocmVhZC5Mb2NrVHlwZS4KCiAgICBDb21wYXRpYmlsaXR5IGlzIG1haW50YWluZWQgYnkgbWFpbnRhaW5pbmcgc2VsZi5sb2NrZWRfc3RhdHVzCiAgICB3aGljaCBpcyBhIGJvb2xlYW4gdGhhdCBzdG9yZXMgdGhlIHN0YXRlIG9mIHRoZSBsb2NrLiAgUGlja2xpbmcgb2YKICAgIHRoZSBsb2NrLCB0aG91Z2gsIHNob3VsZCBub3QgYmUgZG9uZSBzaW5jZSBpZiB0aGUgX3RocmVhZCBtb2R1bGUgaXMKICAgIHRoZW4gdXNlZCB3aXRoIGFuIHVucGlja2xlZCBgYGxvY2soKWBgIGZyb20gaGVyZSBwcm9ibGVtcyBjb3VsZAogICAgb2NjdXIgZnJvbSB0aGlzIGNsYXNzIG5vdCBoYXZpbmcgYXRvbWljIG1ldGhvZHMuCgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYubG9ja2VkX3N0YXR1cyA9IEZhbHNlCgogICAgZGVmIGFjcXVpcmUoc2VsZiwgd2FpdGZsYWc9Tm9uZSwgdGltZW91dD0tMSk6CiAgICAgICAgIiIiRHVtbXkgaW1wbGVtZW50YXRpb24gb2YgYWNxdWlyZSgpLgoKICAgICAgICBGb3IgYmxvY2tpbmcgY2FsbHMsIHNlbGYubG9ja2VkX3N0YXR1cyBpcyBhdXRvbWF0aWNhbGx5IHNldCB0bwogICAgICAgIFRydWUgYW5kIHJldHVybmVkIGFwcHJvcHJpYXRlbHkgYmFzZWQgb24gdmFsdWUgb2YKICAgICAgICBgYHdhaXRmbGFnYGAuICBJZiBpdCBpcyBub24tYmxvY2tpbmcsIHRoZW4gdGhlIHZhbHVlIGlzCiAgICAgICAgYWN0dWFsbHkgY2hlY2tlZCBhbmQgbm90IHNldCBpZiBpdCBpcyBhbHJlYWR5IGFjcXVpcmVkLiAgVGhpcwogICAgICAgIGlzIGFsbCBkb25lIHNvIHRoYXQgdGhyZWFkaW5nLkNvbmRpdGlvbidzIGFzc2VydCBzdGF0ZW1lbnRzCiAgICAgICAgYXJlbid0IHRyaWdnZXJlZCBhbmQgdGhyb3cgYSBsaXR0bGUgZml0LgoKICAgICAgICAiIiIKICAgICAgICBpZiB3YWl0ZmxhZyBpcyBOb25lIG9yIHdhaXRmbGFnOgogICAgICAgICAgICBzZWxmLmxvY2tlZF9zdGF0dXMgPSBUcnVlCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbm90IHNlbGYubG9ja2VkX3N0YXR1czoKICAgICAgICAgICAgICAgIHNlbGYubG9ja2VkX3N0YXR1cyA9IFRydWUKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiB0aW1lb3V0ID4gMDoKICAgICAgICAgICAgICAgICAgICBpbXBvcnQgdGltZQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAodGltZW91dCkKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIF9fZW50ZXJfXyA9IGFjcXVpcmUKCiAgICBkZWYgX19leGl0X18oc2VsZiwgdHlwLCB2YWwsIHRiKToKICAgICAgICBzZWxmLnJlbGVhc2UoKQoKICAgIGRlZiByZWxlYXNlKHNlbGYpOgogICAgICAgICIiIlJlbGVhc2UgdGhlIGR1bW15IGxvY2suIiIiCiAgICAgICAgIyBYWFggUGVyaGFwcyBzaG91bGRuJ3QgYWN0dWFsbHkgYm90aGVyIHRvIHRlc3Q/ICBDb3VsZCBsZWFkCiAgICAgICAgIyAgICAgdG8gcHJvYmxlbXMgZm9yIGNvbXBsZXgsIHRocmVhZGVkIGNvZGUuCiAgICAgICAgaWYgbm90IHNlbGYubG9ja2VkX3N0YXR1czoKICAgICAgICAgICAgcmFpc2UgZXJyb3IKICAgICAgICBzZWxmLmxvY2tlZF9zdGF0dXMgPSBGYWxzZQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGxvY2tlZChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5sb2NrZWRfc3RhdHVzCgojIFVzZWQgdG8gc2lnbmFsIHRoYXQgaW50ZXJydXB0X21haW4gd2FzIGNhbGxlZCBpbiBhICJ0aHJlYWQiCl9pbnRlcnJ1cHQgPSBGYWxzZQojIFRydWUgd2hlbiBub3QgZXhlY3V0aW5nIGluIGEgInRocmVhZCIKX21haW4gPSBUcnVlCgpkZWYgaW50ZXJydXB0X21haW4oKToKICAgICIiIlNldCBfaW50ZXJydXB0IGZsYWcgdG8gVHJ1ZSB0byBoYXZlIHN0YXJ0X25ld190aHJlYWQgcmFpc2UKICAgIEtleWJvYXJkSW50ZXJydXB0IHVwb24gZXhpdGluZy4iIiIKICAgIGlmIF9tYWluOgogICAgICAgIHJhaXNlIEtleWJvYXJkSW50ZXJydXB0CiAgICBlbHNlOgogICAgICAgIGdsb2JhbCBfaW50ZXJydXB0CiAgICAgICAgX2ludGVycnVwdCA9IFRydWUK',
'/Lib/operator.py':'IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMw0KIiIiDQpPcGVyYXRvciBJbnRlcmZhY2UNCg0KVGhpcyBtb2R1bGUgZXhwb3J0cyBhIHNldCBvZiBmdW5jdGlvbnMgY29ycmVzcG9uZGluZyB0byB0aGUgaW50cmluc2ljIA0Kb3BlcmF0b3JzIG9mIFB5dGhvbi4gIEZvciBleGFtcGxlLCBvcGVyYXRvci5hZGQoeCwgeSkgaXMgZXF1aXZhbGVudCANCnRvIHRoZSBleHByZXNzaW9uIHgreS4gIFRoZSBmdW5jdGlvbiBuYW1lcyBhcmUgdGhvc2UgdXNlZCBmb3Igc3BlY2lhbCANCm1ldGhvZHM7IHZhcmlhbnRzIHdpdGhvdXQgbGVhZGluZyBhbmQgdHJhaWxpbmcgJ19fJyBhcmUgYWxzbyBwcm92aWRlZCANCmZvciBjb252ZW5pZW5jZS4NCg0KVGhpcyBpcyB0aGUgcHVyZSBQeXRob24gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1vZHVsZS4NCiIiIg0KDQojIGRvd25sb2FkZWQgZnJvbSBodHRwOi8vYnVncy5weXRob24ub3JnL2ZpbGUyODMyNy9vcGVyYXRvci5weQ0KDQojaW1wb3J0IGJ1aWx0aW5zIGFzIF9iaSAgI3RoZXJlIGlzIG5vIGJ1aWx0aW5zIG1vZHVsZQ0KDQpkZWYgbHQoYSwgYik6DQogICAgIlNhbWUgYXMgYSA8IGIuIg0KICAgIHJldHVybiBhIDwgYg0KX19sdF9fID0gbHQNCg0KZGVmIGxlKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPD0gYi4iDQogICAgcmV0dXJuIGEgPD0gYg0KX19sZV9fID0gbGUNCg0KZGVmIGVxKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPT0gYi4iDQogICAgcmV0dXJuIGEgPT0gYg0KX19lcV9fID0gZXENCg0KZGVmIG5lKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgIT0gYi4iDQogICAgcmV0dXJuIGEgIT0gYg0KX19uZV9fID0gbmUNCg0KZGVmIGdlKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPj0gYi4iDQogICAgcmV0dXJuIGEgPj0gYg0KX19nZV9fID0gZ2UNCg0KZGVmIGd0KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPiBiLiINCiAgICByZXR1cm4gYSA+IGINCl9fZ3RfXyA9IGd0DQoNCmRlZiBub3RfKGEpOg0KICAgICJTYW1lIGFzIG5vdCBhLiINCiAgICByZXR1cm4gbm90IGENCl9fbm90X18gPSBub3RfDQoNCmRlZiB0cnV0aChhKToNCiAgICAiUmV0dXJuIFRydWUgaWYgYSBpcyB0cnVlLCBGYWxzZSBvdGhlcndpc2UuIg0KICAgICNyZXR1cm4gX2JpLmJvb2woYSkNCiAgICByZXR1cm4gYm9vbChhKQ0KDQpkZWYgaXNfKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgaXMgYi4iDQogICAgcmV0dXJuIGEgaXMgYg0KDQojIGJyeXRob24gZG9lcyBub3QgbGlrZSAgKGNhdXNlcyBzeW50YXggZXJyb3IpDQojZGVmIGlzX25vdChhLCBiKToNCiMgICAgIlNhbWUgYXMgYSBpcyBub3QgYi4iDQojICAgIHJldHVybiBhIGlzIG5vdCBiDQoNCiNyZWN1cnNpb24gZXJyb3Igb3IganVzdCBjb21tZW50IG91dCBhbmQgYWRkIGNvZGUgYmVsb3cgZnVuY3Rpb24NCiNkZWYgYWJzKGEpOg0KIyAgICAiU2FtZSBhcyBhYnMoYSkuIg0KIyAgICAjcmV0dXJuIF9iaS5hYnMoYSkNCiMgICAgcmV0dXJuIGFicyhhKQ0KX19hYnNfXyA9IGFicw0KYWJzPWFicw0KDQoNCmRlZiBhZGQoYSwgYik6DQogICAgIlNhbWUgYXMgYSArIGIuIg0KICAgIHJldHVybiBhICsgYg0KX19hZGRfXyA9IGFkZA0KDQpkZWYgYW5kXyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICYgYi4iDQogICAgcmV0dXJuIGEgJiBiDQpfX2FuZF9fID0gYW5kXw0KDQpkZWYgZmxvb3JkaXYoYSwgYik6DQogICAgIlNhbWUgYXMgYSAvLyBiLiINCiAgICByZXR1cm4gYSAvLyBiDQpfX2Zsb29yZGl2X18gPSBmbG9vcmRpdg0KDQpkZWYgaW5kZXgoYSk6DQogICAgIlNhbWUgYXMgYS5fX2luZGV4X18oKS4iDQogICAgcmV0dXJuIGEuX19pbmRleF9fKCkNCl9faW5kZXhfXyA9IGluZGV4DQoNCmRlZiBpbnYoYSk6DQogICAgIlNhbWUgYXMgfmEuIg0KICAgICNyZXR1cm4gfmEgICAgI2JyeXRob24gZG9lcyBub3QgbGlrZQ0KICAgIHJldHVybiBhXigyKiozMSkNCmludmVydCA9IF9faW52X18gPSBfX2ludmVydF9fID0gaW52DQoNCmRlZiBsc2hpZnQoYSwgYik6DQogICAgIlNhbWUgYXMgYSA8PCBiLiINCiAgICByZXR1cm4gYSA8PCBiDQpfX2xzaGlmdF9fID0gbHNoaWZ0DQoNCmRlZiBtb2QoYSwgYik6DQogICAgIlNhbWUgYXMgYSAlIGIuIg0KICAgIHJldHVybiBhICUgYg0KX19tb2RfXyA9IG1vZA0KDQpkZWYgbXVsKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgKiBiLiINCiAgICByZXR1cm4gYSAqIGINCl9fbXVsX18gPSBtdWwNCg0KZGVmIG5lZyhhKToNCiAgICAiU2FtZSBhcyAtYS4iDQogICAgcmV0dXJuIC1hDQpfX25lZ19fID0gbmVnDQoNCmRlZiBvcl8oYSwgYik6DQogICAgIlNhbWUgYXMgYSB8IGIuIg0KICAgIHJldHVybiBhIHwgYg0KX19vcl9fID0gb3JfDQoNCmRlZiBwb3MoYSk6DQogICAgIlNhbWUgYXMgK2EuIg0KICAgICNyZXR1cm4gK2EgICAgI2JyeXRob24gZG9lcyBub3QgbGlrZQ0KICAgIGlmIGEgPj0gMDogcmV0dXJuIGENCiAgICByZXR1cm4gLWENCl9fcG9zX18gPSBwb3MNCg0KZGVmIHBvdyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICoqIGIuIg0KICAgIHJldHVybiBhICoqIGINCl9fcG93X18gPSBwb3cNCg0KZGVmIHJzaGlmdChhLCBiKToNCiAgICAiU2FtZSBhcyBhID4+IGIuIg0KICAgIHJldHVybiBhID4+IGINCl9fcnNoaWZ0X18gPSByc2hpZnQNCg0KZGVmIHN1YihhLCBiKToNCiAgICAiU2FtZSBhcyBhIC0gYi4iDQogICAgcmV0dXJuIGEgLSBiDQpfX3N1Yl9fID0gc3ViDQoNCmRlZiB0cnVlZGl2KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLyBiLiINCiAgICByZXR1cm4gYSAvIGINCl9fdHJ1ZWRpdl9fID0gdHJ1ZWRpdg0KDQpkZWYgeG9yKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgXiBiLiINCiAgICByZXR1cm4gYSBeIGINCl9feG9yX18gPSB4b3INCg0KZGVmIGNvbmNhdChhLCBiKToNCiAgICAiU2FtZSBhcyBhICsgYiwgZm9yIGEgYW5kIGIgc2VxdWVuY2VzLiINCiAgICBpZiBub3QgKGhhc2F0dHIoYSwgJ19fZ2V0aXRlbV9fJykgYW5kIGhhc2F0dHIoYiwgJ19fZ2V0aXRlbV9fJykpOg0KICAgICAgICByYWlzZSBUeXBlRXJyb3IoJ2EgYW5kIGIgbXVzdCBiZSBzZXF1ZW5jZXMnKQ0KICAgIHJldHVybiBhICsgYg0KX19jb25jYXRfXyA9IGNvbmNhdA0KDQpkZWYgY29udGFpbnMoYSwgYik6DQogICAgIlNhbWUgYXMgYiBpbiBhIChub3RlIHJldmVyc2VkIG9wZXJhbmRzKS4iDQogICAgcmV0dXJuIGIgaW4gYQ0KX19jb250YWluc19fID0gY29udGFpbnMNCg0KZGVmIGNvdW50T2YoYSwgYik6DQogICAgIlJldHVybiB0aGUgbnVtYmVyIG9mIHRpbWVzIGIgb2NjdXJzIGluIGEuIg0KICAgIGNvdW50ID0gMA0KICAgIGZvciBpIGluIGE6DQogICAgICAgIGlmIGkgPT0gYjoNCiAgICAgICAgICAgIGNvdW50ICs9IDENCiAgICByZXR1cm4gY291bnQNCg0KZGVmIGRlbGl0ZW0oYSwgYik6DQogICAgIlNhbWUgYXMgZGVsIGFbYl0uIg0KICAgIGRlbCBhW2JdDQpfX2RlbGl0ZW1fXyA9IGRlbGl0ZW0NCg0KZGVmIGdldGl0ZW0oYSwgYik6DQogICAgIlNhbWUgYXMgYVtiXS4iDQogICAgcmV0dXJuIGFbYl0NCl9fZ2V0aXRlbV9fID0gZ2V0aXRlbQ0KDQojZml4bWUgIGJyeXRob24gZG9lc24ndCBsaWtlIHRoaXMgZnVuY3Rpb24NCiNkZWYgaW5kZXhPZihhLCBiKToNCiMgICAgIlJldHVybiB0aGUgZmlyc3QgaW5kZXggb2YgYiBpbiBhLiINCiMgICAgZm9yIGksIGogaW4gX2JpLmVudW1lcmF0ZShhKToNCiMgICAgICAgIGlmIGogPT0gYjoNCiMgICAgICAgICAgICByZXR1cm4gaQ0KIyAgICBlbHNlOg0KIyAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignYiBub3QgZm91bmQgaW4gYScpDQoNCmRlZiBzZXRpdGVtKGEsIGIsIGMpOg0KICAgICJTYW1lIGFzIGFbYl0gPSBjLiINCiAgICBhW2JdID0gYw0KX19zZXRpdGVtX18gPSBzZXRpdGVtDQoNCg0KDQpjbGFzcyBhdHRyZ2V0dGVyOg0KICAgICIiIg0KICAgIFJldHVybiBhIGNhbGxhYmxlIG9iamVjdCB0aGF0IGZldGNoZXMgdGhlIGdpdmVuIGF0dHJpYnV0ZShzKSBmcm9tIGl0cyBvcGVyYW5kLg0KICAgIEFmdGVyIGY9YXR0cmdldHRlcignbmFtZScpLCB0aGUgY2FsbCBmKHIpIHJldHVybnMgci5uYW1lLg0KICAgIEFmdGVyIGc9YXR0cmdldHRlcignbmFtZScsICdkYXRlJyksIHRoZSBjYWxsIGcocikgcmV0dXJucyAoci5uYW1lLCByLmRhdGUpLg0KICAgIEFmdGVyIGg9YXR0cmdldHRlcignbmFtZS5maXJzdCcsICduYW1lLmxhc3QnKSwgdGhlIGNhbGwgaChyKSByZXR1cm5zDQogICAgKHIubmFtZS5maXJzdCwgci5uYW1lLmxhc3QpLg0KICAgICIiIg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhdHRyLCAqYXR0cnMpOg0KICAgICAgICBzZWxmLl9hdHRycyA9IChhdHRyLCkNCiAgICAgICAgc2VsZi5fYXR0cnMgKz0gYXR0cnMNCiAgICAgICAgaWYgYW55KG5vdCBpc2luc3RhbmNlKGF0dHIsIHN0cikgZm9yIGF0dHIgaW4gc2VsZi5fYXR0cnMpOg0KICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdhdHRyaWJ1dGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nJykNCg0KICAgIEBzdGF0aWNtZXRob2QNCiAgICBkZWYgX3Jlc29sdmVfYXR0cihvYmosIGF0dHIpOg0KICAgICAgICBmb3IgbmFtZSBpbiBhdHRyLnNwbGl0KCcuJyk6DQogICAgICAgICAgICAjb2JqID0gX2JpLmdldGF0dHIob2JqLCBuYW1lKQ0KICAgICAgICAgICAgb2JqID0gZ2V0YXR0cihvYmosIG5hbWUpDQogICAgICAgIHJldHVybiBvYmoNCg0KICAgIGRlZiBfX2NhbGxfXyhzZWxmLCBvYmopOg0KICAgICAgICBpZiBsZW4oc2VsZi5fYXR0cnMpID09IDE6DQogICAgICAgICAgICByZXR1cm4gc2VsZi5fcmVzb2x2ZV9hdHRyKG9iaiwgc2VsZi5fYXR0cnNbMF0pDQogICAgICAgIHJldHVybiB0dXBsZShzZWxmLl9yZXNvbHZlX2F0dHIob2JqLCBhdHRyKSBmb3IgYXR0ciBpbiBzZWxmLl9hdHRycykNCg0KY2xhc3MgaXRlbWdldHRlcjoNCiAgICAiIiINCiAgICBSZXR1cm4gYSBjYWxsYWJsZSBvYmplY3QgdGhhdCBmZXRjaGVzIHRoZSBnaXZlbiBpdGVtKHMpIGZyb20gaXRzIG9wZXJhbmQuDQogICAgQWZ0ZXIgZj1pdGVtZ2V0dGVyKDIpLCB0aGUgY2FsbCBmKHIpIHJldHVybnMgclsyXS4NCiAgICBBZnRlciBnPWl0ZW1nZXR0ZXIoMiw1LDMpLCB0aGUgY2FsbCBnKHIpIHJldHVybnMgKHJbMl0sIHJbNV0sIHJbM10pDQogICAgIiIiDQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGl0ZW0sICppdGVtcyk6DQogICAgICAgIHNlbGYuX2l0ZW1zID0gKGl0ZW0sKQ0KICAgICAgICBzZWxmLl9pdGVtcyArPSBpdGVtcw0KDQogICAgZGVmIF9fY2FsbF9fKHNlbGYsIG9iaik6DQogICAgICAgIGlmIGxlbihzZWxmLl9pdGVtcykgPT0gMToNCiAgICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5faXRlbXNbMF1dDQogICAgICAgIHJldHVybiB0dXBsZShvYmpbaXRlbV0gZm9yIGl0ZW0gaW4gc2VsZi5faXRlbXMpDQoNCmNsYXNzIG1ldGhvZGNhbGxlcjoNCiAgICAiIiINCiAgICBSZXR1cm4gYSBjYWxsYWJsZSBvYmplY3QgdGhhdCBjYWxscyB0aGUgZ2l2ZW4gbWV0aG9kIG9uIGl0cyBvcGVyYW5kLg0KICAgIEFmdGVyIGYgPSBtZXRob2RjYWxsZXIoJ25hbWUnKSwgdGhlIGNhbGwgZihyKSByZXR1cm5zIHIubmFtZSgpLg0KICAgIEFmdGVyIGcgPSBtZXRob2RjYWxsZXIoJ25hbWUnLCAnZGF0ZScsIGZvbz0xKSwgdGhlIGNhbGwgZyhyKSByZXR1cm5zDQogICAgci5uYW1lKCdkYXRlJywgZm9vPTEpLg0KICAgICIiIg0KDQogICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUsICphcmdzLCAqKmt3YXJncyk6DQogICAgICAgIHNlbGYuX25hbWUgPSBuYW1lDQogICAgICAgIHNlbGYuX2FyZ3MgPSBhcmdzDQogICAgICAgIHNlbGYuX2t3YXJncyA9IGt3YXJncw0KDQogICAgZGVmIF9fY2FsbF9fKHNlbGYsIG9iaik6DQogICAgICAgIHJldHVybiBnZXRhdHRyKG9iaiwgc2VsZi5fbmFtZSkoKnNlbGYuX2FyZ3MsICoqc2VsZi5fa3dhcmdzKQ0KDQoNCmRlZiBpYWRkKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgKz0gYi4iDQogICAgYSArPSBiDQogICAgcmV0dXJuIGENCl9faWFkZF9fID0gaWFkZA0KDQpkZWYgaWFuZChhLCBiKToNCiAgICAiU2FtZSBhcyBhICY9IGIuIg0KICAgIGEgJj0gYg0KICAgIHJldHVybiBhDQpfX2lhbmRfXyA9IGlhbmQNCg0KZGVmIGljb25jYXQoYSwgYik6DQogICAgIlNhbWUgYXMgYSArPSBiLCBmb3IgYSBhbmQgYiBzZXF1ZW5jZXMuIg0KICAgIGlmIG5vdCAoaGFzYXR0cihhLCAnX19nZXRpdGVtX18nKSBhbmQgaGFzYXR0cihiLCAnX19nZXRpdGVtX18nKSk6DQogICAgICAgIHJhaXNlIFR5cGVFcnJvcignYSBhbmQgYiBtdXN0IGJlIHNlcXVlbmNlcycpDQogICAgYSArPSBiDQogICAgcmV0dXJuIGENCl9faWNvbmNhdF9fID0gaWNvbmNhdA0KDQpkZWYgaWZsb29yZGl2KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLy89IGIuIg0KICAgIGEgLy89IGINCiAgICByZXR1cm4gYQ0KX19pZmxvb3JkaXZfXyA9IGlmbG9vcmRpdg0KDQpkZWYgaWxzaGlmdChhLCBiKToNCiAgICAiU2FtZSBhcyBhIDw8PSBiLiINCiAgICBhIDw8PSBiDQogICAgcmV0dXJuIGENCl9faWxzaGlmdF9fID0gaWxzaGlmdA0KDQpkZWYgaW1vZChhLCBiKToNCiAgICAiU2FtZSBhcyBhICU9IGIuIg0KICAgIGEgJT0gYg0KICAgIHJldHVybiBhDQpfX2ltb2RfXyA9IGltb2QNCg0KZGVmIGltdWwoYSwgYik6DQogICAgIlNhbWUgYXMgYSAqPSBiLiINCiAgICBhICo9IGINCiAgICByZXR1cm4gYQ0KX19pbXVsX18gPSBpbXVsDQoNCmRlZiBpb3IoYSwgYik6DQogICAgIlNhbWUgYXMgYSB8PSBiLiINCiAgICBhIHw9IGINCiAgICByZXR1cm4gYQ0KX19pb3JfXyA9IGlvcg0KDQpkZWYgaXBvdyhhLCBiKToNCiAgICAiU2FtZSBhcyBhICoqPSBiLiINCiAgICBhICoqPWINCiAgICByZXR1cm4gYQ0KX19pcG93X18gPSBpcG93DQoNCmRlZiBpcnNoaWZ0KGEsIGIpOg0KICAgICJTYW1lIGFzIGEgPj49IGIuIg0KICAgIGEgPj49IGINCiAgICByZXR1cm4gYQ0KX19pcnNoaWZ0X18gPSBpcnNoaWZ0DQoNCmRlZiBpc3ViKGEsIGIpOg0KICAgICJTYW1lIGFzIGEgLT0gYi4iDQogICAgYSAtPSBiDQogICAgcmV0dXJuIGENCl9faXN1Yl9fID0gaXN1Yg0KDQpkZWYgaXRydWVkaXYoYSwgYik6DQogICAgIlNhbWUgYXMgYSAvPSBiLiINCiAgICBhIC89IGINCiAgICByZXR1cm4gYQ0KX19pdHJ1ZWRpdl9fID0gaXRydWVkaXYNCg0KZGVmIGl4b3IoYSwgYik6DQogICAgIlNhbWUgYXMgYSBePSBiLiINCiAgICBhIF49IGINCiAgICByZXR1cm4gYQ0KX19peG9yX18gPSBpeG9yDQoNCmRlZiBsZW5ndGhfaGludChvYmosIGRlZmF1bHQ9MCk6DQogICAgIiIiDQogICAgUmV0dXJuIGFuIGVzdGltYXRlIG9mIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gb2JqLg0KICAgIFRoaXMgaXMgdXNlZnVsIGZvciBwcmVzaXppbmcgY29udGFpbmVycyB3aGVuIGJ1aWxkaW5nIGZyb20gYW4gaXRlcmFibGUuDQoNCiAgICBJZiB0aGUgb2JqZWN0IHN1cHBvcnRzIGxlbigpLCB0aGUgcmVzdWx0IHdpbGwgYmUgZXhhY3QuIE90aGVyd2lzZSwgaXQgbWF5DQogICAgb3Zlci0gb3IgdW5kZXItZXN0aW1hdGUgYnkgYW4gYXJiaXRyYXJ5IGFtb3VudC4gVGhlIHJlc3VsdCB3aWxsIGJlIGFuDQogICAgaW50ZWdlciA+PSAwLg0KICAgICIiIg0KICAgIHRyeToNCiAgICAgICAgcmV0dXJuIGxlbihvYmopDQogICAgZXhjZXB0IFR5cGVFcnJvcjoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgdmFsID0gb2JqLl9fbGVuZ3RoX2hpbnRfXygpDQogICAgICAgICAgICBpZiB2YWwgaXMgTm90SW1wbGVtZW50ZWQ6DQogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yDQogICAgICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsIFR5cGVFcnJvcik6DQogICAgICAgICAgICByZXR1cm4gZGVmYXVsdA0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgaWYgbm90IHZhbCA+IDA6DQogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignZGVmYXVsdCBtdXN0IGJlID4gMCcpDQogICAgICAgICAgICByZXR1cm4gdmFsDQoNCiN0cnk6DQojICAgIGZyb20gX29wZXJhdG9yIGltcG9ydCAqDQojICAgIGZyb20gX29wZXJhdG9yIGltcG9ydCBfX2RvY19fDQojZXhjZXB0IEltcG9ydEVycm9yOg0KIyAgIHBhc3MNCg==',
'/Lib/sys.py':'X19zdGRvdXRfXz1nZXRhdHRyKGRvYywiJHN0ZG91dCIpCl9fc3RkZXJyX189Z2V0YXR0cihkb2MsIiRzdGRlcnIiKQoKc3Rkb3V0ID0gZ2V0YXR0cihkb2MsIiRzdGRvdXQiKQpzdGRlcnIgPSBnZXRhdHRyKGRvYywiJHN0ZGVyciIpCgptb2R1bGVzPV9fQlJZVEhPTl9fLm1vZHVsZXMKCmhhc19sb2NhbF9zdG9yYWdlPV9fQlJZVEhPTl9fLmhhc19sb2NhbF9zdG9yYWdlCmhhc19qc29uPV9fQlJZVEhPTl9fLmhhc19qc29uCnZlcnNpb25faW5mbz1fX0JSWVRIT05fXy52ZXJzaW9uX2luZm8KcGF0aD1fX0JSWVRIT05fXy5wYXRoCmJ1aWx0aW5fbW9kdWxlX25hbWVzPVsncG9zaXgnXQoKYnl0ZW9yZGVyPSdsaXR0bGUnCm1heHNpemU9OTAwNzE5OTI1NDc0MDk5MiAgICNsYXJnZXN0IGludGVnZXIuLgptYXh1bmljb2RlPTExMTQxMTEKCnBsYXRmb3JtPSJicnl0aG9uIgp3YXJub3B0aW9ucz1bXQoKY2xhc3MgZmxhZ19jbGFzczoKICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgIHNlbGYuZGVidWc9MAogICAgICBzZWxmLmluc3BlY3Q9MAogICAgICBzZWxmLmludGVyYWN0aXZlPTAKICAgICAgc2VsZi5vcHRpbWl6ZT0wCiAgICAgIHNlbGYuZG9udF93cml0ZV9ieXRlY29kZT0wCiAgICAgIHNlbGYubm9fdXNlcl9zaXRlPTAKICAgICAgc2VsZi5ub19zaXRlPTAKICAgICAgc2VsZi5pZ25vcmVfZW52aXJvbm1lbnQ9MAogICAgICBzZWxmLnZlcmJvc2U9MAogICAgICBzZWxmLmJ5dGVzX3dhcm5pbmc9MAogICAgICBzZWxmLnF1aWV0PTAKICAgICAgc2VsZi5oYXNoX3JhbmRvbWl6YXRpb249MQoKZmxhZ3M9ZmxhZ19jbGFzcygpCgo=',
'/Lib/os.py':'aW1wb3J0IF9vcwoKbmFtZT0iYnJ5dGhvbiIKCiNhbHRzZXA9Tm9uZQojY3VyZGlyPSIuIgoKZGVmIGRldm51bGwoKToKICAgIE9TRXJyb3IoJ0Z1bmN0aW9uIGRldm51bGwgbm90IHN1cHBvcnRlZCcpCgojZXh0c2VwPScuJwoKZGVmIGdldGxvYWRhdmcoKToKICAgIE9TRXJyb3IoJ0Z1bmN0aW9uIGdldGxvYWRhdmcgbm90IHN1cHBvcnRlZCcpCgojbGluZXNlcD0iXG4iCiNwYXRoc2VwPSI7IgojcGFyZGlyPSIuLiIKI3NlcD0nLycKCmRlZiB1cmFuZG9tKGxlbmd0aCk6CiAgICBfYz1bXQogICAgZm9yIF9pIGluIHJhbmdlKGxlbmd0aCk6CiAgICAgICAgX2MuYXBwZW5kKGNocihfb3MucmFuZGludCgwLDI1NSkpKQogICAgICAgIAogICAgcmV0dXJuICcnLmpvaW4oX2MpCgojaW1wb3J0IHBvc2l4cGF0aCBhcyBwYXRoCiNzeXMubW9kdWxlc1snb3MucGF0aCddID0gcGF0aAoKI2Zyb20gb3MucGF0aCBpbXBvcnQgKGN1cmRpciwgcGFyZGlyLCBzZXAsIHBhdGhzZXAsIGRlZnBhdGgsIGV4dHNlcCwgYWx0c2VwKQoKIyBQeXRob24gdXNlcyBmaXhlZCB2YWx1ZXMgZm9yIHRoZSBTRUVLXyBjb25zdGFudHM7IHRoZXkgYXJlIG1hcHBlZAojIHRvIG5hdGl2ZSBjb25zdGFudHMgaWYgbmVjZXNzYXJ5IGluIHBvc2l4bW9kdWxlLmMKU0VFS19TRVQgPSAwClNFRUtfQ1VSID0gMQpTRUVLX0VORCA9IDIKCmRlZiB3YWxrKHRvcCwgdG9wZG93bj1UcnVlLCBvbmVycm9yPU5vbmUsIGZvbGxvd2xpbmtzPUZhbHNlKToKICAgICNyZWNlaXZlIHNjb3BlIGVycm9yIGluIGJyeXRob24KICAgICMgd2h5IGhhdmUgb3Mud2FsayBpbiBicnl0aG9uPyAgc2VydmVyIHNpZGUgamF2YXNjcmlwdCAobm9kZWpzKQogICAgIyBpbW1lZGlhdGVseSBjYW4gdXNlIG9zLndhbGsgdG8gY29tcGlsZSBsaWJzIGFuZCBMaWIgbW9kdWxlcwogICAgIyB0byBqYXZhc2NyaXB0IGVxdWl2YWxlbnQuLgogICAgT1NFcnJvcignRnVuY3Rpb24gb3Mud2FsayBub3Qgc3VwcG9ydGVkIHlldCcpCiAgICByZXR1cm4KCiAgICAiIiJEaXJlY3RvcnkgdHJlZSBnZW5lcmF0b3IuCgogICAgRm9yIGVhY2ggZGlyZWN0b3J5IGluIHRoZSBkaXJlY3RvcnkgdHJlZSByb290ZWQgYXQgdG9wIChpbmNsdWRpbmcgdG9wCiAgICBpdHNlbGYsIGJ1dCBleGNsdWRpbmcgJy4nIGFuZCAnLi4nKSwgeWllbGRzIGEgMy10dXBsZQoKICAgICAgICBkaXJwYXRoLCBkaXJuYW1lcywgZmlsZW5hbWVzCgogICAgZGlycGF0aCBpcyBhIHN0cmluZywgdGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeS4gIGRpcm5hbWVzIGlzIGEgbGlzdCBvZgogICAgdGhlIG5hbWVzIG9mIHRoZSBzdWJkaXJlY3RvcmllcyBpbiBkaXJwYXRoIChleGNsdWRpbmcgJy4nIGFuZCAnLi4nKS4KICAgIGZpbGVuYW1lcyBpcyBhIGxpc3Qgb2YgdGhlIG5hbWVzIG9mIHRoZSBub24tZGlyZWN0b3J5IGZpbGVzIGluIGRpcnBhdGguCiAgICBOb3RlIHRoYXQgdGhlIG5hbWVzIGluIHRoZSBsaXN0cyBhcmUganVzdCBuYW1lcywgd2l0aCBubyBwYXRoIGNvbXBvbmVudHMuCiAgICBUbyBnZXQgYSBmdWxsIHBhdGggKHdoaWNoIGJlZ2lucyB3aXRoIHRvcCkgdG8gYSBmaWxlIG9yIGRpcmVjdG9yeSBpbgogICAgZGlycGF0aCwgZG8gb3MucGF0aC5qb2luKGRpcnBhdGgsIG5hbWUpLgoKICAgIElmIG9wdGlvbmFsIGFyZyAndG9wZG93bicgaXMgdHJ1ZSBvciBub3Qgc3BlY2lmaWVkLCB0aGUgdHJpcGxlIGZvciBhCiAgICBkaXJlY3RvcnkgaXMgZ2VuZXJhdGVkIGJlZm9yZSB0aGUgdHJpcGxlcyBmb3IgYW55IG9mIGl0cyBzdWJkaXJlY3RvcmllcwogICAgKGRpcmVjdG9yaWVzIGFyZSBnZW5lcmF0ZWQgdG9wIGRvd24pLiAgSWYgdG9wZG93biBpcyBmYWxzZSwgdGhlIHRyaXBsZQogICAgZm9yIGEgZGlyZWN0b3J5IGlzIGdlbmVyYXRlZCBhZnRlciB0aGUgdHJpcGxlcyBmb3IgYWxsIG9mIGl0cwogICAgc3ViZGlyZWN0b3JpZXMgKGRpcmVjdG9yaWVzIGFyZSBnZW5lcmF0ZWQgYm90dG9tIHVwKS4KCiAgICBXaGVuIHRvcGRvd24gaXMgdHJ1ZSwgdGhlIGNhbGxlciBjYW4gbW9kaWZ5IHRoZSBkaXJuYW1lcyBsaXN0IGluLXBsYWNlCiAgICAoZS5nLiwgdmlhIGRlbCBvciBzbGljZSBhc3NpZ25tZW50KSwgYW5kIHdhbGsgd2lsbCBvbmx5IHJlY3Vyc2UgaW50byB0aGUKICAgIHN1YmRpcmVjdG9yaWVzIHdob3NlIG5hbWVzIHJlbWFpbiBpbiBkaXJuYW1lczsgdGhpcyBjYW4gYmUgdXNlZCB0byBwcnVuZQogICAgdGhlIHNlYXJjaCwgb3IgdG8gaW1wb3NlIGEgc3BlY2lmaWMgb3JkZXIgb2YgdmlzaXRpbmcuICBNb2RpZnlpbmcKICAgIGRpcm5hbWVzIHdoZW4gdG9wZG93biBpcyBmYWxzZSBpcyBpbmVmZmVjdGl2ZSwgc2luY2UgdGhlIGRpcmVjdG9yaWVzIGluCiAgICBkaXJuYW1lcyBoYXZlIGFscmVhZHkgYmVlbiBnZW5lcmF0ZWQgYnkgdGhlIHRpbWUgZGlybmFtZXMgaXRzZWxmIGlzCiAgICBnZW5lcmF0ZWQuCgogICAgQnkgZGVmYXVsdCBlcnJvcnMgZnJvbSB0aGUgb3MubGlzdGRpcigpIGNhbGwgYXJlIGlnbm9yZWQuICBJZgogICAgb3B0aW9uYWwgYXJnICdvbmVycm9yJyBpcyBzcGVjaWZpZWQsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uOyBpdAogICAgd2lsbCBiZSBjYWxsZWQgd2l0aCBvbmUgYXJndW1lbnQsIGFuIG9zLmVycm9yIGluc3RhbmNlLiAgSXQgY2FuCiAgICByZXBvcnQgdGhlIGVycm9yIHRvIGNvbnRpbnVlIHdpdGggdGhlIHdhbGssIG9yIHJhaXNlIHRoZSBleGNlcHRpb24KICAgIHRvIGFib3J0IHRoZSB3YWxrLiAgTm90ZSB0aGF0IHRoZSBmaWxlbmFtZSBpcyBhdmFpbGFibGUgYXMgdGhlCiAgICBmaWxlbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGV4Y2VwdGlvbiBvYmplY3QuCgogICAgQnkgZGVmYXVsdCwgb3Mud2FsayBkb2VzIG5vdCBmb2xsb3cgc3ltYm9saWMgbGlua3MgdG8gc3ViZGlyZWN0b3JpZXMgb24KICAgIHN5c3RlbXMgdGhhdCBzdXBwb3J0IHRoZW0uICBJbiBvcmRlciB0byBnZXQgdGhpcyBmdW5jdGlvbmFsaXR5LCBzZXQgdGhlCiAgICBvcHRpb25hbCBhcmd1bWVudCAnZm9sbG93bGlua3MnIHRvIHRydWUuCgogICAgQ2F1dGlvbjogIGlmIHlvdSBwYXNzIGEgcmVsYXRpdmUgcGF0aG5hbWUgZm9yIHRvcCwgZG9uJ3QgY2hhbmdlIHRoZQogICAgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBiZXR3ZWVuIHJlc3VtcHRpb25zIG9mIHdhbGsuICB3YWxrIG5ldmVyCiAgICBjaGFuZ2VzIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgYW5kIGFzc3VtZXMgdGhhdCB0aGUgY2xpZW50IGRvZXNuJ3QKICAgIGVpdGhlci4KCiAgICBFeGFtcGxlOgoKICAgIGltcG9ydCBvcwogICAgZnJvbSBvcy5wYXRoIGltcG9ydCBqb2luLCBnZXRzaXplCiAgICBmb3Igcm9vdCwgZGlycywgZmlsZXMgaW4gb3Mud2FsaygncHl0aG9uL0xpYi9lbWFpbCcpOgogICAgICAgIHByaW50KHJvb3QsICJjb25zdW1lcyIsIGVuZD0iIikKICAgICAgICBwcmludChzdW0oW2dldHNpemUoam9pbihyb290LCBuYW1lKSkgZm9yIG5hbWUgaW4gZmlsZXNdKSwgZW5kPSIiKQogICAgICAgIHByaW50KCJieXRlcyBpbiIsIGxlbihmaWxlcyksICJub24tZGlyZWN0b3J5IGZpbGVzIikKICAgICAgICBpZiAnQ1ZTJyBpbiBkaXJzOgogICAgICAgICAgICBkaXJzLnJlbW92ZSgnQ1ZTJykgICMgZG9uJ3QgdmlzaXQgQ1ZTIGRpcmVjdG9yaWVzCiAgICAiIiIKICAgICIiIgogICAgCiAgICBpc2xpbmssIGpvaW4sIGlzZGlyID0gcGF0aC5pc2xpbmssIHBhdGguam9pbiwgcGF0aC5pc2RpcgoKICAgICMgV2UgbWF5IG5vdCBoYXZlIHJlYWQgcGVybWlzc2lvbiBmb3IgdG9wLCBpbiB3aGljaCBjYXNlIHdlIGNhbid0CiAgICAjIGdldCBhIGxpc3Qgb2YgdGhlIGZpbGVzIHRoZSBkaXJlY3RvcnkgY29udGFpbnMuICBvcy53YWxrCiAgICAjIGFsd2F5cyBzdXBwcmVzc2VkIHRoZSBleGNlcHRpb24gdGhlbiwgcmF0aGVyIHRoYW4gYmxvdyB1cCBmb3IgYQogICAgIyBtaW5vciByZWFzb24gd2hlbiAoc2F5KSBhIHRob3VzYW5kIHJlYWRhYmxlIGRpcmVjdG9yaWVzIGFyZSBzdGlsbAogICAgIyBsZWZ0IHRvIHZpc2l0LiAgVGhhdCBsb2dpYyBpcyBjb3BpZWQgaGVyZS4KICAgIHRyeToKICAgICAgICAjIE5vdGUgdGhhdCBsaXN0ZGlyIGFuZCBlcnJvciBhcmUgZ2xvYmFscyBpbiB0aGlzIG1vZHVsZSBkdWUKICAgICAgICAjIHRvIGVhcmxpZXIgaW1wb3J0LSouCiAgICAgICAgbmFtZXMgPSBsaXN0ZGlyKHRvcCkKICAgIGV4Y2VwdCBlcnJvciBhcyBlcnI6CiAgICAgICAgaWYgb25lcnJvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgb25lcnJvcihlcnIpCiAgICAgICAgcmV0dXJuCiAgICAKICAgIGRpcnMsIG5vbmRpcnMgPSBbXSwgW10KICAgIGZvciBuYW1lIGluIG5hbWVzOgogICAgICAgIGlmIGlzZGlyKGpvaW4odG9wLCBuYW1lKSk6CiAgICAgICAgICAgIGRpcnMuYXBwZW5kKG5hbWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbm9uZGlycy5hcHBlbmQobmFtZSkKICAgIAogICAgaWYgdG9wZG93bjoKICAgICAgICB5aWVsZCB0b3AsIGRpcnMsIG5vbmRpcnMKICAgIAogICAgZm9yIG5hbWUgaW4gZGlyczoKICAgICAgICBuZXdfcGF0aCA9IGpvaW4odG9wLCBuYW1lKQogICAgICAgIGlmIGZvbGxvd2xpbmtzIG9yIG5vdCBpc2xpbmsobmV3X3BhdGgpOgogICAgICAgICAgICBmb3IgeCBpbiB3YWxrKG5ld19wYXRoLCB0b3Bkb3duLCBvbmVycm9yLCBmb2xsb3dsaW5rcyk6CiAgICAgICAgICAgICAgICB5aWVsZCB4CiAgICBpZiBub3QgdG9wZG93bjoKICAgICAgICB5aWVsZCB0b3AsIGRpcnMsIG5vbmRpcnMKICAgICIiIgo=',
'/Lib/unittest/suite.py':'IiIiVGVzdFN1aXRlIiIiCgppbXBvcnQgc3lzCgpmcm9tIC4gaW1wb3J0IGNhc2UKZnJvbSAuIGltcG9ydCB1dGlsCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmRlZiBfY2FsbF9pZl9leGlzdHMocGFyZW50LCBhdHRyKToKICAgIGZ1bmMgPSBnZXRhdHRyKHBhcmVudCwgYXR0ciwgbGFtYmRhOiBOb25lKQogICAgZnVuYygpCgoKY2xhc3MgQmFzZVRlc3RTdWl0ZShvYmplY3QpOgogICAgIiIiQSBzaW1wbGUgdGVzdCBzdWl0ZSB0aGF0IGRvZXNuJ3QgcHJvdmlkZSBjbGFzcyBvciBtb2R1bGUgc2hhcmVkIGZpeHR1cmVzLgogICAgIiIiCiAgICBkZWYgX19pbml0X18oc2VsZiwgdGVzdHM9KCkpOgogICAgICAgIHNlbGYuX3Rlc3RzID0gW10KICAgICAgICBzZWxmLmFkZFRlc3RzKHRlc3RzKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZXN0cz0lcz4iICUgKHV0aWwuc3RyY2xhc3Moc2VsZi5fX2NsYXNzX18pLCBsaXN0KHNlbGYpKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBzZWxmLl9fY2xhc3NfXyk6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAogICAgICAgIHJldHVybiBsaXN0KHNlbGYpID09IGxpc3Qob3RoZXIpCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIG5vdCBzZWxmID09IG90aGVyCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBpdGVyKHNlbGYuX3Rlc3RzKQoKICAgIGRlZiBjb3VudFRlc3RDYXNlcyhzZWxmKToKICAgICAgICBjYXNlcyA9IDAKICAgICAgICBmb3IgdGVzdCBpbiBzZWxmOgogICAgICAgICAgICBjYXNlcyArPSB0ZXN0LmNvdW50VGVzdENhc2VzKCkKICAgICAgICByZXR1cm4gY2FzZXMKCiAgICBkZWYgYWRkVGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAjIHNhbml0eSBjaGVja3MKICAgICAgICBpZiBub3QgY2FsbGFibGUodGVzdCk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigie30gaXMgbm90IGNhbGxhYmxlIi5mb3JtYXQocmVwcih0ZXN0KSkpCiAgICAgICAgaWYgaXNpbnN0YW5jZSh0ZXN0LCB0eXBlKSBhbmQgaXNzdWJjbGFzcyh0ZXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhc2UuVGVzdENhc2UsIFRlc3RTdWl0ZSkpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIlRlc3RDYXNlcyBhbmQgVGVzdFN1aXRlcyBtdXN0IGJlIGluc3RhbnRpYXRlZCAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYmVmb3JlIHBhc3NpbmcgdGhlbSB0byBhZGRUZXN0KCkiKQogICAgICAgIHNlbGYuX3Rlc3RzLmFwcGVuZCh0ZXN0KQoKICAgIGRlZiBhZGRUZXN0cyhzZWxmLCB0ZXN0cyk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh0ZXN0cywgc3RyKToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0ZXN0cyBtdXN0IGJlIGFuIGl0ZXJhYmxlIG9mIHRlc3RzLCBub3QgYSBzdHJpbmciKQogICAgICAgIGZvciB0ZXN0IGluIHRlc3RzOgogICAgICAgICAgICBzZWxmLmFkZFRlc3QodGVzdCkKCiAgICBkZWYgcnVuKHNlbGYsIHJlc3VsdCk6CiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgaWYgcmVzdWx0LnNob3VsZFN0b3A6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB0ZXN0KHJlc3VsdCkKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIF9fY2FsbF9fKHNlbGYsICphcmdzLCAqKmt3ZHMpOgogICAgICAgIHJldHVybiBzZWxmLnJ1bigqYXJncywgKiprd2RzKQoKICAgIGRlZiBkZWJ1ZyhzZWxmKToKICAgICAgICAiIiJSdW4gdGhlIHRlc3RzIHdpdGhvdXQgY29sbGVjdGluZyBlcnJvcnMgaW4gYSBUZXN0UmVzdWx0IiIiCiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgdGVzdC5kZWJ1ZygpCgoKY2xhc3MgVGVzdFN1aXRlKEJhc2VUZXN0U3VpdGUpOgogICAgIiIiQSB0ZXN0IHN1aXRlIGlzIGEgY29tcG9zaXRlIHRlc3QgY29uc2lzdGluZyBvZiBhIG51bWJlciBvZiBUZXN0Q2FzZXMuCgogICAgRm9yIHVzZSwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIFRlc3RTdWl0ZSwgdGhlbiBhZGQgdGVzdCBjYXNlIGluc3RhbmNlcy4KICAgIFdoZW4gYWxsIHRlc3RzIGhhdmUgYmVlbiBhZGRlZCwgdGhlIHN1aXRlIGNhbiBiZSBwYXNzZWQgdG8gYSB0ZXN0CiAgICBydW5uZXIsIHN1Y2ggYXMgVGV4dFRlc3RSdW5uZXIuIEl0IHdpbGwgcnVuIHRoZSBpbmRpdmlkdWFsIHRlc3QgY2FzZXMKICAgIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQsIGFnZ3JlZ2F0aW5nIHRoZSByZXN1bHRzLiBXaGVuCiAgICBzdWJjbGFzc2luZywgZG8gbm90IGZvcmdldCB0byBjYWxsIHRoZSBiYXNlIGNsYXNzIGNvbnN0cnVjdG9yLgogICAgIiIiCgogICAgZGVmIHJ1bihzZWxmLCByZXN1bHQsIGRlYnVnPUZhbHNlKToKICAgICAgICB0b3BMZXZlbCA9IEZhbHNlCiAgICAgICAgaWYgZ2V0YXR0cihyZXN1bHQsICdfdGVzdFJ1bkVudGVyZWQnLCBGYWxzZSkgaXMgRmFsc2U6CiAgICAgICAgICAgIHJlc3VsdC5fdGVzdFJ1bkVudGVyZWQgPSB0b3BMZXZlbCA9IFRydWUKCiAgICAgICAgZm9yIHRlc3QgaW4gc2VsZjoKICAgICAgICAgICAgaWYgcmVzdWx0LnNob3VsZFN0b3A6CiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgaWYgX2lzbm90c3VpdGUodGVzdCk6CiAgICAgICAgICAgICAgICBzZWxmLl90ZWFyRG93blByZXZpb3VzQ2xhc3ModGVzdCwgcmVzdWx0KQogICAgICAgICAgICAgICAgc2VsZi5faGFuZGxlTW9kdWxlRml4dHVyZSh0ZXN0LCByZXN1bHQpCiAgICAgICAgICAgICAgICBzZWxmLl9oYW5kbGVDbGFzc1NldFVwKHRlc3QsIHJlc3VsdCkKICAgICAgICAgICAgICAgIHJlc3VsdC5fcHJldmlvdXNUZXN0Q2xhc3MgPSB0ZXN0Ll9fY2xhc3NfXwoKICAgICAgICAgICAgICAgIGlmIChnZXRhdHRyKHRlc3QuX19jbGFzc19fLCAnX2NsYXNzU2V0dXBGYWlsZWQnLCBGYWxzZSkgb3IKICAgICAgICAgICAgICAgICAgICBnZXRhdHRyKHJlc3VsdCwgJ19tb2R1bGVTZXRVcEZhaWxlZCcsIEZhbHNlKSk6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGlmIG5vdCBkZWJ1ZzoKICAgICAgICAgICAgICAgIHRlc3QocmVzdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdGVzdC5kZWJ1ZygpCgogICAgICAgIGlmIHRvcExldmVsOgogICAgICAgICAgICBzZWxmLl90ZWFyRG93blByZXZpb3VzQ2xhc3MoTm9uZSwgcmVzdWx0KQogICAgICAgICAgICBzZWxmLl9oYW5kbGVNb2R1bGVUZWFyRG93bihyZXN1bHQpCiAgICAgICAgICAgIHJlc3VsdC5fdGVzdFJ1bkVudGVyZWQgPSBGYWxzZQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgZGVidWcoc2VsZik6CiAgICAgICAgIiIiUnVuIHRoZSB0ZXN0cyB3aXRob3V0IGNvbGxlY3RpbmcgZXJyb3JzIGluIGEgVGVzdFJlc3VsdCIiIgogICAgICAgIGRlYnVnID0gX0RlYnVnUmVzdWx0KCkKICAgICAgICBzZWxmLnJ1bihkZWJ1ZywgVHJ1ZSkKCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKICAgIGRlZiBfaGFuZGxlQ2xhc3NTZXRVcChzZWxmLCB0ZXN0LCByZXN1bHQpOgogICAgICAgIHByZXZpb3VzQ2xhc3MgPSBnZXRhdHRyKHJlc3VsdCwgJ19wcmV2aW91c1Rlc3RDbGFzcycsIE5vbmUpCiAgICAgICAgY3VycmVudENsYXNzID0gdGVzdC5fX2NsYXNzX18KICAgICAgICBpZiBjdXJyZW50Q2xhc3MgPT0gcHJldmlvdXNDbGFzczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgcmVzdWx0Ll9tb2R1bGVTZXRVcEZhaWxlZDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZ2V0YXR0cihjdXJyZW50Q2xhc3MsICJfX3VuaXR0ZXN0X3NraXBfXyIsIEZhbHNlKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgY3VycmVudENsYXNzLl9jbGFzc1NldHVwRmFpbGVkID0gRmFsc2UKICAgICAgICBleGNlcHQgVHlwZUVycm9yOgogICAgICAgICAgICAjIHRlc3QgbWF5IGFjdHVhbGx5IGJlIGEgZnVuY3Rpb24KICAgICAgICAgICAgIyBzbyBpdHMgY2xhc3Mgd2lsbCBiZSBhIGJ1aWx0aW4tdHlwZQogICAgICAgICAgICBwYXNzCgogICAgICAgIHNldFVwQ2xhc3MgPSBnZXRhdHRyKGN1cnJlbnRDbGFzcywgJ3NldFVwQ2xhc3MnLCBOb25lKQogICAgICAgIGlmIHNldFVwQ2xhc3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXRVcENsYXNzKCkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShyZXN1bHQsIF9EZWJ1Z1Jlc3VsdCk6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICAgICAgICAgIGN1cnJlbnRDbGFzcy5fY2xhc3NTZXR1cEZhaWxlZCA9IFRydWUKICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHV0aWwuc3RyY2xhc3MoY3VycmVudENsYXNzKQogICAgICAgICAgICAgICAgZXJyb3JOYW1lID0gJ3NldFVwQ2xhc3MgKCVzKScgJSBjbGFzc05hbWUKICAgICAgICAgICAgICAgIHNlbGYuX2FkZENsYXNzT3JNb2R1bGVMZXZlbEV4Y2VwdGlvbihyZXN1bHQsIGUsIGVycm9yTmFtZSkKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfcmVzdG9yZVN0ZG91dCcpCgogICAgZGVmIF9nZXRfcHJldmlvdXNfbW9kdWxlKHNlbGYsIHJlc3VsdCk6CiAgICAgICAgcHJldmlvdXNNb2R1bGUgPSBOb25lCiAgICAgICAgcHJldmlvdXNDbGFzcyA9IGdldGF0dHIocmVzdWx0LCAnX3ByZXZpb3VzVGVzdENsYXNzJywgTm9uZSkKICAgICAgICBpZiBwcmV2aW91c0NsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBwcmV2aW91c01vZHVsZSA9IHByZXZpb3VzQ2xhc3MuX19tb2R1bGVfXwogICAgICAgIHJldHVybiBwcmV2aW91c01vZHVsZQoKCiAgICBkZWYgX2hhbmRsZU1vZHVsZUZpeHR1cmUoc2VsZiwgdGVzdCwgcmVzdWx0KToKICAgICAgICBwcmV2aW91c01vZHVsZSA9IHNlbGYuX2dldF9wcmV2aW91c19tb2R1bGUocmVzdWx0KQogICAgICAgIGN1cnJlbnRNb2R1bGUgPSB0ZXN0Ll9fY2xhc3NfXy5fX21vZHVsZV9fCiAgICAgICAgaWYgY3VycmVudE1vZHVsZSA9PSBwcmV2aW91c01vZHVsZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuX2hhbmRsZU1vZHVsZVRlYXJEb3duKHJlc3VsdCkKCgogICAgICAgIHJlc3VsdC5fbW9kdWxlU2V0VXBGYWlsZWQgPSBGYWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgbW9kdWxlID0gc3lzLm1vZHVsZXNbY3VycmVudE1vZHVsZV0KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNldFVwTW9kdWxlID0gZ2V0YXR0cihtb2R1bGUsICdzZXRVcE1vZHVsZScsIE5vbmUpCiAgICAgICAgaWYgc2V0VXBNb2R1bGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXRVcE1vZHVsZSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICByZXN1bHQuX21vZHVsZVNldFVwRmFpbGVkID0gVHJ1ZQogICAgICAgICAgICAgICAgZXJyb3JOYW1lID0gJ3NldFVwTW9kdWxlICglcyknICUgY3VycmVudE1vZHVsZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCiAgICBkZWYgX2FkZENsYXNzT3JNb2R1bGVMZXZlbEV4Y2VwdGlvbihzZWxmLCByZXN1bHQsIGV4Y2VwdGlvbiwgZXJyb3JOYW1lKToKICAgICAgICBlcnJvciA9IF9FcnJvckhvbGRlcihlcnJvck5hbWUpCiAgICAgICAgYWRkU2tpcCA9IGdldGF0dHIocmVzdWx0LCAnYWRkU2tpcCcsIE5vbmUpCiAgICAgICAgaWYgYWRkU2tpcCBpcyBub3QgTm9uZSBhbmQgaXNpbnN0YW5jZShleGNlcHRpb24sIGNhc2UuU2tpcFRlc3QpOgogICAgICAgICAgICBhZGRTa2lwKGVycm9yLCBzdHIoZXhjZXB0aW9uKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXN1bHQuYWRkRXJyb3IoZXJyb3IsIHN5cy5leGNfaW5mbygpKQoKICAgIGRlZiBfaGFuZGxlTW9kdWxlVGVhckRvd24oc2VsZiwgcmVzdWx0KToKICAgICAgICBwcmV2aW91c01vZHVsZSA9IHNlbGYuX2dldF9wcmV2aW91c19tb2R1bGUocmVzdWx0KQogICAgICAgIGlmIHByZXZpb3VzTW9kdWxlIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIHJlc3VsdC5fbW9kdWxlU2V0VXBGYWlsZWQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIG1vZHVsZSA9IHN5cy5tb2R1bGVzW3ByZXZpb3VzTW9kdWxlXQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRlYXJEb3duTW9kdWxlID0gZ2V0YXR0cihtb2R1bGUsICd0ZWFyRG93bk1vZHVsZScsIE5vbmUpCiAgICAgICAgaWYgdGVhckRvd25Nb2R1bGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIF9jYWxsX2lmX2V4aXN0cyhyZXN1bHQsICdfc2V0dXBTdGRvdXQnKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB0ZWFyRG93bk1vZHVsZSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICBlcnJvck5hbWUgPSAndGVhckRvd25Nb2R1bGUgKCVzKScgJSBwcmV2aW91c01vZHVsZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCiAgICBkZWYgX3RlYXJEb3duUHJldmlvdXNDbGFzcyhzZWxmLCB0ZXN0LCByZXN1bHQpOgogICAgICAgIHByZXZpb3VzQ2xhc3MgPSBnZXRhdHRyKHJlc3VsdCwgJ19wcmV2aW91c1Rlc3RDbGFzcycsIE5vbmUpCiAgICAgICAgY3VycmVudENsYXNzID0gdGVzdC5fX2NsYXNzX18KICAgICAgICBpZiBjdXJyZW50Q2xhc3MgPT0gcHJldmlvdXNDbGFzczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZ2V0YXR0cihwcmV2aW91c0NsYXNzLCAnX2NsYXNzU2V0dXBGYWlsZWQnLCBGYWxzZSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGdldGF0dHIocmVzdWx0LCAnX21vZHVsZVNldFVwRmFpbGVkJywgRmFsc2UpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBnZXRhdHRyKHByZXZpb3VzQ2xhc3MsICJfX3VuaXR0ZXN0X3NraXBfXyIsIEZhbHNlKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRlYXJEb3duQ2xhc3MgPSBnZXRhdHRyKHByZXZpb3VzQ2xhc3MsICd0ZWFyRG93bkNsYXNzJywgTm9uZSkKICAgICAgICBpZiB0ZWFyRG93bkNsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBfY2FsbF9pZl9leGlzdHMocmVzdWx0LCAnX3NldHVwU3Rkb3V0JykKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdGVhckRvd25DbGFzcygpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBfRGVidWdSZXN1bHQpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB1dGlsLnN0cmNsYXNzKHByZXZpb3VzQ2xhc3MpCiAgICAgICAgICAgICAgICBlcnJvck5hbWUgPSAndGVhckRvd25DbGFzcyAoJXMpJyAlIGNsYXNzTmFtZQogICAgICAgICAgICAgICAgc2VsZi5fYWRkQ2xhc3NPck1vZHVsZUxldmVsRXhjZXB0aW9uKHJlc3VsdCwgZSwgZXJyb3JOYW1lKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgX2NhbGxfaWZfZXhpc3RzKHJlc3VsdCwgJ19yZXN0b3JlU3Rkb3V0JykKCgpjbGFzcyBfRXJyb3JIb2xkZXIob2JqZWN0KToKICAgICIiIgogICAgUGxhY2Vob2xkZXIgZm9yIGEgVGVzdENhc2UgaW5zaWRlIGEgcmVzdWx0LiBBcyBmYXIgYXMgYSBUZXN0UmVzdWx0CiAgICBpcyBjb25jZXJuZWQsIHRoaXMgbG9va3MgZXhhY3RseSBsaWtlIGEgdW5pdCB0ZXN0LiBVc2VkIHRvIGluc2VydAogICAgYXJiaXRyYXJ5IGVycm9ycyBpbnRvIGEgdGVzdCBzdWl0ZSBydW4uCiAgICAiIiIKICAgICMgSW5zcGlyZWQgYnkgdGhlIEVycm9ySG9sZGVyIGZyb20gVHdpc3RlZDoKICAgICMgaHR0cDovL3R3aXN0ZWRtYXRyaXguY29tL3RyYWMvYnJvd3Nlci90cnVuay90d2lzdGVkL3RyaWFsL3J1bm5lci5weQoKICAgICMgYXR0cmlidXRlIHVzZWQgYnkgVGVzdFJlc3VsdC5fZXhjX2luZm9fdG9fc3RyaW5nCiAgICBmYWlsdXJlRXhjZXB0aW9uID0gTm9uZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkZXNjcmlwdGlvbik6CiAgICAgICAgc2VsZi5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uCgogICAgZGVmIGlkKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmRlc2NyaXB0aW9uCgogICAgZGVmIHNob3J0RGVzY3JpcHRpb24oc2VsZik6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICI8RXJyb3JIb2xkZXIgZGVzY3JpcHRpb249JXI+IiAlIChzZWxmLmRlc2NyaXB0aW9uLCkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pZCgpCgogICAgZGVmIHJ1bihzZWxmLCByZXN1bHQpOgogICAgICAgICMgY291bGQgY2FsbCByZXN1bHQuYWRkRXJyb3IoLi4uKSAtIGJ1dCB0aGlzIHRlc3QtbGlrZSBvYmplY3QKICAgICAgICAjIHNob3VsZG4ndCBiZSBydW4gYW55d2F5CiAgICAgICAgcGFzcwoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCByZXN1bHQpOgogICAgICAgIHJldHVybiBzZWxmLnJ1bihyZXN1bHQpCgogICAgZGVmIGNvdW50VGVzdENhc2VzKHNlbGYpOgogICAgICAgIHJldHVybiAwCgpkZWYgX2lzbm90c3VpdGUodGVzdCk6CiAgICAiQSBjcnVkZSB3YXkgdG8gdGVsbCBhcGFydCB0ZXN0Y2FzZXMgYW5kIHN1aXRlcyB3aXRoIGR1Y2stdHlwaW5nIgogICAgdHJ5OgogICAgICAgIGl0ZXIodGVzdCkKICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIHJldHVybiBGYWxzZQoKCmNsYXNzIF9EZWJ1Z1Jlc3VsdChvYmplY3QpOgogICAgIlVzZWQgYnkgdGhlIFRlc3RTdWl0ZSB0byBob2xkIHByZXZpb3VzIGNsYXNzIHdoZW4gcnVubmluZyBpbiBkZWJ1Zy4iCiAgICBfcHJldmlvdXNUZXN0Q2xhc3MgPSBOb25lCiAgICBfbW9kdWxlU2V0VXBGYWlsZWQgPSBGYWxzZQogICAgc2hvdWxkU3RvcCA9IEZhbHNlCg==',
'/Lib/unittest/runner.py':'IiIiUnVubmluZyB0ZXN0cyIiIgoKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgd2FybmluZ3MKCmZyb20gLiBpbXBvcnQgcmVzdWx0CmZyb20gLnNpZ25hbHMgaW1wb3J0IHJlZ2lzdGVyUmVzdWx0CgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmNsYXNzIF9Xcml0ZWxuRGVjb3JhdG9yKG9iamVjdCk6CiAgICAiIiJVc2VkIHRvIGRlY29yYXRlIGZpbGUtbGlrZSBvYmplY3RzIHdpdGggYSBoYW5keSAnd3JpdGVsbicgbWV0aG9kIiIiCiAgICBkZWYgX19pbml0X18oc2VsZixzdHJlYW0pOgogICAgICAgIHNlbGYuc3RyZWFtID0gc3RyZWFtCgogICAgZGVmIF9fZ2V0YXR0cl9fKHNlbGYsIGF0dHIpOgogICAgICAgIGlmIGF0dHIgaW4gKCdzdHJlYW0nLCAnX19nZXRzdGF0ZV9fJyk6CiAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKGF0dHIpCiAgICAgICAgcmV0dXJuIGdldGF0dHIoc2VsZi5zdHJlYW0sYXR0cikKCiAgICBkZWYgd3JpdGVsbihzZWxmLCBhcmc9Tm9uZSk6CiAgICAgICAgaWYgYXJnOgogICAgICAgICAgICBzZWxmLndyaXRlKGFyZykKICAgICAgICBzZWxmLndyaXRlKCdcbicpICMgdGV4dC1tb2RlIHN0cmVhbXMgdHJhbnNsYXRlIHRvIFxyXG4gaWYgbmVlZGVkCgoKY2xhc3MgVGV4dFRlc3RSZXN1bHQocmVzdWx0LlRlc3RSZXN1bHQpOgogICAgIiIiQSB0ZXN0IHJlc3VsdCBjbGFzcyB0aGF0IGNhbiBwcmludCBmb3JtYXR0ZWQgdGV4dCByZXN1bHRzIHRvIGEgc3RyZWFtLgoKICAgIFVzZWQgYnkgVGV4dFRlc3RSdW5uZXIuCiAgICAiIiIKICAgIHNlcGFyYXRvcjEgPSAnPScgKiA3MAogICAgc2VwYXJhdG9yMiA9ICctJyAqIDcwCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0cmVhbSwgZGVzY3JpcHRpb25zLCB2ZXJib3NpdHkpOgogICAgICAgIHN1cGVyKFRleHRUZXN0UmVzdWx0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5zdHJlYW0gPSBzdHJlYW0KICAgICAgICBzZWxmLnNob3dBbGwgPSB2ZXJib3NpdHkgPiAxCiAgICAgICAgc2VsZi5kb3RzID0gdmVyYm9zaXR5ID09IDEKICAgICAgICBzZWxmLmRlc2NyaXB0aW9ucyA9IGRlc2NyaXB0aW9ucwoKICAgIGRlZiBnZXREZXNjcmlwdGlvbihzZWxmLCB0ZXN0KToKICAgICAgICBkb2NfZmlyc3RfbGluZSA9IHRlc3Quc2hvcnREZXNjcmlwdGlvbigpCiAgICAgICAgaWYgc2VsZi5kZXNjcmlwdGlvbnMgYW5kIGRvY19maXJzdF9saW5lOgogICAgICAgICAgICByZXR1cm4gJ1xuJy5qb2luKChzdHIodGVzdCksIGRvY19maXJzdF9saW5lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc3RyKHRlc3QpCgogICAgZGVmIHN0YXJ0VGVzdChzZWxmLCB0ZXN0KToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuc3RhcnRUZXN0KHRlc3QpCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZShzZWxmLmdldERlc2NyaXB0aW9uKHRlc3QpKQogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZSgiIC4uLiAiKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZFN1Y2Nlc3Moc2VsZiwgdGVzdCk6CiAgICAgICAgc3VwZXIoVGV4dFRlc3RSZXN1bHQsIHNlbGYpLmFkZFN1Y2Nlc3ModGVzdCkKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIm9rIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJy4nKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEVycm9yKHNlbGYsIHRlc3QsIGVycik6CiAgICAgICAgc3VwZXIoVGV4dFRlc3RSZXN1bHQsIHNlbGYpLmFkZEVycm9yKHRlc3QsIGVycikKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIkVSUk9SIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJ0UnKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEZhaWx1cmUoc2VsZiwgdGVzdCwgZXJyKToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkRmFpbHVyZSh0ZXN0LCBlcnIpCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJGQUlMIikKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoJ0YnKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZFNraXAoc2VsZiwgdGVzdCwgcmVhc29uKToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkU2tpcCh0ZXN0LCByZWFzb24pCiAgICAgICAgaWYgc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJza2lwcGVkIHswIXJ9Ii5mb3JtYXQocmVhc29uKSkKICAgICAgICBlbGlmIHNlbGYuZG90czoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoInMiKQogICAgICAgICAgICBzZWxmLnN0cmVhbS5mbHVzaCgpCgogICAgZGVmIGFkZEV4cGVjdGVkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgIHN1cGVyKFRleHRUZXN0UmVzdWx0LCBzZWxmKS5hZGRFeHBlY3RlZEZhaWx1cmUodGVzdCwgZXJyKQogICAgICAgIGlmIHNlbGYuc2hvd0FsbDoKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiZXhwZWN0ZWQgZmFpbHVyZSIpCiAgICAgICAgZWxpZiBzZWxmLmRvdHM6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJ4IikKICAgICAgICAgICAgc2VsZi5zdHJlYW0uZmx1c2goKQoKICAgIGRlZiBhZGRVbmV4cGVjdGVkU3VjY2VzcyhzZWxmLCB0ZXN0KToKICAgICAgICBzdXBlcihUZXh0VGVzdFJlc3VsdCwgc2VsZikuYWRkVW5leHBlY3RlZFN1Y2Nlc3ModGVzdCkKICAgICAgICBpZiBzZWxmLnNob3dBbGw6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oInVuZXhwZWN0ZWQgc3VjY2VzcyIpCiAgICAgICAgZWxpZiBzZWxmLmRvdHM6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJ1IikKICAgICAgICAgICAgc2VsZi5zdHJlYW0uZmx1c2goKQoKICAgIGRlZiBwcmludEVycm9ycyhzZWxmKToKICAgICAgICBpZiBzZWxmLmRvdHMgb3Igc2VsZi5zaG93QWxsOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCkKICAgICAgICBzZWxmLnByaW50RXJyb3JMaXN0KCdFUlJPUicsIHNlbGYuZXJyb3JzKQogICAgICAgIHNlbGYucHJpbnRFcnJvckxpc3QoJ0ZBSUwnLCBzZWxmLmZhaWx1cmVzKQoKICAgIGRlZiBwcmludEVycm9yTGlzdChzZWxmLCBmbGF2b3VyLCBlcnJvcnMpOgogICAgICAgIGZvciB0ZXN0LCBlcnIgaW4gZXJyb3JzOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKHNlbGYuc2VwYXJhdG9yMSkKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiJXM6ICVzIiAlIChmbGF2b3VyLHNlbGYuZ2V0RGVzY3JpcHRpb24odGVzdCkpKQogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKHNlbGYuc2VwYXJhdG9yMikKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbigiJXMiICUgZXJyKQoKCmNsYXNzIFRleHRUZXN0UnVubmVyKG9iamVjdCk6CiAgICAiIiJBIHRlc3QgcnVubmVyIGNsYXNzIHRoYXQgZGlzcGxheXMgcmVzdWx0cyBpbiB0ZXh0dWFsIGZvcm0uCgogICAgSXQgcHJpbnRzIG91dCB0aGUgbmFtZXMgb2YgdGVzdHMgYXMgdGhleSBhcmUgcnVuLCBlcnJvcnMgYXMgdGhleQogICAgb2NjdXIsIGFuZCBhIHN1bW1hcnkgb2YgdGhlIHJlc3VsdHMgYXQgdGhlIGVuZCBvZiB0aGUgdGVzdCBydW4uCiAgICAiIiIKICAgIHJlc3VsdGNsYXNzID0gVGV4dFRlc3RSZXN1bHQKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RyZWFtPU5vbmUsIGRlc2NyaXB0aW9ucz1UcnVlLCB2ZXJib3NpdHk9MSwKICAgICAgICAgICAgICAgICBmYWlsZmFzdD1GYWxzZSwgYnVmZmVyPUZhbHNlLCByZXN1bHRjbGFzcz1Ob25lLCB3YXJuaW5ncz1Ob25lKToKICAgICAgICBpZiBzdHJlYW0gaXMgTm9uZToKICAgICAgICAgICAgc3RyZWFtID0gc3lzLnN0ZGVycgogICAgICAgIHNlbGYuc3RyZWFtID0gX1dyaXRlbG5EZWNvcmF0b3Ioc3RyZWFtKQogICAgICAgIHNlbGYuZGVzY3JpcHRpb25zID0gZGVzY3JpcHRpb25zCiAgICAgICAgc2VsZi52ZXJib3NpdHkgPSB2ZXJib3NpdHkKICAgICAgICBzZWxmLmZhaWxmYXN0ID0gZmFpbGZhc3QKICAgICAgICBzZWxmLmJ1ZmZlciA9IGJ1ZmZlcgogICAgICAgIHNlbGYud2FybmluZ3MgPSB3YXJuaW5ncwogICAgICAgIGlmIHJlc3VsdGNsYXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnJlc3VsdGNsYXNzID0gcmVzdWx0Y2xhc3MKCiAgICBkZWYgX21ha2VSZXN1bHQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYucmVzdWx0Y2xhc3Moc2VsZi5zdHJlYW0sIHNlbGYuZGVzY3JpcHRpb25zLCBzZWxmLnZlcmJvc2l0eSkKCiAgICBkZWYgcnVuKHNlbGYsIHRlc3QpOgogICAgICAgICJSdW4gdGhlIGdpdmVuIHRlc3QgY2FzZSBvciB0ZXN0IHN1aXRlLiIKICAgICAgICByZXN1bHQgPSBzZWxmLl9tYWtlUmVzdWx0KCkKICAgICAgICByZWdpc3RlclJlc3VsdChyZXN1bHQpCiAgICAgICAgcmVzdWx0LmZhaWxmYXN0ID0gc2VsZi5mYWlsZmFzdAogICAgICAgIHJlc3VsdC5idWZmZXIgPSBzZWxmLmJ1ZmZlcgogICAgICAgIHdpdGggd2FybmluZ3MuY2F0Y2hfd2FybmluZ3MoKToKICAgICAgICAgICAgaWYgc2VsZi53YXJuaW5nczoKICAgICAgICAgICAgICAgICMgaWYgc2VsZi53YXJuaW5ncyBpcyBzZXQsIHVzZSBpdCB0byBmaWx0ZXIgYWxsIHRoZSB3YXJuaW5ncwogICAgICAgICAgICAgICAgd2FybmluZ3Muc2ltcGxlZmlsdGVyKHNlbGYud2FybmluZ3MpCiAgICAgICAgICAgICAgICAjIGlmIHRoZSBmaWx0ZXIgaXMgJ2RlZmF1bHQnIG9yICdhbHdheXMnLCBzcGVjaWFsLWNhc2UgdGhlCiAgICAgICAgICAgICAgICAjIHdhcm5pbmdzIGZyb20gdGhlIGRlcHJlY2F0ZWQgdW5pdHRlc3QgbWV0aG9kcyB0byBzaG93IHRoZW0KICAgICAgICAgICAgICAgICMgbm8gbW9yZSB0aGFuIG9uY2UgcGVyIG1vZHVsZSwgYmVjYXVzZSB0aGV5IGNhbiBiZSBmYWlybHkKICAgICAgICAgICAgICAgICMgbm9pc3kuICBUaGUgLVdkIGFuZCAtV2EgZmxhZ3MgY2FuIGJlIHVzZWQgdG8gYnlwYXNzIHRoaXMKICAgICAgICAgICAgICAgICMgb25seSB3aGVuIHNlbGYud2FybmluZ3MgaXMgTm9uZS4KICAgICAgICAgICAgICAgIGlmIHNlbGYud2FybmluZ3MgaW4gWydkZWZhdWx0JywgJ2Fsd2F5cyddOgogICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLmZpbHRlcndhcm5pbmdzKCdtb2R1bGUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9RGVwcmVjYXRpb25XYXJuaW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT0nUGxlYXNlIHVzZSBhc3NlcnRcdysgaW5zdGVhZC4nKQogICAgICAgICAgICBzdGFydFRpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBzdGFydFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0YXJ0VGVzdFJ1bicsIE5vbmUpCiAgICAgICAgICAgIGlmIHN0YXJ0VGVzdFJ1biBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHN0YXJ0VGVzdFJ1bigpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRlc3QocmVzdWx0KQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgc3RvcFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0b3BUZXN0UnVuJywgTm9uZSkKICAgICAgICAgICAgICAgIGlmIHN0b3BUZXN0UnVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHN0b3BUZXN0UnVuKCkKICAgICAgICAgICAgc3RvcFRpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHRpbWVUYWtlbiA9IHN0b3BUaW1lIC0gc3RhcnRUaW1lCiAgICAgICAgcmVzdWx0LnByaW50RXJyb3JzKCkKICAgICAgICBpZiBoYXNhdHRyKHJlc3VsdCwgJ3NlcGFyYXRvcjInKToKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGVsbihyZXN1bHQuc2VwYXJhdG9yMikKICAgICAgICBydW4gPSByZXN1bHQudGVzdHNSdW4KICAgICAgICBzZWxmLnN0cmVhbS53cml0ZWxuKCJSYW4gJWQgdGVzdCVzIGluICUuM2ZzIiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocnVuLCBydW4gIT0gMSBhbmQgInMiIG9yICIiLCB0aW1lVGFrZW4pKQogICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oKQoKICAgICAgICBleHBlY3RlZEZhaWxzID0gdW5leHBlY3RlZFN1Y2Nlc3NlcyA9IHNraXBwZWQgPSAwCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXN1bHRzID0gbWFwKGxlbiwgKHJlc3VsdC5leHBlY3RlZEZhaWx1cmVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC51bmV4cGVjdGVkU3VjY2Vzc2VzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5za2lwcGVkKSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICBleHBlY3RlZEZhaWxzLCB1bmV4cGVjdGVkU3VjY2Vzc2VzLCBza2lwcGVkID0gcmVzdWx0cwoKICAgICAgICBpbmZvcyA9IFtdCiAgICAgICAgaWYgbm90IHJlc3VsdC53YXNTdWNjZXNzZnVsKCk6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlKCJGQUlMRUQiKQogICAgICAgICAgICBmYWlsZWQsIGVycm9yZWQgPSBsZW4ocmVzdWx0LmZhaWx1cmVzKSwgbGVuKHJlc3VsdC5lcnJvcnMpCiAgICAgICAgICAgIGlmIGZhaWxlZDoKICAgICAgICAgICAgICAgIGluZm9zLmFwcGVuZCgiZmFpbHVyZXM9JWQiICUgZmFpbGVkKQogICAgICAgICAgICBpZiBlcnJvcmVkOgogICAgICAgICAgICAgICAgaW5mb3MuYXBwZW5kKCJlcnJvcnM9JWQiICUgZXJyb3JlZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnN0cmVhbS53cml0ZSgiT0siKQogICAgICAgIGlmIHNraXBwZWQ6CiAgICAgICAgICAgIGluZm9zLmFwcGVuZCgic2tpcHBlZD0lZCIgJSBza2lwcGVkKQogICAgICAgIGlmIGV4cGVjdGVkRmFpbHM6CiAgICAgICAgICAgIGluZm9zLmFwcGVuZCgiZXhwZWN0ZWQgZmFpbHVyZXM9JWQiICUgZXhwZWN0ZWRGYWlscykKICAgICAgICBpZiB1bmV4cGVjdGVkU3VjY2Vzc2VzOgogICAgICAgICAgICBpbmZvcy5hcHBlbmQoInVuZXhwZWN0ZWQgc3VjY2Vzc2VzPSVkIiAlIHVuZXhwZWN0ZWRTdWNjZXNzZXMpCiAgICAgICAgaWYgaW5mb3M6CiAgICAgICAgICAgIHNlbGYuc3RyZWFtLndyaXRlbG4oIiAoJXMpIiAlICgiLCAiLmpvaW4oaW5mb3MpLCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zdHJlYW0ud3JpdGUoIlxuIikKICAgICAgICByZXR1cm4gcmVzdWx0Cg==',
'/Lib/unittest/result.py':'IiIiVGVzdCByZXN1bHQgb2JqZWN0IiIiCgppbXBvcnQgb3MKaW1wb3J0IF9weWlvIGFzIGlvICAgCmltcG9ydCBzeXMKaW1wb3J0IHRyYWNlYmFjawoKI2hlbHAgbWUhCiNmcm9tIC4gaW1wb3J0IHV0aWwKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHdyYXBzCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKZGVmIGZhaWxmYXN0KG1ldGhvZCk6CiAgICBAd3JhcHMobWV0aG9kKQogICAgZGVmIGlubmVyKHNlbGYsICphcmdzLCAqKmt3KToKICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICdmYWlsZmFzdCcsIEZhbHNlKToKICAgICAgICAgICAgc2VsZi5zdG9wKCkKICAgICAgICByZXR1cm4gbWV0aG9kKHNlbGYsICphcmdzLCAqKmt3KQogICAgcmV0dXJuIGlubmVyCgpTVERPVVRfTElORSA9ICdcblN0ZG91dDpcbiVzJwpTVERFUlJfTElORSA9ICdcblN0ZGVycjpcbiVzJwoKCmNsYXNzIFRlc3RSZXN1bHQob2JqZWN0KToKICAgICIiIkhvbGRlciBmb3IgdGVzdCByZXN1bHQgaW5mb3JtYXRpb24uCgogICAgVGVzdCByZXN1bHRzIGFyZSBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgdGhlIFRlc3RDYXNlIGFuZCBUZXN0U3VpdGUKICAgIGNsYXNzZXMsIGFuZCBkbyBub3QgbmVlZCB0byBiZSBleHBsaWNpdGx5IG1hbmlwdWxhdGVkIGJ5IHdyaXRlcnMgb2YgdGVzdHMuCgogICAgRWFjaCBpbnN0YW5jZSBob2xkcyB0aGUgdG90YWwgbnVtYmVyIG9mIHRlc3RzIHJ1biwgYW5kIGNvbGxlY3Rpb25zIG9mCiAgICBmYWlsdXJlcyBhbmQgZXJyb3JzIHRoYXQgb2NjdXJyZWQgYW1vbmcgdGhvc2UgdGVzdCBydW5zLiBUaGUgY29sbGVjdGlvbnMKICAgIGNvbnRhaW4gdHVwbGVzIG9mICh0ZXN0Y2FzZSwgZXhjZXB0aW9uaW5mbyksIHdoZXJlIGV4Y2VwdGlvbmluZm8gaXMgdGhlCiAgICBmb3JtYXR0ZWQgdHJhY2ViYWNrIG9mIHRoZSBlcnJvciB0aGF0IG9jY3VycmVkLgogICAgIiIiCiAgICBfcHJldmlvdXNUZXN0Q2xhc3MgPSBOb25lCiAgICBfdGVzdFJ1bkVudGVyZWQgPSBGYWxzZQogICAgX21vZHVsZVNldFVwRmFpbGVkID0gRmFsc2UKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdHJlYW09Tm9uZSwgZGVzY3JpcHRpb25zPU5vbmUsIHZlcmJvc2l0eT1Ob25lKToKICAgICAgICBzZWxmLmZhaWxmYXN0ID0gRmFsc2UKICAgICAgICBzZWxmLmZhaWx1cmVzID0gW10KICAgICAgICBzZWxmLmVycm9ycyA9IFtdCiAgICAgICAgc2VsZi50ZXN0c1J1biA9IDAKICAgICAgICBzZWxmLnNraXBwZWQgPSBbXQogICAgICAgIHNlbGYuZXhwZWN0ZWRGYWlsdXJlcyA9IFtdCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2Vzc2VzID0gW10KICAgICAgICBzZWxmLnNob3VsZFN0b3AgPSBGYWxzZQogICAgICAgIHNlbGYuYnVmZmVyID0gRmFsc2UKICAgICAgICBzZWxmLl9zdGRvdXRfYnVmZmVyID0gTm9uZQogICAgICAgIHNlbGYuX3N0ZGVycl9idWZmZXIgPSBOb25lCiAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3Rkb3V0ID0gc3lzLnN0ZG91dAogICAgICAgIHNlbGYuX29yaWdpbmFsX3N0ZGVyciA9IHN5cy5zdGRlcnIKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBGYWxzZQoKICAgIGRlZiBwcmludEVycm9ycyhzZWxmKToKICAgICAgICAiQ2FsbGVkIGJ5IFRlc3RSdW5uZXIgYWZ0ZXIgdGVzdCBydW4iCgogICAgZGVmIHN0YXJ0VGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAiQ2FsbGVkIHdoZW4gdGhlIGdpdmVuIHRlc3QgaXMgYWJvdXQgdG8gYmUgcnVuIgogICAgICAgIHNlbGYudGVzdHNSdW4gKz0gMQogICAgICAgIHNlbGYuX21pcnJvck91dHB1dCA9IEZhbHNlCiAgICAgICAgc2VsZi5fc2V0dXBTdGRvdXQoKQoKICAgIGRlZiBfc2V0dXBTdGRvdXQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5idWZmZXI6CiAgICAgICAgICAgIGlmIHNlbGYuX3N0ZGVycl9idWZmZXIgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0ZGVycl9idWZmZXIgPSBpby5TdHJpbmdJTygpCiAgICAgICAgICAgICAgICBzZWxmLl9zdGRvdXRfYnVmZmVyID0gaW8uU3RyaW5nSU8oKQogICAgICAgICAgICBzeXMuc3Rkb3V0ID0gc2VsZi5fc3Rkb3V0X2J1ZmZlcgogICAgICAgICAgICBzeXMuc3RkZXJyID0gc2VsZi5fc3RkZXJyX2J1ZmZlcgoKICAgIGRlZiBzdGFydFRlc3RSdW4oc2VsZik6CiAgICAgICAgIiIiQ2FsbGVkIG9uY2UgYmVmb3JlIGFueSB0ZXN0cyBhcmUgZXhlY3V0ZWQuCgogICAgICAgIFNlZSBzdGFydFRlc3QgZm9yIGEgbWV0aG9kIGNhbGxlZCBiZWZvcmUgZWFjaCB0ZXN0LgogICAgICAgICIiIgoKICAgIGRlZiBzdG9wVGVzdChzZWxmLCB0ZXN0KToKICAgICAgICAiIiJDYWxsZWQgd2hlbiB0aGUgZ2l2ZW4gdGVzdCBoYXMgYmVlbiBydW4iIiIKICAgICAgICBzZWxmLl9yZXN0b3JlU3Rkb3V0KCkKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBGYWxzZQoKICAgIGRlZiBfcmVzdG9yZVN0ZG91dChzZWxmKToKICAgICAgICBpZiBzZWxmLmJ1ZmZlcjoKICAgICAgICAgICAgaWYgc2VsZi5fbWlycm9yT3V0cHV0OgogICAgICAgICAgICAgICAgb3V0cHV0ID0gc3lzLnN0ZG91dC5nZXR2YWx1ZSgpCiAgICAgICAgICAgICAgICBlcnJvciA9IHN5cy5zdGRlcnIuZ2V0dmFsdWUoKQogICAgICAgICAgICAgICAgaWYgb3V0cHV0OgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBvdXRwdXQuZW5kc3dpdGgoJ1xuJyk6CiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3Rkb3V0LndyaXRlKFNURE9VVF9MSU5FICUgb3V0cHV0KQogICAgICAgICAgICAgICAgaWYgZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGVycm9yLmVuZHN3aXRoKCdcbicpOgogICAgICAgICAgICAgICAgICAgICAgICBlcnJvciArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fb3JpZ2luYWxfc3RkZXJyLndyaXRlKFNUREVSUl9MSU5FICUgZXJyb3IpCgogICAgICAgICAgICBzeXMuc3Rkb3V0ID0gc2VsZi5fb3JpZ2luYWxfc3Rkb3V0CiAgICAgICAgICAgIHN5cy5zdGRlcnIgPSBzZWxmLl9vcmlnaW5hbF9zdGRlcnIKICAgICAgICAgICAgc2VsZi5fc3Rkb3V0X2J1ZmZlci5zZWVrKDApCiAgICAgICAgICAgIHNlbGYuX3N0ZG91dF9idWZmZXIudHJ1bmNhdGUoKQogICAgICAgICAgICBzZWxmLl9zdGRlcnJfYnVmZmVyLnNlZWsoMCkKICAgICAgICAgICAgc2VsZi5fc3RkZXJyX2J1ZmZlci50cnVuY2F0ZSgpCgogICAgZGVmIHN0b3BUZXN0UnVuKHNlbGYpOgogICAgICAgICIiIkNhbGxlZCBvbmNlIGFmdGVyIGFsbCB0ZXN0cyBhcmUgZXhlY3V0ZWQuCgogICAgICAgIFNlZSBzdG9wVGVzdCBmb3IgYSBtZXRob2QgY2FsbGVkIGFmdGVyIGVhY2ggdGVzdC4KICAgICAgICAiIiIKCiAgICBAZmFpbGZhc3QKICAgIGRlZiBhZGRFcnJvcihzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gJ2VycicgaXMgYSB0dXBsZSBvZiB2YWx1ZXMgYXMKICAgICAgICByZXR1cm5lZCBieSBzeXMuZXhjX2luZm8oKS4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmVycm9ycy5hcHBlbmQoKHRlc3QsIHNlbGYuX2V4Y19pbmZvX3RvX3N0cmluZyhlcnIsIHRlc3QpKSkKICAgICAgICBzZWxmLl9taXJyb3JPdXRwdXQgPSBUcnVlCgogICAgQGZhaWxmYXN0CiAgICBkZWYgYWRkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gJ2VycicgaXMgYSB0dXBsZSBvZiB2YWx1ZXMgYXMKICAgICAgICByZXR1cm5lZCBieSBzeXMuZXhjX2luZm8oKS4iIiIKICAgICAgICBzZWxmLmZhaWx1cmVzLmFwcGVuZCgodGVzdCwgc2VsZi5fZXhjX2luZm9fdG9fc3RyaW5nKGVyciwgdGVzdCkpKQogICAgICAgIHNlbGYuX21pcnJvck91dHB1dCA9IFRydWUKCiAgICBkZWYgYWRkU3VjY2VzcyhzZWxmLCB0ZXN0KToKICAgICAgICAiQ2FsbGVkIHdoZW4gYSB0ZXN0IGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IgogICAgICAgIHBhc3MKCiAgICBkZWYgYWRkU2tpcChzZWxmLCB0ZXN0LCByZWFzb24pOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGEgdGVzdCBpcyBza2lwcGVkLiIiIgogICAgICAgIHNlbGYuc2tpcHBlZC5hcHBlbmQoKHRlc3QsIHJlYXNvbikpCgogICAgZGVmIGFkZEV4cGVjdGVkRmFpbHVyZShzZWxmLCB0ZXN0LCBlcnIpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGFuIGV4cGVjdGVkIGZhaWx1cmUvZXJyb3Igb2NjdXJlZC4iIiIKICAgICAgICBzZWxmLmV4cGVjdGVkRmFpbHVyZXMuYXBwZW5kKAogICAgICAgICAgICAodGVzdCwgc2VsZi5fZXhjX2luZm9fdG9fc3RyaW5nKGVyciwgdGVzdCkpKQoKICAgIEBmYWlsZmFzdAogICAgZGVmIGFkZFVuZXhwZWN0ZWRTdWNjZXNzKHNlbGYsIHRlc3QpOgogICAgICAgICIiIkNhbGxlZCB3aGVuIGEgdGVzdCB3YXMgZXhwZWN0ZWQgdG8gZmFpbCwgYnV0IHN1Y2NlZWQuIiIiCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2Vzc2VzLmFwcGVuZCh0ZXN0KQoKICAgIGRlZiB3YXNTdWNjZXNzZnVsKHNlbGYpOgogICAgICAgICJUZWxscyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJlc3VsdCB3YXMgYSBzdWNjZXNzIgogICAgICAgIHJldHVybiBsZW4oc2VsZi5mYWlsdXJlcykgPT0gbGVuKHNlbGYuZXJyb3JzKSA9PSAwCgogICAgZGVmIHN0b3Aoc2VsZik6CiAgICAgICAgIkluZGljYXRlcyB0aGF0IHRoZSB0ZXN0cyBzaG91bGQgYmUgYWJvcnRlZCIKICAgICAgICBzZWxmLnNob3VsZFN0b3AgPSBUcnVlCgogICAgZGVmIF9leGNfaW5mb190b19zdHJpbmcoc2VsZiwgZXJyLCB0ZXN0KToKICAgICAgICAiIiJDb252ZXJ0cyBhIHN5cy5leGNfaW5mbygpLXN0eWxlIHR1cGxlIG9mIHZhbHVlcyBpbnRvIGEgc3RyaW5nLiIiIgogICAgICAgIHBhc3MgICAjZml4bWUgYnJ5dGhvbgoKICAgICAgICAjZXhjdHlwZSwgdmFsdWUsIHRiID0gZXJyCiAgICAgICAgIyMgU2tpcCB0ZXN0IHJ1bm5lciB0cmFjZWJhY2sgbGV2ZWxzCiAgICAgICAgI3doaWxlIHRiIGFuZCBzZWxmLl9pc19yZWxldmFudF90Yl9sZXZlbCh0Yik6CiAgICAgICAgIyAgICB0YiA9IHRiLnRiX25leHQKCiAgICAgICAgI2lmIGV4Y3R5cGUgaXMgdGVzdC5mYWlsdXJlRXhjZXB0aW9uOgogICAgICAgICMgICAgIyBTa2lwIGFzc2VydCooKSB0cmFjZWJhY2sgbGV2ZWxzCiAgICAgICAgIyAgICBsZW5ndGggPSBzZWxmLl9jb3VudF9yZWxldmFudF90Yl9sZXZlbHModGIpCiAgICAgICAgIyAgICBtc2dMaW5lcyA9IHRyYWNlYmFjay5mb3JtYXRfZXhjZXB0aW9uKGV4Y3R5cGUsIHZhbHVlLCB0YiwgbGVuZ3RoKQogICAgICAgICNlbHNlOgogICAgICAgICMgICAgbXNnTGluZXMgPSB0cmFjZWJhY2suZm9ybWF0X2V4Y2VwdGlvbihleGN0eXBlLCB2YWx1ZSwgdGIpCgogICAgICAgICNpZiBzZWxmLmJ1ZmZlcjoKICAgICAgICAjICAgIG91dHB1dCA9IHN5cy5zdGRvdXQuZ2V0dmFsdWUoKQogICAgICAgICMgICAgZXJyb3IgPSBzeXMuc3RkZXJyLmdldHZhbHVlKCkKICAgICAgICAjICAgIGlmIG91dHB1dDoKICAgICAgICAjICAgICAgICBpZiBub3Qgb3V0cHV0LmVuZHN3aXRoKCdcbicpOgogICAgICAgICMgICAgICAgICAgICBvdXRwdXQgKz0gJ1xuJwogICAgICAgICMgICAgICAgIG1zZ0xpbmVzLmFwcGVuZChTVERPVVRfTElORSAlIG91dHB1dCkKICAgICAgICAjICAgIGlmIGVycm9yOgogICAgICAgICMgICAgICAgIGlmIG5vdCBlcnJvci5lbmRzd2l0aCgnXG4nKToKICAgICAgICAjICAgICAgICAgICAgZXJyb3IgKz0gJ1xuJwogICAgICAgICMgICAgICAgIG1zZ0xpbmVzLmFwcGVuZChTVERFUlJfTElORSAlIGVycm9yKQogICAgICAgICNyZXR1cm4gJycuam9pbihtc2dMaW5lcykKCgogICAgI2RlZiBfaXNfcmVsZXZhbnRfdGJfbGV2ZWwoc2VsZiwgdGIpOgogICAgIyAgICByZXR1cm4gJ19fdW5pdHRlc3QnIGluIHRiLnRiX2ZyYW1lLmZfZ2xvYmFscwoKICAgICNkZWYgX2NvdW50X3JlbGV2YW50X3RiX2xldmVscyhzZWxmLCB0Yik6CiAgICAjICAgIGxlbmd0aCA9IDAKICAgICMgICAgd2hpbGUgdGIgYW5kIG5vdCBzZWxmLl9pc19yZWxldmFudF90Yl9sZXZlbCh0Yik6CiAgICAjICAgICAgICBsZW5ndGggKz0gMQogICAgIyAgICAgICAgdGIgPSB0Yi50Yl9uZXh0CiAgICAjICAgIHJldHVybiBsZW5ndGgKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICgiPCVzIHJ1bj0laSBlcnJvcnM9JWkgZmFpbHVyZXM9JWk+IiAlCiAgICAgICAgICAgICAgICh1dGlsLnN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwgc2VsZi50ZXN0c1J1biwgbGVuKHNlbGYuZXJyb3JzKSwKICAgICAgICAgICAgICAgIGxlbihzZWxmLmZhaWx1cmVzKSkpCg==',
'/Lib/unittest/__init__.py':'IiIiClB5dGhvbiB1bml0IHRlc3RpbmcgZnJhbWV3b3JrLCBiYXNlZCBvbiBFcmljaCBHYW1tYSdzIEpVbml0IGFuZCBLZW50IEJlY2sncwpTbWFsbHRhbGsgdGVzdGluZyBmcmFtZXdvcmsuCgpUaGlzIG1vZHVsZSBjb250YWlucyB0aGUgY29yZSBmcmFtZXdvcmsgY2xhc3NlcyB0aGF0IGZvcm0gdGhlIGJhc2lzIG9mCnNwZWNpZmljIHRlc3QgY2FzZXMgYW5kIHN1aXRlcyAoVGVzdENhc2UsIFRlc3RTdWl0ZSBldGMuKSwgYW5kIGFsc28gYQp0ZXh0LWJhc2VkIHV0aWxpdHkgY2xhc3MgZm9yIHJ1bm5pbmcgdGhlIHRlc3RzIGFuZCByZXBvcnRpbmcgdGhlIHJlc3VsdHMKIChUZXh0VGVzdFJ1bm5lcikuCgpTaW1wbGUgdXNhZ2U6CgogICAgaW1wb3J0IHVuaXR0ZXN0CgogICAgY2xhc3MgSW50ZWdlckFyaXRobWVudGljVGVzdENhc2UodW5pdHRlc3QuVGVzdENhc2UpOgogICAgICAgIGRlZiB0ZXN0QWRkKHNlbGYpOiAgIyMgdGVzdCBtZXRob2QgbmFtZXMgYmVnaW4gJ3Rlc3QqJwogICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFsKCgxICsgMiksIDMpCiAgICAgICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoMCArIDEsIDEpCiAgICAgICAgZGVmIHRlc3RNdWx0aXBseShzZWxmKToKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoMCAqIDEwKSwgMCkKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCgoNSAqIDgpLCA0MCkKCiAgICBpZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgICAgIHVuaXR0ZXN0Lm1haW4oKQoKRnVydGhlciBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgaW4gdGhlIGJ1bmRsZWQgZG9jdW1lbnRhdGlvbiwgYW5kIGZyb20KCiAgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3VuaXR0ZXN0Lmh0bWwKCkNvcHlyaWdodCAoYykgMTk5OS0yMDAzIFN0ZXZlIFB1cmNlbGwKQ29weXJpZ2h0IChjKSAyMDAzLTIwMTAgUHl0aG9uIFNvZnR3YXJlIEZvdW5kYXRpb24KVGhpcyBtb2R1bGUgaXMgZnJlZSBzb2Z0d2FyZSwgYW5kIHlvdSBtYXkgcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHNhbWUgdGVybXMgYXMgUHl0aG9uIGl0c2VsZiwgc28gbG9uZyBhcyB0aGlzIGNvcHlyaWdodCBtZXNzYWdlCmFuZCBkaXNjbGFpbWVyIGFyZSByZXRhaW5lZCBpbiB0aGVpciBvcmlnaW5hbCBmb3JtLgoKSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgVE8gQU5ZIFBBUlRZIEZPUiBESVJFQ1QsIElORElSRUNULApTUEVDSUFMLCBJTkNJREVOVEFMLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgQVJJU0lORyBPVVQgT0YgVEhFIFVTRSBPRgpUSElTIENPREUsIEVWRU4gSUYgVEhFIEFVVEhPUiBIQVMgQkVFTiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNICkRBTUFHRS4KClRIRSBBVVRIT1IgU1BFQ0lGSUNBTExZIERJU0NMQUlNUyBBTlkgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UCkxJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBClBBUlRJQ1VMQVIgUFVSUE9TRS4gIFRIRSBDT0RFIFBST1ZJREVEIEhFUkVVTkRFUiBJUyBPTiBBTiAiQVMgSVMiIEJBU0lTLApBTkQgVEhFUkUgSVMgTk8gT0JMSUdBVElPTiBXSEFUU09FVkVSIFRPIFBST1ZJREUgTUFJTlRFTkFOQ0UsClNVUFBPUlQsIFVQREFURVMsIEVOSEFOQ0VNRU5UUywgT1IgTU9ESUZJQ0FUSU9OUy4KIiIiCgojX19hbGxfXyA9IFsnVGVzdFJlc3VsdCcsICdUZXN0Q2FzZScsICdUZXN0U3VpdGUnLAojICAgICAgICAgICAnVGV4dFRlc3RSdW5uZXInLCAnVGVzdExvYWRlcicsICdGdW5jdGlvblRlc3RDYXNlJywgJ21haW4nLAojICAgICAgICAgICAnZGVmYXVsdFRlc3RMb2FkZXInLCAnU2tpcFRlc3QnLCAnc2tpcCcsICdza2lwSWYnLCAnc2tpcFVubGVzcycsCiMgICAgICAgICAgICdleHBlY3RlZEZhaWx1cmUnLCAnVGV4dFRlc3RSZXN1bHQnLCAnaW5zdGFsbEhhbmRsZXInLAojICAgICAgICAgICAncmVnaXN0ZXJSZXN1bHQnLCAncmVtb3ZlUmVzdWx0JywgJ3JlbW92ZUhhbmRsZXInXQoKIyBFeHBvc2Ugb2Jzb2xldGUgZnVuY3Rpb25zIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQojX19hbGxfXy5leHRlbmQoWydnZXRUZXN0Q2FzZU5hbWVzJywgJ21ha2VTdWl0ZScsICdmaW5kVGVzdENhc2VzJ10pCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKI2Zyb20gLnJlc3VsdCBpbXBvcnQgVGVzdFJlc3VsdAojZml4bWUgYnJ5dGhvbiBzeW50YXggZXJyb3IKZnJvbSAuY2FzZSBpbXBvcnQgVGVzdENhc2UKZnJvbSAubWFpbiBpbXBvcnQgVGVzdFByb2dyYW0sIG1haW4KI2Zyb20gLmNhc2UgaW1wb3J0IChUZXN0Q2FzZSwgRnVuY3Rpb25UZXN0Q2FzZSwgU2tpcFRlc3QsIHNraXAsIHNraXBJZiwKIyAgICAgICAgICAgICAgICAgICBza2lwVW5sZXNzLCBleHBlY3RlZEZhaWx1cmUpCiNmcm9tIC5zdWl0ZSBpbXBvcnQgQmFzZVRlc3RTdWl0ZSwgVGVzdFN1aXRlCiNmcm9tIC5sb2FkZXIgaW1wb3J0IChUZXN0TG9hZGVyLCBkZWZhdWx0VGVzdExvYWRlciwgbWFrZVN1aXRlLCBnZXRUZXN0Q2FzZU5hbWVzLAojICAgICAgICAgICAgICAgICAgICAgZmluZFRlc3RDYXNlcykKI2Zyb20gLm1haW4gaW1wb3J0IFRlc3RQcm9ncmFtLCBtYWluCiNmcm9tIC5ydW5uZXIgaW1wb3J0IFRleHRUZXN0UnVubmVyLCBUZXh0VGVzdFJlc3VsdAojZnJvbSAuc2lnbmFscyBpbXBvcnQgaW5zdGFsbEhhbmRsZXIsIHJlZ2lzdGVyUmVzdWx0LCByZW1vdmVSZXN1bHQsIHJlbW92ZUhhbmRsZXIKCiMgZGVwcmVjYXRlZAojX1RleHRUZXN0UmVzdWx0ID0gVGV4dFRlc3RSZXN1bHQK',
'/Lib/unittest/__main__.py':'IiIiTWFpbiBlbnRyeSBwb2ludCIiIgoKaW1wb3J0IHN5cwppZiBzeXMuYXJndlswXS5lbmRzd2l0aCgiX19tYWluX18ucHkiKToKICAgIHN5cy5hcmd2WzBdID0gInB5dGhvbiAtbSB1bml0dGVzdCIKCl9fdW5pdHRlc3QgPSBUcnVlCgpmcm9tIC5tYWluIGltcG9ydCBtYWluLCBUZXN0UHJvZ3JhbSwgVVNBR0VfQVNfTUFJTgpUZXN0UHJvZ3JhbS5VU0FHRSA9IFVTQUdFX0FTX01BSU4KCm1haW4obW9kdWxlPU5vbmUpCg==',
'/Lib/unittest/util.py':'IyAiVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucy4iCgojZml4bWUsIGJyeXRob24sIG5lZWQgdG8gZml4IG5hbWVkdHVwbGUKI2Zyb20gY29sbGVjdGlvbnMgaW1wb3J0IG5hbWVkdHVwbGUsIE9yZGVyZWREaWN0CiNmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBPcmRlcmVkRGljdAoKX191bml0dGVzdCA9IFRydWUKCiNfTUFYX0xFTkdUSCA9IDgwCiNkZWYgc2FmZV9yZXByKG9iaiwgc2hvcnQ9RmFsc2UpOgojICAgIHRyeToKIyAgICAgICAgcmVzdWx0ID0gcmVwcihvYmopCiMgICAgZXhjZXB0IEV4Y2VwdGlvbjoKIyAgICAgICAgcmVzdWx0ID0gb2JqZWN0Ll9fcmVwcl9fKG9iaikKIyAgICBpZiBub3Qgc2hvcnQgb3IgbGVuKHJlc3VsdCkgPCBfTUFYX0xFTkdUSDoKIyAgICAgICAgcmV0dXJuIHJlc3VsdAojICAgIHJldHVybiByZXN1bHRbOl9NQVhfTEVOR1RIXSArICcgW3RydW5jYXRlZF0uLi4nCgojZGVmIHN0cmNsYXNzKGNscyk6CiMgICAgcmV0dXJuICIlcy4lcyIgJSAoY2xzLl9fbW9kdWxlX18sIGNscy5fX25hbWVfXykKCiNkZWYgc29ydGVkX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwgYWN0dWFsKToKIyAgICAiIiJGaW5kcyBlbGVtZW50cyBpbiBvbmx5IG9uZSBvciB0aGUgb3RoZXIgb2YgdHdvLCBzb3J0ZWQgaW5wdXQgbGlzdHMuCiMKIyAgICBSZXR1cm5zIGEgdHdvLWVsZW1lbnQgdHVwbGUgb2YgbGlzdHMuICAgIFRoZSBmaXJzdCBsaXN0IGNvbnRhaW5zIHRob3NlCiMgICAgZWxlbWVudHMgaW4gdGhlICJleHBlY3RlZCIgbGlzdCBidXQgbm90IGluIHRoZSAiYWN0dWFsIiBsaXN0LCBhbmQgdGhlCiMgICAgc2Vjb25kIGNvbnRhaW5zIHRob3NlIGVsZW1lbnRzIGluIHRoZSAiYWN0dWFsIiBsaXN0IGJ1dCBub3QgaW4gdGhlCiMgICAgImV4cGVjdGVkIiBsaXN0LiAgICBEdXBsaWNhdGUgZWxlbWVudHMgaW4gZWl0aGVyIGlucHV0IGxpc3QgYXJlIGlnbm9yZWQuCiMgICAgIiIiCiMgICAgaSA9IGogPSAwCiMgICAgbWlzc2luZyA9IFtdCiMgICAgdW5leHBlY3RlZCA9IFtdCiMgICAgd2hpbGUgVHJ1ZToKIyAgICAgICAgdHJ5OgojICAgICAgICAgICAgZSA9IGV4cGVjdGVkW2ldCiMgICAgICAgICAgICBhID0gYWN0dWFsW2pdCiMgICAgICAgICAgICBpZiBlIDwgYToKIyAgICAgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChlKQojICAgICAgICAgICAgICAgIGkgKz0gMQojICAgICAgICAgICAgICAgIHdoaWxlIGV4cGVjdGVkW2ldID09IGU6CiMgICAgICAgICAgICAgICAgICAgIGkgKz0gMQojICAgICAgICAgICAgZWxpZiBlID4gYToKIyAgICAgICAgICAgICAgICB1bmV4cGVjdGVkLmFwcGVuZChhKQojICAgICAgICAgICAgICAgIGogKz0gMQojICAgICAgICAgICAgICAgIHdoaWxlIGFjdHVhbFtqXSA9PSBhOgojICAgICAgICAgICAgICAgICAgICBqICs9IDEKIyAgICAgICAgICAgIGVsc2U6CiMgICAgICAgICAgICAgICAgaSArPSAxCiMgICAgICAgICAgICAgICAgdHJ5OgojICAgICAgICAgICAgICAgICAgICB3aGlsZSBleHBlY3RlZFtpXSA9PSBlOgojICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxCiMgICAgICAgICAgICAgICAgZmluYWxseToKIyAgICAgICAgICAgICAgICAgICAgaiArPSAxCiMgICAgICAgICAgICAgICAgICAgIHdoaWxlIGFjdHVhbFtqXSA9PSBhOgojICAgICAgICAgICAgICAgICAgICAgICAgaiArPSAxCiMgICAgICAgIGV4Y2VwdCBJbmRleEVycm9yOgojICAgICAgICAgICAgbWlzc2luZy5leHRlbmQoZXhwZWN0ZWRbaTpdKQojICAgICAgICAgICAgdW5leHBlY3RlZC5leHRlbmQoYWN0dWFsW2o6XSkKIyAgICAgICAgICAgIGJyZWFrCiMgICAgcmV0dXJuIG1pc3NpbmcsIHVuZXhwZWN0ZWQKCgojZGVmIHVub3JkZXJhYmxlX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwgYWN0dWFsKToKIyAgICAiIiJTYW1lIGJlaGF2aW9yIGFzIHNvcnRlZF9saXN0X2RpZmZlcmVuY2UgYnV0CiMgICAgZm9yIGxpc3RzIG9mIHVub3JkZXJhYmxlIGl0ZW1zIChsaWtlIGRpY3RzKS4KIwojICAgIEFzIGl0IGRvZXMgYSBsaW5lYXIgc2VhcmNoIHBlciBpdGVtIChyZW1vdmUpIGl0CiMgICAgaGFzIE8obipuKSBwZXJmb3JtYW5jZS4iIiIKIyAgICBtaXNzaW5nID0gW10KIyAgICB3aGlsZSBleHBlY3RlZDoKIyAgICAgICAgaXRlbSA9IGV4cGVjdGVkLnBvcCgpCiMgICAgICAgIHRyeToKIyAgICAgICAgICAgIGFjdHVhbC5yZW1vdmUoaXRlbSkKIyAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiMgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChpdGVtKQoKICAgICMgYW55dGhpbmcgbGVmdCBpbiBhY3R1YWwgaXMgdW5leHBlY3RlZAojICAgIHJldHVybiBtaXNzaW5nLCBhY3R1YWwKCiNkZWYgdGhyZWVfd2F5X2NtcCh4LCB5KToKIyAgICAiIiJSZXR1cm4gLTEgaWYgeCA8IHksIDAgaWYgeCA9PSB5IGFuZCAxIGlmIHggPiB5IiIiCiMgICAgcmV0dXJuICh4ID4geSkgLSAoeCA8IHkpCgojIGZpeG1lLCBicnl0aG9uCiNuYW1lZHR1cGxlIGlzc3VlcyBpbiBjb2xsZWN0aW9ucy5weQojX01pc21hdGNoID0gbmFtZWR0dXBsZSgnTWlzbWF0Y2gnLCAnYWN0dWFsIGV4cGVjdGVkIHZhbHVlJykKCiNkZWYgX2NvdW50X2RpZmZfYWxsX3B1cnBvc2UoYWN0dWFsLCBleHBlY3RlZCk6CiMgICAgJ1JldHVybnMgbGlzdCBvZiAoY250X2FjdCwgY250X2V4cCwgZWxlbSkgdHJpcGxlcyB3aGVyZSB0aGUgY291bnRzIGRpZmZlcicKIyAgICAjIGVsZW1lbnRzIG5lZWQgbm90IGJlIGhhc2hhYmxlCiMgICAgcywgdCA9IGxpc3QoYWN0dWFsKSwgbGlzdChleHBlY3RlZCkKIyAgICBtLCBuID0gbGVuKHMpLCBsZW4odCkKIyAgICBOVUxMID0gb2JqZWN0KCkKIyAgICByZXN1bHQgPSBbXQojICAgIGZvciBpLCBlbGVtIGluIGVudW1lcmF0ZShzKToKIyAgICAgICAgaWYgZWxlbSBpcyBOVUxMOgojICAgICAgICAgICAgY29udGludWUKIyAgICAgICAgY250X3MgPSBjbnRfdCA9IDAKIyAgICAgICAgZm9yIGogaW4gcmFuZ2UoaSwgbSk6CiMgICAgICAgICAgICBpZiBzW2pdID09IGVsZW06CiMgICAgICAgICAgICAgICAgY250X3MgKz0gMQojICAgICAgICAgICAgICAgIHNbal0gPSBOVUxMCiMgICAgICAgIGZvciBqLCBvdGhlcl9lbGVtIGluIGVudW1lcmF0ZSh0KToKIyAgICAgICAgICAgIGlmIG90aGVyX2VsZW0gPT0gZWxlbToKIyAgICAgICAgICAgICAgICBjbnRfdCArPSAxCiMgICAgICAgICAgICAgICAgdFtqXSA9IE5VTEwKIyAgICAgICAgaWYgY250X3MgIT0gY250X3Q6CiMgICAgICAgICAgICBkaWZmID0gX01pc21hdGNoKGNudF9zLCBjbnRfdCwgZWxlbSkKIyAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoZGlmZikKIwojICAgIGZvciBpLCBlbGVtIGluIGVudW1lcmF0ZSh0KToKIyAgICAgICAgaWYgZWxlbSBpcyBOVUxMOgojICAgICAgICAgICAgY29udGludWUKIyAgICAgICAgY250X3QgPSAwCiMgICAgICAgIGZvciBqIGluIHJhbmdlKGksIG4pOgojICAgICAgICAgICAgaWYgdFtqXSA9PSBlbGVtOgojICAgICAgICAgICAgICAgIGNudF90ICs9IDEKIyAgICAgICAgICAgICAgICB0W2pdID0gTlVMTAojICAgICAgICBkaWZmID0gX01pc21hdGNoKDAsIGNudF90LCBlbGVtKQojICAgICAgICByZXN1bHQuYXBwZW5kKGRpZmYpCiMgICAgcmV0dXJuIHJlc3VsdAoKI2RlZiBfb3JkZXJlZF9jb3VudChpdGVyYWJsZSk6CiMgICAgJ1JldHVybiBkaWN0IG9mIGVsZW1lbnQgY291bnRzLCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGZpcnN0IHNlZW4nCiMgICAgYyA9IE9yZGVyZWREaWN0KCkKIyAgICBmb3IgZWxlbSBpbiBpdGVyYWJsZToKIyAgICAgICAgY1tlbGVtXSA9IGMuZ2V0KGVsZW0sIDApICsgMQojICAgIHJldHVybiBjCgojZGVmIF9jb3VudF9kaWZmX2hhc2hhYmxlKGFjdHVhbCwgZXhwZWN0ZWQpOgojICAgICdSZXR1cm5zIGxpc3Qgb2YgKGNudF9hY3QsIGNudF9leHAsIGVsZW0pIHRyaXBsZXMgd2hlcmUgdGhlIGNvdW50cyBkaWZmZXInCiMgICAgIyBlbGVtZW50cyBtdXN0IGJlIGhhc2hhYmxlCiMgICAgcywgdCA9IF9vcmRlcmVkX2NvdW50KGFjdHVhbCksIF9vcmRlcmVkX2NvdW50KGV4cGVjdGVkKQojICAgIHJlc3VsdCA9IFtdCiMgICAgZm9yIGVsZW0sIGNudF9zIGluIHMuaXRlbXMoKToKIyAgICAgICAgY250X3QgPSB0LmdldChlbGVtLCAwKQojICAgICAgICBpZiBjbnRfcyAhPSBjbnRfdDoKIyAgICAgICAgICAgIGRpZmYgPSBfTWlzbWF0Y2goY250X3MsIGNudF90LCBlbGVtKQojICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChkaWZmKQojICAgIGZvciBlbGVtLCBjbnRfdCBpbiB0Lml0ZW1zKCk6CiMgICAgICAgIGlmIGVsZW0gbm90IGluIHM6CiMgICAgICAgICAgICBkaWZmID0gX01pc21hdGNoKDAsIGNudF90LCBlbGVtKQojICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChkaWZmKQojICAgIHJldHVybiByZXN1bHQK',
'/Lib/unittest/loader.py':'IiIiTG9hZGluZyB1bml0dGVzdHMuIiIiCgppbXBvcnQgb3MKaW1wb3J0IHJlCmltcG9ydCBzeXMKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgdHlwZXMKaW1wb3J0IGZ1bmN0b29scwoKZnJvbSBmbm1hdGNoIGltcG9ydCBmbm1hdGNoCgpmcm9tIC4gaW1wb3J0IGNhc2UsIHN1aXRlLCB1dGlsCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKIyB3aGF0IGFib3V0IC5weWMgb3IgLnB5byAoZXRjKQojIHdlIHdvdWxkIG5lZWQgdG8gYXZvaWQgbG9hZGluZyB0aGUgc2FtZSB0ZXN0cyBtdWx0aXBsZSB0aW1lcwojIGZyb20gJy5weScsICcucHljJyAqYW5kKiAnLnB5bycKVkFMSURfTU9EVUxFX05BTUUgPSByZS5jb21waWxlKHInW19hLXpdXHcqXC5weSQnLCByZS5JR05PUkVDQVNFKQoKCmRlZiBfbWFrZV9mYWlsZWRfaW1wb3J0X3Rlc3QobmFtZSwgc3VpdGVDbGFzcyk6CiAgICBtZXNzYWdlID0gJ0ZhaWxlZCB0byBpbXBvcnQgdGVzdCBtb2R1bGU6ICVzXG4lcycgJSAobmFtZSwgdHJhY2ViYWNrLmZvcm1hdF9leGMoKSkKICAgIHJldHVybiBfbWFrZV9mYWlsZWRfdGVzdCgnTW9kdWxlSW1wb3J0RmFpbHVyZScsIG5hbWUsIEltcG9ydEVycm9yKG1lc3NhZ2UpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1aXRlQ2xhc3MpCgpkZWYgX21ha2VfZmFpbGVkX2xvYWRfdGVzdHMobmFtZSwgZXhjZXB0aW9uLCBzdWl0ZUNsYXNzKToKICAgIHJldHVybiBfbWFrZV9mYWlsZWRfdGVzdCgnTG9hZFRlc3RzRmFpbHVyZScsIG5hbWUsIGV4Y2VwdGlvbiwgc3VpdGVDbGFzcykKCmRlZiBfbWFrZV9mYWlsZWRfdGVzdChjbGFzc25hbWUsIG1ldGhvZG5hbWUsIGV4Y2VwdGlvbiwgc3VpdGVDbGFzcyk6CiAgICBkZWYgdGVzdEZhaWx1cmUoc2VsZik6CiAgICAgICAgcmFpc2UgZXhjZXB0aW9uCiAgICBhdHRycyA9IHttZXRob2RuYW1lOiB0ZXN0RmFpbHVyZX0KICAgIFRlc3RDbGFzcyA9IHR5cGUoY2xhc3NuYW1lLCAoY2FzZS5UZXN0Q2FzZSwpLCBhdHRycykKICAgIHJldHVybiBzdWl0ZUNsYXNzKChUZXN0Q2xhc3MobWV0aG9kbmFtZSksKSkKCmRlZiBfanl0aG9uX2F3YXJlX3NwbGl0ZXh0KHBhdGgpOgogICAgaWYgcGF0aC5sb3dlcigpLmVuZHN3aXRoKCckcHkuY2xhc3MnKToKICAgICAgICByZXR1cm4gcGF0aFs6LTldCiAgICByZXR1cm4gb3MucGF0aC5zcGxpdGV4dChwYXRoKVswXQoKCmNsYXNzIFRlc3RMb2FkZXIob2JqZWN0KToKICAgICIiIgogICAgVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyB0ZXN0cyBhY2NvcmRpbmcgdG8gdmFyaW91cyBjcml0ZXJpYQogICAgYW5kIHJldHVybmluZyB0aGVtIHdyYXBwZWQgaW4gYSBUZXN0U3VpdGUKICAgICIiIgogICAgdGVzdE1ldGhvZFByZWZpeCA9ICd0ZXN0JwogICAgc29ydFRlc3RNZXRob2RzVXNpbmcgPSBzdGF0aWNtZXRob2QodXRpbC50aHJlZV93YXlfY21wKQogICAgc3VpdGVDbGFzcyA9IHN1aXRlLlRlc3RTdWl0ZQogICAgX3RvcF9sZXZlbF9kaXIgPSBOb25lCgogICAgZGVmIGxvYWRUZXN0c0Zyb21UZXN0Q2FzZShzZWxmLCB0ZXN0Q2FzZUNsYXNzKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgY29udGFpbmVkIGluIHRlc3RDYXNlQ2xhc3MiIiIKICAgICAgICBpZiBpc3N1YmNsYXNzKHRlc3RDYXNlQ2xhc3MsIHN1aXRlLlRlc3RTdWl0ZSk6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiVGVzdCBjYXNlcyBzaG91bGQgbm90IGJlIGRlcml2ZWQgZnJvbSBUZXN0U3VpdGUuIiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBNYXliZSB5b3UgbWVhbnQgdG8gZGVyaXZlIGZyb20gVGVzdENhc2U/IikKICAgICAgICB0ZXN0Q2FzZU5hbWVzID0gc2VsZi5nZXRUZXN0Q2FzZU5hbWVzKHRlc3RDYXNlQ2xhc3MpCiAgICAgICAgaWYgbm90IHRlc3RDYXNlTmFtZXMgYW5kIGhhc2F0dHIodGVzdENhc2VDbGFzcywgJ3J1blRlc3QnKToKICAgICAgICAgICAgdGVzdENhc2VOYW1lcyA9IFsncnVuVGVzdCddCiAgICAgICAgbG9hZGVkX3N1aXRlID0gc2VsZi5zdWl0ZUNsYXNzKG1hcCh0ZXN0Q2FzZUNsYXNzLCB0ZXN0Q2FzZU5hbWVzKSkKICAgICAgICByZXR1cm4gbG9hZGVkX3N1aXRlCgogICAgZGVmIGxvYWRUZXN0c0Zyb21Nb2R1bGUoc2VsZiwgbW9kdWxlLCB1c2VfbG9hZF90ZXN0cz1UcnVlKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgY29udGFpbmVkIGluIHRoZSBnaXZlbiBtb2R1bGUiIiIKICAgICAgICB0ZXN0cyA9IFtdCiAgICAgICAgZm9yIG5hbWUgaW4gZGlyKG1vZHVsZSk6CiAgICAgICAgICAgIG9iaiA9IGdldGF0dHIobW9kdWxlLCBuYW1lKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG9iaiwgdHlwZSkgYW5kIGlzc3ViY2xhc3Mob2JqLCBjYXNlLlRlc3RDYXNlKToKICAgICAgICAgICAgICAgIHRlc3RzLmFwcGVuZChzZWxmLmxvYWRUZXN0c0Zyb21UZXN0Q2FzZShvYmopKQoKICAgICAgICBsb2FkX3Rlc3RzID0gZ2V0YXR0cihtb2R1bGUsICdsb2FkX3Rlc3RzJywgTm9uZSkKICAgICAgICB0ZXN0cyA9IHNlbGYuc3VpdGVDbGFzcyh0ZXN0cykKICAgICAgICBpZiB1c2VfbG9hZF90ZXN0cyBhbmQgbG9hZF90ZXN0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRfdGVzdHMoc2VsZiwgdGVzdHMsIE5vbmUpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHJldHVybiBfbWFrZV9mYWlsZWRfbG9hZF90ZXN0cyhtb2R1bGUuX19uYW1lX18sIGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWl0ZUNsYXNzKQogICAgICAgIHJldHVybiB0ZXN0cwoKICAgIGRlZiBsb2FkVGVzdHNGcm9tTmFtZShzZWxmLCBuYW1lLCBtb2R1bGU9Tm9uZSk6CiAgICAgICAgIiIiUmV0dXJuIGEgc3VpdGUgb2YgYWxsIHRlc3RzIGNhc2VzIGdpdmVuIGEgc3RyaW5nIHNwZWNpZmllci4KCiAgICAgICAgVGhlIG5hbWUgbWF5IHJlc29sdmUgZWl0aGVyIHRvIGEgbW9kdWxlLCBhIHRlc3QgY2FzZSBjbGFzcywgYQogICAgICAgIHRlc3QgbWV0aG9kIHdpdGhpbiBhIHRlc3QgY2FzZSBjbGFzcywgb3IgYSBjYWxsYWJsZSBvYmplY3Qgd2hpY2gKICAgICAgICByZXR1cm5zIGEgVGVzdENhc2Ugb3IgVGVzdFN1aXRlIGluc3RhbmNlLgoKICAgICAgICBUaGUgbWV0aG9kIG9wdGlvbmFsbHkgcmVzb2x2ZXMgdGhlIG5hbWVzIHJlbGF0aXZlIHRvIGEgZ2l2ZW4gbW9kdWxlLgogICAgICAgICIiIgogICAgICAgIHBhcnRzID0gbmFtZS5zcGxpdCgnLicpCiAgICAgICAgaWYgbW9kdWxlIGlzIE5vbmU6CiAgICAgICAgICAgIHBhcnRzX2NvcHkgPSBwYXJ0c1s6XQogICAgICAgICAgICB3aGlsZSBwYXJ0c19jb3B5OgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IF9faW1wb3J0X18oJy4nLmpvaW4ocGFydHNfY29weSkpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgICAgICAgICAgICAgICAgICBkZWwgcGFydHNfY29weVstMV0KICAgICAgICAgICAgICAgICAgICBpZiBub3QgcGFydHNfY29weToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICAgICAgcGFydHMgPSBwYXJ0c1sxOl0KICAgICAgICBvYmogPSBtb2R1bGUKICAgICAgICBmb3IgcGFydCBpbiBwYXJ0czoKICAgICAgICAgICAgcGFyZW50LCBvYmogPSBvYmosIGdldGF0dHIob2JqLCBwYXJ0KQoKICAgICAgICBpZiBpc2luc3RhbmNlKG9iaiwgdHlwZXMuTW9kdWxlVHlwZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmxvYWRUZXN0c0Zyb21Nb2R1bGUob2JqKQogICAgICAgIGVsaWYgaXNpbnN0YW5jZShvYmosIHR5cGUpIGFuZCBpc3N1YmNsYXNzKG9iaiwgY2FzZS5UZXN0Q2FzZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmxvYWRUZXN0c0Zyb21UZXN0Q2FzZShvYmopCiAgICAgICAgZWxpZiAoaXNpbnN0YW5jZShvYmosIHR5cGVzLkZ1bmN0aW9uVHlwZSkgYW5kCiAgICAgICAgICAgICAgaXNpbnN0YW5jZShwYXJlbnQsIHR5cGUpIGFuZAogICAgICAgICAgICAgIGlzc3ViY2xhc3MocGFyZW50LCBjYXNlLlRlc3RDYXNlKSk6CiAgICAgICAgICAgIG5hbWUgPSBvYmouX19uYW1lX18KICAgICAgICAgICAgaW5zdCA9IHBhcmVudChuYW1lKQogICAgICAgICAgICAjIHN0YXRpYyBtZXRob2RzIGZvbGxvdyBhIGRpZmZlcmVudCBwYXRoCiAgICAgICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGdldGF0dHIoaW5zdCwgbmFtZSksIHR5cGVzLkZ1bmN0aW9uVHlwZSk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zdWl0ZUNsYXNzKFtpbnN0XSkKICAgICAgICBlbGlmIGlzaW5zdGFuY2Uob2JqLCBzdWl0ZS5UZXN0U3VpdGUpOgogICAgICAgICAgICByZXR1cm4gb2JqCiAgICAgICAgaWYgY2FsbGFibGUob2JqKToKICAgICAgICAgICAgdGVzdCA9IG9iaigpCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodGVzdCwgc3VpdGUuVGVzdFN1aXRlKToKICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0CiAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZSh0ZXN0LCBjYXNlLlRlc3RDYXNlKToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN1aXRlQ2xhc3MoW3Rlc3RdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYWxsaW5nICVzIHJldHVybmVkICVzLCBub3QgYSB0ZXN0IiAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9iaiwgdGVzdCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJkb24ndCBrbm93IGhvdyB0byBtYWtlIHRlc3QgZnJvbTogJXMiICUgb2JqKQoKICAgIGRlZiBsb2FkVGVzdHNGcm9tTmFtZXMoc2VsZiwgbmFtZXMsIG1vZHVsZT1Ob25lKToKICAgICAgICAiIiJSZXR1cm4gYSBzdWl0ZSBvZiBhbGwgdGVzdHMgY2FzZXMgZm91bmQgdXNpbmcgdGhlIGdpdmVuIHNlcXVlbmNlCiAgICAgICAgb2Ygc3RyaW5nIHNwZWNpZmllcnMuIFNlZSAnbG9hZFRlc3RzRnJvbU5hbWUoKScuCiAgICAgICAgIiIiCiAgICAgICAgc3VpdGVzID0gW3NlbGYubG9hZFRlc3RzRnJvbU5hbWUobmFtZSwgbW9kdWxlKSBmb3IgbmFtZSBpbiBuYW1lc10KICAgICAgICByZXR1cm4gc2VsZi5zdWl0ZUNsYXNzKHN1aXRlcykKCiAgICBkZWYgZ2V0VGVzdENhc2VOYW1lcyhzZWxmLCB0ZXN0Q2FzZUNsYXNzKToKICAgICAgICAiIiJSZXR1cm4gYSBzb3J0ZWQgc2VxdWVuY2Ugb2YgbWV0aG9kIG5hbWVzIGZvdW5kIHdpdGhpbiB0ZXN0Q2FzZUNsYXNzCiAgICAgICAgIiIiCiAgICAgICAgZGVmIGlzVGVzdE1ldGhvZChhdHRybmFtZSwgdGVzdENhc2VDbGFzcz10ZXN0Q2FzZUNsYXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4PXNlbGYudGVzdE1ldGhvZFByZWZpeCk6CiAgICAgICAgICAgIHJldHVybiBhdHRybmFtZS5zdGFydHN3aXRoKHByZWZpeCkgYW5kIFwKICAgICAgICAgICAgICAgIGNhbGxhYmxlKGdldGF0dHIodGVzdENhc2VDbGFzcywgYXR0cm5hbWUpKQogICAgICAgIHRlc3RGbk5hbWVzID0gbGlzdChmaWx0ZXIoaXNUZXN0TWV0aG9kLCBkaXIodGVzdENhc2VDbGFzcykpKQogICAgICAgIGlmIHNlbGYuc29ydFRlc3RNZXRob2RzVXNpbmc6CiAgICAgICAgICAgIHRlc3RGbk5hbWVzLnNvcnQoa2V5PWZ1bmN0b29scy5jbXBfdG9fa2V5KHNlbGYuc29ydFRlc3RNZXRob2RzVXNpbmcpKQogICAgICAgIHJldHVybiB0ZXN0Rm5OYW1lcwoKICAgIGRlZiBkaXNjb3ZlcihzZWxmLCBzdGFydF9kaXIsIHBhdHRlcm49J3Rlc3QqLnB5JywgdG9wX2xldmVsX2Rpcj1Ob25lKToKICAgICAgICAiIiJGaW5kIGFuZCByZXR1cm4gYWxsIHRlc3QgbW9kdWxlcyBmcm9tIHRoZSBzcGVjaWZpZWQgc3RhcnQKICAgICAgICBkaXJlY3RvcnksIHJlY3Vyc2luZyBpbnRvIHN1YmRpcmVjdG9yaWVzIHRvIGZpbmQgdGhlbSBhbmQgcmV0dXJuIGFsbAogICAgICAgIHRlc3RzIGZvdW5kIHdpdGhpbiB0aGVtLiBPbmx5IHRlc3QgZmlsZXMgdGhhdCBtYXRjaCB0aGUgcGF0dGVybiB3aWxsCiAgICAgICAgYmUgbG9hZGVkLiAoVXNpbmcgc2hlbGwgc3R5bGUgcGF0dGVybiBtYXRjaGluZy4pCgogICAgICAgIEFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcCBsZXZlbCBvZiB0aGUgcHJvamVjdC4KICAgICAgICBJZiB0aGUgc3RhcnQgZGlyZWN0b3J5IGlzIG5vdCB0aGUgdG9wIGxldmVsIGRpcmVjdG9yeSB0aGVuIHRoZSB0b3AKICAgICAgICBsZXZlbCBkaXJlY3RvcnkgbXVzdCBiZSBzcGVjaWZpZWQgc2VwYXJhdGVseS4KCiAgICAgICAgSWYgYSB0ZXN0IHBhY2thZ2UgbmFtZSAoZGlyZWN0b3J5IHdpdGggJ19faW5pdF9fLnB5JykgbWF0Y2hlcyB0aGUKICAgICAgICBwYXR0ZXJuIHRoZW4gdGhlIHBhY2thZ2Ugd2lsbCBiZSBjaGVja2VkIGZvciBhICdsb2FkX3Rlc3RzJyBmdW5jdGlvbi4gSWYKICAgICAgICB0aGlzIGV4aXN0cyB0aGVuIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggbG9hZGVyLCB0ZXN0cywgcGF0dGVybi4KCiAgICAgICAgSWYgbG9hZF90ZXN0cyBleGlzdHMgdGhlbiBkaXNjb3ZlcnkgZG9lcyAgKm5vdCogcmVjdXJzZSBpbnRvIHRoZSBwYWNrYWdlLAogICAgICAgIGxvYWRfdGVzdHMgaXMgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgYWxsIHRlc3RzIGluIHRoZSBwYWNrYWdlLgoKICAgICAgICBUaGUgcGF0dGVybiBpcyBkZWxpYmVyYXRlbHkgbm90IHN0b3JlZCBhcyBhIGxvYWRlciBhdHRyaWJ1dGUgc28gdGhhdAogICAgICAgIHBhY2thZ2VzIGNhbiBjb250aW51ZSBkaXNjb3ZlcnkgdGhlbXNlbHZlcy4gdG9wX2xldmVsX2RpciBpcyBzdG9yZWQgc28KICAgICAgICBsb2FkX3Rlc3RzIGRvZXMgbm90IG5lZWQgdG8gcGFzcyB0aGlzIGFyZ3VtZW50IGluIHRvIGxvYWRlci5kaXNjb3ZlcigpLgogICAgICAgICIiIgogICAgICAgIHNldF9pbXBsaWNpdF90b3AgPSBGYWxzZQogICAgICAgIGlmIHRvcF9sZXZlbF9kaXIgaXMgTm9uZSBhbmQgc2VsZi5fdG9wX2xldmVsX2RpciBpcyBub3QgTm9uZToKICAgICAgICAgICAgIyBtYWtlIHRvcF9sZXZlbF9kaXIgb3B0aW9uYWwgaWYgY2FsbGVkIGZyb20gbG9hZF90ZXN0cyBpbiBhIHBhY2thZ2UKICAgICAgICAgICAgdG9wX2xldmVsX2RpciA9IHNlbGYuX3RvcF9sZXZlbF9kaXIKICAgICAgICBlbGlmIHRvcF9sZXZlbF9kaXIgaXMgTm9uZToKICAgICAgICAgICAgc2V0X2ltcGxpY2l0X3RvcCA9IFRydWUKICAgICAgICAgICAgdG9wX2xldmVsX2RpciA9IHN0YXJ0X2RpcgoKICAgICAgICB0b3BfbGV2ZWxfZGlyID0gb3MucGF0aC5hYnNwYXRoKHRvcF9sZXZlbF9kaXIpCgogICAgICAgIGlmIG5vdCB0b3BfbGV2ZWxfZGlyIGluIHN5cy5wYXRoOgogICAgICAgICAgICAjIGFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcCBsZXZlbCBkaXJlY3RvcnkKICAgICAgICAgICAgIyBzaG91bGQgd2UgKnVuY29uZGl0aW9uYWxseSogcHV0IHRoZSBzdGFydCBkaXJlY3RvcnkgaW4gZmlyc3QKICAgICAgICAgICAgIyBpbiBzeXMucGF0aCB0byBtaW5pbWlzZSBsaWtlbGlob29kIG9mIGNvbmZsaWN0cyBiZXR3ZWVuIGluc3RhbGxlZAogICAgICAgICAgICAjIG1vZHVsZXMgYW5kIGRldmVsb3BtZW50IHZlcnNpb25zPwogICAgICAgICAgICBzeXMucGF0aC5pbnNlcnQoMCwgdG9wX2xldmVsX2RpcikKICAgICAgICBzZWxmLl90b3BfbGV2ZWxfZGlyID0gdG9wX2xldmVsX2RpcgoKICAgICAgICBpc19ub3RfaW1wb3J0YWJsZSA9IEZhbHNlCiAgICAgICAgaWYgb3MucGF0aC5pc2Rpcihvcy5wYXRoLmFic3BhdGgoc3RhcnRfZGlyKSk6CiAgICAgICAgICAgIHN0YXJ0X2RpciA9IG9zLnBhdGguYWJzcGF0aChzdGFydF9kaXIpCiAgICAgICAgICAgIGlmIHN0YXJ0X2RpciAhPSB0b3BfbGV2ZWxfZGlyOgogICAgICAgICAgICAgICAgaXNfbm90X2ltcG9ydGFibGUgPSBub3Qgb3MucGF0aC5pc2ZpbGUob3MucGF0aC5qb2luKHN0YXJ0X2RpciwgJ19faW5pdF9fLnB5JykpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBzdXBwb3J0IGZvciBkaXNjb3ZlcnkgZnJvbSBkb3R0ZWQgbW9kdWxlIG5hbWVzCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIF9faW1wb3J0X18oc3RhcnRfZGlyKQogICAgICAgICAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgICAgICAgICBpc19ub3RfaW1wb3J0YWJsZSA9IFRydWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRoZV9tb2R1bGUgPSBzeXMubW9kdWxlc1tzdGFydF9kaXJdCiAgICAgICAgICAgICAgICB0b3BfcGFydCA9IHN0YXJ0X2Rpci5zcGxpdCgnLicpWzBdCiAgICAgICAgICAgICAgICBzdGFydF9kaXIgPSBvcy5wYXRoLmFic3BhdGgob3MucGF0aC5kaXJuYW1lKCh0aGVfbW9kdWxlLl9fZmlsZV9fKSkpCiAgICAgICAgICAgICAgICBpZiBzZXRfaW1wbGljaXRfdG9wOgogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RvcF9sZXZlbF9kaXIgPSBzZWxmLl9nZXRfZGlyZWN0b3J5X2NvbnRhaW5pbmdfbW9kdWxlKHRvcF9wYXJ0KQogICAgICAgICAgICAgICAgICAgIHN5cy5wYXRoLnJlbW92ZSh0b3BfbGV2ZWxfZGlyKQoKICAgICAgICBpZiBpc19ub3RfaW1wb3J0YWJsZToKICAgICAgICAgICAgcmFpc2UgSW1wb3J0RXJyb3IoJ1N0YXJ0IGRpcmVjdG9yeSBpcyBub3QgaW1wb3J0YWJsZTogJXInICUgc3RhcnRfZGlyKQoKICAgICAgICB0ZXN0cyA9IGxpc3Qoc2VsZi5fZmluZF90ZXN0cyhzdGFydF9kaXIsIHBhdHRlcm4pKQogICAgICAgIHJldHVybiBzZWxmLnN1aXRlQ2xhc3ModGVzdHMpCgogICAgZGVmIF9nZXRfZGlyZWN0b3J5X2NvbnRhaW5pbmdfbW9kdWxlKHNlbGYsIG1vZHVsZV9uYW1lKToKICAgICAgICBtb2R1bGUgPSBzeXMubW9kdWxlc1ttb2R1bGVfbmFtZV0KICAgICAgICBmdWxsX3BhdGggPSBvcy5wYXRoLmFic3BhdGgobW9kdWxlLl9fZmlsZV9fKQoKICAgICAgICBpZiBvcy5wYXRoLmJhc2VuYW1lKGZ1bGxfcGF0aCkubG93ZXIoKS5zdGFydHN3aXRoKCdfX2luaXRfXy5weScpOgogICAgICAgICAgICByZXR1cm4gb3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShmdWxsX3BhdGgpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgaGVyZSB3ZSBoYXZlIGJlZW4gZ2l2ZW4gYSBtb2R1bGUgcmF0aGVyIHRoYW4gYSBwYWNrYWdlIC0gc28KICAgICAgICAgICAgIyBhbGwgd2UgY2FuIGRvIGlzIHNlYXJjaCB0aGUgKnNhbWUqIGRpcmVjdG9yeSB0aGUgbW9kdWxlIGlzIGluCiAgICAgICAgICAgICMgc2hvdWxkIGFuIGV4Y2VwdGlvbiBiZSByYWlzZWQgaW5zdGVhZAogICAgICAgICAgICByZXR1cm4gb3MucGF0aC5kaXJuYW1lKGZ1bGxfcGF0aCkKCiAgICBkZWYgX2dldF9uYW1lX2Zyb21fcGF0aChzZWxmLCBwYXRoKToKICAgICAgICBwYXRoID0gX2p5dGhvbl9hd2FyZV9zcGxpdGV4dChvcy5wYXRoLm5vcm1wYXRoKHBhdGgpKQoKICAgICAgICBfcmVscGF0aCA9IG9zLnBhdGgucmVscGF0aChwYXRoLCBzZWxmLl90b3BfbGV2ZWxfZGlyKQogICAgICAgIGFzc2VydCBub3Qgb3MucGF0aC5pc2FicyhfcmVscGF0aCksICJQYXRoIG11c3QgYmUgd2l0aGluIHRoZSBwcm9qZWN0IgogICAgICAgIGFzc2VydCBub3QgX3JlbHBhdGguc3RhcnRzd2l0aCgnLi4nKSwgIlBhdGggbXVzdCBiZSB3aXRoaW4gdGhlIHByb2plY3QiCgogICAgICAgIG5hbWUgPSBfcmVscGF0aC5yZXBsYWNlKG9zLnBhdGguc2VwLCAnLicpCiAgICAgICAgcmV0dXJuIG5hbWUKCiAgICBkZWYgX2dldF9tb2R1bGVfZnJvbV9uYW1lKHNlbGYsIG5hbWUpOgogICAgICAgIF9faW1wb3J0X18obmFtZSkKICAgICAgICByZXR1cm4gc3lzLm1vZHVsZXNbbmFtZV0KCiAgICBkZWYgX21hdGNoX3BhdGgoc2VsZiwgcGF0aCwgZnVsbF9wYXRoLCBwYXR0ZXJuKToKICAgICAgICAjIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHVzZSBhbHRlcm5hdGl2ZSBtYXRjaGluZyBzdHJhdGVneQogICAgICAgIHJldHVybiBmbm1hdGNoKHBhdGgsIHBhdHRlcm4pCgogICAgZGVmIF9maW5kX3Rlc3RzKHNlbGYsIHN0YXJ0X2RpciwgcGF0dGVybik6CiAgICAgICAgIiIiVXNlZCBieSBkaXNjb3ZlcnkuIFlpZWxkcyB0ZXN0IHN1aXRlcyBpdCBsb2Fkcy4iIiIKICAgICAgICBwYXRocyA9IG9zLmxpc3RkaXIoc3RhcnRfZGlyKQoKICAgICAgICBmb3IgcGF0aCBpbiBwYXRoczoKICAgICAgICAgICAgZnVsbF9wYXRoID0gb3MucGF0aC5qb2luKHN0YXJ0X2RpciwgcGF0aCkKICAgICAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUoZnVsbF9wYXRoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBWQUxJRF9NT0RVTEVfTkFNRS5tYXRjaChwYXRoKToKICAgICAgICAgICAgICAgICAgICAjIHZhbGlkIFB5dGhvbiBpZGVudGlmaWVycyBvbmx5CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9tYXRjaF9wYXRoKHBhdGgsIGZ1bGxfcGF0aCwgcGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICMgaWYgdGhlIHRlc3QgZmlsZSBtYXRjaGVzLCBsb2FkIGl0CiAgICAgICAgICAgICAgICBuYW1lID0gc2VsZi5fZ2V0X25hbWVfZnJvbV9wYXRoKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBtb2R1bGUgPSBzZWxmLl9nZXRfbW9kdWxlX2Zyb21fbmFtZShuYW1lKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIHlpZWxkIF9tYWtlX2ZhaWxlZF9pbXBvcnRfdGVzdChuYW1lLCBzZWxmLnN1aXRlQ2xhc3MpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIG1vZF9maWxlID0gb3MucGF0aC5hYnNwYXRoKGdldGF0dHIobW9kdWxlLCAnX19maWxlX18nLCBmdWxsX3BhdGgpKQogICAgICAgICAgICAgICAgICAgIHJlYWxwYXRoID0gX2p5dGhvbl9hd2FyZV9zcGxpdGV4dChtb2RfZmlsZSkKICAgICAgICAgICAgICAgICAgICBmdWxscGF0aF9ub2V4dCA9IF9qeXRob25fYXdhcmVfc3BsaXRleHQoZnVsbF9wYXRoKQogICAgICAgICAgICAgICAgICAgIGlmIHJlYWxwYXRoLmxvd2VyKCkgIT0gZnVsbHBhdGhfbm9leHQubG93ZXIoKToKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlX2RpciA9IG9zLnBhdGguZGlybmFtZShyZWFscGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgbW9kX25hbWUgPSBfanl0aG9uX2F3YXJlX3NwbGl0ZXh0KG9zLnBhdGguYmFzZW5hbWUoZnVsbF9wYXRoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRfZGlyID0gb3MucGF0aC5kaXJuYW1lKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gKCIlciBtb2R1bGUgaW5jb3JyZWN0bHkgaW1wb3J0ZWQgZnJvbSAlci4gRXhwZWN0ZWQgJXIuICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJcyB0aGlzIG1vZHVsZSBnbG9iYWxseSBpbnN0YWxsZWQ/IikKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgSW1wb3J0RXJyb3IobXNnICUgKG1vZF9uYW1lLCBtb2R1bGVfZGlyLCBleHBlY3RlZF9kaXIpKQogICAgICAgICAgICAgICAgICAgIHlpZWxkIHNlbGYubG9hZFRlc3RzRnJvbU1vZHVsZShtb2R1bGUpCiAgICAgICAgICAgIGVsaWYgb3MucGF0aC5pc2RpcihmdWxsX3BhdGgpOgogICAgICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKG9zLnBhdGguam9pbihmdWxsX3BhdGgsICdfX2luaXRfXy5weScpKToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgIGxvYWRfdGVzdHMgPSBOb25lCiAgICAgICAgICAgICAgICB0ZXN0cyA9IE5vbmUKICAgICAgICAgICAgICAgIGlmIGZubWF0Y2gocGF0aCwgcGF0dGVybik6CiAgICAgICAgICAgICAgICAgICAgIyBvbmx5IGNoZWNrIGxvYWRfdGVzdHMgaWYgdGhlIHBhY2thZ2UgZGlyZWN0b3J5IGl0c2VsZiBtYXRjaGVzIHRoZSBmaWx0ZXIKICAgICAgICAgICAgICAgICAgICBuYW1lID0gc2VsZi5fZ2V0X25hbWVfZnJvbV9wYXRoKGZ1bGxfcGF0aCkKICAgICAgICAgICAgICAgICAgICBwYWNrYWdlID0gc2VsZi5fZ2V0X21vZHVsZV9mcm9tX25hbWUobmFtZSkKICAgICAgICAgICAgICAgICAgICBsb2FkX3Rlc3RzID0gZ2V0YXR0cihwYWNrYWdlLCAnbG9hZF90ZXN0cycsIE5vbmUpCiAgICAgICAgICAgICAgICAgICAgdGVzdHMgPSBzZWxmLmxvYWRUZXN0c0Zyb21Nb2R1bGUocGFja2FnZSwgdXNlX2xvYWRfdGVzdHM9RmFsc2UpCgogICAgICAgICAgICAgICAgaWYgbG9hZF90ZXN0cyBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIGlmIHRlc3RzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAjIHRlc3RzIGxvYWRlZCBmcm9tIHBhY2thZ2UgZmlsZQogICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0cwogICAgICAgICAgICAgICAgICAgICMgcmVjdXJzZSBpbnRvIHRoZSBwYWNrYWdlCiAgICAgICAgICAgICAgICAgICAgZm9yIHRlc3QgaW4gc2VsZi5fZmluZF90ZXN0cyhmdWxsX3BhdGgsIHBhdHRlcm4pOgogICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0CiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgbG9hZF90ZXN0cyhzZWxmLCB0ZXN0cywgcGF0dGVybikKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIF9tYWtlX2ZhaWxlZF9sb2FkX3Rlc3RzKHBhY2thZ2UuX19uYW1lX18sIGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VpdGVDbGFzcykKCmRlZmF1bHRUZXN0TG9hZGVyID0gVGVzdExvYWRlcigpCgoKZGVmIF9tYWtlTG9hZGVyKHByZWZpeCwgc29ydFVzaW5nLCBzdWl0ZUNsYXNzPU5vbmUpOgogICAgbG9hZGVyID0gVGVzdExvYWRlcigpCiAgICBsb2FkZXIuc29ydFRlc3RNZXRob2RzVXNpbmcgPSBzb3J0VXNpbmcKICAgIGxvYWRlci50ZXN0TWV0aG9kUHJlZml4ID0gcHJlZml4CiAgICBpZiBzdWl0ZUNsYXNzOgogICAgICAgIGxvYWRlci5zdWl0ZUNsYXNzID0gc3VpdGVDbGFzcwogICAgcmV0dXJuIGxvYWRlcgoKZGVmIGdldFRlc3RDYXNlTmFtZXModGVzdENhc2VDbGFzcywgcHJlZml4LCBzb3J0VXNpbmc9dXRpbC50aHJlZV93YXlfY21wKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZykuZ2V0VGVzdENhc2VOYW1lcyh0ZXN0Q2FzZUNsYXNzKQoKZGVmIG1ha2VTdWl0ZSh0ZXN0Q2FzZUNsYXNzLCBwcmVmaXg9J3Rlc3QnLCBzb3J0VXNpbmc9dXRpbC50aHJlZV93YXlfY21wLAogICAgICAgICAgICAgIHN1aXRlQ2xhc3M9c3VpdGUuVGVzdFN1aXRlKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZywgc3VpdGVDbGFzcykubG9hZFRlc3RzRnJvbVRlc3RDYXNlKAogICAgICAgIHRlc3RDYXNlQ2xhc3MpCgpkZWYgZmluZFRlc3RDYXNlcyhtb2R1bGUsIHByZWZpeD0ndGVzdCcsIHNvcnRVc2luZz11dGlsLnRocmVlX3dheV9jbXAsCiAgICAgICAgICAgICAgICAgIHN1aXRlQ2xhc3M9c3VpdGUuVGVzdFN1aXRlKToKICAgIHJldHVybiBfbWFrZUxvYWRlcihwcmVmaXgsIHNvcnRVc2luZywgc3VpdGVDbGFzcykubG9hZFRlc3RzRnJvbU1vZHVsZShcCiAgICAgICAgbW9kdWxlKQo=',
'/Lib/unittest/signals.py':'aW1wb3J0IHNpZ25hbAppbXBvcnQgd2Vha3JlZgoKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHdyYXBzCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCmNsYXNzIF9JbnRlcnJ1cHRIYW5kbGVyKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZGVmYXVsdF9oYW5kbGVyKToKICAgICAgICBzZWxmLmNhbGxlZCA9IEZhbHNlCiAgICAgICAgc2VsZi5kZWZhdWx0X2hhbmRsZXIgPSBkZWZhdWx0X2hhbmRsZXIKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgc2lnbnVtLCBmcmFtZSk6CiAgICAgICAgaW5zdGFsbGVkX2hhbmRsZXIgPSBzaWduYWwuZ2V0c2lnbmFsKHNpZ25hbC5TSUdJTlQpCiAgICAgICAgaWYgaW5zdGFsbGVkX2hhbmRsZXIgaXMgbm90IHNlbGY6CiAgICAgICAgICAgICMgaWYgd2UgYXJlbid0IHRoZSBpbnN0YWxsZWQgaGFuZGxlciwgdGhlbiBkZWxlZ2F0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICAjIHRvIHRoZSBkZWZhdWx0IGhhbmRsZXIKICAgICAgICAgICAgc2VsZi5kZWZhdWx0X2hhbmRsZXIoc2lnbnVtLCBmcmFtZSkKCiAgICAgICAgaWYgc2VsZi5jYWxsZWQ6CiAgICAgICAgICAgIHNlbGYuZGVmYXVsdF9oYW5kbGVyKHNpZ251bSwgZnJhbWUpCiAgICAgICAgc2VsZi5jYWxsZWQgPSBUcnVlCiAgICAgICAgZm9yIHJlc3VsdCBpbiBfcmVzdWx0cy5rZXlzKCk6CiAgICAgICAgICAgIHJlc3VsdC5zdG9wKCkKCl9yZXN1bHRzID0gd2Vha3JlZi5XZWFrS2V5RGljdGlvbmFyeSgpCmRlZiByZWdpc3RlclJlc3VsdChyZXN1bHQpOgogICAgX3Jlc3VsdHNbcmVzdWx0XSA9IDEKCmRlZiByZW1vdmVSZXN1bHQocmVzdWx0KToKICAgIHJldHVybiBib29sKF9yZXN1bHRzLnBvcChyZXN1bHQsIE5vbmUpKQoKX2ludGVycnVwdF9oYW5kbGVyID0gTm9uZQpkZWYgaW5zdGFsbEhhbmRsZXIoKToKICAgIGdsb2JhbCBfaW50ZXJydXB0X2hhbmRsZXIKICAgIGlmIF9pbnRlcnJ1cHRfaGFuZGxlciBpcyBOb25lOgogICAgICAgIGRlZmF1bHRfaGFuZGxlciA9IHNpZ25hbC5nZXRzaWduYWwoc2lnbmFsLlNJR0lOVCkKICAgICAgICBfaW50ZXJydXB0X2hhbmRsZXIgPSBfSW50ZXJydXB0SGFuZGxlcihkZWZhdWx0X2hhbmRsZXIpCiAgICAgICAgc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBfaW50ZXJydXB0X2hhbmRsZXIpCgoKZGVmIHJlbW92ZUhhbmRsZXIobWV0aG9kPU5vbmUpOgogICAgaWYgbWV0aG9kIGlzIG5vdCBOb25lOgogICAgICAgIEB3cmFwcyhtZXRob2QpCiAgICAgICAgZGVmIGlubmVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIGluaXRpYWwgPSBzaWduYWwuZ2V0c2lnbmFsKHNpZ25hbC5TSUdJTlQpCiAgICAgICAgICAgIHJlbW92ZUhhbmRsZXIoKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kKCphcmdzLCAqKmt3YXJncykKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIHNpZ25hbC5zaWduYWwoc2lnbmFsLlNJR0lOVCwgaW5pdGlhbCkKICAgICAgICByZXR1cm4gaW5uZXIKCiAgICBnbG9iYWwgX2ludGVycnVwdF9oYW5kbGVyCiAgICBpZiBfaW50ZXJydXB0X2hhbmRsZXIgaXMgbm90IE5vbmU6CiAgICAgICAgc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBfaW50ZXJydXB0X2hhbmRsZXIuZGVmYXVsdF9oYW5kbGVyKQo=',
'/Lib/unittest/case.py':'IiIiVGVzdCBjYXNlIGltcGxlbWVudGF0aW9uIiIiCgppbXBvcnQgc3lzCmltcG9ydCBmdW5jdG9vbHMKaW1wb3J0IGRpZmZsaWIKaW1wb3J0IHBwcmludAppbXBvcnQgcmUKaW1wb3J0IHdhcm5pbmdzCmltcG9ydCBjb2xsZWN0aW9ucwoKZnJvbSAuIGltcG9ydCByZXN1bHQKZnJvbSAudXRpbCBpbXBvcnQgKHN0cmNsYXNzLCBzYWZlX3JlcHIsIHNvcnRlZF9saXN0X2RpZmZlcmVuY2UsCiAgICAgICAgICAgICAgICAgICB1bm9yZGVyYWJsZV9saXN0X2RpZmZlcmVuY2UsIF9jb3VudF9kaWZmX2FsbF9wdXJwb3NlLAogICAgICAgICAgICAgICAgICAgX2NvdW50X2RpZmZfaGFzaGFibGUpCgpfX3VuaXR0ZXN0ID0gVHJ1ZQoKCkRJRkZfT01JVFRFRCA9ICgnXG5EaWZmIGlzICVzIGNoYXJhY3RlcnMgbG9uZy4gJwogICAgICAgICAgICAgICAgICdTZXQgc2VsZi5tYXhEaWZmIHRvIE5vbmUgdG8gc2VlIGl0LicpCgpjbGFzcyBTa2lwVGVzdChFeGNlcHRpb24pOgogICAgIiIiCiAgICBSYWlzZSB0aGlzIGV4Y2VwdGlvbiBpbiBhIHRlc3QgdG8gc2tpcCBpdC4KCiAgICBVc3VhbGx5IHlvdSBjYW4gdXNlIFRlc3RSZXN1bHQuc2tpcCgpIG9yIG9uZSBvZiB0aGUgc2tpcHBpbmcgZGVjb3JhdG9ycwogICAgaW5zdGVhZCBvZiByYWlzaW5nIHRoaXMgZGlyZWN0bHkuCiAgICAiIiIKCmNsYXNzIF9FeHBlY3RlZEZhaWx1cmUoRXhjZXB0aW9uKToKICAgICIiIgogICAgUmFpc2UgdGhpcyB3aGVuIGEgdGVzdCBpcyBleHBlY3RlZCB0byBmYWlsLgoKICAgIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGV4Y19pbmZvKToKICAgICAgICBzdXBlcihfRXhwZWN0ZWRGYWlsdXJlLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5leGNfaW5mbyA9IGV4Y19pbmZvCgpjbGFzcyBfVW5leHBlY3RlZFN1Y2Nlc3MoRXhjZXB0aW9uKToKICAgICIiIgogICAgVGhlIHRlc3Qgd2FzIHN1cHBvc2VkIHRvIGZhaWwsIGJ1dCBpdCBkaWRuJ3QhCiAgICAiIiIKCgpjbGFzcyBfT3V0Y29tZShvYmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuc3VjY2VzcyA9IFRydWUKICAgICAgICBzZWxmLnNraXBwZWQgPSBOb25lCiAgICAgICAgc2VsZi51bmV4cGVjdGVkU3VjY2VzcyA9IE5vbmUKICAgICAgICBzZWxmLmV4cGVjdGVkRmFpbHVyZSA9IE5vbmUKICAgICAgICBzZWxmLmVycm9ycyA9IFtdCiAgICAgICAgc2VsZi5mYWlsdXJlcyA9IFtdCgoKZGVmIF9pZChvYmopOgogICAgcmV0dXJuIG9iagoKZGVmIHNraXAocmVhc29uKToKICAgICIiIgogICAgVW5jb25kaXRpb25hbGx5IHNraXAgYSB0ZXN0LgogICAgIiIiCiAgICBkZWYgZGVjb3JhdG9yKHRlc3RfaXRlbSk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGVzdF9pdGVtLCB0eXBlKToKICAgICAgICAgICAgQGZ1bmN0b29scy53cmFwcyh0ZXN0X2l0ZW0pCiAgICAgICAgICAgIGRlZiBza2lwX3dyYXBwZXIoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAgICAgICAgIHJhaXNlIFNraXBUZXN0KHJlYXNvbikKICAgICAgICAgICAgdGVzdF9pdGVtID0gc2tpcF93cmFwcGVyCgogICAgICAgIHRlc3RfaXRlbS5fX3VuaXR0ZXN0X3NraXBfXyA9IFRydWUKICAgICAgICB0ZXN0X2l0ZW0uX191bml0dGVzdF9za2lwX3doeV9fID0gcmVhc29uCiAgICAgICAgcmV0dXJuIHRlc3RfaXRlbQogICAgcmV0dXJuIGRlY29yYXRvcgoKZGVmIHNraXBJZihjb25kaXRpb24sIHJlYXNvbik6CiAgICAiIiIKICAgIFNraXAgYSB0ZXN0IGlmIHRoZSBjb25kaXRpb24gaXMgdHJ1ZS4KICAgICIiIgogICAgaWYgY29uZGl0aW9uOgogICAgICAgIHJldHVybiBza2lwKHJlYXNvbikKICAgIHJldHVybiBfaWQKCmRlZiBza2lwVW5sZXNzKGNvbmRpdGlvbiwgcmVhc29uKToKICAgICIiIgogICAgU2tpcCBhIHRlc3QgdW5sZXNzIHRoZSBjb25kaXRpb24gaXMgdHJ1ZS4KICAgICIiIgogICAgaWYgbm90IGNvbmRpdGlvbjoKICAgICAgICByZXR1cm4gc2tpcChyZWFzb24pCiAgICByZXR1cm4gX2lkCgoKZGVmIGV4cGVjdGVkRmFpbHVyZShmdW5jKToKICAgIEBmdW5jdG9vbHMud3JhcHMoZnVuYykKICAgIGRlZiB3cmFwcGVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByYWlzZSBfRXhwZWN0ZWRGYWlsdXJlKHN5cy5leGNfaW5mbygpKQogICAgICAgIHJhaXNlIF9VbmV4cGVjdGVkU3VjY2VzcwogICAgcmV0dXJuIHdyYXBwZXIKCgpjbGFzcyBfQXNzZXJ0UmFpc2VzQmFzZUNvbnRleHQob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZXhwZWN0ZWQsIHRlc3RfY2FzZSwgY2FsbGFibGVfb2JqPU5vbmUsCiAgICAgICAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4PU5vbmUpOgogICAgICAgIHNlbGYuZXhwZWN0ZWQgPSBleHBlY3RlZAogICAgICAgIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbiA9IHRlc3RfY2FzZS5mYWlsdXJlRXhjZXB0aW9uCiAgICAgICAgaWYgY2FsbGFibGVfb2JqIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLm9ial9uYW1lID0gY2FsbGFibGVfb2JqLl9fbmFtZV9fCiAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgIHNlbGYub2JqX25hbWUgPSBzdHIoY2FsbGFibGVfb2JqKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYub2JqX25hbWUgPSBOb25lCiAgICAgICAgaWYgaXNpbnN0YW5jZShleHBlY3RlZF9yZWdleCwgKGJ5dGVzLCBzdHIpKToKICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXggPSByZS5jb21waWxlKGV4cGVjdGVkX3JlZ2V4KQogICAgICAgIHNlbGYuZXhwZWN0ZWRfcmVnZXggPSBleHBlY3RlZF9yZWdleAoKCmNsYXNzIF9Bc3NlcnRSYWlzZXNDb250ZXh0KF9Bc3NlcnRSYWlzZXNCYXNlQ29udGV4dCk6CiAgICAiIiJBIGNvbnRleHQgbWFuYWdlciB1c2VkIHRvIGltcGxlbWVudCBUZXN0Q2FzZS5hc3NlcnRSYWlzZXMqIG1ldGhvZHMuIiIiCgogICAgZGVmIF9fZW50ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCBleGNfdHlwZSwgZXhjX3ZhbHVlLCB0Yik6CiAgICAgICAgaWYgZXhjX3R5cGUgaXMgTm9uZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZXhjX25hbWUgPSBzZWxmLmV4cGVjdGVkLl9fbmFtZV9fCiAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgIGV4Y19uYW1lID0gc3RyKHNlbGYuZXhwZWN0ZWQpCiAgICAgICAgICAgIGlmIHNlbGYub2JqX25hbWU6CiAgICAgICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oInswfSBub3QgcmFpc2VkIGJ5IHsxfSIKICAgICAgICAgICAgICAgICAgICAuZm9ybWF0KGV4Y19uYW1lLCBzZWxmLm9ial9uYW1lKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbigiezB9IG5vdCByYWlzZWQiCiAgICAgICAgICAgICAgICAgICAgLmZvcm1hdChleGNfbmFtZSkpCiAgICAgICAgaWYgbm90IGlzc3ViY2xhc3MoZXhjX3R5cGUsIHNlbGYuZXhwZWN0ZWQpOgogICAgICAgICAgICAjIGxldCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgcGFzcyB0aHJvdWdoCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICMgc3RvcmUgZXhjZXB0aW9uLCB3aXRob3V0IHRyYWNlYmFjaywgZm9yIGxhdGVyIHJldHJpZXZhbAogICAgICAgIHNlbGYuZXhjZXB0aW9uID0gZXhjX3ZhbHVlLndpdGhfdHJhY2ViYWNrKE5vbmUpCiAgICAgICAgaWYgc2VsZi5leHBlY3RlZF9yZWdleCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICBleHBlY3RlZF9yZWdleCA9IHNlbGYuZXhwZWN0ZWRfcmVnZXgKICAgICAgICBpZiBub3QgZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHN0cihleGNfdmFsdWUpKToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCciJXMiIGRvZXMgbm90IG1hdGNoICIlcyInICUKICAgICAgICAgICAgICAgICAgICAgKGV4cGVjdGVkX3JlZ2V4LnBhdHRlcm4sIHN0cihleGNfdmFsdWUpKSkKICAgICAgICByZXR1cm4gVHJ1ZQoKCmNsYXNzIF9Bc3NlcnRXYXJuc0NvbnRleHQoX0Fzc2VydFJhaXNlc0Jhc2VDb250ZXh0KToKICAgICIiIkEgY29udGV4dCBtYW5hZ2VyIHVzZWQgdG8gaW1wbGVtZW50IFRlc3RDYXNlLmFzc2VydFdhcm5zKiBtZXRob2RzLiIiIgoKICAgIGRlZiBfX2VudGVyX18oc2VsZik6CiAgICAgICAgIyBUaGUgX193YXJuaW5ncmVnaXN0cnlfXydzIG5lZWQgdG8gYmUgaW4gYSBwcmlzdGluZSBzdGF0ZSBmb3IgdGVzdHMKICAgICAgICAjIHRvIHdvcmsgcHJvcGVybHkuCiAgICAgICAgZm9yIHYgaW4gc3lzLm1vZHVsZXMudmFsdWVzKCk6CiAgICAgICAgICAgIGlmIGdldGF0dHIodiwgJ19fd2FybmluZ3JlZ2lzdHJ5X18nLCBOb25lKToKICAgICAgICAgICAgICAgIHYuX193YXJuaW5ncmVnaXN0cnlfXyA9IHt9CiAgICAgICAgc2VsZi53YXJuaW5nc19tYW5hZ2VyID0gd2FybmluZ3MuY2F0Y2hfd2FybmluZ3MocmVjb3JkPVRydWUpCiAgICAgICAgc2VsZi53YXJuaW5ncyA9IHNlbGYud2FybmluZ3NfbWFuYWdlci5fX2VudGVyX18oKQogICAgICAgIHdhcm5pbmdzLnNpbXBsZWZpbHRlcigiYWx3YXlzIiwgc2VsZi5leHBlY3RlZCkKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBfX2V4aXRfXyhzZWxmLCBleGNfdHlwZSwgZXhjX3ZhbHVlLCB0Yik6CiAgICAgICAgc2VsZi53YXJuaW5nc19tYW5hZ2VyLl9fZXhpdF9fKGV4Y190eXBlLCBleGNfdmFsdWUsIHRiKQogICAgICAgIGlmIGV4Y190eXBlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAjIGxldCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgcGFzcyB0aHJvdWdoCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgZXhjX25hbWUgPSBzZWxmLmV4cGVjdGVkLl9fbmFtZV9fCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICBleGNfbmFtZSA9IHN0cihzZWxmLmV4cGVjdGVkKQogICAgICAgIGZpcnN0X21hdGNoaW5nID0gTm9uZQogICAgICAgIGZvciBtIGluIHNlbGYud2FybmluZ3M6CiAgICAgICAgICAgIHcgPSBtLm1lc3NhZ2UKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uodywgc2VsZi5leHBlY3RlZCk6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBmaXJzdF9tYXRjaGluZyBpcyBOb25lOgogICAgICAgICAgICAgICAgZmlyc3RfbWF0Y2hpbmcgPSB3CiAgICAgICAgICAgIGlmIChzZWxmLmV4cGVjdGVkX3JlZ2V4IGlzIG5vdCBOb25lIGFuZAogICAgICAgICAgICAgICAgbm90IHNlbGYuZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHN0cih3KSkpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgIyBzdG9yZSB3YXJuaW5nIGZvciBsYXRlciByZXRyaWV2YWwKICAgICAgICAgICAgc2VsZi53YXJuaW5nID0gdwogICAgICAgICAgICBzZWxmLmZpbGVuYW1lID0gbS5maWxlbmFtZQogICAgICAgICAgICBzZWxmLmxpbmVubyA9IG0ubGluZW5vCiAgICAgICAgICAgIHJldHVybgogICAgICAgICMgTm93IHdlIHNpbXBseSB0cnkgdG8gY2hvb3NlIGEgaGVscGZ1bCBmYWlsdXJlIG1lc3NhZ2UKICAgICAgICBpZiBmaXJzdF9tYXRjaGluZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCciJXMiIGRvZXMgbm90IG1hdGNoICIlcyInICUKICAgICAgICAgICAgICAgICAgICAgKHNlbGYuZXhwZWN0ZWRfcmVnZXgucGF0dGVybiwgc3RyKGZpcnN0X21hdGNoaW5nKSkpCiAgICAgICAgaWYgc2VsZi5vYmpfbmFtZToKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKCJ7MH0gbm90IHRyaWdnZXJlZCBieSB7MX0iCiAgICAgICAgICAgICAgICAuZm9ybWF0KGV4Y19uYW1lLCBzZWxmLm9ial9uYW1lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oInswfSBub3QgdHJpZ2dlcmVkIgogICAgICAgICAgICAgICAgLmZvcm1hdChleGNfbmFtZSkpCgoKY2xhc3MgVGVzdENhc2Uob2JqZWN0KToKICAgICIiIkEgY2xhc3Mgd2hvc2UgaW5zdGFuY2VzIGFyZSBzaW5nbGUgdGVzdCBjYXNlcy4KCiAgICBCeSBkZWZhdWx0LCB0aGUgdGVzdCBjb2RlIGl0c2VsZiBzaG91bGQgYmUgcGxhY2VkIGluIGEgbWV0aG9kIG5hbWVkCiAgICAncnVuVGVzdCcuCgogICAgSWYgdGhlIGZpeHR1cmUgbWF5IGJlIHVzZWQgZm9yIG1hbnkgdGVzdCBjYXNlcywgY3JlYXRlIGFzCiAgICBtYW55IHRlc3QgbWV0aG9kcyBhcyBhcmUgbmVlZGVkLiBXaGVuIGluc3RhbnRpYXRpbmcgc3VjaCBhIFRlc3RDYXNlCiAgICBzdWJjbGFzcywgc3BlY2lmeSBpbiB0aGUgY29uc3RydWN0b3IgYXJndW1lbnRzIHRoZSBuYW1lIG9mIHRoZSB0ZXN0IG1ldGhvZAogICAgdGhhdCB0aGUgaW5zdGFuY2UgaXMgdG8gZXhlY3V0ZS4KCiAgICBUZXN0IGF1dGhvcnMgc2hvdWxkIHN1YmNsYXNzIFRlc3RDYXNlIGZvciB0aGVpciBvd24gdGVzdHMuIENvbnN0cnVjdGlvbgogICAgYW5kIGRlY29uc3RydWN0aW9uIG9mIHRoZSB0ZXN0J3MgZW52aXJvbm1lbnQgKCdmaXh0dXJlJykgY2FuIGJlCiAgICBpbXBsZW1lbnRlZCBieSBvdmVycmlkaW5nIHRoZSAnc2V0VXAnIGFuZCAndGVhckRvd24nIG1ldGhvZHMgcmVzcGVjdGl2ZWx5LgoKICAgIElmIGl0IGlzIG5lY2Vzc2FyeSB0byBvdmVycmlkZSB0aGUgX19pbml0X18gbWV0aG9kLCB0aGUgYmFzZSBjbGFzcwogICAgX19pbml0X18gbWV0aG9kIG11c3QgYWx3YXlzIGJlIGNhbGxlZC4gSXQgaXMgaW1wb3J0YW50IHRoYXQgc3ViY2xhc3NlcwogICAgc2hvdWxkIG5vdCBjaGFuZ2UgdGhlIHNpZ25hdHVyZSBvZiB0aGVpciBfX2luaXRfXyBtZXRob2QsIHNpbmNlIGluc3RhbmNlcwogICAgb2YgdGhlIGNsYXNzZXMgYXJlIGluc3RhbnRpYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IHBhcnRzIG9mIHRoZSBmcmFtZXdvcmsKICAgIGluIG9yZGVyIHRvIGJlIHJ1bi4KICAgICIiIgoKICAgICMgVGhpcyBhdHRyaWJ1dGUgZGV0ZXJtaW5lcyB3aGljaCBleGNlcHRpb24gd2lsbCBiZSByYWlzZWQgd2hlbgogICAgIyB0aGUgaW5zdGFuY2UncyBhc3NlcnRpb24gbWV0aG9kcyBmYWlsOyB0ZXN0IG1ldGhvZHMgcmFpc2luZyB0aGlzCiAgICAjIGV4Y2VwdGlvbiB3aWxsIGJlIGRlZW1lZCB0byBoYXZlICdmYWlsZWQnIHJhdGhlciB0aGFuICdlcnJvcmVkJwoKICAgIGZhaWx1cmVFeGNlcHRpb24gPSBBc3NlcnRpb25FcnJvcgoKICAgICMgVGhpcyBhdHRyaWJ1dGUgZGV0ZXJtaW5lcyB3aGV0aGVyIGxvbmcgbWVzc2FnZXMgKGluY2x1ZGluZyByZXByIG9mCiAgICAjIG9iamVjdHMgdXNlZCBpbiBhc3NlcnQgbWV0aG9kcykgd2lsbCBiZSBwcmludGVkIG9uIGZhaWx1cmUgaW4gKmFkZGl0aW9uKgogICAgIyB0byBhbnkgZXhwbGljaXQgbWVzc2FnZSBwYXNzZWQuCgogICAgbG9uZ01lc3NhZ2UgPSBUcnVlCgogICAgIyBUaGlzIGF0dHJpYnV0ZSBzZXRzIHRoZSBtYXhpbXVtIGxlbmd0aCBvZiBhIGRpZmYgaW4gZmFpbHVyZSBtZXNzYWdlcwogICAgIyBieSBhc3NlcnQgbWV0aG9kcyB1c2luZyBkaWZmbGliLiBJdCBpcyBsb29rZWQgdXAgYXMgYW4gaW5zdGFuY2UgYXR0cmlidXRlCiAgICAjIHNvIGNhbiBiZSBjb25maWd1cmVkIGJ5IGluZGl2aWR1YWwgdGVzdHMgaWYgcmVxdWlyZWQuCgogICAgbWF4RGlmZiA9IDgwKjgKCiAgICAjIElmIGEgc3RyaW5nIGlzIGxvbmdlciB0aGFuIF9kaWZmVGhyZXNob2xkLCB1c2Ugbm9ybWFsIGNvbXBhcmlzb24gaW5zdGVhZAogICAgIyBvZiBkaWZmbGliLiAgU2VlICMxMTc2My4KICAgIF9kaWZmVGhyZXNob2xkID0gMioqMTYKCiAgICAjIEF0dHJpYnV0ZSB1c2VkIGJ5IFRlc3RTdWl0ZSBmb3IgY2xhc3NTZXRVcAoKICAgIF9jbGFzc1NldHVwRmFpbGVkID0gRmFsc2UKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbWV0aG9kTmFtZT0ncnVuVGVzdCcpOgogICAgICAgICIiIkNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgY2xhc3MgdGhhdCB3aWxsIHVzZSB0aGUgbmFtZWQgdGVzdAogICAgICAgICAgIG1ldGhvZCB3aGVuIGV4ZWN1dGVkLiBSYWlzZXMgYSBWYWx1ZUVycm9yIGlmIHRoZSBpbnN0YW5jZSBkb2VzCiAgICAgICAgICAgbm90IGhhdmUgYSBtZXRob2Qgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fdGVzdE1ldGhvZE5hbWUgPSBtZXRob2ROYW1lCiAgICAgICAgc2VsZi5fb3V0Y29tZUZvckRvQ2xlYW51cHMgPSBOb25lCiAgICAgICAgc2VsZi5fdGVzdE1ldGhvZERvYyA9ICdObyB0ZXN0JwogICAgICAgIHRyeToKICAgICAgICAgICAgdGVzdE1ldGhvZCA9IGdldGF0dHIoc2VsZiwgbWV0aG9kTmFtZSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgIGlmIG1ldGhvZE5hbWUgIT0gJ3J1blRlc3QnOgogICAgICAgICAgICAgICAgIyB3ZSBhbGxvdyBpbnN0YW50aWF0aW9uIHdpdGggbm8gZXhwbGljaXQgbWV0aG9kIG5hbWUKICAgICAgICAgICAgICAgICMgYnV0IG5vdCBhbiAqaW5jb3JyZWN0KiBvciBtaXNzaW5nIG1ldGhvZCBuYW1lCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJubyBzdWNoIHRlc3QgbWV0aG9kIGluICVzOiAlcyIgJQogICAgICAgICAgICAgICAgICAgICAgKHNlbGYuX19jbGFzc19fLCBtZXRob2ROYW1lKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl90ZXN0TWV0aG9kRG9jID0gdGVzdE1ldGhvZC5fX2RvY19fCiAgICAgICAgc2VsZi5fY2xlYW51cHMgPSBbXQoKICAgICAgICAjIE1hcCB0eXBlcyB0byBjdXN0b20gYXNzZXJ0RXF1YWwgZnVuY3Rpb25zIHRoYXQgd2lsbCBjb21wYXJlCiAgICAgICAgIyBpbnN0YW5jZXMgb2Ygc2FpZCB0eXBlIGluIG1vcmUgZGV0YWlsIHRvIGdlbmVyYXRlIGEgbW9yZSB1c2VmdWwKICAgICAgICAjIGVycm9yIG1lc3NhZ2UuCiAgICAgICAgc2VsZi5fdHlwZV9lcXVhbGl0eV9mdW5jcyA9IHt9CiAgICAgICAgc2VsZi5hZGRUeXBlRXF1YWxpdHlGdW5jKGRpY3QsICdhc3NlcnREaWN0RXF1YWwnKQogICAgICAgIHNlbGYuYWRkVHlwZUVxdWFsaXR5RnVuYyhsaXN0LCAnYXNzZXJ0TGlzdEVxdWFsJykKICAgICAgICBzZWxmLmFkZFR5cGVFcXVhbGl0eUZ1bmModHVwbGUsICdhc3NlcnRUdXBsZUVxdWFsJykKICAgICAgICBzZWxmLmFkZFR5cGVFcXVhbGl0eUZ1bmMoc2V0LCAnYXNzZXJ0U2V0RXF1YWwnKQogICAgICAgIHNlbGYuYWRkVHlwZUVxdWFsaXR5RnVuYyhmcm96ZW5zZXQsICdhc3NlcnRTZXRFcXVhbCcpCiAgICAgICAgc2VsZi5hZGRUeXBlRXF1YWxpdHlGdW5jKHN0ciwgJ2Fzc2VydE11bHRpTGluZUVxdWFsJykKCiAgICBkZWYgYWRkVHlwZUVxdWFsaXR5RnVuYyhzZWxmLCB0eXBlb2JqLCBmdW5jdGlvbik6CiAgICAgICAgIiIiQWRkIGEgdHlwZSBzcGVjaWZpYyBhc3NlcnRFcXVhbCBzdHlsZSBmdW5jdGlvbiB0byBjb21wYXJlIGEgdHlwZS4KCiAgICAgICAgVGhpcyBtZXRob2QgaXMgZm9yIHVzZSBieSBUZXN0Q2FzZSBzdWJjbGFzc2VzIHRoYXQgbmVlZCB0byByZWdpc3RlcgogICAgICAgIHRoZWlyIG93biB0eXBlIGVxdWFsaXR5IGZ1bmN0aW9ucyB0byBwcm92aWRlIG5pY2VyIGVycm9yIG1lc3NhZ2VzLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICB0eXBlb2JqOiBUaGUgZGF0YSB0eXBlIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBvbiB3aGVuIGJvdGggdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgYXJlIG9mIHRoZSBzYW1lIHR5cGUgaW4gYXNzZXJ0RXF1YWwoKS4KICAgICAgICAgICAgZnVuY3Rpb246IFRoZSBjYWxsYWJsZSB0YWtpbmcgdHdvIGFyZ3VtZW50cyBhbmQgYW4gb3B0aW9uYWwKICAgICAgICAgICAgICAgICAgICBtc2c9IGFyZ3VtZW50IHRoYXQgcmFpc2VzIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbiB3aXRoIGEKICAgICAgICAgICAgICAgICAgICB1c2VmdWwgZXJyb3IgbWVzc2FnZSB3aGVuIHRoZSB0d28gYXJndW1lbnRzIGFyZSBub3QgZXF1YWwuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fdHlwZV9lcXVhbGl0eV9mdW5jc1t0eXBlb2JqXSA9IGZ1bmN0aW9uCgogICAgZGVmIGFkZENsZWFudXAoc2VsZiwgZnVuY3Rpb24sICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiQWRkIGEgZnVuY3Rpb24sIHdpdGggYXJndW1lbnRzLCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgdGVzdCBpcwogICAgICAgIGNvbXBsZXRlZC4gRnVuY3Rpb25zIGFkZGVkIGFyZSBjYWxsZWQgb24gYSBMSUZPIGJhc2lzIGFuZCBhcmUKICAgICAgICBjYWxsZWQgYWZ0ZXIgdGVhckRvd24gb24gdGVzdCBmYWlsdXJlIG9yIHN1Y2Nlc3MuCgogICAgICAgIENsZWFudXAgaXRlbXMgYXJlIGNhbGxlZCBldmVuIGlmIHNldFVwIGZhaWxzICh1bmxpa2UgdGVhckRvd24pLiIiIgogICAgICAgIHNlbGYuX2NsZWFudXBzLmFwcGVuZCgoZnVuY3Rpb24sIGFyZ3MsIGt3YXJncykpCgogICAgZGVmIHNldFVwKHNlbGYpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3Igc2V0dGluZyB1cCB0aGUgdGVzdCBmaXh0dXJlIGJlZm9yZSBleGVyY2lzaW5nIGl0LiIKICAgICAgICBwYXNzCgogICAgZGVmIHRlYXJEb3duKHNlbGYpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3IgZGVjb25zdHJ1Y3RpbmcgdGhlIHRlc3QgZml4dHVyZSBhZnRlciB0ZXN0aW5nIGl0LiIKICAgICAgICBwYXNzCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgc2V0VXBDbGFzcyhjbHMpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3Igc2V0dGluZyB1cCBjbGFzcyBmaXh0dXJlIGJlZm9yZSBydW5uaW5nIHRlc3RzIGluIHRoZSBjbGFzcy4iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdGVhckRvd25DbGFzcyhjbHMpOgogICAgICAgICJIb29rIG1ldGhvZCBmb3IgZGVjb25zdHJ1Y3RpbmcgdGhlIGNsYXNzIGZpeHR1cmUgYWZ0ZXIgcnVubmluZyBhbGwgdGVzdHMgaW4gdGhlIGNsYXNzLiIKCiAgICBkZWYgY291bnRUZXN0Q2FzZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIDEKCiAgICBkZWYgZGVmYXVsdFRlc3RSZXN1bHQoc2VsZik6CiAgICAgICAgcmV0dXJuIHJlc3VsdC5UZXN0UmVzdWx0KCkKCiAgICBkZWYgc2hvcnREZXNjcmlwdGlvbihzZWxmKToKICAgICAgICAiIiJSZXR1cm5zIGEgb25lLWxpbmUgZGVzY3JpcHRpb24gb2YgdGhlIHRlc3QsIG9yIE5vbmUgaWYgbm8KICAgICAgICBkZXNjcmlwdGlvbiBoYXMgYmVlbiBwcm92aWRlZC4KCiAgICAgICAgVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgbGluZSBvZgogICAgICAgIHRoZSBzcGVjaWZpZWQgdGVzdCBtZXRob2QncyBkb2NzdHJpbmcuCiAgICAgICAgIiIiCiAgICAgICAgZG9jID0gc2VsZi5fdGVzdE1ldGhvZERvYwogICAgICAgIHJldHVybiBkb2MgYW5kIGRvYy5zcGxpdCgiXG4iKVswXS5zdHJpcCgpIG9yIE5vbmUKCgogICAgZGVmIGlkKHNlbGYpOgogICAgICAgIHJldHVybiAiJXMuJXMiICUgKHN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwgc2VsZi5fdGVzdE1ldGhvZE5hbWUpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgdHlwZShzZWxmKSBpcyBub3QgdHlwZShvdGhlcik6CiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZAoKICAgICAgICByZXR1cm4gc2VsZi5fdGVzdE1ldGhvZE5hbWUgPT0gb3RoZXIuX3Rlc3RNZXRob2ROYW1lCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKCh0eXBlKHNlbGYpLCBzZWxmLl90ZXN0TWV0aG9kTmFtZSkpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuICIlcyAoJXMpIiAlIChzZWxmLl90ZXN0TWV0aG9kTmFtZSwgc3RyY2xhc3Moc2VsZi5fX2NsYXNzX18pKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZXN0TWV0aG9kPSVzPiIgJSBcCiAgICAgICAgICAgICAgIChzdHJjbGFzcyhzZWxmLl9fY2xhc3NfXyksIHNlbGYuX3Rlc3RNZXRob2ROYW1lKQoKICAgIGRlZiBfYWRkU2tpcChzZWxmLCByZXN1bHQsIHJlYXNvbik6CiAgICAgICAgYWRkU2tpcCA9IGdldGF0dHIocmVzdWx0LCAnYWRkU2tpcCcsIE5vbmUpCiAgICAgICAgaWYgYWRkU2tpcCBpcyBub3QgTm9uZToKICAgICAgICAgICAgYWRkU2tpcChzZWxmLCByZWFzb24pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2FybmluZ3Mud2FybigiVGVzdFJlc3VsdCBoYXMgbm8gYWRkU2tpcCBtZXRob2QsIHNraXBzIG5vdCByZXBvcnRlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVdhcm5pbmcsIDIpCiAgICAgICAgICAgIHJlc3VsdC5hZGRTdWNjZXNzKHNlbGYpCgogICAgZGVmIF9leGVjdXRlVGVzdFBhcnQoc2VsZiwgZnVuY3Rpb24sIG91dGNvbWUsIGlzVGVzdD1GYWxzZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICByYWlzZQogICAgICAgIGV4Y2VwdCBTa2lwVGVzdCBhcyBlOgogICAgICAgICAgICBvdXRjb21lLnN1Y2Nlc3MgPSBGYWxzZQogICAgICAgICAgICBvdXRjb21lLnNraXBwZWQgPSBzdHIoZSkKICAgICAgICBleGNlcHQgX1VuZXhwZWN0ZWRTdWNjZXNzOgogICAgICAgICAgICBleGNfaW5mbyA9IHN5cy5leGNfaW5mbygpCiAgICAgICAgICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgICAgIGlmIGlzVGVzdDoKICAgICAgICAgICAgICAgIG91dGNvbWUudW5leHBlY3RlZFN1Y2Nlc3MgPSBleGNfaW5mbwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb3V0Y29tZS5lcnJvcnMuYXBwZW5kKGV4Y19pbmZvKQogICAgICAgIGV4Y2VwdCBfRXhwZWN0ZWRGYWlsdXJlOgogICAgICAgICAgICBvdXRjb21lLnN1Y2Nlc3MgPSBGYWxzZQogICAgICAgICAgICBleGNfaW5mbyA9IHN5cy5leGNfaW5mbygpCiAgICAgICAgICAgIGlmIGlzVGVzdDoKICAgICAgICAgICAgICAgIG91dGNvbWUuZXhwZWN0ZWRGYWlsdXJlID0gZXhjX2luZm8KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dGNvbWUuZXJyb3JzLmFwcGVuZChleGNfaW5mbykKICAgICAgICAjZml4bWUgYnJ5dGhvbiBTeW50YXggZXJyb3IKICAgICAgICAjZXhjZXB0IHNlbGYuZmFpbHVyZUV4Y2VwdGlvbjoKICAgICAgICAjICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgIyAgICBvdXRjb21lLmZhaWx1cmVzLmFwcGVuZChzeXMuZXhjX2luZm8oKSkKICAgICAgICAjICAgIGV4Y19pbmZvID0gc3lzLmV4Y19pbmZvKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIG91dGNvbWUuc3VjY2VzcyA9IEZhbHNlCiAgICAgICAgICAgIG91dGNvbWUuZXJyb3JzLmFwcGVuZChzeXMuZXhjX2luZm8oKSkKCiAgICBkZWYgcnVuKHNlbGYsIHJlc3VsdD1Ob25lKToKICAgICAgICBvcmlnX3Jlc3VsdCA9IHJlc3VsdAogICAgICAgIGlmIHJlc3VsdCBpcyBOb25lOgogICAgICAgICAgICByZXN1bHQgPSBzZWxmLmRlZmF1bHRUZXN0UmVzdWx0KCkKICAgICAgICAgICAgc3RhcnRUZXN0UnVuID0gZ2V0YXR0cihyZXN1bHQsICdzdGFydFRlc3RSdW4nLCBOb25lKQogICAgICAgICAgICBpZiBzdGFydFRlc3RSdW4gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBzdGFydFRlc3RSdW4oKQoKICAgICAgICByZXN1bHQuc3RhcnRUZXN0KHNlbGYpCgogICAgICAgIHRlc3RNZXRob2QgPSBnZXRhdHRyKHNlbGYsIHNlbGYuX3Rlc3RNZXRob2ROYW1lKQogICAgICAgIGlmIChnZXRhdHRyKHNlbGYuX19jbGFzc19fLCAiX191bml0dGVzdF9za2lwX18iLCBGYWxzZSkgb3IKICAgICAgICAgICAgZ2V0YXR0cih0ZXN0TWV0aG9kLCAiX191bml0dGVzdF9za2lwX18iLCBGYWxzZSkpOgogICAgICAgICAgICAjIElmIHRoZSBjbGFzcyBvciBtZXRob2Qgd2FzIHNraXBwZWQuCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNraXBfd2h5ID0gKGdldGF0dHIoc2VsZi5fX2NsYXNzX18sICdfX3VuaXR0ZXN0X3NraXBfd2h5X18nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGdldGF0dHIodGVzdE1ldGhvZCwgJ19fdW5pdHRlc3Rfc2tpcF93aHlfXycsICcnKSkKICAgICAgICAgICAgICAgIHNlbGYuX2FkZFNraXAocmVzdWx0LCBza2lwX3doeSkKICAgICAgICAgICAgZmluYWxseToKICAgICAgICAgICAgICAgIHJlc3VsdC5zdG9wVGVzdChzZWxmKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dGNvbWUgPSBfT3V0Y29tZSgpCiAgICAgICAgICAgIHNlbGYuX291dGNvbWVGb3JEb0NsZWFudXBzID0gb3V0Y29tZQoKICAgICAgICAgICAgc2VsZi5fZXhlY3V0ZVRlc3RQYXJ0KHNlbGYuc2V0VXAsIG91dGNvbWUpCiAgICAgICAgICAgIGlmIG91dGNvbWUuc3VjY2VzczoKICAgICAgICAgICAgICAgIHNlbGYuX2V4ZWN1dGVUZXN0UGFydCh0ZXN0TWV0aG9kLCBvdXRjb21lLCBpc1Rlc3Q9VHJ1ZSkKICAgICAgICAgICAgICAgIHNlbGYuX2V4ZWN1dGVUZXN0UGFydChzZWxmLnRlYXJEb3duLCBvdXRjb21lKQoKICAgICAgICAgICAgc2VsZi5kb0NsZWFudXBzKCkKICAgICAgICAgICAgaWYgb3V0Y29tZS5zdWNjZXNzOgogICAgICAgICAgICAgICAgcmVzdWx0LmFkZFN1Y2Nlc3Moc2VsZikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIG91dGNvbWUuc2tpcHBlZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZGRTa2lwKHJlc3VsdCwgb3V0Y29tZS5za2lwcGVkKQogICAgICAgICAgICAgICAgZm9yIGV4Y19pbmZvIGluIG91dGNvbWUuZXJyb3JzOgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcihzZWxmLCBleGNfaW5mbykKICAgICAgICAgICAgICAgIGZvciBleGNfaW5mbyBpbiBvdXRjb21lLmZhaWx1cmVzOgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRGYWlsdXJlKHNlbGYsIGV4Y19pbmZvKQogICAgICAgICAgICAgICAgaWYgb3V0Y29tZS51bmV4cGVjdGVkU3VjY2VzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhZGRVbmV4cGVjdGVkU3VjY2VzcyA9IGdldGF0dHIocmVzdWx0LCAnYWRkVW5leHBlY3RlZFN1Y2Nlc3MnLCBOb25lKQogICAgICAgICAgICAgICAgICAgIGlmIGFkZFVuZXhwZWN0ZWRTdWNjZXNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBhZGRVbmV4cGVjdGVkU3VjY2VzcyhzZWxmKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLndhcm4oIlRlc3RSZXN1bHQgaGFzIG5vIGFkZFVuZXhwZWN0ZWRTdWNjZXNzIG1ldGhvZCwgcmVwb3J0aW5nIGFzIGZhaWx1cmVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdW50aW1lV2FybmluZykKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZEZhaWx1cmUoc2VsZiwgb3V0Y29tZS51bmV4cGVjdGVkU3VjY2VzcykKCiAgICAgICAgICAgICAgICBpZiBvdXRjb21lLmV4cGVjdGVkRmFpbHVyZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhZGRFeHBlY3RlZEZhaWx1cmUgPSBnZXRhdHRyKHJlc3VsdCwgJ2FkZEV4cGVjdGVkRmFpbHVyZScsIE5vbmUpCiAgICAgICAgICAgICAgICAgICAgaWYgYWRkRXhwZWN0ZWRGYWlsdXJlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICBhZGRFeHBlY3RlZEZhaWx1cmUoc2VsZiwgb3V0Y29tZS5leHBlY3RlZEZhaWx1cmUpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3Mud2FybigiVGVzdFJlc3VsdCBoYXMgbm8gYWRkRXhwZWN0ZWRGYWlsdXJlIG1ldGhvZCwgcmVwb3J0aW5nIGFzIHBhc3NlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVdhcm5pbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRTdWNjZXNzKHNlbGYpCgogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHJlc3VsdC5zdG9wVGVzdChzZWxmKQogICAgICAgICAgICBpZiBvcmlnX3Jlc3VsdCBpcyBOb25lOgogICAgICAgICAgICAgICAgc3RvcFRlc3RSdW4gPSBnZXRhdHRyKHJlc3VsdCwgJ3N0b3BUZXN0UnVuJywgTm9uZSkKICAgICAgICAgICAgICAgIGlmIHN0b3BUZXN0UnVuIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHN0b3BUZXN0UnVuKCkKCiAgICBkZWYgZG9DbGVhbnVwcyhzZWxmKToKICAgICAgICAiIiJFeGVjdXRlIGFsbCBjbGVhbnVwIGZ1bmN0aW9ucy4gTm9ybWFsbHkgY2FsbGVkIGZvciB5b3UgYWZ0ZXIKICAgICAgICB0ZWFyRG93bi4iIiIKICAgICAgICBvdXRjb21lID0gc2VsZi5fb3V0Y29tZUZvckRvQ2xlYW51cHMgb3IgX091dGNvbWUoKQogICAgICAgIHdoaWxlIHNlbGYuX2NsZWFudXBzOgogICAgICAgICAgICBmdW5jdGlvbiwgYXJncywga3dhcmdzID0gc2VsZi5fY2xlYW51cHMucG9wKCkKICAgICAgICAgICAgcGFydCA9IGxhbWJkYTogZnVuY3Rpb24oKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICBzZWxmLl9leGVjdXRlVGVzdFBhcnQocGFydCwgb3V0Y29tZSkKCiAgICAgICAgIyByZXR1cm4gdGhpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkKICAgICAgICAjIGV2ZW4gdGhvdWdoIHdlIG5vIGxvbmdlciB1cyBpdCBpbnRlcm5hbGx5CiAgICAgICAgcmV0dXJuIG91dGNvbWUuc3VjY2VzcwoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCAqYXJncywgKiprd2RzKToKICAgICAgICByZXR1cm4gc2VsZi5ydW4oKmFyZ3MsICoqa3dkcykKCiAgICBkZWYgZGVidWcoc2VsZik6CiAgICAgICAgIiIiUnVuIHRoZSB0ZXN0IHdpdGhvdXQgY29sbGVjdGluZyBlcnJvcnMgaW4gYSBUZXN0UmVzdWx0IiIiCiAgICAgICAgc2VsZi5zZXRVcCgpCiAgICAgICAgZ2V0YXR0cihzZWxmLCBzZWxmLl90ZXN0TWV0aG9kTmFtZSkoKQogICAgICAgIHNlbGYudGVhckRvd24oKQogICAgICAgIHdoaWxlIHNlbGYuX2NsZWFudXBzOgogICAgICAgICAgICBmdW5jdGlvbiwgYXJncywga3dhcmdzID0gc2VsZi5fY2xlYW51cHMucG9wKC0xKQogICAgICAgICAgICBmdW5jdGlvbigqYXJncywgKiprd2FyZ3MpCgogICAgZGVmIHNraXBUZXN0KHNlbGYsIHJlYXNvbik6CiAgICAgICAgIiIiU2tpcCB0aGlzIHRlc3QuIiIiCiAgICAgICAgcmFpc2UgU2tpcFRlc3QocmVhc29uKQoKICAgIGRlZiBmYWlsKHNlbGYsIG1zZz1Ob25lKToKICAgICAgICAiIiJGYWlsIGltbWVkaWF0ZWx5LCB3aXRoIHRoZSBnaXZlbiBtZXNzYWdlLiIiIgogICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbihtc2cpCgogICAgZGVmIGFzc2VydEZhbHNlKHNlbGYsIGV4cHIsIG1zZz1Ob25lKToKICAgICAgICAiIiJDaGVjayB0aGF0IHRoZSBleHByZXNzaW9uIGlzIGZhbHNlLiIiIgogICAgICAgIGlmIGV4cHI6CiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCAiJXMgaXMgbm90IGZhbHNlIiAlIHNhZmVfcmVwcihleHByKSkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0VHJ1ZShzZWxmLCBleHByLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiQ2hlY2sgdGhhdCB0aGUgZXhwcmVzc2lvbiBpcyB0cnVlLiIiIgogICAgICAgIGlmIG5vdCBleHByOgogICAgICAgICAgICBtc2cgPSBzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgIiVzIGlzIG5vdCB0cnVlIiAlIHNhZmVfcmVwcihleHByKSkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgX2Zvcm1hdE1lc3NhZ2Uoc2VsZiwgbXNnLCBzdGFuZGFyZE1zZyk6CiAgICAgICAgIiIiSG9ub3VyIHRoZSBsb25nTWVzc2FnZSBhdHRyaWJ1dGUgd2hlbiBnZW5lcmF0aW5nIGZhaWx1cmUgbWVzc2FnZXMuCiAgICAgICAgSWYgbG9uZ01lc3NhZ2UgaXMgRmFsc2UgdGhpcyBtZWFuczoKICAgICAgICAqIFVzZSBvbmx5IGFuIGV4cGxpY2l0IG1lc3NhZ2UgaWYgaXQgaXMgcHJvdmlkZWQKICAgICAgICAqIE90aGVyd2lzZSB1c2UgdGhlIHN0YW5kYXJkIG1lc3NhZ2UgZm9yIHRoZSBhc3NlcnQKCiAgICAgICAgSWYgbG9uZ01lc3NhZ2UgaXMgVHJ1ZToKICAgICAgICAqIFVzZSB0aGUgc3RhbmRhcmQgbWVzc2FnZQogICAgICAgICogSWYgYW4gZXhwbGljaXQgbWVzc2FnZSBpcyBwcm92aWRlZCwgcGx1cyAnIDogJyBhbmQgdGhlIGV4cGxpY2l0IG1lc3NhZ2UKICAgICAgICAiIiIKICAgICAgICBpZiBub3Qgc2VsZi5sb25nTWVzc2FnZToKICAgICAgICAgICAgcmV0dXJuIG1zZyBvciBzdGFuZGFyZE1zZwogICAgICAgIGlmIG1zZyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gc3RhbmRhcmRNc2cKICAgICAgICB0cnk6CiAgICAgICAgICAgICMgZG9uJ3Qgc3dpdGNoIHRvICd7fScgZm9ybWF0dGluZyBpbiBQeXRob24gMi5YCiAgICAgICAgICAgICMgaXQgY2hhbmdlcyB0aGUgd2F5IHVuaWNvZGUgaW5wdXQgaXMgaGFuZGxlZAogICAgICAgICAgICByZXR1cm4gJyVzIDogJXMnICUgKHN0YW5kYXJkTXNnLCBtc2cpCiAgICAgICAgZXhjZXB0IFVuaWNvZGVEZWNvZGVFcnJvcjoKICAgICAgICAgICAgcmV0dXJuICAnJXMgOiAlcycgJSAoc2FmZV9yZXByKHN0YW5kYXJkTXNnKSwgc2FmZV9yZXByKG1zZykpCgoKICAgIGRlZiBhc3NlcnRSYWlzZXMoc2VsZiwgZXhjQ2xhc3MsIGNhbGxhYmxlT2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiRmFpbCB1bmxlc3MgYW4gZXhjZXB0aW9uIG9mIGNsYXNzIGV4Y0NsYXNzIGlzIHRocm93bgogICAgICAgICAgIGJ5IGNhbGxhYmxlT2JqIHdoZW4gaW52b2tlZCB3aXRoIGFyZ3VtZW50cyBhcmdzIGFuZCBrZXl3b3JkCiAgICAgICAgICAgYXJndW1lbnRzIGt3YXJncy4gSWYgYSBkaWZmZXJlbnQgdHlwZSBvZiBleGNlcHRpb24gaXMKICAgICAgICAgICB0aHJvd24sIGl0IHdpbGwgbm90IGJlIGNhdWdodCwgYW5kIHRoZSB0ZXN0IGNhc2Ugd2lsbCBiZQogICAgICAgICAgIGRlZW1lZCB0byBoYXZlIHN1ZmZlcmVkIGFuIGVycm9yLCBleGFjdGx5IGFzIGZvciBhbgogICAgICAgICAgIHVuZXhwZWN0ZWQgZXhjZXB0aW9uLgoKICAgICAgICAgICBJZiBjYWxsZWQgd2l0aCBjYWxsYWJsZU9iaiBvbWl0dGVkIG9yIE5vbmUsIHdpbGwgcmV0dXJuIGEKICAgICAgICAgICBjb250ZXh0IG9iamVjdCB1c2VkIGxpa2UgdGhpczo6CgogICAgICAgICAgICAgICAgd2l0aCBzZWxmLmFzc2VydFJhaXNlcyhTb21lRXhjZXB0aW9uKToKICAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQoKICAgICAgICAgICBUaGUgY29udGV4dCBtYW5hZ2VyIGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBleGNlcHRpb24gYXMKICAgICAgICAgICB0aGUgJ2V4Y2VwdGlvbicgYXR0cmlidXRlLiBUaGlzIGFsbG93cyB5b3UgdG8gaW5zcGVjdCB0aGUKICAgICAgICAgICBleGNlcHRpb24gYWZ0ZXIgdGhlIGFzc2VydGlvbjo6CgogICAgICAgICAgICAgICB3aXRoIHNlbGYuYXNzZXJ0UmFpc2VzKFNvbWVFeGNlcHRpb24pIGFzIGNtOgogICAgICAgICAgICAgICAgICAgZG9fc29tZXRoaW5nKCkKICAgICAgICAgICAgICAgdGhlX2V4Y2VwdGlvbiA9IGNtLmV4Y2VwdGlvbgogICAgICAgICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHRoZV9leGNlcHRpb24uZXJyb3JfY29kZSwgMykKICAgICAgICAiIiIKICAgICAgICBjb250ZXh0ID0gX0Fzc2VydFJhaXNlc0NvbnRleHQoZXhjQ2xhc3MsIHNlbGYsIGNhbGxhYmxlT2JqKQogICAgICAgIGlmIGNhbGxhYmxlT2JqIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBjb250ZXh0CiAgICAgICAgI2ZpeG1lIGJyeXRob24gc3ludGF4IGVycm9yCiAgICAgICAgI3dpdGggY29udGV4dDoKICAgICAgICAjICAgIGNhbGxhYmxlT2JqKCphcmdzLCAqKmt3YXJncykKCiAgICBkZWYgYXNzZXJ0V2FybnMoc2VsZiwgZXhwZWN0ZWRfd2FybmluZywgY2FsbGFibGVfb2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiRmFpbCB1bmxlc3MgYSB3YXJuaW5nIG9mIGNsYXNzIHdhcm5DbGFzcyBpcyB0cmlnZ2VyZWQKICAgICAgICAgICBieSBjYWxsYWJsZU9iaiB3aGVuIGludm9rZWQgd2l0aCBhcmd1bWVudHMgYXJncyBhbmQga2V5d29yZAogICAgICAgICAgIGFyZ3VtZW50cyBrd2FyZ3MuICBJZiBhIGRpZmZlcmVudCB0eXBlIG9mIHdhcm5pbmcgaXMKICAgICAgICAgICB0cmlnZ2VyZWQsIGl0IHdpbGwgbm90IGJlIGhhbmRsZWQ6IGRlcGVuZGluZyBvbiB0aGUgb3RoZXIKICAgICAgICAgICB3YXJuaW5nIGZpbHRlcmluZyBydWxlcyBpbiBlZmZlY3QsIGl0IG1pZ2h0IGJlIHNpbGVuY2VkLCBwcmludGVkCiAgICAgICAgICAgb3V0LCBvciByYWlzZWQgYXMgYW4gZXhjZXB0aW9uLgoKICAgICAgICAgICBJZiBjYWxsZWQgd2l0aCBjYWxsYWJsZU9iaiBvbWl0dGVkIG9yIE5vbmUsIHdpbGwgcmV0dXJuIGEKICAgICAgICAgICBjb250ZXh0IG9iamVjdCB1c2VkIGxpa2UgdGhpczo6CgogICAgICAgICAgICAgICAgd2l0aCBzZWxmLmFzc2VydFdhcm5zKFNvbWVXYXJuaW5nKToKICAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQoKICAgICAgICAgICBUaGUgY29udGV4dCBtYW5hZ2VyIGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBmaXJzdCBtYXRjaGluZwogICAgICAgICAgIHdhcm5pbmcgYXMgdGhlICd3YXJuaW5nJyBhdHRyaWJ1dGU7IHNpbWlsYXJseSwgdGhlICdmaWxlbmFtZScKICAgICAgICAgICBhbmQgJ2xpbmVubycgYXR0cmlidXRlcyBnaXZlIHlvdSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluZQogICAgICAgICAgIG9mIFB5dGhvbiBjb2RlIGZyb20gd2hpY2ggdGhlIHdhcm5pbmcgd2FzIHRyaWdnZXJlZC4KICAgICAgICAgICBUaGlzIGFsbG93cyB5b3UgdG8gaW5zcGVjdCB0aGUgd2FybmluZyBhZnRlciB0aGUgYXNzZXJ0aW9uOjoKCiAgICAgICAgICAgICAgIHdpdGggc2VsZi5hc3NlcnRXYXJucyhTb21lV2FybmluZykgYXMgY206CiAgICAgICAgICAgICAgICAgICBkb19zb21ldGhpbmcoKQogICAgICAgICAgICAgICB0aGVfd2FybmluZyA9IGNtLndhcm5pbmcKICAgICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbCh0aGVfd2FybmluZy5zb21lX2F0dHJpYnV0ZSwgMTQ3KQogICAgICAgICIiIgogICAgICAgIGNvbnRleHQgPSBfQXNzZXJ0V2FybnNDb250ZXh0KGV4cGVjdGVkX3dhcm5pbmcsIHNlbGYsIGNhbGxhYmxlX29iaikKICAgICAgICBpZiBjYWxsYWJsZV9vYmogaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQKICAgICAgICAjZml4bWUgYnJ5dGhvbiBzeW50YXggZXJyb3IKICAgICAgICAjd2l0aCBjb250ZXh0OgogICAgICAgICMgICAgY2FsbGFibGVfb2JqKCphcmdzLCAqKmt3YXJncykKCiAgICBkZWYgX2dldEFzc2VydEVxdWFsaXR5RnVuYyhzZWxmLCBmaXJzdCwgc2Vjb25kKToKICAgICAgICAiIiJHZXQgYSBkZXRhaWxlZCBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciB0aGUgdHlwZXMgb2YgdGhlIHR3byBhcmdzLgoKICAgICAgICBSZXR1cm5zOiBBIGNhbGxhYmxlIGFjY2VwdGluZyAoZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpIHRoYXQgd2lsbAogICAgICAgIHJhaXNlIGEgZmFpbHVyZSBleGNlcHRpb24gaWYgZmlyc3QgIT0gc2Vjb25kIHdpdGggYSB1c2VmdWwgaHVtYW4KICAgICAgICByZWFkYWJsZSBlcnJvciBtZXNzYWdlIGZvciB0aG9zZSB0eXBlcy4KICAgICAgICAiIiIKICAgICAgICAjCiAgICAgICAgIyBOT1RFKGdyZWdvcnkucC5zbWl0aCk6IEkgY29uc2lkZXJlZCBpc2luc3RhbmNlKGZpcnN0LCB0eXBlKHNlY29uZCkpCiAgICAgICAgIyBhbmQgdmljZSB2ZXJzYS4gIEkgb3B0ZWQgZm9yIHRoZSBjb25zZXJ2YXRpdmUgYXBwcm9hY2ggaW4gY2FzZQogICAgICAgICMgc3ViY2xhc3NlcyBhcmUgbm90IGludGVuZGVkIHRvIGJlIGNvbXBhcmVkIGluIGRldGFpbCB0byB0aGVpciBzdXBlcgogICAgICAgICMgY2xhc3MgaW5zdGFuY2VzIHVzaW5nIGEgdHlwZSBlcXVhbGl0eSBmdW5jLiAgVGhpcyBtZWFucyB0ZXN0aW5nCiAgICAgICAgIyBzdWJ0eXBlcyB3b24ndCBhdXRvbWFnaWNhbGx5IHVzZSB0aGUgZGV0YWlsZWQgY29tcGFyaXNvbi4gIENhbGxlcnMKICAgICAgICAjIHNob3VsZCB1c2UgdGhlaXIgdHlwZSBzcGVjaWZpYyBhc3NlcnRTcGFtRXF1YWwgbWV0aG9kIHRvIGNvbXBhcmUKICAgICAgICAjIHN1YmNsYXNzZXMgaWYgdGhlIGRldGFpbGVkIGNvbXBhcmlzb24gaXMgZGVzaXJlZCBhbmQgYXBwcm9wcmlhdGUuCiAgICAgICAgIyBTZWUgdGhlIGRpc2N1c3Npb24gaW4gaHR0cDovL2J1Z3MucHl0aG9uLm9yZy9pc3N1ZTI1NzguCiAgICAgICAgIwogICAgICAgIGlmIHR5cGUoZmlyc3QpIGlzIHR5cGUoc2Vjb25kKToKICAgICAgICAgICAgYXNzZXJ0ZXIgPSBzZWxmLl90eXBlX2VxdWFsaXR5X2Z1bmNzLmdldCh0eXBlKGZpcnN0KSkKICAgICAgICAgICAgaWYgYXNzZXJ0ZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGFzc2VydGVyLCBzdHIpOgogICAgICAgICAgICAgICAgICAgIGFzc2VydGVyID0gZ2V0YXR0cihzZWxmLCBhc3NlcnRlcikKICAgICAgICAgICAgICAgIHJldHVybiBhc3NlcnRlcgoKICAgICAgICByZXR1cm4gc2VsZi5fYmFzZUFzc2VydEVxdWFsCgogICAgZGVmIF9iYXNlQXNzZXJ0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpOgogICAgICAgICIiIlRoZSBkZWZhdWx0IGFzc2VydEVxdWFsIGltcGxlbWVudGF0aW9uLCBub3QgdHlwZSBzcGVjaWZpYy4iIiIKICAgICAgICBpZiBub3QgZmlyc3QgPT0gc2Vjb25kOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyAhPSAlcycgJSAoc2FmZV9yZXByKGZpcnN0KSwgc2FmZV9yZXByKHNlY29uZCkpCiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgaWYgdGhlIHR3byBvYmplY3RzIGFyZSB1bmVxdWFsIGFzIGRldGVybWluZWQgYnkgdGhlICc9PScKICAgICAgICAgICBvcGVyYXRvci4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnRpb25fZnVuYyA9IHNlbGYuX2dldEFzc2VydEVxdWFsaXR5RnVuYyhmaXJzdCwgc2Vjb25kKQogICAgICAgIGFzc2VydGlvbl9mdW5jKGZpcnN0LCBzZWNvbmQsIG1zZz1tc2cpCgogICAgZGVmIGFzc2VydE5vdEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIG1zZz1Ob25lKToKICAgICAgICAiIiJGYWlsIGlmIHRoZSB0d28gb2JqZWN0cyBhcmUgZXF1YWwgYXMgZGV0ZXJtaW5lZCBieSB0aGUgJz09JwogICAgICAgICAgIG9wZXJhdG9yLgogICAgICAgICIiIgogICAgICAgIGlmIG5vdCBmaXJzdCAhPSBzZWNvbmQ6CiAgICAgICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCAnJXMgPT0gJXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoc2Vjb25kKSkpCiAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbihtc2cpCgogICAgZGVmIGFzc2VydEFsbW9zdEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIHBsYWNlcz1Ob25lLCBtc2c9Tm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YT1Ob25lKToKICAgICAgICAiIiJGYWlsIGlmIHRoZSB0d28gb2JqZWN0cyBhcmUgdW5lcXVhbCBhcyBkZXRlcm1pbmVkIGJ5IHRoZWlyCiAgICAgICAgICAgZGlmZmVyZW5jZSByb3VuZGVkIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMKICAgICAgICAgICAoZGVmYXVsdCA3KSBhbmQgY29tcGFyaW5nIHRvIHplcm8sIG9yIGJ5IGNvbXBhcmluZyB0aGF0IHRoZQogICAgICAgICAgIGJldHdlZW4gdGhlIHR3byBvYmplY3RzIGlzIG1vcmUgdGhhbiB0aGUgZ2l2ZW4gZGVsdGEuCgogICAgICAgICAgIE5vdGUgdGhhdCBkZWNpbWFsIHBsYWNlcyAoZnJvbSB6ZXJvKSBhcmUgdXN1YWxseSBub3QgdGhlIHNhbWUKICAgICAgICAgICBhcyBzaWduaWZpY2FudCBkaWdpdHMgKG1lYXN1cmVkIGZyb20gdGhlIG1vc3Qgc2lnbmZpY2FudCBkaWdpdCkuCgogICAgICAgICAgIElmIHRoZSB0d28gb2JqZWN0cyBjb21wYXJlIGVxdWFsIHRoZW4gdGhleSB3aWxsIGF1dG9tYXRpY2FsbHkKICAgICAgICAgICBjb21wYXJlIGFsbW9zdCBlcXVhbC4KICAgICAgICAiIiIKICAgICAgICBpZiBmaXJzdCA9PSBzZWNvbmQ6CiAgICAgICAgICAgICMgc2hvcnRjdXQKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgZGVsdGEgaXMgbm90IE5vbmUgYW5kIHBsYWNlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJzcGVjaWZ5IGRlbHRhIG9yIHBsYWNlcyBub3QgYm90aCIpCgogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBhYnMoZmlyc3QgLSBzZWNvbmQpIDw9IGRlbHRhOgogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyAhPSAlcyB3aXRoaW4gJXMgZGVsdGEnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGRlbHRhKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBwbGFjZXMgaXMgTm9uZToKICAgICAgICAgICAgICAgIHBsYWNlcyA9IDcKCiAgICAgICAgICAgIGlmIHJvdW5kKGFicyhzZWNvbmQtZmlyc3QpLCBwbGFjZXMpID09IDA6CiAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzICE9ICVzIHdpdGhpbiAlciBwbGFjZXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoc2Vjb25kKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlcykKICAgICAgICBtc2cgPSBzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpCiAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0Tm90QWxtb3N0RXF1YWwoc2VsZiwgZmlyc3QsIHNlY29uZCwgcGxhY2VzPU5vbmUsIG1zZz1Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhPU5vbmUpOgogICAgICAgICIiIkZhaWwgaWYgdGhlIHR3byBvYmplY3RzIGFyZSBlcXVhbCBhcyBkZXRlcm1pbmVkIGJ5IHRoZWlyCiAgICAgICAgICAgZGlmZmVyZW5jZSByb3VuZGVkIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMKICAgICAgICAgICAoZGVmYXVsdCA3KSBhbmQgY29tcGFyaW5nIHRvIHplcm8sIG9yIGJ5IGNvbXBhcmluZyB0aGF0IHRoZQogICAgICAgICAgIGJldHdlZW4gdGhlIHR3byBvYmplY3RzIGlzIGxlc3MgdGhhbiB0aGUgZ2l2ZW4gZGVsdGEuCgogICAgICAgICAgIE5vdGUgdGhhdCBkZWNpbWFsIHBsYWNlcyAoZnJvbSB6ZXJvKSBhcmUgdXN1YWxseSBub3QgdGhlIHNhbWUKICAgICAgICAgICBhcyBzaWduaWZpY2FudCBkaWdpdHMgKG1lYXN1cmVkIGZyb20gdGhlIG1vc3Qgc2lnbmZpY2FudCBkaWdpdCkuCgogICAgICAgICAgIE9iamVjdHMgdGhhdCBhcmUgZXF1YWwgYXV0b21hdGljYWxseSBmYWlsLgogICAgICAgICIiIgogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lIGFuZCBwbGFjZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigic3BlY2lmeSBkZWx0YSBvciBwbGFjZXMgbm90IGJvdGgiKQogICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBub3QgKGZpcnN0ID09IHNlY29uZCkgYW5kIGFicyhmaXJzdCAtIHNlY29uZCkgPiBkZWx0YToKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyA9PSAlcyB3aXRoaW4gJXMgZGVsdGEnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGRlbHRhKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBwbGFjZXMgaXMgTm9uZToKICAgICAgICAgICAgICAgIHBsYWNlcyA9IDcKICAgICAgICAgICAgaWYgbm90IChmaXJzdCA9PSBzZWNvbmQpIGFuZCByb3VuZChhYnMoc2Vjb25kLWZpcnN0KSwgcGxhY2VzKSAhPSAwOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzID09ICVzIHdpdGhpbiAlciBwbGFjZXMnICUgKHNhZmVfcmVwcihmaXJzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihzZWNvbmQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZXMpCgogICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24obXNnKQoKCiAgICBkZWYgYXNzZXJ0U2VxdWVuY2VFcXVhbChzZWxmLCBzZXExLCBzZXEyLCBtc2c9Tm9uZSwgc2VxX3R5cGU9Tm9uZSk6CiAgICAgICAgIiIiQW4gZXF1YWxpdHkgYXNzZXJ0aW9uIGZvciBvcmRlcmVkIHNlcXVlbmNlcyAobGlrZSBsaXN0cyBhbmQgdHVwbGVzKS4KCiAgICAgICAgRm9yIHRoZSBwdXJwb3NlcyBvZiB0aGlzIGZ1bmN0aW9uLCBhIHZhbGlkIG9yZGVyZWQgc2VxdWVuY2UgdHlwZSBpcyBvbmUKICAgICAgICB3aGljaCBjYW4gYmUgaW5kZXhlZCwgaGFzIGEgbGVuZ3RoLCBhbmQgaGFzIGFuIGVxdWFsaXR5IG9wZXJhdG9yLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZXExOiBUaGUgZmlyc3Qgc2VxdWVuY2UgdG8gY29tcGFyZS4KICAgICAgICAgICAgc2VxMjogVGhlIHNlY29uZCBzZXF1ZW5jZSB0byBjb21wYXJlLgogICAgICAgICAgICBzZXFfdHlwZTogVGhlIGV4cGVjdGVkIGRhdGF0eXBlIG9mIHRoZSBzZXF1ZW5jZXMsIG9yIE5vbmUgaWYgbm8KICAgICAgICAgICAgICAgICAgICBkYXRhdHlwZSBzaG91bGQgYmUgZW5mb3JjZWQuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgogICAgICAgICIiIgogICAgICAgIGlmIHNlcV90eXBlICE9IE5vbmU6CiAgICAgICAgICAgIHNlcV90eXBlX25hbWUgPSBzZXFfdHlwZS5fX25hbWVfXwogICAgICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShzZXExLCBzZXFfdHlwZSk6CiAgICAgICAgICAgICAgICByYWlzZSBzZWxmLmZhaWx1cmVFeGNlcHRpb24oJ0ZpcnN0IHNlcXVlbmNlIGlzIG5vdCBhICVzOiAlcycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgKHNlcV90eXBlX25hbWUsIHNhZmVfcmVwcihzZXExKSkpCiAgICAgICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHNlcTIsIHNlcV90eXBlKToKICAgICAgICAgICAgICAgIHJhaXNlIHNlbGYuZmFpbHVyZUV4Y2VwdGlvbignU2Vjb25kIHNlcXVlbmNlIGlzIG5vdCBhICVzOiAlcycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgKHNlcV90eXBlX25hbWUsIHNhZmVfcmVwcihzZXEyKSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VxX3R5cGVfbmFtZSA9ICJzZXF1ZW5jZSIKCiAgICAgICAgZGlmZmVyaW5nID0gTm9uZQogICAgICAgIHRyeToKICAgICAgICAgICAgbGVuMSA9IGxlbihzZXExKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgZGlmZmVyaW5nID0gJ0ZpcnN0ICVzIGhhcyBubyBsZW5ndGguICAgIE5vbi1zZXF1ZW5jZT8nICUgKAogICAgICAgICAgICAgICAgICAgIHNlcV90eXBlX25hbWUpCgogICAgICAgIGlmIGRpZmZlcmluZyBpcyBOb25lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBsZW4yID0gbGVuKHNlcTIpCiAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgIGRpZmZlcmluZyA9ICdTZWNvbmQgJXMgaGFzIG5vIGxlbmd0aC4gICAgTm9uLXNlcXVlbmNlPycgJSAoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcV90eXBlX25hbWUpCgogICAgICAgIGlmIGRpZmZlcmluZyBpcyBOb25lOgogICAgICAgICAgICBpZiBzZXExID09IHNlcTI6CiAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgIHNlcTFfcmVwciA9IHNhZmVfcmVwcihzZXExKQogICAgICAgICAgICBzZXEyX3JlcHIgPSBzYWZlX3JlcHIoc2VxMikKICAgICAgICAgICAgaWYgbGVuKHNlcTFfcmVwcikgPiAzMDoKICAgICAgICAgICAgICAgIHNlcTFfcmVwciA9IHNlcTFfcmVwcls6MzBdICsgJy4uLicKICAgICAgICAgICAgaWYgbGVuKHNlcTJfcmVwcikgPiAzMDoKICAgICAgICAgICAgICAgIHNlcTJfcmVwciA9IHNlcTJfcmVwcls6MzBdICsgJy4uLicKICAgICAgICAgICAgZWxlbWVudHMgPSAoc2VxX3R5cGVfbmFtZS5jYXBpdGFsaXplKCksIHNlcTFfcmVwciwgc2VxMl9yZXByKQogICAgICAgICAgICBkaWZmZXJpbmcgPSAnJXNzIGRpZmZlcjogJXMgIT0gJXNcbicgJSBlbGVtZW50cwoKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobWluKGxlbjEsIGxlbjIpKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBpdGVtMSA9IHNlcTFbaV0KICAgICAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBJbmRleEVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdcblVuYWJsZSB0byBpbmRleCBlbGVtZW50ICVkIG9mIGZpcnN0ICVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGksIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGl0ZW0yID0gc2VxMltpXQogICAgICAgICAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIEluZGV4RXJyb3IsIE5vdEltcGxlbWVudGVkRXJyb3IpOgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmluZyArPSAoJ1xuVW5hYmxlIHRvIGluZGV4IGVsZW1lbnQgJWQgb2Ygc2Vjb25kICVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGksIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgaWYgaXRlbTEgIT0gaXRlbTI6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnXG5GaXJzdCBkaWZmZXJpbmcgZWxlbWVudCAlZDpcbiVzXG4lc1xuJyAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpLCBpdGVtMSwgaXRlbTIpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiAobGVuMSA9PSBsZW4yIGFuZCBzZXFfdHlwZSBpcyBOb25lIGFuZAogICAgICAgICAgICAgICAgICAgIHR5cGUoc2VxMSkgIT0gdHlwZShzZXEyKSk6CiAgICAgICAgICAgICAgICAgICAgIyBUaGUgc2VxdWVuY2VzIGFyZSB0aGUgc2FtZSwgYnV0IGhhdmUgZGlmZmVyaW5nIHR5cGVzLgogICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgaWYgbGVuMSA+IGxlbjI6CiAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdcbkZpcnN0ICVzIGNvbnRhaW5zICVkIGFkZGl0aW9uYWwgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtZW50cy5cbicgJSAoc2VxX3R5cGVfbmFtZSwgbGVuMSAtIGxlbjIpKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmluZyArPSAoJ0ZpcnN0IGV4dHJhIGVsZW1lbnQgJWQ6XG4lc1xuJyAlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobGVuMiwgc2VxMVtsZW4yXSkpCiAgICAgICAgICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwgSW5kZXhFcnJvciwgTm90SW1wbGVtZW50ZWRFcnJvcik6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnVW5hYmxlIHRvIGluZGV4IGVsZW1lbnQgJWQgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29mIGZpcnN0ICVzXG4nICUgKGxlbjIsIHNlcV90eXBlX25hbWUpKQogICAgICAgICAgICBlbGlmIGxlbjEgPCBsZW4yOgogICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnXG5TZWNvbmQgJXMgY29udGFpbnMgJWQgYWRkaXRpb25hbCAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VsZW1lbnRzLlxuJyAlIChzZXFfdHlwZV9uYW1lLCBsZW4yIC0gbGVuMSkpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZGlmZmVyaW5nICs9ICgnRmlyc3QgZXh0cmEgZWxlbWVudCAlZDpcbiVzXG4nICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsZW4xLCBzZXEyW2xlbjFdKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBJbmRleEVycm9yLCBOb3RJbXBsZW1lbnRlZEVycm9yKToKICAgICAgICAgICAgICAgICAgICBkaWZmZXJpbmcgKz0gKCdVbmFibGUgdG8gaW5kZXggZWxlbWVudCAlZCAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2Ygc2Vjb25kICVzXG4nICUgKGxlbjEsIHNlcV90eXBlX25hbWUpKQogICAgICAgIHN0YW5kYXJkTXNnID0gZGlmZmVyaW5nCiAgICAgICAgZGlmZk1zZyA9ICdcbicgKyAnXG4nLmpvaW4oCiAgICAgICAgICAgIGRpZmZsaWIubmRpZmYocHByaW50LnBmb3JtYXQoc2VxMSkuc3BsaXRsaW5lcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBwcmludC5wZm9ybWF0KHNlcTIpLnNwbGl0bGluZXMoKSkpCgogICAgICAgIHN0YW5kYXJkTXNnID0gc2VsZi5fdHJ1bmNhdGVNZXNzYWdlKHN0YW5kYXJkTXNnLCBkaWZmTXNnKQogICAgICAgIG1zZyA9IHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykKICAgICAgICBzZWxmLmZhaWwobXNnKQoKICAgIGRlZiBfdHJ1bmNhdGVNZXNzYWdlKHNlbGYsIG1lc3NhZ2UsIGRpZmYpOgogICAgICAgIG1heF9kaWZmID0gc2VsZi5tYXhEaWZmCiAgICAgICAgaWYgbWF4X2RpZmYgaXMgTm9uZSBvciBsZW4oZGlmZikgPD0gbWF4X2RpZmY6CiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlICsgZGlmZgogICAgICAgIHJldHVybiBtZXNzYWdlICsgKERJRkZfT01JVFRFRCAlIGxlbihkaWZmKSkKCiAgICBkZWYgYXNzZXJ0TGlzdEVxdWFsKHNlbGYsIGxpc3QxLCBsaXN0MiwgbXNnPU5vbmUpOgogICAgICAgICIiIkEgbGlzdC1zcGVjaWZpYyBlcXVhbGl0eSBhc3NlcnRpb24uCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGxpc3QxOiBUaGUgZmlyc3QgbGlzdCB0byBjb21wYXJlLgogICAgICAgICAgICBsaXN0MjogVGhlIHNlY29uZCBsaXN0IHRvIGNvbXBhcmUuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgoKICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2VydFNlcXVlbmNlRXF1YWwobGlzdDEsIGxpc3QyLCBtc2csIHNlcV90eXBlPWxpc3QpCgogICAgZGVmIGFzc2VydFR1cGxlRXF1YWwoc2VsZiwgdHVwbGUxLCB0dXBsZTIsIG1zZz1Ob25lKToKICAgICAgICAiIiJBIHR1cGxlLXNwZWNpZmljIGVxdWFsaXR5IGFzc2VydGlvbi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgdHVwbGUxOiBUaGUgZmlyc3QgdHVwbGUgdG8gY29tcGFyZS4KICAgICAgICAgICAgdHVwbGUyOiBUaGUgc2Vjb25kIHR1cGxlIHRvIGNvbXBhcmUuCiAgICAgICAgICAgIG1zZzogT3B0aW9uYWwgbWVzc2FnZSB0byB1c2Ugb24gZmFpbHVyZSBpbnN0ZWFkIG9mIGEgbGlzdCBvZgogICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuYXNzZXJ0U2VxdWVuY2VFcXVhbCh0dXBsZTEsIHR1cGxlMiwgbXNnLCBzZXFfdHlwZT10dXBsZSkKCiAgICBkZWYgYXNzZXJ0U2V0RXF1YWwoc2VsZiwgc2V0MSwgc2V0MiwgbXNnPU5vbmUpOgogICAgICAgICIiIkEgc2V0LXNwZWNpZmljIGVxdWFsaXR5IGFzc2VydGlvbi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgc2V0MTogVGhlIGZpcnN0IHNldCB0byBjb21wYXJlLgogICAgICAgICAgICBzZXQyOiBUaGUgc2Vjb25kIHNldCB0byBjb21wYXJlLgogICAgICAgICAgICBtc2c6IE9wdGlvbmFsIG1lc3NhZ2UgdG8gdXNlIG9uIGZhaWx1cmUgaW5zdGVhZCBvZiBhIGxpc3Qgb2YKICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlcy4KCiAgICAgICAgYXNzZXJ0U2V0RXF1YWwgdXNlcyBkdWNrdHlwaW5nIHRvIHN1cHBvcnQgZGlmZmVyZW50IHR5cGVzIG9mIHNldHMsIGFuZAogICAgICAgIGlzIG9wdGltaXplZCBmb3Igc2V0cyBzcGVjaWZpY2FsbHkgKHBhcmFtZXRlcnMgbXVzdCBzdXBwb3J0IGEKICAgICAgICBkaWZmZXJlbmNlIG1ldGhvZCkuCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkaWZmZXJlbmNlMSA9IHNldDEuZGlmZmVyZW5jZShzZXQyKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3IgYXMgZToKICAgICAgICAgICAgc2VsZi5mYWlsKCdpbnZhbGlkIHR5cGUgd2hlbiBhdHRlbXB0aW5nIHNldCBkaWZmZXJlbmNlOiAlcycgJSBlKQogICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvciBhcyBlOgogICAgICAgICAgICBzZWxmLmZhaWwoJ2ZpcnN0IGFyZ3VtZW50IGRvZXMgbm90IHN1cHBvcnQgc2V0IGRpZmZlcmVuY2U6ICVzJyAlIGUpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZGlmZmVyZW5jZTIgPSBzZXQyLmRpZmZlcmVuY2Uoc2V0MSkKICAgICAgICBleGNlcHQgVHlwZUVycm9yIGFzIGU6CiAgICAgICAgICAgIHNlbGYuZmFpbCgnaW52YWxpZCB0eXBlIHdoZW4gYXR0ZW1wdGluZyBzZXQgZGlmZmVyZW5jZTogJXMnICUgZSkKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3IgYXMgZToKICAgICAgICAgICAgc2VsZi5mYWlsKCdzZWNvbmQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBzZXQgZGlmZmVyZW5jZTogJXMnICUgZSkKCiAgICAgICAgaWYgbm90IChkaWZmZXJlbmNlMSBvciBkaWZmZXJlbmNlMik6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgaWYgZGlmZmVyZW5jZTE6CiAgICAgICAgICAgIGxpbmVzLmFwcGVuZCgnSXRlbXMgaW4gdGhlIGZpcnN0IHNldCBidXQgbm90IHRoZSBzZWNvbmQ6JykKICAgICAgICAgICAgZm9yIGl0ZW0gaW4gZGlmZmVyZW5jZTE6CiAgICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQocmVwcihpdGVtKSkKICAgICAgICBpZiBkaWZmZXJlbmNlMjoKICAgICAgICAgICAgbGluZXMuYXBwZW5kKCdJdGVtcyBpbiB0aGUgc2Vjb25kIHNldCBidXQgbm90IHRoZSBmaXJzdDonKQogICAgICAgICAgICBmb3IgaXRlbSBpbiBkaWZmZXJlbmNlMjoKICAgICAgICAgICAgICAgIGxpbmVzLmFwcGVuZChyZXByKGl0ZW0pKQoKICAgICAgICBzdGFuZGFyZE1zZyA9ICdcbicuam9pbihsaW5lcykKICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SW4oc2VsZiwgbWVtYmVyLCBjb250YWluZXIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgaW4gYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIG1lbWJlciBub3QgaW4gY29udGFpbmVyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgZm91bmQgaW4gJXMnICUgKHNhZmVfcmVwcihtZW1iZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihjb250YWluZXIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0Tm90SW4oc2VsZiwgbWVtYmVyLCBjb250YWluZXIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgbm90IGluIGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBtZW1iZXIgaW4gY29udGFpbmVyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyB1bmV4cGVjdGVkbHkgZm91bmQgaW4gJXMnICUgKHNhZmVfcmVwcihtZW1iZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihjb250YWluZXIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SXMoc2VsZiwgZXhwcjEsIGV4cHIyLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSnVzdCBsaWtlIHNlbGYuYXNzZXJ0VHJ1ZShhIGlzIGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBleHByMSBpcyBub3QgZXhwcjI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCAlcycgJSAoc2FmZV9yZXByKGV4cHIxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKGV4cHIyKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydElzTm90KHNlbGYsIGV4cHIxLCBleHByMiwgbXNnPU5vbmUpOgogICAgICAgICIiIkp1c3QgbGlrZSBzZWxmLmFzc2VydFRydWUoYSBpcyBub3QgYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIGV4cHIxIGlzIGV4cHIyOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICd1bmV4cGVjdGVkbHkgaWRlbnRpY2FsOiAlcycgJSAoc2FmZV9yZXByKGV4cHIxKSwpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnREaWN0RXF1YWwoc2VsZiwgZDEsIGQyLCBtc2c9Tm9uZSk6CiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGQxLCBkaWN0LCAnRmlyc3QgYXJndW1lbnQgaXMgbm90IGEgZGljdGlvbmFyeScpCiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGQyLCBkaWN0LCAnU2Vjb25kIGFyZ3VtZW50IGlzIG5vdCBhIGRpY3Rpb25hcnknKQoKICAgICAgICBpZiBkMSAhPSBkMjoKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSAnJXMgIT0gJXMnICUgKHNhZmVfcmVwcihkMSwgVHJ1ZSksIHNhZmVfcmVwcihkMiwgVHJ1ZSkpCiAgICAgICAgICAgIGRpZmYgPSAoJ1xuJyArICdcbicuam9pbihkaWZmbGliLm5kaWZmKAogICAgICAgICAgICAgICAgICAgICAgICAgICBwcHJpbnQucGZvcm1hdChkMSkuc3BsaXRsaW5lcygpLAogICAgICAgICAgICAgICAgICAgICAgICAgICBwcHJpbnQucGZvcm1hdChkMikuc3BsaXRsaW5lcygpKSkpCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gc2VsZi5fdHJ1bmNhdGVNZXNzYWdlKHN0YW5kYXJkTXNnLCBkaWZmKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0RGljdENvbnRhaW5zU3Vic2V0KHNlbGYsIHN1YnNldCwgZGljdGlvbmFyeSwgbXNnPU5vbmUpOgogICAgICAgICIiIkNoZWNrcyB3aGV0aGVyIGRpY3Rpb25hcnkgaXMgYSBzdXBlcnNldCBvZiBzdWJzZXQuIiIiCiAgICAgICAgd2FybmluZ3Mud2FybignYXNzZXJ0RGljdENvbnRhaW5zU3Vic2V0IGlzIGRlcHJlY2F0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgRGVwcmVjYXRpb25XYXJuaW5nKQogICAgICAgIG1pc3NpbmcgPSBbXQogICAgICAgIG1pc21hdGNoZWQgPSBbXQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIHN1YnNldC5pdGVtcygpOgogICAgICAgICAgICBpZiBrZXkgbm90IGluIGRpY3Rpb25hcnk6CiAgICAgICAgICAgICAgICBtaXNzaW5nLmFwcGVuZChrZXkpCiAgICAgICAgICAgIGVsaWYgdmFsdWUgIT0gZGljdGlvbmFyeVtrZXldOgogICAgICAgICAgICAgICAgbWlzbWF0Y2hlZC5hcHBlbmQoJyVzLCBleHBlY3RlZDogJXMsIGFjdHVhbDogJXMnICUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzYWZlX3JlcHIoa2V5KSwgc2FmZV9yZXByKHZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlX3JlcHIoZGljdGlvbmFyeVtrZXldKSkpCgogICAgICAgIGlmIG5vdCAobWlzc2luZyBvciBtaXNtYXRjaGVkKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHN0YW5kYXJkTXNnID0gJycKICAgICAgICBpZiBtaXNzaW5nOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICdNaXNzaW5nOiAlcycgJSAnLCcuam9pbihzYWZlX3JlcHIobSkgZm9yIG0gaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmcpCiAgICAgICAgaWYgbWlzbWF0Y2hlZDoKICAgICAgICAgICAgaWYgc3RhbmRhcmRNc2c6CiAgICAgICAgICAgICAgICBzdGFuZGFyZE1zZyArPSAnOyAnCiAgICAgICAgICAgIHN0YW5kYXJkTXNnICs9ICdNaXNtYXRjaGVkIHZhbHVlczogJXMnICUgJywnLmpvaW4obWlzbWF0Y2hlZCkKCiAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydFNhbWVFbGVtZW50cyhzZWxmLCBleHBlY3RlZF9zZXEsIGFjdHVhbF9zZXEsIG1zZz1Ob25lKToKICAgICAgICAiIiJBbiB1bm9yZGVyZWQgc2VxdWVuY2Ugc3BlY2lmaWMgY29tcGFyaXNvbi4KCiAgICAgICAgUmFpc2VzIHdpdGggYW4gZXJyb3IgbWVzc2FnZSBsaXN0aW5nIHdoaWNoIGVsZW1lbnRzIG9mIGV4cGVjdGVkX3NlcQogICAgICAgIGFyZSBtaXNzaW5nIGZyb20gYWN0dWFsX3NlcSBhbmQgdmljZSB2ZXJzYSBpZiBhbnkuCgogICAgICAgIER1cGxpY2F0ZSBlbGVtZW50cyBhcmUgaWdub3JlZCB3aGVuIGNvbXBhcmluZyAqZXhwZWN0ZWRfc2VxKiBhbmQKICAgICAgICAqYWN0dWFsX3NlcSouIEl0IGlzIHRoZSBlcXVpdmFsZW50IG9mIGBgYXNzZXJ0RXF1YWwoc2V0KGV4cGVjdGVkKSwKICAgICAgICBzZXQoYWN0dWFsKSlgYCBidXQgaXQgd29ya3Mgd2l0aCBzZXF1ZW5jZXMgb2YgdW5oYXNoYWJsZSBvYmplY3RzIGFzCiAgICAgICAgd2VsbC4KICAgICAgICAiIiIKICAgICAgICB3YXJuaW5ncy53YXJuKCdhc3NlcnRTYW1lRWxlbWVudHMgaXMgZGVwcmVjYXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICBEZXByZWNhdGlvbldhcm5pbmcpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBleHBlY3RlZCA9IHNldChleHBlY3RlZF9zZXEpCiAgICAgICAgICAgIGFjdHVhbCA9IHNldChhY3R1YWxfc2VxKQogICAgICAgICAgICBtaXNzaW5nID0gc29ydGVkKGV4cGVjdGVkLmRpZmZlcmVuY2UoYWN0dWFsKSkKICAgICAgICAgICAgdW5leHBlY3RlZCA9IHNvcnRlZChhY3R1YWwuZGlmZmVyZW5jZShleHBlY3RlZCkpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgIyBGYWxsIGJhY2sgdG8gc2xvd2VyIGxpc3QtY29tcGFyZSBpZiBhbnkgb2YgdGhlIG9iamVjdHMgYXJlCiAgICAgICAgICAgICMgbm90IGhhc2hhYmxlLgogICAgICAgICAgICBleHBlY3RlZCA9IGxpc3QoZXhwZWN0ZWRfc2VxKQogICAgICAgICAgICBhY3R1YWwgPSBsaXN0KGFjdHVhbF9zZXEpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGV4cGVjdGVkLnNvcnQoKQogICAgICAgICAgICAgICAgYWN0dWFsLnNvcnQoKQogICAgICAgICAgICBleGNlcHQgVHlwZUVycm9yOgogICAgICAgICAgICAgICAgbWlzc2luZywgdW5leHBlY3RlZCA9IHVub3JkZXJhYmxlX2xpc3RfZGlmZmVyZW5jZShleHBlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbWlzc2luZywgdW5leHBlY3RlZCA9IHNvcnRlZF9saXN0X2RpZmZlcmVuY2UoZXhwZWN0ZWQsIGFjdHVhbCkKICAgICAgICBlcnJvcnMgPSBbXQogICAgICAgIGlmIG1pc3Npbmc6CiAgICAgICAgICAgIGVycm9ycy5hcHBlbmQoJ0V4cGVjdGVkLCBidXQgbWlzc2luZzpcbiAgICAlcycgJQogICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcihtaXNzaW5nKSkKICAgICAgICBpZiB1bmV4cGVjdGVkOgogICAgICAgICAgICBlcnJvcnMuYXBwZW5kKCdVbmV4cGVjdGVkLCBidXQgcHJlc2VudDpcbiAgICAlcycgJQogICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVfcmVwcih1bmV4cGVjdGVkKSkKICAgICAgICBpZiBlcnJvcnM6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJ1xuJy5qb2luKGVycm9ycykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgoKICAgIGRlZiBhc3NlcnRDb3VudEVxdWFsKHNlbGYsIGZpcnN0LCBzZWNvbmQsIG1zZz1Ob25lKToKICAgICAgICAiIiJBbiB1bm9yZGVyZWQgc2VxdWVuY2UgY29tcGFyaXNvbiBhc3NlcnRpbmcgdGhhdCB0aGUgc2FtZSBlbGVtZW50cywKICAgICAgICByZWdhcmRsZXNzIG9mIG9yZGVyLiAgSWYgdGhlIHNhbWUgZWxlbWVudCBvY2N1cnMgbW9yZSB0aGFuIG9uY2UsCiAgICAgICAgaXQgdmVyaWZpZXMgdGhhdCB0aGUgZWxlbWVudHMgb2NjdXIgdGhlIHNhbWUgbnVtYmVyIG9mIHRpbWVzLgoKICAgICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChDb3VudGVyKGxpc3QoZmlyc3QpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3VudGVyKGxpc3Qoc2Vjb25kKSkpCgogICAgICAgICBFeGFtcGxlOgogICAgICAgICAgICAtIFswLCAxLCAxXSBhbmQgWzEsIDAsIDFdIGNvbXBhcmUgZXF1YWwuCiAgICAgICAgICAgIC0gWzAsIDAsIDFdIGFuZCBbMCwgMV0gY29tcGFyZSB1bmVxdWFsLgoKICAgICAgICAiIiIKICAgICAgICBmaXJzdF9zZXEsIHNlY29uZF9zZXEgPSBsaXN0KGZpcnN0KSwgbGlzdChzZWNvbmQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmaXJzdCA9IGNvbGxlY3Rpb25zLkNvdW50ZXIoZmlyc3Rfc2VxKQogICAgICAgICAgICBzZWNvbmQgPSBjb2xsZWN0aW9ucy5Db3VudGVyKHNlY29uZF9zZXEpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgIyBIYW5kbGUgY2FzZSB3aXRoIHVuaGFzaGFibGUgZWxlbWVudHMKICAgICAgICAgICAgZGlmZmVyZW5jZXMgPSBfY291bnRfZGlmZl9hbGxfcHVycG9zZShmaXJzdF9zZXEsIHNlY29uZF9zZXEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgZmlyc3QgPT0gc2Vjb25kOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGRpZmZlcmVuY2VzID0gX2NvdW50X2RpZmZfaGFzaGFibGUoZmlyc3Rfc2VxLCBzZWNvbmRfc2VxKQoKICAgICAgICBpZiBkaWZmZXJlbmNlczoKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSAnRWxlbWVudCBjb3VudHMgd2VyZSBub3QgZXF1YWw6XG4nCiAgICAgICAgICAgIGxpbmVzID0gWydGaXJzdCBoYXMgJWQsIFNlY29uZCBoYXMgJWQ6ICAlcicgJSBkaWZmIGZvciBkaWZmIGluIGRpZmZlcmVuY2VzXQogICAgICAgICAgICBkaWZmTXNnID0gJ1xuJy5qb2luKGxpbmVzKQogICAgICAgICAgICBzdGFuZGFyZE1zZyA9IHNlbGYuX3RydW5jYXRlTWVzc2FnZShzdGFuZGFyZE1zZywgZGlmZk1zZykKICAgICAgICAgICAgbXNnID0gc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKQogICAgICAgICAgICBzZWxmLmZhaWwobXNnKQoKICAgIGRlZiBhc3NlcnRNdWx0aUxpbmVFcXVhbChzZWxmLCBmaXJzdCwgc2Vjb25kLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiQXNzZXJ0IHRoYXQgdHdvIG11bHRpLWxpbmUgc3RyaW5ncyBhcmUgZXF1YWwuIiIiCiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKGZpcnN0LCBzdHIsICdGaXJzdCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcnKQogICAgICAgIHNlbGYuYXNzZXJ0SXNJbnN0YW5jZShzZWNvbmQsIHN0ciwgJ1NlY29uZCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcnKQoKICAgICAgICBpZiBmaXJzdCAhPSBzZWNvbmQ6CiAgICAgICAgICAgICMgZG9uJ3QgdXNlIGRpZmZsaWIgaWYgdGhlIHN0cmluZ3MgYXJlIHRvbyBsb25nCiAgICAgICAgICAgIGlmIChsZW4oZmlyc3QpID4gc2VsZi5fZGlmZlRocmVzaG9sZCBvcgogICAgICAgICAgICAgICAgbGVuKHNlY29uZCkgPiBzZWxmLl9kaWZmVGhyZXNob2xkKToKICAgICAgICAgICAgICAgIHNlbGYuX2Jhc2VBc3NlcnRFcXVhbChmaXJzdCwgc2Vjb25kLCBtc2cpCiAgICAgICAgICAgIGZpcnN0bGluZXMgPSBmaXJzdC5zcGxpdGxpbmVzKFRydWUpCiAgICAgICAgICAgIHNlY29uZGxpbmVzID0gc2Vjb25kLnNwbGl0bGluZXMoVHJ1ZSkKICAgICAgICAgICAgaWYgbGVuKGZpcnN0bGluZXMpID09IDEgYW5kIGZpcnN0LnN0cmlwKCdcclxuJykgPT0gZmlyc3Q6CiAgICAgICAgICAgICAgICBmaXJzdGxpbmVzID0gW2ZpcnN0ICsgJ1xuJ10KICAgICAgICAgICAgICAgIHNlY29uZGxpbmVzID0gW3NlY29uZCArICdcbiddCiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzICE9ICVzJyAlIChzYWZlX3JlcHIoZmlyc3QsIFRydWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9yZXByKHNlY29uZCwgVHJ1ZSkpCiAgICAgICAgICAgIGRpZmYgPSAnXG4nICsgJycuam9pbihkaWZmbGliLm5kaWZmKGZpcnN0bGluZXMsIHNlY29uZGxpbmVzKSkKICAgICAgICAgICAgc3RhbmRhcmRNc2cgPSBzZWxmLl90cnVuY2F0ZU1lc3NhZ2Uoc3RhbmRhcmRNc2csIGRpZmYpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnRMZXNzKHNlbGYsIGEsIGIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgPCBiKSwgYnV0IHdpdGggYSBuaWNlciBkZWZhdWx0IG1lc3NhZ2UuIiIiCiAgICAgICAgaWYgbm90IGEgPCBiOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgbGVzcyB0aGFuICVzJyAlIChzYWZlX3JlcHIoYSksIHNhZmVfcmVwcihiKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydExlc3NFcXVhbChzZWxmLCBhLCBiLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSnVzdCBsaWtlIHNlbGYuYXNzZXJ0VHJ1ZShhIDw9IGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgYSA8PSBiOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBub3QgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICVzJyAlIChzYWZlX3JlcHIoYSksIHNhZmVfcmVwcihiKSkKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydEdyZWF0ZXIoc2VsZiwgYSwgYiwgbXNnPU5vbmUpOgogICAgICAgICIiIkp1c3QgbGlrZSBzZWxmLmFzc2VydFRydWUoYSA+IGIpLCBidXQgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgYSA+IGI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIG5vdCBncmVhdGVyIHRoYW4gJXMnICUgKHNhZmVfcmVwcihhKSwgc2FmZV9yZXByKGIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0R3JlYXRlckVxdWFsKHNlbGYsIGEsIGIsIG1zZz1Ob25lKToKICAgICAgICAiIiJKdXN0IGxpa2Ugc2VsZi5hc3NlcnRUcnVlKGEgPj0gYiksIGJ1dCB3aXRoIGEgbmljZXIgZGVmYXVsdCBtZXNzYWdlLiIiIgogICAgICAgIGlmIG5vdCBhID49IGI6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIG5vdCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJXMnICUgKHNhZmVfcmVwcihhKSwgc2FmZV9yZXByKGIpKQogICAgICAgICAgICBzZWxmLmZhaWwoc2VsZi5fZm9ybWF0TWVzc2FnZShtc2csIHN0YW5kYXJkTXNnKSkKCiAgICBkZWYgYXNzZXJ0SXNOb25lKHNlbGYsIG9iaiwgbXNnPU5vbmUpOgogICAgICAgICIiIlNhbWUgYXMgc2VsZi5hc3NlcnRUcnVlKG9iaiBpcyBOb25lKSwgd2l0aCBhIG5pY2VyIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBvYmogaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCBOb25lJyAlIChzYWZlX3JlcHIob2JqKSwpCiAgICAgICAgICAgIHNlbGYuZmFpbChzZWxmLl9mb3JtYXRNZXNzYWdlKG1zZywgc3RhbmRhcmRNc2cpKQoKICAgIGRlZiBhc3NlcnRJc05vdE5vbmUoc2VsZiwgb2JqLCBtc2c9Tm9uZSk6CiAgICAgICAgIiIiSW5jbHVkZWQgZm9yIHN5bW1ldHJ5IHdpdGggYXNzZXJ0SXNOb25lLiIiIgogICAgICAgIGlmIG9iaiBpcyBOb25lOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICd1bmV4cGVjdGVkbHkgTm9uZScKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydElzSW5zdGFuY2Uoc2VsZiwgb2JqLCBjbHMsIG1zZz1Ob25lKToKICAgICAgICAiIiJTYW1lIGFzIHNlbGYuYXNzZXJ0VHJ1ZShpc2luc3RhbmNlKG9iaiwgY2xzKSksIHdpdGggYSBuaWNlcgogICAgICAgIGRlZmF1bHQgbWVzc2FnZS4iIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvYmosIGNscyk6CiAgICAgICAgICAgIHN0YW5kYXJkTXNnID0gJyVzIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiAlcicgJSAoc2FmZV9yZXByKG9iaiksIGNscykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydE5vdElzSW5zdGFuY2Uoc2VsZiwgb2JqLCBjbHMsIG1zZz1Ob25lKToKICAgICAgICAiIiJJbmNsdWRlZCBmb3Igc3ltbWV0cnkgd2l0aCBhc3NlcnRJc0luc3RhbmNlLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uob2JqLCBjbHMpOgogICAgICAgICAgICBzdGFuZGFyZE1zZyA9ICclcyBpcyBhbiBpbnN0YW5jZSBvZiAlcicgJSAoc2FmZV9yZXByKG9iaiksIGNscykKICAgICAgICAgICAgc2VsZi5mYWlsKHNlbGYuX2Zvcm1hdE1lc3NhZ2UobXNnLCBzdGFuZGFyZE1zZykpCgogICAgZGVmIGFzc2VydFJhaXNlc1JlZ2V4KHNlbGYsIGV4cGVjdGVkX2V4Y2VwdGlvbiwgZXhwZWN0ZWRfcmVnZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVfb2JqPU5vbmUsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgIiIiQXNzZXJ0cyB0aGF0IHRoZSBtZXNzYWdlIGluIGEgcmFpc2VkIGV4Y2VwdGlvbiBtYXRjaGVzIGEgcmVnZXguCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGV4cGVjdGVkX2V4Y2VwdGlvbjogRXhjZXB0aW9uIGNsYXNzIGV4cGVjdGVkIHRvIGJlIHJhaXNlZC4KICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXg6IFJlZ2V4IChyZSBwYXR0ZXJuIG9iamVjdCBvciBzdHJpbmcpIGV4cGVjdGVkCiAgICAgICAgICAgICAgICAgICAgdG8gYmUgZm91bmQgaW4gZXJyb3IgbWVzc2FnZS4KICAgICAgICAgICAgY2FsbGFibGVfb2JqOiBGdW5jdGlvbiB0byBiZSBjYWxsZWQuCiAgICAgICAgICAgIGFyZ3M6IEV4dHJhIGFyZ3MuCiAgICAgICAgICAgIGt3YXJnczogRXh0cmEga3dhcmdzLgogICAgICAgICIiIgogICAgICAgIGNvbnRleHQgPSBfQXNzZXJ0UmFpc2VzQ29udGV4dChleHBlY3RlZF9leGNlcHRpb24sIHNlbGYsIGNhbGxhYmxlX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRfcmVnZXgpCiAgICAgICAgaWYgY2FsbGFibGVfb2JqIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBjb250ZXh0CiAgICAgICAgI2ZpeG1lIGJyeXRob24gc3ludGF4IGVycm9yCiAgICAgICAgI3dpdGggY29udGV4dDoKICAgICAgICAjICAgIGNhbGxhYmxlX29iaigqYXJncywgKiprd2FyZ3MpCgogICAgZGVmIGFzc2VydFdhcm5zUmVnZXgoc2VsZiwgZXhwZWN0ZWRfd2FybmluZywgZXhwZWN0ZWRfcmVnZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYWJsZV9vYmo9Tm9uZSwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAiIiJBc3NlcnRzIHRoYXQgdGhlIG1lc3NhZ2UgaW4gYSB0cmlnZ2VyZWQgd2FybmluZyBtYXRjaGVzIGEgcmVnZXhwLgogICAgICAgIEJhc2ljIGZ1bmN0aW9uaW5nIGlzIHNpbWlsYXIgdG8gYXNzZXJ0V2FybnMoKSB3aXRoIHRoZSBhZGRpdGlvbgogICAgICAgIHRoYXQgb25seSB3YXJuaW5ncyB3aG9zZSBtZXNzYWdlcyBhbHNvIG1hdGNoIHRoZSByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgICBhcmUgY29uc2lkZXJlZCBzdWNjZXNzZnVsIG1hdGNoZXMuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGV4cGVjdGVkX3dhcm5pbmc6IFdhcm5pbmcgY2xhc3MgZXhwZWN0ZWQgdG8gYmUgdHJpZ2dlcmVkLgogICAgICAgICAgICBleHBlY3RlZF9yZWdleDogUmVnZXggKHJlIHBhdHRlcm4gb2JqZWN0IG9yIHN0cmluZykgZXhwZWN0ZWQKICAgICAgICAgICAgICAgICAgICB0byBiZSBmb3VuZCBpbiBlcnJvciBtZXNzYWdlLgogICAgICAgICAgICBjYWxsYWJsZV9vYmo6IEZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4KICAgICAgICAgICAgYXJnczogRXh0cmEgYXJncy4KICAgICAgICAgICAga3dhcmdzOiBFeHRyYSBrd2FyZ3MuCiAgICAgICAgIiIiCiAgICAgICAgY29udGV4dCA9IF9Bc3NlcnRXYXJuc0NvbnRleHQoZXhwZWN0ZWRfd2FybmluZywgc2VsZiwgY2FsbGFibGVfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4KQogICAgICAgIGlmIGNhbGxhYmxlX29iaiBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gY29udGV4dAogICAgICAgICNmaXhtZSBicnl0aG9uIHN5bnRheCBlcnJvcgogICAgICAgICN3aXRoIGNvbnRleHQ6CiAgICAgICAgIyAgICBjYWxsYWJsZV9vYmooKmFyZ3MsICoqa3dhcmdzKQoKICAgIGRlZiBhc3NlcnRSZWdleChzZWxmLCB0ZXh0LCBleHBlY3RlZF9yZWdleCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgdGhlIHRlc3QgdW5sZXNzIHRoZSB0ZXh0IG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4iIiIKICAgICAgICBpZiBpc2luc3RhbmNlKGV4cGVjdGVkX3JlZ2V4LCAoc3RyLCBieXRlcykpOgogICAgICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfcmVnZXgsICJleHBlY3RlZF9yZWdleCBtdXN0IG5vdCBiZSBlbXB0eS4iCiAgICAgICAgICAgIGV4cGVjdGVkX3JlZ2V4ID0gcmUuY29tcGlsZShleHBlY3RlZF9yZWdleCkKICAgICAgICBpZiBub3QgZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHRleHQpOgogICAgICAgICAgICBtc2cgPSBtc2cgb3IgIlJlZ2V4IGRpZG4ndCBtYXRjaCIKICAgICAgICAgICAgbXNnID0gJyVzOiAlciBub3QgZm91bmQgaW4gJXInICUgKG1zZywgZXhwZWN0ZWRfcmVnZXgucGF0dGVybiwgdGV4dCkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCiAgICBkZWYgYXNzZXJ0Tm90UmVnZXgoc2VsZiwgdGV4dCwgdW5leHBlY3RlZF9yZWdleCwgbXNnPU5vbmUpOgogICAgICAgICIiIkZhaWwgdGhlIHRlc3QgaWYgdGhlIHRleHQgbWF0Y2hlcyB0aGUgcmVndWxhciBleHByZXNzaW9uLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2UodW5leHBlY3RlZF9yZWdleCwgKHN0ciwgYnl0ZXMpKToKICAgICAgICAgICAgdW5leHBlY3RlZF9yZWdleCA9IHJlLmNvbXBpbGUodW5leHBlY3RlZF9yZWdleCkKICAgICAgICBtYXRjaCA9IHVuZXhwZWN0ZWRfcmVnZXguc2VhcmNoKHRleHQpCiAgICAgICAgaWYgbWF0Y2g6CiAgICAgICAgICAgIG1zZyA9IG1zZyBvciAiUmVnZXggbWF0Y2hlZCIKICAgICAgICAgICAgbXNnID0gJyVzOiAlciBtYXRjaGVzICVyIGluICVyJyAlIChtc2csCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFttYXRjaC5zdGFydCgpOm1hdGNoLmVuZCgpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmV4cGVjdGVkX3JlZ2V4LnBhdHRlcm4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCkKICAgICAgICAgICAgcmFpc2Ugc2VsZi5mYWlsdXJlRXhjZXB0aW9uKG1zZykKCgogICAgZGVmIF9kZXByZWNhdGUob3JpZ2luYWxfZnVuYyk6CiAgICAgICAgZGVmIGRlcHJlY2F0ZWRfZnVuYygqYXJncywgKiprd2FyZ3MpOgogICAgICAgICAgICB3YXJuaW5ncy53YXJuKAogICAgICAgICAgICAgICAgJ1BsZWFzZSB1c2UgezB9IGluc3RlYWQuJy5mb3JtYXQob3JpZ2luYWxfZnVuYy5fX25hbWVfXyksCiAgICAgICAgICAgICAgICBEZXByZWNhdGlvbldhcm5pbmcsIDIpCiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9mdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICByZXR1cm4gZGVwcmVjYXRlZF9mdW5jCgogICAgIyBzZWUgIzk0MjQKICAgIGZhaWxVbmxlc3NFcXVhbCA9IGFzc2VydEVxdWFscyA9IF9kZXByZWNhdGUoYXNzZXJ0RXF1YWwpCiAgICBmYWlsSWZFcXVhbCA9IGFzc2VydE5vdEVxdWFscyA9IF9kZXByZWNhdGUoYXNzZXJ0Tm90RXF1YWwpCiAgICBmYWlsVW5sZXNzQWxtb3N0RXF1YWwgPSBhc3NlcnRBbG1vc3RFcXVhbHMgPSBfZGVwcmVjYXRlKGFzc2VydEFsbW9zdEVxdWFsKQogICAgZmFpbElmQWxtb3N0RXF1YWwgPSBhc3NlcnROb3RBbG1vc3RFcXVhbHMgPSBfZGVwcmVjYXRlKGFzc2VydE5vdEFsbW9zdEVxdWFsKQogICAgZmFpbFVubGVzcyA9IGFzc2VydF8gPSBfZGVwcmVjYXRlKGFzc2VydFRydWUpCiAgICBmYWlsVW5sZXNzUmFpc2VzID0gX2RlcHJlY2F0ZShhc3NlcnRSYWlzZXMpCiAgICBmYWlsSWYgPSBfZGVwcmVjYXRlKGFzc2VydEZhbHNlKQogICAgYXNzZXJ0UmFpc2VzUmVnZXhwID0gX2RlcHJlY2F0ZShhc3NlcnRSYWlzZXNSZWdleCkKICAgIGFzc2VydFJlZ2V4cE1hdGNoZXMgPSBfZGVwcmVjYXRlKGFzc2VydFJlZ2V4KQoKCgpjbGFzcyBGdW5jdGlvblRlc3RDYXNlKFRlc3RDYXNlKToKICAgICIiIkEgdGVzdCBjYXNlIHRoYXQgd3JhcHMgYSB0ZXN0IGZ1bmN0aW9uLgoKICAgIFRoaXMgaXMgdXNlZnVsIGZvciBzbGlwcGluZyBwcmUtZXhpc3RpbmcgdGVzdCBmdW5jdGlvbnMgaW50byB0aGUKICAgIHVuaXR0ZXN0IGZyYW1ld29yay4gT3B0aW9uYWxseSwgc2V0LXVwIGFuZCB0aWR5LXVwIGZ1bmN0aW9ucyBjYW4gYmUKICAgIHN1cHBsaWVkLiBBcyB3aXRoIFRlc3RDYXNlLCB0aGUgdGlkeS11cCAoJ3RlYXJEb3duJykgZnVuY3Rpb24gd2lsbAogICAgYWx3YXlzIGJlIGNhbGxlZCBpZiB0aGUgc2V0LXVwICgnc2V0VXAnKSBmdW5jdGlvbiByYW4gc3VjY2Vzc2Z1bGx5LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRlc3RGdW5jLCBzZXRVcD1Ob25lLCB0ZWFyRG93bj1Ob25lLCBkZXNjcmlwdGlvbj1Ob25lKToKICAgICAgICBzdXBlcihGdW5jdGlvblRlc3RDYXNlLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5fc2V0VXBGdW5jID0gc2V0VXAKICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMgPSB0ZWFyRG93bgogICAgICAgIHNlbGYuX3Rlc3RGdW5jID0gdGVzdEZ1bmMKICAgICAgICBzZWxmLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uCgogICAgZGVmIHNldFVwKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX3NldFVwRnVuYyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5fc2V0VXBGdW5jKCkKCiAgICBkZWYgdGVhckRvd24oc2VsZik6CiAgICAgICAgaWYgc2VsZi5fdGVhckRvd25GdW5jIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMoKQoKICAgIGRlZiBydW5UZXN0KHNlbGYpOgogICAgICAgIHNlbGYuX3Rlc3RGdW5jKCkKCiAgICBkZWYgaWQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX3Rlc3RGdW5jLl9fbmFtZV9fCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHNlbGYuX19jbGFzc19fKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCgogICAgICAgIHJldHVybiBzZWxmLl9zZXRVcEZ1bmMgPT0gb3RoZXIuX3NldFVwRnVuYyBhbmQgXAogICAgICAgICAgICAgICBzZWxmLl90ZWFyRG93bkZ1bmMgPT0gb3RoZXIuX3RlYXJEb3duRnVuYyBhbmQgXAogICAgICAgICAgICAgICBzZWxmLl90ZXN0RnVuYyA9PSBvdGhlci5fdGVzdEZ1bmMgYW5kIFwKICAgICAgICAgICAgICAgc2VsZi5fZGVzY3JpcHRpb24gPT0gb3RoZXIuX2Rlc2NyaXB0aW9uCgogICAgZGVmIF9fbmVfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgcmV0dXJuIG5vdCBzZWxmID09IG90aGVyCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKCh0eXBlKHNlbGYpLCBzZWxmLl9zZXRVcEZ1bmMsIHNlbGYuX3RlYXJEb3duRnVuYywKICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdGVzdEZ1bmMsIHNlbGYuX2Rlc2NyaXB0aW9uKSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIiVzICglcykiICUgKHN0cmNsYXNzKHNlbGYuX19jbGFzc19fKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3Rlc3RGdW5jLl9fbmFtZV9fKQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjwlcyB0ZWM9JXM+IiAlIChzdHJjbGFzcyhzZWxmLl9fY2xhc3NfXyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl90ZXN0RnVuYykKCiAgICBkZWYgc2hvcnREZXNjcmlwdGlvbihzZWxmKToKICAgICAgICBpZiBzZWxmLl9kZXNjcmlwdGlvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2Rlc2NyaXB0aW9uCiAgICAgICAgZG9jID0gc2VsZi5fdGVzdEZ1bmMuX19kb2NfXwogICAgICAgIHJldHVybiBkb2MgYW5kIGRvYy5zcGxpdCgiXG4iKVswXS5zdHJpcCgpIG9yIE5vbmUK',
'/Lib/unittest/main.py':'IiIiVW5pdHRlc3QgbWFpbiBwcm9ncmFtIiIiCgppbXBvcnQgc3lzCmltcG9ydCBvcwojaW1wb3J0IHR5cGVzICAgIDwtLSBpcyB0aGlzIG1vZHVsZSBuZWVkZWQgZm9yIHRoaXMgbW9kdWxlPwoKZnJvbSAuIGltcG9ydCBsb2FkZXIsIHJ1bm5lcgpmcm9tIC5zaWduYWxzIGltcG9ydCBpbnN0YWxsSGFuZGxlcgoKX191bml0dGVzdCA9IFRydWUKCkZBSUxGQVNUICAgICA9ICIgIC1mLCAtLWZhaWxmYXN0ICAgU3RvcCBvbiBmaXJzdCBmYWlsdXJlXG4iCkNBVENIQlJFQUsgICA9ICIgIC1jLCAtLWNhdGNoICAgICAgQ2F0Y2ggY29udHJvbC1DIGFuZCBkaXNwbGF5IHJlc3VsdHNcbiIKQlVGRkVST1VUUFVUID0gIiAgLWIsIC0tYnVmZmVyICAgICBCdWZmZXIgc3Rkb3V0IGFuZCBzdGRlcnIgZHVyaW5nIHRlc3QgcnVuc1xuIgoKVVNBR0VfQVNfTUFJTiA9ICIiIlwKVXNhZ2U6ICUocHJvZ05hbWUpcyBbb3B0aW9uc10gW3Rlc3RzXQoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgIFNob3cgdGhpcyBtZXNzYWdlCiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAogIC1xLCAtLXF1aWV0ICAgICAgTWluaW1hbCBvdXRwdXQKJShmYWlsZmFzdClzJShjYXRjaGJyZWFrKXMlKGJ1ZmZlcilzCkV4YW1wbGVzOgogICUocHJvZ05hbWUpcyB0ZXN0X21vZHVsZSAgICAgICAgICAgICAgIC0gcnVuIHRlc3RzIGZyb20gdGVzdF9tb2R1bGUKICAlKHByb2dOYW1lKXMgbW9kdWxlLlRlc3RDbGFzcyAgICAgICAgICAtIHJ1biB0ZXN0cyBmcm9tIG1vZHVsZS5UZXN0Q2xhc3MKICAlKHByb2dOYW1lKXMgbW9kdWxlLkNsYXNzLnRlc3RfbWV0aG9kICAtIHJ1biBzcGVjaWZpZWQgdGVzdCBtZXRob2QKClt0ZXN0c10gY2FuIGJlIGEgbGlzdCBvZiBhbnkgbnVtYmVyIG9mIHRlc3QgbW9kdWxlcywgY2xhc3NlcyBhbmQgdGVzdAptZXRob2RzLgoKQWx0ZXJuYXRpdmUgVXNhZ2U6ICUocHJvZ05hbWUpcyBkaXNjb3ZlciBbb3B0aW9uc10KCk9wdGlvbnM6CiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAolKGZhaWxmYXN0KXMlKGNhdGNoYnJlYWspcyUoYnVmZmVyKXMgIC1zIGRpcmVjdG9yeSAgICAgRGlyZWN0b3J5IHRvIHN0YXJ0IGRpc2NvdmVyeSAoJy4nIGRlZmF1bHQpCiAgLXAgcGF0dGVybiAgICAgICBQYXR0ZXJuIHRvIG1hdGNoIHRlc3QgZmlsZXMgKCd0ZXN0Ki5weScgZGVmYXVsdCkKICAtdCBkaXJlY3RvcnkgICAgIFRvcCBsZXZlbCBkaXJlY3Rvcnkgb2YgcHJvamVjdCAoZGVmYXVsdCB0bwogICAgICAgICAgICAgICAgICAgc3RhcnQgZGlyZWN0b3J5KQoKRm9yIHRlc3QgZGlzY292ZXJ5IGFsbCB0ZXN0IG1vZHVsZXMgbXVzdCBiZSBpbXBvcnRhYmxlIGZyb20gdGhlIHRvcApsZXZlbCBkaXJlY3Rvcnkgb2YgdGhlIHByb2plY3QuCiIiIgoKVVNBR0VfRlJPTV9NT0RVTEUgPSAiIiJcClVzYWdlOiAlKHByb2dOYW1lKXMgW29wdGlvbnNdIFt0ZXN0XSBbLi4uXQoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgIFNob3cgdGhpcyBtZXNzYWdlCiAgLXYsIC0tdmVyYm9zZSAgICBWZXJib3NlIG91dHB1dAogIC1xLCAtLXF1aWV0ICAgICAgTWluaW1hbCBvdXRwdXQKJShmYWlsZmFzdClzJShjYXRjaGJyZWFrKXMlKGJ1ZmZlcilzCkV4YW1wbGVzOgogICUocHJvZ05hbWUpcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHJ1biBkZWZhdWx0IHNldCBvZiB0ZXN0cwogICUocHJvZ05hbWUpcyBNeVRlc3RTdWl0ZSAgICAgICAgICAgICAgICAgICAtIHJ1biBzdWl0ZSAnTXlUZXN0U3VpdGUnCiAgJShwcm9nTmFtZSlzIE15VGVzdENhc2UudGVzdFNvbWV0aGluZyAgICAgIC0gcnVuIE15VGVzdENhc2UudGVzdFNvbWV0aGluZwogICUocHJvZ05hbWUpcyBNeVRlc3RDYXNlICAgICAgICAgICAgICAgICAgICAtIHJ1biBhbGwgJ3Rlc3QqJyB0ZXN0IG1ldGhvZHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBNeVRlc3RDYXNlCiIiIgoKZGVmIF9jb252ZXJ0X25hbWUobmFtZSk6CiAgICAjIG9uIExpbnV4IC8gTWFjIE9TIFggJ2Zvby5QWScgaXMgbm90IGltcG9ydGFibGUsIGJ1dCBvbgogICAgIyBXaW5kb3dzIGl0IGlzLiBTaW1wbGVyIHRvIGRvIGEgY2FzZSBpbnNlbnNpdGl2ZSBtYXRjaAogICAgIyBhIGJldHRlciBjaGVjayB3b3VsZCBiZSB0byBjaGVjayB0aGF0IHRoZSBuYW1lIGlzIGEKICAgICMgdmFsaWQgUHl0aG9uIG1vZHVsZSBuYW1lLgogICAgaWYgb3MucGF0aC5pc2ZpbGUobmFtZSkgYW5kIG5hbWUubG93ZXIoKS5lbmRzd2l0aCgnLnB5Jyk6CiAgICAgICAgaWYgb3MucGF0aC5pc2FicyhuYW1lKToKICAgICAgICAgICAgcmVsX3BhdGggPSBvcy5wYXRoLnJlbHBhdGgobmFtZSwgb3MuZ2V0Y3dkKCkpCiAgICAgICAgICAgIGlmIG9zLnBhdGguaXNhYnMocmVsX3BhdGgpIG9yIHJlbF9wYXRoLnN0YXJ0c3dpdGgob3MucGFyZGlyKToKICAgICAgICAgICAgICAgIHJldHVybiBuYW1lCiAgICAgICAgICAgIG5hbWUgPSByZWxfcGF0aAogICAgICAgICMgb24gV2luZG93cyBib3RoICdcJyBhbmQgJy8nIGFyZSB1c2VkIGFzIHBhdGgKICAgICAgICAjIHNlcGFyYXRvcnMuIEJldHRlciB0byByZXBsYWNlIGJvdGggdGhhbiByZWx5IG9uIG9zLnBhdGguc2VwCiAgICAgICAgcmV0dXJuIG5hbWVbOi0zXS5yZXBsYWNlKCdcXCcsICcuJykucmVwbGFjZSgnLycsICcuJykKICAgIHJldHVybiBuYW1lCgpkZWYgX2NvbnZlcnRfbmFtZXMobmFtZXMpOgogICAgcmV0dXJuIFtfY29udmVydF9uYW1lKG5hbWUpIGZvciBuYW1lIGluIG5hbWVzXQoKY2xhc3MgVGVzdFByb2dyYW0ob2JqZWN0KToKICAgICIiIkEgY29tbWFuZC1saW5lIHByb2dyYW0gdGhhdCBydW5zIGEgc2V0IG9mIHRlc3RzOyB0aGlzIGlzIHByaW1hcmlseQogICAgICAgZm9yIG1ha2luZyB0ZXN0IG1vZHVsZXMgY29udmVuaWVudGx5IGV4ZWN1dGFibGUuCiAgICAiIiIKICAgIFVTQUdFID0gVVNBR0VfRlJPTV9NT0RVTEUKCiAgICAjIGRlZmF1bHRzIGZvciB0ZXN0aW5nCiAgICBmYWlsZmFzdCA9IGNhdGNoYnJlYWsgPSBidWZmZXIgPSBwcm9nTmFtZSA9IHdhcm5pbmdzID0gTm9uZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtb2R1bGU9J19fbWFpbl9fJywgZGVmYXVsdFRlc3Q9Tm9uZSwgYXJndj1Ob25lLAogICAgICAgICAgICAgICAgICAgIHRlc3RSdW5uZXI9Tm9uZSwgdGVzdExvYWRlcj1sb2FkZXIuZGVmYXVsdFRlc3RMb2FkZXIsCiAgICAgICAgICAgICAgICAgICAgZXhpdD1UcnVlLCB2ZXJib3NpdHk9MSwgZmFpbGZhc3Q9Tm9uZSwgY2F0Y2hicmVhaz1Ob25lLAogICAgICAgICAgICAgICAgICAgIGJ1ZmZlcj1Ob25lLCB3YXJuaW5ncz1Ob25lKToKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZHVsZSwgc3RyKToKICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBfX2ltcG9ydF9fKG1vZHVsZSkKICAgICAgICAgICAgZm9yIHBhcnQgaW4gbW9kdWxlLnNwbGl0KCcuJylbMTpdOgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBnZXRhdHRyKHNlbGYubW9kdWxlLCBwYXJ0KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYubW9kdWxlID0gbW9kdWxlCiAgICAgICAgaWYgYXJndiBpcyBOb25lOgogICAgICAgICAgICBhcmd2ID0gc3lzLmFyZ3YKCiAgICAgICAgc2VsZi5leGl0ID0gZXhpdAogICAgICAgIHNlbGYuZmFpbGZhc3QgPSBmYWlsZmFzdAogICAgICAgIHNlbGYuY2F0Y2hicmVhayA9IGNhdGNoYnJlYWsKICAgICAgICBzZWxmLnZlcmJvc2l0eSA9IHZlcmJvc2l0eQogICAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyCiAgICAgICAgaWYgd2FybmluZ3MgaXMgTm9uZSBhbmQgbm90IHN5cy53YXJub3B0aW9uczoKICAgICAgICAgICAgIyBldmVuIGlmIERyZXByZWNhdGlvbldhcm5pbmdzIGFyZSBpZ25vcmVkIGJ5IGRlZmF1bHQKICAgICAgICAgICAgIyBwcmludCB0aGVtIGFueXdheSB1bmxlc3Mgb3RoZXIgd2FybmluZ3Mgc2V0dGluZ3MgYXJlCiAgICAgICAgICAgICMgc3BlY2lmaWVkIGJ5IHRoZSB3YXJuaW5ncyBhcmcgb3IgdGhlIC1XIHB5dGhvbiBmbGFnCiAgICAgICAgICAgIHNlbGYud2FybmluZ3MgPSAnZGVmYXVsdCcKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIGhlcmUgc2VsZi53YXJuaW5ncyBpcyBzZXQgZWl0aGVyIHRvIHRoZSB2YWx1ZSBwYXNzZWQKICAgICAgICAgICAgIyB0byB0aGUgd2FybmluZ3MgYXJncyBvciB0byBOb25lLgogICAgICAgICAgICAjIElmIHRoZSB1c2VyIGRpZG4ndCBwYXNzIGEgdmFsdWUgc2VsZi53YXJuaW5ncyB3aWxsCiAgICAgICAgICAgICMgYmUgTm9uZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBiZWhhdmlvciBpcyB1bmNoYW5nZWQKICAgICAgICAgICAgIyBhbmQgZGVwZW5kcyBvbiB0aGUgdmFsdWVzIHBhc3NlZCB0byAtVy4KICAgICAgICAgICAgc2VsZi53YXJuaW5ncyA9IHdhcm5pbmdzCiAgICAgICAgc2VsZi5kZWZhdWx0VGVzdCA9IGRlZmF1bHRUZXN0CiAgICAgICAgc2VsZi50ZXN0UnVubmVyID0gdGVzdFJ1bm5lcgogICAgICAgIHNlbGYudGVzdExvYWRlciA9IHRlc3RMb2FkZXIKICAgICAgICBzZWxmLnByb2dOYW1lID0gb3MucGF0aC5iYXNlbmFtZShhcmd2WzBdKQogICAgICAgIHNlbGYucGFyc2VBcmdzKGFyZ3YpCiAgICAgICAgc2VsZi5ydW5UZXN0cygpCgogICAgZGVmIHVzYWdlRXhpdChzZWxmLCBtc2c9Tm9uZSk6CiAgICAgICAgaWYgbXNnOgogICAgICAgICAgICBwcmludChtc2cpCiAgICAgICAgdXNhZ2UgPSB7J3Byb2dOYW1lJzogc2VsZi5wcm9nTmFtZSwgJ2NhdGNoYnJlYWsnOiAnJywgJ2ZhaWxmYXN0JzogJycsCiAgICAgICAgICAgICAgICAgJ2J1ZmZlcic6ICcnfQogICAgICAgIGlmIHNlbGYuZmFpbGZhc3QgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydmYWlsZmFzdCddID0gRkFJTEZBU1QKICAgICAgICBpZiBzZWxmLmNhdGNoYnJlYWsgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydjYXRjaGJyZWFrJ10gPSBDQVRDSEJSRUFLCiAgICAgICAgaWYgc2VsZi5idWZmZXIgIT0gRmFsc2U6CiAgICAgICAgICAgIHVzYWdlWydidWZmZXInXSA9IEJVRkZFUk9VVFBVVAogICAgICAgIHByaW50KHNlbGYuVVNBR0UgJSB1c2FnZSkKICAgICAgICBzeXMuZXhpdCgyKQoKICAgIGRlZiBwYXJzZUFyZ3Moc2VsZiwgYXJndik6CiAgICAgICAgaWYgKChsZW4oYXJndikgPiAxIGFuZCBhcmd2WzFdLmxvd2VyKCkgPT0gJ2Rpc2NvdmVyJykgb3IKICAgICAgICAgICAgKGxlbihhcmd2KSA9PSAxIGFuZCBzZWxmLm1vZHVsZSBpcyBOb25lKSk6CiAgICAgICAgICAgIHNlbGYuX2RvX2Rpc2NvdmVyeShhcmd2WzI6XSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGltcG9ydCBnZXRvcHQKICAgICAgICAjZml4bWUgYnJ5dGhvbiwgZXhjZXB0IHN0YXRlbWVudCBiZWxvdyBkb24ndCBsaWtlIGdldG9wdC4KICAgICAgICBnZXRvcHRfZXJyb3I9Z2V0b3B0LmVycm9yCiAgICAgICAgbG9uZ19vcHRzID0gWydoZWxwJywgJ3ZlcmJvc2UnLCAncXVpZXQnLCAnZmFpbGZhc3QnLCAnY2F0Y2gnLCAnYnVmZmVyJ10KICAgICAgICB0cnk6CiAgICAgICAgICAgIG9wdGlvbnMsIGFyZ3MgPSBnZXRvcHQuZ2V0b3B0KGFyZ3ZbMTpdLCAnaEh2cWZjYicsIGxvbmdfb3B0cykKICAgICAgICAjZml4bWUgYnJ5dGhvbiBpbnZhbGlkIHN5bnRheAogICAgICAgICNleGNlcHQgZ2V0b3B0LmVycm9yIGFzIG1zZzoKICAgICAgICBleGNlcHQgZ2V0b3B0X2Vycm9yIGFzIG1zZzoKICAgICAgICAgICAgc2VsZi51c2FnZUV4aXQobXNnKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgZm9yIG9wdCwgdmFsdWUgaW4gb3B0aW9uczoKICAgICAgICAgICAgaWYgb3B0IGluICgnLWgnLCctSCcsJy0taGVscCcpOgogICAgICAgICAgICAgICAgc2VsZi51c2FnZUV4aXQoKQogICAgICAgICAgICBpZiBvcHQgaW4gKCctcScsJy0tcXVpZXQnKToKICAgICAgICAgICAgICAgIHNlbGYudmVyYm9zaXR5ID0gMAogICAgICAgICAgICBpZiBvcHQgaW4gKCctdicsJy0tdmVyYm9zZScpOgogICAgICAgICAgICAgICAgc2VsZi52ZXJib3NpdHkgPSAyCiAgICAgICAgICAgIGlmIG9wdCBpbiAoJy1mJywnLS1mYWlsZmFzdCcpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5mYWlsZmFzdCBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHNlbGYuZmFpbGZhc3QgPSBUcnVlCiAgICAgICAgICAgICAgICAjIFNob3VsZCB0aGlzIHJhaXNlIGFuIGV4Y2VwdGlvbiBpZiAtZiBpcyBub3QgdmFsaWQ/CiAgICAgICAgICAgIGlmIG9wdCBpbiAoJy1jJywnLS1jYXRjaCcpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5jYXRjaGJyZWFrIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRjaGJyZWFrID0gVHJ1ZQogICAgICAgICAgICAgICAgIyBTaG91bGQgdGhpcyByYWlzZSBhbiBleGNlcHRpb24gaWYgLWMgaXMgbm90IHZhbGlkPwogICAgICAgICAgICBpZiBvcHQgaW4gKCctYicsJy0tYnVmZmVyJyk6CiAgICAgICAgICAgICAgICBpZiBzZWxmLmJ1ZmZlciBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHNlbGYuYnVmZmVyID0gVHJ1ZQogICAgICAgICAgICAgICAgIyBTaG91bGQgdGhpcyByYWlzZSBhbiBleGNlcHRpb24gaWYgLWIgaXMgbm90IHZhbGlkPwoKICAgICAgICBpZiBsZW4oYXJncykgPT0gMCBhbmQgc2VsZi5tb2R1bGUgaXMgTm9uZToKICAgICAgICAgICAgIyB0aGlzIGFsbG93cyAicHl0aG9uIC1tIHVuaXR0ZXN0IC12IiB0byBzdGlsbCB3b3JrIGZvcgogICAgICAgICAgICAjIHRlc3QgZGlzY292ZXJ5LiBUaGlzIG1lYW5zIC1jIC8gLWIgLyAtdiAvIC1mIG9wdGlvbnMgd2lsbAogICAgICAgICAgICAjIGJlIGhhbmRsZWQgdHdpY2UsIHdoaWNoIGlzIGhhcm1sZXNzIGJ1dCBub3QgaWRlYWwuCiAgICAgICAgICAgIHNlbGYuX2RvX2Rpc2NvdmVyeShhcmd2WzE6XSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxlbihhcmdzKSA9PSAwIGFuZCBzZWxmLmRlZmF1bHRUZXN0IGlzIE5vbmU6CiAgICAgICAgICAgICMgY3JlYXRlVGVzdHMgd2lsbCBsb2FkIHRlc3RzIGZyb20gc2VsZi5tb2R1bGUKICAgICAgICAgICAgc2VsZi50ZXN0TmFtZXMgPSBOb25lCiAgICAgICAgZWxpZiBsZW4oYXJncykgPiAwOgogICAgICAgICAgICBzZWxmLnRlc3ROYW1lcyA9IF9jb252ZXJ0X25hbWVzKGFyZ3MpCiAgICAgICAgICAgIGlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICAgICAgICAgICAgICAjIHRvIHN1cHBvcnQgcHl0aG9uIC1tIHVuaXR0ZXN0IC4uLgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZXN0TmFtZXMgPSAoc2VsZi5kZWZhdWx0VGVzdCwpCiAgICAgICAgc2VsZi5jcmVhdGVUZXN0cygpCgogICAgZGVmIGNyZWF0ZVRlc3RzKHNlbGYpOgogICAgICAgIGlmIHNlbGYudGVzdE5hbWVzIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudGVzdCA9IHNlbGYudGVzdExvYWRlci5sb2FkVGVzdHNGcm9tTW9kdWxlKHNlbGYubW9kdWxlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudGVzdCA9IHNlbGYudGVzdExvYWRlci5sb2FkVGVzdHNGcm9tTmFtZXMoc2VsZi50ZXN0TmFtZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUpCgogICAgZGVmIF9kb19kaXNjb3Zlcnkoc2VsZiwgYXJndiwgTG9hZGVyPWxvYWRlci5UZXN0TG9hZGVyKToKICAgICAgICAjIGhhbmRsZSBjb21tYW5kIGxpbmUgYXJncyBmb3IgdGVzdCBkaXNjb3ZlcnkKICAgICAgICBzZWxmLnByb2dOYW1lID0gJyVzIGRpc2NvdmVyJyAlIHNlbGYucHJvZ05hbWUKICAgICAgICBpbXBvcnQgb3B0cGFyc2UKICAgICAgICBwYXJzZXIgPSBvcHRwYXJzZS5PcHRpb25QYXJzZXIoKQogICAgICAgIHBhcnNlci5wcm9nID0gc2VsZi5wcm9nTmFtZQogICAgICAgIHBhcnNlci5hZGRfb3B0aW9uKCctdicsICctLXZlcmJvc2UnLCBkZXN0PSd2ZXJib3NlJywgZGVmYXVsdD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdWZXJib3NlIG91dHB1dCcsIGFjdGlvbj0nc3RvcmVfdHJ1ZScpCiAgICAgICAgaWYgc2VsZi5mYWlsZmFzdCAhPSBGYWxzZToKICAgICAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy1mJywgJy0tZmFpbGZhc3QnLCBkZXN0PSdmYWlsZmFzdCcsIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9J1N0b3Agb24gZmlyc3QgZmFpbCBvciBlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbj0nc3RvcmVfdHJ1ZScpCiAgICAgICAgaWYgc2VsZi5jYXRjaGJyZWFrICE9IEZhbHNlOgogICAgICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLWMnLCAnLS1jYXRjaCcsIGRlc3Q9J2NhdGNoYnJlYWsnLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdDYXRjaCBjdHJsLUMgYW5kIGRpc3BsYXkgcmVzdWx0cyBzbyBmYXInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249J3N0b3JlX3RydWUnKQogICAgICAgIGlmIHNlbGYuYnVmZmVyICE9IEZhbHNlOgogICAgICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLWInLCAnLS1idWZmZXInLCBkZXN0PSdidWZmZXInLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdCdWZmZXIgc3Rkb3V0IGFuZCBzdGRlcnIgZHVyaW5nIHRlc3RzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPSdzdG9yZV90cnVlJykKICAgICAgICBwYXJzZXIuYWRkX29wdGlvbignLXMnLCAnLS1zdGFydC1kaXJlY3RvcnknLCBkZXN0PSdzdGFydCcsIGRlZmF1bHQ9Jy4nLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IkRpcmVjdG9yeSB0byBzdGFydCBkaXNjb3ZlcnkgKCcuJyBkZWZhdWx0KSIpCiAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy1wJywgJy0tcGF0dGVybicsIGRlc3Q9J3BhdHRlcm4nLCBkZWZhdWx0PSd0ZXN0Ki5weScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUGF0dGVybiB0byBtYXRjaCB0ZXN0cyAoJ3Rlc3QqLnB5JyBkZWZhdWx0KSIpCiAgICAgICAgcGFyc2VyLmFkZF9vcHRpb24oJy10JywgJy0tdG9wLWxldmVsLWRpcmVjdG9yeScsIGRlc3Q9J3RvcCcsIGRlZmF1bHQ9Tm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdUb3AgbGV2ZWwgZGlyZWN0b3J5IG9mIHByb2plY3QgKGRlZmF1bHRzIHRvIHN0YXJ0IGRpcmVjdG9yeSknKQoKICAgICAgICBvcHRpb25zLCBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoYXJndikKICAgICAgICBpZiBsZW4oYXJncykgPiAzOgogICAgICAgICAgICBzZWxmLnVzYWdlRXhpdCgpCgogICAgICAgIGZvciBuYW1lLCB2YWx1ZSBpbiB6aXAoKCdzdGFydCcsICdwYXR0ZXJuJywgJ3RvcCcpLCBhcmdzKToKICAgICAgICAgICAgc2V0YXR0cihvcHRpb25zLCBuYW1lLCB2YWx1ZSkKCiAgICAgICAgIyBvbmx5IHNldCBvcHRpb25zIGZyb20gdGhlIHBhcnNpbmcgaGVyZQogICAgICAgICMgaWYgdGhleSB3ZXJlbid0IHNldCBleHBsaWNpdGx5IGluIHRoZSBjb25zdHJ1Y3RvcgogICAgICAgIGlmIHNlbGYuZmFpbGZhc3QgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5mYWlsZmFzdCA9IG9wdGlvbnMuZmFpbGZhc3QKICAgICAgICBpZiBzZWxmLmNhdGNoYnJlYWsgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5jYXRjaGJyZWFrID0gb3B0aW9ucy5jYXRjaGJyZWFrCiAgICAgICAgaWYgc2VsZi5idWZmZXIgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5idWZmZXIgPSBvcHRpb25zLmJ1ZmZlcgoKICAgICAgICBpZiBvcHRpb25zLnZlcmJvc2U6CiAgICAgICAgICAgIHNlbGYudmVyYm9zaXR5ID0gMgoKICAgICAgICBzdGFydF9kaXIgPSBvcHRpb25zLnN0YXJ0CiAgICAgICAgcGF0dGVybiA9IG9wdGlvbnMucGF0dGVybgogICAgICAgIHRvcF9sZXZlbF9kaXIgPSBvcHRpb25zLnRvcAoKICAgICAgICBsb2FkZXIgPSBMb2FkZXIoKQogICAgICAgIHNlbGYudGVzdCA9IGxvYWRlci5kaXNjb3ZlcihzdGFydF9kaXIsIHBhdHRlcm4sIHRvcF9sZXZlbF9kaXIpCgogICAgZGVmIHJ1blRlc3RzKHNlbGYpOgogICAgICAgIGlmIHNlbGYuY2F0Y2hicmVhazoKICAgICAgICAgICAgaW5zdGFsbEhhbmRsZXIoKQogICAgICAgIGlmIHNlbGYudGVzdFJ1bm5lciBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnRlc3RSdW5uZXIgPSBydW5uZXIuVGV4dFRlc3RSdW5uZXIKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYudGVzdFJ1bm5lciwgdHlwZSk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRlc3RSdW5uZXIgPSBzZWxmLnRlc3RSdW5uZXIodmVyYm9zaXR5PXNlbGYudmVyYm9zaXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsZmFzdD1zZWxmLmZhaWxmYXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI9c2VsZi5idWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzPXNlbGYud2FybmluZ3MpCiAgICAgICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICAgICAjIGRpZG4ndCBhY2NlcHQgdGhlIHZlcmJvc2l0eSwgYnVmZmVyIG9yIGZhaWxmYXN0IGFyZ3VtZW50cwogICAgICAgICAgICAgICAgdGVzdFJ1bm5lciA9IHNlbGYudGVzdFJ1bm5lcigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBpdCBpcyBhc3N1bWVkIHRvIGJlIGEgVGVzdFJ1bm5lciBpbnN0YW5jZQogICAgICAgICAgICB0ZXN0UnVubmVyID0gc2VsZi50ZXN0UnVubmVyCiAgICAgICAgc2VsZi5yZXN1bHQgPSB0ZXN0UnVubmVyLnJ1bihzZWxmLnRlc3QpCiAgICAgICAgaWYgc2VsZi5leGl0OgogICAgICAgICAgICBzeXMuZXhpdChub3Qgc2VsZi5yZXN1bHQud2FzU3VjY2Vzc2Z1bCgpKQoKbWFpbiA9IFRlc3RQcm9ncmFtCg==',
'/Lib/ui/uiBase.py':'aW1wb3J0IHB5ZG9tCgpjbGFzcyB1aUJhc2U6CiAgZGVmIF9faW5pdF9fKHNlbGYsIGVsZW1lbnQ9Tm9uZSk6CiAgICAgIHNlbGYuX2VsZW1lbnQ9ZWxlbWVudAoKICBkZWYgX29yaWdpbmFsQ3NzKHNlbGYpOgogICAgICBwYXNzCg==',
'/Lib/ui/toggleSwitch.py':'IyMjIyB0cmFuc2xhdGVkICBmcm9tIGpRdWVyeSB0b2dnbGVTd2l0Y2gKCiN0b2RvLCBtdXN0IGltcGxlbWVudCBqUXVlcnkuc2xpZGVyIHdpZGdldCBmaXJzdC4uCgoiIiIKalF1ZXJ5LmZuLnRvZ2dsZVN3aXRjaCA9IGZ1bmN0aW9uIChwYXJhbXMpIHsKCiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgICAgaGlnaGxpZ2h0OiB0cnVlLAogICAgICAgIHdpZHRoOiAyNSwKICAgICAgICBjaGFuZ2U6IG51bGwKICAgIH07CgogICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHBhcmFtcyk7CgogICAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uIChpLCBpdGVtKSB7CiAgICAgICAgZ2VuZXJhdGVUb2dnbGUoaXRlbSk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBnZW5lcmF0ZVRvZ2dsZShzZWxlY3RPYmopIHsKCiAgICAgICAgLy8gY3JlYXRlIGNvbnRhaW5pbmcgZWxlbWVudAogICAgICAgIHZhciAkY29udGFpbiA9ICQoIjxkaXYgLz4iKS5hZGRDbGFzcygidWktdG9nZ2xlLXN3aXRjaCIpOwoKICAgICAgICAvLyBnZW5lcmF0ZSBsYWJlbHMKICAgICAgICAkKHNlbGVjdE9iaikuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkgewogICAgICAgICAgICAkY29udGFpbi5hcHBlbmQoIjxsYWJlbD4iICsgJChpdGVtKS50ZXh0KCkgKyAiPC9sYWJlbD4iKTsKICAgICAgICB9KS5lbmQoKS5hZGRDbGFzcygidWktdG9nZ2xlLXN3aXRjaCIpOwoKICAgICAgICAvLyBnZW5lcmF0ZSBzbGlkZXIgd2l0aCBlc3RhYmxpc2hlZCBvcHRpb25zCiAgICAgICAgdmFyICRzbGlkZXIgPSAkKCI8ZGl2IC8+Iikuc2xpZGVyKHsKICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICBtYXg6IDEwMCwKICAgICAgICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICAgICAgICBjaGFuZ2U6IG9wdGlvbnMuY2hhbmdlLAogICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoZSwgdWkpIHsKICAgICAgICAgICAgICAgIHZhciByb3VuZGVkVmFsID0gTWF0aC5yb3VuZCh1aS52YWx1ZSAvIDEwMCk7CiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlVmFsdWUoc2VsZi5wYXJlbnROb2RlLCByb3VuZGVkVmFsKTsKICAgICAgICAgICAgICAgIH0sIDExKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmFuZ2U6IChvcHRpb25zLmhpZ2hsaWdodCAmJiAhJChzZWxlY3RPYmopLmRhdGEoImhpZGVIaWdobGlnaHQiKSkgPyAibWF4IiA6IG51bGwKICAgICAgICB9KS53aWR0aChvcHRpb25zLndpZHRoKTsKCiAgICAgICAgLy8gcHV0IHNsaWRlciBpbiB0aGUgbWlkZGxlCiAgICAgICAgJHNsaWRlci5pbnNlcnRBZnRlcigKICAgICAgICAgICAgJGNvbnRhaW4uY2hpbGRyZW4oKS5lcSgwKQoJCSk7CgogICAgICAgIC8vIGJpbmQgaW50ZXJhY3Rpb24KICAgICAgICAkY29udGFpbi5kZWxlZ2F0ZSgibGFiZWwiLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsYWJlbEluZGV4ID0gKCQodGhpcykuaXMoIjpmaXJzdC1jaGlsZCIpKSA/IDAgOiAxOwogICAgICAgICAgICB0b2dnbGVWYWx1ZSh0aGlzLnBhcmVudE5vZGUsIGxhYmVsSW5kZXgpOwogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiB0b2dnbGVWYWx1ZShzbGlkZUNvbnRhaW4sIGluZGV4KSB7CiAgICAgICAgICAgICQoc2xpZGVDb250YWluKS5maW5kKCJsYWJlbCIpLmVxKGluZGV4KS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikuc2libGluZ3MoImxhYmVsIikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpOwogICAgICAgICAgICAkKHNsaWRlQ29udGFpbikucGFyZW50KCkuZmluZCgib3B0aW9uIikuZXEoaW5kZXgpLmF0dHIoInNlbGVjdGVkIiwgdHJ1ZSk7CiAgICAgICAgICAgICQoc2xpZGVDb250YWluKS5maW5kKCIudWktc2xpZGVyIikuc2xpZGVyKCJ2YWx1ZSIsIGluZGV4ICogMTAwKTsKICAgICAgICB9CgogICAgICAgIC8vIGluaXRpYWxpc2Ugc2VsZWN0ZWQgb3B0aW9uCiAgICAgICAgJGNvbnRhaW4uZmluZCgibGFiZWwiKS5lcShzZWxlY3RPYmouc2VsZWN0ZWRJbmRleCkuY2xpY2soKTsKCiAgICAgICAgLy8gYWRkIHRvIERPTQogICAgICAgICQoc2VsZWN0T2JqKS5wYXJlbnQoKS5hcHBlbmQoJGNvbnRhaW4pOwogICAgfQp9OwoiIiIKIyMjIyMjIyMKCmltcG9ydCBweWRvbQoKY2xhc3MgdG9nZ2xlU3dpdGNoKHVpQmFzZSk6CiAgZGVmIF9faW5pdF9fKHNlbGYsIGhpZ2hsaWdodD1UcnVlLCB3aWR0aD0yNSwgY2hhbmdlPU5vbmUsICoqa3dhcmdzKToKICAgICAgc2VsZi5fd2lkdGg9d2lkdGgKICAgICAgc2VsZi5fY2hhbmdlPWNoYW5nZQogICAgICBzZWxmLl9yYW5nZT1oaWdobGlnaHQgYW5kIG5vdCBweWRvbS5TZWxlY3RvcihzZWxlY3RPYmopLmdldCgpLmRhdGEoImhpZGVIaWdobGlnaHQiKSkgPyAibWF4IiA6IE5vbmUKCiAgZGVmIGdlbmVyYXRlVG9nZ2xlKHNlbGYsIHNlbGVjdE9iaik6CiAgICAgIF9jb250YWluID0gcHlkb20uQ3JlYXRlTm9kZSgiZGl2IikuYWRkQ2xhc3MoInVpLXRvZ2dsZS1zd2l0Y2giKQogICAgICBfb3B0aW9ucz1weWRvbS5TZWxlY3RvcihzZWxlY3RPYmopLmdldCgpLmZpbmQoIm9wdGlvbiIpCgogICAgICBmb3IgX29wdGlvbiBpbiBfb3B0aW9uczoKICAgICAgICAgIF90ZXh0PXB5ZG9tLlNlbGVjdG9yKF9vcHRpb25bMV0pLmdldCgpLnRleHQoKSAKICAgICAgICAgIF9jb250YWluLmFwcGVuZCgiPGxhYmVsPiVzPC9sYWJlbD4iICUgX3RleHQpLmVuZCgpLmFkZENsYXNzKCJ1aS10b2dnbGUtc3dpdGNoIikKCiAgICAgIF9zbGlkZXI9cHlkb20uQ3JlYXRlTm9kZSgiPGRpdiIpLnNsaWRlcihtaW49MCwgbWF4PTEwMCwgYW5pbWF0ZT0iZmFzdCIsCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlPSBzZWxmLl9jaGFuZ2UsIHN0b3A9c2VsZi5fc3RvcCwgcmFuZ2U9c2VsZi5fcmFuZ2UpCiAgICAgIF9zbGlkZXIud2lkdGgoc2VsZi5fd2lkdGgpCgogICAgICAjIGluaXRpYWxpc2Ugc2VsZWN0ZWQgb3B0aW9uCiAgICAgIF9jb250YWluLmZpbmQoImxhYmVsIikuZXEoc2VsZWN0T2JqLnNlbGVjdGVkSW5kZXgpLmNsaWNrKCk7CgogICAgICAvLyBhZGQgdG8gRE9NCiAgICAgIHNlbGVjdE9iai5wYXJlbnQoKS5hcHBlbmQoX2NvbnRhaW4pCgoKICAgZGVmIF9zdG9wKHNlbGYsIGUsIHVpKToKICAgICAgIF92YWx1ZSA9IG1hdGgucm91bmQodWkudmFsdWUvMTAwKQogICAgICAgdGltZS5zZXRfdGltZW91dCh0b2dnbGVWYWx1ZShzZWxmLnBhcmVudE5vZGUsIF92YWx1ZSksIDExKQoKICAgICAgIF9zbGlkZXIuaW5zZXJ0QWZ0ZXIoX2NvbnRhaW4uY2hpbGRyZW4oKS5lcSgwKSkKICAgICAgIF9jb250YWluLm9uKCJsYWJlbCIsICJjbGljayIsIHNlbGYub25jbGljaykKCiAgIGRlZiBvbmNsaWNrKHNlbGYpOgogICAgICAgaWYgc2VsZi5oYXNDbGFzcygidWktc3RhdGUtYWN0aXZlIik6CiAgICAgICAgICByZXR1cm4KICAgICAgIF9sYWJlbEluZGV4ID0gc2VsZi5pc18oIjpmaXJzdC1jaGlsZCIpID8gMCA6IDEKICAgICAgIHNlbGYuX3RvZ2dsZVZhbHVlKHNlbGYucGFyZW50Tm9kZSwgX2xhYmVsSW5kZXgpCgogICBkZWYgX3RvZ2dsZVZhbHVlKHNlbGYsIHNsaWRlQ29udGFpbiwgaW5kZXgpOgogICAgICAgX3NsaWRlQ29udGFpbj1weWRvbS5TZWxlY3RvcihzbGlkZUNvbnRhaW4pLmdldCgpCiAgICAgICBfc2xpZGVDb250YWluLmZpbmQoImxhYmVsIikuZXEoaW5kZXgpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5zaWJsaW5ncygibGFiZWwiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIik7CiAgICAgICBfc2xpZGVDb250YWluLnBhcmVudCgpLmZpbmQoIm9wdGlvbiIpLmVxKGluZGV4KS5hdHRyKCJzZWxlY3RlZCIsIHRydWUpOwogICAgICAgX3NsaWRlQ29udGFpbi5maW5kKCIudWktc2xpZGVyIikuc2xpZGVyKCJ2YWx1ZSIsIGluZGV4ICogMTAwKTsKCg==',
'/Lib/ui/dialog.py':'aW1wb3J0IHVpQmFzZQoKY2xhc3MgZGlhbG9nKHVpQmFzZS51aUJhc2UpOgogIGRlZiBfX2luaXRfXyhzZWxmLCBhcHBlbmRUbz0iYm9keSIsIGF1dG9PcGVuPVRydWUsIGJ1dHRvbnM9W10sCiAgICAgICAgICAgICAgIGNsb3NlT25Fc2NhcGU9VHJ1ZSwgY2xvc2VUZXh0PSJjbG9zZSIsIGRpYWxvZ0NsYXNzPSIiLAogICAgICAgICAgICAgICBkcmFnZ2FibGU9VHJ1ZSwgaGlkZT1Ob25lLCBoZWlnaHQ9ImF1dG8iLCBtYXhIZWlnaHQ9Tm9uZSwKICAgICAgICAgICAgICAgbWF4V2lkdGg9Tm9uZSwgbWluSGVpZ2h0PTE1MCwgbWluV2lkdGg9MTUwLCBtb2RhbD1GYWxzZSwKICAgICAgICAgICAgICAgIyB0b2RvIHBvc2l0aW9uIGFyZ3VtZW50IChtYXliZSBhIGNsYXNzPykKICAgICAgICAgICAgICAgcmVzaXplYWJsZT1UcnVlLCBzaG93PU5vbmUsIHRpdGxlPU5vbmUsIHdpZHRoOjMwMCwKICAgICAgICAgICAgICAgIyBjYWxsYmFja3MKICAgICAgICAgICAgICAgYmVmb3JlQ2xvc2U9Tm9uZSwgY2xvc2U9Tm9uZSwgZHJhZz1Ob25lLCBkcmFnU3RhcnQ9Tm9uZSwKICAgICAgICAgICAgICAgZHJhZ1N0b3A9Tm9uZSwgZm9jdXM9Tm9uZSwgb3Blbj1Ob25lLCByZXNpemU9Tm9uZSwKICAgICAgICAgICAgICAgcmVzaXplU3RhcnQ9Tm9uZSwgcmVzaXplU3RvcD1Ob25lKToKICAgICAgdWlCYXNlLnVpQmFzZS5fX2luaXRfXyhzZWxmKQoKICBkZWYgX2NyZWF0ZShzZWxmKToKICAgICAgc2VsZi5fb3JpZ2luYWxDc3M9dWlCYXNlLnVpQmFzZS5fb3JpZ2luYWxDc3Moc2VsZikK'
}


function readFromVFS(lib){
   //borrowed code from http://stackoverflow.com/questions/1119722/base-62-conversion-in-python
   if (window.atob === undefined) {
      // browser is not chrome, firefox or safari :(
      window.atob=function(s) {
        var e={},i,k,v=[],r='',w=String.fromCharCode;
        var n=[[65,91],[97,123],[48,58],[43,44],[47,48]];

        for(z in n){for(i=n[z][0];i<n[z][1];i++){v.push(w(i));}}
        for(i=0;i<64;i++){e[v[i]]=i;}

        for(i=0;i<s.length;i+=72){
           var b=0,c,x,l=0,o=s.substring(i,i+72);
           for(x=0;x<o.length;x++){
              c=e[o.charAt(x)];b=(b<<6)+c;l+=6;
              while(l>=8){r+=w((b>>>(l-=8))%256);}
           }
        }
        return r;
      }
   }

   if (__BRYTHON__.$py_VFS[lib] === undefined) return undefined
   //retrieve module from virutal file system and return contents
   return window.atob(__BRYTHON__.$py_VFS[lib])
}

//define import procedure to look up module in VFS
$import_via_VFS=function(module,alias,names){
  var ext=['.js', '.py']
  var search_path=__BRYTHON__.path
  var root = __BRYTHON__.brython_path;
  if (root.endswith('/')) {
     root=root.substring(0,root.length-1); 
  }
  if (search_path.indexOf(root+'/libs') == -1) {
     search_path.unshift(root+'/libs')
  }

  if (search_path.indexOf(root+'/Lib') == -1) {
     search_path.unshift(root+'/Lib')
  }

  for(var i=0; i<search_path.length; i++) {
     for (var j=0; j<ext.length; j++) {
         var path=search_path[i].replace(root, '')
         path+='/'+module+ext[j]
         
         //console.log("searching for " + path + " in VFS");
         var module_contents=readFromVFS(path)
         if(module_contents !== undefined) {
           console.log("imported ("+module+") via VFS:" + path)
           if (ext[j] == '.js') {
              return $import_js_module(module,alias,names,path,module_contents)
           }
           return $import_py_module(module,alias,names,path,module_contents)
         }
     }
  }
  res = Error()
  res.name = 'NotFoundError'
  res.message = "No module named '"+module+"'"
  throw res
}
$import_funcs.unshift($import_via_VFS)
  